var zj=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Bre=zj((Wre,wp)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function T0(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const mt={},qu=[],hi=()=>{},Kj=()=>!1,Qj=/^on[^a-z]/,wv=t=>Qj.test(t),I0=t=>t.startsWith("onUpdate:"),yn=Object.assign,S0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Xj=Object.prototype.hasOwnProperty,Ke=(t,e)=>Xj.call(t,e),Ne=Array.isArray,Wu=t=>bv(t)==="[object Map]",jk=t=>bv(t)==="[object Set]",De=t=>typeof t=="function",Qt=t=>typeof t=="string",C0=t=>typeof t=="symbol",At=t=>t!==null&&typeof t=="object",Vk=t=>At(t)&&De(t.then)&&De(t.catch),Bk=Object.prototype.toString,bv=t=>Bk.call(t),Jj=t=>bv(t).slice(8,-1),qk=t=>bv(t)==="[object Object]",A0=t=>Qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,tp=T0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ev=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Zj=/-(\w)/g,$i=Ev(t=>t.replace(Zj,(e,n)=>n?n.toUpperCase():"")),e4=/\B([A-Z])/g,Va=Ev(t=>t.replace(e4,"-$1").toLowerCase()),Tv=Ev(t=>t.charAt(0).toUpperCase()+t.slice(1)),r_=Ev(t=>t?`on${Tv(t)}`:""),yf=(t,e)=>!Object.is(t,e),np=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},bp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ow=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let aC;const sw=()=>aC||(aC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function N0(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Qt(r)?i4(r):N0(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Qt(t))return t;if(At(t))return t}}const t4=/;(?![^(]*\))/g,n4=/:([^]+)/,r4=/\/\*[^]*?\*\//g;function i4(t){const e={};return t.replace(r4,"").split(t4).forEach(n=>{if(n){const r=n.split(n4);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function qi(t){let e="";if(Qt(t))e=t;else if(Ne(t))for(let n=0;n<t.length;n++){const r=qi(t[n]);r&&(e+=r+" ")}else if(At(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const o4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",s4=T0(o4);function Wk(t){return!!t||t===""}const Ve=t=>Qt(t)?t:t==null?"":Ne(t)||At(t)&&(t.toString===Bk||!De(t.toString))?JSON.stringify(t,Hk,2):String(t),Hk=(t,e)=>e&&e.__v_isRef?Hk(t,e.value):Wu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:jk(e)?{[`Set(${e.size})`]:[...e.values()]}:At(e)&&!Ne(e)&&!qk(e)?String(e):e;let ii;class a4{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ii,!e&&ii&&(this.index=(ii.scopes||(ii.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ii;try{return ii=this,e()}finally{ii=n}}}on(){ii=this}off(){ii=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function u4(t,e=ii){e&&e.active&&e.effects.push(t)}function c4(){return ii}const k0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Gk=t=>(t.w&Is)>0,$k=t=>(t.n&Is)>0,l4=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Is},f4=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Gk(i)&&!$k(i)?i.delete(t):e[n++]=i,i.w&=~Is,i.n&=~Is}e.length=n}},aw=new WeakMap;let Xl=0,Is=1;const uw=30;let si;const wa=Symbol(""),cw=Symbol("");class x0{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,u4(this,r)}run(){if(!this.active)return this.fn();let e=si,n=vs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=si,si=this,vs=!0,Is=1<<++Xl,Xl<=uw?l4(this):uC(this),this.fn()}finally{Xl<=uw&&f4(this),Is=1<<--Xl,si=this.parent,vs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){si===this?this.deferStop=!0:this.active&&(uC(this),this.onStop&&this.onStop(),this.active=!1)}}function uC(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let vs=!0;const Yk=[];function Pc(){Yk.push(vs),vs=!1}function Dc(){const t=Yk.pop();vs=t===void 0?!0:t}function gr(t,e,n){if(vs&&si){let r=aw.get(t);r||aw.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=k0()),zk(i)}}function zk(t,e){let n=!1;Xl<=uw?$k(t)||(t.n|=Is,n=!Gk(t)):n=!t.has(si),n&&(t.add(si),si.deps.push(t))}function Ao(t,e,n,r,i,s){const a=aw.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&Ne(t)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),e){case"add":Ne(t)?A0(n)&&c.push(a.get("length")):(c.push(a.get(wa)),Wu(t)&&c.push(a.get(cw)));break;case"delete":Ne(t)||(c.push(a.get(wa)),Wu(t)&&c.push(a.get(cw)));break;case"set":Wu(t)&&c.push(a.get(wa));break}if(c.length===1)c[0]&&lw(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);lw(k0(l))}}function lw(t,e){const n=Ne(t)?t:[...t];for(const r of n)r.computed&&cC(r);for(const r of n)r.computed||cC(r)}function cC(t,e){(t!==si||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const h4=T0("__proto__,__v_isRef,__isVue"),Kk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(C0)),d4=R0(),p4=R0(!1,!0),v4=R0(!0),lC=g4();function g4(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=nt(this);for(let s=0,a=this.length;s<a;s++)gr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(nt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Pc();const r=nt(this)[e].apply(this,n);return Dc(),r}}),t}function m4(t){const e=nt(this);return gr(e,"has",t),e.hasOwnProperty(t)}function R0(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?P4:ex:e?Zk:Jk).get(r))return r;const a=Ne(r);if(!t){if(a&&Ke(lC,i))return Reflect.get(lC,i,s);if(i==="hasOwnProperty")return m4}const c=Reflect.get(r,i,s);return(C0(i)?Kk.has(i):h4(i))||(t||gr(r,"get",i),e)?c:Pn(c)?a&&A0(i)?c:c.value:At(c)?t?nx(c):nh(c):c}}const y4=Qk(),_4=Qk(!0);function Qk(t=!1){return function(n,r,i,s){let a=n[r];if(rc(a)&&Pn(a)&&!Pn(i))return!1;if(!t&&(!Ep(i)&&!rc(i)&&(a=nt(a),i=nt(i)),!Ne(n)&&Pn(a)&&!Pn(i)))return a.value=i,!0;const c=Ne(n)&&A0(r)?Number(r)<n.length:Ke(n,r),l=Reflect.set(n,r,i,s);return n===nt(s)&&(c?yf(i,a)&&Ao(n,"set",r,i):Ao(n,"add",r,i)),l}}function w4(t,e){const n=Ke(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Ao(t,"delete",e,void 0),r}function b4(t,e){const n=Reflect.has(t,e);return(!C0(e)||!Kk.has(e))&&gr(t,"has",e),n}function E4(t){return gr(t,"iterate",Ne(t)?"length":wa),Reflect.ownKeys(t)}const Xk={get:d4,set:y4,deleteProperty:w4,has:b4,ownKeys:E4},T4={get:v4,set(t,e){return!0},deleteProperty(t,e){return!0}},I4=yn({},Xk,{get:p4,set:_4}),O0=t=>t,Iv=t=>Reflect.getPrototypeOf(t);function Rd(t,e,n=!1,r=!1){t=t.__v_raw;const i=nt(t),s=nt(e);n||(e!==s&&gr(i,"get",e),gr(i,"get",s));const{has:a}=Iv(i),c=r?O0:n?M0:_f;if(a.call(i,e))return c(t.get(e));if(a.call(i,s))return c(t.get(s));t!==i&&t.get(e)}function Od(t,e=!1){const n=this.__v_raw,r=nt(n),i=nt(t);return e||(t!==i&&gr(r,"has",t),gr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Pd(t,e=!1){return t=t.__v_raw,!e&&gr(nt(t),"iterate",wa),Reflect.get(t,"size",t)}function fC(t){t=nt(t);const e=nt(this);return Iv(e).has.call(e,t)||(e.add(t),Ao(e,"add",t,t)),this}function hC(t,e){e=nt(e);const n=nt(this),{has:r,get:i}=Iv(n);let s=r.call(n,t);s||(t=nt(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?yf(e,a)&&Ao(n,"set",t,e):Ao(n,"add",t,e),this}function dC(t){const e=nt(this),{has:n,get:r}=Iv(e);let i=n.call(e,t);i||(t=nt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Ao(e,"delete",t,void 0),s}function pC(){const t=nt(this),e=t.size!==0,n=t.clear();return e&&Ao(t,"clear",void 0,void 0),n}function Dd(t,e){return function(r,i){const s=this,a=s.__v_raw,c=nt(a),l=e?O0:t?M0:_f;return!t&&gr(c,"iterate",wa),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function Md(t,e,n){return function(...r){const i=this.__v_raw,s=nt(i),a=Wu(s),c=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,h=i[t](...r),d=n?O0:e?M0:_f;return!e&&gr(s,"iterate",l?cw:wa),{next(){const{value:v,done:g}=h.next();return g?{value:v,done:g}:{value:c?[d(v[0]),d(v[1])]:d(v),done:g}},[Symbol.iterator](){return this}}}}function Qo(t){return function(...e){return t==="delete"?!1:this}}function S4(){const t={get(s){return Rd(this,s)},get size(){return Pd(this)},has:Od,add:fC,set:hC,delete:dC,clear:pC,forEach:Dd(!1,!1)},e={get(s){return Rd(this,s,!1,!0)},get size(){return Pd(this)},has:Od,add:fC,set:hC,delete:dC,clear:pC,forEach:Dd(!1,!0)},n={get(s){return Rd(this,s,!0)},get size(){return Pd(this,!0)},has(s){return Od.call(this,s,!0)},add:Qo("add"),set:Qo("set"),delete:Qo("delete"),clear:Qo("clear"),forEach:Dd(!0,!1)},r={get(s){return Rd(this,s,!0,!0)},get size(){return Pd(this,!0)},has(s){return Od.call(this,s,!0)},add:Qo("add"),set:Qo("set"),delete:Qo("delete"),clear:Qo("clear"),forEach:Dd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Md(s,!1,!1),n[s]=Md(s,!0,!1),e[s]=Md(s,!1,!0),r[s]=Md(s,!0,!0)}),[t,n,e,r]}const[C4,A4,N4,k4]=S4();function P0(t,e){const n=e?t?k4:N4:t?A4:C4;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ke(n,i)&&i in r?n:r,i,s)}const x4={get:P0(!1,!1)},R4={get:P0(!1,!0)},O4={get:P0(!0,!1)},Jk=new WeakMap,Zk=new WeakMap,ex=new WeakMap,P4=new WeakMap;function D4(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function M4(t){return t.__v_skip||!Object.isExtensible(t)?0:D4(Jj(t))}function nh(t){return rc(t)?t:D0(t,!1,Xk,x4,Jk)}function tx(t){return D0(t,!1,I4,R4,Zk)}function nx(t){return D0(t,!0,T4,O4,ex)}function D0(t,e,n,r,i){if(!At(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=M4(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return i.set(t,c),c}function Hu(t){return rc(t)?Hu(t.__v_raw):!!(t&&t.__v_isReactive)}function rc(t){return!!(t&&t.__v_isReadonly)}function Ep(t){return!!(t&&t.__v_isShallow)}function rx(t){return Hu(t)||rc(t)}function nt(t){const e=t&&t.__v_raw;return e?nt(e):t}function ix(t){return bp(t,"__v_skip",!0),t}const _f=t=>At(t)?nh(t):t,M0=t=>At(t)?nx(t):t;function ox(t){vs&&si&&(t=nt(t),zk(t.dep||(t.dep=k0())))}function sx(t,e){t=nt(t);const n=t.dep;n&&lw(n)}function Pn(t){return!!(t&&t.__v_isRef===!0)}function dt(t){return ax(t,!1)}function L4(t){return ax(t,!0)}function ax(t,e){return Pn(t)?t:new F4(t,e)}class F4{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:nt(e),this._value=n?e:_f(e)}get value(){return ox(this),this._value}set value(e){const n=this.__v_isShallow||Ep(e)||rc(e);e=n?e:nt(e),yf(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:_f(e),sx(this))}}function Gu(t){return Pn(t)?t.value:t}const U4={get:(t,e,n)=>Gu(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Pn(i)&&!Pn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function ux(t){return Hu(t)?t:new Proxy(t,U4)}class j4{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new x0(e,()=>{this._dirty||(this._dirty=!0,sx(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=nt(this);return ox(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function V4(t,e,n=!1){let r,i;const s=De(t);return s?(r=t,i=hi):(r=t.get,i=t.set),new j4(r,i,s||!i,n)}function gs(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Sv(s,e,n)}return i}function di(t,e,n,r){if(De(t)){const s=gs(t,e,n,r);return s&&Vk(s)&&s.catch(a=>{Sv(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(di(t[s],e,n,r));return i}function Sv(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,a,c)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){gs(l,null,10,[t,a,c]);return}}B4(t,n,i,r)}function B4(t,e,n,r=!0){console.error(t)}let wf=!1,fw=!1;const On=[];let Li=0;const $u=[];let po=null,ca=0;const cx=Promise.resolve();let L0=null;function lx(t){const e=L0||cx;return t?e.then(this?t.bind(this):t):e}function q4(t){let e=Li+1,n=On.length;for(;e<n;){const r=e+n>>>1;bf(On[r])<t?e=r+1:n=r}return e}function F0(t){(!On.length||!On.includes(t,wf&&t.allowRecurse?Li+1:Li))&&(t.id==null?On.push(t):On.splice(q4(t.id),0,t),fx())}function fx(){!wf&&!fw&&(fw=!0,L0=cx.then(dx))}function W4(t){const e=On.indexOf(t);e>Li&&On.splice(e,1)}function H4(t){Ne(t)?$u.push(...t):(!po||!po.includes(t,t.allowRecurse?ca+1:ca))&&$u.push(t),fx()}function vC(t,e=wf?Li+1:0){for(;e<On.length;e++){const n=On[e];n&&n.pre&&(On.splice(e,1),e--,n())}}function hx(t){if($u.length){const e=[...new Set($u)];if($u.length=0,po){po.push(...e);return}for(po=e,po.sort((n,r)=>bf(n)-bf(r)),ca=0;ca<po.length;ca++)po[ca]();po=null,ca=0}}const bf=t=>t.id==null?1/0:t.id,G4=(t,e)=>{const n=bf(t)-bf(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function dx(t){fw=!1,wf=!0,On.sort(G4);const e=hi;try{for(Li=0;Li<On.length;Li++){const n=On[Li];n&&n.active!==!1&&gs(n,null,14)}}finally{Li=0,On.length=0,hx(),wf=!1,L0=null,(On.length||$u.length)&&dx()}}function $4(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||mt;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:g}=r[d]||mt;g&&(i=n.map(y=>Qt(y)?y.trim():y)),v&&(i=n.map(ow))}let c,l=r[c=r_(e)]||r[c=r_($i(e))];!l&&s&&(l=r[c=r_(Va(e))]),l&&di(l,t,6,i);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,di(h,t,6,i)}}function px(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},c=!1;if(!De(t)){const l=h=>{const d=px(h,e,!0);d&&(c=!0,yn(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!c?(At(t)&&r.set(t,null),null):(Ne(s)?s.forEach(l=>a[l]=null):yn(a,s),At(t)&&r.set(t,a),a)}function Cv(t,e){return!t||!wv(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ke(t,e[0].toLowerCase()+e.slice(1))||Ke(t,Va(e))||Ke(t,e))}let qr=null,vx=null;function Tp(t){const e=qr;return qr=t,vx=t&&t.type.__scopeId||null,e}function ic(t,e=qr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&CC(-1);const s=Tp(e);let a;try{a=t(...i)}finally{Tp(s),r._d&&CC(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function i_(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:g,setupState:y,ctx:w,inheritAttrs:E}=t;let T,N;const P=Tp(t);try{if(n.shapeFlag&4){const U=i||r;T=Mi(d.call(U,U,v,s,y,g,w)),N=l}else{const U=e;T=Mi(U.length>1?U(s,{attrs:l,slots:c,emit:h}):U(s,null)),N=e.props?l:Y4(l)}}catch(U){of.length=0,Sv(U,t,1),T=Ct(xa)}let M=T;if(N&&E!==!1){const U=Object.keys(N),{shapeFlag:X}=M;U.length&&X&7&&(a&&U.some(I0)&&(N=z4(N,a)),M=sc(M,N))}return n.dirs&&(M=sc(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),T=M,Tp(P),T}const Y4=t=>{let e;for(const n in t)(n==="class"||n==="style"||wv(n))&&((e||(e={}))[n]=t[n]);return e},z4=(t,e)=>{const n={};for(const r in t)(!I0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function K4(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:c,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?gC(r,a,h):!!a;if(l&8){const d=e.dynamicProps;for(let v=0;v<d.length;v++){const g=d[v];if(a[g]!==r[g]&&!Cv(h,g))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?gC(r,a,h):!0:!!a;return!1}function gC(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Cv(n,s))return!0}return!1}function Q4({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const X4=t=>t.__isSuspense;function J4(t,e){e&&e.pendingBranch?Ne(t)?e.effects.push(...t):e.effects.push(t):H4(t)}const Ld={};function Yu(t,e,n){return gx(t,e,n)}function gx(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=mt){var c;const l=c4()===((c=In)==null?void 0:c.scope)?In:null;let h,d=!1,v=!1;if(Pn(t)?(h=()=>t.value,d=Ep(t)):Hu(t)?(h=()=>t,r=!0):Ne(t)?(v=!0,d=t.some(U=>Hu(U)||Ep(U)),h=()=>t.map(U=>{if(Pn(U))return U.value;if(Hu(U))return da(U);if(De(U))return gs(U,l,2)})):De(t)?e?h=()=>gs(t,l,2):h=()=>{if(!(l&&l.isUnmounted))return g&&g(),di(t,l,3,[y])}:h=hi,e&&r){const U=h;h=()=>da(U())}let g,y=U=>{g=P.onStop=()=>{gs(U,l,4)}},w;if(Tf)if(y=hi,e?n&&di(e,l,3,[h(),v?[]:void 0,y]):h(),i==="sync"){const U=WV();w=U.__watcherHandles||(U.__watcherHandles=[])}else return hi;let E=v?new Array(t.length).fill(Ld):Ld;const T=()=>{if(P.active)if(e){const U=P.run();(r||d||(v?U.some((X,j)=>yf(X,E[j])):yf(U,E)))&&(g&&g(),di(e,l,3,[U,E===Ld?void 0:v&&E[0]===Ld?[]:E,y]),E=U)}else P.run()};T.allowRecurse=!!e;let N;i==="sync"?N=T:i==="post"?N=()=>lr(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),N=()=>F0(T));const P=new x0(h,N);e?n?T():E=P.run():i==="post"?lr(P.run.bind(P),l&&l.suspense):P.run();const M=()=>{P.stop(),l&&l.scope&&S0(l.scope.effects,P)};return w&&w.push(M),M}function Z4(t,e,n){const r=this.proxy,i=Qt(t)?t.includes(".")?mx(r,t):()=>r[t]:t.bind(r,r);let s;De(e)?s=e:(s=e.handler,n=e);const a=In;ac(this);const c=gx(i,s.bind(r),n);return a?ac(a):ba(),c}function mx(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function da(t,e){if(!At(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Pn(t))da(t.value,e);else if(Ne(t))for(let n=0;n<t.length;n++)da(t[n],e);else if(jk(t)||Wu(t))t.forEach(n=>{da(n,e)});else if(qk(t))for(const n in t)da(t[n],e);return t}function ms(t,e){const n=qr;if(n===null)return t;const r=xv(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,l,h=mt]=e[s];a&&(De(a)&&(a={mounted:a,updated:a}),a.deep&&da(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return t}function ia(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(Pc(),di(l,n,8,[t.el,c,t,e]),Dc())}}function yx(t,e){return De(t)?(()=>yn({name:t.name},e,{setup:t}))():t}const rp=t=>!!t.type.__asyncLoader,_x=t=>t.type.__isKeepAlive;function eV(t,e){wx(t,"a",e)}function tV(t,e){wx(t,"da",e)}function wx(t,e,n=In){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Av(e,r,n),n){let i=n.parent;for(;i&&i.parent;)_x(i.parent.vnode)&&nV(r,e,n,i),i=i.parent}}function nV(t,e,n,r){const i=Av(e,t,r,!0);bx(()=>{S0(r[e],i)},n)}function Av(t,e,n=In,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Pc(),ac(n);const c=di(e,n,t,a);return ba(),Dc(),c});return r?i.unshift(s):i.push(s),s}}const Mo=t=>(e,n=In)=>(!Tf||t==="sp")&&Av(t,(...r)=>e(...r),n),oc=Mo("bm"),rV=Mo("m"),iV=Mo("bu"),oV=Mo("u"),sV=Mo("bum"),bx=Mo("um"),aV=Mo("sp"),uV=Mo("rtg"),cV=Mo("rtc");function lV(t,e=In){Av("ec",t,e)}const U0="components";function An(t,e){return Tx(U0,t,!0,e)||t}const Ex=Symbol.for("v-ndc");function fV(t){return Qt(t)?Tx(U0,t,!1)||t:t||Ex}function Tx(t,e,n=!0,r=!1){const i=qr||In;if(i){const s=i.type;if(t===U0){const c=VV(s,!1);if(c&&(c===e||c===$i(e)||c===Tv($i(e))))return s}const a=mC(i[t]||s[t],e)||mC(i.appContext[t],e);return!a&&r?s:a}}function mC(t,e){return t&&(t[e]||t[$i(e)]||t[Tv($i(e))])}function No(t,e,n,r){let i;const s=n&&n[r];if(Ne(t)||Qt(t)){i=new Array(t.length);for(let a=0,c=t.length;a<c;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(At(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=e(t[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}const hw=t=>t?Mx(t)?xv(t)||t.proxy:hw(t.parent):null,rf=yn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hw(t.parent),$root:t=>hw(t.root),$emit:t=>t.emit,$options:t=>j0(t),$forceUpdate:t=>t.f||(t.f=()=>F0(t.update)),$nextTick:t=>t.n||(t.n=lx.bind(t.proxy)),$watch:t=>Z4.bind(t)}),o_=(t,e)=>t!==mt&&!t.__isScriptSetup&&Ke(t,e),hV={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=t;let h;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(o_(r,e))return a[e]=1,r[e];if(i!==mt&&Ke(i,e))return a[e]=2,i[e];if((h=t.propsOptions[0])&&Ke(h,e))return a[e]=3,s[e];if(n!==mt&&Ke(n,e))return a[e]=4,n[e];dw&&(a[e]=0)}}const d=rf[e];let v,g;if(d)return e==="$attrs"&&gr(t,"get",e),d(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==mt&&Ke(n,e))return a[e]=4,n[e];if(g=l.config.globalProperties,Ke(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return o_(i,e)?(i[e]=n,!0):r!==mt&&Ke(r,e)?(r[e]=n,!0):Ke(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||t!==mt&&Ke(t,a)||o_(e,a)||(c=s[0])&&Ke(c,a)||Ke(r,a)||Ke(rf,a)||Ke(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ke(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function yC(t){return Ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let dw=!0;function dV(t){const e=j0(t),n=t.proxy,r=t.ctx;dw=!1,e.beforeCreate&&_C(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:g,beforeUpdate:y,updated:w,activated:E,deactivated:T,beforeDestroy:N,beforeUnmount:P,destroyed:M,unmounted:U,render:X,renderTracked:j,renderTriggered:Se,errorCaptured:rt,serverPrefetch:pe,expose:_n,inheritAttrs:R,components:Ti,directives:kn,filters:Fs}=e;if(h&&pV(h,r,null),a)for(const Ye in a){const ze=a[Ye];De(ze)&&(r[Ye]=ze.bind(n))}if(i){const Ye=i.call(n,n);At(Ye)&&(t.data=nh(Ye))}if(dw=!0,s)for(const Ye in s){const ze=s[Ye],Nt=De(ze)?ze.bind(n,n):De(ze.get)?ze.get.bind(n,n):hi,Mr=!De(ze)&&De(ze.set)?ze.set.bind(n):hi,wn=en({get:Nt,set:Mr});Object.defineProperty(r,Ye,{enumerable:!0,configurable:!0,get:()=>wn.value,set:cn=>wn.value=cn})}if(c)for(const Ye in c)Ix(c[Ye],r,n,Ye);if(l){const Ye=De(l)?l.call(n):l;Reflect.ownKeys(Ye).forEach(ze=>{ip(ze,Ye[ze])})}d&&_C(d,t,"c");function wt(Ye,ze){Ne(ze)?ze.forEach(Nt=>Ye(Nt.bind(n))):ze&&Ye(ze.bind(n))}if(wt(oc,v),wt(rV,g),wt(iV,y),wt(oV,w),wt(eV,E),wt(tV,T),wt(lV,rt),wt(cV,j),wt(uV,Se),wt(sV,P),wt(bx,U),wt(aV,pe),Ne(_n))if(_n.length){const Ye=t.exposed||(t.exposed={});_n.forEach(ze=>{Object.defineProperty(Ye,ze,{get:()=>n[ze],set:Nt=>n[ze]=Nt})})}else t.exposed||(t.exposed={});X&&t.render===hi&&(t.render=X),R!=null&&(t.inheritAttrs=R),Ti&&(t.components=Ti),kn&&(t.directives=kn)}function pV(t,e,n=hi){Ne(t)&&(t=pw(t));for(const r in t){const i=t[r];let s;At(i)?"default"in i?s=pi(i.from||r,i.default,!0):s=pi(i.from||r):s=pi(i),Pn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function _C(t,e,n){di(Ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Ix(t,e,n,r){const i=r.includes(".")?mx(n,r):()=>n[r];if(Qt(t)){const s=e[t];De(s)&&Yu(i,s)}else if(De(t))Yu(i,t.bind(n));else if(At(t))if(Ne(t))t.forEach(s=>Ix(s,e,n,r));else{const s=De(t.handler)?t.handler.bind(n):e[t.handler];De(s)&&Yu(i,s,t)}}function j0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let l;return c?l=c:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(h=>Ip(l,h,a,!0)),Ip(l,e,a)),At(e)&&s.set(e,l),l}function Ip(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ip(t,s,n,!0),i&&i.forEach(a=>Ip(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=vV[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const vV={data:wC,props:bC,emits:bC,methods:Jl,computed:Jl,beforeCreate:Qn,created:Qn,beforeMount:Qn,mounted:Qn,beforeUpdate:Qn,updated:Qn,beforeDestroy:Qn,beforeUnmount:Qn,destroyed:Qn,unmounted:Qn,activated:Qn,deactivated:Qn,errorCaptured:Qn,serverPrefetch:Qn,components:Jl,directives:Jl,watch:mV,provide:wC,inject:gV};function wC(t,e){return e?t?function(){return yn(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function gV(t,e){return Jl(pw(t),pw(e))}function pw(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Qn(t,e){return t?[...new Set([].concat(t,e))]:e}function Jl(t,e){return t?yn(Object.create(null),t,e):e}function bC(t,e){return t?Ne(t)&&Ne(e)?[...new Set([...t,...e])]:yn(Object.create(null),yC(t),yC(e??{})):e}function mV(t,e){if(!t)return e;if(!e)return t;const n=yn(Object.create(null),t);for(const r in e)n[r]=Qn(t[r],e[r]);return n}function Sx(){return{app:null,config:{isNativeTag:Kj,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yV=0;function _V(t,e){return function(r,i=null){De(r)||(r=yn({},r)),i!=null&&!At(i)&&(i=null);const s=Sx(),a=new Set;let c=!1;const l=s.app={_uid:yV++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:HV,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&De(h.install)?(a.add(h),h.install(l,...d)):De(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const g=Ct(r,i);return g.appContext=s,d&&e?e(g,h):t(g,h,v),c=!0,l._container=h,h.__vue_app__=l,xv(g.component)||g.component.proxy}},unmount(){c&&(t(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){Sp=l;try{return h()}finally{Sp=null}}};return l}}let Sp=null;function ip(t,e){if(In){let n=In.provides;const r=In.parent&&In.parent.provides;r===n&&(n=In.provides=Object.create(r)),n[t]=e}}function pi(t,e,n=!1){const r=In||qr;if(r||Sp){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Sp._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&De(e)?e.call(r&&r.proxy):e}}function wV(t,e,n,r=!1){const i={},s={};bp(s,kv,1),t.propsDefaults=Object.create(null),Cx(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:tx(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function bV(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,c=nt(i),[l]=t.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let v=0;v<d.length;v++){let g=d[v];if(Cv(t.emitsOptions,g))continue;const y=e[g];if(l)if(Ke(s,g))y!==s[g]&&(s[g]=y,h=!0);else{const w=$i(g);i[w]=vw(l,c,w,y,t,!1)}else y!==s[g]&&(s[g]=y,h=!0)}}}else{Cx(t,e,i,s)&&(h=!0);let d;for(const v in c)(!e||!Ke(e,v)&&((d=Va(v))===v||!Ke(e,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=vw(l,c,v,void 0,t,!0)):delete i[v]);if(s!==c)for(const v in s)(!e||!Ke(e,v))&&(delete s[v],h=!0)}h&&Ao(t,"set","$attrs")}function Cx(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,c;if(e)for(let l in e){if(tp(l))continue;const h=e[l];let d;i&&Ke(i,d=$i(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:Cv(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=nt(n),h=c||mt;for(let d=0;d<s.length;d++){const v=s[d];n[v]=vw(i,l,v,h[v],t,!Ke(h,v))}}return a}function vw(t,e,n,r,i,s){const a=t[n];if(a!=null){const c=Ke(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&De(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(ac(i),r=h[n]=l.call(null,e),ba())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===Va(n))&&(r=!0))}return r}function Ax(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},c=[];let l=!1;if(!De(t)){const d=v=>{l=!0;const[g,y]=Ax(v,e,!0);yn(a,g),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return At(t)&&r.set(t,qu),qu;if(Ne(s))for(let d=0;d<s.length;d++){const v=$i(s[d]);EC(v)&&(a[v]=mt)}else if(s)for(const d in s){const v=$i(d);if(EC(v)){const g=s[d],y=a[v]=Ne(g)||De(g)?{type:g}:yn({},g);if(y){const w=SC(Boolean,y.type),E=SC(String,y.type);y[0]=w>-1,y[1]=E<0||w<E,(w>-1||Ke(y,"default"))&&c.push(v)}}}const h=[a,c];return At(t)&&r.set(t,h),h}function EC(t){return t[0]!=="$"}function TC(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function IC(t,e){return TC(t)===TC(e)}function SC(t,e){return Ne(e)?e.findIndex(n=>IC(n,t)):De(e)&&IC(e,t)?0:-1}const Nx=t=>t[0]==="_"||t==="$stable",V0=t=>Ne(t)?t.map(Mi):[Mi(t)],EV=(t,e,n)=>{if(e._n)return e;const r=ic((...i)=>V0(e(...i)),n);return r._c=!1,r},kx=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Nx(i))continue;const s=t[i];if(De(s))e[i]=EV(i,s,r);else if(s!=null){const a=V0(s);e[i]=()=>a}}},xx=(t,e)=>{const n=V0(e);t.slots.default=()=>n},TV=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=nt(e),bp(e,"_",n)):kx(e,t.slots={})}else t.slots={},e&&xx(t,e);bp(t.slots,kv,1)},IV=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=mt;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(yn(i,e),!n&&c===1&&delete i._):(s=!e.$stable,kx(e,i)),a=e}else e&&(xx(t,e),a={default:1});if(s)for(const c in i)!Nx(c)&&!(c in a)&&delete i[c]};function gw(t,e,n,r,i=!1){if(Ne(t)){t.forEach((g,y)=>gw(g,e&&(Ne(e)?e[y]:e),n,r,i));return}if(rp(r)&&!i)return;const s=r.shapeFlag&4?xv(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=t,h=e&&e.r,d=c.refs===mt?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&(Qt(h)?(d[h]=null,Ke(v,h)&&(v[h]=null)):Pn(h)&&(h.value=null)),De(l))gs(l,c,12,[a,d]);else{const g=Qt(l),y=Pn(l);if(g||y){const w=()=>{if(t.f){const E=g?Ke(v,l)?v[l]:d[l]:l.value;i?Ne(E)&&S0(E,s):Ne(E)?E.includes(s)||E.push(s):g?(d[l]=[s],Ke(v,l)&&(v[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else g?(d[l]=a,Ke(v,l)&&(v[l]=a)):y&&(l.value=a,t.k&&(d[t.k]=a))};a?(w.id=-1,lr(w,n)):w()}}}const lr=J4;function SV(t){return CV(t)}function CV(t,e){const n=sw();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:g,setScopeId:y=hi,insertStaticContent:w}=t,E=(S,A,O,L=null,B=null,q=null,re=!1,z=null,Z=!!A.dynamicChildren)=>{if(S===A)return;S&&!jl(S,A)&&(L=V(S),cn(S,B,q,!0),S=null),A.patchFlag===-2&&(Z=!1,A.dynamicChildren=null);const{type:$,ref:me,shapeFlag:le}=A;switch($){case Nv:T(S,A,O,L);break;case xa:N(S,A,O,L);break;case op:S==null&&P(A,O,L,re);break;case Vt:Ti(S,A,O,L,B,q,re,z,Z);break;default:le&1?X(S,A,O,L,B,q,re,z,Z):le&6?kn(S,A,O,L,B,q,re,z,Z):(le&64||le&128)&&$.process(S,A,O,L,B,q,re,z,Z,H)}me!=null&&B&&gw(me,S&&S.ref,q,A||S,!A)},T=(S,A,O,L)=>{if(S==null)r(A.el=c(A.children),O,L);else{const B=A.el=S.el;A.children!==S.children&&h(B,A.children)}},N=(S,A,O,L)=>{S==null?r(A.el=l(A.children||""),O,L):A.el=S.el},P=(S,A,O,L)=>{[S.el,S.anchor]=w(S.children,A,O,L,S.el,S.anchor)},M=({el:S,anchor:A},O,L)=>{let B;for(;S&&S!==A;)B=g(S),r(S,O,L),S=B;r(A,O,L)},U=({el:S,anchor:A})=>{let O;for(;S&&S!==A;)O=g(S),i(S),S=O;i(A)},X=(S,A,O,L,B,q,re,z,Z)=>{re=re||A.type==="svg",S==null?j(A,O,L,B,q,re,z,Z):pe(S,A,B,q,re,z,Z)},j=(S,A,O,L,B,q,re,z)=>{let Z,$;const{type:me,props:le,shapeFlag:ye,transition:Ce,dirs:Me}=S;if(Z=S.el=a(S.type,q,le&&le.is,le),ye&8?d(Z,S.children):ye&16&&rt(S.children,Z,null,L,B,q&&me!=="foreignObject",re,z),Me&&ia(S,null,L,"created"),Se(Z,S,S.scopeId,re,L),le){for(const _e in le)_e!=="value"&&!tp(_e)&&s(Z,_e,null,le[_e],q,S.children,L,B,ln);"value"in le&&s(Z,"value",null,le.value),($=le.onVnodeBeforeMount)&&Pi($,L,S)}Me&&ia(S,null,L,"beforeMount");const ut=(!B||B&&!B.pendingBranch)&&Ce&&!Ce.persisted;ut&&Ce.beforeEnter(Z),r(Z,A,O),(($=le&&le.onVnodeMounted)||ut||Me)&&lr(()=>{$&&Pi($,L,S),ut&&Ce.enter(Z),Me&&ia(S,null,L,"mounted")},B)},Se=(S,A,O,L,B)=>{if(O&&y(S,O),L)for(let q=0;q<L.length;q++)y(S,L[q]);if(B){let q=B.subTree;if(A===q){const re=B.vnode;Se(S,re,re.scopeId,re.slotScopeIds,B.parent)}}},rt=(S,A,O,L,B,q,re,z,Z=0)=>{for(let $=Z;$<S.length;$++){const me=S[$]=z?rs(S[$]):Mi(S[$]);E(null,me,A,O,L,B,q,re,z)}},pe=(S,A,O,L,B,q,re)=>{const z=A.el=S.el;let{patchFlag:Z,dynamicChildren:$,dirs:me}=A;Z|=S.patchFlag&16;const le=S.props||mt,ye=A.props||mt;let Ce;O&&oa(O,!1),(Ce=ye.onVnodeBeforeUpdate)&&Pi(Ce,O,A,S),me&&ia(A,S,O,"beforeUpdate"),O&&oa(O,!0);const Me=B&&A.type!=="foreignObject";if($?_n(S.dynamicChildren,$,z,O,L,Me,q):re||ze(S,A,z,null,O,L,Me,q,!1),Z>0){if(Z&16)R(z,A,le,ye,O,L,B);else if(Z&2&&le.class!==ye.class&&s(z,"class",null,ye.class,B),Z&4&&s(z,"style",le.style,ye.style,B),Z&8){const ut=A.dynamicProps;for(let _e=0;_e<ut.length;_e++){const bt=ut[_e],fn=le[bt],ro=ye[bt];(ro!==fn||bt==="value")&&s(z,bt,fn,ro,B,S.children,O,L,ln)}}Z&1&&S.children!==A.children&&d(z,A.children)}else!re&&$==null&&R(z,A,le,ye,O,L,B);((Ce=ye.onVnodeUpdated)||me)&&lr(()=>{Ce&&Pi(Ce,O,A,S),me&&ia(A,S,O,"updated")},L)},_n=(S,A,O,L,B,q,re)=>{for(let z=0;z<A.length;z++){const Z=S[z],$=A[z],me=Z.el&&(Z.type===Vt||!jl(Z,$)||Z.shapeFlag&70)?v(Z.el):O;E(Z,$,me,null,L,B,q,re,!0)}},R=(S,A,O,L,B,q,re)=>{if(O!==L){if(O!==mt)for(const z in O)!tp(z)&&!(z in L)&&s(S,z,O[z],null,re,A.children,B,q,ln);for(const z in L){if(tp(z))continue;const Z=L[z],$=O[z];Z!==$&&z!=="value"&&s(S,z,$,Z,re,A.children,B,q,ln)}"value"in L&&s(S,"value",O.value,L.value)}},Ti=(S,A,O,L,B,q,re,z,Z)=>{const $=A.el=S?S.el:c(""),me=A.anchor=S?S.anchor:c("");let{patchFlag:le,dynamicChildren:ye,slotScopeIds:Ce}=A;Ce&&(z=z?z.concat(Ce):Ce),S==null?(r($,O,L),r(me,O,L),rt(A.children,O,me,B,q,re,z,Z)):le>0&&le&64&&ye&&S.dynamicChildren?(_n(S.dynamicChildren,ye,O,B,q,re,z),(A.key!=null||B&&A===B.subTree)&&Rx(S,A,!0)):ze(S,A,O,me,B,q,re,z,Z)},kn=(S,A,O,L,B,q,re,z,Z)=>{A.slotScopeIds=z,S==null?A.shapeFlag&512?B.ctx.activate(A,O,L,re,Z):Fs(A,O,L,B,q,re,Z):Ii(S,A,Z)},Fs=(S,A,O,L,B,q,re)=>{const z=S.component=MV(S,L,B);if(_x(S)&&(z.ctx.renderer=H),LV(z),z.asyncDep){if(B&&B.registerDep(z,wt),!S.el){const Z=z.subTree=Ct(xa);N(null,Z,A,O)}return}wt(z,S,A,O,B,q,re)},Ii=(S,A,O)=>{const L=A.component=S.component;if(K4(S,A,O))if(L.asyncDep&&!L.asyncResolved){Ye(L,A,O);return}else L.next=A,W4(L.update),L.update();else A.el=S.el,L.vnode=A},wt=(S,A,O,L,B,q,re)=>{const z=()=>{if(S.isMounted){let{next:me,bu:le,u:ye,parent:Ce,vnode:Me}=S,ut=me,_e;oa(S,!1),me?(me.el=Me.el,Ye(S,me,re)):me=Me,le&&np(le),(_e=me.props&&me.props.onVnodeBeforeUpdate)&&Pi(_e,Ce,me,Me),oa(S,!0);const bt=i_(S),fn=S.subTree;S.subTree=bt,E(fn,bt,v(fn.el),V(fn),S,B,q),me.el=bt.el,ut===null&&Q4(S,bt.el),ye&&lr(ye,B),(_e=me.props&&me.props.onVnodeUpdated)&&lr(()=>Pi(_e,Ce,me,Me),B)}else{let me;const{el:le,props:ye}=A,{bm:Ce,m:Me,parent:ut}=S,_e=rp(A);if(oa(S,!1),Ce&&np(Ce),!_e&&(me=ye&&ye.onVnodeBeforeMount)&&Pi(me,ut,A),oa(S,!0),le&&Qe){const bt=()=>{S.subTree=i_(S),Qe(le,S.subTree,S,B,null)};_e?A.type.__asyncLoader().then(()=>!S.isUnmounted&&bt()):bt()}else{const bt=S.subTree=i_(S);E(null,bt,O,L,S,B,q),A.el=bt.el}if(Me&&lr(Me,B),!_e&&(me=ye&&ye.onVnodeMounted)){const bt=A;lr(()=>Pi(me,ut,bt),B)}(A.shapeFlag&256||ut&&rp(ut.vnode)&&ut.vnode.shapeFlag&256)&&S.a&&lr(S.a,B),S.isMounted=!0,A=O=L=null}},Z=S.effect=new x0(z,()=>F0($),S.scope),$=S.update=()=>Z.run();$.id=S.uid,oa(S,!0),$()},Ye=(S,A,O)=>{A.component=S;const L=S.vnode.props;S.vnode=A,S.next=null,bV(S,A.props,L,O),IV(S,A.children,O),Pc(),vC(),Dc()},ze=(S,A,O,L,B,q,re,z,Z=!1)=>{const $=S&&S.children,me=S?S.shapeFlag:0,le=A.children,{patchFlag:ye,shapeFlag:Ce}=A;if(ye>0){if(ye&128){Mr($,le,O,L,B,q,re,z,Z);return}else if(ye&256){Nt($,le,O,L,B,q,re,z,Z);return}}Ce&8?(me&16&&ln($,B,q),le!==$&&d(O,le)):me&16?Ce&16?Mr($,le,O,L,B,q,re,z,Z):ln($,B,q,!0):(me&8&&d(O,""),Ce&16&&rt(le,O,L,B,q,re,z,Z))},Nt=(S,A,O,L,B,q,re,z,Z)=>{S=S||qu,A=A||qu;const $=S.length,me=A.length,le=Math.min($,me);let ye;for(ye=0;ye<le;ye++){const Ce=A[ye]=Z?rs(A[ye]):Mi(A[ye]);E(S[ye],Ce,O,null,B,q,re,z,Z)}$>me?ln(S,B,q,!0,!1,le):rt(A,O,L,B,q,re,z,Z,le)},Mr=(S,A,O,L,B,q,re,z,Z)=>{let $=0;const me=A.length;let le=S.length-1,ye=me-1;for(;$<=le&&$<=ye;){const Ce=S[$],Me=A[$]=Z?rs(A[$]):Mi(A[$]);if(jl(Ce,Me))E(Ce,Me,O,null,B,q,re,z,Z);else break;$++}for(;$<=le&&$<=ye;){const Ce=S[le],Me=A[ye]=Z?rs(A[ye]):Mi(A[ye]);if(jl(Ce,Me))E(Ce,Me,O,null,B,q,re,z,Z);else break;le--,ye--}if($>le){if($<=ye){const Ce=ye+1,Me=Ce<me?A[Ce].el:L;for(;$<=ye;)E(null,A[$]=Z?rs(A[$]):Mi(A[$]),O,Me,B,q,re,z,Z),$++}}else if($>ye)for(;$<=le;)cn(S[$],B,q,!0),$++;else{const Ce=$,Me=$,ut=new Map;for($=Me;$<=ye;$++){const Mt=A[$]=Z?rs(A[$]):Mi(A[$]);Mt.key!=null&&ut.set(Mt.key,$)}let _e,bt=0;const fn=ye-Me+1;let ro=!1,el=0;const vt=new Array(fn);for($=0;$<fn;$++)vt[$]=0;for($=Ce;$<=le;$++){const Mt=S[$];if(bt>=fn){cn(Mt,B,q,!0);continue}let Xt;if(Mt.key!=null)Xt=ut.get(Mt.key);else for(_e=Me;_e<=ye;_e++)if(vt[_e-Me]===0&&jl(Mt,A[_e])){Xt=_e;break}Xt===void 0?cn(Mt,B,q,!0):(vt[Xt-Me]=$+1,Xt>=el?el=Xt:ro=!0,E(Mt,A[Xt],O,null,B,q,re,z,Z),bt++)}const tl=ro?AV(vt):qu;for(_e=tl.length-1,$=fn-1;$>=0;$--){const Mt=Me+$,Xt=A[Mt],nl=Mt+1<me?A[Mt+1].el:L;vt[$]===0?E(null,Xt,O,nl,B,q,re,z,Z):ro&&(_e<0||$!==tl[_e]?wn(Xt,O,nl,2):_e--)}}},wn=(S,A,O,L,B=null)=>{const{el:q,type:re,transition:z,children:Z,shapeFlag:$}=S;if($&6){wn(S.component.subTree,A,O,L);return}if($&128){S.suspense.move(A,O,L);return}if($&64){re.move(S,A,O,H);return}if(re===Vt){r(q,A,O);for(let le=0;le<Z.length;le++)wn(Z[le],A,O,L);r(S.anchor,A,O);return}if(re===op){M(S,A,O);return}if(L!==2&&$&1&&z)if(L===0)z.beforeEnter(q),r(q,A,O),lr(()=>z.enter(q),B);else{const{leave:le,delayLeave:ye,afterLeave:Ce}=z,Me=()=>r(q,A,O),ut=()=>{le(q,()=>{Me(),Ce&&Ce()})};ye?ye(q,Me,ut):ut()}else r(q,A,O)},cn=(S,A,O,L=!1,B=!1)=>{const{type:q,props:re,ref:z,children:Z,dynamicChildren:$,shapeFlag:me,patchFlag:le,dirs:ye}=S;if(z!=null&&gw(z,null,O,S,!0),me&256){A.ctx.deactivate(S);return}const Ce=me&1&&ye,Me=!rp(S);let ut;if(Me&&(ut=re&&re.onVnodeBeforeUnmount)&&Pi(ut,A,S),me&6)Us(S.component,O,L);else{if(me&128){S.suspense.unmount(O,L);return}Ce&&ia(S,null,A,"beforeUnmount"),me&64?S.type.remove(S,A,O,B,H,L):$&&(q!==Vt||le>0&&le&64)?ln($,A,O,!1,!0):(q===Vt&&le&384||!B&&me&16)&&ln(Z,A,O),L&&to(S)}(Me&&(ut=re&&re.onVnodeUnmounted)||Ce)&&lr(()=>{ut&&Pi(ut,A,S),Ce&&ia(S,null,A,"unmounted")},O)},to=S=>{const{type:A,el:O,anchor:L,transition:B}=S;if(A===Vt){no(O,L);return}if(A===op){U(S);return}const q=()=>{i(O),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(S.shapeFlag&1&&B&&!B.persisted){const{leave:re,delayLeave:z}=B,Z=()=>re(O,q);z?z(S.el,q,Z):Z()}else q()},no=(S,A)=>{let O;for(;S!==A;)O=g(S),i(S),S=O;i(A)},Us=(S,A,O)=>{const{bum:L,scope:B,update:q,subTree:re,um:z}=S;L&&np(L),B.stop(),q&&(q.active=!1,cn(re,S,A,O)),z&&lr(z,A),lr(()=>{S.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ln=(S,A,O,L=!1,B=!1,q=0)=>{for(let re=q;re<S.length;re++)cn(S[re],A,O,L,B)},V=S=>S.shapeFlag&6?V(S.component.subTree):S.shapeFlag&128?S.suspense.next():g(S.anchor||S.el),se=(S,A,O)=>{S==null?A._vnode&&cn(A._vnode,null,null,!0):E(A._vnode||null,S,A,null,null,null,O),vC(),hx(),A._vnode=S},H={p:E,um:cn,m:wn,r:to,mt:Fs,mc:rt,pc:ze,pbc:_n,n:V,o:t};let ve,Qe;return e&&([ve,Qe]=e(H)),{render:se,hydrate:ve,createApp:_V(se,ve)}}function oa({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Rx(t,e,n=!1){const r=t.children,i=e.children;if(Ne(r)&&Ne(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=rs(i[s]),c.el=a.el),n||Rx(a,c)),c.type===Nv&&(c.el=a.el)}}function AV(t){const e=t.slice(),n=[0];let r,i,s,a,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(i=n[n.length-1],t[i]<h){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,t[n[c]]<h?s=c+1:a=c;h<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const NV=t=>t.__isTeleport,Vt=Symbol.for("v-fgt"),Nv=Symbol.for("v-txt"),xa=Symbol.for("v-cmt"),op=Symbol.for("v-stc"),of=[];let ai=null;function fe(t=!1){of.push(ai=t?null:[])}function kV(){of.pop(),ai=of[of.length-1]||null}let Ef=1;function CC(t){Ef+=t}function Ox(t){return t.dynamicChildren=Ef>0?ai||qu:null,kV(),Ef>0&&ai&&ai.push(t),t}function Te(t,e,n,r,i,s){return Ox(C(t,e,n,r,i,s,!0))}function Yi(t,e,n,r,i){return Ox(Ct(t,e,n,r,i,!0))}function mw(t){return t?t.__v_isVNode===!0:!1}function jl(t,e){return t.type===e.type&&t.key===e.key}const kv="__vInternal",Px=({key:t})=>t??null,sp=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qt(t)||Pn(t)||De(t)?{i:qr,r:t,k:e,f:!!n}:t:null);function C(t,e=null,n=null,r=0,i=null,s=t===Vt?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Px(e),ref:e&&sp(e),scopeId:vx,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qr};return c?(B0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Qt(n)?8:16),Ef>0&&!a&&ai&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ai.push(l),l}const Ct=xV;function xV(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Ex)&&(t=xa),mw(t)){const c=sc(t,e,!0);return n&&B0(c,n),Ef>0&&!s&&ai&&(c.shapeFlag&6?ai[ai.indexOf(t)]=c:ai.push(c)),c.patchFlag|=-2,c}if(BV(t)&&(t=t.__vccOpts),e){e=RV(e);let{class:c,style:l}=e;c&&!Qt(c)&&(e.class=qi(c)),At(l)&&(rx(l)&&!Ne(l)&&(l=yn({},l)),e.style=N0(l))}const a=Qt(t)?1:X4(t)?128:NV(t)?64:At(t)?4:De(t)?2:0;return C(t,e,n,r,i,a,s,!0)}function RV(t){return t?rx(t)||kv in t?yn({},t):t:null}function sc(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,c=e?OV(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Px(c),ref:e&&e.ref?n&&i?Ne(i)?i.concat(sp(e)):[i,sp(e)]:sp(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Vt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&sc(t.ssContent),ssFallback:t.ssFallback&&sc(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Dx(t=" ",e=0){return Ct(Nv,null,t,e)}function Mc(t,e){const n=Ct(op,null,t);return n.staticCount=e,n}function ys(t="",e=!1){return e?(fe(),Yi(xa,null,t)):Ct(xa,null,t)}function Mi(t){return t==null||typeof t=="boolean"?Ct(xa):Ne(t)?Ct(Vt,null,t.slice()):typeof t=="object"?rs(t):Ct(Nv,null,String(t))}function rs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:sc(t)}function B0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ne(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),B0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(kv in e)?e._ctx=qr:i===3&&qr&&(qr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:qr},n=32):(e=String(e),r&64?(n=16,e=[Dx(e)]):n=8);t.children=e,t.shapeFlag|=n}function OV(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=qi([e.class,r.class]));else if(i==="style")e.style=N0([e.style,r.style]);else if(wv(i)){const s=e[i],a=r[i];a&&s!==a&&!(Ne(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function Pi(t,e,n,r=null){di(t,e,7,[n,r])}const PV=Sx();let DV=0;function MV(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||PV,s={uid:DV++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new a4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ax(r,i),emitsOptions:px(r,i),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=$4.bind(null,s),t.ce&&t.ce(s),s}let In=null,q0,Eu,AC="__VUE_INSTANCE_SETTERS__";(Eu=sw()[AC])||(Eu=sw()[AC]=[]),Eu.push(t=>In=t),q0=t=>{Eu.length>1?Eu.forEach(e=>e(t)):Eu[0](t)};const ac=t=>{q0(t),t.scope.on()},ba=()=>{In&&In.scope.off(),q0(null)};function Mx(t){return t.vnode.shapeFlag&4}let Tf=!1;function LV(t,e=!1){Tf=e;const{props:n,children:r}=t.vnode,i=Mx(t);wV(t,n,i,e),TV(t,r);const s=i?FV(t,e):void 0;return Tf=!1,s}function FV(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ix(new Proxy(t.ctx,hV));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?jV(t):null;ac(t),Pc();const s=gs(r,t,0,[t.props,i]);if(Dc(),ba(),Vk(s)){if(s.then(ba,ba),e)return s.then(a=>{NC(t,a,e)}).catch(a=>{Sv(a,t,0)});t.asyncDep=s}else NC(t,s,e)}else Lx(t,e)}function NC(t,e,n){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:At(e)&&(t.setupState=ux(e)),Lx(t,n)}let kC;function Lx(t,e,n){const r=t.type;if(!t.render){if(!e&&kC&&!r.render){const i=r.template||j0(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:l}=r,h=yn(yn({isCustomElement:s,delimiters:c},a),l);r.render=kC(i,h)}}t.render=r.render||hi}ac(t),Pc(),dV(t),Dc(),ba()}function UV(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return gr(t,"get","$attrs"),e[n]}}))}function jV(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return UV(t)},slots:t.slots,emit:t.emit,expose:e}}function xv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ux(ix(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in rf)return rf[n](t)},has(e,n){return n in e||n in rf}}))}function VV(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function BV(t){return De(t)&&"__vccOpts"in t}const en=(t,e)=>V4(t,e,Tf);function Fx(t,e,n){const r=arguments.length;return r===2?At(e)&&!Ne(e)?mw(e)?Ct(t,null,[e]):Ct(t,e):Ct(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&mw(n)&&(n=[n]),Ct(t,e,n))}const qV=Symbol.for("v-scx"),WV=()=>pi(qV),HV="3.3.4",GV="http://www.w3.org/2000/svg",la=typeof document<"u"?document:null,xC=la&&la.createElement("template"),$V={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?la.createElementNS(GV,t):la.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>la.createTextNode(t),createComment:t=>la.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>la.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{xC.innerHTML=r?`<svg>${t}</svg>`:t;const c=xC.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function YV(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function zV(t,e,n){const r=t.style,i=Qt(n);if(n&&!i){if(e&&!Qt(e))for(const s in e)n[s]==null&&yw(r,s,"");for(const s in n)yw(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const RC=/\s*!important$/;function yw(t,e,n){if(Ne(n))n.forEach(r=>yw(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=KV(t,e);RC.test(n)?t.setProperty(Va(r),n.replace(RC,""),"important"):t[r]=n}}const OC=["Webkit","Moz","ms"],s_={};function KV(t,e){const n=s_[e];if(n)return n;let r=$i(e);if(r!=="filter"&&r in t)return s_[e]=r;r=Tv(r);for(let i=0;i<OC.length;i++){const s=OC[i]+r;if(s in t)return s_[e]=s}return e}const PC="http://www.w3.org/1999/xlink";function QV(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(PC,e.slice(6,e.length)):t.setAttributeNS(PC,e,n);else{const s=s4(e);n==null||s&&!Wk(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function XV(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const h=c==="OPTION"?t.getAttribute("value"):t.value,d=n??"";h!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const h=typeof t[e];h==="boolean"?n=Wk(n):n==null&&h==="string"?(n="",l=!0):h==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ru(t,e,n,r){t.addEventListener(e,n,r)}function JV(t,e,n,r){t.removeEventListener(e,n,r)}function ZV(t,e,n,r,i=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[c,l]=e3(e);if(r){const h=s[e]=r3(r,i);Ru(t,c,h,l)}else a&&(JV(t,c,a,l),s[e]=void 0)}}const DC=/(?:Once|Passive|Capture)$/;function e3(t){let e;if(DC.test(t)){e={};let r;for(;r=t.match(DC);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Va(t.slice(2)),e]}let a_=0;const t3=Promise.resolve(),n3=()=>a_||(t3.then(()=>a_=0),a_=Date.now());function r3(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;di(i3(r,n.value),e,5,[r])};return n.value=t,n.attached=n3(),n}function i3(t,e){if(Ne(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const MC=/^on[a-z]/,o3=(t,e,n,r,i=!1,s,a,c,l)=>{e==="class"?YV(t,r,i):e==="style"?zV(t,n,r):wv(e)?I0(e)||ZV(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):s3(t,e,r,i))?XV(t,e,r,s,a,c,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),QV(t,e,r,i))};function s3(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&MC.test(e)&&De(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||MC.test(e)&&Qt(n)?!1:e in t}const LC=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ne(e)?n=>np(e,n):e};function a3(t){t.target.composing=!0}function FC(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const _s={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=LC(i);const s=r||i.props&&i.props.type==="number";Ru(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=ow(c)),t._assign(c)}),n&&Ru(t,"change",()=>{t.value=t.value.trim()}),e||(Ru(t,"compositionstart",a3),Ru(t,"compositionend",FC),Ru(t,"change",FC))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=LC(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&ow(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},u3=["ctrl","shift","alt","meta"],c3={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>u3.some(n=>t[`${n}Key`]&&!e.includes(n))},W0=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=c3[e[i]];if(s&&s(n,e))return}return t(n,...r)},l3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},f3=(t,e)=>n=>{if(!("key"in n))return;const r=Va(n.key);if(e.some(i=>i===r||l3[i]===r))return t(n)},h3=yn({patchProp:o3},$V);let UC;function d3(){return UC||(UC=SV(h3))}const p3=(...t)=>{const e=d3().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=v3(r);if(!i)return;const s=e._component;!De(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function v3(t){return Qt(t)?document.querySelector(t):t}function g3(){return Ux().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Ux(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const m3=typeof Proxy=="function",y3="devtools-plugin:setup",_3="plugin:settings:set";let Tu,_w;function w3(){var t;return Tu!==void 0||(typeof window<"u"&&window.performance?(Tu=!0,_w=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Tu=!0,_w=global.perf_hooks.performance):Tu=!1),Tu}function b3(){return w3()?_w.now():Date.now()}class E3{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const c=e.settings[a];r[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(s,c)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return b3()}},n&&n.on(_3,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:c,args:l,resolve:h})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function T3(t,e){const n=t,r=Ux(),i=g3(),s=m3&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(y3,t,e);else{const a=s?new E3(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ou=typeof window<"u";function I3(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ot=Object.assign;function u_(t,e){const n={};for(const r in e){const i=e[r];n[r]=mi(i)?i.map(t):t(i)}return n}const sf=()=>{},mi=Array.isArray,S3=/\/$/,C3=t=>t.replace(S3,"");function c_(t,e,n="/"){let r,i={},s="",a="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=x3(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function A3(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function jC(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function N3(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&uc(e.matched[r],n.matched[i])&&jx(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function uc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jx(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!k3(t[n],e[n]))return!1;return!0}function k3(t,e){return mi(t)?VC(t,e):mi(e)?VC(e,t):t===e}function VC(t,e){return mi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function x3(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var If;(function(t){t.pop="pop",t.push="push"})(If||(If={}));var af;(function(t){t.back="back",t.forward="forward",t.unknown=""})(af||(af={}));function R3(t){if(!t)if(Ou){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),C3(t)}const O3=/^[^#]+#/;function P3(t,e){return t.replace(O3,"#")+e}function D3(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Rv=()=>({left:window.pageXOffset,top:window.pageYOffset});function M3(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=D3(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function BC(t,e){return(history.state?history.state.position-e:-1)+t}const ww=new Map;function L3(t,e){ww.set(t,e)}function F3(t){const e=ww.get(t);return ww.delete(t),e}let U3=()=>location.protocol+"//"+location.host;function Vx(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),jC(l,"")}return jC(n,t)+r+i}function j3(t,e,n,r){let i=[],s=[],a=null;const c=({state:g})=>{const y=Vx(t,location),w=n.value,E=e.value;let T=0;if(g){if(n.value=y,e.value=g,a&&a===w){a=null;return}T=E?g.position-E.position:0}else r(y);i.forEach(N=>{N(n.value,w,{delta:T,type:If.pop,direction:T?T>0?af.forward:af.back:af.unknown})})};function l(){a=n.value}function h(g){i.push(g);const y=()=>{const w=i.indexOf(g);w>-1&&i.splice(w,1)};return s.push(y),y}function d(){const{history:g}=window;g.state&&g.replaceState(ot({},g.state,{scroll:Rv()}),"")}function v(){for(const g of s)g();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:v}}function qC(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Rv():null}}function V3(t){const{history:e,location:n}=window,r={value:Vx(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=t.indexOf("#"),g=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+l:U3()+t+l;try{e[d?"replaceState":"pushState"](h,"",g),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](g)}}function a(l,h){const d=ot({},e.state,qC(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=ot({},i.value,e.state,{forward:l,scroll:Rv()});s(d.current,d,!0);const v=ot({},qC(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function B3(t){t=R3(t);const e=V3(t),n=j3(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=ot({location:"",base:t,go:r,createHref:P3.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function q3(t){return typeof t=="string"||t&&typeof t=="object"}function Bx(t){return typeof t=="string"||typeof t=="symbol"}const Xo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qx=Symbol("");var WC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(WC||(WC={}));function cc(t,e){return ot(new Error,{type:t,[qx]:!0},e)}function co(t,e){return t instanceof Error&&qx in t&&(e==null||!!(t.type&e))}const HC="[^/]+?",W3={sensitive:!1,strict:!1,start:!0,end:!0},H3=/[.+*?^${}()[\]/\\]/g;function G3(t,e){const n=ot({},W3,e),r=[];let i=n.start?"^":"";const s=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const g=h[v];let y=40+(n.sensitive?.25:0);if(g.type===0)v||(i+="/"),i+=g.value.replace(H3,"\\$&"),y+=40;else if(g.type===1){const{value:w,repeatable:E,optional:T,regexp:N}=g;s.push({name:w,repeatable:E,optional:T});const P=N||HC;if(P!==HC){y+=10;try{new RegExp(`(${P})`)}catch(U){throw new Error(`Invalid custom RegExp for param "${w}" (${P}): `+U.message)}}let M=E?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(M=T&&h.length<2?`(?:/${M})`:"/"+M),T&&(M+="?"),i+=M,y+=20,T&&(y+=-8),E&&(y+=-20),P===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let g=1;g<d.length;g++){const y=d[g]||"",w=s[g-1];v[w.name]=y&&w.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const g of t){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of g)if(y.type===0)d+=y.value;else if(y.type===1){const{value:w,repeatable:E,optional:T}=y,N=w in h?h[w]:"";if(mi(N)&&!E)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const P=mi(N)?N.join("/"):N;if(!P)if(T)g.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${w}"`);d+=P}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function $3(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Y3(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=$3(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(GC(r))return 1;if(GC(i))return-1}return i.length-r.length}function GC(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const z3={type:0,value:""},K3=/[a-zA-Z0-9_]/;function Q3(t){if(!t)return[[]];if(t==="/")return[[z3]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function g(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):g();break;case 4:g(),n=r;break;case 1:l==="("?n=2:K3.test(l)?g():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function X3(t,e,n){const r=G3(Q3(t.path),n),i=ot(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function J3(t,e){const n=[],r=new Map;e=zC({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,v,g){const y=!g,w=Z3(d);w.aliasOf=g&&g.record;const E=zC(e,d),T=[w];if("alias"in d){const M=typeof d.alias=="string"?[d.alias]:d.alias;for(const U of M)T.push(ot({},w,{components:g?g.record.components:w.components,path:U,aliasOf:g?g.record:w}))}let N,P;for(const M of T){const{path:U}=M;if(v&&U[0]!=="/"){const X=v.record.path,j=X[X.length-1]==="/"?"":"/";M.path=v.record.path+(U&&j+U)}if(N=X3(M,v,E),g?g.alias.push(N):(P=P||N,P!==N&&P.alias.push(N),y&&d.name&&!YC(N)&&a(d.name)),w.children){const X=w.children;for(let j=0;j<X.length;j++)s(X[j],N,g&&g.children[j])}g=g||N,(N.record.components&&Object.keys(N.record.components).length||N.record.name||N.record.redirect)&&l(N)}return P?()=>{a(P)}:sf}function a(d){if(Bx(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&Y3(d,n[v])>=0&&(d.record.path!==n[v].record.path||!Wx(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!YC(d)&&r.set(d.record.name,d)}function h(d,v){let g,y={},w,E;if("name"in d&&d.name){if(g=r.get(d.name),!g)throw cc(1,{location:d});E=g.record.name,y=ot($C(v.params,g.keys.filter(P=>!P.optional).map(P=>P.name)),d.params&&$C(d.params,g.keys.map(P=>P.name))),w=g.stringify(y)}else if("path"in d)w=d.path,g=n.find(P=>P.re.test(w)),g&&(y=g.parse(w),E=g.record.name);else{if(g=v.name?r.get(v.name):n.find(P=>P.re.test(v.path)),!g)throw cc(1,{location:d,currentLocation:v});E=g.record.name,y=ot({},v.params,d.params),w=g.stringify(y)}const T=[];let N=g;for(;N;)T.unshift(N.record),N=N.parent;return{name:E,path:w,params:y,matched:T,meta:tB(T)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function $C(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Z3(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:eB(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function eB(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function YC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function tB(t){return t.reduce((e,n)=>ot(e,n.meta),{})}function zC(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Wx(t,e){return e.children.some(n=>n===t||Wx(t,n))}const Hx=/#/g,nB=/&/g,rB=/\//g,iB=/=/g,oB=/\?/g,Gx=/\+/g,sB=/%5B/g,aB=/%5D/g,$x=/%5E/g,uB=/%60/g,Yx=/%7B/g,cB=/%7C/g,zx=/%7D/g,lB=/%20/g;function H0(t){return encodeURI(""+t).replace(cB,"|").replace(sB,"[").replace(aB,"]")}function fB(t){return H0(t).replace(Yx,"{").replace(zx,"}").replace($x,"^")}function bw(t){return H0(t).replace(Gx,"%2B").replace(lB,"+").replace(Hx,"%23").replace(nB,"%26").replace(uB,"`").replace(Yx,"{").replace(zx,"}").replace($x,"^")}function hB(t){return bw(t).replace(iB,"%3D")}function dB(t){return H0(t).replace(Hx,"%23").replace(oB,"%3F")}function pB(t){return t==null?"":dB(t).replace(rB,"%2F")}function Cp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function vB(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Gx," "),a=s.indexOf("="),c=Cp(a<0?s:s.slice(0,a)),l=a<0?null:Cp(s.slice(a+1));if(c in e){let h=e[c];mi(h)||(h=e[c]=[h]),h.push(l)}else e[c]=l}return e}function KC(t){let e="";for(let n in t){const r=t[n];if(n=hB(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(mi(r)?r.map(s=>s&&bw(s)):[r&&bw(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function gB(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=mi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const mB=Symbol(""),QC=Symbol(""),Ov=Symbol(""),G0=Symbol(""),Ew=Symbol("");function Vl(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function is(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(cc(4,{from:n,to:e})):v instanceof Error?c(v):q3(v)?c(cc(2,{from:e,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=t.call(r&&r.instances[i],e,n,l);let d=Promise.resolve(h);t.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function l_(t,e,n,r){const i=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(yB(c)){const h=(c.__vccOpts||c)[e];h&&i.push(is(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=I3(h)?h.default:h;s.components[a]=d;const g=(d.__vccOpts||d)[e];return g&&is(g,n,r,s,a)()}))}}return i}function yB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function XC(t){const e=pi(Ov),n=pi(G0),r=en(()=>e.resolve(Gu(t.to))),i=en(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const g=v.findIndex(uc.bind(null,d));if(g>-1)return g;const y=JC(l[h-2]);return h>1&&JC(d)===y&&v[v.length-1].path!==y?v.findIndex(uc.bind(null,l[h-2])):g}),s=en(()=>i.value>-1&&EB(n.params,r.value.params)),a=en(()=>i.value>-1&&i.value===n.matched.length-1&&jx(n.params,r.value.params));function c(l={}){return bB(l)?e[Gu(t.replace)?"replace":"push"](Gu(t.to)).catch(sf):Promise.resolve()}return{route:r,href:en(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const _B=yx({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:XC,setup(t,{slots:e}){const n=nh(XC(t)),{options:r}=pi(Ov),i=en(()=>({[ZC(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ZC(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Fx("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),wB=_B;function bB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function EB(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!mi(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function JC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ZC=(t,e,n)=>t??e??n,TB=yx({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=pi(Ew),i=en(()=>t.route||r.value),s=pi(QC,0),a=en(()=>{let h=Gu(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=en(()=>i.value.matched[a.value]);ip(QC,en(()=>a.value+1)),ip(mB,c),ip(Ew,i);const l=dt();return Yu(()=>[l.value,c.value,t.name],([h,d,v],[g,y,w])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===g&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!uc(d,y)||!g)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=t.name,v=c.value,g=v&&v.components[d];if(!g)return eA(n.default,{Component:g,route:h});const y=v.props[d],w=y?y===!0?h.params:typeof y=="function"?y(h):y:null,T=Fx(g,ot({},w,e,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return eA(n.default,{Component:T,route:h})||T}}});function eA(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const IB=TB;function SB(t){const e=J3(t.routes,t),n=t.parseQuery||vB,r=t.stringifyQuery||KC,i=t.history,s=Vl(),a=Vl(),c=Vl(),l=L4(Xo);let h=Xo;Ou&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=u_.bind(null,V=>""+V),v=u_.bind(null,pB),g=u_.bind(null,Cp);function y(V,se){let H,ve;return Bx(V)?(H=e.getRecordMatcher(V),ve=se):ve=V,e.addRoute(ve,H)}function w(V){const se=e.getRecordMatcher(V);se&&e.removeRoute(se)}function E(){return e.getRoutes().map(V=>V.record)}function T(V){return!!e.getRecordMatcher(V)}function N(V,se){if(se=ot({},se||l.value),typeof V=="string"){const O=c_(n,V,se.path),L=e.resolve({path:O.path},se),B=i.createHref(O.fullPath);return ot(O,L,{params:g(L.params),hash:Cp(O.hash),redirectedFrom:void 0,href:B})}let H;if("path"in V)H=ot({},V,{path:c_(n,V.path,se.path).path});else{const O=ot({},V.params);for(const L in O)O[L]==null&&delete O[L];H=ot({},V,{params:v(O)}),se.params=v(se.params)}const ve=e.resolve(H,se),Qe=V.hash||"";ve.params=d(g(ve.params));const S=A3(r,ot({},V,{hash:fB(Qe),path:ve.path})),A=i.createHref(S);return ot({fullPath:S,hash:Qe,query:r===KC?gB(V.query):V.query||{}},ve,{redirectedFrom:void 0,href:A})}function P(V){return typeof V=="string"?c_(n,V,l.value.path):ot({},V)}function M(V,se){if(h!==V)return cc(8,{from:se,to:V})}function U(V){return Se(V)}function X(V){return U(ot(P(V),{replace:!0}))}function j(V){const se=V.matched[V.matched.length-1];if(se&&se.redirect){const{redirect:H}=se;let ve=typeof H=="function"?H(V):H;return typeof ve=="string"&&(ve=ve.includes("?")||ve.includes("#")?ve=P(ve):{path:ve},ve.params={}),ot({query:V.query,hash:V.hash,params:"path"in ve?{}:V.params},ve)}}function Se(V,se){const H=h=N(V),ve=l.value,Qe=V.state,S=V.force,A=V.replace===!0,O=j(H);if(O)return Se(ot(P(O),{state:typeof O=="object"?ot({},Qe,O.state):Qe,force:S,replace:A}),se||H);const L=H;L.redirectedFrom=se;let B;return!S&&N3(r,ve,H)&&(B=cc(16,{to:L,from:ve}),wn(ve,ve,!0,!1)),(B?Promise.resolve(B):_n(L,ve)).catch(q=>co(q)?co(q,2)?q:Mr(q):ze(q,L,ve)).then(q=>{if(q){if(co(q,2))return Se(ot({replace:A},P(q.to),{state:typeof q.to=="object"?ot({},Qe,q.to.state):Qe,force:S}),se||L)}else q=Ti(L,ve,!0,A,Qe);return R(L,ve,q),q})}function rt(V,se){const H=M(V,se);return H?Promise.reject(H):Promise.resolve()}function pe(V){const se=no.values().next().value;return se&&typeof se.runWithContext=="function"?se.runWithContext(V):V()}function _n(V,se){let H;const[ve,Qe,S]=CB(V,se);H=l_(ve.reverse(),"beforeRouteLeave",V,se);for(const O of ve)O.leaveGuards.forEach(L=>{H.push(is(L,V,se))});const A=rt.bind(null,V,se);return H.push(A),ln(H).then(()=>{H=[];for(const O of s.list())H.push(is(O,V,se));return H.push(A),ln(H)}).then(()=>{H=l_(Qe,"beforeRouteUpdate",V,se);for(const O of Qe)O.updateGuards.forEach(L=>{H.push(is(L,V,se))});return H.push(A),ln(H)}).then(()=>{H=[];for(const O of S)if(O.beforeEnter)if(mi(O.beforeEnter))for(const L of O.beforeEnter)H.push(is(L,V,se));else H.push(is(O.beforeEnter,V,se));return H.push(A),ln(H)}).then(()=>(V.matched.forEach(O=>O.enterCallbacks={}),H=l_(S,"beforeRouteEnter",V,se),H.push(A),ln(H))).then(()=>{H=[];for(const O of a.list())H.push(is(O,V,se));return H.push(A),ln(H)}).catch(O=>co(O,8)?O:Promise.reject(O))}function R(V,se,H){c.list().forEach(ve=>pe(()=>ve(V,se,H)))}function Ti(V,se,H,ve,Qe){const S=M(V,se);if(S)return S;const A=se===Xo,O=Ou?history.state:{};H&&(ve||A?i.replace(V.fullPath,ot({scroll:A&&O&&O.scroll},Qe)):i.push(V.fullPath,Qe)),l.value=V,wn(V,se,H,A),Mr()}let kn;function Fs(){kn||(kn=i.listen((V,se,H)=>{if(!Us.listening)return;const ve=N(V),Qe=j(ve);if(Qe){Se(ot(Qe,{replace:!0}),ve).catch(sf);return}h=ve;const S=l.value;Ou&&L3(BC(S.fullPath,H.delta),Rv()),_n(ve,S).catch(A=>co(A,12)?A:co(A,2)?(Se(A.to,ve).then(O=>{co(O,20)&&!H.delta&&H.type===If.pop&&i.go(-1,!1)}).catch(sf),Promise.reject()):(H.delta&&i.go(-H.delta,!1),ze(A,ve,S))).then(A=>{A=A||Ti(ve,S,!1),A&&(H.delta&&!co(A,8)?i.go(-H.delta,!1):H.type===If.pop&&co(A,20)&&i.go(-1,!1)),R(ve,S,A)}).catch(sf)}))}let Ii=Vl(),wt=Vl(),Ye;function ze(V,se,H){Mr(V);const ve=wt.list();return ve.length?ve.forEach(Qe=>Qe(V,se,H)):console.error(V),Promise.reject(V)}function Nt(){return Ye&&l.value!==Xo?Promise.resolve():new Promise((V,se)=>{Ii.add([V,se])})}function Mr(V){return Ye||(Ye=!V,Fs(),Ii.list().forEach(([se,H])=>V?H(V):se()),Ii.reset()),V}function wn(V,se,H,ve){const{scrollBehavior:Qe}=t;if(!Ou||!Qe)return Promise.resolve();const S=!H&&F3(BC(V.fullPath,0))||(ve||!H)&&history.state&&history.state.scroll||null;return lx().then(()=>Qe(V,se,S)).then(A=>A&&M3(A)).catch(A=>ze(A,V,se))}const cn=V=>i.go(V);let to;const no=new Set,Us={currentRoute:l,listening:!0,addRoute:y,removeRoute:w,hasRoute:T,getRoutes:E,resolve:N,options:t,push:U,replace:X,go:cn,back:()=>cn(-1),forward:()=>cn(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:wt.add,isReady:Nt,install(V){const se=this;V.component("RouterLink",wB),V.component("RouterView",IB),V.config.globalProperties.$router=se,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>Gu(l)}),Ou&&!to&&l.value===Xo&&(to=!0,U(i.location).catch(Qe=>{}));const H={};for(const Qe in Xo)Object.defineProperty(H,Qe,{get:()=>l.value[Qe],enumerable:!0});V.provide(Ov,se),V.provide(G0,tx(H)),V.provide(Ew,l);const ve=V.unmount;no.add(V),V.unmount=function(){no.delete(V),no.size<1&&(h=Xo,kn&&kn(),kn=null,l.value=Xo,to=!1,Ye=!1),ve()}}};function ln(V){return V.reduce((se,H)=>se.then(()=>pe(H)),Promise.resolve())}return Us}function CB(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(h=>uc(h,c))?r.push(c):n.push(c));const l=t.matched[a];l&&(e.matched.find(h=>uc(h,l))||i.push(l))}return[n,r,i]}function Kx(){return pi(Ov)}function $0(){return pi(G0)}const Bn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},AB={},NB={class:"hidden lg:block lg:w-2/5 px-4 py-2"},kB=C("div",{class:"relative mb-5"},[C("input",{placeholder:" ",type:"text",class:"pl-10 rounded-full w-full p-2 bg-gray-100 text-sm focus:ring-1 focus:ring-primary focus:bg-white focus:outline-none"}),C("i",{class:"fas fa-search absolute left-0 mt-2 ml-3 text-sm text-light"})],-1),xB={class:"w-full rounded-lg bg-gray-50 flex flex-col"},RB=C("div",{class:"flex items-center justify-between px-3 py-1 border-b border-gray-100"},[C("span",{class:"text-lg font-bold"},"  "),C("i",{class:"text-center fas fa-cog text-lg text-primary hover:bg-blue-50 p-2 rounded-full"})],-1),OB=Mc('<div class="flex"><div class="flex-1 flex flex-col"><div class="text-gray-500">  </div><div class="font-bold text-lg"></div><div class="text-gray-500">3,564 </div></div><i class="fas fa-ellipsis-h text-gray-500"></i></div>',1),PB=[OB],DB=C("div",{class:"px-4 py-2 hover:bg-gray-100"},[C("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"}," ")],-1),MB={class:"mt-5 w-full rounded-lg bg-gray-50 flex flex-col"},LB=C("div",{class:"px-3 py-3 border-b border-gray-100"},[C("span",{class:"text-lg font-bold"}," ")],-1),FB=Mc('<div class="flex items-center"><img src="http://picsum.photos/200" class="w-12 h-12 rounded-full mr-2"><div class="flex-1 flex flex-col"><div class="font-bold"></div><div class="text-gray-500 text-sm">@jung_jaeWoong</div></div><div><button class="border-2 border-primary hover:bg-blue-100 px-2 py-1 rounded-full text-primary text-sm"></button></div></div>',1),UB=[FB],jB=C("div",{class:"px-4 py-2 hover:bg-gray-100"},[C("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"}," ")],-1);function VB(t,e,n,r,i,s){return fe(),Te("div",NB,[kB,C("div",xB,[RB,(fe(),Te(Vt,null,No(3,a=>C("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},PB)),64)),DB]),C("div",MB,[LB,(fe(),Te(Vt,null,No(3,a=>C("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},UB)),64)),jB])])}const Pv=Bn(AB,[["render",VB]]);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Qx;function ne(){return Qx.apply(null,arguments)}function BB(t){Qx=t}function yi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Ea(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function et(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Y0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(et(t,e))return!1;return!0}function fr(t){return t===void 0}function ko(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function rh(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function Xx(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function hs(t,e){for(var n in e)et(e,n)&&(t[n]=e[n]);return et(e,"toString")&&(t.toString=e.toString),et(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Xi(t,e,n,r){return bR(t,e,n,r,!0).utc()}function qB(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Pe(t){return t._pf==null&&(t._pf=qB()),t._pf}var Tw;Array.prototype.some?Tw=Array.prototype.some:Tw=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function z0(t){if(t._isValid==null){var e=Pe(t),n=Tw.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Dv(t){var e=Xi(NaN);return t!=null?hs(Pe(e),t):Pe(e).userInvalidated=!0,e}var tA=ne.momentProperties=[],f_=!1;function K0(t,e){var n,r,i,s=tA.length;if(fr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),fr(e._i)||(t._i=e._i),fr(e._f)||(t._f=e._f),fr(e._l)||(t._l=e._l),fr(e._strict)||(t._strict=e._strict),fr(e._tzm)||(t._tzm=e._tzm),fr(e._isUTC)||(t._isUTC=e._isUTC),fr(e._offset)||(t._offset=e._offset),fr(e._pf)||(t._pf=Pe(e)),fr(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=tA[n],i=e[r],fr(i)||(t[r]=i);return t}function ih(t){K0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),f_===!1&&(f_=!0,ne.updateOffset(this),f_=!1)}function _i(t){return t instanceof ih||t!=null&&t._isAMomentObject!=null}function Jx(t){ne.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function zr(t,e){var n=!0;return hs(function(){if(ne.deprecationHandler!=null&&ne.deprecationHandler(null,t),n){var r=[],i,s,a,c=arguments.length;for(s=0;s<c;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])et(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}Jx(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var nA={};function Zx(t,e){ne.deprecationHandler!=null&&ne.deprecationHandler(t,e),nA[t]||(Jx(e),nA[t]=!0)}ne.suppressDeprecationWarnings=!1;ne.deprecationHandler=null;function Ji(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function WB(t){var e,n;for(n in t)et(t,n)&&(e=t[n],Ji(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Iw(t,e){var n=hs({},t),r;for(r in e)et(e,r)&&(Ea(t[r])&&Ea(e[r])?(n[r]={},hs(n[r],t[r]),hs(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)et(t,r)&&!et(e,r)&&Ea(t[r])&&(n[r]=hs({},n[r]));return n}function Q0(t){t!=null&&this.set(t)}var Sw;Object.keys?Sw=Object.keys:Sw=function(t){var e,n=[];for(e in t)et(t,e)&&n.push(e);return n};var HB={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function GB(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Ji(r)?r.call(e,n):r}function zi(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var X0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,h_={},zu={};function we(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(zu[t]=i),e&&(zu[e[0]]=function(){return zi(i.apply(this,arguments),e[1],e[2])}),n&&(zu[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function $B(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function YB(t){var e=t.match(X0),n,r;for(n=0,r=e.length;n<r;n++)zu[e[n]]?e[n]=zu[e[n]]:e[n]=$B(e[n]);return function(i){var s="",a;for(a=0;a<r;a++)s+=Ji(e[a])?e[a].call(i,t):e[a];return s}}function ap(t,e){return t.isValid()?(e=eR(e,t.localeData()),h_[e]=h_[e]||YB(e),h_[e](t)):t.localeData().invalidDate()}function eR(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Fd.lastIndex=0;n>=0&&Fd.test(t);)t=t.replace(Fd,r),Fd.lastIndex=0,n-=1;return t}var zB={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function KB(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(X0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var QB="Invalid date";function XB(){return this._invalidDate}var JB="%d",ZB=/\d{1,2}/;function eq(t){return this._ordinal.replace("%d",t)}var tq={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function nq(t,e,n,r){var i=this._relativeTime[n];return Ji(i)?i(t,e,n,r):i.replace(/%d/i,t)}function rq(t,e){var n=this._relativeTime[t>0?"future":"past"];return Ji(n)?n(e):n.replace(/%s/i,e)}var uf={};function qn(t,e){var n=t.toLowerCase();uf[n]=uf[n+"s"]=uf[e]=t}function Kr(t){return typeof t=="string"?uf[t]||uf[t.toLowerCase()]:void 0}function J0(t){var e={},n,r;for(r in t)et(t,r)&&(n=Kr(r),n&&(e[n]=t[r]));return e}var tR={};function Wn(t,e){tR[t]=e}function iq(t){var e=[],n;for(n in t)et(t,n)&&e.push({unit:n,priority:tR[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Mv(t){return t%4===0&&t%100!==0||t%400===0}function Br(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Fe(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Br(e)),n}function Lc(t,e){return function(n){return n!=null?(nR(this,t,n),ne.updateOffset(this,e),this):Ap(this,t)}}function Ap(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function nR(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Mv(t.year())&&t.month()===1&&t.date()===29?(n=Fe(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Bv(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function oq(t){return t=Kr(t),Ji(this[t])?this[t]():this}function sq(t,e){if(typeof t=="object"){t=J0(t);var n=iq(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Kr(t),Ji(this[t]))return this[t](e);return this}var rR=/\d/,Dr=/\d\d/,iR=/\d{3}/,Z0=/\d{4}/,Lv=/[+-]?\d{6}/,_t=/\d\d?/,oR=/\d\d\d\d?/,sR=/\d\d\d\d\d\d?/,Fv=/\d{1,3}/,eb=/\d{1,4}/,Uv=/[+-]?\d{1,6}/,Fc=/\d+/,jv=/[+-]?\d+/,aq=/Z|[+-]\d\d:?\d\d/gi,Vv=/Z|[+-]\d\d(?::?\d\d)?/gi,uq=/[+-]?\d+(\.\d{1,3})?/,oh=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Np;Np={};function ae(t,e,n){Np[t]=Ji(e)?e:function(r,i){return r&&n?n:e}}function cq(t,e){return et(Np,t)?Np[t](e._strict,e._locale):new RegExp(lq(t))}function lq(t){return Sr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Sr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Cw={};function ht(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),ko(e)&&(r=function(s,a){a[e]=Fe(s)}),i=t.length,n=0;n<i;n++)Cw[t[n]]=r}function sh(t,e){ht(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function fq(t,e,n){e!=null&&et(Cw,t)&&Cw[t](e,n._a,n,t)}var Mn=0,mo=1,Fi=2,rn=3,ui=4,yo=5,pa=6,hq=7,dq=8;function pq(t,e){return(t%e+e)%e}var jt;Array.prototype.indexOf?jt=Array.prototype.indexOf:jt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Bv(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=pq(e,12);return t+=(e-n)/12,n===1?Mv(t)?29:28:31-n%7%2}we("M",["MM",2],"Mo",function(){return this.month()+1});we("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});we("MMMM",0,0,function(t){return this.localeData().months(this,t)});qn("month","M");Wn("month",8);ae("M",_t);ae("MM",_t,Dr);ae("MMM",function(t,e){return e.monthsShortRegex(t)});ae("MMMM",function(t,e){return e.monthsRegex(t)});ht(["M","MM"],function(t,e){e[mo]=Fe(t)-1});ht(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[mo]=i:Pe(n).invalidMonth=t});var vq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),aR="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),uR=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,gq=oh,mq=oh;function yq(t,e){return t?yi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||uR).test(e)?"format":"standalone"][t.month()]:yi(this._months)?this._months:this._months.standalone}function _q(t,e){return t?yi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[uR.test(e)?"format":"standalone"][t.month()]:yi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function wq(t,e,n){var r,i,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Xi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=jt.call(this._shortMonthsParse,a),i!==-1?i:null):(i=jt.call(this._longMonthsParse,a),i!==-1?i:null):e==="MMM"?(i=jt.call(this._shortMonthsParse,a),i!==-1?i:(i=jt.call(this._longMonthsParse,a),i!==-1?i:null)):(i=jt.call(this._longMonthsParse,a),i!==-1?i:(i=jt.call(this._shortMonthsParse,a),i!==-1?i:null))}function bq(t,e,n){var r,i,s;if(this._monthsParseExact)return wq.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Xi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function cR(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Fe(e);else if(e=t.localeData().monthsParse(e),!ko(e))return t}return n=Math.min(t.date(),Bv(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function lR(t){return t!=null?(cR(this,t),ne.updateOffset(this,!0),this):Ap(this,"Month")}function Eq(){return Bv(this.year(),this.month())}function Tq(t){return this._monthsParseExact?(et(this,"_monthsRegex")||fR.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(et(this,"_monthsShortRegex")||(this._monthsShortRegex=gq),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Iq(t){return this._monthsParseExact?(et(this,"_monthsRegex")||fR.call(this),t?this._monthsStrictRegex:this._monthsRegex):(et(this,"_monthsRegex")||(this._monthsRegex=mq),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function fR(){function t(a,c){return c.length-a.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=Xi([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=Sr(e[i]),n[i]=Sr(n[i]);for(i=0;i<24;i++)r[i]=Sr(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}we("Y",0,0,function(){var t=this.year();return t<=9999?zi(t,4):"+"+t});we(0,["YY",2],0,function(){return this.year()%100});we(0,["YYYY",4],0,"year");we(0,["YYYYY",5],0,"year");we(0,["YYYYYY",6,!0],0,"year");qn("year","y");Wn("year",1);ae("Y",jv);ae("YY",_t,Dr);ae("YYYY",eb,Z0);ae("YYYYY",Uv,Lv);ae("YYYYYY",Uv,Lv);ht(["YYYYY","YYYYYY"],Mn);ht("YYYY",function(t,e){e[Mn]=t.length===2?ne.parseTwoDigitYear(t):Fe(t)});ht("YY",function(t,e){e[Mn]=ne.parseTwoDigitYear(t)});ht("Y",function(t,e){e[Mn]=parseInt(t,10)});function cf(t){return Mv(t)?366:365}ne.parseTwoDigitYear=function(t){return Fe(t)+(Fe(t)>68?1900:2e3)};var hR=Lc("FullYear",!0);function Sq(){return Mv(this.year())}function Cq(t,e,n,r,i,s,a){var c;return t<100&&t>=0?(c=new Date(t+400,e,n,r,i,s,a),isFinite(c.getFullYear())&&c.setFullYear(t)):c=new Date(t,e,n,r,i,s,a),c}function Sf(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function kp(t,e,n){var r=7+e-n,i=(7+Sf(t,0,r).getUTCDay()-e)%7;return-i+r-1}function dR(t,e,n,r,i){var s=(7+n-r)%7,a=kp(t,r,i),c=1+7*(e-1)+s+a,l,h;return c<=0?(l=t-1,h=cf(l)+c):c>cf(t)?(l=t+1,h=c-cf(t)):(l=t,h=c),{year:l,dayOfYear:h}}function Cf(t,e,n){var r=kp(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,a;return i<1?(a=t.year()-1,s=i+Eo(a,e,n)):i>Eo(t.year(),e,n)?(s=i-Eo(t.year(),e,n),a=t.year()+1):(a=t.year(),s=i),{week:s,year:a}}function Eo(t,e,n){var r=kp(t,e,n),i=kp(t+1,e,n);return(cf(t)-r+i)/7}we("w",["ww",2],"wo","week");we("W",["WW",2],"Wo","isoWeek");qn("week","w");qn("isoWeek","W");Wn("week",5);Wn("isoWeek",5);ae("w",_t);ae("ww",_t,Dr);ae("W",_t);ae("WW",_t,Dr);sh(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Fe(t)});function Aq(t){return Cf(t,this._week.dow,this._week.doy).week}var Nq={dow:0,doy:6};function kq(){return this._week.dow}function xq(){return this._week.doy}function Rq(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Oq(t){var e=Cf(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}we("d",0,"do","day");we("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});we("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});we("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});we("e",0,0,"weekday");we("E",0,0,"isoWeekday");qn("day","d");qn("weekday","e");qn("isoWeekday","E");Wn("day",11);Wn("weekday",11);Wn("isoWeekday",11);ae("d",_t);ae("e",_t);ae("E",_t);ae("dd",function(t,e){return e.weekdaysMinRegex(t)});ae("ddd",function(t,e){return e.weekdaysShortRegex(t)});ae("dddd",function(t,e){return e.weekdaysRegex(t)});sh(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Pe(n).invalidWeekday=t});sh(["d","e","E"],function(t,e,n,r){e[r]=Fe(t)});function Pq(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Dq(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function tb(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Mq="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pR="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lq="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Fq=oh,Uq=oh,jq=oh;function Vq(t,e){var n=yi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?tb(n,this._week.dow):t?n[t.day()]:n}function Bq(t){return t===!0?tb(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function qq(t){return t===!0?tb(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Wq(t,e,n){var r,i,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Xi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=jt.call(this._weekdaysParse,a),i!==-1?i:null):e==="ddd"?(i=jt.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=jt.call(this._minWeekdaysParse,a),i!==-1?i:null):e==="dddd"?(i=jt.call(this._weekdaysParse,a),i!==-1||(i=jt.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=jt.call(this._minWeekdaysParse,a),i!==-1?i:null)):e==="ddd"?(i=jt.call(this._shortWeekdaysParse,a),i!==-1||(i=jt.call(this._weekdaysParse,a),i!==-1)?i:(i=jt.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=jt.call(this._minWeekdaysParse,a),i!==-1||(i=jt.call(this._weekdaysParse,a),i!==-1)?i:(i=jt.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function Hq(t,e,n){var r,i,s;if(this._weekdaysParseExact)return Wq.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Xi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Gq(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=Pq(t,this.localeData()),this.add(t-e,"d")):e}function $q(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Yq(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Dq(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function zq(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||nb.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(et(this,"_weekdaysRegex")||(this._weekdaysRegex=Fq),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kq(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||nb.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(et(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Uq),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qq(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||nb.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(et(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jq),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function nb(){function t(d,v){return v.length-d.length}var e=[],n=[],r=[],i=[],s,a,c,l,h;for(s=0;s<7;s++)a=Xi([2e3,1]).day(s),c=Sr(this.weekdaysMin(a,"")),l=Sr(this.weekdaysShort(a,"")),h=Sr(this.weekdays(a,"")),e.push(c),n.push(l),r.push(h),i.push(c),i.push(l),i.push(h);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function rb(){return this.hours()%12||12}function Xq(){return this.hours()||24}we("H",["HH",2],0,"hour");we("h",["hh",2],0,rb);we("k",["kk",2],0,Xq);we("hmm",0,0,function(){return""+rb.apply(this)+zi(this.minutes(),2)});we("hmmss",0,0,function(){return""+rb.apply(this)+zi(this.minutes(),2)+zi(this.seconds(),2)});we("Hmm",0,0,function(){return""+this.hours()+zi(this.minutes(),2)});we("Hmmss",0,0,function(){return""+this.hours()+zi(this.minutes(),2)+zi(this.seconds(),2)});function vR(t,e){we(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}vR("a",!0);vR("A",!1);qn("hour","h");Wn("hour",13);function gR(t,e){return e._meridiemParse}ae("a",gR);ae("A",gR);ae("H",_t);ae("h",_t);ae("k",_t);ae("HH",_t,Dr);ae("hh",_t,Dr);ae("kk",_t,Dr);ae("hmm",oR);ae("hmmss",sR);ae("Hmm",oR);ae("Hmmss",sR);ht(["H","HH"],rn);ht(["k","kk"],function(t,e,n){var r=Fe(t);e[rn]=r===24?0:r});ht(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ht(["h","hh"],function(t,e,n){e[rn]=Fe(t),Pe(n).bigHour=!0});ht("hmm",function(t,e,n){var r=t.length-2;e[rn]=Fe(t.substr(0,r)),e[ui]=Fe(t.substr(r)),Pe(n).bigHour=!0});ht("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[rn]=Fe(t.substr(0,r)),e[ui]=Fe(t.substr(r,2)),e[yo]=Fe(t.substr(i)),Pe(n).bigHour=!0});ht("Hmm",function(t,e,n){var r=t.length-2;e[rn]=Fe(t.substr(0,r)),e[ui]=Fe(t.substr(r))});ht("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[rn]=Fe(t.substr(0,r)),e[ui]=Fe(t.substr(r,2)),e[yo]=Fe(t.substr(i))});function Jq(t){return(t+"").toLowerCase().charAt(0)==="p"}var Zq=/[ap]\.?m?\.?/i,eW=Lc("Hours",!0);function tW(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var mR={calendar:HB,longDateFormat:zB,invalidDate:QB,ordinal:JB,dayOfMonthOrdinalParse:ZB,relativeTime:tq,months:vq,monthsShort:aR,week:Nq,weekdays:Mq,weekdaysMin:Lq,weekdaysShort:pR,meridiemParse:Zq},It={},Bl={},Af;function nW(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function rA(t){return t&&t.toLowerCase().replace("_","-")}function rW(t){for(var e=0,n,r,i,s;e<t.length;){for(s=rA(t[e]).split("-"),n=s.length,r=rA(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=qv(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&nW(s,r)>=n-1)break;n--}e++}return Af}function iW(t){return t.match("^[^/\\\\]*$")!=null}function qv(t){var e=null,n;if(It[t]===void 0&&typeof wp<"u"&&wp&&wp.exports&&iW(t))try{e=Af._abbr,n=require,n("./locale/"+t),ws(e)}catch{It[t]=null}return It[t]}function ws(t,e){var n;return t&&(fr(e)?n=Lo(t):n=ib(t,e),n?Af=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Af._abbr}function ib(t,e){if(e!==null){var n,r=mR;if(e.abbr=t,It[t]!=null)Zx("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=It[t]._config;else if(e.parentLocale!=null)if(It[e.parentLocale]!=null)r=It[e.parentLocale]._config;else if(n=qv(e.parentLocale),n!=null)r=n._config;else return Bl[e.parentLocale]||(Bl[e.parentLocale]=[]),Bl[e.parentLocale].push({name:t,config:e}),null;return It[t]=new Q0(Iw(r,e)),Bl[t]&&Bl[t].forEach(function(i){ib(i.name,i.config)}),ws(t),It[t]}else return delete It[t],null}function oW(t,e){if(e!=null){var n,r,i=mR;It[t]!=null&&It[t].parentLocale!=null?It[t].set(Iw(It[t]._config,e)):(r=qv(t),r!=null&&(i=r._config),e=Iw(i,e),r==null&&(e.abbr=t),n=new Q0(e),n.parentLocale=It[t],It[t]=n),ws(t)}else It[t]!=null&&(It[t].parentLocale!=null?(It[t]=It[t].parentLocale,t===ws()&&ws(t)):It[t]!=null&&delete It[t]);return It[t]}function Lo(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Af;if(!yi(t)){if(e=qv(t),e)return e;t=[t]}return rW(t)}function sW(){return Sw(It)}function ob(t){var e,n=t._a;return n&&Pe(t).overflow===-2&&(e=n[mo]<0||n[mo]>11?mo:n[Fi]<1||n[Fi]>Bv(n[Mn],n[mo])?Fi:n[rn]<0||n[rn]>24||n[rn]===24&&(n[ui]!==0||n[yo]!==0||n[pa]!==0)?rn:n[ui]<0||n[ui]>59?ui:n[yo]<0||n[yo]>59?yo:n[pa]<0||n[pa]>999?pa:-1,Pe(t)._overflowDayOfYear&&(e<Mn||e>Fi)&&(e=Fi),Pe(t)._overflowWeeks&&e===-1&&(e=hq),Pe(t)._overflowWeekday&&e===-1&&(e=dq),Pe(t).overflow=e),t}var aW=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,uW=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,cW=/Z|[+-]\d\d(?::?\d\d)?/,Ud=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],d_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],lW=/^\/?Date\((-?\d+)/i,fW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,hW={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function yR(t){var e,n,r=t._i,i=aW.exec(r)||uW.exec(r),s,a,c,l,h=Ud.length,d=d_.length;if(i){for(Pe(t).iso=!0,e=0,n=h;e<n;e++)if(Ud[e][1].exec(i[1])){a=Ud[e][0],s=Ud[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(d_[e][1].exec(i[3])){c=(i[2]||" ")+d_[e][0];break}if(c==null){t._isValid=!1;return}}if(!s&&c!=null){t._isValid=!1;return}if(i[4])if(cW.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=a+(c||"")+(l||""),ab(t)}else t._isValid=!1}function dW(t,e,n,r,i,s){var a=[pW(t),aR.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function pW(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function vW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function gW(t,e,n){if(t){var r=pR.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Pe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function mW(t,e,n){if(t)return hW[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function _R(t){var e=fW.exec(vW(t._i)),n;if(e){if(n=dW(e[4],e[3],e[2],e[5],e[6],e[7]),!gW(e[1],n,t))return;t._a=n,t._tzm=mW(e[8],e[9],e[10]),t._d=Sf.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Pe(t).rfc2822=!0}else t._isValid=!1}function yW(t){var e=lW.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(yR(t),t._isValid===!1)delete t._isValid;else return;if(_R(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ne.createFromInputFallback(t)}ne.createFromInputFallback=zr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Pu(t,e,n){return t??e??n}function _W(t){var e=new Date(ne.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function sb(t){var e,n,r=[],i,s,a;if(!t._d){for(i=_W(t),t._w&&t._a[Fi]==null&&t._a[mo]==null&&wW(t),t._dayOfYear!=null&&(a=Pu(t._a[Mn],i[Mn]),(t._dayOfYear>cf(a)||t._dayOfYear===0)&&(Pe(t)._overflowDayOfYear=!0),n=Sf(a,0,t._dayOfYear),t._a[mo]=n.getUTCMonth(),t._a[Fi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[rn]===24&&t._a[ui]===0&&t._a[yo]===0&&t._a[pa]===0&&(t._nextDay=!0,t._a[rn]=0),t._d=(t._useUTC?Sf:Cq).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[rn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Pe(t).weekdayMismatch=!0)}}function wW(t){var e,n,r,i,s,a,c,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,n=Pu(e.GG,t._a[Mn],Cf(yt(),1,4).year),r=Pu(e.W,1),i=Pu(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,h=Cf(yt(),s,a),n=Pu(e.gg,t._a[Mn],h.year),r=Pu(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>Eo(n,s,a)?Pe(t)._overflowWeeks=!0:l!=null?Pe(t)._overflowWeekday=!0:(c=dR(n,r,i,s,a),t._a[Mn]=c.year,t._dayOfYear=c.dayOfYear)}ne.ISO_8601=function(){};ne.RFC_2822=function(){};function ab(t){if(t._f===ne.ISO_8601){yR(t);return}if(t._f===ne.RFC_2822){_R(t);return}t._a=[],Pe(t).empty=!0;var e=""+t._i,n,r,i,s,a,c=e.length,l=0,h,d;for(i=eR(t._f,t._locale).match(X0)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(cq(s,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&Pe(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),l+=r.length),zu[s]?(r?Pe(t).empty=!1:Pe(t).unusedTokens.push(s),fq(s,r,t)):t._strict&&!r&&Pe(t).unusedTokens.push(s);Pe(t).charsLeftOver=c-l,e.length>0&&Pe(t).unusedInput.push(e),t._a[rn]<=12&&Pe(t).bigHour===!0&&t._a[rn]>0&&(Pe(t).bigHour=void 0),Pe(t).parsedDateParts=t._a.slice(0),Pe(t).meridiem=t._meridiem,t._a[rn]=bW(t._locale,t._a[rn],t._meridiem),h=Pe(t).era,h!==null&&(t._a[Mn]=t._locale.erasConvertYear(h,t._a[Mn])),sb(t),ob(t)}function bW(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function EW(t){var e,n,r,i,s,a,c=!1,l=t._f.length;if(l===0){Pe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,a=!1,e=K0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],ab(e),z0(e)&&(a=!0),s+=Pe(e).charsLeftOver,s+=Pe(e).unusedTokens.length*10,Pe(e).score=s,c?s<r&&(r=s,n=e):(r==null||s<r||a)&&(r=s,n=e,a&&(c=!0));hs(t,n||e)}function TW(t){if(!t._d){var e=J0(t._i),n=e.day===void 0?e.date:e.day;t._a=Xx([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),sb(t)}}function IW(t){var e=new ih(ob(wR(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function wR(t){var e=t._i,n=t._f;return t._locale=t._locale||Lo(t._l),e===null||n===void 0&&e===""?Dv({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),_i(e)?new ih(ob(e)):(rh(e)?t._d=e:yi(n)?EW(t):n?ab(t):SW(t),z0(t)||(t._d=null),t))}function SW(t){var e=t._i;fr(e)?t._d=new Date(ne.now()):rh(e)?t._d=new Date(e.valueOf()):typeof e=="string"?yW(t):yi(e)?(t._a=Xx(e.slice(0),function(n){return parseInt(n,10)}),sb(t)):Ea(e)?TW(t):ko(e)?t._d=new Date(e):ne.createFromInputFallback(t)}function bR(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(Ea(t)&&Y0(t)||yi(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,IW(s)}function yt(t,e,n,r){return bR(t,e,n,r,!1)}var CW=zr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Dv()}),AW=zr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=yt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Dv()});function ER(t,e){var n,r;if(e.length===1&&yi(e[0])&&(e=e[0]),!e.length)return yt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function NW(){var t=[].slice.call(arguments,0);return ER("isBefore",t)}function kW(){var t=[].slice.call(arguments,0);return ER("isAfter",t)}var xW=function(){return Date.now?Date.now():+new Date},ql=["year","quarter","month","week","day","hour","minute","second","millisecond"];function RW(t){var e,n=!1,r,i=ql.length;for(e in t)if(et(t,e)&&!(jt.call(ql,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[ql[r]]){if(n)return!1;parseFloat(t[ql[r]])!==Fe(t[ql[r]])&&(n=!0)}return!0}function OW(){return this._isValid}function PW(){return bi(NaN)}function Wv(t){var e=J0(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,c=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=RW(e),this._milliseconds=+d+h*1e3+l*6e4+c*1e3*60*60,this._days=+a+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Lo(),this._bubble()}function up(t){return t instanceof Wv}function Aw(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function DW(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,a;for(a=0;a<r;a++)(n&&t[a]!==e[a]||!n&&Fe(t[a])!==Fe(e[a]))&&s++;return s+i}function TR(t,e){we(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+zi(~~(n/60),2)+e+zi(~~n%60,2)})}TR("Z",":");TR("ZZ","");ae("Z",Vv);ae("ZZ",Vv);ht(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=ub(Vv,t)});var MW=/([\+\-]|\d\d)/gi;function ub(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(MW)||["-",0,0],s=+(i[1]*60)+Fe(i[2]),s===0?0:i[0]==="+"?s:-s)}function cb(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(_i(t)||rh(t)?t.valueOf():yt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ne.updateOffset(n,!1),n):yt(t).local()}function Nw(t){return-Math.round(t._d.getTimezoneOffset())}ne.updateOffset=function(){};function LW(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=ub(Vv,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Nw(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?CR(this,bi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ne.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Nw(this)}function FW(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function UW(t){return this.utcOffset(0,t)}function jW(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Nw(this),"m")),this}function VW(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=ub(aq,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function BW(t){return this.isValid()?(t=t?yt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function qW(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function WW(){if(!fr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return K0(t,this),t=wR(t),t._a?(e=t._isUTC?Xi(t._a):yt(t._a),this._isDSTShifted=this.isValid()&&DW(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function HW(){return this.isValid()?!this._isUTC:!1}function GW(){return this.isValid()?this._isUTC:!1}function IR(){return this.isValid()?this._isUTC&&this._offset===0:!1}var $W=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,YW=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bi(t,e){var n=t,r=null,i,s,a;return up(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:ko(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=$W.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Fe(r[Fi])*i,h:Fe(r[rn])*i,m:Fe(r[ui])*i,s:Fe(r[yo])*i,ms:Fe(Aw(r[pa]*1e3))*i}):(r=YW.exec(t))?(i=r[1]==="-"?-1:1,n={y:sa(r[2],i),M:sa(r[3],i),w:sa(r[4],i),d:sa(r[5],i),h:sa(r[6],i),m:sa(r[7],i),s:sa(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=zW(yt(n.from),yt(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new Wv(n),up(t)&&et(t,"_locale")&&(s._locale=t._locale),up(t)&&et(t,"_isValid")&&(s._isValid=t._isValid),s}bi.fn=Wv.prototype;bi.invalid=PW;function sa(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function iA(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function zW(t,e){var n;return t.isValid()&&e.isValid()?(e=cb(e,t),t.isBefore(e)?n=iA(t,e):(n=iA(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function SR(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(Zx(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=bi(n,r),CR(this,i,t),this}}function CR(t,e,n,r){var i=e._milliseconds,s=Aw(e._days),a=Aw(e._months);t.isValid()&&(r=r??!0,a&&cR(t,Ap(t,"Month")+a*n),s&&nR(t,"Date",Ap(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ne.updateOffset(t,s||a))}var KW=SR(1,"add"),QW=SR(-1,"subtract");function AR(t){return typeof t=="string"||t instanceof String}function XW(t){return _i(t)||rh(t)||AR(t)||ko(t)||ZW(t)||JW(t)||t===null||t===void 0}function JW(t){var e=Ea(t)&&!Y0(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=r.length;for(i=0;i<a;i+=1)s=r[i],n=n||et(t,s);return e&&n}function ZW(t){var e=yi(t),n=!1;return e&&(n=t.filter(function(r){return!ko(r)&&AR(t)}).length===0),e&&n}function eH(t){var e=Ea(t)&&!Y0(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||et(t,s);return e&&n}function tH(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function nH(t,e){arguments.length===1&&(arguments[0]?XW(arguments[0])?(t=arguments[0],e=void 0):eH(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||yt(),r=cb(n,this).startOf("day"),i=ne.calendarFormat(this,r)||"sameElse",s=e&&(Ji(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,yt(n)))}function rH(){return new ih(this)}function iH(t,e){var n=_i(t)?t:yt(t);return this.isValid()&&n.isValid()?(e=Kr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function oH(t,e){var n=_i(t)?t:yt(t);return this.isValid()&&n.isValid()?(e=Kr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function sH(t,e,n,r){var i=_i(t)?t:yt(t),s=_i(e)?e:yt(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function aH(t,e){var n=_i(t)?t:yt(t),r;return this.isValid()&&n.isValid()?(e=Kr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function uH(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function cH(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function lH(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=cb(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Kr(e),e){case"year":s=cp(this,r)/12;break;case"month":s=cp(this,r);break;case"quarter":s=cp(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Br(s)}function cp(t,e){if(t.date()<e.date())return-cp(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}ne.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ne.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function fH(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function hH(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?ap(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ji(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ap(n,"Z")):ap(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function dH(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function pH(t){t||(t=this.isUtc()?ne.defaultFormatUtc:ne.defaultFormat);var e=ap(this,t);return this.localeData().postformat(e)}function vH(t,e){return this.isValid()&&(_i(t)&&t.isValid()||yt(t).isValid())?bi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function gH(t){return this.from(yt(),t)}function mH(t,e){return this.isValid()&&(_i(t)&&t.isValid()||yt(t).isValid())?bi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function yH(t){return this.to(yt(),t)}function NR(t){var e;return t===void 0?this._locale._abbr:(e=Lo(t),e!=null&&(this._locale=e),this)}var kR=zr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function xR(){return this._locale}var xp=1e3,Ku=60*xp,Rp=60*Ku,RR=(365*400+97)*24*Rp;function Qu(t,e){return(t%e+e)%e}function OR(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-RR:new Date(t,e,n).valueOf()}function PR(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-RR:Date.UTC(t,e,n)}function _H(t){var e,n;if(t=Kr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?PR:OR,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Qu(e+(this._isUTC?0:this.utcOffset()*Ku),Rp);break;case"minute":e=this._d.valueOf(),e-=Qu(e,Ku);break;case"second":e=this._d.valueOf(),e-=Qu(e,xp);break}return this._d.setTime(e),ne.updateOffset(this,!0),this}function wH(t){var e,n;if(t=Kr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?PR:OR,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Rp-Qu(e+(this._isUTC?0:this.utcOffset()*Ku),Rp)-1;break;case"minute":e=this._d.valueOf(),e+=Ku-Qu(e,Ku)-1;break;case"second":e=this._d.valueOf(),e+=xp-Qu(e,xp)-1;break}return this._d.setTime(e),ne.updateOffset(this,!0),this}function bH(){return this._d.valueOf()-(this._offset||0)*6e4}function EH(){return Math.floor(this.valueOf()/1e3)}function TH(){return new Date(this.valueOf())}function IH(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function SH(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function CH(){return this.isValid()?this.toISOString():null}function AH(){return z0(this)}function NH(){return hs({},Pe(this))}function kH(){return Pe(this).overflow}function xH(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}we("N",0,0,"eraAbbr");we("NN",0,0,"eraAbbr");we("NNN",0,0,"eraAbbr");we("NNNN",0,0,"eraName");we("NNNNN",0,0,"eraNarrow");we("y",["y",1],"yo","eraYear");we("y",["yy",2],0,"eraYear");we("y",["yyy",3],0,"eraYear");we("y",["yyyy",4],0,"eraYear");ae("N",lb);ae("NN",lb);ae("NNN",lb);ae("NNNN",BH);ae("NNNNN",qH);ht(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Pe(n).era=i:Pe(n).invalidEra=t});ae("y",Fc);ae("yy",Fc);ae("yyy",Fc);ae("yyyy",Fc);ae("yo",WH);ht(["y","yy","yyy","yyyy"],Mn);ht(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Mn]=n._locale.eraYearOrdinalParse(t,i):e[Mn]=parseInt(t,10)});function RH(t,e){var n,r,i,s=this._eras||Lo("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=ne(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=ne(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function OH(t,e,n){var r,i,s=this.eras(),a,c,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),c=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(c===t)return s[r];break;case"NNNN":if(a===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([a,c,l].indexOf(t)>=0)return s[r]}function PH(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ne(t.since).year():ne(t.since).year()+(e-t.offset)*n}function DH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function MH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function LH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function FH(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ne(i[t].since).year())*n+i[t].offset;return this.year()}function UH(t){return et(this,"_erasNameRegex")||fb.call(this),t?this._erasNameRegex:this._erasRegex}function jH(t){return et(this,"_erasAbbrRegex")||fb.call(this),t?this._erasAbbrRegex:this._erasRegex}function VH(t){return et(this,"_erasNarrowRegex")||fb.call(this),t?this._erasNarrowRegex:this._erasRegex}function lb(t,e){return e.erasAbbrRegex(t)}function BH(t,e){return e.erasNameRegex(t)}function qH(t,e){return e.erasNarrowRegex(t)}function WH(t,e){return e._eraYearOrdinalRegex||Fc}function fb(){var t=[],e=[],n=[],r=[],i,s,a=this.eras();for(i=0,s=a.length;i<s;++i)e.push(Sr(a[i].name)),t.push(Sr(a[i].abbr)),n.push(Sr(a[i].narrow)),r.push(Sr(a[i].name)),r.push(Sr(a[i].abbr)),r.push(Sr(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}we(0,["gg",2],0,function(){return this.weekYear()%100});we(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Hv(t,e){we(0,[t,t.length],0,e)}Hv("gggg","weekYear");Hv("ggggg","weekYear");Hv("GGGG","isoWeekYear");Hv("GGGGG","isoWeekYear");qn("weekYear","gg");qn("isoWeekYear","GG");Wn("weekYear",1);Wn("isoWeekYear",1);ae("G",jv);ae("g",jv);ae("GG",_t,Dr);ae("gg",_t,Dr);ae("GGGG",eb,Z0);ae("gggg",eb,Z0);ae("GGGGG",Uv,Lv);ae("ggggg",Uv,Lv);sh(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Fe(t)});sh(["gg","GG"],function(t,e,n,r){e[r]=ne.parseTwoDigitYear(t)});function HH(t){return DR.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function GH(t){return DR.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function $H(){return Eo(this.year(),1,4)}function YH(){return Eo(this.isoWeekYear(),1,4)}function zH(){var t=this.localeData()._week;return Eo(this.year(),t.dow,t.doy)}function KH(){var t=this.localeData()._week;return Eo(this.weekYear(),t.dow,t.doy)}function DR(t,e,n,r,i){var s;return t==null?Cf(this,r,i).year:(s=Eo(t,r,i),e>s&&(e=s),QH.call(this,t,e,n,r,i))}function QH(t,e,n,r,i){var s=dR(t,e,n,r,i),a=Sf(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}we("Q",0,"Qo","quarter");qn("quarter","Q");Wn("quarter",7);ae("Q",rR);ht("Q",function(t,e){e[mo]=(Fe(t)-1)*3});function XH(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}we("D",["DD",2],"Do","date");qn("date","D");Wn("date",9);ae("D",_t);ae("DD",_t,Dr);ae("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ht(["D","DD"],Fi);ht("Do",function(t,e){e[Fi]=Fe(t.match(_t)[0])});var MR=Lc("Date",!0);we("DDD",["DDDD",3],"DDDo","dayOfYear");qn("dayOfYear","DDD");Wn("dayOfYear",4);ae("DDD",Fv);ae("DDDD",iR);ht(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Fe(t)});function JH(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}we("m",["mm",2],0,"minute");qn("minute","m");Wn("minute",14);ae("m",_t);ae("mm",_t,Dr);ht(["m","mm"],ui);var ZH=Lc("Minutes",!1);we("s",["ss",2],0,"second");qn("second","s");Wn("second",15);ae("s",_t);ae("ss",_t,Dr);ht(["s","ss"],yo);var eG=Lc("Seconds",!1);we("S",0,0,function(){return~~(this.millisecond()/100)});we(0,["SS",2],0,function(){return~~(this.millisecond()/10)});we(0,["SSS",3],0,"millisecond");we(0,["SSSS",4],0,function(){return this.millisecond()*10});we(0,["SSSSS",5],0,function(){return this.millisecond()*100});we(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});we(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});we(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});we(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});qn("millisecond","ms");Wn("millisecond",16);ae("S",Fv,rR);ae("SS",Fv,Dr);ae("SSS",Fv,iR);var ds,LR;for(ds="SSSS";ds.length<=9;ds+="S")ae(ds,Fc);function tG(t,e){e[pa]=Fe(("0."+t)*1e3)}for(ds="S";ds.length<=9;ds+="S")ht(ds,tG);LR=Lc("Milliseconds",!1);we("z",0,0,"zoneAbbr");we("zz",0,0,"zoneName");function nG(){return this._isUTC?"UTC":""}function rG(){return this._isUTC?"Coordinated Universal Time":""}var Q=ih.prototype;Q.add=KW;Q.calendar=nH;Q.clone=rH;Q.diff=lH;Q.endOf=wH;Q.format=pH;Q.from=vH;Q.fromNow=gH;Q.to=mH;Q.toNow=yH;Q.get=oq;Q.invalidAt=kH;Q.isAfter=iH;Q.isBefore=oH;Q.isBetween=sH;Q.isSame=aH;Q.isSameOrAfter=uH;Q.isSameOrBefore=cH;Q.isValid=AH;Q.lang=kR;Q.locale=NR;Q.localeData=xR;Q.max=AW;Q.min=CW;Q.parsingFlags=NH;Q.set=sq;Q.startOf=_H;Q.subtract=QW;Q.toArray=IH;Q.toObject=SH;Q.toDate=TH;Q.toISOString=hH;Q.inspect=dH;typeof Symbol<"u"&&Symbol.for!=null&&(Q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Q.toJSON=CH;Q.toString=fH;Q.unix=EH;Q.valueOf=bH;Q.creationData=xH;Q.eraName=DH;Q.eraNarrow=MH;Q.eraAbbr=LH;Q.eraYear=FH;Q.year=hR;Q.isLeapYear=Sq;Q.weekYear=HH;Q.isoWeekYear=GH;Q.quarter=Q.quarters=XH;Q.month=lR;Q.daysInMonth=Eq;Q.week=Q.weeks=Rq;Q.isoWeek=Q.isoWeeks=Oq;Q.weeksInYear=zH;Q.weeksInWeekYear=KH;Q.isoWeeksInYear=$H;Q.isoWeeksInISOWeekYear=YH;Q.date=MR;Q.day=Q.days=Gq;Q.weekday=$q;Q.isoWeekday=Yq;Q.dayOfYear=JH;Q.hour=Q.hours=eW;Q.minute=Q.minutes=ZH;Q.second=Q.seconds=eG;Q.millisecond=Q.milliseconds=LR;Q.utcOffset=LW;Q.utc=UW;Q.local=jW;Q.parseZone=VW;Q.hasAlignedHourOffset=BW;Q.isDST=qW;Q.isLocal=HW;Q.isUtcOffset=GW;Q.isUtc=IR;Q.isUTC=IR;Q.zoneAbbr=nG;Q.zoneName=rG;Q.dates=zr("dates accessor is deprecated. Use date instead.",MR);Q.months=zr("months accessor is deprecated. Use month instead",lR);Q.years=zr("years accessor is deprecated. Use year instead",hR);Q.zone=zr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",FW);Q.isDSTShifted=zr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",WW);function iG(t){return yt(t*1e3)}function oG(){return yt.apply(null,arguments).parseZone()}function FR(t){return t}var tt=Q0.prototype;tt.calendar=GB;tt.longDateFormat=KB;tt.invalidDate=XB;tt.ordinal=eq;tt.preparse=FR;tt.postformat=FR;tt.relativeTime=nq;tt.pastFuture=rq;tt.set=WB;tt.eras=RH;tt.erasParse=OH;tt.erasConvertYear=PH;tt.erasAbbrRegex=jH;tt.erasNameRegex=UH;tt.erasNarrowRegex=VH;tt.months=yq;tt.monthsShort=_q;tt.monthsParse=bq;tt.monthsRegex=Iq;tt.monthsShortRegex=Tq;tt.week=Aq;tt.firstDayOfYear=xq;tt.firstDayOfWeek=kq;tt.weekdays=Vq;tt.weekdaysMin=qq;tt.weekdaysShort=Bq;tt.weekdaysParse=Hq;tt.weekdaysRegex=zq;tt.weekdaysShortRegex=Kq;tt.weekdaysMinRegex=Qq;tt.isPM=Jq;tt.meridiem=tW;function Op(t,e,n,r){var i=Lo(),s=Xi().set(r,e);return i[n](s,t)}function UR(t,e,n){if(ko(t)&&(e=t,t=void 0),t=t||"",e!=null)return Op(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Op(t,r,n,"month");return i}function hb(t,e,n,r){typeof t=="boolean"?(ko(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,ko(e)&&(n=e,e=void 0),e=e||"");var i=Lo(),s=t?i._week.dow:0,a,c=[];if(n!=null)return Op(e,(n+s)%7,r,"day");for(a=0;a<7;a++)c[a]=Op(e,(a+s)%7,r,"day");return c}function sG(t,e){return UR(t,e,"months")}function aG(t,e){return UR(t,e,"monthsShort")}function uG(t,e,n){return hb(t,e,n,"weekdays")}function cG(t,e,n){return hb(t,e,n,"weekdaysShort")}function lG(t,e,n){return hb(t,e,n,"weekdaysMin")}ws("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Fe(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ne.lang=zr("moment.lang is deprecated. Use moment.locale instead.",ws);ne.langData=zr("moment.langData is deprecated. Use moment.localeData instead.",Lo);var lo=Math.abs;function fG(){var t=this._data;return this._milliseconds=lo(this._milliseconds),this._days=lo(this._days),this._months=lo(this._months),t.milliseconds=lo(t.milliseconds),t.seconds=lo(t.seconds),t.minutes=lo(t.minutes),t.hours=lo(t.hours),t.months=lo(t.months),t.years=lo(t.years),this}function jR(t,e,n,r){var i=bi(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function hG(t,e){return jR(this,t,e,1)}function dG(t,e){return jR(this,t,e,-1)}function oA(t){return t<0?Math.floor(t):Math.ceil(t)}function pG(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,a,c,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=oA(kw(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Br(t/1e3),r.seconds=i%60,s=Br(i/60),r.minutes=s%60,a=Br(s/60),r.hours=a%24,e+=Br(a/24),l=Br(VR(e)),n+=l,e-=oA(kw(l)),c=Br(n/12),n%=12,r.days=e,r.months=n,r.years=c,this}function VR(t){return t*4800/146097}function kw(t){return t*146097/4800}function vG(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Kr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+VR(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(kw(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function gG(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Fe(this._months/12)*31536e6:NaN}function Fo(t){return function(){return this.as(t)}}var mG=Fo("ms"),yG=Fo("s"),_G=Fo("m"),wG=Fo("h"),bG=Fo("d"),EG=Fo("w"),TG=Fo("M"),IG=Fo("Q"),SG=Fo("y");function CG(){return bi(this)}function AG(t){return t=Kr(t),this.isValid()?this[t+"s"]():NaN}function Ba(t){return function(){return this.isValid()?this._data[t]:NaN}}var NG=Ba("milliseconds"),kG=Ba("seconds"),xG=Ba("minutes"),RG=Ba("hours"),OG=Ba("days"),PG=Ba("months"),DG=Ba("years");function MG(){return Br(this.days()/7)}var vo=Math.round,Uu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function LG(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function FG(t,e,n,r){var i=bi(t).abs(),s=vo(i.as("s")),a=vo(i.as("m")),c=vo(i.as("h")),l=vo(i.as("d")),h=vo(i.as("M")),d=vo(i.as("w")),v=vo(i.as("y")),g=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||c<=1&&["h"]||c<n.h&&["hh",c]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(g=g||d<=1&&["w"]||d<n.w&&["ww",d]),g=g||h<=1&&["M"]||h<n.M&&["MM",h]||v<=1&&["y"]||["yy",v],g[2]=e,g[3]=+t>0,g[4]=r,LG.apply(null,g)}function UG(t){return t===void 0?vo:typeof t=="function"?(vo=t,!0):!1}function jG(t,e){return Uu[t]===void 0?!1:e===void 0?Uu[t]:(Uu[t]=e,t==="s"&&(Uu.ss=e-1),!0)}function VG(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Uu,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Uu,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=FG(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var p_=Math.abs;function Iu(t){return(t>0)-(t<0)||+t}function Gv(){if(!this.isValid())return this.localeData().invalidDate();var t=p_(this._milliseconds)/1e3,e=p_(this._days),n=p_(this._months),r,i,s,a,c=this.asSeconds(),l,h,d,v;return c?(r=Br(t/60),i=Br(r/60),t%=60,r%=60,s=Br(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=c<0?"-":"",h=Iu(this._months)!==Iu(c)?"-":"",d=Iu(this._days)!==Iu(c)?"-":"",v=Iu(this._milliseconds)!==Iu(c)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?v+i+"H":"")+(r?v+r+"M":"")+(t?v+a+"S":"")):"P0D"}var $e=Wv.prototype;$e.isValid=OW;$e.abs=fG;$e.add=hG;$e.subtract=dG;$e.as=vG;$e.asMilliseconds=mG;$e.asSeconds=yG;$e.asMinutes=_G;$e.asHours=wG;$e.asDays=bG;$e.asWeeks=EG;$e.asMonths=TG;$e.asQuarters=IG;$e.asYears=SG;$e.valueOf=gG;$e._bubble=pG;$e.clone=CG;$e.get=AG;$e.milliseconds=NG;$e.seconds=kG;$e.minutes=xG;$e.hours=RG;$e.days=OG;$e.weeks=MG;$e.months=PG;$e.years=DG;$e.humanize=VG;$e.toISOString=Gv;$e.toString=Gv;$e.toJSON=Gv;$e.locale=NR;$e.localeData=xR;$e.toIsoString=zr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gv);$e.lang=kR;we("X",0,0,"unix");we("x",0,0,"valueOf");ae("x",jv);ae("X",uq);ht("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ht("x",function(t,e,n){n._d=new Date(Fe(t))});//! moment.js
ne.version="2.29.4";BB(yt);ne.fn=Q;ne.min=NW;ne.max=kW;ne.now=xW;ne.utc=Xi;ne.unix=iG;ne.months=sG;ne.isDate=rh;ne.locale=ws;ne.invalid=Dv;ne.duration=bi;ne.isMoment=_i;ne.weekdays=uG;ne.parseZone=oG;ne.localeData=Lo;ne.isDuration=up;ne.monthsShort=aG;ne.weekdaysMin=lG;ne.defineLocale=ib;ne.updateLocale=oW;ne.locales=sW;ne.weekdaysShort=cG;ne.normalizeUnits=Kr;ne.relativeTimeRounding=UG;ne.relativeTimeThreshold=jG;ne.calendarFormat=tH;ne.prototype=Q;ne.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var BG="store";function Uc(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function qG(t){return t!==null&&typeof t=="object"}function WG(t){return t&&typeof t.then=="function"}function HG(t,e){return function(){return t(e)}}function BR(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function qR(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;$v(t,n,[],t._modules.root,!0),db(t,n,e)}function db(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};Uc(i,function(a,c){s[c]=HG(a,t),Object.defineProperty(t.getters,c,{get:function(){return s[c]()},enumerable:!0})}),t._state=nh({data:e}),t.strict&&KG(t),r&&n&&t._withCommit(function(){r.data=null})}function $v(t,e,n,r,i){var s=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!s&&!i){var c=pb(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){c[l]=r.state})}var h=r.context=GG(t,a,n);r.forEachMutation(function(d,v){var g=a+v;$G(t,g,d,h)}),r.forEachAction(function(d,v){var g=d.root?v:a+v,y=d.handler||d;YG(t,g,y,h)}),r.forEachGetter(function(d,v){var g=a+v;zG(t,g,d,h)}),r.forEachChild(function(d,v){$v(t,e,n.concat(v),d,i)})}function GG(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,a,c){var l=Pp(s,a,c),h=l.payload,d=l.options,v=l.type;return(!d||!d.root)&&(v=e+v),t.dispatch(v,h)},commit:r?t.commit:function(s,a,c){var l=Pp(s,a,c),h=l.payload,d=l.options,v=l.type;(!d||!d.root)&&(v=e+v),t.commit(v,h,d)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return WR(t,e)}},state:{get:function(){return pb(t.state,n)}}}),i}function WR(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function $G(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){n.call(t,r.state,a)})}function YG(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var c=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},a);return WG(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):c})}function zG(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function KG(t){Yu(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function pb(t,e){return e.reduce(function(n,r){return n[r]},t)}function Pp(t,e,n){return qG(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var QG="vuex bindings",sA="vuex:mutations",v_="vuex:actions",Su="vuex",XG=0;function JG(t,e){T3({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[QG]},function(n){n.addTimelineLayer({id:sA,label:"Vuex Mutations",color:aA}),n.addTimelineLayer({id:v_,label:"Vuex Actions",color:aA}),n.addInspector({id:Su,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Su)if(r.filter){var i=[];YR(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[$R(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Su){var i=r.nodeId;WR(e,i),r.state=t$(r$(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Su){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Su),n.sendInspectorState(Su),n.addTimelineEvent({layerId:sA,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=XG++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:v_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:v_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var aA=8702998,ZG=6710886,e$=16777215,HR={label:"namespaced",textColor:e$,backgroundColor:ZG};function GR(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function $R(t,e){return{id:e||"root",label:GR(e),tags:t.namespaced?[HR]:[],children:Object.keys(t._children).map(function(n){return $R(t._children[n],e+n+"/")})}}function YR(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[HR]:[]}),Object.keys(e._children).forEach(function(i){YR(t,e._children[i],n,r+i+"/")})}function t$(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(r.length){var s=n$(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?GR(a):a,editable:!1,value:xw(function(){return s[a]})}})}return i}function n$(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=xw(function(){return t[n]})}else e[n]=xw(function(){return t[n]})}),e}function r$(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function xw(t){try{return t()}catch(e){return e}}var Ei=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},zR={namespaced:{configurable:!0}};zR.namespaced.get=function(){return!!this._rawModule.namespaced};Ei.prototype.addChild=function(e,n){this._children[e]=n};Ei.prototype.removeChild=function(e){delete this._children[e]};Ei.prototype.getChild=function(e){return this._children[e]};Ei.prototype.hasChild=function(e){return e in this._children};Ei.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Ei.prototype.forEachChild=function(e){Uc(this._children,e)};Ei.prototype.forEachGetter=function(e){this._rawModule.getters&&Uc(this._rawModule.getters,e)};Ei.prototype.forEachAction=function(e){this._rawModule.actions&&Uc(this._rawModule.actions,e)};Ei.prototype.forEachMutation=function(e){this._rawModule.mutations&&Uc(this._rawModule.mutations,e)};Object.defineProperties(Ei.prototype,zR);var qa=function(e){this.register([],e,!1)};qa.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};qa.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};qa.prototype.update=function(e){KR([],this.root,e)};qa.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new Ei(n,r);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&Uc(n.modules,function(c,l){i.register(e.concat(l),c,r)})};qa.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};qa.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function KR(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;KR(t.concat(r),e.getChild(r),n.modules[r])}}function i$(t){return new _r(t)}var _r=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new qa(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var a=this,c=this,l=c.dispatch,h=c.commit;this.dispatch=function(g,y){return l.call(a,g,y)},this.commit=function(g,y,w){return h.call(a,g,y,w)},this.strict=i;var d=this._modules.root.state;$v(this,d,[],this._modules.root),db(this,d),r.forEach(function(v){return v(n)})},vb={state:{configurable:!0}};_r.prototype.install=function(e,n){e.provide(n||BG,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&JG(e,this)};vb.state.get=function(){return this._state.data};vb.state.set=function(t){};_r.prototype.commit=function(e,n,r){var i=this,s=Pp(e,n,r),a=s.type,c=s.payload,l={type:a,payload:c},h=this._mutations[a];h&&(this._withCommit(function(){h.forEach(function(v){v(c)})}),this._subscribers.slice().forEach(function(d){return d(l,i.state)}))};_r.prototype.dispatch=function(e,n){var r=this,i=Pp(e,n),s=i.type,a=i.payload,c={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(d){return d(a)})):l[0](a);return new Promise(function(d,v){h.then(function(g){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(c,r.state)})}catch{}d(g)},function(g){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(c,r.state,g)})}catch{}v(g)})})}};_r.prototype.subscribe=function(e,n){return BR(e,this._subscribers,n)};_r.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return BR(r,this._actionSubscribers,n)};_r.prototype.watch=function(e,n,r){var i=this;return Yu(function(){return e(i.state,i.getters)},n,Object.assign({},r))};_r.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};_r.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),$v(this,this.state,e,this._modules.get(e),r.preserveState),db(this,this.state)};_r.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=pb(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),qR(this)};_r.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};_r.prototype.hotUpdate=function(e){this._modules.update(e),qR(this,!0)};_r.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(_r.prototype,vb);var o$=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===s$}(e)}(t)},s$=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Zl(t,e){return e.clone!==!1&&e.isMergeableObject(t)?lc(Array.isArray(t)?[]:{},t,e):t}function a$(t,e,n){return t.concat(e).map(function(r){return Zl(r,n)})}function uA(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return e.propertyIsEnumerable(n)}):[]}(t))}function cA(t,e){try{return e in t}catch{return!1}}function lc(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||a$,n.isMergeableObject=n.isMergeableObject||o$,n.cloneUnlessOtherwiseSpecified=Zl;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(i,s,a){var c={};return a.isMergeableObject(i)&&uA(i).forEach(function(l){c[l]=Zl(i[l],a)}),uA(s).forEach(function(l){(function(h,d){return cA(h,d)&&!(Object.hasOwnProperty.call(h,d)&&Object.propertyIsEnumerable.call(h,d))})(i,l)||(c[l]=cA(i,l)&&a.isMergeableObject(s[l])?function(h,d){if(!d.customMerge)return lc;var v=d.customMerge(h);return typeof v=="function"?v:lc}(l,a)(i[l],s[l],a):Zl(s[l],a))}),c}(t,e,n):Zl(e,n)}lc.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return lc(n,r,e)},{})};var u$=lc;function c$(t){var e=(t=t||{}).storage||window&&window.localStorage,n=t.key||"vuex";function r(d,v){var g=v.getItem(d);try{return typeof g=="string"?JSON.parse(g):typeof g=="object"?g:void 0}catch{}}function i(){return!0}function s(d,v,g){return g.setItem(d,JSON.stringify(v))}function a(d,v){return Array.isArray(v)?v.reduce(function(g,y){return function(T,N,P,M){return!/^(__proto__|constructor|prototype)$/.test(N)&&((N=N.split?N.split("."):N.slice(0)).slice(0,-1).reduce(function(U,X){return U[X]=U[X]||{}},T)[N.pop()]=P),T}(g,y,(w=d,(w=((E=y).split?E.split("."):E).reduce(function(T,N){return T&&T[N]},w))===void 0?void 0:w));var w,E},{}):d}function c(d){return function(v){return d.subscribe(v)}}(t.assertStorage||function(){e.setItem("@@",1),e.removeItem("@@")})(e);var l,h=function(){return(t.getState||r)(n,e)};return t.fetchBeforeUse&&(l=h()),function(d){t.fetchBeforeUse||(l=h()),typeof l=="object"&&l!==null&&(d.replaceState(t.overwrite?l:u$(d.state,l,{arrayMerge:t.arrayMerger||function(v,g){return g},clone:!1})),(t.rehydrated||function(){})(d)),(t.subscriber||c)(d)(function(v,g){(t.filter||i)(v)&&(t.setState||s)(n,(t.reducer||a)(g,t.paths),e)})}}const mn=i$({state(){return{user:null}},mutations:{SET_USER:(t,e)=>{t.user=e},SET_BACKGROUND_IMAGE:(t,e)=>{t.user.background_image_url=e},SET_PROFILE_IMAGE:(t,e)=>{t.user.profile_image_url=e},SET_FOLLOW:(t,e)=>{t.user.followings.push(e)},SET_UN_FOLLOW:(t,e)=>{t.user.followings=t.user.followings.filter(n=>n!==e)}},plugins:[c$()]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rw=function(t,e){return Rw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Rw(t,e)};function ee(t,e){Rw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var pt=function(){return pt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},pt.apply(this,arguments)};function x(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(t,e||[])).next())})}function k(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Bt(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nf(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Uo(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Nf(arguments[e]));return t}function Wt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QR={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(t,e){if(!t)throw jc(e)},jc=function(t){return new Error("Firebase Database ("+QR.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XR=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},l$=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{var s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,g=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(g=64)),r.push(n[d],n[v],n[g],n[y])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XR(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],a=i<t.length,c=a?n[t.charAt(i)]:0;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;++i;var d=i<t.length,v=d?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var g=s<<2|c>>4;if(r.push(g),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var w=h<<6&192|v;r.push(w)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},f$=function(t){var e=XR(t);return gb.encodeByteArray(e,!0)},lA=function(t){try{return gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){return kf(void 0,t)}function kf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!h$(r)||(t[r]=kf(t[r],e[r]));return t}function h$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ra())}function d$(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p$(){return typeof self=="object"&&self.self===self}function yb(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v$(){return Ra().indexOf("Electron/")>=0}function g$(){var t=Ra();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m$(){return Ra().indexOf("MSAppHost/")>=0}function eO(){return QR.NODE_ADMIN===!0}function _b(){return"indexedDB"in self&&indexedDB!=null}function wb(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){e(s)}})}function tO(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y$="FirebaseError",Vc=function(t){ee(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name=y$,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Rs.prototype.create),s}return e}(Error),Rs=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+e,a=this.errors[e],c=a?_$(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Vc(s,l,i);return h},t}();function _$(t,e){return t.replace(w$,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var w$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){return JSON.parse(t)}function tn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nO=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=xf(lA(s[0])||""),n=xf(lA(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},b$=function(t){var e=nO(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},E$=function(t){var e=nO(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ci(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ow(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dp(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){for(var e=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){e.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I$=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,g,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),g=1518500249):(v=c^l^h,g=1859775393):i<60?(v=c&l|h&(c|l),g=2400959708):(v=c^l^h,g=3395469782);var s=(a<<5|a>>>27)+v+d+g+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e},t}();function S$(t,e){var n=new C$(t,e);return n.subscribe.bind(n)}var C$=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");A$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=g_),s.error===void 0&&(s.error=g_),s.complete===void 0&&(s.complete=g_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function A$(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function g_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function $r(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function pn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error($r(t,e,r)+"must be a valid function.")}function fA(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error($r(t,e,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N$=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lp=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k$=1e3,x$=2,R$=4*60*60*1e3,O$=.5;function Pw(t,e,n){e===void 0&&(e=k$),n===void 0&&(n=x$);var r=e*Math.pow(n,t),i=Math.round(O$*r*(Math.random()-.5)*2);return Math.min(R$,r+i)}var yr=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Du="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rO=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(e){e===void 0&&(e=Du);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new hr;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=pt({identifier:Du,optional:!1},e),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(c){if(i)return null;throw c}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,D$(e))try{this.getOrInitializeService(Du)}catch{}try{for(var i=Bt(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Nf(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService(h);l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Du),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return x(this,void 0,void 0,function(){var e;return k(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Uo(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.getOrInitializeService=function(e){var n=this.instances.get(e);return!n&&this.component&&(n=this.component.instanceFactory(this.container,P$(e)),this.instances.set(e,n)),n||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Du:e},t}();function P$(t){return t===Du?void 0:t}function D$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iO=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new rO(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ri(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aa,bb=[],Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));var oO={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},M$=Le.INFO,L$=(aa={},aa[Le.DEBUG]="log",aa[Le.VERBOSE]="log",aa[Le.INFO]="info",aa[Le.WARN]="warn",aa[Le.ERROR]="error",aa),F$=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),s=L$[e];if(s)console[s].apply(console,ri(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Bc=function(){function t(e){this.name=e,this._logLevel=M$,this._logHandler=F$,this._userLogHandler=null,bb.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Le))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?oO[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ri([this,Le.DEBUG],e)),this._logHandler.apply(this,ri([this,Le.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ri([this,Le.VERBOSE],e)),this._logHandler.apply(this,ri([this,Le.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ri([this,Le.INFO],e)),this._logHandler.apply(this,ri([this,Le.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ri([this,Le.WARN],e)),this._logHandler.apply(this,ri([this,Le.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ri([this,Le.ERROR],e)),this._logHandler.apply(this,ri([this,Le.ERROR],e))},t}();function U$(t){bb.forEach(function(e){e.setLogLevel(t)})}function j$(t,e){for(var n=function(a){var c=null;e&&e.level&&(c=oO[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var g=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&t({level:Le[h].toLowerCase(),message:g,args:d,type:l.name})}},r=0,i=bb;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jo,V$=(Jo={},Jo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Jo["bad-app-name"]="Illegal App name: '{$appName}",Jo["duplicate-app"]="Firebase App named '{$appName}' already exists",Jo["app-deleted"]="Firebase App named '{$appName}' already deleted",Jo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Jo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Jo),Mu=new Rs("app","Firebase",V$),sO="@firebase/app",B$="0.6.14",q$="@firebase/analytics",W$="@firebase/auth",H$="@firebase/database",G$="@firebase/functions",$$="@firebase/installations",Y$="@firebase/messaging",z$="@firebase/performance",K$="@firebase/remote-config",Q$="@firebase/storage",X$="@firebase/firestore",J$="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,Mp="[DEFAULT]",Z$=(Yn={},Yn[sO]="fire-core",Yn[q$]="fire-analytics",Yn[W$]="fire-auth",Yn[H$]="fire-rtdb",Yn[G$]="fire-fn",Yn[$$]="fire-iid",Yn[Y$]="fire-fcm",Yn[z$]="fire-perf",Yn[K$]="fire-rc",Yn[Q$]="fire-gcs",Yn[X$]="fire-fst",Yn["fire-js"]="fire-js",Yn[J$]="fire-js-all",Yn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fc=new Bc("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp=function(){function t(e,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=JR(e),this.container=new iO(n.name),this._addComponent(new yr("app",function(){return a},"PUBLIC"));try{for(var c=Bt(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){return n===void 0&&(n=Mp),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Mp),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){fc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Mu.create("app-deleted",{appName:this.name_})},t}();fp.prototype.name&&fp.prototype.options||fp.prototype.delete||console.log("dc");var eY="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tY(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:U$,onLog:d,apps:null,SDK_VERSION:eY,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(g){delete e[g]}function s(g){if(g=g||Mp,!mr(e,g))throw Mu.create("no-app",{appName:g});return e[g]}s.App=t;function a(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var w=y;y={name:w}}var E=y;E.name===void 0&&(E.name=Mp);var T=E.name;if(typeof T!="string"||!T)throw Mu.create("bad-app-name",{appName:String(T)});if(mr(e,T))throw Mu.create("duplicate-app",{appName:T});var N=new t(g,E,r);return e[T]=N,N}function c(){return Object.keys(e).map(function(g){return e[g]})}function l(g){var y,w,E=g.name;if(n.has(E))return fc.debug("There were multiple attempts to register component "+E+"."),g.type==="PUBLIC"?r[E]:null;if(n.set(E,g),g.type==="PUBLIC"){var T=function(U){if(U===void 0&&(U=s()),typeof U[E]!="function")throw Mu.create("invalid-app-argument",{appName:E});return U[E]()};g.serviceProps!==void 0&&kf(T,g.serviceProps),r[E]=T,t.prototype[E]=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];var j=this._getService.bind(this,E);return j.apply(this,g.multipleInstances?U:[])}}try{for(var N=Bt(Object.keys(e)),P=N.next();!P.done;P=N.next()){var M=P.value;e[M]._addComponent(g)}}catch(U){y={error:U}}finally{try{P&&!P.done&&(w=N.return)&&w.call(N)}finally{if(y)throw y.error}}return g.type==="PUBLIC"?r[E]:null}function h(g,y,w){var E,T=(E=Z$[g])!==null&&E!==void 0?E:g;w&&(T+="-"+w);var N=T.match(/\s|\//),P=y.match(/\s|\//);if(N||P){var M=['Unable to register library "'+T+'" with version "'+y+'":'];N&&M.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),N&&P&&M.push("and"),P&&M.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),fc.warn(M.join(" "));return}l(new yr(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function d(g,y){if(g!==null&&typeof g!="function")throw Mu.create("invalid-log-argument",{appName:name});j$(g,y)}function v(g,y){if(y==="serverAuth")return null;var w=y;return w}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){var t=tY(fp);t.INTERNAL=pt(pt({},t.INTERNAL),{createFirebaseNamespace:aO,extendNamespace:e,createSubscribe:S$,ErrorFactory:Rs,deepExtend:kf});function e(n){kf(t,n)}return t}var Eb=aO();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nY=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(rY(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function rY(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t,e){t.INTERNAL.registerComponent(new yr("platform-logger",function(n){return new nY(n)},"PRIVATE")),t.registerVersion(sO,B$,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(p$()&&self.firebase!==void 0){fc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var hA=self.firebase.SDK_VERSION;hA&&hA.indexOf("LITE")>=0&&fc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var oY=Eb.initializeApp;Eb.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return d$()&&fc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),oY.apply(void 0,t)};var oe=Eb;iY(oe);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var m=o[p];m in f||(f[m]={}),f=f[m]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(b){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{b(I.resolve,I.reject)}catch(F){I.reject(F)}}function f(){this.a=null}function p(b){return b instanceof u?b:new u(function(I){I(b)})}if(o)return o;f.prototype.b=function(b){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(b)};var m=r.setTimeout;f.prototype.c=function(b){m(b,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var I=0;I<b.length;++I){var F=b[I];b[I]=null;try{F()}catch(W){this.f(W)}}}this.a=null},f.prototype.f=function(b){this.c(function(){throw b})},u.prototype.f=function(){function b(W){return function(Ae){F||(F=!0,W.call(I,Ae))}}var I=this,F=!1;return{resolve:b(this.m),reject:b(this.g)}},u.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof u)this.s(b);else{e:switch(typeof b){case"object":var I=b!=null;break e;case"function":I=!0;break e;default:I=!1}I?this.v(b):this.h(b)}},u.prototype.v=function(b){var I=void 0;try{I=b.then}catch(F){this.g(F);return}typeof I=="function"?this.u(I,b):this.h(b)},u.prototype.g=function(b){this.i(2,b)},u.prototype.h=function(b){this.i(1,b)},u.prototype.i=function(b,I){if(this.b!=0)throw Error("Cannot settle("+b+", "+I+"): Promise already settled in state"+this.b);this.b=b,this.c=I,this.l()},u.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)_.b(this.a[b]);this.a=null}};var _=new f;return u.prototype.s=function(b){var I=this.f();b.Qa(I.resolve,I.reject)},u.prototype.u=function(b,I){var F=this.f();try{b.call(I,F.resolve,F.reject)}catch(W){F.reject(W)}},u.prototype.then=function(b,I){function F(Xe,hn){return typeof Xe=="function"?function(uo){try{W(Xe(uo))}catch(n_){Ae(n_)}}:hn}var W,Ae,it=new u(function(Xe,hn){W=Xe,Ae=hn});return this.Qa(F(b,W),F(I,Ae)),it},u.prototype.catch=function(b){return this.then(void 0,b)},u.prototype.Qa=function(b,I){function F(){switch(W.b){case 1:b(W.c);break;case 2:I(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?_.b(F):this.a.push(F)},u.resolve=p,u.reject=function(b){return new u(function(I,F){F(b)})},u.race=function(b){return new u(function(I,F){for(var W=a(b),Ae=W.next();!Ae.done;Ae=W.next())p(Ae.value).Qa(I,F)})},u.all=function(b){var I=a(b),F=I.next();return F.done?p([]):new u(function(W,Ae){function it(uo){return function(n_){Xe[uo]=n_,hn--,hn==0&&W(Xe)}}var Xe=[],hn=0;do Xe.push(void 0),hn++,p(F.value).Qa(it(Xe.length-1),Ae),F=I.next();while(!F.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function g(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function w(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function T(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function N(o){return Object.prototype.hasOwnProperty.call(o,P)&&o[P]||(o[P]=++M)}var P="closure_uid_"+(1e9*Math.random()>>>0),M=0;function U(o,u,f){return o.call.apply(o.bind,arguments)}function X(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,p),o.apply(u,m)}}return function(){return o.apply(u,arguments)}}function j(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=U:j=X,j.apply(null,arguments)}function Se(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}var rt=Date.now;function pe(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function _n(o){return o}function R(o,u,f){this.code=kn+o,this.message=u||Fs[o]||"",this.a=f||null}pe(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function Ti(o){var u=o&&o.code;return u?new R(u.substring(kn.length),o.message,o.serverResponse):null}var kn="auth/",Fs={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ii={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function wt(o){for(var u in Ii)if(Ii[u].id===o)return o=Ii[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Ye;Ye=wt("__EID__")?"__EID__":void 0;function ze(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Nt(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Nt);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}pe(Nt,Error),Nt.prototype.name="CustomError";function Mr(o,u){o=o.split("%s");for(var f="",p=o.length-1,m=0;m<p;m++)f+=o[m]+(m<u.length?u[m]:"%s");Nt.call(this,f+o[p])}pe(Mr,Nt),Mr.prototype.name="AssertionError";function wn(o,u){throw new Mr("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function cn(o,u){this.c=o,this.f=u,this.b=0,this.a=null}cn.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function to(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function no(){this.b=this.a=null}var Us=new cn(function(){return new V},function(o){o.reset()});no.prototype.add=function(o,u){var f=Us.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function ln(){var o=HT,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function V(){this.next=this.b=this.a=null}V.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var se=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},H=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,m=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in m&&u.call(f,m[_],_,o)};function ve(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var Qe=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],m=0,_=typeof o=="string"?o.split(""):o,b=0;b<f;b++)if(b in _){var I=_[b];u.call(void 0,I,b,o)&&(p[m++]=I)}return p},S=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),m=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in m&&(p[_]=u.call(void 0,m[_],_,o));return p},A=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o))return!0;return!1};function O(o){e:{for(var u=AF,f=o.length,p=typeof o=="string"?o.split(""):o,m=0;m<f;m++)if(m in p&&u.call(void 0,p[m],m,o)){u=m;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function L(o,u){return 0<=se(o,u)}function B(o,u){u=se(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function q(o,u){var f=0;ve(o,function(p,m){u.call(void 0,p,m,o)&&Array.prototype.splice.call(o,m,1).length==1&&f++})}function re(o){return Array.prototype.concat.apply([],arguments)}function z(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var Z=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},$=/&/g,me=/</g,le=/>/g,ye=/"/g,Ce=/'/g,Me=/\x00/g,ut=/[\x00&<>"']/;function _e(o,u){return o.indexOf(u)!=-1}function bt(o,u){return o<u?-1:o>u?1:0}var fn;e:{var ro=l.navigator;if(ro){var el=ro.userAgent;if(el){fn=el;break e}}fn=""}function vt(o){return _e(fn,o)}function tl(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function Mt(o){for(var u in o)return!1;return!0}function Xt(o){var u={},f;for(f in o)u[f]=o[f];return u}var nl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function or(o,u){for(var f,p,m=1;m<arguments.length;m++){p=arguments[m];for(f in p)o[f]=p[f];for(var _=0;_<nl.length;_++)f=nl[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function IT(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var m=p;break e}}catch{}m=null}if(m&&typeof m[u]<"u"&&(!o||!(o instanceof m[u])&&(o instanceof m.Location||o instanceof m.Element))){if(T(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;wn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Si(o,u){this.a=o===Oh&&u||"",this.b=ST}Si.prototype.sa=!0,Si.prototype.ra=function(){return this.a},Si.prototype.toString=function(){return"Const{"+this.a+"}"};function Rg(o){return o instanceof Si&&o.constructor===Si&&o.b===ST?o.a:(wn("expected object of type Const, got '"+o+"'"),"type_error:Const")}var ST={},Oh={},Ph;function CT(){if(Ph===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:_n,createScript:_n,createScriptURL:_n})}catch(f){l.console&&l.console.error(f.message)}Ph=o}else Ph=o}return Ph}function Ja(o,u){this.a=u===NT?o:""}Ja.prototype.sa=!0,Ja.prototype.ra=function(){return this.a.toString()},Ja.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function AT(o){return o instanceof Ja&&o.constructor===Ja?o.a:(wn("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Og(o,u){var f=Rg(o);if(!r2.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(n2,function(p,m){if(!Object.prototype.hasOwnProperty.call(u,m))throw Error('Found marker, "'+m+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[m],p instanceof Si?Rg(p):encodeURIComponent(String(p))}),i2(o)}var n2=/%{(\w+)}/g,r2=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,NT={};function i2(o){var u=CT();return o=u?u.createScriptURL(o):o,new Ja(o,NT)}function sr(o,u){this.a=u===rl?o:""}sr.prototype.sa=!0,sr.prototype.ra=function(){return this.a.toString()},sr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Dh(o){return o instanceof sr&&o.constructor===sr?o.a:(wn("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var o2=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,s2=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,kT=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xT(o){if(o instanceof sr)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),kT.test(o))o=new sr(o,rl);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(s2);o=u&&o2.test(u[1])?new sr(o,rl):null}return o}function RT(o){return o instanceof sr?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),kT.test(o)||(o="about:invalid#zClosurez"),new sr(o,rl))}var rl={},OT=new sr("about:invalid#zClosurez",rl);function Za(o,u,f){this.a=f===PT?o:""}Za.prototype.sa=!0,Za.prototype.ra=function(){return this.a.toString()},Za.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function a2(o){return o instanceof Za&&o.constructor===Za?o.a:(wn("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var PT={};function u2(o,u){IT(o,"HTMLScriptElement"),o.src=AT(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function DT(o,u,f,p){return o=o instanceof sr?o:RT(o),u=u||l,f=f instanceof Si?Rg(f):f||"",u.open(Dh(o),f,p,void 0)}function MT(o,u){for(var f=o.split("%s"),p="",m=Array.prototype.slice.call(arguments,1);m.length&&1<f.length;)p+=f.shift()+m.shift();return p+f.join("%s")}function Pg(o){return ut.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace($,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(me,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(le,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(ye,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Ce,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Me,"&#0;"))),o}function Dg(o){return Dg[" "](o),o}Dg[" "]=g;function c2(o,u){var f=d2;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var l2=vt("Opera"),Qr=vt("Trident")||vt("MSIE"),LT=vt("Edge"),f2=LT||Qr,FT=vt("Gecko")&&!(_e(fn.toLowerCase(),"webkit")&&!vt("Edge"))&&!(vt("Trident")||vt("MSIE"))&&!vt("Edge"),h2=_e(fn.toLowerCase(),"webkit")&&!vt("Edge");function UT(){var o=l.document;return o?o.documentMode:void 0}var Mh;e:{var Mg="",Lg=function(){var o=fn;if(FT)return/rv:([^\);]+)(\)|;)/.exec(o);if(LT)return/Edge\/([\d\.]+)/.exec(o);if(Qr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(h2)return/WebKit\/(\S+)/.exec(o);if(l2)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Lg&&(Mg=Lg?Lg[1]:""),Qr){var Fg=UT();if(Fg!=null&&Fg>parseFloat(Mg)){Mh=String(Fg);break e}}Mh=Mg}var d2={};function jT(o){return c2(o,function(){for(var u=0,f=Z(String(Mh)).split("."),p=Z(String(o)).split("."),m=Math.max(f.length,p.length),_=0;u==0&&_<m;_++){var b=f[_]||"",I=p[_]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],b[0].length==0&&I[0].length==0)break;u=bt(b[1].length==0?0:parseInt(b[1],10),I[1].length==0?0:parseInt(I[1],10))||bt(b[2].length==0,I[2].length==0)||bt(b[2],I[2]),b=b[3],I=I[3]}while(u==0)}return 0<=u})}var Ug;if(l.document&&Qr){var VT=UT();Ug=VT||parseInt(Mh,10)||void 0}else Ug=void 0;var qo=Ug;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var p2=!Qr||9<=Number(qo);function il(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function BT(o,u){tl(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:qT.hasOwnProperty(p)?o.setAttribute(qT[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var qT={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function v2(o,u,f){var p=arguments,m=document,_=String(p[0]),b=p[1];if(!p2&&b&&(b.name||b.type)){if(_=["<",_],b.name&&_.push(' name="',Pg(b.name),'"'),b.type){_.push(' type="',Pg(b.type),'"');var I={};or(I,b),delete I.type,b=I}_.push(">"),_=_.join("")}return _=Lh(m,_),b&&(typeof b=="string"?_.className=b:Array.isArray(b)?_.className=b.join(" "):BT(_,b)),2<p.length&&g2(m,_,p),_}function g2(o,u,f){function p(I){I&&u.appendChild(typeof I=="string"?o.createTextNode(I):I)}for(var m=2;m<f.length;m++){var _=f[m];if(!w(_)||T(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(T(_)){var b=typeof _.item=="function"||typeof _.item=="string";break e}if(E(_)){b=typeof _.item=="function";break e}}b=!1}H(b?z(_):_,p)}}}function Lh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function WT(o){l.setTimeout(function(){throw o},0)}var jg;function m2(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!vt("Presto")&&(o=function(){var m=Lh(document,"IFRAME");m.style.display="none",document.documentElement.appendChild(m);var _=m.contentWindow;m=_.document,m.open(),m.close();var b="callImmediate"+Math.random(),I=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;m=j(function(F){(I=="*"||F.origin==I)&&F.data==b&&this.port1.onmessage()},this),_.addEventListener("message",m,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(b,I)}}}),typeof o<"u"&&!vt("Trident")&&!vt("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var m=f.Gb;f.Gb=null,m()}},function(m){p.next={Gb:m},p=p.next,u.port2.postMessage(0)}}return function(m){l.setTimeout(m,0)}}function Fh(o,u){Uh||y2(),Vg||(Uh(),Vg=!0),HT.add(o,u)}var Uh;function y2(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);Uh=function(){o.then(GT)}}else Uh=function(){var u=GT;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!vt("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(jg||(jg=m2()),jg(u)):l.setImmediate(u)}}var Vg=!1,HT=new no;function GT(){for(var o;o=ln();){try{o.a.call(o.b)}catch(u){WT(u)}to(Us,o)}Vg=!1}function je(o,u){if(this.a=js,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=g)try{var f=this;o.call(u,function(p){Vs(f,ol,p)},function(p){if(!(p instanceof eu))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}Vs(f,io,p)})}catch(p){Vs(this,io,p)}}var js=0,ol=2,io=3;function $T(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}$T.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var YT=new cn(function(){return new $T},function(o){o.reset()});function Bg(o,u,f){var p=YT.get();return p.g=o,p.b=u,p.f=f,p}function be(o){if(o instanceof je)return o;var u=new je(g);return Vs(u,ol,o),u}function Et(o){return new je(function(u,f){f(o)})}function zT(o,u,f){JT(o,u,f,null)||Fh(Se(u,o))}function _2(o){return new je(function(u,f){var p=o.length,m=[];if(p)for(var _=function(W,Ae){p--,m[W]=Ae,p==0&&u(m)},b=function(W){f(W)},I=0,F;I<o.length;I++)F=o[I],zT(F,Se(_,I),b);else u(m)})}function KT(o){return new je(function(u){var f=o.length,p=[];if(f)for(var m=function(I,F,W){f--,p[I]=F?{Pb:!0,value:W}:{Pb:!1,reason:W},f==0&&u(p)},_=0,b;_<o.length;_++)b=o[_],zT(b,Se(m,_,!0),Se(m,_,!1));else u(p)})}je.prototype.then=function(o,u,f){return XT(this,E(o)?o:null,E(u)?u:null,f)},je.prototype.$goog_Thenable=!0,t=je.prototype,t.oa=function(o,u){return o=Bg(o,o,u),o.c=!0,qg(this,o),this},t.o=function(o,u){return XT(this,null,o,u)},t.cancel=function(o){if(this.a==js){var u=new eu(o);Fh(function(){QT(this,u)},this)}};function QT(o,u){if(o.a==js)if(o.c){var f=o.c;if(f.b){for(var p=0,m=null,_=null,b=f.b;b&&(b.c||(p++,b.a==o&&(m=b),!(m&&1<p)));b=b.next)m||(_=b);m&&(f.a==js&&p==1?QT(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):eI(f),tI(f,m,io,u)))}o.c=null}else Vs(o,io,u)}function qg(o,u){o.b||o.a!=ol&&o.a!=io||ZT(o),o.f?o.f.next=u:o.b=u,o.f=u}function XT(o,u,f,p){var m=Bg(null,null,null);return m.a=new je(function(_,b){m.g=u?function(I){try{var F=u.call(p,I);_(F)}catch(W){b(W)}}:_,m.b=f?function(I){try{var F=f.call(p,I);F===void 0&&I instanceof eu?b(I):_(F)}catch(W){b(W)}}:b}),m.a.c=o,qg(o,m),m.a}t.$c=function(o){this.a=js,Vs(this,ol,o)},t.ad=function(o){this.a=js,Vs(this,io,o)};function Vs(o,u,f){o.a==js&&(o===f&&(u=io,f=new TypeError("Promise cannot resolve to itself")),o.a=1,JT(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,ZT(o),u!=io||f instanceof eu||b2(o,f)))}function JT(o,u,f,p){if(o instanceof je)return qg(o,Bg(u||g,f||null,p)),!0;if(ze(o))return o.then(u,f,p),!0;if(T(o))try{var m=o.then;if(E(m))return w2(o,m,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function w2(o,u,f,p,m){function _(F){I||(I=!0,p.call(m,F))}function b(F){I||(I=!0,f.call(m,F))}var I=!1;try{u.call(o,b,_)}catch(F){_(F)}}function ZT(o){o.h||(o.h=!0,Fh(o.gc,o))}function eI(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}t.gc=function(){for(var o;o=eI(this);)tI(this,o,this.a,this.i);this.h=!1};function tI(o,u,f,p){if(f==io&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,nI(u,f,p);else try{u.c?u.g.call(u.f):nI(u,f,p)}catch(m){rI.call(null,m)}to(YT,u)}function nI(o,u,f){u==ol?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function b2(o,u){o.g=!0,Fh(function(){o.g&&rI.call(null,u)})}var rI=WT;function eu(o){Nt.call(this,o)}pe(eu,Nt),eu.prototype.name="cancel";function jh(){this.xa=this.xa,this.pa=this.pa}var E2=0;jh.prototype.xa=!1;function iI(o){!o.xa&&(o.xa=!0,o.Da(),E2!=0)&&N(o)}jh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var T2=Object.freeze||function(o){return o},oI=!Qr||9<=Number(qo),I2=Qr&&!jT("9"),S2=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",g,u),l.removeEventListener("test",g,u)}catch{}return o}();function ar(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}ar.prototype.preventDefault=function(){this.defaultPrevented=!0};function Bs(o,u){if(ar.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(FT){e:{try{Dg(u.nodeName);var m=!0;break e}catch{}m=!1}m||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:C2[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}pe(Bs,ar);var C2=T2({2:"touch",3:"pen",4:"mouse"});Bs.prototype.preventDefault=function(){Bs.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,I2)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Bs.prototype.g=function(){return this.a};var sl="closure_listenable_"+(1e6*Math.random()|0),A2=0;function N2(o,u,f,p,m){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Va=m,this.key=++A2,this.va=this.Pa=!1}function Vh(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function Bh(o){this.src=o,this.a={},this.b=0}Bh.prototype.add=function(o,u,f,p,m){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var b=Hg(o,u,p,m);return-1<b?(u=o[b],f||(u.Pa=!1)):(u=new N2(u,this.src,_,!!p,m),u.Pa=f,o.push(u)),u};function Wg(o,u){var f=u.type;f in o.a&&B(o.a[f],u)&&(Vh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Hg(o,u,f,p){for(var m=0;m<o.length;++m){var _=o[m];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==p)return m}return-1}var Gg="closure_lm_"+(1e6*Math.random()|0),$g={};function Lr(o,u,f,p,m){if(p&&p.once)Yg(o,u,f,p,m);else if(Array.isArray(u))for(var _=0;_<u.length;_++)Lr(o,u[_],f,p,m);else f=Kg(f),o&&o[sl]?fI(o,u,f,T(p)?!!p.capture:!!p,m):sI(o,u,f,!1,p,m)}function sI(o,u,f,p,m,_){if(!u)throw Error("Invalid event type");var b=T(m)?!!m.capture:!!m,I=qh(o);if(I||(o[Gg]=I=new Bh(o)),f=I.add(u,f,p,b,_),!f.proxy)if(p=k2(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)S2||(m=b),m===void 0&&(m=!1),o.addEventListener(u.toString(),p,m);else if(o.attachEvent)o.attachEvent(uI(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function k2(){var o=x2,u=oI?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Yg(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)Yg(o,u[_],f,p,m);else f=Kg(f),o&&o[sl]?Qg(o,u,f,T(p)?!!p.capture:!!p,m):sI(o,u,f,!0,p,m)}function br(o,u,f,p,m){if(Array.isArray(u))for(var _=0;_<u.length;_++)br(o,u[_],f,p,m);else p=T(p)?!!p.capture:!!p,f=Kg(f),o&&o[sl]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Hg(_,f,p,m),-1<f&&(Vh(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=qh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Hg(u,f,p,m)),(f=-1<o?u[o]:null)&&aI(f))}function aI(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[sl])Wg(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(uI(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=qh(u))?(Wg(f,o),f.b==0&&(f.src=null,u[Gg]=null)):Vh(o)}}}function uI(o){return o in $g?$g[o]:$g[o]="on"+o}function cI(o,u,f,p){var m=!0;if((o=qh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=lI(_,p),m=m&&_!==!1)}return m}function lI(o,u){var f=o.listener,p=o.Va||o.src;return o.Pa&&aI(o),f.call(p,u)}function x2(o,u){if(o.va)return!0;if(!oI){if(!u)e:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new Bs(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var m=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{m=!0}(m||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],m=u.b;m;m=m.parentNode)p.push(m);for(o=o.type,m=p.length-1;0<=m;m--){u.b=p[m];var _=cI(p[m],o,!0,u);f=f&&_}for(m=0;m<p.length;m++)u.b=p[m],_=cI(p[m],o,!1,u),f=f&&_}return f}return lI(o,new Bs(u,this))}function qh(o){return o=o[Gg],o instanceof Bh?o:null}var zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kg(o){return E(o)?o:(o[zg]||(o[zg]=function(u){return o.handleEvent(u)}),o[zg])}function Gn(){jh.call(this),this.v=new Bh(this),this.ac=this,this.gb=null}pe(Gn,jh),Gn.prototype[sl]=!0,Gn.prototype.addEventListener=function(o,u,f,p){Lr(this,o,u,f,p)},Gn.prototype.removeEventListener=function(o,u,f,p){br(this,o,u,f,p)},Gn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var p=o.type||o;if(typeof o=="string")o=new ar(o,f);else if(o instanceof ar)o.target=o.target||f;else{var m=o;o=new ar(p,f),or(o,m)}if(m=!0,u)for(var _=u.length-1;0<=_;_--){var b=o.b=u[_];m=Wh(b,p,!0,o)&&m}if(b=o.b=f,m=Wh(b,p,!0,o)&&m,m=Wh(b,p,!1,o)&&m,u)for(_=0;_<u.length;_++)b=o.b=u[_],m=Wh(b,p,!1,o)&&m;return m},Gn.prototype.Da=function(){if(Gn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Vh(f[p]);delete o.a[u],o.b--}}this.gb=null};function fI(o,u,f,p,m){o.v.add(String(u),f,!1,p,m)}function Qg(o,u,f,p,m){o.v.add(String(u),f,!0,p,m)}function Wh(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var m=!0,_=0;_<u.length;++_){var b=u[_];if(b&&!b.va&&b.capture==f){var I=b.listener,F=b.Va||b.src;b.Pa&&Wg(o.v,b),m=I.call(F,p)!==!1&&m}}return m&&!p.defaultPrevented}function Xg(o,u,f){if(E(o))f&&(o=j(o,f));else if(o&&typeof o.handleEvent=="function")o=j(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function tu(o){var u=null;return new je(function(f,p){u=Xg(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function hI(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(w(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function dI(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(w(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function R2(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(w(o)||typeof o=="string")H(o,u,void 0);else for(var f=dI(o),p=hI(o),m=p.length,_=0;_<m;_++)u.call(void 0,p[_],f&&f[_],o)}function nu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof nu)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}t=nu.prototype,t.W=function(){Jg(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},t.Y=function(){return Jg(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Jg(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];qs(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var m={};for(f=u=0;u<o.a.length;)p=o.a[u],qs(m,p)||(o.a[f++]=p,m[p]=1),u++;o.a.length=f}}t.get=function(o,u){return qs(this.b,o)?this.b[o]:u},t.set=function(o,u){qs(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},t.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var m=f[p],_=this.get(m);o.call(u,_,m,this)}};function qs(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var pI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function O2(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),m=null;if(0<=p){var _=o[f].substring(0,p);m=o[f].substring(p+1)}else _=o[f];u(_,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}function Wo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Wo?(this.i=u!==void 0?u:o.i,al(this,o.c),this.l=o.l,this.a=o.a,ul(this,o.g),this.f=o.f,Zg(this,yI(o.b)),this.h=o.h):o&&(f=String(o).match(pI))?(this.i=!!u,al(this,f[1]||"",!0),this.l=cl(f[2]||""),this.a=cl(f[3]||"",!0),ul(this,f[4]),this.f=cl(f[5]||"",!0),Zg(this,f[6]||"",!0),this.h=cl(f[7]||"")):(this.i=!!u,this.b=new Ws(null,this.i))}Wo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(ll(u,vI,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(ll(u,vI,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(ll(f,f.charAt(0)=="/"?M2:D2,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",ll(f,F2)),o.join("")},Wo.prototype.resolve=function(o){var u=new Wo(this),f=!!o.c;f?al(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)ul(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var m=u.f.lastIndexOf("/");m!=-1&&(p=u.f.substr(0,m+1)+p)}if(m=p,m==".."||m==".")p="";else if(_e(m,"./")||_e(m,"/.")){p=m.lastIndexOf("/",0)==0,m=m.split("/");for(var _=[],b=0;b<m.length;){var I=m[b++];I=="."?p&&b==m.length&&_.push(""):I==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&b==m.length&&_.push("")):(_.push(I),p=!0)}p=_.join("/")}else p=m}return f?u.f=p:f=o.b.toString()!=="",f?Zg(u,yI(o.b)):f=!!o.h,f&&(u.h=o.h),u};function al(o,u,f){o.c=f?cl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function ul(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Zg(o,u,f){u instanceof Ws?(o.b=u,U2(o.b,o.i)):(f||(u=ll(u,L2)),o.b=new Ws(u,o.i))}function Lt(o,u,f){o.b.set(u,f)}function Fr(o,u){return o.b.get(u)}function ur(o){return o instanceof Wo?new Wo(o):new Wo(o,void 0)}function Hh(o,u,f,p){var m=new Wo(null,void 0);return o&&al(m,o),u&&(m.a=u),f&&ul(m,f),p&&(m.f=p),m}function cl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ll(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,P2),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function P2(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var vI=/[#\/\?@]/g,D2=/[#\?:]/g,M2=/[#\?]/g,L2=/[#\?@]/g,F2=/#/g;function Ws(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Ho(o){o.a||(o.a=new nu,o.b=0,o.c&&O2(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function gI(o){var u=dI(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ws(null,void 0);o=hI(o);for(var p=0;p<u.length;p++){var m=u[p],_=o[p];Array.isArray(_)?mI(f,m,_):f.add(m,_)}return f}t=Ws.prototype,t.add=function(o,u){Ho(this),this.c=null,o=ru(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Ci(o,u){Ho(o),u=ru(o,u),qs(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,qs(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Jg(o)))}t.clear=function(){this.a=this.c=null,this.b=0};function em(o,u){return Ho(o),u=ru(o,u),qs(o.a.b,u)}t.forEach=function(o,u){Ho(this),this.a.forEach(function(f,p){H(f,function(m){o.call(u,m,p,this)},this)},this)},t.Y=function(){Ho(this);for(var o=this.a.W(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var m=o[p],_=0;_<m.length;_++)f.push(u[p]);return f},t.W=function(o){Ho(this);var u=[];if(typeof o=="string")em(this,o)&&(u=re(u,this.a.get(ru(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=re(u,o[f])}return u},t.set=function(o,u){return Ho(this),this.c=null,o=ru(this,o),em(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},t.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function mI(o,u,f){Ci(o,u),0<f.length&&(o.c=null,o.a.set(ru(o,u),z(f)),o.b+=f.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],m=encodeURIComponent(String(p));p=this.W(p);for(var _=0;_<p.length;_++){var b=m;p[_]!==""&&(b+="="+encodeURIComponent(String(p[_]))),o.push(b)}}return this.c=o.join("&")};function yI(o){var u=new Ws;return u.c=o.c,o.a&&(u.a=new nu(o.a),u.b=o.b),u}function ru(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function U2(o,u){u&&!o.f&&(Ho(o),o.c=null,o.a.forEach(function(f,p){var m=p.toLowerCase();p!=m&&(Ci(this,p),mI(this,m,f))},o)),o.f=u}function _I(o){var u=[];return tm(new j2,o,u),u.join("")}function j2(){}function tm(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var m="",_=0;_<u;_++)f.push(m),tm(o,p[_],f),m=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),m="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(m),bI(p,f),f.push(":"),tm(o,_,f),m=","));f.push("}");return}}switch(typeof u){case"string":bI(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var wI={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},V2=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function bI(o,u){u.push('"',o.replace(V2,function(f){var p=wI[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),wI[f]=p),p}),'"')}function nm(){var o=bn();return Qr&&!!qo&&qo==11||/Edge\/\d+/.test(o)}function fl(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function EI(o,u){u=u||l.window;var f="about:blank";o&&(f=Dh(xT(o)||OT)),u.location.href=f}function TI(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<TI(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function B2(){var o=bn();return o=iu(o)!=AI?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Qr||!qo||9<qo}function II(o){return o=(o||bn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Hs(o){o=o||l.window;try{o.close()}catch{}}function SI(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var m=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<m?m:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=bn().toLowerCase(),p&&(u.target=p,_e(f,"crios/")&&(u.target="_blank")),iu(bn())==om&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof sr?f:xT(typeof f.href<"u"?f.href:String(f))||OT,f=o.target||f.target,m=[];for(b in o)switch(b){case"width":case"height":case"top":case"left":m.push(b+"="+o[b]);break;case"target":case"noopener":case"noreferrer":break;default:m.push(b+"="+(o[b]?1:0))}var b=m.join(",");if((vt("iPhone")&&!vt("iPod")&&!vt("iPad")||vt("iPad")||vt("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(b=Lh(document,"A"),IT(b,"HTMLAnchorElement"),u=u instanceof sr?u:RT(u),b.href=Dh(u),b.setAttribute("target",f),o.noreferrer&&b.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),b.dispatchEvent(o),b={}):o.noreferrer?(b=DT("",p,f,b),o=Dh(u),b&&(f2&&_e(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),b.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Pg(o)+'">',o=(p=CT())?p.createHTML(o):o,o=new Za(o,null,PT),p=b.document)&&(p.write(a2(o)),p.close())):(b=DT(u,p,f,b))&&o.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function q2(o){return new je(function(u){function f(){tu(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var W2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^[^@]+@[^@]+$/;function Gh(){var o=null;return new je(function(u){l.document.readyState=="complete"?u():(o=function(){u()},Yg(window,"load",o))}).o(function(u){throw br(window,"load",o),u})}function G2(){return rm(void 0)?Gh().then(function(){return new je(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):Et(Error("Cordova must run in an Android or iOS file scheme."))}function rm(o){return o=o||bn(),!(su()!=="file:"&&su()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function im(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function Xr(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function Ai(){return oe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":oe.INTERNAL.hasOwnProperty("node")?"Node":Xr()?"Worker":"Browser"}function CI(){var o=Ai();return o==="ReactNative"||o==="Node"}function $2(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var om="Firefox",AI="Chrome";function iu(o){var u=o.toLowerCase();if(_e(u,"opera/")||_e(u,"opr/")||_e(u,"opios/"))return"Opera";if(_e(u,"iemobile"))return"IEMobile";if(_e(u,"msie")||_e(u,"trident/"))return"IE";if(_e(u,"edge/"))return"Edge";if(_e(u,"firefox/"))return om;if(_e(u,"silk/"))return"Silk";if(_e(u,"blackberry"))return"Blackberry";if(_e(u,"webos"))return"Webos";if(!_e(u,"safari/")||_e(u,"chrome/")||_e(u,"crios/")||_e(u,"android"))if(!_e(u,"chrome/")&&!_e(u,"crios/")||_e(u,"edge/")){if(_e(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return AI;else return"Safari";return"Other"}var NI={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ou(o,u){u=u||[];var f=[],p={},m;for(m in NI)p[NI[m]]=!0;for(m=0;m<u.length;m++)typeof p[u[m]]<"u"&&(delete p[u[m]],f.push(u[m]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Ai(),f==="Browser"?(p=bn(),f=iu(p)):f==="Worker"&&(p=bn(),f=iu(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function bn(){return l.navigator&&l.navigator.userAgent||""}function Tt(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function sm(){try{var o=l.localStorage,u=$s();if(o)return o.setItem(u,"1"),o.removeItem(u),nm()?!!l.indexedDB:!0}catch{return Xr()&&!!l.indexedDB}return!1}function Gs(){return($h()||su()==="chrome-extension:"||rm())&&!CI()&&sm()&&!Xr()}function $h(){return su()==="http:"||su()==="https:"}function su(){return l.location&&l.location.protocol||null}function hl(o){return o=o||bn(),!(II(o)||iu(o)==om)}function dl(o){return typeof o>"u"?null:_I(o)}function kI(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function au(o){if(o!==null)return JSON.parse(o)}function $s(o){return o||Math.floor(1e9*Math.random()).toString()}function xI(o){return o=o||bn(),!(iu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function RI(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function Go(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=bn(),u=Ai(),this.b=II(o)||u==="ReactNative"}Go.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&($h()||su()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function am(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function Y2(){var o=l.document,u=null;return am()||!o?be():new je(function(f){u=function(){am()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function pl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function OI(){return!(!Tt("fireauth.oauthhelper",l)&&!Tt("fireauth.iframe",l))}function z2(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function K2(){var o=l.navigator;return o&&o.serviceWorker?be().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):be(null)}var PI={};function um(o){PI[o]||(PI[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var cm;try{var lm={};Object.defineProperty(lm,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(lm,"abcd",{configurable:!0,enumerable:!0,value:2}),cm=lm.abcd==2}catch{cm=!1}function ce(o,u,f){cm?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function $n(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ce(o,f,u[f])}function Ni(o){var u={};return $n(u,o),u}function Q2(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function X2(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function fm(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ce(u,f,fm(o[f]))}return u}function hm(o){var u=o&&(o[gm]?"phone":null);if(u&&o&&o[vm]){ce(this,"uid",o[vm]),ce(this,"displayName",o[DI]||null);var f=null;o[pm]&&(f=new Date(o[pm]).toUTCString()),ce(this,"enrollmentTime",f),ce(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}hm.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function dm(o){try{var u=new vl(o)}catch{u=null}return u}var DI="displayName",pm="enrolledAt",vm="mfaEnrollmentId",gm="phoneInfo";function vl(o){hm.call(this,o),ce(this,"phoneNumber",o[gm])}pe(vl,hm),vl.prototype.w=function(){var o=vl.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function J2(o){var u={},f=o[Z2],p=o[tF],m=o[nF];if(o=dm(o[eF]),!m||m!=Yh&&m!=gl&&!f||m==gl&&!p||m==mm&&!o)throw Error("Invalid checkActionCode response!");m==gl?(u[LI]=f||null,u[FI]=f||null,u[MI]=p):(u[LI]=p||null,u[FI]=p||null,u[MI]=f||null),u[rF]=o||null,ce(this,oF,m),ce(this,iF,fm(u))}var mm="REVERT_SECOND_FACTOR_ADDITION",Yh="EMAIL_SIGNIN",gl="VERIFY_AND_CHANGE_EMAIL",Z2="email",eF="mfaInfo",tF="newEmail",nF="requestType",MI="email",LI="fromEmail",rF="multiFactorInfo",FI="previousEmail",iF="data",oF="operation";function ym(o){o=ur(o);var u=Fr(o,UI)||null,f=Fr(o,jI)||null,p=Fr(o,VI)||null;if(p=p&&cF[p]||null,!u||!f||!p)throw new R("argument-error",UI+", "+jI+"and "+VI+" are required in a valid action code URL.");$n(this,{apiKey:u,operation:p,code:f,continueUrl:Fr(o,sF)||null,languageCode:Fr(o,aF)||null,tenantId:Fr(o,uF)||null})}var UI="apiKey",jI="oobCode",sF="continueUrl",aF="languageCode",VI="mode",uF="tenantId",cF={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:mm,signIn:Yh,verifyAndChangeEmail:gl,verifyEmail:"VERIFY_EMAIL"};function BI(o){try{return new ym(o)}catch{return null}}function zh(o){var u=o[lF];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[qI];if(f&&typeof f=="object"){u=f[YI];var p=f[GI];if(f=f[$I],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new R("argument-error",GI+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",$I+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",YI+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",qI+" property must be a non null object when specified.");if(this.f=null,(u=o[HI])&&typeof u=="object"){if(u=u[zI],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",zI+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",HI+" property must be a non null object when specified.");if(u=o[_m],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",_m+" property must be a boolean when specified.");if(this.c=!!u,o=o[WI],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",WI+" property must be a non empty string when specified.");this.i=o||null}var qI="android",WI="dynamicLinkDomain",_m="handleCodeInApp",HI="iOS",lF="url",GI="installApp",$I="minimumVersion",YI="packageName",zI="bundleId";function Kh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function fF(o){return S(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var ml=null;function hF(o){var u=[];return dF(o,function(f){u.push(f)}),u}function dF(o,u){function f(F){for(;p<o.length;){var W=o.charAt(p++),Ae=ml[W];if(Ae!=null)return Ae;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return F}pF();for(var p=0;;){var m=f(-1),_=f(0),b=f(64),I=f(64);if(I===64&&m===-1)break;u(m<<2|_>>4),b!=64&&(u(_<<4&240|b>>2),I!=64&&u(b<<6&192|I))}}function pF(){if(!ml){ml={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),m=0;m<p.length;m++){var _=p[m];ml[_]===void 0&&(ml[_]=m)}}}function Qh(o){var u=KI(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Qh.prototype.T=function(){return this.f},Qh.prototype.l=function(){return this.c},Qh.prototype.toString=function(){return this.h};function Xh(o){try{return new Qh(o)}catch{return null}}function KI(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=hF(o);for(o=[],f=u=0;u<p.length;){var m=p[u++];if(128>m)o[f++]=String.fromCharCode(m);else if(191<m&&224>m){var _=p[u++];o[f++]=String.fromCharCode((m&31)<<6|_&63)}else if(239<m&&365>m){_=p[u++];var b=p[u++],I=p[u++],F=((m&7)<<18|(_&63)<<12|(b&63)<<6|I&63)-65536;o[f++]=String.fromCharCode(55296+(F>>10)),o[f++]=String.fromCharCode(56320+(F&1023))}else _=p[u++],b=p[u++],o[f++]=String.fromCharCode((m&15)<<12|(_&63)<<6|b&63)}return JSON.parse(o.join(""))}catch{}return null}var QI="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Jh=["client_id","response_type","scope","redirect_uri","state"],wm={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Jh},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Jh},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Jh},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:QI},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function bm(o){for(var u in wm)if(wm[u].fa==o)return wm[u];return null}function XI(o){var u={};u["facebook.com"]=ZI,u["google.com"]=tS,u["github.com"]=eS,u["twitter.com"]=nS;var f=o&&o[JI];try{if(f)return u[f]?new u[f](o):new ki(o);if(typeof o[Em]<"u")return new Tm(o)}catch{}return null}var Em="idToken",JI="providerId";function Tm(o){var u=o[JI];if(!u&&o[Em]){var f=Xh(o[Em]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ce(this,"providerId",u),ce(this,"isNewUser",f)}function ki(o){Tm.call(this,o),o=au(o.rawUserInfo||"{}"),ce(this,"profile",fm(o||{}))}pe(ki,Tm);function ZI(o){if(ki.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}pe(ZI,ki);function eS(o){if(ki.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ce(this,"username",this.profile&&this.profile.login||null)}pe(eS,ki);function tS(o){if(ki.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}pe(tS,ki);function nS(o){if(ki.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ce(this,"username",o.screenName||null)}pe(nS,ki);function rS(o){var u=ur(o),f=Fr(u,"link"),p=Fr(ur(f),"link");return u=Fr(u,"deep_link_id"),Fr(ur(u),"link")||u||p||f||o}function Zh(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?yl:ed}var yl="enroll",ed="signin";Zh.prototype.Ha=function(){return this.a?be(this.a):be(this.b)},Zh.prototype.w=function(){return this.type==yl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function uu(){}uu.prototype.ka=function(){},uu.prototype.b=function(){},uu.prototype.c=function(){},uu.prototype.w=function(){};function cu(o,u){return o.then(function(f){if(f[ei]){var p=Xh(f[ei]);if(!p||u!=p.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==kn+"user-not-found"?new R("user-mismatch"):f})}function Ys(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");ce(this,"providerId",o),ce(this,"signInMethod",o)}Ys.prototype.ka=function(o){return Ym(o,Im(this))},Ys.prototype.b=function(o,u){var f=Im(this);return f.idToken=u,zm(o,f)},Ys.prototype.c=function(o,u){return cu(Km(o,Im(this)),u)};function Im(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ys.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function vF(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ys(o.providerId,o.pendingToken)}catch{}return null}function oo(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ce(this,"idToken",u.idToken),u.accessToken&&ce(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ce(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ce(this,"accessToken",u.oauthToken),ce(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");ce(this,"providerId",o),ce(this,"signInMethod",f)}oo.prototype.ka=function(o){return Ym(o,Sm(this))},oo.prototype.b=function(o,u){var f=Sm(this);return f.idToken=u,zm(o,f)},oo.prototype.c=function(o,u){var f=Sm(this);return cu(Km(o,f),u)};function Sm(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:gI(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}oo.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function gF(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new oo(o.providerId,u,o.signInMethod)}catch{}}return null}function zs(o,u){this.Qc=u||[],$n(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(bm(o)||{}).Ja||null,this.ob=null}zs.prototype.Ka=function(o){return this.Ib=Xt(o),this};function iS(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');zs.call(this,o,[])}pe(iS,zs);function Er(o){zs.call(this,o,Jh),this.a=[]}pe(Er,zs),Er.prototype.Ca=function(o){return L(this.a,o)||this.a.push(o),this},Er.prototype.Qb=function(){return z(this.a)},Er.prototype.credential=function(o,u){var f;if(T(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,f,this.providerId)};function Ks(){Er.call(this,"facebook.com")}pe(Ks,Er),ce(Ks,"PROVIDER_ID","facebook.com"),ce(Ks,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function oS(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Ks().credential({accessToken:u})}function Qs(){Er.call(this,"github.com")}pe(Qs,Er),ce(Qs,"PROVIDER_ID","github.com"),ce(Qs,"GITHUB_SIGN_IN_METHOD","github.com");function sS(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Qs().credential({accessToken:u})}function Xs(){Er.call(this,"google.com"),this.Ca("profile")}pe(Xs,Er),ce(Xs,"PROVIDER_ID","google.com"),ce(Xs,"GOOGLE_SIGN_IN_METHOD","google.com");function aS(o,u){var f=o;return T(o)&&(f=o.idToken,u=o.accessToken),new Xs().credential({idToken:f,accessToken:u})}function lu(){zs.call(this,"twitter.com",QI)}pe(lu,zs),ce(lu,"PROVIDER_ID","twitter.com"),ce(lu,"TWITTER_SIGN_IN_METHOD","twitter.com");function uS(o,u){var f=o;if(T(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",f,"twitter.com")}function $o(o,u,f){this.a=o,this.f=u,ce(this,"providerId","password"),ce(this,"signInMethod",f===Ur.EMAIL_LINK_SIGN_IN_METHOD?Ur.EMAIL_LINK_SIGN_IN_METHOD:Ur.EMAIL_PASSWORD_SIGN_IN_METHOD)}$o.prototype.ka=function(o){return this.signInMethod==Ur.EMAIL_LINK_SIGN_IN_METHOD?Be(o,eU,{email:this.a,oobCode:this.f}):Be(o,LS,{email:this.a,password:this.f})},$o.prototype.b=function(o,u){return this.signInMethod==Ur.EMAIL_LINK_SIGN_IN_METHOD?Be(o,tU,{idToken:u,email:this.a,oobCode:this.f}):Be(o,MS,{idToken:u,email:this.a,password:this.f})},$o.prototype.c=function(o,u){return cu(this.ka(o),u)},$o.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function mF(o){return o&&o.email&&o.password?new $o(o.email,o.password,o.signInMethod):null}function Ur(){$n(this,{providerId:"password",isOAuthProvider:!1})}function cS(o,u){if(u=Cm(u),!u)throw new R("argument-error","Invalid email link!");return new $o(o,u.code,Ur.EMAIL_LINK_SIGN_IN_METHOD)}function Cm(o){return o=rS(o),(o=BI(o))&&o.operation===Yh?o:null}$n(Ur,{PROVIDER_ID:"password"}),$n(Ur,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),$n(Ur,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Yo(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new R("internal-error");this.a=o,ce(this,"providerId","phone"),this.fa="phone",ce(this,"signInMethod","phone")}Yo.prototype.ka=function(o){return o.fb(_l(this))},Yo.prototype.b=function(o,u){var f=_l(this);return f.idToken=u,Be(o,bU,f)},Yo.prototype.c=function(o,u){var f=_l(this);return f.operation="REAUTH",o=Be(o,EU,f),cu(o,u)},Yo.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function yF(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Yo(u)}return null}function _l(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function so(o){try{this.a=o||oe.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}$n(this,{providerId:"phone",isOAuthProvider:!1})}so.prototype.fb=function(o,u){var f=this.a.a;return be(u.verify()).then(function(p){if(typeof p!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var m=T(o)?o.session:null,_=T(o)?o.phoneNumber:o,b;return m&&m.type==yl?b=m.Ha().then(function(I){return GF(f,{idToken:I,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):m&&m.type==ed?b=m.Ha().then(function(I){return $F(f,{mfaPendingCredential:I,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):b=HF(f,{phoneNumber:_,recaptchaToken:p}),b.then(function(I){return typeof u.reset=="function"&&u.reset(),I},function(I){throw typeof u.reset=="function"&&u.reset(),I});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function lS(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new Yo({eb:o,cb:u})}$n(so,{PROVIDER_ID:"phone"}),$n(so,{PHONE_SIGN_IN_METHOD:"phone"});function Am(o){if(o.temporaryProof&&o.phoneNumber)return new Yo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,m=o&&o.nonce,_=o&&o.oauthIdToken,b=o&&o.pendingToken;try{switch(u){case"google.com":return aS(_,f);case"facebook.com":return oS(f);case"github.com":return sS(f);case"twitter.com":return uS(f,p);default:return f||p||_||b?b?u.indexOf("saml.")==0?new Ys(u,b):new oo(u,{pendingToken:b,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Er(u).credential({idToken:_,accessToken:f,rawNonce:m}):null}}catch{return null}}function Nm(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function Jr(o,u,f,p,m,_,b){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=b||null,this.a=m||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}Jr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Jr.prototype.T=function(){return this.h},Jr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function fS(o){return o=o||{},o.type?new Jr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Ti(o.error),o.postBody,o.tenantId):null}function _F(){this.b=null,this.a=[]}var km=null;function wF(o){var u=km;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=Tt("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function xm(o){var u="unauthorized-domain",f=void 0,p=ur(o);o=p.a,p=p.c,p=="chrome-extension"?f=MT("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=MT("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}pe(xm,R);function wl(o,u,f){R.call(this,o,f),o=u||{},o.Jb&&ce(this,"email",o.Jb),o.ea&&ce(this,"phoneNumber",o.ea),o.credential&&ce(this,"credential",o.credential),o.Zb&&ce(this,"tenantId",o.Zb)}pe(wl,R),wl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&or(o,u),o},wl.prototype.toJSON=function(){return this.w()};function td(o){if(o.code){var u=o.code||"";u.indexOf(kn)==0&&(u=u.substring(kn.length));var f={credential:Am(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new wl(u,f,o.message)}return null}function bl(){}bl.prototype.c=null;function hS(o){return o.c||(o.c=o.b())}var Rm;function nd(){}pe(nd,bl),nd.prototype.a=function(){var o=dS(this);return o?new ActiveXObject(o):new XMLHttpRequest},nd.prototype.b=function(){var o={};return dS(this)&&(o[0]=!0,o[1]=!0),o};function dS(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Rm=new nd;function rd(){}pe(rd,bl),rd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new pS;throw Error("Unsupported browser")},rd.prototype.b=function(){return{}};function pS(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=j(this.qc,this),this.a.onerror=j(this.Sb,this),this.a.onprogress=j(this.rc,this),this.a.ontimeout=j(this.vc,this)}t=pS.prototype,t.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},t.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Om(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Om(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Om(this,1)};function Om(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Pm(o,u,f){this.reset(o,u,f,void 0,void 0)}Pm.prototype.a=null,Pm.prototype.reset=function(o,u,f,p,m){delete this.a};function Dm(o){this.f=o,this.b=this.c=this.a=null}function El(o,u){this.name=o,this.value=u}El.prototype.toString=function(){return this.name};var vS=new El("SEVERE",1e3),Mm=new El("WARNING",900),bF=new El("CONFIG",700),EF=new El("FINE",500);function gS(o){return o.c?o.c:o.a?gS(o.a):(wn("Root logger has no level set."),null)}Dm.prototype.log=function(o,u,f){if(o.value>=gS(this).value)for(E(u)&&(u=u()),o=new Pm(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var Lm={},id=null;function Fm(o){id||(id=new Dm(""),Lm[""]=id,id.c=bF);var u;if(!(u=Lm[o])){u=new Dm(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=Fm(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,Lm[o]=u}return u}function jr(o,u){o&&o.log(EF,u,void 0)}function od(o){this.f=o}pe(od,bl),od.prototype.a=function(){return new sd(this.f)},od.prototype.b=function(o){return function(){return o}}({});function sd(o){Gn.call(this),this.u=o,this.h=void 0,this.readyState=Um,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Fm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}pe(sd,Gn);var Um=0;t=sd.prototype,t.open=function(o,u){if(this.readyState!=Um)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,Il(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Tl(this)),this.readyState=Um},t.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,Il(this)),this.a&&(this.readyState=3,Il(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,mS(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function mS(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}t.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?Tl(this):Il(this),this.readyState==3&&mS(this)}},t.tc=function(o){this.a&&(this.response=this.responseText=o,Tl(this))},t.sc=function(o){this.a&&(this.response=o,Tl(this))},t.Ua=function(o){var u=this.i;u&&u.log(Mm,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&Tl(this)};function Tl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,Il(o)}t.setRequestHeader=function(o,u){this.l.append(o,u)},t.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Mm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Mm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function Il(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(sd.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function Sl(o){Gn.call(this),this.headers=new nu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=yS,this.u=this.S=!1}pe(Sl,Gn);var yS="";Sl.prototype.b=Fm("goog.net.XhrIo");var TF=/^https?$/i,IF=["POST","PUT"];function SF(o,u,f,p,m){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Rm.a(),o.C=o.D?hS(o.D):hS(Rm),o.a.onreadystatechange=j(o.Vb,o);try{jr(o.b,ao(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(b){jr(o.b,ao(o,"Error opening Xhr: "+b.message)),_S(o,b);return}u=p||"";var _=new nu(o.headers);m&&R2(m,function(b,I){_.set(I,b)}),m=O(_.Y()),p=l.FormData&&u instanceof l.FormData,!L(IF,f)||m||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(b,I){this.a.setRequestHeader(I,b)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{ES(o),0<o.g&&(o.u=CF(o.a),jr(o.b,ao(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=j(o.Ma,o)):o.s=Xg(o.Ma,o.g,o)),jr(o.b,ao(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(b){jr(o.b,ao(o,"Send error: "+b.message)),_S(o,b)}}function CF(o){return Qr&&jT(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function AF(o){return o.toLowerCase()=="content-type"}t=Sl.prototype,t.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",jr(this.b,ao(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function _S(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,wS(o),ad(o)}function wS(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(jr(this.b,ao(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ad(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ad(this,!0)),Sl.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?bS(this):this.Jc())},t.Jc=function(){bS(this)};function bS(o){if(o.c&&typeof c<"u"){if(o.C[1]&&Cl(o)==4&&ud(o)==2)jr(o.b,ao(o,"Local request error detected and ignored"));else if(o.i&&Cl(o)==4)Xg(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),Cl(o)==4){jr(o.b,ao(o,"Request complete")),o.c=!1;try{var u=ud(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var m;if(m=u===0){var _=String(o.l).match(pI)[1]||null;if(!_&&l.self&&l.self.location){var b=l.self.location.protocol;_=b.substr(0,b.length-1)}m=!TF.test(_?_.toLowerCase():"")}p=m}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var I=2<Cl(o)?o.a.statusText:""}catch(F){jr(o.b,"Can not get status: "+F.message),I=""}o.h=I+" ["+ud(o)+"]",wS(o)}}finally{ad(o)}}}}function ad(o,u){if(o.a){ES(o);var f=o.a,p=o.C[0]?g:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(m){(o=o.b)&&o.log(vS,"Problem encountered resetting onreadystatechange: "+m.message,void 0)}}}function ES(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function Cl(o){return o.a?o.a.readyState:0}function ud(o){try{return 2<Cl(o)?o.a.status:-1}catch{return-1}}function NF(o){try{return o.a?o.a.responseText:""}catch(u){return jr(o.b,"Can not get responseText: "+u.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case yS:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(vS,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return jr(this.b,"Can not get response: "+u.message),null}};function ao(o,u){return u+" ["+o.R+" "+o.l+" "+ud(o)+"]"}function Js(o){var u=RF;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Js.prototype.cancel=function(o){if(this.a)this.c instanceof Js&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Nl,cd(this),Al(this,!1,o))}},Js.prototype.m=function(o,u){this.i=!1,Al(this,o,u)};function Al(o,u,f){o.a=!0,o.c=f,o.f=!u,IS(o)}function cd(o){if(o.a){if(!o.v)throw new ld;o.v=!1}}function kF(o,u){jm(o,null,u,void 0)}function jm(o,u,f,p){o.g.push([u,f,p]),o.a&&IS(o)}Js.prototype.then=function(o,u,f){var p,m,_=new je(function(b,I){p=b,m=I});return jm(this,p,function(b){b instanceof Nl?_.cancel():m(b)}),_.then(o,u,f)},Js.prototype.$goog_Thenable=!0;function TS(o){return A(o.g,function(u){return E(u[1])})}function IS(o){if(o.h&&o.a&&TS(o)){var u=o.h,f=fd[u];f&&(l.clearTimeout(f.a),delete fd[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var m=o.g.shift(),_=m[0],b=m[1];if(m=m[2],_=o.f?b:_)try{var I=_.call(m||o.s,u);I!==void 0&&(o.f=o.f&&(I==u||I instanceof Error),o.c=u=I),(ze(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(F){u=F,o.f=!0,TS(o)||(f=!0)}}o.c=u,p&&(I=j(o.m,o,!0),p=j(o.m,o,!1),u instanceof Js?(jm(u,I,p),u.C=!0):u.then(I,p)),f&&(u=new SS(u),fd[u.a]=u,o.h=u.a)}function ld(){Nt.call(this)}pe(ld,Nt),ld.prototype.message="Deferred has already fired",ld.prototype.name="AlreadyCalledError";function Nl(){Nt.call(this)}pe(Nl,Nt),Nl.prototype.message="Deferred was canceled",Nl.prototype.name="CanceledError";function SS(o){this.a=l.setTimeout(j(this.c,this),0),this.b=o}SS.prototype.c=function(){throw delete fd[this.a],this.b};var fd={};function Vm(o){var u={},f=u.document||document,p=AT(o).toString(),m=Lh(document,"SCRIPT"),_={Wb:m,Ma:void 0},b=new Js(_),I=null,F=u.timeout!=null?u.timeout:5e3;return 0<F&&(I=window.setTimeout(function(){hd(m,!0);var W=new Bm(PF,"Timeout reached for loading script "+p);cd(b),Al(b,!1,W)},F),_.Ma=I),m.onload=m.onreadystatechange=function(){m.readyState&&m.readyState!="loaded"&&m.readyState!="complete"||(hd(m,u.xd||!1,I),cd(b),Al(b,!0,null))},m.onerror=function(){hd(m,!0,I);var W=new Bm(OF,"Error while loading script "+p);cd(b),Al(b,!1,W)},_=u.attributes||{},or(_,{type:"text/javascript",charset:"UTF-8"}),BT(m,_),u2(m,o),xF(f).appendChild(m),b}function xF(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function RF(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&hd(o,!0,this.Ma)}}function hd(o,u,f){f!=null&&l.clearTimeout(f),o.onload=g,o.onerror=g,o.onreadystatechange=g,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var OF=0,PF=1;function Bm(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),Nt.call(this,f),this.code=o}pe(Bm,Nt);function dd(o){this.f=o}pe(dd,bl),dd.prototype.a=function(){return new this.f},dd.prototype.b=function(){return{}};function Zr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||DF,this.g=Xt(o.secureTokenHeaders||MF),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||LF,this.a=Xt(o.firebaseHeaders||FF),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Ai()=="Node",f=l.XMLHttpRequest||f&&oe.INTERNAL.node&&oe.INTERNAL.node.XMLHttpRequest,!f&&!Xr())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Xr()?this.f=new od(self):CI()?this.f=new dd(f):this.f=new rd,this.b=null}var qm,ei="idToken",DF=new Go(3e4,6e4),MF={"Content-Type":"application/x-www-form-urlencoded"},LF=new Go(3e4,6e4),FF={"Content-Type":"application/json"};function CS(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function fu(o,u){u&&(o.l=Wm("https://securetoken.googleapis.com/v1/token",u),o.h=Wm("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Wm("https://identitytoolkit.googleapis.com/v2/",u))}function Wm(o,u){return o=ur(o),u=ur(u.url),o.f=o.a+o.f,al(o,u.c),o.a=u.a,ul(o,u.g),o.toString()}function AS(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Zr.prototype.T=function(){return this.b};function NS(o,u,f,p,m,_,b){B2()||Xr()?o=j(o.u,o):(qm||(qm=new je(function(I,F){jF(I,F)})),o=j(o.s,o)),o(u,f,p,m,_,b)}Zr.prototype.u=function(o,u,f,p,m,_){if(Xr()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new Sl(this.f);if(_){b.g=Math.max(0,_);var I=setTimeout(function(){b.dispatchEvent("timeout")},_)}fI(b,"complete",function(){I&&clearTimeout(I);var F=null;try{F=JSON.parse(NF(this))||null}catch{F=null}u&&u(F)}),Qg(b,"ready",function(){I&&clearTimeout(I),iI(this)}),Qg(b,"timeout",function(){I&&clearTimeout(I),iI(this),u&&u(null)}),SF(b,o,f,p,m)};var UF=new Si(Oh,"https://apis.google.com/js/client.js?onload=%{onload}"),kS="__fcb"+Math.floor(1e6*Math.random()).toString();function jF(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[kS]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Og(UF,{onload:kS});kF(Vm(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Zr.prototype.s=function(o,u,f,p,m){var _=this;qm.then(function(){window.gapi.client.setApiKey(_.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:m,authType:"none",callback:function(I){window.gapi.auth.setToken(b),u&&u(I)}})}).o(function(b){u&&u({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function VF(o,u){return new je(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?NS(o,o.l+"?key="+encodeURIComponent(o.c),function(m){m?m.error?p(Xm(m)):m.access_token&&m.refresh_token?f(m):p(new R("internal-error")):p(new R("network-request-failed"))},"POST",gI(u).toString(),o.g,o.m.get()):p(new R("internal-error"))})}function xS(o,u,f,p,m,_,b){var I=ur(u+f);Lt(I,"key",o.c),b&&Lt(I,"cb",rt().toString());var F=p=="GET";if(F)for(var W in m)m.hasOwnProperty(W)&&Lt(I,W,m[W]);return new je(function(Ae,it){NS(o,I.toString(),function(Xe){Xe?Xe.error?it(Xm(Xe,_||{})):Ae(Xe):it(new R("network-request-failed"))},p,F?void 0:_I(kI(m)),o.a,o.v.get())})}function Zs(o){if(o=o.email,typeof o!="string"||!H2.test(o))throw new R("invalid-email")}function RS(o){"email"in o&&Zs(o)}function BF(o,u){return Be(o,XF,{identifier:u,continueUri:$h()?fl():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function qF(o){return Be(o,cU,{}).then(function(u){return u.authorizedDomains||[]})}function cr(o){if(!o[ei])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,Xt(o)):new R("internal-error")}function Hm(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}Zr.prototype.zb=function(){return Be(this,dU,{})},Zr.prototype.Bb=function(o,u){return Be(this,DS,{idToken:o,email:u})},Zr.prototype.Cb=function(o,u){return Be(this,MS,{idToken:o,password:u})};var WF={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Zr.prototype,t.Db=function(o,u){var f={idToken:o},p=[];return tl(WF,function(m,_){var b=u[_];b===null?p.push(m):_ in u&&(f[_]=b)}),p.length&&(f.deleteAttribute=p),Be(this,DS,f)},t.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},or(o,u),Be(this,uU,o)},t.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},or(o,u),Be(this,oU,o)},t.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},or(o,u),Be(this,sU,o)},t.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},or(o,f),Be(this,aU,o)};function HF(o,u){return Be(o,hU,u)}t.fb=function(o){return Be(this,wU,o)};function GF(o,u){return Be(o,pU,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function OS(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function $F(o,u){return Be(o,vU,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function YF(o,u,f){return Be(o,ZF,{idToken:u,deleteProvider:f})}function Gm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function $m(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ws(o.postBody),em(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function PS(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=td(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=td(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=td(o)):o.errorMessage&&(u=FS(o.errorMessage)),u)throw u;cr(o)}function Ym(o,u){return u.returnIdpCredential=!0,Be(o,gU,u)}function zm(o,u){return u.returnIdpCredential=!0,Be(o,yU,u)}function Km(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Be(o,mU,u)}function Qm(o){if(!o.oobCode)throw new R("invalid-action-code")}t.nb=function(o,u){return Be(this,fU,{oobCode:o,newPassword:u})},t.Ra=function(o){return Be(this,KF,{oobCode:o})},t.jb=function(o){return Be(this,zF,{oobCode:o})};var zF={endpoint:"setAccountInfo",A:Qm,Z:"email",B:!0},KF={endpoint:"resetPassword",A:Qm,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},QF={endpoint:"signupNewUser",A:function(o){if(Zs(o),!o.password)throw new R("weak-password")},G:cr,V:!0,B:!0},XF={endpoint:"createAuthUri",B:!0},JF={endpoint:"deleteAccount",N:["idToken"]},ZF={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},eU={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Zs,G:cr,V:!0,B:!0},tU={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Zs,G:cr,V:!0},nU={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:OS,G:cr,B:!0,Na:!0},rU={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:OS,G:cr,B:!0,Na:!0},iU={endpoint:"getAccountInfo"},oU={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");Zs(o)},Z:"email",B:!0},sU={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},aU={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},uU={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");Zs(o)},Z:"email",B:!0},cU={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},lU={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},fU={endpoint:"resetPassword",A:Qm,Z:"email",B:!0},hU={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},DS={endpoint:"setAccountInfo",N:["idToken"],A:RS,V:!0},MS={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(RS(o),!o.password)throw new R("weak-password")},G:cr,V:!0},dU={endpoint:"signupNewUser",G:cr,V:!0,B:!0},pU={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},vU={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},gU={endpoint:"verifyAssertion",A:Gm,Ya:$m,G:PS,V:!0,B:!0},mU={endpoint:"verifyAssertion",A:Gm,Ya:$m,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw FS(o.errorMessage);cr(o)},V:!0,B:!0},yU={endpoint:"verifyAssertion",A:function(o){if(Gm(o),!o.idToken)throw new R("internal-error")},Ya:$m,G:PS,V:!0},_U={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:cr,V:!0,B:!0},LS={endpoint:"verifyPassword",A:function(o){if(Zs(o),!o.password)throw new R("wrong-password")},G:cr,V:!0,B:!0},wU={endpoint:"verifyPhoneNumber",A:Hm,G:cr,B:!0},bU={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");Hm(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",td(o);cr(o)}},EU={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Hm,G:cr,B:!0},TU={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[ei]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function Be(o,u,f){if(!X2(f,u.N))return Et(new R("internal-error"));var p=!!u.Na,m=u.Ub||"POST",_;return be(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?xS(o,o.i,u.endpoint,m,f,u.Hb,u.lb||!1):xS(o,o.h,u.endpoint,m,f,u.Hb,u.lb||!1)}).then(function(b){return _=b,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new R("internal-error");return _[u.Z]})}function FS(o){return Xm({error:{errors:[{message:o}],code:400,message:o}})}function Xm(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new R(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},or(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var m in p)if(f.indexOf(m)===0)return new R(p[m],u);return!u&&o&&(u=dl(o)),new R("internal-error",u)}function IU(o){this.b=o,this.a=null,this.rb=SU(this)}function SU(o){return RU().then(function(){return new je(function(u,f){Tt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function m(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},xU.get());p.ping(m).then(m,function(){f(Error("Network Error"))})})})})}function CU(o,u){return o.rb.then(function(){return new je(function(f){o.a.send(u.type,u,f,Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function AU(o,u){o.rb.then(function(){o.a.register("authEvent",u,Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var NU=new Si(Oh,"https://apis.google.com/js/api.js?onload=%{onload}"),kU=new Go(3e4,6e4),xU=new Go(5e3,15e3),pd=null;function RU(){return pd||(pd=new je(function(o,u){function f(){RI(),Tt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){RI(),u(Error("Network Error"))},timeout:kU.get()})}if(Tt("gapi.iframes.Iframe"))o();else if(Tt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){Tt("gapi.load")?f():u(Error("Network Error"))},p=Og(NU,{onload:p}),be(Vm(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw pd=null,o}))}function US(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=ur(this.g.url),o=Hh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Hh("https",this.l,null,"/__/auth/iframe"),this.a=o,Lt(this.a,"apiKey",this.h),Lt(this.a,"appName",this.i),this.b=null,this.c=[]}US.prototype.toString=function(){return this.f?Lt(this.a,"v",this.f):Ci(this.a.b,"v"),this.b?Lt(this.a,"eid",this.b):Ci(this.a.b,"eid"),this.c.length?Lt(this.a,"fw",this.c.join(",")):Ci(this.a.b,"fw"),this.a.toString()};function Jm(o,u,f,p,m,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=m,this.h=this.f=null}Jm.prototype.yb=function(o){return this.h=o,this},Jm.prototype.toString=function(){if(this.v){var o=ur(this.v.url);o=Hh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Hh("https",this.u,null,"/__/auth/handler");if(Lt(o,"apiKey",this.s),Lt(o,"appName",this.c),Lt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=oe.app(this.c).auth().la()}catch{f=null}u.ob=f,Lt(o,"providerId",this.a.providerId),f=this.a,u=kI(f.Ib);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=Xt(u);for(var m=0;m<p.length;m++){var _=p[m];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),Mt(u)||Lt(o,"customParameters",dl(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&Lt(o,"scopes",f.join(","))),this.l?Lt(o,"redirectUrl",this.l):Ci(o.b,"redirectUrl"),this.g?Lt(o,"eventId",this.g):Ci(o.b,"eventId"),this.i?Lt(o,"v",this.i):Ci(o.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!Fr(o,b)&&Lt(o,b,this.b[b]);return this.h?Lt(o,"tid",this.h):Ci(o.b,"tid"),this.f?Lt(o,"eid",this.f):Ci(o.b,"eid"),b=Zm(this.c),b.length&&Lt(o,"fw",b.join(",")),o.toString()};function Zm(o){try{return oe.app(o).auth().Ga()}catch{return[]}}function jS(o,u,f,p,m,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=m||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function VS(o){var u=fl();return qF(o).then(function(f){e:{var p=ur(u),m=p.c;p=p.a;for(var _=0;_<f.length;_++){var b=f[_],I=p,F=m;if(b.indexOf("chrome-extension://")==0?I=ur(b).a==I&&F=="chrome-extension":F!="http"&&F!="https"?I=!1:W2.test(b)?I=I==b:(b=b.split(".").join("\\."),I=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(I)),I){f=!0;break e}}f=!1}if(!f)throw new xm(fl())})}function BS(o){return o.m||(o.m=Gh().then(function(){if(!o.u){var u=o.c,f=o.i,p=Zm(o.b),m=new US(o.s,o.g,o.b,o.f);m.f=u,m.b=f,m.c=z(p||[]),o.u=m.toString()}o.v=new IU(o.u),OU(o)})),o.m}t=jS.prototype,t.Ob=function(o,u,f){var p=new R("popup-closed-by-user"),m=new R("web-storage-unsupported"),_=this,b=!1;return this.ma().then(function(){PU(_).then(function(I){I||(o&&Hs(o),u(m),b=!0)})}).o(function(){}).then(function(){if(!b)return q2(o)}).then(function(){if(!b)return tu(f).then(function(){u(p)})})},t.Xb=function(){var o=bn();return!hl(o)&&!xI(o)},t.Tb=function(){return!1},t.Mb=function(o,u,f,p,m,_,b,I){if(!o)return Et(new R("popup-blocked"));if(b&&!hl())return this.ma().o(function(W){Hs(o),m(W)}),p(),be();this.a||(this.a=VS(qS(this)));var F=this;return this.a.then(function(){var W=F.ma().o(function(Ae){throw Hs(o),m(Ae),Ae});return p(),W}).then(function(){if(Nm(f),!b){var W=kl(F.s,F.g,F.b,u,f,null,_,F.c,void 0,F.i,I,F.f);EI(W,o)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(F.a=null),W})};function qS(o){return o.l||(o.C=o.c?ou(o.c,Zm(o.b)):null,o.l=new Zr(o.g,wt(o.i),o.C),o.f&&fu(o.l,o.f)),o.l}t.Nb=function(o,u,f,p){this.a||(this.a=VS(qS(this)));var m=this;return this.a.then(function(){Nm(u);var _=kl(m.s,m.g,m.b,o,u,fl(),f,m.c,void 0,m.i,p,m.f);EI(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(m.a=null),_})},t.ma=function(){var o=this;return BS(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new R("network-request-failed")})},t.$b=function(){return!0};function kl(o,u,f,p,m,_,b,I,F,W,Ae,it){return o=new Jm(o,u,f,p,m,it),o.l=_,o.g=b,o.i=I,o.b=Xt(F||null),o.f=W,o.yb(Ae).toString()}function OU(o){if(!o.v)throw Error("IfcHandler must be initialized!");AU(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=fS(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",be(f)}return f.status="ERROR",be(f)})}function PU(o){var u={type:"webStorageSupport"};return BS(o).then(function(){return CU(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}t.Ea=function(o){this.h.push(o)},t.Sa=function(o){q(this.h,function(u){return u==o})};function WS(o){if(this.a=o||oe.INTERNAL.reactNative&&oe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=WS.prototype,t.get=function(o){return be(this.a.getItem(o)).then(function(u){return u&&au(u)})},t.set=function(o,u){return be(this.a.setItem(o,dl(u)))},t.U=function(o){return be(this.a.removeItem(o))},t.ca=function(){},t.ia=function(){};function HS(o){this.b=o,this.a={},this.f=j(this.c,this)}var GS=[];function DU(){var o=Xr()?self:null;if(H(GS,function(f){f.b==o&&(u=f)}),!u){var u=new HS(o);GS.push(u)}return u}HS.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var m=[];H(p,function(_){m.push(be().then(function(){return _(o.origin,o.data.data)}))}),KT(m).then(function(_){var b=[];H(_,function(I){b.push({fulfilled:I.Pb,value:I.value,reason:I.reason?I.reason.message:void 0})}),H(b,function(I){for(var F in I)typeof I[F]>"u"&&delete I[F]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:b})})}};function $S(o,u,f){Mt(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function YS(o){this.a=o}YS.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function zS(o){this.c=o,this.b=!1,this.a=[]}function KS(o,u,f,p){var m,_=f||{},b,I,F,W=null;if(o.b)return Et(Error("connection_unavailable"));var Ae=p?800:50,it=typeof MessageChannel<"u"?new MessageChannel:null;return new je(function(Xe,hn){it?(m=Math.floor(Math.random()*Math.pow(10,20)).toString(),it.port1.start(),I=setTimeout(function(){hn(Error("unsupported_event"))},Ae),b=function(uo){uo.data.eventId===m&&(uo.data.status==="ack"?(clearTimeout(I),F=setTimeout(function(){hn(Error("timeout"))},3e3)):uo.data.status==="done"?(clearTimeout(F),typeof uo.data.response<"u"?Xe(uo.data.response):hn(Error("unknown_error"))):(clearTimeout(I),clearTimeout(F),hn(Error("invalid_response"))))},W={messageChannel:it,onMessage:b},o.a.push(W),it.port1.addEventListener("message",b),o.c.postMessage({eventType:u,eventId:m,data:_},[it.port2])):hn(Error("connection_unavailable"))}).then(function(Xe){return ey(o,W),Xe}).o(function(Xe){throw ey(o,W),Xe})}function ey(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),q(o.a,function(m){return m==u})}}zS.prototype.close=function(){for(;0<this.a.length;)ey(this,this.a[0]);this.b=!0};function QS(){if(!ry())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Xr()&&self?(this.v=DU(),$S(this.v,"keyChanged",function(u,f){return ZS(o).then(function(p){return 0<p.length&&H(o.a,function(m){m(p)}),{keyProcessed:L(p,f.key)}})}),$S(this.v,"ping",function(){return be(["keyChanged"])})):K2().then(function(u){(o.h=u)&&(o.g=new zS(new YS(u)),KS(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&L(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var ty;function MU(o){return new je(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(m){f(Error(m.target.error))}})}function XS(o){return new je(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(m){try{m.preventDefault()}catch{}f(Error(m.target.error))},p.onupgradeneeded=function(m){m=m.target.result;try{m.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(m){m=m.target.result,m.objectStoreNames.contains("firebaseLocalStorage")?u(m):MU(o).then(function(){return XS(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function ny(o){return o.i||(o.i=XS(o)),o.i}function vd(o,u){function f(m,_){ny(o).then(u).then(m).o(function(b){if(3<++p)_(b);else return ny(o).then(function(I){return I.close(),o.i=void 0,f(m,_)}).o(function(I){_(I)})})}var p=0;return new je(f)}function ry(){try{return!!l.indexedDB}catch{return!1}}function xl(o){return o.objectStore("firebaseLocalStorage")}function Rl(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function hu(o){return new je(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}t=QS.prototype,t.set=function(o,u){var f=this,p=!1;return vd(this,function(m){return m=xl(Rl(m,!0)),hu(m.get(o))}).then(function(m){return vd(f,function(_){if(_=xl(Rl(_,!0)),m)return m.value=u,hu(_.put(m));f.b++,p=!0;var b={};return b.fbase_key=o,b.value=u,hu(_.add(b))})}).then(function(){return f.c[o]=u,JS(f,o)}).oa(function(){p&&f.b--})};function JS(o,u){return o.g&&o.h&&z2()===o.h?KS(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):be()}t.get=function(o){return vd(this,function(u){return hu(xl(Rl(u,!1)).get(o))}).then(function(u){return u&&u.value})},t.U=function(o){var u=this,f=!1;return vd(this,function(p){return f=!0,u.b++,hu(xl(Rl(p,!0)).delete(o))}).then(function(){return delete u.c[o],JS(u,o)}).oa(function(){f&&u.b--})};function ZS(o){return ny(o).then(function(u){var f=xl(Rl(u,!1));return f.getAll?hu(f.getAll()):new je(function(p,m){var _=[],b=f.openCursor();b.onsuccess=function(I){(I=I.target.result)?(_.push(I.value),I.continue()):p(_)},b.onerror=function(I){m(I.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=TI(o.c,f),o.c=f}return p})}t.ca=function(o){this.a.length==0&&LU(this),this.a.push(o)},t.ia=function(o){q(this.a,function(u){return u==o}),this.a.length==0&&e1(this)};function LU(o){function u(){o.f=setTimeout(function(){o.l=ZS(o).then(function(f){0<f.length&&H(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}e1(o),u()}function e1(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function t1(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=be().then(function(){if(ry()){var p=$s(),m="__sak"+p;return ty||(ty=new QS),f=ty,f.set(m,p).then(function(){return f.get(m)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(m)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(m){H(u.a,function(_){_(m)})}),p})}t=t1.prototype,t.get=function(o){return this.b.then(function(u){return u.get(o)})},t.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},t.U=function(o){return this.b.then(function(u){return u.U(o)})},t.ca=function(o){this.a.push(o)},t.ia=function(o){q(this.a,function(u){return u==o})};function Ol(){this.a={},this.type="inMemory"}t=Ol.prototype,t.get=function(o){return be(this.a[o])},t.set=function(o,u){return this.a[o]=u,be()},t.U=function(o){return delete this.a[o],be()},t.ca=function(){},t.ia=function(){};function gd(){if(!FU())throw Ai()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=n1()||oe.INTERNAL.node.localStorage,this.type="localStorage"}function n1(){try{var o=l.localStorage,u=$s();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function FU(){var o=Ai()=="Node";if(o=n1()||o&&oe.INTERNAL.node&&oe.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=gd.prototype,t.get=function(o){var u=this;return be().then(function(){var f=u.a.getItem(o);return au(f)})},t.set=function(o,u){var f=this;return be().then(function(){var p=dl(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return be().then(function(){u.a.removeItem(o)})},t.ca=function(o){l.window&&Lr(l.window,"storage",o)},t.ia=function(o){l.window&&br(l.window,"storage",o)};function iy(){this.type="nullStorage"}t=iy.prototype,t.get=function(){return be(null)},t.set=function(){return be()},t.U=function(){return be()},t.ca=function(){},t.ia=function(){};function oy(){if(!UU())throw Ai()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=r1()||oe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function r1(){try{var o=l.sessionStorage,u=$s();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function UU(){var o=Ai()=="Node";if(o=r1()||o&&oe.INTERNAL.node&&oe.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=oy.prototype,t.get=function(o){var u=this;return be().then(function(){var f=u.a.getItem(o);return au(f)})},t.set=function(o,u){var f=this;return be().then(function(){var p=dl(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return be().then(function(){u.a.removeItem(o)})},t.ca=function(){},t.ia=function(){};function jU(){var o={};o.Browser=VU,o.Node=BU,o.ReactNative=qU,o.Worker=WU,this.a=o[Ai()]}var sy,VU={F:gd,bb:oy},BU={F:gd,bb:oy},qU={F:WS,bb:iy},WU={F:gd,bb:iy},du={rd:"local",NONE:"none",td:"session"};function HU(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(p in du)if(du[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(Ai()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!ry()&&o!=="none")throw f;break;default:if(!sm()&&o!=="none")throw f}}function i1(){var o=!!(!xI(bn())&&im()),u=hl(),f=sm();this.m=o,this.h=u,this.l=f,this.a={},sy||(sy=new jU),o=sy;try{this.g=!nm()&&OI()||!l.indexedDB?new o.a.F:new t1(Xr()?new Ol:new o.a.F)}catch{this.g=new Ol,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new Ol}this.v=new Ol,this.f=j(this.Yb,this),this.b={}}var ay;function Pl(){return ay||(ay=new i1),ay}function ea(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function pu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function GU(o,u,f){var p=pu(u,f),m=ea(o,u.F);return o.get(u,f).then(function(_){var b=null;try{b=au(l.localStorage.getItem(p))}catch{}if(b&&!_)return l.localStorage.removeItem(p),o.set(u,b,f);b&&_&&m.type!="localStorage"&&l.localStorage.removeItem(p)})}t=i1.prototype,t.get=function(o,u){return ea(this,o.F).get(pu(o,u))};function vu(o,u,f){return f=pu(u,f),u.F=="local"&&(o.b[f]=null),ea(o,u.F).U(f)}t.set=function(o,u,f){var p=pu(o,f),m=this,_=ea(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(b){o.F=="local"&&(m.b[p]=b)})},t.addListener=function(o,u,f){o=pu(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),Mt(this.a)&&(ea(this,"local").ca(this.f),this.h||(nm()||!OI())&&l.indexedDB||!this.l||$U(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},t.removeListener=function(o,u,f){o=pu(o,u),this.a[o]&&(q(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),Mt(this.a)&&(ea(this,"local").ia(this.f),uy(this))};function $U(o){uy(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new Bs({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Yb(f))}},1e3)}function uy(o){o.c&&(clearInterval(o.c),o.c=null)}t.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var m=l.localStorage.getItem(f);m!==p&&(this.b[f]=m,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?ea(this,"local").ia(this.f):uy(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.mb(u))},Qr&&qo&&qo==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else H(o,j(this.mb,this))},t.mb=function(o){this.a[o]&&H(this.a[o],function(u){u()})};function YU(o){this.a=o,this.b=Pl()}var cy={name:"authEvent",F:"local"};function zU(o){return o.b.get(cy,o.a).then(function(u){return fS(u)})}function KU(){this.a=Pl()}function QU(){this.b=-1}function md(o,u){this.b=o1,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),yd===void 0&&(l.Int32Array?yd=new Int32Array(u1):yd=u1),this.reset()}var yd;pe(md,QU);for(var o1=64,XU=o1-1,s1=[],ly=0;ly<XU;ly++)s1[ly]=0;var a1=re(128,s1);md.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):z(this.h)};function fy(o){for(var u=o.f,f=o.l,p=0,m=0;m<u.length;)f[p++]=u[m]<<24|u[m+1]<<16|u[m+2]<<8|u[m+3],m=4*p;for(u=16;64>u;u++){m=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3)|0,b=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+b|0}p=o.a[0]|0,m=o.a[1]|0;var I=o.a[2]|0,F=o.a[3]|0,W=o.a[4]|0,Ae=o.a[5]|0,it=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Xe=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&m^p&I^m&I)|0;b=W&Ae^~W&it,_=_+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,b=b+(yd[u]|0)|0,b=_+(b+(f[u]|0)|0)|0,_=it,it=Ae,Ae=W,W=F+b|0,F=I,I=m,m=p,p=b+Xe|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+m|0,o.a[2]=o.a[2]+I|0,o.a[3]=o.a[3]+F|0,o.a[4]=o.a[4]+W|0,o.a[5]=o.a[5]+Ae|0,o.a[6]=o.a[6]+it|0,o.a[7]=o.a[7]+_|0}function hy(o,u,f){f===void 0&&(f=u.length);var p=0,m=o.c;if(typeof u=="string")for(;p<f;)o.f[m++]=u.charCodeAt(p++),m==o.b&&(fy(o),m=0);else if(w(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[m++]=_,m==o.b&&(fy(o),m=0)}else throw Error("message must be string or array");o.c=m,o.g+=f}var u1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function c1(){md.call(this,8,JU)}pe(c1,md);var JU=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function l1(o,u,f,p,m,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=m||null,this.s=_,this.h=u+":"+f,this.C=new KU,this.g=new YU(this.h),this.f=null,this.b=[],this.a=this.c=null}function _d(o){return new R("invalid-cordova-configuration",o)}t=l1.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=G2().then(function(){if(typeof Tt("universalLinks.subscribe",l)!="function")throw _d("cordova-universal-links-plugin-fix is not installed");if(typeof Tt("BuildInfo.packageName",l)>"u")throw _d("cordova-plugin-buildinfo is not installed");if(typeof Tt("cordova.plugins.browsertab.openUrl",l)!="function")throw _d("cordova-plugin-browsertab is not installed");if(typeof Tt("cordova.InAppBrowser.open",l)!="function")throw _d("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function ZU(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function ej(o){var u=new c1;hy(u,o),o=[];var f=8*u.g;56>u.c?hy(u,a1,56-u.c):hy(u,a1,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(fy(u),p=f=0;p<u.i;p++)for(var m=24;0<=m;m-=8)o[f++]=u.a[p]>>m&255;return fF(o)}t.Ob=function(o,u){return u(new R("operation-not-supported-in-this-environment")),be()},t.Mb=function(){return Et(new R("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(o,u,f,p){if(this.c)return Et(new R("redirect-operation-pending"));var m=this,_=l.document,b=null,I=null,F=null,W=null;return this.c=be().then(function(){return Nm(u),h1(m)}).then(function(){return tj(m,o,u,f,p)}).then(function(){return new je(function(Ae,it){I=function(){var Xe=Tt("cordova.plugins.browsertab.close",l);return Ae(),typeof Xe=="function"&&Xe(),m.a&&typeof m.a.close=="function"&&(m.a.close(),m.a=null),!1},m.Ea(I),F=function(){b||(b=tu(2e3).then(function(){it(new R("redirect-cancelled-by-user"))}))},W=function(){am()&&F()},_.addEventListener("resume",F,!1),bn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",W,!1)}).o(function(Ae){return dy(m).then(function(){throw Ae})})}).oa(function(){F&&_.removeEventListener("resume",F,!1),W&&_.removeEventListener("visibilitychange",W,!1),b&&b.cancel(),I&&m.Sa(I),m.c=null})};function tj(o,u,f,p,m){var _=ZU(),b=new Jr(u,p,null,_,new R("no-auth-event"),null,m),I=Tt("BuildInfo.packageName",l);if(typeof I!="string")throw new R("invalid-cordova-configuration");var F=Tt("BuildInfo.displayName",l),W={};if(bn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=I;else if(bn().toLowerCase().match(/android/))W.apn=I;else return Et(new R("operation-not-supported-in-this-environment"));F&&(W.appDisplayName=F),_=ej(_),W.sessionId=_;var Ae=kl(o.v,o.i,o.l,u,f,null,p,o.m,W,o.u,m,o.s);return o.ma().then(function(){var it=o.h;return o.C.a.set(cy,b.w(),it)}).then(function(){var it=Tt("cordova.plugins.browsertab.isAvailable",l);if(typeof it!="function")throw new R("invalid-cordova-configuration");var Xe=null;it(function(hn){if(hn){if(Xe=Tt("cordova.plugins.browsertab.openUrl",l),typeof Xe!="function")throw new R("invalid-cordova-configuration");Xe(Ae)}else{if(Xe=Tt("cordova.InAppBrowser.open",l),typeof Xe!="function")throw new R("invalid-cordova-configuration");hn=bn(),o.a=Xe(Ae,hn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||hn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function f1(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function h1(o){return o.f||(o.f=o.ma().then(function(){return new je(function(u){function f(p){return u(p),o.Sa(f),!1}o.Ea(f),nj(o)})})),o.f}function dy(o){var u=null;return zU(o.g).then(function(f){return u=f,f=o.g,vu(f.b,cy,f.a)}).then(function(){return u})}function nj(o){function u(b){p=!0,m&&m.cancel(),dy(o).then(function(I){var F=f;if(I&&b&&b.url){var W=null;F=rS(b.url),F.indexOf("/__/auth/callback")!=-1&&(W=ur(F),W=au(Fr(W,"firebaseError")||null),W=(W=typeof W=="object"?Ti(W):null)?new Jr(I.c,I.b,null,null,W,null,I.T()):new Jr(I.c,I.b,F,I.f,null,null,I.T())),F=W||f}f1(o,F)})}var f=new Jr("unknown",null,null,null,new R("no-auth-event")),p=!1,m=tu(500).then(function(){return dy(o).then(function(){p||f1(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(b){if(b.toLowerCase().indexOf(Tt("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:b}),typeof _=="function")try{_(b)}catch(I){console.error(I)}},km||(km=new _F),wF(u)}t.Ea=function(o){this.b.push(o),h1(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Jr("unknown",null,null,null,new R("no-auth-event")),o(u))})},t.Sa=function(o){q(this.b,function(u){return u==o})};function rj(o){this.a=o,this.b=Pl()}var py={name:"pendingRedirect",F:"session"};function ij(o){return o.b.set(py,"pending",o.a)}function vy(o){return vu(o.b,py,o.a)}function oj(o){return o.b.get(py,o.a).then(function(u){return u=="pending"})}function wd(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=j(this.s,this),this.b=new bd,this.C=new I1,this.g=new rj(w1(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=d1(this.D,this.v,this.m,Ye,this.J)}function d1(o,u,f,p,m){var _=oe.SDK_VERSION||null;return rm()?new l1(o,u,f,_,p,m):new jS(o,u,f,_,p,m)}wd.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=d1(this.D,this.v,this.m,null,this.J),this.i={}};function p1(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function v1(o){o.a.Xb()&&p1(o).o(function(u){var f=new Jr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));my(u)&&o.s(f)}),o.a.Tb()||E1(o.b)}function gy(o,u){L(o.h,u)||o.h.push(u),o.f||oj(o.g).then(function(f){f?vy(o.g).then(function(){p1(o).o(function(p){var m=new Jr("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));my(p)&&o.s(m)})}):v1(o)}).o(function(){v1(o)})}function g1(o,u){q(o.h,function(f){return f==u})}wd.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=rt()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=rt())),u=!0;break}}return E1(this.b),u};var sj=new Go(2e3,1e4),aj=new Go(3e4,6e4);wd.prototype.qa=function(){return this.b.qa()};function m1(o,u,f,p,m,_,b){return o.a.Mb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},m,_,b)}function my(o){return!!(o&&o.code=="auth/cordova-not-ready")}function y1(o,u,f,p,m){var _;return ij(o.g).then(function(){return o.a.Nb(u,f,p,m).o(function(b){if(my(b))throw new R("operation-not-supported-in-this-environment");return _=b,vy(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new je(function(){}):vy(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function _1(o,u,f,p,m){return o.a.Ob(p,function(_){u.na(f,null,_,m)},sj.get())}var yy={};function w1(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function b1(o,u,f,p){var m=w1(u,f,p);return yy[m]||(yy[m]=new wd(o,u,f,p)),yy[m]}function bd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}bd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},bd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,m=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!m&&!_),f!="unknown"||m||_?o.a?(ta(this,!0,null,o.a),be()):u.Fa(f,p)?uj(this,o,u):Et(new R("invalid-auth-event")):(ta(this,!1,null,null),be())}else Et(new R("invalid-auth-event"))};function E1(o){o.g||(o.g=!0,ta(o,!1,null,null))}function Ed(o){o.g&&!o.i&&ta(o,!1,null,null)}function uj(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,m=u.f,_=u.i,b=u.T(),I=!!u.c.match(/Redirect$/);f(p,m,b,_).then(function(F){ta(o,I,F,null)}).o(function(F){ta(o,I,null,F)})}function cj(o,u){if(o.b=function(){return Et(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function T1(o,u){if(o.b=function(){return be(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function ta(o,u,f,p){u?p?cj(o,p):T1(o,f):T1(o,{user:null}),o.f=[],o.c=[]}bd.prototype.qa=function(){var o=this;return new je(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),lj(o))})};function lj(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=tu(aj.get()).then(function(){o.b||(o.g=!0,ta(o,!0,null,u))})}function I1(){}I1.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),be()):u.Fa(f,p)?fj(o,u):Et(new R("invalid-auth-event"))}else Et(new R("invalid-auth-event"))};function fj(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(m){u.na(p,m,null,f)}).o(function(m){u.na(p,null,m,f)})}function S1(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function _y(o,u){this.a=u,ce(this,"verificationId",o)}_y.prototype.confirm=function(o){return o=lS(this.verificationId,o),this.a(o)};function wy(o,u,f,p){return new so(o).fb(u,f).then(function(m){return new _y(m,p)})}function hj(o){var u=KI(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");$n(this,{token:o,expirationTime:pl(1e3*u.exp),authTime:pl(1e3*u.auth_time),issuedAtTime:pl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function by(o,u,f){var p=u&&u[A1];if(!p)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Xt(u),this.g=f,this.c=new Zh(null,p),this.b=[];var m=this;H(u[C1]||[],function(_){(_=dm(_))&&m.b.push(_)}),ce(this,"auth",this.a),ce(this,"session",this.c),ce(this,"hints",this.b)}var C1="mfaInfo",A1="mfaPendingCredential";by.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var p=Xt(u.f);return delete p[C1],delete p[A1],or(p,f),u.g(p)})};function Ey(o,u,f,p){R.call(this,"multi-factor-auth-required",p,u),this.b=new by(o,u,f),ce(this,"resolver",this.b)}pe(Ey,R);function N1(o,u,f){if(o&&T(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new Ey(u,o.serverResponse,f,o.message)}catch{}return null}function k1(){}k1.prototype.sb=function(o,u,f){return u.type==yl?dj(this,o,u,f):pj(this,o,u)};function dj(o,u,f,p){return f.Ha().then(function(m){return m={idToken:m},typeof p<"u"&&(m.displayName=p),or(m,{phoneVerificationInfo:_l(o.a)}),Be(u,nU,m)})}function pj(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},or(p,{phoneVerificationInfo:_l(o.a)}),Be(u,rU,p)})}function Ty(o){ce(this,"factorId",o.fa),this.a=o}pe(Ty,k1);function x1(o){if(Ty.call(this,o),this.a.fa!=so.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}pe(x1,Ty);function gu(o,u){ar.call(this,o);for(var f in u)this[f]=u[f]}pe(gu,ar);function Iy(o,u){this.a=o,this.b=[],this.c=j(this.yc,this),Lr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&H(u.multiFactor.enrolledFactors,function(p){var m=null,_={};if(p){p.uid&&(_[vm]=p.uid),p.displayName&&(_[DI]=p.displayName),p.enrollmentTime&&(_[pm]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[gm]=p.phoneNumber);try{m=new vl(_)}catch{}p=m}else p=null;p&&f.push(p)}),Td(this,f)}function vj(o){var u=[];return H(o.mfaInfo||[],function(f){(f=dm(f))&&u.push(f)}),u}t=Iy.prototype,t.yc=function(o){Td(this,vj(o.hd))};function Td(o,u){o.b=u,ce(o,"enrolledFactors",u)}t.Rb=function(){return this.a.I().then(function(o){return new Zh(o,null)})},t.fc=function(o,u){var f=this,p=this.a.a;return this.Rb().then(function(m){return o.sb(p,m,u)}).then(function(m){return xi(f.a,m),f.a.reload()})},t.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(m){return Be(p,TU,{idToken:m,mfaEnrollmentId:f})}).then(function(m){var _=Qe(u.b,function(b){return b.uid!=f});return Td(u,_),xi(u.a,m),u.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},t.w=function(){return{multiFactor:{enrolledFactors:S(this.b,function(o){return o.w()})}}};function Sy(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Sy.prototype.start=function(){this.a=this.c,Cy(this,!0)};function gj(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function Cy(o,u){o.stop(),o.b=tu(gj(o,u)).then(function(){return Y2()}).then(function(){return o.h()}).then(function(){Cy(o,!0)}).o(function(f){o.i(f)&&Cy(o,!1)})}Sy.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Ay(o){this.f=o,this.b=this.a=null,this.c=Date.now()}Ay.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function R1(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function O1(o,u){o.b=Xh(u[ei]||""),o.a=u.refreshToken,u=u.expiresIn,R1(o,typeof u<"u"?Number(u):void 0)}function mj(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function yj(o,u){return VF(o.f,u).then(function(f){return o.b=Xh(f.access_token),o.a=f.refresh_token,R1(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}Ay.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?Et(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?yj(this,{grant_type:"refresh_token",refresh_token:this.a}):be(null):be({accessToken:this.b.toString(),refreshToken:this.a})};function Id(o,u){this.a=o||null,this.b=u||null,$n(this,{lastSignInTime:pl(u||null),creationTime:pl(o||null)})}function _j(o){return new Id(o.a,o.b)}Id.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function wj(o,u,f,p,m,_){$n(this,{uid:o,displayName:p||null,photoURL:m||null,email:f||null,phoneNumber:_||null,providerId:u})}function Tr(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=oe.SDK_VERSION?ou(oe.SDK_VERSION):null;this.a=new Zr(this.l,wt(Ye),p),o.emulatorConfig&&fu(this.a,o.emulatorConfig),this.b=new Ay(this.a),Py(this,u[ei]),O1(this.b,u),ce(this,"refreshToken",this.b.a),D1(this,f||{}),Gn.call(this),this.R=!1,this.s&&Gs()&&(this.i=b1(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=bj(this),this.aa=j(this.hb,this);var m=this;this.ya=null,this.Oa=function(_){m.wa(_.h)},this.ja=null,this.Aa=function(_){fu(m.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){Dl(m,_.f)},this.ba=null,this.O=new Iy(this,f),ce(this,"multiFactor",this.O)}pe(Tr,Gn),Tr.prototype.wa=function(o){this.ya=o,CS(this.a,o)},Tr.prototype.la=function(){return this.ya};function Ny(o,u){o.ja&&br(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&Lr(u,"languageCodeChanged",o.Oa)}function ky(o,u){o.X&&br(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&Lr(u,"emulatorConfigChanged",o.Aa)}function Dl(o,u){o.$=u,AS(o.a,oe.SDK_VERSION?ou(oe.SDK_VERSION,o.$):null)}Tr.prototype.Ga=function(){return z(this.$)};function xy(o,u){o.ba&&br(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&Lr(u,"frameworkChanged",o.Ba)}Tr.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Ry(o){try{return oe.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function bj(o){return new Sy(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function P1(o){o.D||o.u.b||(o.u.start(),br(o,"tokenChanged",o.aa),Lr(o,"tokenChanged",o.aa))}function Oy(o){br(o,"tokenChanged",o.aa),o.u.stop()}function Py(o,u){o.za=u,ce(o,"_lat",u)}function Ej(o,u){q(o.S,function(f){return f==u})}function na(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return KT(u).then(function(){return o})}function Ml(o){o.i&&!o.R&&(o.R=!0,gy(o.i,o))}function D1(o,u){$n(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Id(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ce(Tr.prototype,"providerId","firebase");function M1(){}function Dy(o){return be().then(function(){if(o.D)throw new R("app-deleted")})}function My(o){return S(o.providerData,function(u){return u.providerId})}function Ly(o,u){u&&(L1(o,u.providerId),o.providerData.push(u))}function L1(o,u){q(o.providerData,function(f){return f.providerId==u})}function zo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ce(o,u,f)}function Sd(o,u){o!=u&&($n(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ce(o,"metadata",_j(u.metadata)):ce(o,"metadata",new Id),H(u.providerData,function(f){Ly(o,f)}),mj(o.b,u.b),ce(o,"refreshToken",o.b.a),Td(o.O,u.O.b))}t=Tr.prototype,t.reload=function(){var o=this;return Jt(this,Dy(this).then(function(){return Fy(o).then(function(){return na(o)}).then(M1)}))};function Fy(o){return o.I().then(function(u){var f=o.isAnonymous;return Tj(o,u).then(function(){return f||zo(o,"isAnonymous",!1),u})})}t.oc=function(o){return this.I(o).then(function(u){return new hj(u)})},t.I=function(o){var u=this;return Jt(this,Dy(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.za&&(Py(u,f.accessToken),u.dispatchEvent(new gu("tokenChanged"))),zo(u,"refreshToken",f.refreshToken),f.accessToken}))};function xi(o,u){u[ei]&&o.za!=u[ei]&&(O1(o.b,u),o.dispatchEvent(new gu("tokenChanged")),Py(o,u[ei]),zo(o,"refreshToken",o.b.a))}function Tj(o,u){return Be(o.a,iU,{idToken:u}).then(j(o.Kc,o))}t.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],D1(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=Ij(o),f=0;f<u.length;f++)Ly(this,u[f]);zo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new gu("userReloaded",{hd:o}))};function Ij(o){return(o=o.providerUserInfo)&&o.length?S(o,function(u){return new wj(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}t.Lc=function(o){return um("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},t.tb=function(o){var u=this,f=null;return Jt(this,o.c(this.a,this.uid).then(function(p){return xi(u,p),f=Ll(u,p,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function Cd(o,u){return Fy(o).then(function(){if(L(My(o),u))return na(o).then(function(){throw new R("provider-already-linked")})})}t.Cc=function(o){return um("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},t.qb=function(o){var u=this,f=null;return Jt(this,Cd(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Ll(u,p,"link"),F1(u,p)}).then(function(){return f}))},t.Dc=function(o,u){var f=this;return Jt(this,Cd(this,"phone").then(function(){return wy(Ry(f),o,u,j(f.qb,f))}))},t.Mc=function(o,u){var f=this;return Jt(this,be().then(function(){return wy(Ry(f),o,u,j(f.tb,f))}),!0)};function Ll(o,u,f){var p=Am(u);return u=XI(u),Ni({user:o,credential:p,additionalUserInfo:u,operationType:f})}function F1(o,u){return xi(o,u),o.reload().then(function(){return o})}t.Bb=function(o){var u=this;return Jt(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return xi(u,f),u.reload()}))},t.ed=function(o){var u=this;return Jt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return xi(u,f),u.reload()}))},t.Cb=function(o){var u=this;return Jt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return xi(u,f),u.reload()}))},t.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Dy(this);var u=this;return Jt(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return xi(u,f),zo(u,"displayName",f.displayName||null),zo(u,"photoURL",f.photoUrl||null),H(u.providerData,function(p){p.providerId==="password"&&(ce(p,"displayName",u.displayName),ce(p,"photoURL",u.photoURL))}),na(u)}).then(M1))},t.cd=function(o){var u=this;return Jt(this,Fy(this).then(function(f){return L(My(u),o)?YF(u.a,f,[o]).then(function(p){var m={};return H(p.providerUserInfo||[],function(_){m[_.providerId]=!0}),H(My(u),function(_){m[_]||L1(u,_)}),m[so.PROVIDER_ID]||ce(u,"phoneNumber",null),na(u)}):na(u).then(function(){throw new R("no-such-provider")})}))},t.delete=function(){var o=this;return Jt(this,this.I().then(function(u){return Be(o.a,JF,{idToken:u})}).then(function(){o.dispatchEvent(new gu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");Ny(o,null),ky(o,null),xy(o,null),o.J=[],o.D=!0,Oy(o),ce(o,"refreshToken",null),o.i&&g1(o.i,o)})},t.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},t.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?j(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?j(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?j(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?j(this.Lb,this):null},t.Ec=function(o){var u=this;return U1(this,"linkViaPopup",o,function(){return Cd(u,o.providerId).then(function(){return na(u)})},!1)},t.Nc=function(o){return U1(this,"reauthViaPopup",o,function(){return be()},!0)};function U1(o,u,f,p,m){if(!Gs())return Et(new R("operation-not-supported-in-this-environment"));if(o.h&&!m)return Et(o.h);var _=bm(f.providerId),b=$s(o.uid+":::"),I=null;(!hl()||im())&&o.s&&f.isOAuthProvider&&(I=kl(o.s,o.l,o.m,u,f,null,b,oe.SDK_VERSION||null,null,null,o.tenantId));var F=SI(I,_&&_.ua,_&&_.ta);return p=p().then(function(){if(V1(o),!m)return o.I().then(function(){})}).then(function(){return m1(o.i,F,u,f,b,!!I,o.tenantId)}).then(function(){return new je(function(W,Ae){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=W,o.C=Ae,o.g=b,o.c=_1(o.i,o,u,F,b)})}).then(function(W){return F&&Hs(F),W?Ni(W):null}).o(function(W){throw F&&Hs(F),W}),Jt(o,p,m)}t.Fc=function(o){var u=this;return j1(this,"linkViaRedirect",o,function(){return Cd(u,o.providerId)},!1)},t.Oc=function(o){return j1(this,"reauthViaRedirect",o,function(){return be()},!0)};function j1(o,u,f,p,m){if(!Gs())return Et(new R("operation-not-supported-in-this-environment"));if(o.h&&!m)return Et(o.h);var _=null,b=$s(o.uid+":::");return p=p().then(function(){if(V1(o),!m)return o.I().then(function(){})}).then(function(){return o.ga=b,na(o)}).then(function(I){return o.ha&&(I=o.ha,I=I.b.set(Uy,o.w(),I.a)),I}).then(function(){return y1(o.i,u,f,b,o.tenantId)}).o(function(I){if(_=I,o.ha)return q1(o.ha);throw _}).then(function(){if(_)throw _}),Jt(o,p,m)}function V1(o){if(!o.i||!o.R)throw o.i&&!o.R?new R("internal-error"):new R("auth-domain-config-required")}t.Kb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(b){return zm(m.a,{requestUri:o,postBody:p,sessionId:u,idToken:b})}).then(function(b){return _=Ll(m,b,"link"),F1(m,b)}).then(function(){return _}),Jt(this,f)},t.Lb=function(o,u,f,p){var m=this;this.c&&(this.c.cancel(),this.c=null);var _=null,b=be().then(function(){return cu(Km(m.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),m.uid)}).then(function(I){return _=Ll(m,I,"reauthenticate"),xi(m,I),m.h=null,m.reload()}).then(function(){return _});return Jt(this,b,!0)},t.ub=function(o){var u=this,f=null;return Jt(this,this.I().then(function(p){return f=p,typeof o>"u"||Mt(o)?{}:Kh(new zh(o))}).then(function(p){return u.a.ub(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},t.Eb=function(o,u){var f=this,p=null;return Jt(this,this.I().then(function(m){return p=m,typeof u>"u"||Mt(u)?{}:Kh(new zh(u))}).then(function(m){return f.a.Eb(p,o,m)}).then(function(m){if(f.email!=m)return f.reload()}).then(function(){}))};function Jt(o,u,f){var p=Sj(o,u,f);return o.J.push(p),p.oa(function(){B(o.J,p)}),p.o(function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=N1(m.w(),Ry(o),j(o.jc,o))),_||m})}t.jc=function(o){var u=null,f=this;return o=cu(be(o),f.uid).then(function(p){return u=Ll(f,p,"reauthenticate"),xi(f,p),f.h=null,f.reload()}).then(function(){return u}),Jt(this,o,!0)};function Sj(o,u,f){return o.h&&!f?(u.cancel(),Et(o.h)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new gu("userInvalidated")),o.h=p),p})}t.toJSON=function(){return this.w()},t.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&or(o,this.metadata.w()),H(this.providerData,function(u){o.providerData.push(Q2(u))}),or(o,this.O.w()),o};function B1(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[ei]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var m=new Tr(u,f,o);return o.providerData&&H(o.providerData,function(_){_&&Ly(m,Ni(_))}),o.redirectEventId&&(m.ga=o.redirectEventId),m}function Cj(o,u,f,p){var m=new Tr(o,u);return f&&(m.ha=f),p&&Dl(m,p),m.reload().then(function(){return m})}function Aj(o,u,f,p){var m=o.b,_={};return _[ei]=m.b&&m.b.toString(),_.refreshToken=m.a,u=new Tr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&Dl(u,p),Sd(u,o),u}function Nj(o){this.a=o,this.b=Pl()}var Uy={name:"redirectUser",F:"session"};function q1(o){return vu(o.b,Uy,o.a)}function kj(o,u){return o.b.get(Uy,o.a).then(function(f){return f&&u&&(f.authDomain=u),B1(f||{})})}function jy(o){this.a=o,this.b=Pl(),this.c=null,this.f=xj(this),this.b.addListener(Ri("local"),this.a,j(this.g,this))}jy.prototype.g=function(){var o=this,u=Ri("local");mu(this,function(){return be().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return Vy(o,"local").then(function(){o.c=u})})})};function Vy(o,u){var f=[],p;for(p in du)du[p]!==u&&f.push(vu(o.b,Ri(du[p]),o.a));return f.push(vu(o.b,By,o.a)),_2(f)}function xj(o){var u=Ri("local"),f=Ri("session"),p=Ri("none");return GU(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(m){return m?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(b){return b?u:o.b.get(By,o.a).then(function(I){return I?Ri(I):u})})})}).then(function(m){return o.c=m,Vy(o,m.F)}).o(function(){o.c||(o.c=u)})}var By={name:"persistence",F:"session"};function Ri(o){return{name:"authUser",F:o}}jy.prototype.xb=function(o){var u=null,f=this;return HU(o),mu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,Vy(f,o)}).then(function(){if(f.c=Ri(o),u)return f.b.set(f.c,u,f.a)}):be()})};function Rj(o){return mu(o,function(){return o.b.set(By,o.c.F,o.a)})}function W1(o,u){return mu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function H1(o){return mu(o,function(){return vu(o.b,o.c,o.a)})}function G1(o,u,f){return mu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),B1(p||{})})})}function mu(o,u){return o.f=o.f.then(u,u),o.f}function ti(o){if(this.l=!1,ce(this,"settings",new S1),ce(this,"app",o),ct(this).options&&ct(this).options.apiKey)o=oe.SDK_VERSION?ou(oe.SDK_VERSION):null,this.a=new Zr(ct(this).options&&ct(this).options.apiKey,wt(Ye),o);else throw new R("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=oe.INTERNAL.createSubscribe(j(this.zc,this)),this.X=void 0,this.bc=oe.INTERNAL.createSubscribe(j(this.Ac,this)),yu(this,null),this.i=new jy(ct(this).options.apiKey+":"+ct(this).name),this.D=new Nj(ct(this).options.apiKey+":"+ct(this).name),this.$=Pt(this,Fj(this)),this.h=Pt(this,Uj(this)),this.ba=!1,this.ja=j(this.Zc,this),this.Ba=j(this.da,this),this.ya=j(this.mc,this),this.za=j(this.wc,this),this.Aa=j(this.xc,this),this.b=null,Dj(this),this.INTERNAL={},this.INTERNAL.delete=j(this.delete,this),this.INTERNAL.logFramework=j(this.Gc,this),this.u=0,Gn.call(this),Pj(this),this.J=[],this.P=null}pe(ti,Gn);function $1(o){ar.call(this,"languageCodeChanged"),this.h=o}pe($1,ar);function Y1(o){ar.call(this,"emulatorConfigChanged"),this.c=o}pe(Y1,ar);function z1(o){ar.call(this,"frameworkChanged"),this.f=o}pe(z1,ar),t=ti.prototype,t.xb=function(o){return o=this.i.xb(o),Pt(this,o)},t.wa=function(o){this.aa===o||this.l||(this.aa=o,CS(this.a,this.aa),this.dispatchEvent(new $1(this.la())))},t.la=function(){return this.aa},t.fd=function(){var o=l.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},t.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,Oj(u),this.P={url:o,ec:u},this.settings.ib=!0,fu(this.a,this.P),this.dispatchEvent(new Y1(this.P))}};function Oj(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&Gh().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}t.Gc=function(o){this.J.push(o),AS(this.a,oe.SDK_VERSION?ou(oe.SDK_VERSION,this.J):null),this.dispatchEvent(new z1(this.J))},t.Ga=function(){return z(this.J)},t.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},t.T=function(){return this.S};function Pj(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=ur(this.P.url);u=Ni({protocol:u.c,host:u.a,port:u.g,options:Ni({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}t.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:Re(this)&&Re(this).w()}};function qy(o){return o.Oa||Et(new R("auth-domain-config-required"))}function Dj(o){var u=ct(o).options.authDomain,f=ct(o).options.apiKey;u&&Gs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=b1(u,f,ct(o).name,o.P),gy(o.b,o),Re(o)&&Ml(Re(o)),o.m){Ml(o.m);var p=o.m;p.wa(o.la()),Ny(p,o),p=o.m,Dl(p,o.J),xy(p,o),p=o.m,fu(p.a,o.P),ky(p,o),o.m=null}return o.b}}))}t.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},t.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?j(this.ic,this):null},t.ic=function(o,u,f,p){var m=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),m.$.then(function(){return ra(m,Ym(m.a,_))})},t.Xc=function(o){if(!Gs())return Et(new R("operation-not-supported-in-this-environment"));var u=this,f=bm(o.providerId),p=$s(),m=null;(!hl()||im())&&ct(this).options.authDomain&&o.isOAuthProvider&&(m=kl(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",o,null,p,oe.SDK_VERSION||null,null,null,this.T(),this.P));var _=SI(m,f&&f.ua,f&&f.ta);return f=qy(this).then(function(b){return m1(b,_,"signInViaPopup",o,p,!!m,u.T())}).then(function(){return new je(function(b,I){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=b,u.C=I,u.g=p,u.c=_1(u.b,u,"signInViaPopup",_,p)})}).then(function(b){return _&&Hs(_),b?Ni(b):null}).o(function(b){throw _&&Hs(_),b}),Pt(this,f)},t.Yc=function(o){if(!Gs())return Et(new R("operation-not-supported-in-this-environment"));var u=this,f=qy(this).then(function(){return Rj(u.i)}).then(function(){return y1(u.b,"signInViaRedirect",o,void 0,u.T())});return Pt(this,f)};function K1(o){if(!Gs())return Et(new R("operation-not-supported-in-this-environment"));var u=qy(o).then(function(){return o.b.qa()}).then(function(f){return f?Ni(f):null});return Pt(o,u)}t.qa=function(){var o=this;return K1(this).then(function(u){return o.b&&Ed(o.b.b),u}).o(function(u){throw o.b&&Ed(o.b.b),u})},t.dd=function(o){if(!o)return Et(new R("null-user"));if(this.S!=o.tenantId)return Et(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=ct(this).options.apiKey,f.authDomain=ct(this).options.authDomain,f.appName=ct(this).name;var p=Aj(o,f,u.D,u.Ga());return Pt(this,this.h.then(function(){if(ct(u).options.apiKey!=o.l)return p.reload()}).then(function(){return Re(u)&&o.uid==Re(u).uid?(Sd(Re(u),o),u.da(o)):(yu(u,p),Ml(p),u.da(p))}).then(function(){Fl(u)}))};function Mj(o,u){var f={};return f.apiKey=ct(o).options.apiKey,f.authDomain=ct(o).options.authDomain,f.appName=ct(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return Cj(f,u,o.D,o.Ga())}).then(function(p){return Re(o)&&p.uid==Re(o).uid?(Sd(Re(o),p),o.da(p)):(yu(o,p),Ml(p),o.da(p))}).then(function(){Fl(o)})}function yu(o,u){Re(o)&&(Ej(Re(o),o.Ba),br(Re(o),"tokenChanged",o.ya),br(Re(o),"userDeleted",o.za),br(Re(o),"userInvalidated",o.Aa),Oy(Re(o))),u&&(u.S.push(o.Ba),Lr(u,"tokenChanged",o.ya),Lr(u,"userDeleted",o.za),Lr(u,"userInvalidated",o.Aa),0<o.u&&P1(u)),ce(o,"currentUser",u),u&&(u.wa(o.la()),Ny(u,o),Dl(u,o.J),xy(u,o),fu(u.a,o.P),ky(u,o))}t.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&Ed(o.b.b),Re(o)?(yu(o,null),H1(o.i).then(function(){Fl(o)})):be()});return Pt(this,u)};function Lj(o){var u=kj(o.D,ct(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),q1(o.D)});return Pt(o,u)}function Fj(o){var u=ct(o).options.authDomain,f=Lj(o).then(function(){return G1(o.i,u,o.P)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return W1(o.i,p).then(function(){return p})}).o(function(m){return m.code=="auth/network-request-failed"?p:H1(o.i)})):null}).then(function(p){yu(o,p||null)});return Pt(o,f)}function Uj(o){return o.$.then(function(){return K1(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ri("local"),u.a,o.ja)}})}t.Zc=function(){var o=this;return G1(this.i,ct(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Re(o)&&u){f=Re(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return Sd(Re(o),u),Re(o).I();(Re(o)||u)&&(yu(o,u),u&&(Ml(u),u.ha=o.D),o.b&&gy(o.b,o),Fl(o))}})},t.da=function(o){return W1(this.i,o)},t.mc=function(){Fl(this),this.da(Re(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()};function ra(o,u){var f=null,p=null;return Pt(o,u.then(function(m){return f=Am(m),p=XI(m),Mj(o,m)},function(m){var _=null;throw m&&m.code==="auth/multi-factor-auth-required"&&(_=N1(m.w(),o,j(o.kc,o))),_||m}).then(function(){return Ni({user:Re(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}t.kc=function(o){var u=this;return this.h.then(function(){return ra(u,be(o))})},t.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Re(u))})},t.Ac=function(o){var u=this;jj(this,function(){o.next(Re(u))})},t.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Re(p)):typeof o.next=="function"&&o.next(Re(p))}),this.hb(o,u,f)},t.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(Re(p)):typeof o.next=="function"&&o.next(Re(p))}),this.bc(o,u,f)},t.nc=function(o){var u=this,f=this.h.then(function(){return Re(u)?Re(u).I(o).then(function(p){return{accessToken:p}}):null});return Pt(this,f)},t.Tc=function(o){var u=this;return this.h.then(function(){return ra(u,Be(u.a,_U,{token:o}))}).then(function(f){var p=f.user;return zo(p,"isAnonymous",!1),u.da(p),f})},t.Uc=function(o,u){var f=this;return this.h.then(function(){return ra(f,Be(f.a,LS,{email:o,password:u}))})},t.dc=function(o,u){var f=this;return this.h.then(function(){return ra(f,Be(f.a,QF,{email:o,password:u}))})},t.$a=function(o){var u=this;return this.h.then(function(){return ra(u,o.ka(u.a))})},t.Sc=function(o){return um("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},t.zb=function(){var o=this;return this.h.then(function(){var u=Re(o);if(u&&u.isAnonymous){var f=Ni({providerId:null,isNewUser:!1});return Ni({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return ra(o,o.a.zb()).then(function(p){var m=p.user;return zo(m,"isAnonymous",!0),o.da(m),p})})};function ct(o){return o.app}function Re(o){return o.currentUser}t.getUid=function(){return Re(this)&&Re(this).uid||null};function Ad(o){return Re(o)&&Re(o)._lat||null}function Fl(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Ad(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](Ad(o))}}t.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Re(this)&&P1(Re(this))},t.Pc=function(o){var u=this;H(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Re(this)&&Oy(Re(this)),this.removeAuthTokenListener(o)},t.addAuthTokenListener=function(o){var u=this;this.s.push(o),Pt(this,this.h.then(function(){u.l||L(u.s,o)&&o(Ad(u))}))},t.removeAuthTokenListener=function(o){q(this.s,function(u){return u==o})};function jj(o,u){o.O.push(u),Pt(o,o.h.then(function(){!o.l&&L(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(Ad(o)))}))}t.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Ri("local"),o.a,this.ja)),this.b&&(g1(this.b,this),Ed(this.b.b)),Promise.resolve()};function Pt(o,u){return o.R.push(u),u.oa(function(){B(o.R,u)}),u}t.hc=function(o){return Pt(this,BF(this.a,o))},t.Bc=function(o){return!!Cm(o)},t.wb=function(o,u){var f=this;return Pt(this,be().then(function(){var p=new zh(u);if(!p.c)throw new R("argument-error",_m+" must be true when sending sign in link to email");return Kh(p)}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},t.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},t.nb=function(o,u){return Pt(this,this.a.nb(o,u).then(function(){}))},t.Ra=function(o){return Pt(this,this.a.Ra(o).then(function(u){return new J2(u)}))},t.jb=function(o){return Pt(this,this.a.jb(o).then(function(){}))},t.vb=function(o,u){var f=this;return Pt(this,be().then(function(){return typeof u>"u"||Mt(u)?{}:Kh(new zh(u))}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},t.Wc=function(o,u){return Pt(this,wy(this,o,u,j(this.$a,this)))},t.Vc=function(o,u){var f=this;return Pt(this,be().then(function(){var p=u||fl(),m=cS(o,p);if(p=Cm(p),!p)throw new R("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.$a(m)}))};function Ul(){}Ul.prototype.render=function(){},Ul.prototype.reset=function(){},Ul.prototype.getResponse=function(){},Ul.prototype.execute=function(){};function _u(){this.a={},this.b=1e12}var Wy=null;_u.prototype.render=function(o,u){return this.a[this.b.toString()]=new Nd(o,u),this.b++},_u.prototype.reset=function(o){var u=Hy(this,o);o=Q1(o),u&&o&&(u.delete(),delete this.a[o])},_u.prototype.getResponse=function(o){return(o=Hy(this,o))?o.getResponse():null},_u.prototype.execute=function(o){(o=Hy(this,o))&&o.execute()};function Hy(o,u){return(u=Q1(u))&&o.a[u]||null}function Q1(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Nd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=il(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Lr(this.f,"click",this.i)}Nd.prototype.getResponse=function(){return Gy(this),this.b},Nd.prototype.execute=function(){Gy(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=$2();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Nd.prototype.delete=function(){Gy(this),this.g=!0,clearTimeout(this.a),this.a=null,br(this.f,"click",this.i)};function Gy(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function $y(){}ce($y,"FACTOR_ID","phone");function Yy(){}Yy.prototype.g=function(){return Wy||(Wy=new _u),be(Wy)},Yy.prototype.c=function(){};var zy=null;function Ky(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Vj=new Si(Oh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Bj=new Go(3e4,6e4);Ky.prototype.g=function(o){var u=this;return new je(function(f,p){var m=setTimeout(function(){p(new R("network-request-failed"))},Bj.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var b=l.grecaptcha.render;l.grecaptcha.render=function(I,F){return I=b(I,F),u.b++,I},clearTimeout(m),f(l.grecaptcha)}else clearTimeout(m),p(new R("internal-error"));delete l[u.a]};var _=Og(Vj,{onload:u.a,hl:o||""});be(Vm(_)).o(function(){clearTimeout(m),p(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(m),f(l.grecaptcha)})},Ky.prototype.c=function(){this.b--};var Qy=null;function Xy(o,u,f,p,m,_,b){if(ce(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,b?(zy||(zy=new Yy),b=zy):(Qy||(Qy=new Ky),b=Qy),this.m=b,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[Z1])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[qj]==="invisible",!l.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!il(u)||!this.i&&il(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Zr(o,_||null,m||null),this.u=p||function(){return null};var I=this;this.l=[];var F=this.a[X1];this.a[X1]=function(Ae){if(eC(I,Ae),typeof F=="function")F(Ae);else if(typeof F=="string"){var it=Tt(F,l);typeof it=="function"&&it(Ae)}};var W=this.a[J1];this.a[J1]=function(){if(eC(I,null),typeof W=="function")W();else if(typeof W=="string"){var Ae=Tt(W,l);typeof Ae=="function"&&Ae()}}}var X1="callback",J1="expired-callback",Z1="sitekey",qj="size";function eC(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function Wj(o,u){q(o.l,function(f){return f==u})}function Jy(o,u){return o.h.push(u),u.oa(function(){B(o.h,u)}),u}t=Xy.prototype,t.Ia=function(){var o=this;return this.f?this.f:this.f=Jy(this,be().then(function(){if($h()&&!Xr())return Gh();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Be(o.s,lU,{})}).then(function(u){o.a[Z1]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},t.render=function(){kd(this);var o=this;return Jy(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=il(u);u=v2("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},t.verify=function(){kd(this);var o=this;return Jy(this,this.render().then(function(u){return new je(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var m=function(_){_&&(Wj(o,m),f(_))};o.l.push(m),o.i&&o.g.execute(o.c)}})}))},t.reset=function(){kd(this),this.c!==null&&this.g.reset(this.c)};function kd(o){if(o.D)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){kd(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=il(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function Zy(o,u,f){var p=!1;try{this.b=f||oe.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var m=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=oe.SDK_VERSION?ou(oe.SDK_VERSION,_):null,Xy.call(this,f,o,u,function(){try{var b=m.b.auth().la()}catch{b=null}return b},_,wt(Ye),p)}pe(Zy,Xy);function tC(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var m=0,_=!1,b=0;b<u.length;b++)if(u[b].optional)_=!0;else{if(_)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");m++}if(_=u.length,f.length<m||_<f.length)p="Expected "+(m==_?m==1?"1 argument":m+" arguments":m+"-"+_+" arguments")+" but got "+f.length+".";else{for(m=0;m<f.length;m++)if(_=u[m].optional&&f[m]===void 0,!u[m].M(f[m])&&!_){if(u=u[m],0>m||m>=nC.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=nC[m],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new R("argument-error",o+" failed: "+p)}var nC="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ue(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function e_(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function Gt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:T}}function wu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Oi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function Hj(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function Gj(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof ti)}}}function $j(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof oe.app.App)}}}function Ko(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function rC(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function bu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function t_(o,u){return T(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function iC(o){return T(o)&&typeof o.uid=="string"}function xd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function Ft(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(m){return o.M(m)||u.M(m)}}}function kt(o,u){for(var f in u){var p=u[f].name;o[p]=sC(p,o[f],u[f].j)}}function oC(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:Se(function(m){return this[m]},f),set:Se(function(m,_,b,I){tC(m,[b],[I],!0),this[_]=I},p,f,u[f].kb),enumerable:!0})}}function Ut(o,u,f,p){o[u]=sC(u,f,p)}function sC(o,u,f){function p(){var b=Array.prototype.slice.call(arguments);return tC(m,f,b),u.apply(this,b)}if(!f)return u;var m=Yj(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function Yj(o){return o=o.split("."),o[o.length-1]}kt(ti.prototype,{jb:{name:"applyActionCode",j:[ue("code")]},Ra:{name:"checkActionCode",j:[ue("code")]},nb:{name:"confirmPasswordReset",j:[ue("code"),ue("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ue("email"),ue("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ue("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ue("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ft(Gt(),wu(),"nextOrObserver"),wu("opt_error",!0),wu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ft(Gt(),wu(),"nextOrObserver"),wu("opt_error",!0),wu("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[ue("email"),Ft(Gt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[ue("email"),Gt("actionCodeSettings")]},xb:{name:"setPersistence",j:[ue("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ko()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Ko()]},Tc:{name:"signInWithCustomToken",j:[ue("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ue("email"),ue("password")]},Vc:{name:"signInWithEmailLink",j:[ue("email"),ue("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ue("phoneNumber"),xd()]},Xc:{name:"signInWithPopup",j:[bu()]},Yc:{name:"signInWithRedirect",j:[bu()]},dd:{name:"updateCurrentUser",j:[Ft(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Tr)}}}(),Oi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ue(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ue("url"),Gt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ue("code")]}}),oC(ti.prototype,{lc:{name:"languageCode",kb:Ft(ue(),Oi(),"languageCode")},ti:{name:"tenantId",kb:Ft(ue(),Oi(),"tenantId")}}),ti.Persistence=du,ti.Persistence.LOCAL="local",ti.Persistence.SESSION="session",ti.Persistence.NONE="none",kt(Tr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[e_("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[e_("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ko()]},qb:{name:"linkWithCredential",j:[Ko()]},Dc:{name:"linkWithPhoneNumber",j:[ue("phoneNumber"),xd()]},Ec:{name:"linkWithPopup",j:[bu()]},Fc:{name:"linkWithRedirect",j:[bu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ko()]},tb:{name:"reauthenticateWithCredential",j:[Ko()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ue("phoneNumber"),xd()]},Nc:{name:"reauthenticateWithPopup",j:[bu()]},Oc:{name:"reauthenticateWithRedirect",j:[bu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Ft(Gt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ue(null,!0)]},cd:{name:"unlink",j:[ue("provider")]},Bb:{name:"updateEmail",j:[ue("email")]},Cb:{name:"updatePassword",j:[ue("password")]},ed:{name:"updatePhoneNumber",j:[Ko("phone")]},Db:{name:"updateProfile",j:[Gt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[ue("email"),Ft(Gt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]}}),kt(_u.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kt(Ul.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kt(je.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),oC(S1.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:e_("appVerificationDisabledForTesting")}}),kt(_y.prototype,{confirm:{name:"confirm",j:[ue("verificationCode")]}}),Ut(uu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[gF,mF,yF,vF],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[Ft(ue(),Gt(),"json")]),Ut(Ur,"credential",function(o,u){return new $o(o,u)},[ue("email"),ue("password")]),kt($o.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),kt(Ks.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Ut(Ks,"credential",oS,[Ft(ue(),Gt(),"token")]),Ut(Ur,"credentialWithLink",cS,[ue("email"),ue("emailLink")]),kt(Qs.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Ut(Qs,"credential",sS,[Ft(ue(),Gt(),"token")]),kt(Xs.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Ut(Xs,"credential",aS,[Ft(ue(),Ft(Gt(),Oi()),"idToken"),Ft(ue(),Oi(),"accessToken",!0)]),kt(lu.prototype,{Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),Ut(lu,"credential",uS,[Ft(ue(),Gt(),"token"),ue("secret",!0)]),kt(Er.prototype,{Ca:{name:"addScope",j:[ue("scope")]},credential:{name:"credential",j:[Ft(ue(),Ft(Gt(),Oi()),"optionsOrIdToken"),Ft(ue(),Oi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Gt("customOAuthParameters")]}}),kt(oo.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),kt(Ys.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),Ut(so,"credential",lS,[ue("verificationId"),ue("verificationCode")]),kt(so.prototype,{fb:{name:"verifyPhoneNumber",j:[Ft(ue(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?t_(f.session,yl)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?t_(f.session,ed)&&iC(f.multiFactorHint):f.session&&f.multiFactorUid?t_(f.session,ed)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),xd()]}}),kt(Yo.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),kt(R.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),kt(wl.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),kt(xm.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),kt(Ey.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),kt(by.prototype,{Rc:{name:"resolveSignIn",j:[rC()]}}),kt(Iy.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[rC(),ue("displayName",!0)]},bd:{name:"unenroll",j:[Ft({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:iC},ue(),"multiFactorInfoIdentifier")]}}),kt(Zy.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ut(ym,"parseLink",BI,[ue("link")]),Ut($y,"assertion",function(o){return new x1(o)},[Ko("phone")]),function(){if(typeof oe<"u"&&oe.INTERNAL&&oe.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Yh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:mm,VERIFY_AND_CHANGE_EMAIL:gl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ti,AuthCredential:uu,Error:R};Ut(o,"EmailAuthProvider",Ur,[]),Ut(o,"FacebookAuthProvider",Ks,[]),Ut(o,"GithubAuthProvider",Qs,[]),Ut(o,"GoogleAuthProvider",Xs,[]),Ut(o,"TwitterAuthProvider",lu,[]),Ut(o,"OAuthProvider",Er,[ue("providerId")]),Ut(o,"SAMLAuthProvider",iS,[ue("providerId")]),Ut(o,"PhoneAuthProvider",so,[Gj()]),Ut(o,"RecaptchaVerifier",Zy,[Ft(ue(),Hj(),"recaptchaContainer"),Gt("recaptchaParameters",!0),$j()]),Ut(o,"ActionCodeURL",ym,[]),Ut(o,"PhoneMultiFactorGenerator",$y,[]),oe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new ti(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),oe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:j(u.getUid,u),getToken:j(u.nc,u),addAuthTokenListener:j(u.cc,u),removeAuthTokenListener:j(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),oe.registerVersion("@firebase/auth","0.16.3"),oe.INTERNAL.extendNamespace({User:Tr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sY=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tn(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xf(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aY=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return mr(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new sY(e)}}catch{}return new aY},va=uO("localStorage"),Dw=uO("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xu=new Bc("@firebase/database"),cO=function(){var t=1;return function(){return t++}}(),lO=function(t){var e=N$(t),n=new I$;n.update(e);var r=n.digest();return gb.encodeByteArray(r)},ah=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=ah.apply(null,i):typeof i=="object"?n+=tn(i):n+=i,n+=" "}return n},Ta=null,dA=!0,fO=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Xu.logLevel=Le.VERBOSE,Ta=Xu.log.bind(Xu),e&&Dw.set("logging_enabled",!0)):typeof t=="function"?Ta=t:(Ta=null,Dw.remove("logging_enabled"))},Sn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(dA===!0&&(dA=!1,Ta===null&&Dw.get("logging_enabled")===!0&&fO(!0)),Ta){var n=ah.apply(null,t);Ta(n)}},uh=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Sn.apply(void 0,Uo([t],e))}},Mw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+ah.apply(void 0,Uo(t));Xu.error(n)},Vi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+ah.apply(void 0,Uo(t));throw Xu.error(n),new Error(n)},Ln=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+ah.apply(void 0,Uo(t));Xu.warn(n)},uY=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ln("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Yv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},cY=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},xo="[MIN_NAME]",Ki="[MAX_NAME]",Wa=function(t,e){if(t===e)return 0;if(t===xo||e===Ki)return-1;if(e===xo||t===Ki)return 1;var n=Lp(t),r=Lp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},lY=function(t,e){return t===e?0:t<e?-1:1},Wl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tn(e))},Tb=function(t){if(typeof t!="object"||t===null)return tn(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=tn(e[i]),r+=":",r+=Tb(t[e[i]]);return r+="}",r},hO=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function nn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var dO=function(t){K(!Yv(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,s,a,c,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),v=v+g}return v.toLowerCase()},fY=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},dY=function(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},pY=new RegExp("^-?(0*)\\d{1,10}$"),pO=-2147483648,Ib=2147483647,Lp=function(t){if(pY.test(t)){var e=Number(t);if(e>=pO&&e<=Ib)return e}return null},ju=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Ln("Exception was thrown by user callback.",n),e},Math.floor(0))}},vY=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lf=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t.prototype.toUrlEncodedString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(this.pieces_[n])));return e||"/"},t.prototype.slice=function(e){return e===void 0&&(e=0),this.pieces_.slice(this.pieceNum_+e)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(r===null)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(e,n){for(var r=e.slice(),i=n.slice(),s=0;s<r.length&&s<i.length;s++){var a=Wa(r[s],i[s]);if(a!==0)return a}return r.length===i.length?0:r.length<i.length?-1:1},t.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var n=this.pieceNum_,r=e.pieceNum_;n<=this.pieces_.length;n++,r++)if(this.pieces_[n]!==e.pieces_[r])return!1;return!0},t.prototype.contains=function(e){var n=this.pieceNum_,r=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0},t}(),gY=function(){function t(e,n){this.errorPrefix_=n,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=lp(this.parts_[r]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=lp(e),this.checkValid_()},t.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=lp(e),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sb="5",vO="v",gO="s",mO="r",yO="f",_O=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wO="ls",mY="p",bO="websocket",EO="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cb=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=va.get("host:"+e)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},t.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},t.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&va.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");var r;if(e===bO)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(e===EO)r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);this.needsQueryParam()&&(n.ns=this.namespace);var i=[];return nn(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")},t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _Y(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Bt(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):Ln("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var Lw=function(t,e){var n=wY(t),r=n.namespace;n.domain==="firebase.com"&&Vi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Vi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||uY();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Cb(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new ie(n.pathString)}},wY=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof t=="string"){var h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));var d=t.indexOf("/");d===-1&&(d=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(d,v)),d<v&&(i=yY(t.substring(d,v)));var g=_Y(t.substring(Math.min(t.length,v)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;var y=e.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),n=e.substring(w+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bY=/[\[\].#$\/\u0000-\u001F\u007F]/,EY=/[\[\].#$\u0000-\u001F\u007F]/,m_=10*1024*1024,zv=function(t){return typeof t=="string"&&t.length!==0&&!bY.test(t)},TO=function(t){return typeof t=="string"&&t.length!==0&&!EY.test(t)},TY=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TO(t)},Rf=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Yv(t)||t&&typeof t=="object"&&mr(t,".sv")},Ui=function(t,e,n,r,i){i&&n===void 0||Of($r(t,e,i),n,r)},Of=function(t,e,n){var r=n instanceof ie?new gY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+r.toErrorString());if(typeof e=="function")throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(Yv(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if(typeof e=="string"&&e.length>m_/3&&lp(e)>m_)throw new Error(t+"contains a string greater than "+m_+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,s=!1;if(nn(e,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!zv(a)))throw new Error(t+" contains an invalid key ("+a+") "+r.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r.push(a),Of(t,c,r),r.pop()}),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},IY=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!zv(i[s]))throw new Error(t+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(ie.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},IO=function(t,e,n,r,i){if(!(i&&n===void 0)){var s=$r(t,e,i);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];nn(n,function(c,l){var h=new ie(c);if(Of(s,l,r.child(h)),h.getBack()===".priority"&&!Rf(l))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),IY(s,a)}},Fw=function(t,e,n,r){if(!(r&&n===void 0)){if(Yv(n))throw new Error($r(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rf(n))throw new Error($r(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},y_=function(t,e,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error($r(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Hl=function(t,e,n,r){if(!(r&&n===void 0)&&!zv(n))throw new Error($r(t,e,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Pf=function(t,e,n,r){if(!(r&&n===void 0)&&!TO(n))throw new Error($r(t,e,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},SY=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pf(t,e,n,r)},Vr=function(t,e){if(e.getFront()===".info")throw new Error(t+" failed = Can't modify data under /.info/")},SO=function(t,e,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!zv(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!TY(r))throw new Error($r(t,e,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},CY=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error($r(t,e,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AY=function(){function t(e,n){this.repo_=e,this.path_=n}return t.prototype.cancel=function(e){Ee("OnDisconnect.cancel",0,1,arguments.length),pn("OnDisconnect.cancel",1,e,!0);var n=new hr;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(e)),n.promise},t.prototype.remove=function(e){Ee("OnDisconnect.remove",0,1,arguments.length),Vr("OnDisconnect.remove",this.path_),pn("OnDisconnect.remove",1,e,!0);var n=new hr;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(e)),n.promise},t.prototype.set=function(e,n){Ee("OnDisconnect.set",1,2,arguments.length),Vr("OnDisconnect.set",this.path_),Ui("OnDisconnect.set",1,e,this.path_,!1),pn("OnDisconnect.set",2,n,!0);var r=new hr;return this.repo_.onDisconnectSet(this.path_,e,r.wrapCallback(n)),r.promise},t.prototype.setWithPriority=function(e,n,r){Ee("OnDisconnect.setWithPriority",2,3,arguments.length),Vr("OnDisconnect.setWithPriority",this.path_),Ui("OnDisconnect.setWithPriority",1,e,this.path_,!1),Fw("OnDisconnect.setWithPriority",2,n,!1),pn("OnDisconnect.setWithPriority",3,r,!0);var i=new hr;return this.repo_.onDisconnectSetWithPriority(this.path_,e,n,i.wrapCallback(r)),i.promise},t.prototype.update=function(e,n){if(Ee("OnDisconnect.update",1,2,arguments.length),Vr("OnDisconnect.update",this.path_),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Ln("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}IO("OnDisconnect.update",1,e,this.path_,!1),pn("OnDisconnect.update",2,n,!0);var s=new hr;return this.repo_.onDisconnectUpdate(this.path_,e,s.wrapCallback(n)),s.promise},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NY=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return Ee("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Uw="-",CO="z",AO=786,kY=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=hc.charAt(n%64),n=Math.floor(n/64);K(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=hc.charAt(e[i]);return K(a.length===20,"nextPushId: Length should be 20."),a}}(),pA=function(t){if(t===""+Ib)return Uw;var e=Lp(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<AO)return n.push(Uw),n.join("");for(var i=n.length-1;i>=0&&n[i]===CO;)i--;if(i===-1)return Ki;var s=n[i],a=hc.charAt(hc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},vA=function(t){if(t===""+pO)return xo;var e=Lp(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===Uw?n.length===1?""+Ib:(delete n[n.length-1],n.join("")):(n[n.length-1]=hc.charAt(hc.indexOf(n[n.length-1])-1),n.join("")+CO.repeat(AO-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kv=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new We(xo,e),i=new We(xo,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return We.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd,NO=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return jd},set:function(n){jd=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Wa(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw jc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return We.MIN},e.prototype.maxPost=function(){return new We(Ki,jd)},e.prototype.makePost=function(n,r){return K(typeof n=="string","KeyIndex indexValue must always be a string."),new We(n,jd)},e.prototype.toString=function(){return".key"},e}(Kv),Wi=new NO;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jw;function xY(t){jw=t}var kO=function(t){return typeof t=="number"?"number:"+dO(t):"string:"+t},xO=function(t){if(t.isLeafNode()){var e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mr(e,".sv"),"Priority must be a string or number.")}else K(t===jw||t.isEmpty(),"priority of unexpected type.");K(t===jw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gA,dc=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),xO(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return gA},set:function(e){gA=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:e.getFront()===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||e.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+kO(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=dO(this.value_):e+=this.value_,this.lazyHash_=lO(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return K(i>=0,"Unknown leaf type: "+n),K(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RO,OO;function RY(t){RO=t}function OY(t){OO=t}var PY=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Wa(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return We.MIN},e.prototype.maxPost=function(){return new We(Ki,new dc("[PRIORITY-POST]",OO))},e.prototype.makePost=function(n,r){var i=RO(n);return new We(r,new dc("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(Kv),lt=new PY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vd=function(){function t(e,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),oi=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??_o.EMPTY_NODE,this.right=s??_o.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return _o.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return _o.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),DY=function(){function t(){}return t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.insert=function(e,n,r){return new oi(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),_o=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,oi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,oi.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new Vd(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new Vd(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new Vd(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new Vd(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new DY,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MY=Math.log(2),LY=function(){function t(e){var n=function(s){return parseInt(Math.log(s)/MY,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),Fp=function(t,e,n,r){t.sort(e);var i=function(l,h){var d=h-l,v,g;if(d===0)return null;if(d===1)return v=t[l],g=n?n(v):v,new oi(g,v.node,oi.BLACK,null,null);var y=parseInt(d/2,10)+l,w=i(l,y),E=i(y+1,h);return v=t[y],g=n?n(v):v,new oi(g,v.node,oi.BLACK,w,E)},s=function(l){for(var h=null,d=null,v=t.length,g=function(N,P){var M=v-N,U=v;v-=N;var X=i(M+1,U),j=t[M],Se=n?n(j):j;y(new oi(Se,j.node,P,null,X))},y=function(N){h?(h.left=N,h=N):(d=N,h=N)},w=0;w<l.count;++w){var E=l.nextBitIsOne(),T=Math.pow(2,l.count-(w+1));E?g(T,oi.BLACK):(g(T,oi.BLACK),g(T,oi.RED))}return d},a=new LY(t.length),c=s(a);return new _o(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var __,Cu={},Up=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return K(Cu&&lt,"ChildrenNode.ts has not been loaded"),__=__||new t({".priority":Cu},{".priority":lt}),__},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=ci(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof _o?n:null},t.prototype.hasIndex=function(e){return mr(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){K(e!==Wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(We.Wrap),a=s.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=Fp(r,e.getCompare()):c=Cu;var l=e.toString(),h=pt({},this.indexSet_);h[l]=e;var d=pt({},this.indexes_);return d[l]=c,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=Dp(this.indexes_,function(s,a){var c=ci(r.indexSet_,a);if(K(c,"Missing index implementation for "+a),s===Cu)if(c.isDefinedOn(e.node)){for(var l=[],h=n.getIterator(We.Wrap),d=h.getNext();d;)d.name!==e.name&&l.push(d),d=h.getNext();return l.push(e),Fp(l,c.getCompare())}else return Cu;else{var v=n.get(e.name),g=s;return v&&(g=g.remove(new We(e.name,v))),g.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Dp(this.indexes_,function(i){if(i===Cu)return i;var s=n.get(e.name);return s?i.remove(new We(e.name,s)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(t,e){return Wa(t.name,e.name)}function Ab(t,e){return Wa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gl,ke=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&xO(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Gl||(Gl=new t(new _o(Ab),null,Up.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Gl},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Gl:n},t.prototype.getChild=function(e){var n=e.getFront();return n===null?this:this.getImmediateChild(n).getChild(e.popFront())},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new We(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Gl:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(e,n){var r=e.getFront();if(r===null)return n;K(e.getFront()!==".priority"||e.getLength()===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(e.popFront(),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(lt,function(l,h){n[l]=h.val(e),r++,s&&t.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!e&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+kO(this.getPriority().val())+":"),this.forEachChild(lt,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":lO(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new We(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new We(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new We(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,We.Wrap),s=i.peek();s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,We.Wrap),s=i.peek();s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ch?-1:0},t.prototype.withIndex=function(e){if(e===Wi||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===Wi||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(lt),i=n.getIterator(lt),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===Wi?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),UY=function(t){ee(e,t);function e(){return t.call(this,new _o(Ab),ke.EMPTY_NODE,Up.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return ke.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ke),ch=new UY;Object.defineProperties(We,{MIN:{value:new We(xo,ke.EMPTY_NODE)},MAX:{value:new We(Ki,ch)}});NO.__EMPTY_NODE=ke.EMPTY_NODE;dc.__childrenNodeConstructor=ke;xY(ch);OY(ch);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jY=!0;function xt(t,e){if(e===void 0&&(e=null),t===null)return ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new dc(n,xt(e))}if(!(t instanceof Array)&&jY){var r=[],i=!1,s=t;if(nn(s,function(h,d){if(h.substring(0,1)!=="."){var v=xt(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new We(h,v)))}}),r.length===0)return ke.EMPTY_NODE;var a=Fp(r,FY,function(h){return h.name},Ab);if(i){var c=Fp(r,lt.getCompare());return new ke(a,xt(e),new Up({".priority":c},{".priority":lt}))}else return new ke(a,xt(e),Up.Default)}else{var l=ke.EMPTY_NODE;return nn(t,function(h,d){if(mr(t,h)&&h.substring(0,1)!=="."){var v=xt(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(xt(e))}}RY(xt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VY=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Wa(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return We.MIN},e.prototype.maxPost=function(){return We.MAX},e.prototype.makePost=function(n,r){var i=xt(n);return new We(r,i)},e.prototype.toString=function(){return".value"},e}(Kv),Vw=new VY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bw=function(t){ee(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,K(!n.isEmpty()&&n.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Wa(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=xt(n),s=ke.EMPTY_NODE.updateChild(this.indexPath_,i);return new We(r,s)},e.prototype.maxPost=function(){var n=ke.EMPTY_NODE.updateChild(this.indexPath_,ch);return new We(Ki,n)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Kv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var as=function(){function t(e,n,r){this.node_=e,this.ref_=n,this.index_=r}return t.prototype.val=function(){return Ee("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Ee("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Ee("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Ee("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Ee("DataSnapshot.child",0,1,arguments.length),e=String(e),Pf("DataSnapshot.child",1,e,!1);var n=new ie(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,lt)},t.prototype.hasChild=function(e){Ee("DataSnapshot.hasChild",1,1,arguments.length),Pf("DataSnapshot.hasChild",1,e,!1);var n=new ie(e);return!this.node_.getChild(n).isEmpty()},t.prototype.getPriority=function(){return Ee("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Ee("DataSnapshot.forEach",1,1,arguments.length),pn("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,s){return e(new t(s,n.ref_.child(i),lt))})},t.prototype.hasChildren=function(){return Ee("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Ee("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Ee("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PO=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.getRef();return this.eventType==="value"?e.path:e.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+tn(this.snapshot.exportVal())},t}(),DO=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mA=function(){function t(e,n,r){this.callback_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n.getQueryParams().getIndex();return new PO("value",this,new as(e.snapshotNode,n.getRef(),r))},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callback_;return function(){i.call(n,e.snapshot)}}},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new DO(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callback_||!this.callback_?!0:e.callback_===this.callback_&&e.context_===this.context_:!1},t.prototype.hasAnyCallback=function(){return this.callback_!==null},t}(),yA=function(){function t(e,n,r){this.callbacks_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,mr(this.callbacks_,n)},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new DO(this,e,n):null},t.prototype.createEvent=function(e,n){K(e.childName!=null,"Child events should have a childName.");var r=n.getRef().child(e.childName),i=n.getQueryParams().getIndex();return new PO(e.type,this,new as(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callbacks_[e.eventType];return function(){i.call(n,e.snapshot,e.prevName)}}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),s=r.length,a=i.length;if(s===a)if(s===1){var c=r[0],l=i[0];return l===c&&(!e.callbacks_[c]||!this.callbacks_[l]||e.callbacks_[c]===this.callbacks_[l])}else return i.every(function(h){return e.callbacks_[h]===n.callbacks_[h]})}}return!1},t.prototype.hasAnyCallback=function(){return this.callbacks_!==null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w_,Nb=function(){function t(e,n,r,i){this.repo=e,this.path=n,this.queryParams_=r,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return K(w_,"Reference.ts has not been loaded"),w_},set:function(e){w_=e},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(e){var n=null,r=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===Wi){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==xo)throw new Error(i);if(typeof n!="string")throw new Error(s)}if(e.hasEnd()){var c=e.getIndexEndName();if(c!==Ki)throw new Error(i);if(typeof r!="string")throw new Error(s)}}else if(e.getIndex()===lt){if(n!=null&&!Rf(n)||r!=null&&!Rf(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(e.getIndex()instanceof Bw||e.getIndex()===Vw,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(e){if(this.orderByCalled_===!0)throw new Error(e+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Ee("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Ee("Query.on",2,4,arguments.length),y_("Query.on",1,e,!1),pn("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if(e==="value")this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(e,n,r){var i=new mA(e,n||null,r||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(e,n,r){var i=new yA(e,n,r);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(e,n,r){Ee("Query.off",0,3,arguments.length),y_("Query.off",1,e,!0),pn("Query.off",2,n,!0),fA("Query.off",3,r,!0);var i=null,s=null;if(e==="value"){var a=n||null;i=new mA(a,null,r||null)}else e&&(n&&(s={},s[e]=n),i=new yA(s,null,r||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var s=this;Ee("Query.once",1,4,arguments.length),y_("Query.once",1,e,!1),pn("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=!0,l=new hr;l.promise.catch(function(){});var h=function(d){c&&(c=!1,s.off(e,h),n&&n.bind(a.context)(d),l.resolve(d))};return this.on(e,h,function(d){s.off(e,h),a.cancel&&a.cancel.bind(a.context)(d),l.reject(d)}),l.promise},t.prototype.limitToFirst=function(e){if(Ee("Query.limitToFirst",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Ee("Query.limitToLast",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Ee("Query.orderByChild",1,1,arguments.length),e==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(e==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(e==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Pf("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new ie(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Bw(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Ee("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Wi);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Ee("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(lt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Ee("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Vw);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){e===void 0&&(e=null),Ee("Query.startAt",0,2,arguments.length),Ui("Query.startAt",1,e,this.path,!0),Hl("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return e===void 0&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){e===void 0&&(e=null),Ee("Query.startAfter",0,2,arguments.length),Ui("Query.startAfter",1,e,this.path,!1),Hl("Query.startAfter",2,n,!0);var r=this.queryParams_.startAfter(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){e===void 0&&(e=null),Ee("Query.endAt",0,2,arguments.length),Ui("Query.endAt",1,e,this.path,!0),Hl("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){e===void 0&&(e=null),Ee("Query.endBefore",0,2,arguments.length),Ui("Query.endBefore",1,e,this.path,!1),Hl("Query.endBefore",2,n,!0);var r=this.queryParams_.endBefore(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(e,n){if(Ee("Query.equalTo",1,2,arguments.length),Ui("Query.equalTo",1,e,this.path,!1),Hl("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,n).endAt(e,n)},t.prototype.toString=function(){return Ee("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Ee("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var e=this.queryObject(),n=Tb(e);return n==="{}"?"default":n},t.prototype.isEqual=function(e){if(Ee("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:null,context:null};if(n&&r)i.cancel=n,pn(e,3,i.cancel,!0),i.context=r,fA(e,4,i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error($r(e,3,!0)+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BY=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),qY=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),WY=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},_A=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return HY(t[".sv"],e,n);if(typeof t[".sv"]=="object")return GY(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},HY=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},GY=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);var i=e.node();if(K(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},wA=function(t,e,n,r){return kb(e,new qY(n,t),r)},b_=function(t,e,n){return kb(t,new BY(e),n)};function kb(t,e,n){var r=t.getPriority().val(),i=_A(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){var a=t,c=_A(a.getValue(),e,n);return c!==a.getValue()||i!==a.getPriority().val()?new dc(c,xt(i)):t}else{var l=t;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new dc(i))),l.forEachChild(lt,function(h,d){var v=kb(d,e.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E_=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(e){if(this.value!=null)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var n=e.getFront();if(e=e.popFront(),this.children.has(n)){var r=this.children.get(n);return r.find(e)}else return null}else return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var r=this;return n.forEachChild(lt,function(a,c){r.remember(new ie(a),c)}),this.forget(e)}else if(this.children.size>0){var i=e.getFront();if(e=e.popFront(),this.children.has(i)){var s=this.children.get(i).forget(e);s&&this.children.delete(i)}return this.children.size===0}else return!0},t.prototype.forEachTree=function(e,n){this.value!==null?n(e,this.value):this.forEachChild(function(r,i){var s=new ie(e.toString()+"/"+r);i.forEachTree(s,n)})},t.prototype.forEachChild=function(e){this.children.forEach(function(n,r){e(r,n)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(li||(li={}));var ho=function(){function t(e,n,r,i){this.fromUser=e,this.fromServer=n,this.queryId=r,this.tagged=i,K(!i||n,"Tagged queries must be from server.")}return t.user=function(){return new t(!0,!1,null,!1)},t.server=function(){return new t(!1,!0,null,!1)},t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Y=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=li.ACK_USER_WRITE,this.source=ho.user()}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ie(e));return new t(ie.Empty,n,this.revert)}else return K(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T_,YY=function(){return T_||(T_=new _o(lY)),T_},Nr=function(){function t(e,n){n===void 0&&(n=YY()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return nn(e,function(r,i){n=n.set(new ie(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:ie.Empty,value:this.value};if(e.isEmpty())return null;var r=e.getFront(),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(e.popFront(),n);if(s!=null){var a=new ie(r).child(s.path);return{path:a,value:s.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return r!==null?r.subtree(e.popFront()):new t(null)},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||new t(null),s=i.set(e.popFront(),n),a=this.children.insert(r,s);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?new t(null):new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this},t.prototype.get=function(e){if(e.isEmpty())return this.value;var n=e.getFront(),r=this.children.get(n);return r?r.get(e.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||new t(null),s=i.setTree(e.popFront(),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(ie.Empty,e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(e.child(i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,ie.Empty,n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(e.isEmpty())return null;var s=e.getFront(),a=this.children.get(s);return a?a.findOnPath_(e.popFront(),n.child(s),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,ie.Empty,n)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),s=this.children.get(i);return s?s.foreachOnPath_(e.popFront(),n.child(i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(ie.Empty,e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(e.child(r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bA=function(){function t(e,n){this.source=e,this.path=n,this.type=li.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,ie.Empty):new t(this.source,this.path.popFront())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hp=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=li.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,ie.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I_=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=li.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new hp(this.source,ie.Empty,n.value):new t(this.source,ie.Empty,n)}else return K(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=e.getFront();return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MO=function(){function t(e,n){this.eventCache_=e,this.serverCache_=n}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Ss(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Ss(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){return{type:"value",snapshotNode:t}}function pc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Df(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Mf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function zY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xb=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,s,a){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Df(n,c)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(pc(n,r)):a.trackChildChange(Mf(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(lt,function(i,s){n.hasChild(i)||r.trackChildChange(Df(i,s))}),n.isLeafNode()||n.forEachChild(lt,function(i,s){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Mf(i,s,a))}else r.trackChildChange(pc(i,s))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?ke.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KY=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Mf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Df(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,pc(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Mf(r,e.snapshotNode,i.oldSnap));else throw jc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QY=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),EA=new QY,S_=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new Ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),s=this.writes_.calcIndexedSlice(i,n,1,r,e);return s.length===0?null:s[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XY=function(){function t(e,n){this.viewCache=e,this.changes=n}return t}(),JY=function(){function t(e){this.filter_=e}return t.prototype.assertIndexed=function(e){K(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),K(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s=new KY,a,c;if(n.type===li.OVERWRITE){var l=n;l.source.fromUser?a=this.applyUserOverwrite_(e,l.path,l.snap,r,i,s):(K(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(e,l.path,l.snap,r,i,c,s))}else if(n.type===li.MERGE){var h=n;h.source.fromUser?a=this.applyUserMerge_(e,h.path,h.children,r,i,s):(K(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,h.path,h.children,r,i,c,s))}else if(n.type===li.ACK_USER_WRITE){var d=n;d.revert?a=this.revertUserWrite_(e,d.path,r,i,s):a=this.ackUserWrite_(e,d.path,d.affectedTree,r,i,s)}else if(n.type===li.LISTEN_COMPLETE)a=this.listenComplete_(e,n.path,r,s);else throw jc("Unknown operation type: "+n.type);var v=s.getChanges();return t.maybeAddValueEvent_(e,a,v),new XY(a,v)},t.maybeAddValueEvent_=function(e,n,r){var i=n.getEventCache();if(i.isFullyInitialized()){var s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=e.getCompleteEventSnap();(r.length>0||!e.getEventCache().isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&r.push(LO(n.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(e,n,r,i,s){var a=e.getEventCache();if(r.shadowingWrite(n)!=null)return e;var c=void 0,l=void 0;if(n.isEmpty())if(K(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var h=e.getCompleteServerSnap(),d=h instanceof ke?h:ke.EMPTY_NODE,v=r.calcCompleteEventChildren(d);c=this.filter_.updateFullNode(e.getEventCache().getNode(),v,s)}else{var g=r.calcCompleteEventCache(e.getCompleteServerSnap());c=this.filter_.updateFullNode(e.getEventCache().getNode(),g,s)}else{var y=n.getFront();if(y===".priority"){K(n.getLength()===1,"Can't have a priority with additional path components");var w=a.getNode();l=e.getServerCache().getNode();var E=r.calcEventCacheAfterServerOverwrite(n,w,l);E!=null?c=this.filter_.updatePriority(w,E):c=a.getNode()}else{var T=n.popFront(),N=void 0;if(a.isCompleteForChild(y)){l=e.getServerCache().getNode();var P=r.calcEventCacheAfterServerOverwrite(n,a.getNode(),l);P!=null?N=a.getNode().getImmediateChild(y).updateChild(T,P):N=a.getNode().getImmediateChild(y)}else N=r.calcCompleteChild(y,e.getServerCache());N!=null?c=this.filter_.updateChild(a.getNode(),y,N,T,i,s):c=a.getNode()}}return e.updateEventSnap(c,a.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(e,n,r,i,s,a,c){var l=e.getServerCache(),h,d=a?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var g=n.getFront();if(!l.isCompleteForPath(n)&&n.getLength()>1)return e;var y=n.popFront(),w=l.getNode().getImmediateChild(g),E=w.updateChild(y,r);g===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),g,E,y,EA,null)}var T=e.updateServerSnap(h,l.isFullyInitialized()||n.isEmpty(),d.filtersNodes()),N=new S_(i,T,s);return this.generateEventCacheAfterServerEvent_(T,n,i,N,c)},t.prototype.applyUserOverwrite_=function(e,n,r,i,s,a){var c=e.getEventCache(),l,h,d=new S_(i,e,s);if(n.isEmpty())h=this.filter_.updateFullNode(e.getEventCache().getNode(),r,a),l=e.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var v=n.getFront();if(v===".priority")h=this.filter_.updatePriority(e.getEventCache().getNode(),r),l=e.updateEventSnap(h,c.isFullyInitialized(),c.isFiltered());else{var g=n.popFront(),y=c.getNode().getImmediateChild(v),w=void 0;if(g.isEmpty())w=r;else{var E=d.getCompleteChild(v);E!=null?g.getBack()===".priority"&&E.getChild(g.parent()).isEmpty()?w=E:w=E.updateChild(g,r):w=ke.EMPTY_NODE}if(y.equals(w))l=e;else{var T=this.filter_.updateChild(c.getNode(),v,w,g,d,a);l=e.updateEventSnap(T,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},t.cacheHasChild_=function(e,n){return e.getEventCache().isCompleteForChild(n)},t.prototype.applyUserMerge_=function(e,n,r,i,s,a){var c=this,l=e;return r.foreach(function(h,d){var v=n.child(h);t.cacheHasChild_(e,v.getFront())&&(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),r.foreach(function(h,d){var v=n.child(h);t.cacheHasChild_(e,v.getFront())||(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),l},t.prototype.applyMerge_=function(e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e},t.prototype.applyServerMerge_=function(e,n,r,i,s,a,c){var l=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var h=e,d;n.isEmpty()?d=r:d=new Nr(null).setTree(n,r);var v=e.getServerCache().getNode();return d.children.inorderTraversal(function(g,y){if(v.hasChild(g)){var w=e.getServerCache().getNode().getImmediateChild(g),E=l.applyMerge_(w,y);h=l.applyServerOverwrite_(h,new ie(g),E,i,s,a,c)}}),d.children.inorderTraversal(function(g,y){var w=!e.getServerCache().isCompleteForChild(g)&&y.value==null;if(!v.hasChild(g)&&!w){var E=e.getServerCache().getNode().getImmediateChild(g),T=l.applyMerge_(E,y);h=l.applyServerOverwrite_(h,new ie(g),T,i,s,a,c)}}),h},t.prototype.ackUserWrite_=function(e,n,r,i,s,a){if(i.shadowingWrite(n)!=null)return e;var c=e.getServerCache().isFiltered(),l=e.getServerCache();if(r.value!=null){if(n.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(n))return this.applyServerOverwrite_(e,n,l.getNode().getChild(n),i,s,c,a);if(n.isEmpty()){var h=new Nr(null);return l.getNode().forEachChild(Wi,function(v,g){h=h.set(new ie(v),g)}),this.applyServerMerge_(e,n,h,i,s,c,a)}else return e}else{var d=new Nr(null);return r.foreach(function(v,g){var y=n.child(v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),this.applyServerMerge_(e,n,d,i,s,c,a)}},t.prototype.listenComplete_=function(e,n,r,i){var s=e.getServerCache(),a=e.updateServerSnap(s.getNode(),s.isFullyInitialized()||n.isEmpty(),s.isFiltered());return this.generateEventCacheAfterServerEvent_(a,n,r,EA,i)},t.prototype.revertUserWrite_=function(e,n,r,i,s){var a;if(r.shadowingWrite(n)!=null)return e;var c=new S_(r,e,i),l=e.getEventCache().getNode(),h=void 0;if(n.isEmpty()||n.getFront()===".priority"){var d=void 0;if(e.getServerCache().isFullyInitialized())d=r.calcCompleteEventCache(e.getCompleteServerSnap());else{var v=e.getServerCache().getNode();K(v instanceof ke,"serverChildren would be complete if leaf node"),d=r.calcCompleteEventChildren(v)}d=d,h=this.filter_.updateFullNode(l,d,s)}else{var g=n.getFront(),y=r.calcCompleteChild(g,e.getServerCache());y==null&&e.getServerCache().isCompleteForChild(g)&&(y=l.getImmediateChild(g)),y!=null?h=this.filter_.updateChild(l,g,y,n.popFront(),c,s):e.getEventCache().getNode().hasChild(g)?h=this.filter_.updateChild(l,g,ke.EMPTY_NODE,n.popFront(),c,s):h=l,h.isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=r.calcCompleteEventCache(e.getCompleteServerSnap()),a.isLeafNode()&&(h=this.filter_.updateFullNode(h,a,s)))}return a=e.getServerCache().isFullyInitialized()||r.shadowingWrite(ie.Empty)!=null,e.updateEventSnap(h,a,this.filter_.filtersNodes())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZY=function(){function t(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(e,n,r){var i=this,s=[],a=[];return e.forEach(function(c){c.type==="child_changed"&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(zY(c.childName,c.snapshotNode))}),this.generateEventsForType_(s,"child_removed",e,r,n),this.generateEventsForType_(s,"child_added",e,r,n),this.generateEventsForType_(s,"child_moved",a,r,n),this.generateEventsForType_(s,"child_changed",e,r,n),this.generateEventsForType_(s,"value",e,r,n),s},t.prototype.generateEventsForType_=function(e,n,r,i,s){var a=this,c=r.filter(function(l){return l.type===n});c.sort(this.compareChanges_.bind(this)),c.forEach(function(l){var h=a.materializeSingleChange_(l,s);i.forEach(function(d){d.respondsTo(l.type)&&e.push(d.createEvent(h,a.query_))})})},t.prototype.materializeSingleChange_=function(e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},t.prototype.compareChanges_=function(e,n){if(e.childName==null||n.childName==null)throw jc("Should only compare child_ events.");var r=new We(e.childName,e.snapshotNode),i=new We(n.childName,n.snapshotNode);return this.index_.compare(r,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e6=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),i=new xb(r.getIndex()),s=r.getNodeFilter();this.processor_=new JY(s);var a=n.getServerCache(),c=n.getEventCache(),l=i.updateFullNode(ke.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(ke.EMPTY_NODE,c.getNode(),null),d=new Ss(l,a.isFullyInitialized(),i.filtersNodes()),v=new Ss(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=new MO(v,d),this.eventGenerator_=new ZY(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},t.prototype.getCompleteServerCache=function(e){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!n.getImmediateChild(e.getFront()).isEmpty())?n.getChild(e):null},t.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},t.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},t.prototype.removeEventRegistration=function(e,n){var r=[];if(n){K(e==null,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(e){for(var s=[],a=0;a<this.eventRegistrations_.length;++a){var c=this.eventRegistrations_[a];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(this.eventRegistrations_.slice(a+1));break}}this.eventRegistrations_=s}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(e,n,r){e.type===li.MERGE&&e.source.queryId!==null&&(K(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),K(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,s=this.processor_.applyOperation(i,e,n,r);return this.processor_.assertIndexed(s.viewCache),K(s.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=s.viewCache,this.generateEventsForChanges_(s.changes,s.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(e){var n=this.viewCache_.getEventCache(),r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(lt,function(s,a){r.push(pc(s,a))})}return n.isFullyInitialized()&&r.push(LO(n.getNode())),this.generateEventsForChanges_(r,n.getNode(),e)},t.prototype.generateEventsForChanges_=function(e,n,r){var i=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,n,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bd,qw=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return K(Bd,"Reference.ts has not been loaded"),Bd},set:function(e){K(!Bd,"__referenceConstructor has already been defined"),Bd=e},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.views.size===0},t.prototype.applyOperation=function(e,n,r){var i,s,a=e.source.queryId;if(a!==null){var c=this.views.get(a);return K(c!=null,"SyncTree gave us an op for an invalid query."),c.applyOperation(e,n,r)}else{var l=[];try{for(var h=Bt(this.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(c.applyOperation(e,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}},t.prototype.getView=function(e,n,r,i){var s=e.queryIdentifier(),a=this.views.get(s);if(!a){var c=n.calcCompleteEventCache(i?r:null),l=!1;c?l=!0:r instanceof ke?(c=n.calcCompleteEventChildren(r),l=!1):(c=ke.EMPTY_NODE,l=!1);var h=new MO(new Ss(c,l,!1),new Ss(r,i,!1));return new e6(e,h)}return a},t.prototype.addEventRegistration=function(e,n,r,i,s){var a=this.getView(e,r,i,s);return this.views.has(e.queryIdentifier())||this.views.set(e.queryIdentifier(),a),a.addEventRegistration(n),a.getInitialEvents(n)},t.prototype.removeEventRegistration=function(e,n,r){var i,s,a=e.queryIdentifier(),c=[],l=[],h=this.hasCompleteView();if(a==="default")try{for(var d=Bt(this.views.entries()),v=d.next();!v.done;v=d.next()){var g=Nf(v.value,2),y=g[0],w=g[1];l=l.concat(w.removeEventRegistration(n,r)),w.isEmpty()&&(this.views.delete(y),w.getQuery().getQueryParams().loadsAllData()||c.push(w.getQuery()))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var w=this.views.get(a);w&&(l=l.concat(w.removeEventRegistration(n,r)),w.isEmpty()&&(this.views.delete(a),w.getQuery().getQueryParams().loadsAllData()||c.push(w.getQuery())))}return h&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:l}},t.prototype.getQueryViews=function(){var e,n,r=[];try{for(var i=Bt(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getCompleteServerCache=function(e){var n,r,i=null;try{for(var s=Bt(this.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||c.getCompleteServerCache(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.prototype.viewForQuery=function(e){var n=e.getQueryParams();if(n.loadsAllData())return this.getCompleteView();var r=e.queryIdentifier();return this.views.get(r)},t.prototype.viewExistsForQuery=function(e){return this.viewForQuery(e)!=null},t.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},t.prototype.getCompleteView=function(){var e,n;try{for(var r=Bt(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Nr(null))},t}();function ef(t,e,n){if(e.isEmpty())return new To(new Nr(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,s=r.value,a=ie.relativePath(i,e);return s=s.updateChild(a,n),new To(t.writeTree_.set(i,s))}else{var c=new Nr(n),l=t.writeTree_.setTree(e,c);return new To(l)}}function C_(t,e,n){var r=t;return nn(n,function(i,s){r=ef(r,e.child(i),s)}),r}function TA(t,e){if(e.isEmpty())return To.empty();var n=t.writeTree_.setTree(e,new Nr(null));return new To(n)}function A_(t,e){return os(t,e)!=null}function os(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ie.relativePath(n.path,e)):null}function IA(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(lt,function(r,i){e.push(new We(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new We(r,i.value))}),e}function Zo(t,e){if(e.isEmpty())return t;var n=os(t,e);return n!=null?new To(new Nr(n)):new To(t.writeTree_.subtree(e))}function N_(t){return t.writeTree_.isEmpty()}function Au(t,e){return FO(ie.Empty,t.writeTree_,e)}function FO(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,s){i===".priority"?(K(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=FO(t.child(i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(t.child(".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t6=function(){function t(){this.visibleWrites_=To.empty(),this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(e){return new n6(e,this)},t.prototype.addOverwrite=function(e,n,r,i){K(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),this.allWrites_.push({path:e,snap:n,writeId:r,visible:i}),i&&(this.visibleWrites_=ef(this.visibleWrites_,e,n)),this.lastWriteId_=r},t.prototype.addMerge=function(e,n,r){K(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:n,writeId:r,visible:!0}),this.visibleWrites_=C_(this.visibleWrites_,e,n),this.lastWriteId_=r},t.prototype.getWrite=function(e){for(var n=0;n<this.allWrites_.length;n++){var r=this.allWrites_[n];if(r.writeId===e)return r}return null},t.prototype.removeWrite=function(e){var n=this,r=this.allWrites_.findIndex(function(d){return d.writeId===e});K(r>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[r];this.allWrites_.splice(r,1);for(var s=i.visible,a=!1,c=this.allWrites_.length-1;s&&c>=0;){var l=this.allWrites_[c];l.visible&&(c>=r&&this.recordContainsPath_(l,i.path)?s=!1:i.path.contains(l.path)&&(a=!0)),c--}if(s){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=TA(this.visibleWrites_,i.path);else{var h=i.children;nn(h,function(d){n.visibleWrites_=TA(n.visibleWrites_,i.path.child(d))})}return!0}else return!1},t.prototype.getCompleteWriteData=function(e){return os(this.visibleWrites_,e)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(!r&&!i){var s=os(this.visibleWrites_,e);if(s!=null)return s;var a=Zo(this.visibleWrites_,e);if(N_(a))return n;if(n==null&&!A_(a,ie.Empty))return null;var c=n||ke.EMPTY_NODE;return Au(a,c)}else{var l=Zo(this.visibleWrites_,e);if(!i&&N_(l))return n;if(!i&&n==null&&!A_(l,ie.Empty))return null;var h=function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(g.path.contains(e)||e.contains(g.path))},d=t.layerTree_(this.allWrites_,h,e),c=n||ke.EMPTY_NODE;return Au(d,c)}},t.prototype.calcCompleteEventChildren=function(e,n){var r=ke.EMPTY_NODE,i=os(this.visibleWrites_,e);if(i)return i.isLeafNode()||i.forEachChild(lt,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=Zo(this.visibleWrites_,e);return n.forEachChild(lt,function(c,l){var h=Au(Zo(s,new ie(c)),l);r=r.updateImmediateChild(c,h)}),IA(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=Zo(this.visibleWrites_,e);return IA(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r,i){K(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=e.child(n);if(A_(this.visibleWrites_,s))return null;var a=Zo(this.visibleWrites_,s);return N_(a)?i.getChild(n):Au(a,i.getChild(n))},t.prototype.calcCompleteChild=function(e,n,r){var i=e.child(n),s=os(this.visibleWrites_,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Zo(this.visibleWrites_,i);return Au(a,r.getNode().getImmediateChild(n))}else return null},t.prototype.shadowingWrite=function(e){return os(this.visibleWrites_,e)},t.prototype.calcIndexedSlice=function(e,n,r,i,s,a){var c,l=Zo(this.visibleWrites_,e),h=os(l,ie.Empty);if(h!=null)c=h;else if(n!=null)c=Au(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),g=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=g.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=g.getNext();return d}else return[]},t.prototype.recordContainsPath_=function(e,n){if(e.snap)return e.path.contains(n);for(var r in e.children)if(e.children.hasOwnProperty(r)&&e.path.child(r).contains(n))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,ie.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(e){return e.visible},t.layerTree_=function(e,n,r){for(var i=To.empty(),s=0;s<e.length;++s){var a=e[s];if(n(a)){var c=a.path,l=void 0;if(a.snap)r.contains(c)?(l=ie.relativePath(r,c),i=ef(i,l,a.snap)):c.contains(r)&&(l=ie.relativePath(c,r),i=ef(i,ie.Empty,a.snap.getChild(l)));else if(a.children){if(r.contains(c))l=ie.relativePath(r,c),i=C_(i,l,a.children);else if(c.contains(r))if(l=ie.relativePath(c,r),l.isEmpty())i=C_(i,ie.Empty,a.children);else{var h=ci(a.children,l.getFront());if(h){var d=h.getChild(l.popFront());i=ef(i,ie.Empty,d)}}}else throw jc("WriteRecord should have .snap or .children")}}return i},t}(),n6=function(){function t(e,n){this.treePath_=e,this.writeTree_=n}return t.prototype.calcCompleteEventCache=function(e,n,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,n,r)},t.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,n,r)},t.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},t.prototype.calcIndexedSlice=function(e,n,r,i,s){return this.writeTree_.calcIndexedSlice(this.treePath_,e,n,r,i,s)},t.prototype.calcCompleteChild=function(e,n){return this.writeTree_.calcCompleteChild(this.treePath_,e,n)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SA=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Nr(null),this.pendingWriteTree_=new t6,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(e,n,r,i){return this.pendingWriteTree_.addOverwrite(e,n,r,i),i?this.applyOperationToSyncPoints_(new hp(ho.user(),e,n)):[]},t.prototype.applyUserMerge=function(e,n,r){this.pendingWriteTree_.addMerge(e,n,r);var i=Nr.fromObject(n);return this.applyOperationToSyncPoints_(new I_(ho.user(),e,i))},t.prototype.ackUserWrite=function(e,n){n===void 0&&(n=!1);var r=this.pendingWriteTree_.getWrite(e),i=this.pendingWriteTree_.removeWrite(e);if(i){var s=new Nr(null);return r.snap!=null?s=s.set(ie.Empty,!0):nn(r.children,function(a){s=s.set(new ie(a),!0)}),this.applyOperationToSyncPoints_(new $Y(r.path,s,n))}else return[]},t.prototype.applyServerOverwrite=function(e,n){return this.applyOperationToSyncPoints_(new hp(ho.server(),e,n))},t.prototype.applyServerMerge=function(e,n){var r=Nr.fromObject(n);return this.applyOperationToSyncPoints_(new I_(ho.server(),e,r))},t.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new bA(ho.server(),e))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(i!=null){var s=t.parseQueryKey_(i),a=s.path,c=s.queryId,l=ie.relativePath(a,e),h=new hp(ho.forServerTaggedQuery(c),l,n);return this.applyTaggedOperation_(a,h)}else return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var s=t.parseQueryKey_(i),a=s.path,c=s.queryId,l=ie.relativePath(a,e),h=Nr.fromObject(n),d=new I_(ho.forServerTaggedQuery(c),l,h);return this.applyTaggedOperation_(a,d)}else return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),s=i.path,a=i.queryId,c=ie.relativePath(s,e),l=new bA(ho.forServerTaggedQuery(a),c);return this.applyTaggedOperation_(s,l)}else return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(E,T){var N=ie.relativePath(E,r);i=i||T.getCompleteServerCache(N),s=s||T.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(s=s||a.hasCompleteView(),i=i||a.getCompleteServerCache(ie.Empty)):(a=new qw,this.syncPointTree_=this.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=ke.EMPTY_NODE;var l=this.syncPointTree_.subtree(r);l.foreachChild(function(E,T){var N=T.getCompleteServerCache(ie.Empty);N&&(i=i.updateImmediateChild(E,N))})}var h=a.viewExistsForQuery(e);if(!h&&!e.getQueryParams().loadsAllData()){var d=t.makeQueryKey_(e);K(!this.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=t.getNextQueryTag_();this.queryToTagMap.set(d,v),this.tagToQueryMap.set(v,d)}var g=this.pendingWriteTree_.childWrites(r),y=a.addEventRegistration(e,n,g,i,c);if(!h&&!s){var w=a.viewForQuery(e);y=y.concat(this.setupListener_(e,w))}return y},t.prototype.removeEventRegistration=function(e,n,r){var i=this,s=e.path,a=this.syncPointTree_.get(s),c=[];if(a&&(e.queryIdentifier()==="default"||a.viewExistsForQuery(e))){var l=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var h=l.removed;c=l.events;var d=h.findIndex(function(M){return M.getQueryParams().loadsAllData()})!==-1,v=this.syncPointTree_.findOnPath(s,function(M,U){return U.hasCompleteView()});if(d&&!v){var g=this.syncPointTree_.subtree(s);if(!g.isEmpty())for(var y=this.collectDistinctViewsForSubTree_(g),w=0;w<y.length;++w){var E=y[w],T=E.getQuery(),N=this.createListenerForView_(E);this.listenProvider_.startListening(t.queryForListening_(T),this.tagForQuery_(T),N.hashFn,N.onComplete)}}if(!v&&h.length>0&&!r)if(d){var P=null;this.listenProvider_.stopListening(t.queryForListening_(e),P)}else h.forEach(function(M){var U=i.queryToTagMap.get(t.makeQueryKey_(M));i.listenProvider_.stopListening(t.queryForListening_(M),U)});this.removeTags_(h)}return c},t.prototype.calcCompleteEventCache=function(e,n){var r=!0,i=this.pendingWriteTree_,s=this.syncPointTree_.findOnPath(e,function(a,c){var l=ie.relativePath(a,e),h=c.getCompleteServerCache(l);if(h)return h});return i.calcCompleteEventCache(e,s,n,r)},t.prototype.getServerValue=function(e){var n=e.path,r=null;this.syncPointTree_.foreachOnPath(n,function(h,d){var v=ie.relativePath(h,n);r=r||d.getCompleteServerCache(v)});var i=this.syncPointTree_.get(n);i?r=r||i.getCompleteServerCache(ie.Empty):(i=new qw,this.syncPointTree_=this.syncPointTree_.set(n,i));var s=r!=null,a=s?new Ss(r,!0,!1):null,c=this.pendingWriteTree_.childWrites(e.path),l=i.getView(e,c,s?a.getNode():ke.EMPTY_NODE,s);return l.getCompleteNode()},t.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(n,r,i){if(r&&r.hasCompleteView()){var s=r.getCompleteView();return[s]}else{var a=[];return r&&(a=r.getQueryViews()),nn(i,function(c,l){a=a.concat(l)}),a}})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),s=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(s)}}},t.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)K(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,g,y){if(!v.isEmpty()&&g&&g.hasCompleteView())return[g.getCompleteView().getQuery()];var w=[];return g&&(w=w.concat(g.getQueryViews().map(function(E){return E.getQuery()}))),nn(y,function(E,T){w=w.concat(T)}),w}),h=0;h<l.length;++h){var d=l[h];this.listenProvider_.stopListening(t.queryForListening_(d),this.tagForQuery_(d))}return a},t.prototype.createListenerForView_=function(e){var n=this,r=e.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){var s=e.getServerCache()||ke.EMPTY_NODE;return s.hash()},onComplete:function(s){if(s==="ok")return i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path);var a=dY(s,r);return n.removeEventRegistration(r,null,a)}}},t.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},t.parseQueryKey_=function(e){var n=e.indexOf("$");return K(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new ie(e.substr(0,n))}},t.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(e,n){var r=this.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return r.applyOperation(n,i,null)},t.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ie.Empty))},t.prototype.applyOperationHelper_=function(e,n,r,i){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,n,r,i);var s=n.get(ie.Empty);r==null&&s!=null&&(r=s.getCompleteServerCache(ie.Empty));var a=[],c=e.path.getFront(),l=e.operationForChild(c),h=n.children.get(c);if(h&&l){var d=r?r.getImmediateChild(c):null,v=i.child(c);a=a.concat(this.applyOperationHelper_(l,h,d,v))}return s&&(a=a.concat(s.applyOperation(e,i,r))),a},t.prototype.applyOperationDescendantsHelper_=function(e,n,r,i){var s=this,a=n.get(ie.Empty);r==null&&a!=null&&(r=a.getCompleteServerCache(ie.Empty));var c=[];return n.children.inorderTraversal(function(l,h){var d=r?r.getImmediateChild(l):null,v=i.child(l),g=e.operationForChild(l);g&&(c=c.concat(s.applyOperationDescendantsHelper_(g,h,d,v)))}),a&&(c=c.concat(a.applyOperation(e,i,r))),c},t.nextQueryTag_=1,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r6=function(){function t(){this.rootNode_=ke.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i6=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),mr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return JR(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jp=function(){function t(){}return t.getCollection=function(e){var n=e.toString();return this.collections_[n]||(this.collections_[n]=new i6),this.collections_[n]},t.getOrCreateReporter=function(e,n){var r=e.toString();return this.reporters_[r]||(this.reporters_[r]=n()),this.reporters_[r]},t.collections_={},t.reporters_={},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UO=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=pt({},e);return this.last_&&nn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CA=10*1e3,o6=30*1e3,s6=5*60*1e3,a6=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new UO(e);var r=CA+(o6-CA)*Math.random();lf(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.includeStat=function(e){this.statsToReport_[e]=!0},t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;nn(n,function(s,a){a>0&&mr(e.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),lf(this.reportStats_.bind(this),Math.floor(Math.random()*2*s6))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u6=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(e){for(var n=null,r=0;r<e.length;r++){var i=e[r],s=i.getPath();n!==null&&!s.equals(n.getPath())&&(this.eventLists_.push(n),n=null),n===null&&(n=new c6(s)),n.add(i)}n&&this.eventLists_.push(n)},t.prototype.raiseEventsAtPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.equals(e)})},t.prototype.raiseEventsForChangedPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.contains(e)||e.contains(r)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var n=!0,r=0;r<this.eventLists_.length;r++){var i=this.eventLists_[r];if(i){var s=i.getPath();e(s)?(this.eventLists_[r].raise(),this.eventLists_[r]=null):n=!1}}n&&(this.eventLists_=[]),this.recursionDepth_--},t}(),c6=function(){function t(e){this.path_=e,this.events_=[]}return t.prototype.add=function(e){this.events_.push(e)},t.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var n=this.events_[e];if(n!==null){this.events_[e]=null;var r=n.getEventRunner();Ta&&Sn("event: "+n.toString()),ju(r)}}},t.prototype.getPath=function(){return this.path_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jO=function(){function t(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Uo(this.listeners_[e]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},t.prototype.validateEventType_=function(e){K(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l6=function(t){ee(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="visible","Unknown event type: "+n),[this.visible_]},e}(jO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AA=function(t){ee(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!mb()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(jO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f6=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&ju(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NA="start",h6="close",d6="pLPCommand",p6="pRTLPCB",VO="id",BO="pw",qO="ser",v6="cb",g6="seg",m6="ts",y6="d",_6="dframe",WO=1870,HO=30,w6=WO-HO,b6=25e3,E6=3e4,Rb=function(){function t(e,n,r,i,s){this.connId=e,this.repoInfo=n,this.applicationId=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uh(e),this.stats_=jp.getCollection(n),this.urlFn=function(a){return n.connectionURL(EO,a)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new f6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(E6)),cY(function(){if(!r.isClosed_){r.scriptTagHolder=new T6(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Nf(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===NA)r.id=d,r.password=v;else if(h===h6)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Nf(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[NA]="t",i[qO]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[v6]=r.scriptTagHolder.uniqueCallbackIdentifier),i[vO]=Sb,r.transportSessionId&&(i[gO]=r.transportSessionId),r.lastSessionId&&(i[wO]=r.lastSessionId),r.applicationId&&(i[mY]=r.applicationId),typeof location<"u"&&location.hostname&&_O.test(location.hostname)&&(i[mO]=yO);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!fY()&&!hY()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=f$(n),i=hO(r,w6),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[_6]="t",r[VO]=e,r[BO]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=tn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),T6=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cO(),window[d6+this.uniqueCallbackIdentifier]=e,window[p6+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){Sn("frame writing exception"),l.stack&&Sn(l.stack),Sn(l)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||Sn("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[VO]=this.myID,e[BO]=this.myPW,e[qO]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+HO+r.length<=WO){var a=this.pendingSegs.shift();r=r+"&"+g6+i+"="+a.seg+"&"+m6+i+"="+a.ts+"&"+y6+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(b6)),a=function(){clearTimeout(s),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){Sn("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GO="";function $O(t){GO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I6=16384,S6=45e3,Vp=null;typeof MozWebSocket<"u"?Vp=MozWebSocket:typeof WebSocket<"u"&&(Vp=WebSocket);var fa=function(){function t(e,n,r,i,s){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uh(this.connId),this.stats_=jp.getCollection(n),this.connURL=t.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r){var i={};return i[vO]=Sb,typeof location<"u"&&location.hostname&&_O.test(location.hostname)&&(i[mO]=yO),n&&(i[gO]=n),r&&(i[wO]=r),e.connectionURL(bO,i)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,va.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!eO()){var s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Vp(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Vp!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return va.isInMemoryStorage||va.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){va.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=xf(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=hO(n,I6);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(S6))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C6=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Rb,fa]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=fa&&fa.isAvailable(),s=i&&!fa.previouslyFailed();if(e.webSocketOnly&&(i||Ln("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[fa];else{var a=this.transports_=[];try{for(var c=Bt(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A6=6e4,N6=5e3,k6=10*1024,x6=100*1024,k_="t",kA="d",R6="s",xA="r",O6="e",RA="o",OA="a",PA="n",DA="p",P6="h",YO=function(){function t(e,n,r,i,s,a,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uh("c:"+this.id+":"),this.transportManager_=new C6(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=lf(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>x6?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>k6?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(s)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(k_ in e){var n=e[k_];n===OA?this.upgradeIfSecondaryHealthy_():n===xA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Wl("t",e),r=Wl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DA,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:PA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Wl("t",e),r=Wl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Wl(k_,e);if(kA in e){var r=e[kA];if(n===P6)this.onHandshake_(r);else if(n===PA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===R6?this.onConnectionShutdown_(r):n===xA?this.onReset_(r):n===O6?Mw("Server Error: "+r):n===RA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mw("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sb!==r&&Ln("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),lf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(A6))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(N6))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DA,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(va.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zO=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $l=1e3,D6=60*5*1e3,M6=3*1e3,MA=30*1e3,L6=1.3,F6=3e4,U6="server_kill",j6=3,Ia=function(t){ee(e,t);function e(n,r,i,s,a,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=uh("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=$l,h.maxReconnectDelay_=D6,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!eO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),l6.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&AA.getInstance().on("online",h.onOnline_,h),h}return e.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(tn(a)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},e.prototype.get=function(n){var r=this,i=new hr,s={p:n.path.toString(),q:n.queryObject()},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},M6),this.connected_&&this.sendGet_(c),i.promise},e.prototype.listen=function(n,r,i,s){var a=n.queryIdentifier(),c=n.path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,s=i.path.toString(),a=i.queryIdentifier();this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i.queryObject(),c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;e.warnOnListenWarnings_(d,i);var g=r.listens.get(s)&&r.listens.get(s).get(a);g===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&mr(n,"w")){var i=ci(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',a=r.path.toString();Ln("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||E$(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=MA)},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=b$(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},e.prototype.unlisten=function(n,r){var i=n.path.toString(),s=n.queryIdentifier();this.log_("Unlisten called for "+i+" "+s),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n.queryObject(),r)},e.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},e.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},e.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},e.prototype.putInternal=function(n,r,i,s,a){var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+tn(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Mw("Unrecognized action received from server: "+tn(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$l,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=$l,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>F6&&(this.reconnectDelay_=$l),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*L6)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,c=this,l=this.lastSessionId,h=!1,d=null,v=function(){d?d.close():(h=!0,s())},g=function(w){K(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(w)};this.realtime_={close:v,sendRequest:g};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(w){h?Sn("getToken() completed but was canceled"):(Sn("getToken() completed. Creating connection."),c.authToken_=w&&w.accessToken,d=new YO(a,c.repoInfo_,c.applicationId_,r,i,s,function(E){Ln(E+" ("+c.repoInfo_.toString()+")"),c.interrupt(U6)},l))}).then(null,function(w){c.log_("Failed to get token: "+w),h||(n.repoInfo_.nodeAdmin&&Ln(w),v())})}},e.prototype.interrupt=function(n){Sn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){Sn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ow(this.interruptReasons_)&&(this.reconnectDelay_=$l,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return Tb(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new ie(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},e.prototype.onAuthRevoked_=function(n,r){Sn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=j6&&(this.reconnectDelay_=MA,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth();try{for(var a=Bt(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,Bt(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(w){i={error:w}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(w){n={error:w}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var g=0;g<this.outstandingPuts_.length;g++)this.outstandingPuts_[g]&&this.sendPut_(g);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var g=0;g<this.outstandingGets_.length;g++)this.outstandingGets_[g]&&this.sendGet_(g)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+GO.replace(/\./g,"-")]=1,mb()?n["framework.cordova"]=1:ZR()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=AA.getInstance().currentlyOnline();return Ow(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(zO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V6=function(t){ee(e,t);function e(n,r,i){var s=t.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.log_=uh("p:rest:"),s.listens_={},s}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(K(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},e.prototype.listen=function(n,r,i,s){var a=this,c=n.path.toString();this.log_("Listen called for "+c+" "+n.queryIdentifier());var l=e.getListenId_(n,i),h={};this.listens_[l]=h;var d=n.getQueryParams().toRestQueryStringParameters();this.restRequest_(c+".json",d,function(v,g){var y=g;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),ci(a.listens_,l)===h){var w;v?v===401?w="permission_denied":w="rest_error:"+v:w="ok",s(w,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=n.getQueryParams().toRestQueryStringParameters(),s=n.path.toString(),a=new hr;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var s=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var c=a&&a.accessToken;c&&(r.auth=c);var l=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+T$(r);s.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){s.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var d=null;if(h.status>=200&&h.status<300){try{d=xf(h.responseText)}catch{Ln("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&Ln("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})},e}(zO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LA=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),B6=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r=new LA),this.name_=e,this.parent_=n,this.node_=r}return t.prototype.subTree=function(e){for(var n=e instanceof ie?e:new ie(e),r=this,i=n.getFront();i!==null;){var s=ci(r.node_.children,i)||new LA;r=new t(i,r,s),n=n.popFront(),i=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(e){K(typeof e<"u","Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;nn(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(e,n,r){n&&!r&&e(this),this.forEachChild(function(i){i.forEachDescendant(e,!0,r)}),n&&r&&e(this)},t.prototype.forEachAncestor=function(e,n){for(var r=n?this:this.parent();r!==null;){if(e(r))return!0;r=r.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(n){n.getValue()!==null?e(n):n.forEachImmediateDescendantWithValue(e)})},t.prototype.path=function(){return new ie(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(e,n){var r=n.isEmpty(),i=mr(this.node_.children,e);r&&i?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):!r&&!i&&(this.node_.children[e]=n.node_,this.node_.childCount++,this.updateParents_())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FA="repo_interrupt",q6=25,$t;(function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"})($t||($t={}));var Ob=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.app=r,this.authTokenProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new u6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new E_,this.transactionQueueTree_=new B6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var e=this;if(this.stats_=jp.getCollection(this.repoInfo_),this.forceRestClient_||vY())this.server_=new V6(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var n=this.app.options.databaseAuthVariableOverride;if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}this.persistentConnection_=new Ia(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,n),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),this.statsReporter_=jp.getOrCreateReporter(this.repoInfo_,function(){return new a6(e.stats_,e.server_)}),this.infoData_=new r6,this.infoSyncTree_=new SA({startListening:function(r,i,s,a){var c=[],l=e.infoData_.getNode(r.path);return l.isEmpty()||(c=e.infoSyncTree_.applyServerOverwrite(r.path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new SA({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(c,l){var h=a(c,l);e.eventQueue_.raiseEventsForChangedPath(r.path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var e=this.infoData_.getNode(new ie(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n},t.prototype.generateServerValues=function(){return WY({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(e,n,r,i){this.dataUpdateCount++;var s=new ie(e);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var c=Dp(n,function(g){return xt(g)});a=this.serverSyncTree_.applyTaggedQueryMerge(s,c,i)}else{var l=xt(n);a=this.serverSyncTree_.applyTaggedQueryOverwrite(s,l,i)}else if(r){var h=Dp(n,function(g){return xt(g)});a=this.serverSyncTree_.applyServerMerge(s,h)}else{var d=xt(n);a=this.serverSyncTree_.applyServerOverwrite(s,d)}var v=s;a.length>0&&(v=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(v,a)},t.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},t.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),e===!1&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(e){var n=this;nn(e,function(r,i){n.updateInfo_(r,i)})},t.prototype.updateInfo_=function(e,n){var r=new ie("/.info/"+e),i=xt(n);this.infoData_.updateSnapshot(r,i);var s=this.infoSyncTree_.applyServerOverwrite(r,i);this.eventQueue_.raiseEventsForChangedPath(r,s)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(e){var n=this,r=this.serverSyncTree_.getServerValue(e);return r!=null?Promise.resolve(new as(r,e.getRef(),e.getQueryParams().getIndex())):this.server_.get(e).then(function(i){var s=xt(i),a=n.serverSyncTree_.applyServerOverwrite(e.path,s);return n.eventQueue_.raiseEventsAtPath(e.path,a),Promise.resolve(new as(s,e.getRef(),e.getQueryParams().getIndex()))},function(i){return n.log_("get for query "+tn(e)+" failed: "+i),Promise.reject(new Error(i))})},t.prototype.setWithPriority=function(e,n,r,i){var s=this;this.log_("set",{path:e.toString(),value:n,priority:r});var a=this.generateServerValues(),c=xt(n,r),l=this.serverSyncTree_.calcCompleteEventCache(e),h=b_(c,l,a),d=this.getNextWriteId_(),v=this.serverSyncTree_.applyUserOverwrite(e,h,d,!0);this.eventQueue_.queueEvents(v),this.server_.put(e.toString(),c.val(!0),function(y,w){var E=y==="ok";E||Ln("set at "+e+" failed: "+y);var T=s.serverSyncTree_.ackUserWrite(d,!E);s.eventQueue_.raiseEventsForChangedPath(e,T),s.callOnCompleteCallback(i,y,w)});var g=this.abortTransactions_(e);this.rerunTransactions_(g),this.eventQueue_.raiseEventsForChangedPath(g,[])},t.prototype.update=function(e,n,r){var i=this;this.log_("update",{path:e.toString(),value:n});var s=!0,a=this.generateServerValues(),c={};if(nn(n,function(d,v){s=!1,c[d]=wA(e.child(d),xt(v),i.serverSyncTree_,a)}),s)Sn("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(e,c,l);this.eventQueue_.queueEvents(h),this.server_.merge(e.toString(),n,function(d,v){var g=d==="ok";g||Ln("update at "+e+" failed: "+d);var y=i.serverSyncTree_.ackUserWrite(l,!g),w=y.length>0?i.rerunTransactions_(e):e;i.eventQueue_.raiseEventsForChangedPath(w,y),i.callOnCompleteCallback(r,d,v)}),nn(n,function(d){var v=i.abortTransactions_(e.child(d));i.rerunTransactions_(v)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},t.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),r=new E_;this.onDisconnect_.forEachTree(ie.Empty,function(s,a){var c=wA(s,a,e.serverSyncTree_,n);r.remember(s,c)});var i=[];r.forEachTree(ie.Empty,function(s,a){i=i.concat(e.serverSyncTree_.applyServerOverwrite(s,a));var c=e.abortTransactions_(s);e.rerunTransactions_(c)}),this.onDisconnect_=new E_,this.eventQueue_.raiseEventsForChangedPath(ie.Empty,i)},t.prototype.onDisconnectCancel=function(e,n){var r=this;this.server_.onDisconnectCancel(e.toString(),function(i,s){i==="ok"&&r.onDisconnect_.forget(e),r.callOnCompleteCallback(n,i,s)})},t.prototype.onDisconnectSet=function(e,n,r){var i=this,s=xt(n);this.server_.onDisconnectPut(e.toString(),s.val(!0),function(a,c){a==="ok"&&i.onDisconnect_.remember(e,s),i.callOnCompleteCallback(r,a,c)})},t.prototype.onDisconnectSetWithPriority=function(e,n,r,i){var s=this,a=xt(n,r);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(c,l){c==="ok"&&s.onDisconnect_.remember(e,a),s.callOnCompleteCallback(i,c,l)})},t.prototype.onDisconnectUpdate=function(e,n,r){var i=this;if(Ow(n)){Sn("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(e.toString(),n,function(s,a){s==="ok"&&nn(n,function(c,l){var h=xt(l);i.onDisconnect_.remember(e.child(c),h)}),i.callOnCompleteCallback(r,s,a)})},t.prototype.addEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.addEventRegistration(e,n):r=this.serverSyncTree_.addEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.removeEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.removeEventRegistration(e,n):r=this.serverSyncTree_.removeEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(FA)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(FA)},t.prototype.stats=function(e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(this.statsListener_||(this.statsListener_=new UO(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);nn(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}},t.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},t.prototype.log_=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),Sn.apply(void 0,Uo([r],e))},t.prototype.callOnCompleteCallback=function(e,n,r){e&&ju(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,e(a)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Pb(this))},enumerable:!1,configurable:!0}),t.prototype.startTransaction=function(e,n,r,i){this.log_("transaction on "+e);var s=function(){},a=new wo(this,e);a.on("value",s);var c=function(){a.off("value",s)},l={path:e,update:n,onComplete:r,status:null,order:cO(),applyLocally:i,retryCount:0,unwatcher:c,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(e);l.currentInputSnapshot=h;var d=l.update(h.val());if(d===void 0){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var v=new as(l.currentInputSnapshot,new wo(this,l.path),lt);l.onComplete(null,!1,v)}}else{Of("transaction failed: Data returned ",d,l.path),l.status=$t.RUN;var g=this.transactionQueueTree_.subTree(e),y=g.getValue()||[];y.push(l),g.setValue(y);var w=void 0;if(typeof d=="object"&&d!==null&&mr(d,".priority"))w=ci(d,".priority"),K(Rf(w),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var E=this.serverSyncTree_.calcCompleteEventCache(e)||ke.EMPTY_NODE;w=E.getPriority().val()}var T=this.generateServerValues(),N=xt(d,w),P=b_(N,h,T);l.currentOutputSnapshotRaw=N,l.currentOutputSnapshotResolved=P,l.currentWriteId=this.getNextWriteId_();var M=this.serverSyncTree_.applyUserOverwrite(e,P,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,M),this.sendReadyTransactions_()}},t.prototype.getLatestState_=function(e,n){return this.serverSyncTree_.calcCompleteEventCache(e,n)||ke.EMPTY_NODE},t.prototype.sendReadyTransactions_=function(e){var n=this;if(e===void 0&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),e.getValue()!==null){var r=this.buildTransactionQueue_(e);K(r.length>0,"Sending zero length transaction queue");var i=r.every(function(s){return s.status===$t.RUN});i&&this.sendTransactionQueue_(e.path(),r)}else e.hasChildren()&&e.forEachChild(function(s){n.sendReadyTransactions_(s)})},t.prototype.sendTransactionQueue_=function(e,n){for(var r=this,i=n.map(function(y){return y.currentWriteId}),s=this.getLatestState_(e,i),a=s,c=s.hash(),l=0;l<n.length;l++){var h=n[l];K(h.status===$t.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=$t.SENT,h.retryCount++;var d=ie.relativePath(e,h.path);a=a.updateChild(d,h.currentOutputSnapshotRaw)}var v=a.val(!0),g=e;this.server_.put(g.toString(),v,function(y){r.log_("transaction put response",{path:g.toString(),status:y});var w=[];if(y==="ok"){for(var E=[],T=0;T<n.length;T++){if(n[T].status=$t.COMPLETED,w=w.concat(r.serverSyncTree_.ackUserWrite(n[T].currentWriteId)),n[T].onComplete){var N=n[T].currentOutputSnapshotResolved,P=new wo(r,n[T].path),M=new as(N,P,lt);E.push(n[T].onComplete.bind(null,null,!0,M))}n[T].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(e)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(e,w);for(var T=0;T<E.length;T++)ju(E[T])}else{if(y==="datastale")for(var T=0;T<n.length;T++)n[T].status===$t.SENT_NEEDS_ABORT?n[T].status=$t.NEEDS_ABORT:n[T].status=$t.RUN;else{Ln("transaction at "+g.toString()+" failed: "+y);for(var T=0;T<n.length;T++)n[T].status=$t.NEEDS_ABORT,n[T].abortReason=y}r.rerunTransactions_(e)}},c)},t.prototype.rerunTransactions_=function(e){var n=this.getAncestorTransactionNode_(e),r=n.path(),i=this.buildTransactionQueue_(n);return this.rerunTransactionQueue_(i,r),r},t.prototype.rerunTransactionQueue_=function(e,n){if(e.length!==0){for(var r=[],i=[],s=e.filter(function(j){return j.status===$t.RUN}),a=s.map(function(j){return j.currentWriteId}),c=0;c<e.length;c++){var l=e[c],h=ie.relativePath(n,l.path),d=!1,v=void 0;if(K(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===$t.NEEDS_ABORT)d=!0,v=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===$t.RUN)if(l.retryCount>=q6)d=!0,v="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var g=this.getLatestState_(l.path,a);l.currentInputSnapshot=g;var y=e[c].update(g.val());if(y!==void 0){Of("transaction failed: Data returned ",y,l.path);var w=xt(y),E=typeof y=="object"&&y!=null&&mr(y,".priority");E||(w=w.updatePriority(g.getPriority()));var T=l.currentWriteId,N=this.generateServerValues(),P=b_(w,g,N);l.currentOutputSnapshotRaw=w,l.currentOutputSnapshotResolved=P,l.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(T),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(T,!0))}else d=!0,v="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(n,i),i=[],d&&(e[c].status=$t.COMPLETED,function(j){setTimeout(j,Math.floor(0))}(e[c].unwatcher),e[c].onComplete))if(v==="nodata"){var M=new wo(this,e[c].path),U=e[c].currentInputSnapshot,X=new as(U,M,lt);r.push(e[c].onComplete.bind(null,null,!1,X))}else r.push(e[c].onComplete.bind(null,new Error(v),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var c=0;c<r.length;c++)ju(r[c]);this.sendReadyTransactions_()}},t.prototype.getAncestorTransactionNode_=function(e){var n,r=this.transactionQueueTree_;for(n=e.getFront();n!==null&&r.getValue()===null;)r=r.subTree(n),e=e.popFront(),n=e.getFront();return r},t.prototype.buildTransactionQueue_=function(e){var n=[];return this.aggregateTransactionQueuesForNode_(e,n),n.sort(function(r,i){return r.order-i.order}),n},t.prototype.aggregateTransactionQueuesForNode_=function(e,n){var r=this,i=e.getValue();if(i!==null)for(var s=0;s<i.length;s++)n.push(i[s]);e.forEachChild(function(a){r.aggregateTransactionQueuesForNode_(a,n)})},t.prototype.pruneCompletedTransactionsBelowNode_=function(e){var n=this,r=e.getValue();if(r){for(var i=0,s=0;s<r.length;s++)r[s].status!==$t.COMPLETED&&(r[i]=r[s],i++);r.length=i,e.setValue(r.length>0?r:null)}e.forEachChild(function(a){n.pruneCompletedTransactionsBelowNode_(a)})},t.prototype.abortTransactions_=function(e){var n=this,r=this.getAncestorTransactionNode_(e).path(),i=this.transactionQueueTree_.subTree(e);return i.forEachAncestor(function(s){n.abortTransactionsOnNode_(s)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(s){n.abortTransactionsOnNode_(s)}),r},t.prototype.abortTransactionsOnNode_=function(e){var n=e.getValue();if(n!==null){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)if(n[a].status!==$t.SENT_NEEDS_ABORT){if(n[a].status===$t.SENT)K(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=$t.SENT_NEEDS_ABORT,n[a].abortReason="set";else if(K(n[a].status===$t.RUN,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(n[a].currentWriteId,!0)),n[a].onComplete){var c=null;r.push(n[a].onComplete.bind(null,new Error("set"),!1,c))}}s===-1?e.setValue(null):n.length=s+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),i);for(var a=0;a<r.length;a++)ju(r[a])}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KO=function(){function t(e){this.indexedFilter_=new xb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,s,a){return this.matches(new We(n,r))||(r=ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=ke.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(ke.EMPTY_NODE);var s=this;return n.forEachChild(lt,function(a,c){s.matches(new We(a,c))||(i=i.updateImmediateChild(a,ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W6=function(){function t(e){this.rangedFilter_=new KO(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,s,a){return this.rangedFilter_.matches(new We(n,r))||(r=ke.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ke.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(ke.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var g=this.index_.getCompare();v=function(T,N){return g(N,T)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(P,M){return c(M,P)}}else a=this.index_.getCompare();var l=e;K(l.numChildren()===this.limit_,"");var h=new We(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var g=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var w=y==null?1:a(y,h),E=v&&!r.isEmpty()&&w>=0;if(E)return s!=null&&s.trackChildChange(Mf(n,r,g)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Df(n,g));var T=l.updateImmediateChild(n,ke.EMPTY_NODE),N=y!=null&&this.rangedFilter_.matches(y);return N?(s!=null&&s.trackChildChange(pc(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}else return r.isEmpty()?e:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Df(d.name,d.node)),s.trackChildChange(pc(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,ke.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H6=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xo},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ki},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="",n},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(e,n){var r=this.copy_();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r},t.prototype.startAfter=function(e,n){var r;if(this.index_===Wi)typeof e=="string"&&(e=pA(e)),r=this.startAt(e,n);else{var i=void 0;n==null?i=Ki:i=pA(n),r=this.startAt(e,i)}return r.startAfterSet_=!0,r},t.prototype.endAt=function(e,n){var r=this.copy_();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r},t.prototype.endBefore=function(e,n){var r,i;return this.index_===Wi?(typeof e=="string"&&(e=vA(e)),i=this.endAt(e,n)):(n==null?r=xo:r=vA(n),i=this.endAt(e,r)),i.endBeforeSet_=!0,i},t.prototype.orderBy=function(e){var n=this.copy_();return n.index_=e,n},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;r===""&&(this.isViewFromLeft()?r=e.VIEW_FROM_LEFT:r=e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==lt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===lt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new xb(this.getIndex()):this.hasLimit()?new W6(this):new KO(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===lt?r=e.PRIORITY_INDEX:this.index_===Vw?r=e.VALUE_INDEX:this.index_===Wi?r=e.KEY_INDEX:(K(this.index_ instanceof Bw,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=tn(r),this.startSet_&&(n[e.START_AT]=tn(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+tn(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=tn(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+tn(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo=function(t){ee(e,t);function e(n,r){var i=this;if(!(n instanceof Ob))throw new Error("new Reference() no longer supported - use app.database().");return i=t.call(this,n,r,new H6,!1)||this,i}return e.prototype.getKey=function(){return Ee("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(n){return Ee("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof ie||(this.path.getFront()===null?SY("Reference.child",1,n,!1):Pf("Reference.child",1,n,!1)),new e(this.repo,this.path.child(n))},e.prototype.getParent=function(){Ee("Reference.parent",0,0,arguments.length);var n=this.path.parent();return n===null?null:new e(this.repo,n)},e.prototype.getRoot=function(){Ee("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(n,r){Ee("Reference.set",1,2,arguments.length),Vr("Reference.set",this.path),Ui("Reference.set",1,n,this.path,!1),pn("Reference.set",2,r,!0);var i=new hr;return this.repo.setWithPriority(this.path,n,null,i.wrapCallback(r)),i.promise},e.prototype.update=function(n,r){if(Ee("Reference.update",1,2,arguments.length),Vr("Reference.update",this.path),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Ln("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}IO("Reference.update",1,n,this.path,!1),pn("Reference.update",2,r,!0);var a=new hr;return this.repo.update(this.path,n,a.wrapCallback(r)),a.promise},e.prototype.setWithPriority=function(n,r,i){if(Ee("Reference.setWithPriority",2,3,arguments.length),Vr("Reference.setWithPriority",this.path),Ui("Reference.setWithPriority",1,n,this.path,!1),Fw("Reference.setWithPriority",2,r,!1),pn("Reference.setWithPriority",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var s=new hr;return this.repo.setWithPriority(this.path,n,r,s.wrapCallback(i)),s.promise},e.prototype.remove=function(n){return Ee("Reference.remove",0,1,arguments.length),Vr("Reference.remove",this.path),pn("Reference.remove",1,n,!0),this.set(null,n)},e.prototype.transaction=function(n,r,i){if(Ee("Reference.transaction",1,3,arguments.length),Vr("Reference.transaction",this.path),pn("Reference.transaction",1,n,!1),pn("Reference.transaction",2,r,!0),CY("Reference.transaction",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";i===void 0&&(i=!0);var s=new hr;typeof r=="function"&&s.promise.catch(function(){});var a=function(c,l,h){c?s.reject(c):s.resolve(new NY(l,h)),typeof r=="function"&&r(c,l,h)};return this.repo.startTransaction(this.path,n,a,i),s.promise},e.prototype.setPriority=function(n,r){Ee("Reference.setPriority",1,2,arguments.length),Vr("Reference.setPriority",this.path),Fw("Reference.setPriority",1,n,!1),pn("Reference.setPriority",2,r,!0);var i=new hr;return this.repo.setWithPriority(this.path.child(".priority"),n,null,i.wrapCallback(r)),i.promise},e.prototype.push=function(n,r){Ee("Reference.push",0,2,arguments.length),Vr("Reference.push",this.path),Ui("Reference.push",1,n,this.path,!0),pn("Reference.push",2,r,!0);var i=this.repo.serverTime(),s=kY(i),a=this.child(s),c=this.child(s),l;return n!=null?l=a.set(n,r).then(function(){return c}):l=Promise.resolve(c),a.then=l.then.bind(l),a.catch=l.then.bind(l,void 0),typeof r=="function"&&l.catch(function(){}),a},e.prototype.onDisconnect=function(){return Vr("Reference.onDisconnect",this.path),new AY(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Nb);Nb.__referenceConstructor=wo;qw.__referenceConstructor=wo;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G6=function(){function t(e,n){var r=this;this.app_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(i){return r.auth_=i})}return t.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(Sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout(function(){return e(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)}))},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ln(e)},t}(),UA=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $6="FIREBASE_DATABASE_EMULATOR_HOST",x_,Lf=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return x_||(x_=new t),x_},t.prototype.interrupt=function(){var e,n,r,i;try{for(var s=Bt(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Bt(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].interrupt()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,n,r,i;try{for(var s=Bt(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Bt(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].resume()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.applyEmulatorSettings=function(e,n,r){e.repoInfo_=new Cb(n+":"+r,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new UA)},t.prototype.databaseFromApp=function(e,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Vi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sn("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=Lw(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=process.env[$6]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=Lw(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new UA:new G6(e,n);SO("Invalid Firebase Database URL",1,a),a.path.isEmpty()||Vi("Database URL must point to the root of a Firebase Database (not including a child path).");var v=this.createRepo(c,e,d);return v.database},t.prototype.deleteRepo=function(e){var n=ci(this.repos_,e.app.name);(!n||ci(n,e.key)!==e)&&Vi("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete n[e.key]},t.prototype.createRepo=function(e,n,r){var i=ci(this.repos_,n.name);i||(i={},this.repos_[n.name]=i);var s=ci(i,e.toURLString());return s&&Vi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ob(e,this.useRestClient_,n,r),i[e.toURLString()]=s,s},t.prototype.forceRestClient=function(e){this.useRestClient_=e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pb=function(){function t(e){var n=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return x(n,void 0,void 0,function(){return k(this,function(r){return this.checkDeleted_("delete"),Lf.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},e instanceof Ob||Vi("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new wo(this.repo_,ie.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(e,n){if(this.checkDeleted_("useEmulator"),this.instanceStarted_){Vi("Cannot call useEmulator() after instance has already been initialized.");return}Lf.getInstance().applyEmulatorSettings(this.repoInternal_,e,n)},t.prototype.ref=function(e){return this.checkDeleted_("ref"),Ee("database.ref",0,1,arguments.length),e instanceof wo?this.refFromURL(e.toString()):e!==void 0?this.root_.child(e):this.root_},t.prototype.refFromURL=function(e){var n="database.refFromURL";this.checkDeleted_(n),Ee(n,1,1,arguments.length);var r=Lw(e,this.repo_.repoInfo_.nodeAdmin);SO(n,1,r);var i=r.repoInfo;return!this.repo_.repoInfo_.isCustomHost()&&i.host!==this.repo_.repoInfo_.host&&Vi(n+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},t.prototype.checkDeleted_=function(e){this.repoInternal_===null&&Vi("Cannot call "+e+" on a deleted database.")},t.prototype.goOffline=function(){Ee("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Ee("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y6=function(){fa.forceDisallow(),Rb.forceAllow()},z6=function(){Rb.forceDisallow()},K6=function(){return fa.isAvailable()},Q6=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},X6=function(t,e){t.repo.stats(e)},J6=function(t,e){t.repo.statsIncrementCounter(e)},Z6=function(t){return t.repo.dataUpdateCount},ez=function(t,e){return t.repo.interceptServerData_(e)};function tz(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,s=t.namespace,a=t.nodeAdmin,c=a===void 0?!1:a;$O(r);var l=new rO("auth-internal",new iO("database-standalone"));return l.setComponent(new yr("auth-internal",function(){return i},"PRIVATE")),{instance:Lf.getInstance().databaseFromApp(e,l,n,c),namespace:s}}var nz=Object.freeze({__proto__:null,forceLongPolling:Y6,forceWebSockets:z6,isWebSocketsAvailable:K6,setSecurityDebugCallback:Q6,stats:X6,statsIncrementCounter:J6,dataUpdateCount:Z6,interceptServerData:ez,initStandalone:tz});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rz=Ia;Ia.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ia.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var iz=YO,oz=function(t){var e=Ia.prototype.put;return Ia.prototype.put=function(n,r,i,s){s!==void 0&&(s=t()),e.call(this,n,r,i,s)},function(){Ia.prototype.put=e}},sz=Cb,az=function(t){return t.queryIdentifier()},uz=function(t){Lf.getInstance().forceRestClient(t)},cz=Object.freeze({__proto__:null,DataConnection:rz,RealTimeConnection:iz,hijackHash:oz,ConnectionTarget:sz,queryIdentifier:az,forceRestClient:uz}),lz="@firebase/database",fz="0.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hz=Pb.ServerValue;function dz(t){$O(t.SDK_VERSION),t.INTERNAL.registerComponent(new yr("database",function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return Lf.getInstance().databaseFromApp(r,i,n)},"PUBLIC").setServiceProps({Reference:wo,Query:Nb,Database:Pb,DataSnapshot:as,enableLogging:fO,INTERNAL:nz,ServerValue:hz,TEST_ACCESS:cz}).setMultipleInstances(!0)),t.registerVersion(lz,fz)}dz(oe);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ww=function(t,e){return Ww=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ww(t,e)};function pz(t,e){Ww(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function QO(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var vz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},de,Db=Db||{},xe=vz||self;function Bp(){}function Hw(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function lh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gz(t){return Object.prototype.hasOwnProperty.call(t,R_)&&t[R_]||(t[R_]=++mz)}var R_="closure_uid_"+(1e9*Math.random()>>>0),mz=0;function yz(t,e,n){return t.call.apply(t.bind,arguments)}function _z(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Fn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Fn=yz:Fn=_z,Fn.apply(null,arguments)}function qd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Zi(){return Date.now()}function ir(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function Os(){this.j=this.j,this.i=this.i}var wz=0;Os.prototype.j=!1;Os.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),wz!=0)&&gz(this)};Os.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var XO=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},JO=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function bz(t){e:{for(var e=lK,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function jA(t){return Array.prototype.concat.apply([],arguments)}function Mb(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function qp(t){return/^[\s\xa0]*$/.test(t)}var VA=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Zn(t,e){return t.indexOf(e)!=-1}function O_(t,e){return t<e?-1:t>e?1:0}var er;e:{var BA=xe.navigator;if(BA){var qA=BA.userAgent;if(qA){er=qA;break e}}er=""}function Lb(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ZO(t){var e={};for(var n in t)e[n]=t[n];return e}var WA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eP(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var s=0;s<WA.length;s++)n=WA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Fb(t){return Fb[" "](t),t}Fb[" "]=Bp;function Ez(t,e){var n=Sz;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Tz=Zn(er,"Opera"),Cs=Zn(er,"Trident")||Zn(er,"MSIE"),tP=Zn(er,"Edge"),Gw=tP||Cs,nP=Zn(er,"Gecko")&&!(Zn(er.toLowerCase(),"webkit")&&!Zn(er,"Edge"))&&!(Zn(er,"Trident")||Zn(er,"MSIE"))&&!Zn(er,"Edge"),Iz=Zn(er.toLowerCase(),"webkit")&&!Zn(er,"Edge");function rP(){var t=xe.document;return t?t.documentMode:void 0}var Wp;e:{var P_="",D_=function(){var t=er;if(nP)return/rv:([^\);]+)(\)|;)/.exec(t);if(tP)return/Edge\/([\d\.]+)/.exec(t);if(Cs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Iz)return/WebKit\/(\S+)/.exec(t);if(Tz)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(D_&&(P_=D_?D_[1]:""),Cs){var M_=rP();if(M_!=null&&M_>parseFloat(P_)){Wp=String(M_);break e}}Wp=P_}var Sz={};function iP(t){return Ez(t,function(){for(var e=0,n=VA(String(Wp)).split("."),r=VA(String(t)).split("."),i=Math.max(n.length,r.length),s=0;e==0&&s<i;s++){var a=n[s]||"",c=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],a[0].length==0&&c[0].length==0)break;e=O_(a[1].length==0?0:parseInt(a[1],10),c[1].length==0?0:parseInt(c[1],10))||O_(a[2].length==0,c[2].length==0)||O_(a[2],c[2]),a=a[3],c=c[3]}while(e==0)}return 0<=e})}var $w;if(xe.document&&Cs){var HA=rP();$w=HA||parseInt(Wp,10)||void 0}else $w=void 0;var oP=$w,Ub=!Cs||9<=Number(oP),Cz=Cs&&!iP("9"),Az=function(){if(!xe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{xe.addEventListener("test",Bp,e),xe.removeEventListener("test",Bp,e)}catch{}return t}();function Un(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}Un.prototype.b=function(){this.defaultPrevented=!0};function Ff(t,e){if(Un.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(nP){e:{try{Fb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Nz[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ir(Ff,Un);var Nz={2:"touch",3:"pen",4:"mouse"};Ff.prototype.b=function(){Ff.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Cz)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch{}};var fh="closure_listenable_"+(1e6*Math.random()|0),kz=0;function xz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++kz,this.Y=this.Z=!1}function Qv(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Xv(t){this.src=t,this.a={},this.b=0}Xv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.a[s],t||(t=this.a[s]=[],this.b++);var a=zw(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new xz(e,this.src,s,!!r,i),e.Z=n,t.push(e)),e};function Yw(t,e){var n=e.type;if(n in t.a){var r=t.a[n],i=XO(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Qv(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function zw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}var jb="closure_lm_"+(1e6*Math.random()|0),L_={};function Vb(t,e,n,r,i){if(r&&r.once)return aP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Vb(t,e[s],n,r,i);return null}return n=Wb(n),t&&t[fh]?t.va(e,n,lh(r)?!!r.capture:!!r,i):sP(t,e,n,!1,r,i)}function sP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=lh(i)?!!i.capture:!!i;if(a&&!Ub)return null;var c=qb(t);if(c||(t[jb]=c=new Xv(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=Rz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Az||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Rz(){var t=Oz,e=Ub?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function aP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aP(t,e[s],n,r,i);return null}return n=Wb(n),t&&t[fh]?t.wa(e,n,lh(r)?!!r.capture:!!r,i):sP(t,e,n,!0,r,i)}function uP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)uP(t,e[s],n,r,i);else r=lh(r)?!!r.capture:!!r,n=Wb(n),t&&t[fh]?(t=t.c,e=String(e).toString(),e in t.a&&(s=t.a[e],n=zw(s,n,r,i),-1<n&&(Qv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.a[e],t.b--)))):t&&(t=qb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=zw(e,n,r,i)),(n=-1<t?e[t]:null)&&Bb(n))}function Bb(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[fh])Yw(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qb(e))?(Yw(n,t),n.b==0&&(n.src=null,e[jb]=null)):Qv(t)}}}function cP(t){return t in L_?L_[t]:L_[t]="on"+t}function GA(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Bb(t),n.call(r,e)}function Oz(t,e){if(t.Y)return!0;if(!Ub){if(!e)e:{e=["window","event"];for(var n=xe,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new Ff(e,this),GA(t,e)}return GA(t,new Ff(e,this))}function qb(t){return t=t[jb],t instanceof Xv?t:null}var F_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wb(t){return typeof t=="function"?t:(t[F_]||(t[F_]=function(e){return t.handleEvent(e)}),t[F_])}function Or(){Os.call(this),this.c=new Xv(this),this.J=this,this.C=null}ir(Or,Os);Or.prototype[fh]=!0;de=Or.prototype;de.addEventListener=function(t,e,n,r){Vb(this,t,e,n,r)};de.removeEventListener=function(t,e,n,r){uP(this,t,e,n,r)};function Nn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,typeof e=="string")e=new Un(e,t);else if(e instanceof Un)e.target=e.target||t;else{var i=e;e=new Un(r,t),eP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.a=n[s];i=Wd(a,r,!0,e)&&i}if(a=e.a=t,i=Wd(a,r,!0,e)&&i,i=Wd(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.a=n[s],i=Wd(a,r,!1,e)&&i}de.G=function(){if(Or.X.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Qv(n[r]);delete t.a[e],t.b--}}this.C=null};de.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};de.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function Wd(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.Y&&a.capture==n){var c=a.listener,l=a.ca||a.src;a.Z&&Yw(t.c,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Hb=xe.JSON.stringify;function lP(){this.b=this.a=null}var fP=new(function(){function t(e,n){this.c=e,this.f=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new Gb},function(t){t.reset()});lP.prototype.add=function(t,e){var n=fP.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function Pz(){var t=dP,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Gb(){this.next=this.b=this.a=null}Gb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};Gb.prototype.reset=function(){this.next=this.b=this.a=null};function Dz(t){xe.setTimeout(function(){throw t},0)}function hP(t,e){Kw||Mz(),Qw||(Kw(),Qw=!0),dP.add(t,e)}var Kw;function Mz(){var t=xe.Promise.resolve(void 0);Kw=function(){t.then(Lz)}}var Qw=!1,dP=new lP;function Lz(){for(var t;t=Pz();){try{t.a.call(t.b)}catch(n){Dz(n)}var e=fP;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Qw=!1}function Jv(t,e){Or.call(this),this.b=t||1,this.a=e||xe,this.f=Fn(this.Za,this),this.g=Zi()}ir(Jv,Or);de=Jv.prototype;de.aa=!1;de.M=null;de.Za=function(){if(this.aa){var t=Zi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Nn(this,"tick"),this.aa&&($b(this),this.start()))}};de.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Zi())};function $b(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}de.G=function(){Jv.X.G.call(this),$b(this),delete this.a};function Yb(t,e,n){if(typeof t=="function")n&&(t=Fn(t,n));else if(t&&typeof t.handleEvent=="function")t=Fn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:xe.setTimeout(t,e||0)}function pP(t){t.a=Yb(function(){t.a=null,t.c&&(t.c=!1,pP(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var Fz=function(t){pz(e,t);function e(n,r){var i=t.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:pP(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(xe.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Os);function Uf(t){Os.call(this),this.b=t,this.a={}}ir(Uf,Os);var $A=[];function vP(t,e,n,r){Array.isArray(n)||(n&&($A[0]=n.toString()),n=$A);for(var i=0;i<n.length;i++){var s=Vb(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function gP(t){Lb(t.a,function(e,n){this.a.hasOwnProperty(n)&&Bb(e)},t),t.a={}}Uf.prototype.G=function(){Uf.X.G.call(this),gP(this)};Uf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zb(){this.a=!0}function Uz(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function jz(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function Vu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Bz(t,n)+(r?" "+r:"")})}function Vz(t,e){t.info(function(){return"TIMEOUT: "+e})}zb.prototype.info=function(){};function Bz(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Hb(n)}catch{return e}}var Ha={},YA=null;function Zv(){return YA=YA||new Or}Ha.Fa="serverreachability";function mP(t){Un.call(this,Ha.Fa,t)}ir(mP,Un);function jf(t){var e=Zv();Nn(e,new mP(e))}Ha.STAT_EVENT="statevent";function yP(t,e){Un.call(this,Ha.STAT_EVENT,t),this.stat=e}ir(yP,Un);function tr(t){var e=Zv();Nn(e,new yP(e,t))}Ha.Ga="timingevent";function _P(t){Un.call(this,Ha.Ga,t)}ir(_P,Un);function hh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return xe.setTimeout(function(){t()},e)}var eg={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},wP={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function bP(){}bP.prototype.a=null;function zA(t){var e;return(e=t.a)||(e=t.a={}),e}function EP(){}var dh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Kb(){Un.call(this,"d")}ir(Kb,Un);function Qb(){Un.call(this,"c")}ir(Qb,Un);var TP;function IP(){}ir(IP,bP);TP=new IP;function ph(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Uf(this),this.P=qz,t=Gw?125:void 0,this.R=new Jv(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var qz=45e3,SP={},Xw={};de=ph.prototype;de.setTimeout=function(t){this.P=t};function Jw(t,e,n){t.H=1,t.i=ng(Ro(e)),t.j=n,t.I=!0,CP(t,null)}function CP(t,e){t.u=Zi(),vh(t),t.l=Ro(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),OP(n.b,"t",r),t.D=0,t.a=QP(t.g,t.g.C?e:null),0<t.O&&(t.F=new Fz(Fn(t.Ca,t,t.a),t.O)),vP(t.J,t.a,"readystatechange",t.Xa),e=t.B?ZO(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),jf(),Uz(t.c,t.m,t.l,t.f,t.S,t.j)}de.Xa=function(t){t=t.target;var e=this.F;e&&ps(t)==3?e.f():this.Ca(t)};de.Ca=function(t){try{if(t==this.a)e:{var e=ps(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||e==3&&!Gw&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?jf(3):jf(2)),tg(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,jz(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,c=this.a;if((a=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qp(a)){var l=a;break t}}l=null}if(l)Vu(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Zw(this,l);else{this.b=!1,this.h=3,tr(12),Ju(this),Hp(this);break e}}this.I?(AP(this,e,s),Gw&&this.b&&e==3&&(vP(this.J,this.R,"tick",this.Wa),this.R.start())):(Vu(this.c,this.f,s,null),Zw(this,s)),e==4&&Ju(this),this.b&&!this.A&&(e==4?$P(this.g,this):(this.b=!1,vh(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,tr(12)):(this.h=0,tr(13)),Ju(this),Hp(this)}}}catch{}finally{}};function AP(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Wz(t,n);if(i==Xw){e==4&&(t.h=4,tr(14),r=!1),Vu(t.c,t.f,null,"[Incomplete Response]");break}else if(i==SP){t.h=4,tr(15),Vu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else Vu(t.c,t.f,i,null),Zw(t,i)}e==4&&n.length==0&&(t.h=1,tr(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),iE(e),e.F=!0,tr(11))):(Vu(t.c,t.f,n,"[Invalid Chunked Response]"),Ju(t),Hp(t))}de.Wa=function(){if(this.a){var t=ps(this.a),e=this.a.$();this.D<e.length&&(tg(this),AP(this,t,e),this.b&&t!=4&&vh(this))}};function Wz(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?Xw:(n=Number(e.substring(n,r)),isNaN(n)?SP:(r+=1,r+n>e.length?Xw:(e=e.substr(r,n),t.D=r+n,e)))}de.cancel=function(){this.A=!0,Ju(this)};function vh(t){t.T=Zi()+t.P,NP(t,t.P)}function NP(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=hh(Fn(t.Va,t),e)}function tg(t){t.o&&(xe.clearTimeout(t.o),t.o=null)}de.Va=function(){this.o=null;var t=Zi();0<=t-this.T?(Vz(this.c,this.l),this.H!=2&&(jf(),tr(17)),Ju(this),this.h=2,Hp(this)):NP(this,this.T-t)};function Hp(t){t.g.v==0||t.A||$P(t.g,t)}function Ju(t){tg(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,$b(t.R),gP(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Zw(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||e0(n.b,t))){if(n.I=t.N,!t.C&&e0(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)zp(n),ig(n);else break e;rE(n),tr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=hh(Fn(n.Sa,n),6e3));if(1>=MP(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else ga(n,11)}else if((t.C||n.a==t)&&zp(n),!qp(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var c=i[5];if(c!=null&&typeof c=="number"&&0<c){var l=1.5*c;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var h=t.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=l.b;!v.a&&(Zn(d,"spdy")||Zn(d,"quic")||Zn(d,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&(Zb(v,v.b),v.b=null))}if(l.A){var g=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;g&&(l.na=g,St(l.B,l.A,g))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Zi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),l=n;var y=t;if(l.la=KP(l,l.C?l.ga:null,l.fa),y.C){LP(l.b,y);var w=y,E=l.D;E&&w.setTimeout(E),w.o&&(tg(w),vh(w)),l.a=y}else HP(l);0<n.g.length&&og(n)}else i[0]!="stop"&&i[0]!="close"||ga(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?ga(n,7):nE(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}jf(4)}catch{}}function Hz(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(Hw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function Xb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hw(t)||typeof t=="string")JO(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(Hw(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Hz(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function qc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof qc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}de=qc.prototype;de.K=function(){Jb(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};de.L=function(){return Jb(this),this.a.concat()};function Jb(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Oa(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Oa(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}de.get=function(t,e){return Oa(this.b,t)?this.b[t]:e};de.set=function(t,e){Oa(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};de.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Oa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var kP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Gz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Pa(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Pa){this.a=e!==void 0?e:t.a,Gp(this,t.f),this.j=t.j,$p(this,t.c),Yp(this,t.h),this.g=t.g,e=t.b;var n=new Vf;n.c=e.c,e.a&&(n.a=new qc(e.a),n.b=e.b),KA(this,n),this.i=t.i}else t&&(n=String(t).match(kP))?(this.a=!!e,Gp(this,n[1]||"",!0),this.j=ff(n[2]||""),$p(this,n[3]||"",!0),Yp(this,n[4]),this.g=ff(n[5]||"",!0),KA(this,n[6]||"",!0),this.i=ff(n[7]||"")):(this.a=!!e,this.b=new Vf(null,this.a))}Pa.prototype.toString=function(){var t=[],e=this.f;e&&t.push(tf(e,QA,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(tf(e,QA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(tf(n,n.charAt(0)=="/"?Qz:Kz,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",tf(n,Jz)),t.join("")};function Ro(t){return new Pa(t)}function Gp(t,e,n){t.f=n?ff(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function $p(t,e,n){t.c=n?ff(e,!0):e}function Yp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function KA(t,e,n){e instanceof Vf?(t.b=e,Zz(t.b,t.a)):(n||(e=tf(e,Xz)),t.b=new Vf(e,t.a))}function St(t,e,n){t.b.set(e,n)}function ng(t){return St(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Zi()).toString(36)),t}function $z(t){return t instanceof Pa?Ro(t):new Pa(t,void 0)}function Yz(t,e,n,r){var i=new Pa(null,void 0);return t&&Gp(i,t),e&&$p(i,e),n&&Yp(i,n),r&&(i.g=r),i}function ff(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function tf(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,zz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zz(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var QA=/[#\/\?@]/g,Kz=/[#\?:]/g,Qz=/[#\?]/g,Xz=/[#\?@]/g,Jz=/#/g;function Vf(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ps(t){t.a||(t.a=new qc,t.b=0,t.c&&Gz(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}de=Vf.prototype;de.add=function(t,e){Ps(this),this.c=null,t=Wc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function xP(t,e){Ps(t),e=Wc(t,e),Oa(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Oa(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Jb(t)))}function RP(t,e){return Ps(t),e=Wc(t,e),Oa(t.a.b,e)}de.forEach=function(t,e){Ps(this),this.a.forEach(function(n,r){JO(n,function(i){t.call(e,i,r,this)},this)},this)};de.L=function(){Ps(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};de.K=function(t){Ps(this);var e=[];if(typeof t=="string")RP(this,t)&&(e=jA(e,this.a.get(Wc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=jA(e,t[n])}return e};de.set=function(t,e){return Ps(this),this.c=null,t=Wc(this,t),RP(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};de.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function OP(t,e,n){xP(t,e),0<n.length&&(t.c=null,t.a.set(Wc(t,e),Mb(n)),t.b+=n.length)}de.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),t.push(a)}}return this.c=t.join("&")};function Wc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zz(t,e){e&&!t.f&&(Ps(t),t.c=null,t.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(xP(this,r),OP(this,i,n))},t)),t.f=e}var eK=function(){function t(e,n){this.b=e,this.a=n}return t}();function PP(t){this.g=t||tK,xe.PerformanceNavigationTiming?(t=xe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(xe.ia&&xe.ia.ya&&xe.ia.ya()&&xe.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var tK=10;function DP(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function MP(t){return t.b?1:t.a?t.a.size:0}function e0(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function Zb(t,e){t.a?t.a.add(e):t.b=e}function LP(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}PP.prototype.cancel=function(){var t,e;if(this.c=FP(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=QO(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function FP(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var i=QO(t.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Mb(t.c)}function eE(){}eE.prototype.stringify=function(t){return xe.JSON.stringify(t,void 0)};eE.prototype.parse=function(t){return xe.JSON.parse(t,void 0)};function nK(){this.a=new eE}function rK(t,e,n){var r=n||"";try{Xb(t,function(i,s){var a=i;lh(i)&&(a=Hb(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function iK(t,e){var n=new zb;if(xe.Image){var r=new Image;r.onload=qd(Hd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=qd(Hd,n,r,"TestLoadImage: error",!1,e),r.onabort=qd(Hd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=qd(Hd,n,r,"TestLoadImage: timeout",!1,e),xe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}var oK=xe.JSON.parse;function un(t){Or.call(this),this.headers=new qc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=sK,this.D=this.F=!1}ir(un,Or);var sK="",aK=/^https?$/i,uK=["POST","PUT"];de=un.prototype;de.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?zA(this.H):zA(TP),this.a.onreadystatechange=Fn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){XA(this,s);return}t=n||"";var i=new qc(this.headers);r&&Xb(r,function(s,a){i.set(a,s)}),r=bz(i.L()),n=xe.FormData&&t instanceof xe.FormData,!(0<=XO(uK,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{VP(this),0<this.o&&((this.D=cK(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Fn(this.xa,this)):this.m=Yb(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){XA(this,s)}};function cK(t){return Cs&&iP(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function lK(t){return t.toLowerCase()=="content-type"}de.xa=function(){typeof Db<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Nn(this,"timeout"),this.abort(8))};function XA(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,UP(t),rg(t)}function UP(t){t.u||(t.u=!0,Nn(t,"complete"),Nn(t,"error"))}de.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Nn(this,"complete"),Nn(this,"abort"),rg(this))};de.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),rg(this,!0)),un.X.G.call(this)};de.za=function(){this.j||(this.A||this.l||this.g?jP(this):this.Ua())};de.Ua=function(){jP(this)};function jP(t){if(t.b&&typeof Db<"u"&&(!t.s[1]||ps(t)!=4||t.W()!=2)){if(t.l&&ps(t)==4)Yb(t.za,0,t);else if(Nn(t,"readystatechange"),ps(t)==4){t.b=!1;try{{var e=t.W();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var s=String(t.B).match(kP)[1]||null;if(!s&&xe.self&&xe.self.location){var a=xe.self.location.protocol;s=a.substr(0,a.length-1)}i=!aK.test(s?s.toLowerCase():"")}r=i}var c=r}if(c)Nn(t,"complete"),Nn(t,"success");else{t.h=6;try{var l=2<ps(t)?t.a.statusText:""}catch{l=""}t.f=l+" ["+t.W()+"]",UP(t)}}finally{rg(t)}}}}function rg(t,e){if(t.a){VP(t);var n=t.a,r=t.s[0]?Bp:null;t.a=null,t.s=null,e||Nn(t,"ready");try{n.onreadystatechange=r}catch{}}}function VP(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(xe.clearTimeout(t.m),t.m=null)}function ps(t){return t.a?t.a.readyState:0}de.W=function(){try{return 2<ps(this)?this.a.status:-1}catch{return-1}};de.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};de.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),oK(e)}};de.ua=function(){return this.h};de.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function fK(t){var e="";return Lb(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function tE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fK(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):St(t,e,n))}function Yl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function BP(t){this.pa=0,this.g=[],this.c=new zb,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Yl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Yl("baseRetryDelayMs",5e3,t),this.Ra=Yl("retryDelaySeedMs",1e4,t),this.Ma=Yl("forwardChannelMaxRetries",2,t),this.ma=Yl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new PP(t&&t.concurrentRequestLimit),this.ka=new nK,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}de=BP.prototype;de.ha=8;de.v=1;function nE(t){if(qP(t),t.v==3){var e=t.R++,n=Ro(t.B);St(n,"SID",t.J),St(n,"RID",e),St(n,"TYPE","terminate"),gh(t,n),e=new ph(t,t.c,e,void 0),e.H=2,e.i=ng(Ro(n)),n=!1,xe.navigator&&xe.navigator.sendBeacon&&(n=xe.navigator.sendBeacon(e.i.toString(),"")),!n&&xe.Image&&(new Image().src=e.i,n=!0),n||(e.a=QP(e.g,null),e.a.ba(e.i)),e.u=Zi(),vh(e)}zP(t)}function ig(t){t.a&&(iE(t),t.a.cancel(),t.a=null)}function qP(t){ig(t),t.j&&(xe.clearTimeout(t.j),t.j=null),zp(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&xe.clearTimeout(t.h),t.h=null)}function U_(t,e){t.g.push(new eK(t.Oa++,e)),t.v==3&&og(t)}function og(t){DP(t.b)||t.h||(t.h=!0,hP(t.Ba,t),t.u=0)}function hK(t,e){return MP(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.La?0:t.Ma)?!1:(t.h=hh(Fn(t.Ba,t,e),YP(t,t.u)),t.u++,!0)}de.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new ph(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=ZO(n),eP(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=WP(this,e,r),i=Ro(this.B),St(i,"RID",t),St(i,"CVER",22),this.A&&St(i,"X-HTTP-Session-Id",this.A),gh(this,i),this.i&&n&&tE(i,this.i,n),Zb(this.b,e),this.Ia&&St(i,"TYPE","init"),this.da?(St(i,"$req",r),St(i,"SID","null"),e.U=!0,Jw(e,i,null)):Jw(e,i,r),this.v=2}}else this.v==3&&(t?JA(this,t):this.g.length==0||DP(this.b)||JA(this))};function JA(t,e){var n;e?n=e.f:n=t.R++;var r=Ro(t.B);St(r,"SID",t.J),St(r,"RID",n),St(r,"AID",t.P),gh(t,r),t.i&&t.l&&tE(r,t.i,t.l),n=new ph(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=WP(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Zb(t.b,n),Jw(n,r,e)}function gh(t,e){t.f&&Xb({},function(n,r){St(e,r,n)})}function WP(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Fn(t.f.Ja,t.f,t):null;e:for(var i=t.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].b,d=i[l].a;if(h-=s,0>h)s=Math.max(0,i[l].b-100),c=!1;else try{rK(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function HP(t){t.a||t.j||(t.T=1,hP(t.Aa,t),t.o=0)}function rE(t){return t.a||t.j||3<=t.o?!1:(t.T++,t.j=hh(Fn(t.Aa,t),YP(t,t.o)),t.o++,!0)}de.Aa=function(){if(this.j=null,GP(this),this.U&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=hh(Fn(this.Ta,this),t)}};de.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,tr(10),ig(this),GP(this))};function iE(t){t.s!=null&&(xe.clearTimeout(t.s),t.s=null)}function GP(t){t.a=new ph(t,t.c,"rpc",t.T),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=Ro(t.la);St(e,"RID","rpc"),St(e,"SID",t.J),St(e,"CI",t.H?"0":"1"),St(e,"AID",t.P),gh(t,e),St(e,"TYPE","xmlhttp"),t.i&&t.l&&tE(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ng(Ro(e)),n.j=null,n.I=!0,CP(n,t)}de.Sa=function(){this.m!=null&&(this.m=null,ig(this),rE(this),tr(19))};function zp(t){t.m!=null&&(xe.clearTimeout(t.m),t.m=null)}function $P(t,e){var n=null;if(t.a==e){zp(t),iE(t),t.a=null;var r=2}else if(e0(t.b,e))n=e.s,LP(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=Zi()-e.u;var i=t.u;r=Zv(),Nn(r,new _P(r)),og(t)}else HP(t);else if(i=e.h,i==3||i==0&&0<t.I||!(r==1&&hK(t,e)||r==2&&rE(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ga(t,5);break;case 4:ga(t,10);break;case 3:ga(t,6);break;default:ga(t,2)}}}function YP(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ga(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=Fn(t.Ya,t);n||(n=new Pa("//www.google.com/images/cleardot.gif"),xe.location&&xe.location.protocol=="http"||Gp(n,"https"),ng(n)),iK(n.toString(),r)}else tr(2);t.v=0,t.f&&t.f.ra(e),zP(t),qP(t)}de.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),tr(2)):(this.c.info("Failed to ping google.com"),tr(1))};function zP(t){t.v=0,t.I=-1,t.f&&((FP(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,Mb(t.g),t.g.length=0),t.f.qa())}function KP(t,e,n){var r=$z(n);if(r.c!="")e&&$p(r,e+"."+r.c),Yp(r,r.h);else{var i=xe.location;r=Yz(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Lb(t.V,function(s,a){St(r,a,s)}),e=t.A,n=t.na,e&&n&&St(r,e,n),St(r,"VER",t.ha),gh(t,r),r}function QP(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new un(t.Na),e.F=t.C,e}function XP(){}de=XP.prototype;de.ta=function(){};de.sa=function(){};de.ra=function(){};de.qa=function(){};de.Ja=function(){};function Kp(){if(Cs&&!(10<=Number(oP)))throw Error("Environmental error: no available transport.")}Kp.prototype.a=function(t,e){return new Pr(t,e)};function Pr(t,e){Or.call(this),this.a=new BP(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!qp(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!qp(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Hc(this)}ir(Pr,Or);Pr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;tr(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=KP(t,null,t.fa),og(t)};Pr.prototype.close=function(){nE(this.a)};Pr.prototype.h=function(t){if(typeof t=="string"){var e={};e.__data__=t,U_(this.a,e)}else this.l?(e={},e.__data__=Hb(t),U_(this.a,e)):U_(this.a,t)};Pr.prototype.G=function(){this.a.f=null,delete this.f,nE(this.a),delete this.a,Pr.X.G.call(this)};function JP(t){Kb.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}ir(JP,Kb);function ZP(){Qb.call(this),this.status=1}ir(ZP,Qb);function Hc(t){this.a=t}ir(Hc,XP);Hc.prototype.ta=function(){Nn(this.a,"a")};Hc.prototype.sa=function(t){Nn(this.a,new JP(t))};Hc.prototype.ra=function(t){Nn(this.a,new ZP)};Hc.prototype.qa=function(){Nn(this.a,"b")};Kp.prototype.createWebChannel=Kp.prototype.a;Pr.prototype.send=Pr.prototype.h;Pr.prototype.open=Pr.prototype.g;Pr.prototype.close=Pr.prototype.close;eg.NO_ERROR=0;eg.TIMEOUT=8;eg.HTTP_ERROR=6;wP.COMPLETE="complete";EP.EventType=dh;dh.OPEN="a";dh.CLOSE="b";dh.ERROR="c";dh.MESSAGE="d";Or.prototype.listen=Or.prototype.va;un.prototype.listenOnce=un.prototype.wa;un.prototype.getLastError=un.prototype.Qa;un.prototype.getLastErrorCode=un.prototype.ua;un.prototype.getStatus=un.prototype.W;un.prototype.getResponseJson=un.prototype.Pa;un.prototype.getResponseText=un.prototype.$;un.prototype.send=un.prototype.ba;var dK=function(){return new Kp},pK=function(){return Zv()},j_=eg,vK=wP,gK=Ha,ZA={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Gd=EP,mK=un;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yK=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Qp=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),vi=new Bc("@firebase/firestore");function t0(){return vi.logLevel}function J(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vi.logLevel<=Le.DEBUG){var r=e.map(oE);vi.debug.apply(vi,Wt(["Firestore (8.2.7): "+t],r))}}function Kt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vi.logLevel<=Le.ERROR){var r=e.map(oE);vi.error.apply(vi,Wt(["Firestore (8.2.7): "+t],r))}}function Xp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vi.logLevel<=Le.WARN){var r=e.map(oE);vi.warn.apply(vi,Wt(["Firestore (8.2.7): "+t],r))}}function oE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+t;throw Kt(e),new Error(e)}function Ie(t,e){t||he()}function te(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _K(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eD=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=_K(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length));return r},t}();function qe(t,e){return t<e?-1:t>e?1:0}function vc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function tD(t){return t+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function t(e){this.h=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.h,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(e){return qe(this.h,e.h)},t.prototype.isEqual=function(e){return this.h===e.h},t}();nr.T=new nr("");var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ee(e,t),e}(Error),Da=function(){function t(e){this.I=e}return t.fromBase64String=function(e){try{return new t(nr.fromBase64String(e))}catch(n){throw new G(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(nr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this.I.isEqual(e.I)},t}(),Cr=function(){function t(e){this.uid=e}return t.prototype.m=function(){return this.uid!=null},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();Cr.UNAUTHENTICATED=new Cr(null),Cr.R=new Cr("google-credentials-uid"),Cr.P=new Cr("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wK=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},eN=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(e){this.V=e,e(Cr.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),bK=function(){function t(e){var n=this;this.D=null,this.currentUser=Cr.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),e.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return t.prototype.getToken=function(){var e=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.N!==n?(J("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Ie(typeof i.accessToken=="string"),new wK(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(e){this.V=e,this.C&&e(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string"),new Cr(e)},t}(),EK=function(){function t(e,n){this.F=e,this.O=n,this.type="FirstParty",this.user=Cr.P}return Object.defineProperty(t.prototype,"g",{get:function(){var e={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),e},enumerable:!1,configurable:!0}),t}(),TK=function(){function t(e,n){this.F=e,this.O=n}return t.prototype.getToken=function(){return Promise.resolve(new EK(this.F,this.O))},t.prototype.v=function(e){e(Cr.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),kr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return t.prototype.M=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.L&&this.L(e),e},t}();kr.q=-1;var pr=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ue=function(){function t(e){this.timestamp=e}return t.K=function(e){return new t(e)},t.min=function(){return new t(new pr(0,0))},t.prototype._=function(e){return this.timestamp.U(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),nD=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.G=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.H(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(e){return e=e===void 0?1:e,this.J(this.segments,this.offset+e,this.length-e)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.et=function(){return this.length===0},t.prototype.nt=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.st=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Ze=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.J=function(n,r,i){return new e(n,r,i)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new e(i)},e.ct=function(){return new e([])},e}(nD),IK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wi=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.J=function(n,r,i){return new e(n,r,i)},e.at=function(n){return IK.test(n)},e.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},e.ht=function(){return new e(["__name__"])},e.lt=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new G(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new G(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.ct=function(){return new e([])},e}(nD),ge=function(){function t(e){this.path=e}return t._t=function(e){return new t(Ze.ot(e))},t.ft=function(e){return new t(Ze.ot(e).Y(5))},t.prototype.dt=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Ze.H(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.H=function(e,n){return Ze.H(e.path,n.path)},t.wt=function(e){return e.length%2==0},t.Et=function(e){return new t(new Ze(e.slice()))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rD(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gc=function(){function t(e){this.fields=e,e.sort(wi.H)}return t.prototype.Tt=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(e))return!0;return!1},t.prototype.isEqual=function(e){return vc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),SK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t){if(Ie(!!t),typeof t=="string"){var e=0,n=SK.exec(t);if(Ie(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mc(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iD(t){var e=t.mapValue.fields.__previous_value__;return sE(e)?iD(e):e}function Bf(t){var e=As(t.mapValue.fields.__local_write_time__.timestampValue);return new pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){return t==null}function Jp(t){return t===0&&1/t==-1/0}function oD(t){return typeof t=="number"&&Number.isInteger(t)&&!Jp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sE(t)?4:10:he()}function Qi(t,e){var n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bf(t).isEqual(Bf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=As(r.timestampValue),a=As(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return mc(r.bytesValue).isEqual(mc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return zt(r.geoPointValue.latitude)===zt(i.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return zt(r.integerValue)===zt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=zt(r.doubleValue),a=zt(i.doubleValue);return s===a?Jp(s)===Jp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return vc(t.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(tN(s)!==tN(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Qi(s[c],a[c])))return!1;return!0}(t,e);default:return he()}}function qf(t,e){return(t.values||[]).find(function(n){return Qi(n,e)})!==void 0}function yc(t,e){var n=Ns(t),r=Ns(e);if(n!==r)return qe(n,r);switch(n){case 0:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(i,s){var a=zt(i.integerValue||i.doubleValue),c=zt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return nN(t.timestampValue,e.timestampValue);case 4:return nN(Bf(t),Bf(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(i,s){var a=mc(i),c=mc(s);return a._(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=qe(a[l],c[l]);if(h!==0)return h}return qe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){var a=qe(zt(i.latitude),zt(s.latitude));return a!==0?a:qe(zt(i.longitude),zt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=yc(a[l],c[l]);if(h)return h}return qe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=qe(c[d],h[d]);if(v!==0)return v;var g=yc(a[c[d]],l[h[d]]);if(g!==0)return g}return qe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw he()}}function nN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);var n=As(t),r=As(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function aE(t){return n0(t)}function n0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=As(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ge.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=n0(c[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+n0(r.fields[l])}return i+"}"}(t.mapValue):he();var e,n}function Zp(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function r0(t){return!!t&&"integerValue"in t}function uE(t){return!!t&&"arrayValue"in t}function rN(t){return!!t&&"nullValue"in t}function iN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cE(t){return!!t&&"mapValue"in t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ks=function(){function t(e){this.proto=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.et())return this.proto;for(var n=this.proto,r=0;r<e.length-1;++r)if(!n.mapValue.fields||!cE(n=n.mapValue.fields[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.tt()])||null},t.prototype.isEqual=function(e){return Qi(this.proto,e.proto)},t}(),yh=function(){function t(e){e===void 0&&(e=ks.empty()),this.It=e,this.At=new Map}return t.prototype.set=function(e,n){return this.Rt(e,n),this},t.prototype.delete=function(e){return this.Rt(e,null),this},t.prototype.Rt=function(e,n){for(var r=this.At,i=0;i<e.length-1;++i){var s=e.get(i),a=r.get(s);a instanceof Map?r=a:a&&Ns(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(e.tt(),n)},t.prototype.Pt=function(){var e=this.yt(wi.ct(),this.At);return e!=null?new ks(e):this.It},t.prototype.yt=function(e,n){var r=this,i=!1,s=this.It.field(e),a=cE(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,l){if(c instanceof Map){var h=r.yt(e.child(l),c);h!=null&&(a[l]=h,i=!0)}else c!==null?(a[l]=c,i=!0):a.hasOwnProperty(l)&&(delete a[l],i=!0)}),i?{mapValue:{fields:a}}:null},t}();function sD(t){var e=[];return mh(t.fields||{},function(n,r){var i=new wi([n]);if(cE(r)){var s=sD(r.mapValue).fields;if(s.length===0)e.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];e.push(i.child(l))}}else e.push(i)}),new gc(e)}var lE=function(t,e){this.key=t,this.version=e},ft=function(t){function e(n,r,i,s){var a=this;return(a=t.call(this,n,r)||this).gt=i,a.Vt=!!s.Vt,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return ee(e,t),e.prototype.field=function(n){return this.gt.field(n)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(lE),sn=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return ee(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(lE),fE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(lE),CK=function(t,e,n,r,i,s,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.vt=null};function oN(t,e,n,r,i,s,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new CK(t,e,n,r,i,s,a)}function _h(t){var e=te(t);if(e.vt===null){var n=e.path.rt();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+aE(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),Ga(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=tv(e.startAt)),e.endAt&&(n+="|ub:",n+=tv(e.endAt)),e.vt=n}return e.vt}function sg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!DK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],s=e.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Qi(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aN(t.startAt,e.startAt)&&aN(t.endAt,e.endAt)}function ev(t){return ge.wt(t.path)&&t.collectionGroup===null&&t.filters.length===0}var xr=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).field=n,s.op=r,s.value=i,s}return ee(e,t),e.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new AK(n,r,i):r==="array-contains"?new xK(n,i):r==="in"?new RK(n,i):r==="not-in"?new OK(n,i):r==="array-contains-any"?new PK(n,i):new e(n,r,i)},e.St=function(n,r,i){return r==="in"?new NK(n,i):new kK(n,i)},e.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(yc(r,this.value)):r!==null&&Ns(this.value)===Ns(r)&&this.Dt(yc(r,this.value))},e.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return he()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),AK=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,i)||this).key=ge.ft(i.referenceValue),s}return ee(e,t),e.prototype.matches=function(n){var r=ge.H(n.key,this.key);return this.Dt(r)},e}(xr),NK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=aD("in",r),i}return ee(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(xr),kK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=aD("not-in",r),i}return ee(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(xr);function aD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ge.ft(r.referenceValue)})}var xK=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return uE(r)&&qf(r.arrayValue,this.value)},e}(xr),RK=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&qf(this.value.arrayValue,r)},e}(xr),OK=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return ee(e,t),e.prototype.matches=function(n){if(qf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!qf(this.value.arrayValue,r)},e}(xr),PK=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!uE(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return qf(r.value.arrayValue,s)})},e}(xr),Wf=function(t,e){this.position=t,this.before=e};function tv(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return aE(e)}).join(",")}var Zu=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function DK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function sN(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],a=t.position[i];if(r=s.field.ut()?ge.H(ge.ft(a.referenceValue),n.key):yc(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function aN(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Qi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo=function(t,e,n,r,i,s,a,c){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.Nt=null,this.$t=null,this.startAt,this.endAt};function uD(t,e,n,r,i,s,a,c){return new jo(t,e,n,r,i,s,a,c)}function Gc(t){return new jo(t)}function dp(t){return!Ga(t.limit)&&t.limitType==="F"}function nv(t){return!Ga(t.limit)&&t.limitType==="L"}function hE(t){return t.xt.length>0?t.xt[0].field:null}function dE(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function pE(t){return t.collectionGroup!==null}function _c(t){var e=te(t);if(e.Nt===null){e.Nt=[];var n=dE(e),r=hE(e);if(n!==null&&r===null)n.ut()||e.Nt.push(new Zu(n)),e.Nt.push(new Zu(wi.ht(),"asc"));else{for(var i=!1,s=0,a=e.xt;s<a.length;s++){var c=a[s];e.Nt.push(c),c.field.ut()&&(i=!0)}if(!i){var l=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Zu(wi.ht(),l))}}}return e.Nt}function Yr(t){var e=te(t);if(!e.$t)if(e.limitType==="F")e.$t=oN(e.path,e.collectionGroup,_c(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=_c(e);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Zu(s.field,a))}var c=e.endAt?new Wf(e.endAt.position,!e.endAt.before):null,l=e.startAt?new Wf(e.startAt.position,!e.startAt.before):null;e.$t=oN(e.path,e.collectionGroup,n,e.filters,e.limit,c,l)}return e.$t}function cD(t,e,n){return new jo(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wh(t,e){return sg(Yr(t),Yr(e))&&t.limitType===e.limitType}function lD(t){return _h(Yr(t))+"|lt:"+t.limitType}function i0(t){return"Query(target="+function(e){var n=e.path.rt();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+aE(i.value);var i}).join(", ")+"]"),Ga(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+tv(e.startAt)),e.endAt&&(n+=", endAt: "+tv(e.endAt)),"Target("+n+")"}(Yr(t))+"; limitType="+t.limitType+")"}function bh(t,e){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):ge.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(t,e)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var a=s[i];if(!a.field.ut()&&r.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!sN(n.startAt,_c(n),r))&&(!n.endAt||!sN(n.endAt,_c(n),r))}(t,e)}function fD(t){return function(e,n){for(var r=!1,i=0,s=_c(t);i<s.length;i++){var a=s[i],c=MK(a,e,n);if(c!==0)return c;r=r||a.field.ut()}return 0}}function MK(t,e,n){var r=t.field.ut()?ge.H(e.key,n.key):function(i,s,a){var c=s.field(i),l=a.field(i);return c!==null&&l!==null?yc(c,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=Ue.min()),a===void 0&&(a=Ue.min()),c===void 0&&(c=nr.T),this.target=e,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jp(e)?"-0":e}}function dD(t){return{integerValue:""+t}}function pD(t,e){return oD(e)?dD(e):hD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ug=function(){this.qt=void 0};function LK(t,e,n){return t instanceof wc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ma?gD(t,e):t instanceof La?mD(t,e):function(r,i){var s=vD(r,i),a=uN(s)+uN(r.Ut);return r0(s)&&r0(r.Ut)?dD(a):hD(r.Qt,a)}(t,e)}function FK(t,e,n){return t instanceof Ma?gD(t,e):t instanceof La?mD(t,e):n}function vD(t,e){return t instanceof bc?r0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var wc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e}(ug),Ma=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return ee(e,t),e}(ug);function gD(t,e){for(var n=yD(e),r=function(a){n.some(function(c){return Qi(c,a)})||n.push(a)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var La=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return ee(e,t),e}(ug);function mD(t,e){for(var n=yD(e),r=function(a){n=n.filter(function(c){return!Qi(c,a)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var bc=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Qt=n,i.Ut=r,i}return ee(e,t),e}(ug);function uN(t){return zt(t.integerValue||t.doubleValue)}function yD(t){return uE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eh=function(t,e){this.field=t,this.transform=e},UK=function(t,e){this.version=t,this.transformResults=e},Dn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function pp(t,e){return t.updateTime!==void 0?e instanceof ft&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e instanceof ft}var cg=function(){};function jK(t,e,n){return t instanceof Th?function(r,i,s){var a=r.value;if(s.transformResults){var c=fN(r.fieldTransforms,i,s.transformResults);a=vE(r.fieldTransforms,a,c)}return new ft(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ds?function(r,i,s){if(!pp(r.jt,i))return new fE(r.key,s.version);var a=_D(r,i,s.transformResults?fN(r.fieldTransforms,i,s.transformResults):[]);return new ft(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):function(r,i,s){return new sn(r.key,s.version,{hasCommittedMutations:!0})}(t,0,n)}function o0(t,e,n){return t instanceof Th?function(r,i,s){if(!pp(r.jt,i))return i;var a=r.value,c=hN(r.fieldTransforms,s,i);a=vE(r.fieldTransforms,a,c);var l=lN(i);return new ft(r.key,l,a,{Vt:!0})}(t,e,n):t instanceof Ds?function(r,i,s){if(!pp(r.jt,i))return i;var a=lN(i),c=_D(r,i,hN(r.fieldTransforms,s,i));return new ft(r.key,a,c,{Vt:!0})}(t,e,n):function(r,i){return pp(r.jt,i)?new sn(r.key,Ue.min()):i}(t,e)}function VK(t,e){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var c=a[s],l=r instanceof ft?r.field(c.field):void 0,h=vD(c.transform,l||null);h!=null&&(i=i==null?new yh().set(c.field,h):i.set(c.field,h))}return i?i.Pt():null}(t.fieldTransforms,e)}function cN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&vc(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof Ma&&h instanceof Ma||l instanceof La&&h instanceof La?vc(l.elements,h.elements,Qi):l instanceof bc&&h instanceof bc?Qi(l.Ut,h.Ut):l instanceof wc&&h instanceof wc}(a.transform,c.transform)}(i,s)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function lN(t){return t instanceof ft?t.version:Ue.min()}var Th=function(t){function e(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.jt=i,a.fieldTransforms=s,a.type=0,a}return ee(e,t),e}(cg),Ds=function(t){function e(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=t.call(this)||this).key=n,c.data=r,c.Gt=i,c.jt=s,c.fieldTransforms=a,c.type=1,c}return ee(e,t),e}(cg);function _D(t,e,n){var r;return r=function(i,s){var a=new yh(s);return i.Gt.fields.forEach(function(c){if(!c.et()){var l=i.data.field(c);l!==null?a.set(c,l):a.delete(c)}}),a.Pt()}(t,r=e instanceof ft?e.data():ks.empty()),r=vE(t.fieldTransforms,r,n)}function fN(t,e,n){var r=[];Ie(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],a=s.transform,c=null;e instanceof ft&&(c=e.field(s.field)),r.push(FK(a,c,n[i]))}return r}function hN(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var a=s[i],c=a.transform,l=null;n instanceof ft&&(l=n.field(a.field)),r.push(LK(c,l,e))}return r}function vE(t,e,n){for(var r=new yh(e),i=0;i<t.length;i++){var s=t[i];r.set(s.field,n[i])}return r.Pt()}var Yt,He,Ih=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return ee(e,t),e}(cg),gE=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return ee(e,t),e}(cg),BK=function(t){this.count=t};function wD(t){switch(t){case D.OK:return he();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return he()}}function bD(t){if(t===void 0)return Kt("GRPC error has no .code"),D.UNKNOWN;switch(t){case Yt.OK:return D.OK;case Yt.CANCELLED:return D.CANCELLED;case Yt.UNKNOWN:return D.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return D.INTERNAL;case Yt.UNAVAILABLE:return D.UNAVAILABLE;case Yt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Yt.NOT_FOUND:return D.NOT_FOUND;case Yt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Yt.ABORTED:return D.ABORTED;case Yt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Yt.DATA_LOSS:return D.DATA_LOSS;default:return he()}}(He=Yt||(Yt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn=function(){function t(e,n){this.H=e,this.root=n||us.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,us.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,us.Ht,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.et();){var r=this.H(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.et();){var i=this.H(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(e){return this.root.Xt(e)},t.prototype.forEach=function(e){this.Xt(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.Xt(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.Zt=function(e){return this.root.Zt(e)},t.prototype.te=function(){return new $d(this.root,null,this.H,!1)},t.prototype.ee=function(e){return new $d(this.root,e,this.H,!1)},t.prototype.ne=function(){return new $d(this.root,null,this.H,!0)},t.prototype.se=function(e){return new $d(this.root,e,this.H,!0)},t}(),$d=function(){function t(e,n,r,i){this.ie=i,this.re=[];for(var s=1;!e.et();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.ie?e.left:e.right;else{if(s===0){this.re.push(e);break}this.re.push(e),e=this.ie?e.right:e.left}}return t.prototype.oe=function(){var e=this.re.pop(),n={key:e.key,value:e.value};if(this.ie)for(e=e.left;!e.et();)this.re.push(e),e=e.right;else for(e=e.right;!e.et();)this.re.push(e),e=e.left;return n},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(this.re.length===0)return null;var e=this.re[this.re.length-1];return{key:e.key,value:e.value}},t}(),us=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(e){return this.left.Xt(e)||e(this.key,this.value)||this.right.Xt(e)},t.prototype.Zt=function(e){return this.right.Zt(e)||e(this.key,this.value)||this.left.Zt(e)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(e,n,r){var i=this,s=r(e,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(e,n,r))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(e,i.key)===0){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var e=this;return e.right.le()&&!e.left.le()&&(e=e.we()),e.left.le()&&e.left.left.le()&&(e=e.fe()),e.left.le()&&e.right.le()&&(e=e.Ee()),e},t.prototype._e=function(){var e=this.Ee();return e.right.left.le()&&(e=(e=(e=e.copy(null,null,null,null,e.right.fe())).we()).Ee()),e},t.prototype.de=function(){var e=this.Ee();return e.left.left.le()&&(e=(e=e.fe()).Ee()),e},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.Te=function(){var e=this.Ie();return Math.pow(2,e)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw he();var e=this.left.Ie();if(e!==this.right.Ie())throw he();return e+(this.le()?0:1)},t}();us.EMPTY=null,us.RED=!0,us.Ht=!1,us.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw he()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw he()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.zt=function(e,n,r){return new us(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(e){return!1},t.prototype.Zt=function(e){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an=function(){function t(e){this.H=e,this.data=new Hn(this.H)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.Xt(function(n,r){return e(n),!1})},t.prototype.me=function(e,n){for(var r=this.data.ee(e[0]);r.ce();){var i=r.oe();if(this.H(i.key,e[1])>=0)return;n(i.key)}},t.prototype.Ae=function(e,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!e(r.oe().key))return},t.prototype.Re=function(e){var n=this.data.ee(e);return n.ce()?n.oe().key:null},t.prototype.te=function(){return new dN(this.data.te())},t.prototype.ee=function(e){return new dN(this.data.ee(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).zt(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},t.prototype.it=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),dN=function(){function t(e){this.ye=e}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),qK=new Hn(ge.H);function Oo(){return qK}function rv(){return Oo()}var WK=new Hn(ge.H);function Hf(){return WK}var HK=new Hn(ge.H);function ED(){return HK}var GK=new an(ge.H);function at(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=GK,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var $K=new an(qe);function lg(){return $K}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TD=function(){function t(e){this.H=e?function(n,r){return e(n,r)||ge.H(n.key,r.key)}:function(n,r){return ge.H(n.key,r.key)},this.ge=Hf(),this.Ve=new Hn(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(e){return this.ge.get(e)!=null},t.prototype.get=function(e){return this.ge.get(e)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(e){var n=this.ge.get(e);return n?this.Ve.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.Ve.Xt(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.ge.zt(e.key,e),n.Ve.zt(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.ge.remove(e),this.Ve.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),pN=function(){function t(){this.be=new Hn(ge.H)}return t.prototype.track=function(e){var n=e.doc.key,r=this.be.get(n);r?e.type!==0&&r.type===3?this.be=this.be.zt(n,e):e.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.be=this.be.remove(n):e.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:e.doc}):he():this.be=this.be.zt(n,e)},t.prototype.ve=function(){var e=[];return this.be.Xt(function(n,r){e.push(r)}),e},t}(),iv=function(){function t(e,n,r,i,s,a,c,l){this.query=e,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=a,this.Ce=c,this.xe=l}return t.Ne=function(e,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new t(e,n,TD.pe(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Ce===e.Ce&&this.De.isEqual(e.De)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Se.isEqual(e.Se)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),mE=function(){function t(e,n,r,i,s){this.Ot=e,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return t.Me=function(e,n){var r=new Map;return r.set(e,yE.Le(e,n)),new t(Ue.min(),r,lg(),Oo(),at())},t}(),yE=function(){function t(e,n,r,i,s){this.resumeToken=e,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return t.Le=function(e,n){return new t(nr.T,n,at(),at(),at())},t}(),vp=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},ID=function(t,e){this.targetId=t,this.je=e},SD=function(t,e,n,r){n===void 0&&(n=nr.T),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},vN=function(){function t(){this.Ge=0,this.ze=mN(),this.He=nr.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(e){e.l()>0&&(this.Ye=!0,this.He=e)},t.prototype.en=function(){var e=at(),n=at(),r=at();return this.ze.forEach(function(i,s){switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new yE(this.He,this.Je,e,n,r)},t.prototype.nn=function(){this.Ye=!1,this.ze=mN()},t.prototype.sn=function(e,n){this.Ye=!0,this.ze=this.ze.zt(e,n)},t.prototype.rn=function(e){this.Ye=!0,this.ze=this.ze.remove(e)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),YK=function(){function t(e){this.un=e,this.hn=new Map,this.ln=Oo(),this._n=gN(),this.fn=new an(qe)}return t.prototype.dn=function(e){for(var n=0,r=e.Ke;n<r.length;n++){var i=r[n];e.We instanceof ft?this.wn(i,e.We):e.We instanceof sn&&this.En(i,e.key,e.We)}for(var s=0,a=e.removedTargetIds;s<a.length;s++)i=a[s],this.En(i,e.key,e.We)},t.prototype.Tn=function(e){var n=this;this.In(e,function(r){var i=n.mn(r);switch(e.state){case 0:n.An(r)&&i.tn(e.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(e.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(e.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(e.resumeToken));break;default:he()}})},t.prototype.In=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},t.prototype.Pn=function(e){var n=e.targetId,r=e.je.count,i=this.yn(n);if(i){var s=i.target;if(ev(s))if(r===0){var a=new ge(s.path);this.En(n,a,new sn(a,Ue.min()))}else Ie(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},t.prototype.Vn=function(e){var n=this,r=new Map;this.hn.forEach(function(a,c){var l=n.yn(c);if(l){if(a.Be&&ev(l.target)){var h=new ge(l.target.path);n.ln.get(h)!==null||n.pn(c,h)||n.En(c,h,new sn(h,e))}a.Ze&&(r.set(c,a.en()),a.nn())}});var i=at();this._n.forEach(function(a,c){var l=!0;c.Ae(function(h){var d=n.yn(h);return!d||d.Ft===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new mE(e,r,this.fn,this.ln,i);return this.ln=Oo(),this._n=gN(),this.fn=new an(qe),s},t.prototype.wn=function(e,n){if(this.An(e)){var r=this.pn(e,n.key)?2:0;this.mn(e).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(e))}},t.prototype.En=function(e,n,r){if(this.An(e)){var i=this.mn(e);this.pn(e,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(e)),r&&(this.ln=this.ln.zt(n,r))}},t.prototype.removeTarget=function(e){this.hn.delete(e)},t.prototype.gn=function(e){var n=this.mn(e).en();return this.un.vn(e).size+n.qe.size-n.Qe.size},t.prototype.on=function(e){this.mn(e).on()},t.prototype.mn=function(e){var n=this.hn.get(e);return n||(n=new vN,this.hn.set(e,n)),n},t.prototype.bn=function(e){var n=this._n.get(e);return n||(n=new an(qe),this._n=this._n.zt(e,n)),n},t.prototype.An=function(e){var n=this.yn(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.yn=function(e){var n=this.hn.get(e);return n&&n.Xe?null:this.un.Sn(e)},t.prototype.Rn=function(e){var n=this;this.hn.set(e,new vN),this.un.vn(e).forEach(function(r){n.En(e,r,null)})},t.prototype.pn=function(e,n){return this.un.vn(e).has(n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){return new Hn(ge.H)}function mN(){return new Hn(ge.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zK={asc:"ASCENDING",desc:"DESCENDING"},KK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QK=function(t,e){this.t=t,this.Bt=e};function Gf(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function CD(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function XK(t,e){return Gf(t,e.j())}function gn(t){return Ie(!!t),Ue.K(function(e){var n=As(e);return new pr(n.seconds,n.nanos)}(t))}function _E(t,e){return function(n){return new Ze(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).rt()}function AD(t){var e=Ze.ot(t);return Ie(MD(e)),e}function $f(t,e){return _E(t.t,e.path)}function Hi(t,e){var n=AD(e);if(n.get(1)!==t.t.projectId)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ge(kD(n))}function s0(t,e){return _E(t.t,e)}function ND(t){var e=AD(t);return e.length===4?Ze.ct():kD(e)}function Yf(t){return new Ze(["projects",t.t.projectId,"databases",t.t.database]).rt()}function kD(t){return Ie(t.length>4&&t.get(4)==="documents"),t.Y(5)}function yN(t,e,n){return{name:$f(t,e),fields:n.proto.mapValue.fields}}function xD(t,e,n){var r=Hi(t,e.name),i=gn(e.updateTime),s=new ks({mapValue:{fields:e.fields}});return new ft(r,i,s,{hasCommittedMutations:!!n})}function ov(t,e){var n;if(e instanceof Th)n={update:yN(t,e.key,e.value)};else if(e instanceof Ih)n={delete:$f(t,e.key)};else if(e instanceof Ds)n={update:yN(t,e.key,e.data),updateMask:n5(e.Gt)};else{if(!(e instanceof gE))return he();n={verify:$f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof wc)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ma)return{fieldPath:s.field.rt(),appendMissingElements:{values:a.elements}};if(a instanceof La)return{fieldPath:s.field.rt(),removeAllFromArray:{values:a.elements}};if(a instanceof bc)return{fieldPath:s.field.rt(),increment:a.Ut};throw he()}(0,r)})),e.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:XK(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he()}(t,e.jt)),n}function _N(t,e){var n=e.currentDocument?function(h){return h.updateTime!==void 0?Dn.updateTime(gn(h.updateTime)):h.exists!==void 0?Dn.exists(h.exists):Dn.Kt()}(e.currentDocument):Dn.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(h){return function(d,v){var g=null;if("setToServerValue"in v)Ie(v.setToServerValue==="REQUEST_TIME"),g=new wc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];g=new Ma(y)}else if("removeAllFromArray"in v){var w=v.removeAllFromArray.values||[];g=new La(w)}else"increment"in v?g=new bc(d,v.increment):he();var E=wi.lt(v.fieldPath);return new Eh(E,g)}(t,h)}):[];if(e.update){e.update.name;var i=Hi(t,e.update.name),s=new ks({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(h){var d=h.fieldPaths||[];return new gc(d.map(function(v){return wi.lt(v)}))}(e.updateMask);return new Ds(i,s,a,n,r)}return new Th(i,s,n,r)}if(e.delete){var c=Hi(t,e.delete);return new Ih(c,n)}if(e.verify){var l=Hi(t,e.verify);return new gE(l,n)}return he()}function RD(t,e){return{documents:[s0(t,e.path)]}}function OD(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=s0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=s0(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(iN(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NAN"}};if(rN(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(iN(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NOT_NAN"}};if(rN(d.value))return{unaryFilter:{field:Nu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nu(d.field),op:ZK(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Nu(h.field),direction:JK(h.dir)}}(l)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.Bt||Ga(l)?l:{value:l}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=wN(e.startAt)),e.endAt&&(n.structuredQuery.endAt=wN(e.endAt)),n}function PD(t){var e=ND(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ie(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var a=[];n.where&&(a=DD(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(g){return new Zu(Bu(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(v)}));var l=null;n.limit&&(l=function(v){var g;return Ga(g=typeof v=="object"?v.value:v)?null:g}(n.limit));var h=null;n.startAt&&(h=bN(n.startAt));var d=null;return n.endAt&&(d=bN(n.endAt)),uD(e,i,c,a,l,"F",h,d)}function DD(t){return t?t.unaryFilter!==void 0?[t5(t)]:t.fieldFilter!==void 0?[e5(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return DD(e)}).reduce(function(e,n){return e.concat(n)}):he():[]}function wN(t){return{before:t.before,values:t.position}}function bN(t){var e=!!t.before,n=t.values||[];return new Wf(n,e)}function JK(t){return zK[t]}function ZK(t){return KK[t]}function Nu(t){return{fieldPath:t.rt()}}function Bu(t){return wi.lt(t.fieldPath)}function e5(t){return xr.create(Bu(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return he()}}(t.fieldFilter.op),t.fieldFilter.value)}function t5(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Bu(t.unaryFilter.field);return xr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Bu(t.unaryFilter.field);return xr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Bu(t.unaryFilter.field);return xr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Bu(t.unaryFilter.field);return xr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return he()}}function n5(t){var e=[];return t.fields.forEach(function(n){return e.push(n.rt())}),{fieldPaths:e}}function MD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Y=function(){function t(e){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,e(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.Nn&&he(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(i,s){r.Dn=function(a){r.Fn(e,a).next(i,s)},r.Cn=function(a){r.$n(n,a).next(i,s)}})},t.prototype.On=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.Mn=function(e){return new t(function(n,r){var i=0,s=0,a=!1;e.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(c){return c?t.resolve(c):a()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(s,a){i.push(n.call(r,s,a))}),this.Mn(i)},t}(),LD=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.Bn=new rr,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new hf(e,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=wE(i.target.error);r.Bn.reject(new hf(e,s))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new hf(n,s)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.Bn.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new i5(n)},t}(),Ec=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,t.Qn(Ra())===12.2&&Kt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return J("SimpleDb","Removing database:",e),ha(window.indexedDB.deleteDatabase(e)).On()},t.Kn=function(){if(typeof indexedDB>"u")return!1;if(t.Wn())return!0;var e=Ra(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Gn)==="YES"},t.zn=function(e,n){return e.store(n)},t.Qn=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.jn=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.Hn=function(e){return x(this,void 0,void 0,function(){var n,r=this;return k(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(J("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new hf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new G(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new hf(e,h))},c.onupgradeneeded=function(l){J("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.Un.Jn(h,c.transaction,l.oldVersion,r.version).next(function(){J("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},t.prototype.Xn=function(e){this.Yn=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return x(this,void 0,void 0,function(){var s,a,c,l,h;return k(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,g,y,w,E;return k(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,l.Hn(e)];case 2:return l.db=T.sent(),v=LD.open(l.db,e,s?"readonly":"readwrite",r),g=i(v).catch(function(N){return v.abort(N),Y.reject(N)}).On(),y={},g.catch(function(){}),[4,v.qn];case 3:return[2,(y.value=(T.sent(),g),y)];case 4:return w=T.sent(),E=w.name!=="FirebaseError"&&a<3,J("SimpleDb","Transaction failed with error:",w.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(w)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),r5=function(){function t(e){this.Zn=e,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Zn=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(e){this.es=e},t.prototype.delete=function(){return ha(this.Zn.delete())},t}(),hf=function(t){function e(n,r){var i=this;return(i=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ee(e,t),e}(G);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){return t.name==="IndexedDbTransactionError"}var i5=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ha(r)},t.prototype.add=function(e){return J("SimpleDb","ADD",this.store.name,e,e),ha(this.store.add(e))},t.prototype.get=function(e){var n=this;return ha(this.store.get(e)).next(function(r){return r===void 0&&(r=null),J("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return J("SimpleDb","DELETE",this.store.name,e),ha(this.store.delete(e))},t.prototype.count=function(){return J("SimpleDb","COUNT",this.store.name),ha(this.store.count())},t.prototype.rs=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.os(r,function(s,a){i.push(a)}).next(function(){return i})},t.prototype.cs=function(e,n){J("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,a,c){return c.delete()})},t.prototype.hs=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.os(i,n)},t.prototype.ls=function(e){var n=this.cursor({});return new Y(function(r,i){n.onerror=function(s){var a=wE(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?e(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},t.prototype.os=function(e,n){var r=[];return new Y(function(i,s){e.onerror=function(a){s(a.target.error)},e.onsuccess=function(a){var c=a.target.result;if(c){var l=new r5(c),h=n(c.primaryKey,c.value,l);if(h instanceof Y){var d=h.catch(function(v){return l.done(),Y.reject(v)});r.push(d)}l.xn?i():l.ns===null?c.continue():c.continue(l.ns)}else i()}}).next(function(){return Y.Mn(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.us?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function ha(t){return new Y(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=wE(r.target.error);n(i)}})}var EN=!1;function wE(t){var e=Ec.Qn(Ra());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return EN||(EN=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o5=function(){function t(e,n,r,i,s){this._s=e,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new rr,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(a){})}return t.Ts=function(e,n,r,i,s){var a=new t(e,n,Date.now()+r,i,s);return a.start(r),a},t.prototype.start=function(e){var n=this;this.Is=setTimeout(function(){return n.As()},e)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(e){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new G(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.As=function(){var e=this;this._s.Ps(function(){return e.Is!==null?(e.clearTimeout(),e.op().then(function(n){return e.Es.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function $c(t,e){if(Kt("AsyncQueue",e+": "+t),$a(t))return new G(D.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UD=function(){function t(){this.ys=[]}return t.prototype.gs=function(e){this.ys.push(e)},t.prototype.Vs=function(){this.ys.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=TN(e)),e=s5(t.get(n),e);return TN(e)}function s5(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function TN(t){return t+""}function bo(t){var e=t.length;if(Ie(e>=2),e===2)return Ie(t.charAt(0)===""&&t.charAt(1)===""),Ze.ct();for(var n=e-2,r=[],i="",s=0;s<e;){var a=t.indexOf("",s);switch((a<0||a>n)&&he(),t.charAt(a+1)){case"":var c=t.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:he()}s=a+2}return new Ze(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a5=function(t,e){this.seconds=t,this.nanoseconds=e},Ir=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ir.store="owner",Ir.key="owner";var bs=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};bs.store="mutationQueues",bs.keyPath="userId";var gt=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gt.store="mutations",gt.keyPath="batchId",gt.userMutationsIndex="userMutationsIndex",gt.userMutationsKeyPath=["userId","batchId"];var Rn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,gi(n)]},t.key=function(e,n,r){return[e,gi(n),r]},t}();Rn.store="documentMutations",Rn.PLACEHOLDER=new Rn;var u5=function(t,e){this.path=t,this.readTime=e},c5=function(t,e){this.path=t,this.version=e},Dt=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Dt.store="remoteDocuments",Dt.readTimeIndex="readTimeIndex",Dt.readTimeIndexPath="readTime",Dt.collectionReadTimeIndex="collectionReadTimeIndex",Dt.collectionReadTimeIndexPath=["parentPath","readTime"];var Bi=function(t){this.byteSize=t};Bi.store="remoteDocumentGlobal",Bi.key="remoteDocumentGlobalKey";var dr=function(t,e,n,r,i,s,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};dr.store="targets",dr.keyPath="targetId",dr.queryTargetsIndexName="queryTargetsIndex",dr.queryTargetsKeyPath=["canonicalId","targetId"];var Cn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Cn.store="targetDocuments",Cn.keyPath=["targetId","path"],Cn.documentTargetsIndex="documentTargetsIndex",Cn.documentTargetsKeyPath=["path","targetId"];var Ar=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ar.key="targetGlobalKey",Ar.store="targetGlobal";var Sa=function(t,e){this.collectionId=t,this.parent=e};Sa.store="collectionParents",Sa.keyPath=["collectionId","parent"];var Io=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Io.store="clientMetadata",Io.keyPath="clientId";var Tc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tc.store="bundles",Tc.keyPath="bundleId";var Ic=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ic.store="namedQueries",Ic.keyPath="name";var l5=Wt(Wt(Wt(Wt([bs.store,gt.store,Rn.store,Dt.store,dr.store,Ir.store,Ar.store,Cn.store],[Io.store]),[Bi.store]),[Sa.store]),[Tc.store,Ic.store]),IN=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ps=n,i.bs=r,i}return ee(e,t),e}(UD);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,e){var n=te(t);return Ec.zn(n.ps,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bE=function(){function t(e,n,r,i){this.batchId=e,this.vs=n,this.baseMutations=r,this.mutations=i}return t.prototype.Ss=function(e,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(e)&&(n=jK(a,n,i[s]))}return n},t.prototype.Cs=function(e,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(c=i[r]).key.isEqual(e)&&(n=o0(c,n,this.vs));for(var s=0,a=this.mutations;s<a.length;s++){var c;(c=a[s]).key.isEqual(e)&&(n=o0(c,n,this.vs))}return n},t.prototype.xs=function(e){var n=this,r=e;return this.mutations.forEach(function(i){var s=n.Cs(i.key,e.get(i.key));s&&(r=r.zt(i.key,s))}),r},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},at())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&vc(this.mutations,e.mutations,function(n,r){return cN(n,r)})&&vc(this.baseMutations,e.baseMutations,function(n,r){return cN(n,r)})},t}(),f5=function(){function t(e,n,r,i){this.batch=e,this.Ns=n,this.Ds=r,this.$s=i}return t.from=function(e,n,r){Ie(e.mutations.length===r.length);for(var i=ED(),s=e.mutations,a=0;a<s.length;a++)i=i.zt(s[a].key,r[a].version);return new t(e,n,r,i)},t}(),jD=function(t){this.Fs=t};function a0(t,e){if(e.document)return xD(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ge.Et(e.noDocument.path),r=Cc(e.noDocument.readTime);return new sn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ge.Et(e.unknownDocument.path);return r=Cc(e.unknownDocument.version),new fE(i,r)}return he()}function SN(t,e,n){var r=EE(n),i=e.key.path.X().it();if(e instanceof ft){var s=function(v,g){return{name:$f(v,g.key),fields:g.bt().mapValue.fields,updateTime:Gf(v,g.version.j())}}(t.Fs,e),a=e.hasCommittedMutations;return new Dt(null,null,s,a,r,i)}if(e instanceof sn){var c=e.key.path.it(),l=Sc(e.version);return a=e.hasCommittedMutations,new Dt(null,new u5(c,l),null,a,r,i)}if(e instanceof fE){var h=e.key.path.it(),d=Sc(e.version);return new Dt(new c5(h,d),null,null,!0,r,i)}return he()}function EE(t){var e=t.j();return[e.seconds,e.nanoseconds]}function VD(t){var e=new pr(t[0],t[1]);return Ue.K(e)}function Sc(t){var e=t.j();return new a5(e.seconds,e.nanoseconds)}function Cc(t){var e=new pr(t.seconds,t.nanoseconds);return Ue.K(e)}function Lu(t,e){for(var n=(e.baseMutations||[]).map(function(l){return _N(t.Fs,l)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var s=e.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(l){return _N(t.Fs,l)}),c=pr.fromMillis(e.localWriteTimeMs);return new bE(e.batchId,c,n,a)}function nf(t){var e,n,r=Cc(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Cc(t.lastLimboFreeSnapshotVersion):Ue.min();return t.query.documents!==void 0?(Ie((n=t.query).documents.length===1),e=Yr(Gc(ND(n.documents[0])))):e=function(s){return Yr(PD(s))}(t.query),new ag(e,t.targetId,0,t.lastListenSequenceNumber,r,i,nr.fromBase64String(t.resumeToken))}function BD(t,e){var n,r=Sc(e.Ot),i=Sc(e.lastLimboFreeSnapshotVersion);n=ev(e.target)?RD(t.Fs,e.target):OD(t.Fs,e.target);var s=e.resumeToken.toBase64();return new dr(e.targetId,_h(e.target),r,s,e.sequenceNumber,i,n)}function TE(t){var e=PD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cD(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h5=function(){function t(){}return t.prototype.Os=function(e,n){return CN(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Cc(i.createTime),version:i.version};var i})},t.prototype.ks=function(e,n){return CN(e).put({bundleId:(r=n).id,createTime:Sc(gn(r.createTime)),version:r.version});var r},t.prototype.Ms=function(e,n){return AN(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:TE(i.bundledQuery),readTime:Cc(i.readTime)};var i})},t.prototype.Ls=function(e,n){return AN(e).put(function(r){return{name:r.name,readTime:Sc(gn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function CN(t){return wr(t,Tc.store)}function AN(t){return wr(t,Ic.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d5=function(){function t(){this.Bs=new IE}return t.prototype.qs=function(e,n){return this.Bs.add(n),Y.resolve()},t.prototype.Us=function(e,n){return Y.resolve(this.Bs.getEntries(n))},t}(),IE=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.tt(),r=e.X(),i=this.index[n]||new an(Ze.H),s=!i.has(r);return this.index[n]=i.add(r),s},t.prototype.has=function(e){var n=e.tt(),r=e.X(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new an(Ze.H)).it()},t}(),p5=function(){function t(){this.Qs=new IE}return t.prototype.qs=function(e,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();e.gs(function(){r.Qs.add(n)});var a={collectionId:i,parent:gi(s)};return NN(e).put(a)}return Y.resolve()},t.prototype.Us=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[tD(n),""],!1,!0);return NN(e).rs(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(bo(l.parent))}return r})},t}();function NN(t){return wr(t,Sa.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kN={Ks:!1,Ws:0,js:0,Gs:0},Di=function(){function t(e,n,r){this.zs=e,this.Hs=n,this.Js=r}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t){return x(this,void 0,void 0,function(){return k(this,function(e){if(t.code!==D.FAILED_PRECONDITION||t.message!==FD)throw t;return J("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di.Xs=10,Di.Zs=1e3,Di.ti=new Di(41943040,Di.Xs,Di.Zs),Di.ei=new Di(-1,0,0);var Yc=function(){function t(e,n){this.ni=e,this.si=n,this.ii={}}return t.prototype.get=function(e){var n=this.ni(e),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.si(c,e))return l}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.ni(e),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.ii[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.ni(e),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],e))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){mh(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];e(c,l)}})},t.prototype.et=function(){return rD(this.ii)},t}(),qD=function(){function t(){this.ri=new Yc(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.oi=!1}return t.prototype.ci=function(e){var n=this.ri.get(e);return n?n.readTime:Ue.min()},t.prototype.ai=function(e,n){this.ui(),this.ri.set(e.key,{hi:e,readTime:n})},t.prototype.li=function(e,n){n===void 0&&(n=null),this.ui(),this.ri.set(e,{hi:null,readTime:n})},t.prototype._i=function(e,n){this.ui();var r=this.ri.get(n);return r!==void 0?Y.resolve(r.hi):this.fi(e,n)},t.prototype.getEntries=function(e,n){return this.di(e,n)},t.prototype.apply=function(e){return this.ui(),this.oi=!0,this.wi(e)},t.prototype.ui=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t,e,n){var r=t.store(gt.store),i=t.store(Rn.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.hs({range:a},function(w,E,T){return c++,T.delete()});s.push(l.next(function(){Ie(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var g=v[d],y=Rn.key(e,g.key.path,n.batchId);s.push(i.delete(y)),h.push(g.key)}return Y.Mn(s).next(function(){return h})}function sv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw he();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v5=function(){function t(e,n,r,i){this.userId=e,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return t.mi=function(e,n,r,i){return Ie(e.uid!==""),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return es(e).hs({index:gt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},t.prototype.Ri=function(e,n,r,i){var s=this,a=Fu(e),c=es(e);return c.add({}).next(function(l){Ie(typeof l=="number");for(var h=new bE(l,n,r,i),d=function(N,P,M){var U=M.baseMutations.map(function(j){return ov(N.Fs,j)}),X=M.mutations.map(function(j){return ov(N.Fs,j)});return new gt(P,M.batchId,M.vs.toMillis(),U,X)}(s.Qt,s.userId,h),v=[],g=new an(function(N,P){return qe(N.rt(),P.rt())}),y=0,w=i;y<w.length;y++){var E=w[y],T=Rn.key(s.userId,E.key.path,l);g=g.add(E.key.path.X()),v.push(c.put(d)),v.push(a.put(T,Rn.PLACEHOLDER))}return g.forEach(function(N){v.push(s.Ei.qs(e,N))}),e.gs(function(){s.Ii[l]=h.keys()}),Y.Mn(v).next(function(){return h})})},t.prototype.Pi=function(e,n){var r=this;return es(e).get(n).next(function(i){return i?(Ie(i.userId===r.userId),Lu(r.Qt,i)):null})},t.prototype.yi=function(e,n){var r=this;return this.Ii[n]?Y.resolve(this.Ii[n]):this.Pi(e,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},t.prototype.gi=function(e,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return es(e).hs({index:gt.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(Ie(l.batchId>=i),a=Lu(r.Qt,l)),h.done()}).next(function(){return a})},t.prototype.Vi=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return es(e).hs({index:gt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},t.prototype.pi=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return es(e).rs(gt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Lu(n.Qt,s)})})},t.prototype.bi=function(e,n){var r=this,i=Rn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Fu(e).hs({range:s},function(c,l,h){var d=c[0],v=c[1],g=c[2],y=bo(v);if(d===r.userId&&n.path.isEqual(y))return es(e).get(g).next(function(w){if(!w)throw he();Ie(w.userId===r.userId),a.push(Lu(r.Qt,w))});h.done()}).next(function(){return a})},t.prototype.vi=function(e,n){var r=this,i=new an(qe),s=[];return n.forEach(function(a){var c=Rn.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Fu(e).hs({range:l},function(d,v,g){var y=d[0],w=d[1],E=d[2],T=bo(w);y===r.userId&&a.path.isEqual(T)?i=i.add(E):g.done()});s.push(h)}),Y.Mn(s).next(function(){return r.Si(e,i)})},t.prototype.Di=function(e,n){var r=this,i=n.path,s=i.length+1,a=Rn.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new an(qe);return Fu(e).hs({range:c},function(h,d,v){var g=h[0],y=h[1],w=h[2],E=bo(y);g===r.userId&&i.nt(E)?E.length===s&&(l=l.add(w)):v.done()}).next(function(){return r.Si(e,l)})},t.prototype.Si=function(e,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(es(e).get(a).next(function(c){if(c===null)throw he();Ie(c.userId===r.userId),i.push(Lu(r.Qt,c))}))}),Y.Mn(s).next(function(){return i})},t.prototype.Ci=function(e,n){var r=this;return WD(e.ps,this.userId,n).next(function(i){return e.gs(function(){r.xi(n.batchId)}),Y.forEach(i,function(s){return r.Ti.Ni(e,s)})})},t.prototype.xi=function(e){delete this.Ii[e]},t.prototype.$i=function(e){var n=this;return this.Ai(e).next(function(r){if(!r)return Y.resolve();var i=IDBKeyRange.lowerBound(Rn.prefixForUser(n.userId)),s=[];return Fu(e).hs({range:i},function(a,c,l){if(a[0]===n.userId){var h=bo(a[1]);s.push(h)}else l.done()}).next(function(){Ie(s.length===0)})})},t.prototype.Fi=function(e,n){return HD(e,this.userId,n)},t.prototype.Oi=function(e){var n=this;return GD(e).get(this.userId).next(function(r){return r||new bs(n.userId,-1,"")})},t}();function HD(t,e,n){var r=Rn.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Fu(t).hs({range:s,us:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===e&&v===i&&(a=!0),h.done()}).next(function(){return a})}function es(t){return wr(t,gt.store)}function Fu(t){return wr(t,Rn.store)}function GD(t){return wr(t,bs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var av=function(){function t(e){this.ki=e}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),g5=function(){function t(e,n){this.Ti=e,this.Qt=n}return t.prototype.Bi=function(e){var n=this;return this.qi(e).next(function(r){var i=new av(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(e,r).next(function(){return r.highestTargetId})})},t.prototype.Qi=function(e){return this.qi(e).next(function(n){return Ue.K(new pr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(e){return this.qi(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.Wi=function(e,n,r){var i=this;return this.qi(e).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(e,s)})},t.prototype.ji=function(e,n){var r=this;return this.Gi(e,n).next(function(){return r.qi(e).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(e,i)})})},t.prototype.Hi=function(e,n){return this.Gi(e,n)},t.prototype.Ji=function(e,n){var r=this;return this.Yi(e,n.targetId).next(function(){return ku(e).delete(n.targetId)}).next(function(){return r.qi(e)}).next(function(i){return Ie(i.targetCount>0),i.targetCount-=1,r.Ui(e,i)})},t.prototype.Xi=function(e,n,r){var i=this,s=0,a=[];return ku(e).hs(function(c,l){var h=nf(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Ji(e,h)))}).next(function(){return Y.Mn(a)}).next(function(){return s})},t.prototype.In=function(e,n){return ku(e).hs(function(r,i){var s=nf(i);n(s)})},t.prototype.qi=function(e){return xN(e).get(Ar.key).next(function(n){return Ie(n!==null),n})},t.prototype.Ui=function(e,n){return xN(e).put(Ar.key,n)},t.prototype.Gi=function(e,n){return ku(e).put(BD(this.Qt,n))},t.prototype.zi=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.Zi=function(e){return this.qi(e).next(function(n){return n.targetCount})},t.prototype.tr=function(e,n){var r=_h(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return ku(e).hs({range:i,index:dr.queryTargetsIndexName},function(a,c,l){var h=nf(c);sg(n,h.target)&&(s=h,l.done())}).next(function(){return s})},t.prototype.er=function(e,n,r){var i=this,s=[],a=cs(e);return n.forEach(function(c){var l=gi(c.path);s.push(a.put(new Cn(r,l))),s.push(i.Ti.nr(e,r,c))}),Y.Mn(s)},t.prototype.sr=function(e,n,r){var i=this,s=cs(e);return Y.forEach(n,function(a){var c=gi(a.path);return Y.Mn([s.delete([r,c]),i.Ti.ir(e,r,a)])})},t.prototype.Yi=function(e,n){var r=cs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.rr=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=cs(e),s=at();return i.hs({range:r,us:!0},function(a,c,l){var h=bo(a[1]),d=new ge(h);s=s.add(d)}).next(function(){return s})},t.prototype.Fi=function(e,n){var r=gi(n.path),i=IDBKeyRange.bound([r],[tD(r)],!1,!0),s=0;return cs(e).hs({index:Cn.documentTargetsIndex,us:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},t.prototype.Sn=function(e,n){return ku(e).get(n).next(function(r){return r?nf(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){return wr(t,dr.store)}function xN(t){return wr(t,Ar.store)}function cs(t){return wr(t,Cn.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=qe(n,i);return a===0?qe(r,s):a}var m5=function(){function t(e){this.cr=e,this.buffer=new an(RN),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(e){var n=[e,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();RN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),y5=function(){function t(e,n){this.lr=e,this._s=n,this._r=!1,this.dr=null}return t.prototype.start=function(e){this.lr.params.zs!==-1&&this.wr(e)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),t.prototype.wr=function(e){var n=this,r=this._r?3e5:6e4;J("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return x(n,void 0,void 0,function(){var i;return k(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,e.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return $a(i=s.sent())?(J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ya(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(e)];case 8:return s.sent(),[2]}})})})},t}(),_5=function(){function t(e,n){this.mr=e,this.params=n}return t.prototype.Ar=function(e,n){return this.mr.Rr(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.Pr=function(e,n){var r=this;if(n===0)return Y.resolve(kr.q);var i=new m5(n);return this.mr.In(e,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(e,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},t.prototype.Xi=function(e,n,r){return this.mr.Xi(e,n,r)},t.prototype.gr=function(e,n){return this.mr.gr(e,n)},t.prototype.Vr=function(e,n){var r=this;return this.params.zs===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(kN)):this.pr(e).next(function(i){return i<r.params.zs?(J("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),kN):r.br(e,n)})},t.prototype.pr=function(e){return this.mr.pr(e)},t.prototype.br=function(e,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.Ar(e,this.params.Hs).next(function(g){return g>d.params.Js?(J("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.Js+" from "+g),i=d.params.Js):i=g,a=Date.now(),d.Pr(e,i)}).next(function(g){return r=g,c=Date.now(),d.Xi(e,r,n)}).next(function(g){return s=g,l=Date.now(),d.gr(e,r)}).next(function(g){return h=Date.now(),t0()<=Le.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+g+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),Y.resolve({Ks:!0,Ws:i,js:s,Gs:g})})},t}(),w5=function(){function t(e,n){this.db=e,this.lr=function(r,i){return new _5(r,i)}(this,n)}return t.prototype.Rr=function(e){var n=this.vr(e);return this.db.Sr().Zi(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.vr=function(e){var n=0;return this.yr(e,function(r){n++}).next(function(){return n})},t.prototype.In=function(e,n){return this.db.Sr().In(e,n)},t.prototype.yr=function(e,n){return this.Dr(e,function(r,i){return n(i)})},t.prototype.nr=function(e,n,r){return Yd(e,r)},t.prototype.ir=function(e,n,r){return Yd(e,r)},t.prototype.Xi=function(e,n,r){return this.db.Sr().Xi(e,n,r)},t.prototype.Ni=function(e,n){return Yd(e,n)},t.prototype.Cr=function(e,n){return function(r,i){var s=!1;return GD(r).ls(function(a){return HD(r,a,i).next(function(c){return c&&(s=!0),Y.resolve(!c)})}).next(function(){return s})}(e,n)},t.prototype.gr=function(e,n){var r=this,i=this.db.$r().Nr(),s=[],a=0;return this.Dr(e,function(c,l){if(l<=n){var h=r.Cr(e,c).next(function(d){if(!d)return a++,i._i(e,c).next(function(){return i.li(c),cs(e).delete([0,gi(c.path)])})});s.push(h)}}).next(function(){return Y.Mn(s)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.kt(e.bs);return this.db.Sr().Hi(e,r)},t.prototype.Fr=function(e,n){return Yd(e,n)},t.prototype.Dr=function(e,n){var r,i=cs(e),s=kr.q;return i.hs({index:Cn.documentTargetsIndex},function(a,c){var l=a[0],h=(a[1],c.path),d=c.sequenceNumber;l===0?(s!==kr.q&&n(new ge(bo(r)),s),s=d,r=h):s=kr.q}).next(function(){s!==kr.q&&n(new ge(bo(r)),s)})},t.prototype.pr=function(e){return this.db.$r().Or(e)},t}();function Yd(t,e){return cs(t).put(function(n,r){return new Cn(0,gi(n.path),r)}(e,t.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b5=function(){function t(e,n){this.Qt=e,this.Ei=n}return t.prototype.ai=function(e,n,r){return ss(e).put(zd(n),r)},t.prototype.li=function(e,n){var r=ss(e),i=zd(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.kr(e,i)})},t.prototype._i=function(e,n){var r=this;return ss(e).get(zd(n)).next(function(i){return r.Mr(i)})},t.prototype.Lr=function(e,n){var r=this;return ss(e).get(zd(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:sv(i)}:null})},t.prototype.getEntries=function(e,n){var r=this,i=rv();return this.Br(e,n,function(s,a){var c=r.Mr(a);i=i.zt(s,c)}).next(function(){return i})},t.prototype.qr=function(e,n){var r=this,i=rv(),s=new Hn(ge.H);return this.Br(e,n,function(a,c){var l=r.Mr(c);l?(i=i.zt(a,l),s=s.zt(a,sv(c))):(i=i.zt(a,null),s=s.zt(a,0))}).next(function(){return{Ur:i,Qr:s}})},t.prototype.Br=function(e,n,r){if(n.et())return Y.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),a=s.oe();return ss(e).hs({range:i},function(c,l,h){for(var d=ge.Et(c);a&&ge.H(a,d)<0;)r(a,null),a=s.oe();a&&a.isEqual(d)&&(r(a,l),a=s.ce()?s.oe():null),a?h.ss(a.path.it()):h.done()}).next(function(){for(;a;)r(a,null),a=s.ce()?s.oe():null})},t.prototype.Kr=function(e,n,r){var i=this,s=Hf(),a=n.path.length+1,c={};if(r.isEqual(Ue.min())){var l=n.path.it();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.it(),d=EE(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=Dt.collectionReadTimeIndex}return ss(e).hs(c,function(v,g,y){if(v.length===a){var w=a0(i.Qt,g);n.path.nt(w.key.path)?w instanceof ft&&bh(n,w)&&(s=s.zt(w.key,w)):y.done()}}).next(function(){return s})},t.prototype.Nr=function(e){return new E5(this,!!e&&e.Wr)},t.prototype.Or=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return ON(e).get(Bi.key).next(function(n){return Ie(!!n),n})},t.prototype.kr=function(e,n){return ON(e).put(Bi.key,n)},t.prototype.Mr=function(e){if(e){var n=a0(this.Qt,e);return n instanceof sn&&n.version.isEqual(Ue.min())?null:n}return null},t}(),E5=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jr=n,i.Wr=r,i.Gr=new Yc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return ee(e,t),e.prototype.wi=function(n){var r=this,i=[],s=0,a=new an(function(c,l){return qe(c.rt(),l.rt())});return this.ri.forEach(function(c,l){var h=r.Gr.get(c);if(l.hi){var d=SN(r.jr.Qt,l.hi,r.ci(c));a=a.add(c.path.X());var v=sv(d);s+=v-h,i.push(r.jr.ai(n,c,d))}else if(s-=h,r.Wr){var g=SN(r.jr.Qt,new sn(c,Ue.min()),r.ci(c));i.push(r.jr.ai(n,c,g))}else i.push(r.jr.li(n,c))}),a.forEach(function(c){i.push(r.jr.Ei.qs(n,c))}),i.push(this.jr.updateMetadata(n,s)),Y.Mn(i)},e.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},e.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var a=s.Ur;return s.Qr.forEach(function(c,l){i.Gr.set(c,l)}),a})},e}(qD);function ON(t){return wr(t,Bi.store)}function ss(t){return wr(t,Dt.store)}function zd(t){return t.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T5=function(){function t(e){this.Qt=e}return t.prototype.Jn=function(e,n,r,i){var s=this;Ie(r<i&&r>=0&&i<=11);var a=new LD("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Ir.store)}(e),function(l){l.createObjectStore(bs.store,{keyPath:bs.keyPath}),l.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0}),l.createObjectStore(Rn.store)}(e),PN(e),function(l){l.createObjectStore(Dt.store)}(e));var c=Y.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Cn.store),l.deleteObjectStore(dr.store),l.deleteObjectStore(Ar.store)}(e),PN(e)),c=c.next(function(){return function(l){var h=l.store(Ar.store),d=new Ar(0,0,Ue.min().j(),0);return h.put(Ar.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(gt.store).rs().next(function(d){l.deleteObjectStore(gt.store),l.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0});var v=h.store(gt.store),g=d.map(function(y){return v.put(y)});return Y.Mn(g)})}(e,a)})),c=c.next(function(){(function(l){l.createObjectStore(Io.store,{keyPath:Io.keyPath})})(e)})),r<5&&i>=5&&(c=c.next(function(){return s.zr(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(Bi.store)}(e),s.Hr(a)})),r<7&&i>=7&&(c=c.next(function(){return s.Jr(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Yr(e,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e),function(l){var h=l.objectStore(Dt.store);h.createIndex(Dt.readTimeIndex,Dt.readTimeIndexPath,{unique:!1}),h.createIndex(Dt.collectionReadTimeIndex,Dt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Xr(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(Tc.store,{keyPath:Tc.keyPath})})(e),function(l){l.createObjectStore(Ic.store,{keyPath:Ic.keyPath})}(e)})),c},t.prototype.Hr=function(e){var n=0;return e.store(Dt.store).hs(function(r,i){n+=sv(i)}).next(function(){var r=new Bi(n);return e.store(Bi.store).put(Bi.key,r)})},t.prototype.zr=function(e){var n=this,r=e.store(bs.store),i=e.store(gt.store);return r.rs().next(function(s){return Y.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.rs(gt.userMutationsIndex,c).next(function(l){return Y.forEach(l,function(h){Ie(h.userId===a.userId);var d=Lu(n.Qt,h);return WD(e,a.userId,d).next(function(){})})})})})},t.prototype.Jr=function(e){var n=e.store(Cn.store),r=e.store(Dt.store);return e.store(Ar.store).get(Ar.key).next(function(i){var s=[];return r.hs(function(a,c){var l=new Ze(a),h=function(d){return[0,gi(d)]}(l);s.push(n.get(h).next(function(d){return d?Y.resolve():function(v){return n.put(new Cn(0,gi(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return Y.Mn(s)})})},t.prototype.Yr=function(e,n){e.createObjectStore(Sa.store,{keyPath:Sa.keyPath});var r=n.store(Sa.store),i=new IE,s=function(a){if(i.add(a)){var c=a.tt(),l=a.X();return r.put({collectionId:c,parent:gi(l)})}};return n.store(Dt.store).hs({us:!0},function(a,c){var l=new Ze(a);return s(l.X())}).next(function(){return n.store(Rn.store).hs({us:!0},function(a,c){a[0];var l=a[1],h=(a[2],bo(l));return s(h.X())})})},t.prototype.Xr=function(e){var n=this,r=e.store(dr.store);return r.hs(function(i,s){var a=nf(s),c=BD(n.Qt,a);return r.put(c)})},t}();function PN(t){t.createObjectStore(Cn.store,{keyPath:Cn.keyPath}).createIndex(Cn.documentTargetsIndex,Cn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dr.store,{keyPath:dr.keyPath}).createIndex(dr.queryTargetsIndexName,dr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ar.store)}var V_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",I5=function(){function t(e,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=a,this.document=c,this.eo=h,this.no=d,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(v){return Promise.resolve()},!t.Kn())throw new G(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new w5(this,i),this.ho=n+"main",this.Qt=new jD(l),this.lo=new Ec(this.ho,11,new T5(this.Qt)),this._o=new g5(this.Ti,this.Qt),this.Ei=new p5,this.fo=function(v,g){return new b5(v,g)}(this.Qt,this.Ei),this.wo=new h5,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,d===!1&&Kt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.To().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,V_);return e.Io(),e.mo(),e.Ao(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e._o.Ki(n)})}).then(function(n){e.so=new kr(n,e.eo)}).then(function(){e.io=!0}).catch(function(n){return e.lo&&e.lo.close(),Promise.reject(n)})},t.prototype.Ro=function(e){var n=this;return this.uo=function(r){return x(n,void 0,void 0,function(){return k(this,function(i){return this.Er?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.Po=function(e){var n=this;this.lo.Xn(function(r){return x(n,void 0,void 0,function(){return k(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.yo=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Zr.Ps(function(){return x(n,void 0,void 0,function(){return k(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Kd(n).put(new Io(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Vo(n).next(function(r){r||(e.isPrimary=!1,e.Zr.po(function(){return e.uo(!1)}))})}).next(function(){return e.bo(n)}).next(function(r){return e.isPrimary&&!r?e.vo(n).next(function(){return!1}):!!r&&e.So(n).next(function(){return!0})})}).catch(function(n){if($a(n))return J("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Zr.po(function(){return e.uo(n)}),e.isPrimary=n})},t.prototype.Vo=function(e){var n=this;return zl(e).get(Ir.key).next(function(r){return Y.resolve(n.Do(r))})},t.prototype.Co=function(e){return Kd(e).delete(this.clientId)},t.prototype.xo=function(){return x(this,void 0,void 0,function(){var e,n,r,i,s=this;return k(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=wr(c,Io.store);return l.rs().next(function(h){var d=s.$o(h,18e5),v=h.filter(function(g){return d.indexOf(g)===-1});return Y.forEach(v,function(g){return l.delete(g.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Eo)for(n=0,r=e;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var e=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return e.To().then(function(){return e.xo()}).then(function(){return e.Ao()})})},t.prototype.Do=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.bo=function(e){var n=this;return this.no?Y.resolve(!0):zl(e).get(Ir.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,V_);return!1}}return!(!n.networkEnabled||!n.inForeground)||Kd(e).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&J("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.ko=function(){return x(this,void 0,void 0,function(){var e=this;return k(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Ir.store,Io.store],function(r){var i=new IN(r,kr.q);return e.vo(i).next(function(){return e.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(e,n){var r=this;return e.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},t.prototype.Uo=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Kd(n).rs().next(function(r){return e.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(e){return v5.mi(e,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(e,n,r){var i=this;J("IndexedDbPersistence","Starting transaction:",e);var s,a=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(e,a,l5,function(c){return s=new IN(c,i.so?i.so.next():kr.q),n==="readwrite-primary"?i.Vo(s).next(function(l){return!!l||i.bo(s)}).next(function(l){if(!l)throw Kt("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new G(D.FAILED_PRECONDITION,FD);return r(s)}).next(function(l){return i.So(s).next(function(){return l})}):i.jo(s).next(function(){return r(s)})}).then(function(c){return s.Vs(),c})},t.prototype.jo=function(e){var n=this;return zl(e).get(Ir.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new G(D.FAILED_PRECONDITION,V_)})},t.prototype.So=function(e){var n=new Ir(this.clientId,this.allowTabSynchronization,Date.now());return zl(e).put(Ir.key,n)},t.Kn=function(){return Ec.Kn()},t.prototype.vo=function(e){var n=this,r=zl(e);return r.get(Ir.key).next(function(i){return n.Do(i)?(J("IndexedDbPersistence","Releasing primary lease."),r.delete(Ir.key)):Y.resolve()})},t.prototype.No=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Kt("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.Io=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){e.Zr.Ps(function(){return e.inForeground=e.document.visibilityState==="visible",e.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(e){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(e)))!==null;return J("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Kt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(e){Kt("Failed to set zombie client id.",e)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},t.prototype.Fo=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function zl(t){return wr(t,Ir.store)}function Kd(t){return wr(t,Io.store)}function SE(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var S5=function(t,e){this.progress=t,this.Go=e},$D=function(){function t(e,n,r){this.fo=e,this.zo=n,this.Ei=r}return t.prototype.Ho=function(e,n){var r=this;return this.zo.bi(e,n).next(function(i){return r.Jo(e,n,i)})},t.prototype.Jo=function(e,n,r){return this.fo._i(e,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].Cs(n,i);return i})},t.prototype.Yo=function(e,n,r){var i=rv();return n.forEach(function(s,a){for(var c=0,l=r;c<l.length;c++)a=l[c].Cs(s,a);i=i.zt(s,a)}),i},t.prototype.Xo=function(e,n){var r=this;return this.fo.getEntries(e,n).next(function(i){return r.Zo(e,i)})},t.prototype.Zo=function(e,n){var r=this;return this.zo.vi(e,n).next(function(i){var s=r.Yo(e,n,i),a=Oo();return s.forEach(function(c,l){l||(l=new sn(c,Ue.min())),a=a.zt(c,l)}),a})},t.prototype.Kr=function(e,n,r){return function(i){return ge.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(e,n.path):pE(n)?this.ec(e,n,r):this.nc(e,n,r)},t.prototype.tc=function(e,n){return this.Ho(e,new ge(n)).next(function(r){var i=Hf();return r instanceof ft&&(i=i.zt(r.key,r)),i})},t.prototype.ec=function(e,n,r){var i=this,s=n.collectionGroup,a=Hf();return this.Ei.Us(e,s).next(function(c){return Y.forEach(c,function(l){var h=function(d,v){return new jo(v,null,d.xt.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.nc(e,h,r).next(function(d){d.forEach(function(v,g){a=a.zt(v,g)})})}).next(function(){return a})})},t.prototype.nc=function(e,n,r){var i,s,a=this;return this.fo.Kr(e,n,r).next(function(c){return i=c,a.zo.Di(e,n)}).next(function(c){return s=c,a.sc(e,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],g=0,y=v.mutations;g<y.length;g++){var w=y[g],E=w.key,T=o0(w,i.get(E),v.vs);i=T instanceof ft?i.zt(E,T):i.remove(E)}})}).next(function(){return i.forEach(function(c,l){bh(n,l)||(i=i.remove(c))}),i})},t.prototype.sc=function(e,n,r){for(var i=at(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof Ds&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.fo.getEntries(e,i).next(function(v){return v.forEach(function(g,y){y!==null&&y instanceof ft&&(d=d.zt(g,y))}),d})},t}(),C5=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.ic=r,this.rc=i}return t.oc=function(e,n){for(var r=at(),i=at(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),YD=function(){function t(){}return t.prototype.cc=function(e){this.ac=e},t.prototype.Kr=function(e,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.xt.length===0||a.xt.length===1&&a.xt[0].field.ut())}(n)||r.isEqual(Ue.min())?this.uc(e,n):this.ac.Xo(e,i).next(function(a){var c=s.hc(n,a);return(dp(n)||nv(n))&&s.lc(n.limitType,c,i,r)?s.uc(e,n):(t0()<=Le.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),i0(n)),s.ac.Kr(e,n,r).next(function(l){return c.forEach(function(h){l=l.zt(h.key,h)}),l}))})},t.prototype.hc=function(e,n){var r=new an(fD(e));return n.forEach(function(i,s){s instanceof ft&&bh(e,s)&&(r=r.add(s))}),r},t.prototype.lc=function(e,n,r,i){if(r.size!==n.size)return!0;var s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},t.prototype.uc=function(e,n){return t0()<=Le.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",i0(n)),this.ac.Kr(e,n,Ue.min())},t}(),A5=function(){function t(e,n,r,i){this.persistence=e,this._c=n,this.Qt=i,this.fc=new Hn(qe),this.dc=new Yc(function(s){return _h(s)},sg),this.wc=Ue.min(),this.zo=e.Qo(r),this.Ec=e.$r(),this._o=e.Sr(),this.Tc=new $D(this.Ec,this.zo,this.persistence.Ko()),this.wo=e.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.Vr(r,n.fc)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t,e,n,r){return new A5(t,e,n,r)}function KD(t,e){return x(this,void 0,void 0,function(){var n,r,i,s;return k(this,function(a){switch(a.label){case 0:return n=te(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n.zo.pi(c).next(function(h){return l=h,r=n.persistence.Qo(e),i=new $D(n.Ec,r,n.persistence.Ko()),r.pi(c)}).next(function(h){for(var d=[],v=[],g=at(),y=0,w=l;y<w.length;y++){var E=w[y];d.push(E.batchId);for(var T=0,N=E.mutations;T<N.length;T++){var P=N[T];g=g.add(P.key)}}for(var M=0,U=h;M<U.length;M++){var X=U[M];v.push(X.batchId);for(var j=0,Se=X.mutations;j<Se.length;j++){var rt=Se[j];g=g.add(rt.key)}}return i.Xo(c,g).next(function(pe){return{Ic:pe,mc:d,Ac:v}})})})];case 1:return s=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function N5(t,e){var n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),g=Y.resolve();return v.forEach(function(y){g=g.next(function(){return h._i(c,y)}).next(function(w){var E=w,T=l.$s.get(y);Ie(T!==null),(!E||E.version._(T)<0)&&(E=d.Ss(y,E,l))&&h.ai(E,l.Ns)})}),g.next(function(){return a.zo.Ci(c,d)})}(n,r,e,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function QD(t){var e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e._o.Qi(n)})}function k5(t,e){var n=te(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Ec.Nr({Wr:!0});i=n.fc;var c=[];e.$e.forEach(function(d,v){var g=i.get(v);if(g){c.push(n._o.sr(s,d.Qe,v).next(function(){return n._o.er(s,d.qe,v)}));var y=d.resumeToken;if(y.l()>0){var w=g.Mt(y,r).kt(s.bs);i=i.zt(v,w),function(E,T,N){return Ie(T.resumeToken.l()>0),E.resumeToken.l()===0||T.Ot.W()-E.Ot.W()>=3e8||N.qe.size+N.Ue.size+N.Qe.size>0}(g,w,d)&&c.push(n._o.Hi(s,w))}}});var l=Oo();if(e.Oe.forEach(function(d,v){e.ke.has(d)&&c.push(n.persistence.Ti.Fr(s,d))}),c.push(XD(s,a,e.Oe,r,void 0).next(function(d){l=d})),!r.isEqual(Ue.min())){var h=n._o.Qi(s).next(function(d){return n._o.Wi(s,s.bs,r)});c.push(h)}return Y.Mn(c).next(function(){return a.apply(s)}).next(function(){return n.Tc.Zo(s,l)})}).then(function(s){return n.fc=i,s})}function XD(t,e,n,r,i){var s=at();return n.forEach(function(a){return s=s.add(a)}),e.getEntries(t,s).next(function(a){var c=Oo();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h instanceof sn&&h.version.isEqual(Ue.min())?(e.li(l,v),c=c.zt(l,h)):d==null||h.version._(d.version)>0||h.version._(d.version)===0&&d.hasPendingWrites?(e.ai(h,v),c=c.zt(l,h)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function x5(t,e){var n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n.zo.gi(r,e)})}function Ac(t,e){var n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,e).next(function(s){return s?(i=s,Y.resolve(i)):n._o.Bi(r).next(function(a){return i=new ag(e,a,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(e,r.targetId)),r})}function Nc(t,e,n){return x(this,void 0,void 0,function(){var r,i,s,a;return k(this,function(c){switch(c.label){case 0:r=te(t),i=r.fc.get(e),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.Ti.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!$a(a=c.sent()))throw a;return J("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function uv(t,e,n){var r=te(t),i=Ue.min(),s=at();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=te(c),v=d.dc.get(h);return v!==void 0?Y.resolve(d.fc.get(v)):d._o.tr(l,h)}(r,a,Yr(e)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r._o.rr(a,c.targetId).next(function(l){s=l})}).next(function(){return r._c.Kr(a,e,n?i:Ue.min(),n?s:at())}).next(function(c){return{documents:c,Rc:s}})})}function JD(t,e){var n=te(t),r=te(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,e).next(function(a){return a?a.target:null})})}function ZD(t){var e=te(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=te(r),c=Oo(),l=EE(s),h=ss(i),d=IDBKeyRange.lowerBound(l,!0);return h.hs({index:Dt.readTimeIndex,range:d},function(v,g){var y=a0(a.Qt,g);c=c.zt(y.key,y),l=g.readTime}).next(function(){return{Go:c,readTime:VD(l)}})}(e.Ec,n,e.wc)}).then(function(n){var r=n.Go,i=n.readTime;return e.wc=i,r})}function R5(t){return x(this,void 0,void 0,function(){var e;return k(this,function(n){return[2,(e=te(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=ss(i),a=Ue.min();return s.hs({index:Dt.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=VD(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.wc=r})]})})}function O5(t,e,n,r){return x(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y;return k(this,function(w){switch(w.label){case 0:for(i=te(t),s=at(),a=Oo(),c=ED(),l=0,h=n;l<h.length;l++)d=h[l],v=e.Pc(d.metadata.name),d.document&&(s=s.add(v)),a=a.zt(v,e.yc(d)),c=c.zt(v,e.gc(d.metadata.readTime));return g=i.Ec.Nr({Wr:!0}),[4,Ac(i,function(E){return Yr(Gc(Ze.ot("__bundle__/docs/"+E)))}(r))];case 1:return y=w.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return XD(E,g,a,Ue.min(),c).next(function(T){return g.apply(E),T}).next(function(T){return i._o.Yi(E,y.targetId).next(function(){return i._o.er(E,s,y.targetId)}).next(function(){return i.Tc.Zo(E,T)})})})]}})})}function P5(t,e,n){return n===void 0&&(n=at()),x(this,void 0,void 0,function(){var r,i;return k(this,function(s){switch(s.label){case 0:return[4,Ac(t,Yr(TE(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=te(t)).persistence.runTransaction("Save named query","readwrite",function(a){var c=gn(e.readTime);if(r.Ot._(c)>=0)return i.wo.Ls(a,e);var l=r.Mt(nr.T,c);return i.fc=i.fc.zt(l.targetId,l),i._o.Hi(a,l).next(function(){return i._o.Yi(a,r.targetId)}).next(function(){return i._o.er(a,n,r.targetId)}).next(function(){return i.wo.Ls(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D5=function(){function t(e){this.Qt=e,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(e,n){return Y.resolve(this.Vc.get(n))},t.prototype.ks=function(e,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:gn(r.createTime)}),Y.resolve()},t.prototype.Ms=function(e,n){return Y.resolve(this.bc.get(n))},t.prototype.Ls=function(e,n){return this.bc.set(n.name,function(r){return{name:r.name,query:TE(r.bundledQuery),readTime:gn(r.readTime)}}(n)),Y.resolve()},t}(),CE=function(){function t(){this.vc=new an(dn.Sc),this.Dc=new an(dn.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(e,n){var r=new dn(e,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},t.prototype.xc=function(e,n){var r=this;e.forEach(function(i){return r.nr(i,n)})},t.prototype.ir=function(e,n){this.Nc(new dn(e,n))},t.prototype.$c=function(e,n){var r=this;e.forEach(function(i){return r.ir(i,n)})},t.prototype.Fc=function(e){var n=this,r=new ge(new Ze([])),i=new dn(r,e),s=new dn(r,e+1),a=[];return this.Dc.me([i,s],function(c){n.Nc(c),a.push(c.key)}),a},t.prototype.Oc=function(){var e=this;this.vc.forEach(function(n){return e.Nc(n)})},t.prototype.Nc=function(e){this.vc=this.vc.delete(e),this.Dc=this.Dc.delete(e)},t.prototype.kc=function(e){var n=new ge(new Ze([])),r=new dn(n,e),i=new dn(n,e+1),s=at();return this.Dc.me([r,i],function(a){s=s.add(a.key)}),s},t.prototype.Fi=function(e){var n=new dn(e,0),r=this.vc.Re(n);return r!==null&&e.isEqual(r.key)},t}(),dn=function(){function t(e,n){this.key=e,this.Mc=n}return t.Sc=function(e,n){return ge.H(e.key,n.key)||qe(e.Mc,n.Mc)},t.Cc=function(e,n){return qe(e.Mc,n.Mc)||ge.H(e.key,n.key)},t}(),M5=function(){function t(e,n){this.Ei=e,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new an(dn.Sc)}return t.prototype.Ai=function(e){return Y.resolve(this.zo.length===0)},t.prototype.Ri=function(e,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var a=new bE(s,n,r,i);this.zo.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.Bc=this.Bc.add(new dn(h.key,s)),this.Ei.qs(e,h.key.path.X())}return Y.resolve(a)},t.prototype.Pi=function(e,n){return Y.resolve(this.qc(n))},t.prototype.gi=function(e,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return Y.resolve(this.zo.length>s?this.zo[s]:null)},t.prototype.Vi=function(){return Y.resolve(this.zo.length===0?-1:this.Lc-1)},t.prototype.pi=function(e){return Y.resolve(this.zo.slice())},t.prototype.bi=function(e,n){var r=this,i=new dn(n,0),s=new dn(n,Number.POSITIVE_INFINITY),a=[];return this.Bc.me([i,s],function(c){var l=r.qc(c.Mc);a.push(l)}),Y.resolve(a)},t.prototype.vi=function(e,n){var r=this,i=new an(qe);return n.forEach(function(s){var a=new dn(s,0),c=new dn(s,Number.POSITIVE_INFINITY);r.Bc.me([a,c],function(l){i=i.add(l.Mc)})}),Y.resolve(this.Qc(i))},t.prototype.Di=function(e,n){var r=n.path,i=r.length+1,s=r;ge.wt(s)||(s=s.child(""));var a=new dn(new ge(s),0),c=new an(qe);return this.Bc.Ae(function(l){var h=l.key.path;return!!r.nt(h)&&(h.length===i&&(c=c.add(l.Mc)),!0)},a),Y.resolve(this.Qc(c))},t.prototype.Qc=function(e){var n=this,r=[];return e.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},t.prototype.Ci=function(e,n){var r=this;Ie(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return Y.forEach(n.mutations,function(s){var a=new dn(s.key,n.batchId);return i=i.delete(a),r.Ti.Ni(e,s.key)}).next(function(){r.Bc=i})},t.prototype.xi=function(e){},t.prototype.Fi=function(e,n){var r=new dn(n,0),i=this.Bc.Re(r);return Y.resolve(n.isEqual(i&&i.key))},t.prototype.$i=function(e){return this.zo.length,Y.resolve()},t.prototype.Kc=function(e,n){return this.Uc(e)},t.prototype.Uc=function(e){return this.zo.length===0?0:e-this.zo[0].batchId},t.prototype.qc=function(e){var n=this.Uc(e);return n<0||n>=this.zo.length?null:this.zo[n]},t}(),L5=function(){function t(e,n){this.Ei=e,this.Wc=n,this.docs=new Hn(ge.H),this.size=0}return t.prototype.ai=function(e,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:c,readTime:r}),this.size+=c-a,this.Ei.qs(e,i.path.X())},t.prototype.li=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype._i=function(e,n){var r=this.docs.get(n);return Y.resolve(r?r.hi:null)},t.prototype.getEntries=function(e,n){var r=this,i=rv();return n.forEach(function(s){var a=r.docs.get(s);i=i.zt(s,a?a.hi:null)}),Y.resolve(i)},t.prototype.Kr=function(e,n,r){for(var i=Hf(),s=new ge(n.path.child("")),a=this.docs.ee(s);a.ce();){var c=a.oe(),l=c.key,h=c.value,d=h.hi,v=h.readTime;if(!n.path.nt(l.path))break;v._(r)<=0||d instanceof ft&&bh(n,d)&&(i=i.zt(d.key,d))}return Y.resolve(i)},t.prototype.jc=function(e,n){return Y.forEach(this.docs,function(r){return n(r)})},t.prototype.Nr=function(e){return new F5(this)},t.prototype.Or=function(e){return Y.resolve(this.size)},t}(),F5=function(t){function e(n){var r=this;return(r=t.call(this)||this).jr=n,r}return ee(e,t),e.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,a){a&&a.hi?i.push(r.jr.ai(n,a.hi,r.ci(s))):r.jr.li(s)}),Y.Mn(i)},e.prototype.fi=function(n,r){return this.jr._i(n,r)},e.prototype.di=function(n,r){return this.jr.getEntries(n,r)},e}(qD),U5=function(){function t(e){this.persistence=e,this.Gc=new Yc(function(n){return _h(n)},sg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.zc=0,this.Hc=new CE,this.targetCount=0,this.Jc=av.Mi()}return t.prototype.In=function(e,n){return this.Gc.forEach(function(r,i){return n(i)}),Y.resolve()},t.prototype.Qi=function(e){return Y.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(e){return Y.resolve(this.zc)},t.prototype.Bi=function(e){return this.highestTargetId=this.Jc.next(),Y.resolve(this.highestTargetId)},t.prototype.Wi=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),Y.resolve()},t.prototype.Gi=function(e){this.Gc.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.Jc=new av(n),this.highestTargetId=n),e.sequenceNumber>this.zc&&(this.zc=e.sequenceNumber)},t.prototype.ji=function(e,n){return this.Gi(n),this.targetCount+=1,Y.resolve()},t.prototype.Hi=function(e,n){return this.Gi(n),Y.resolve()},t.prototype.Ji=function(e,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,Y.resolve()},t.prototype.Xi=function(e,n,r){var i=this,s=0,a=[];return this.Gc.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.Gc.delete(c),a.push(i.Yi(e,l.targetId)),s++)}),Y.Mn(a).next(function(){return s})},t.prototype.Zi=function(e){return Y.resolve(this.targetCount)},t.prototype.tr=function(e,n){var r=this.Gc.get(n)||null;return Y.resolve(r)},t.prototype.er=function(e,n,r){return this.Hc.xc(n,r),Y.resolve()},t.prototype.sr=function(e,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(a){s.push(i.Ni(e,a))}),Y.Mn(s)},t.prototype.Yi=function(e,n){return this.Hc.Fc(n),Y.resolve()},t.prototype.rr=function(e,n){var r=this.Hc.kc(n);return Y.resolve(r)},t.prototype.Fi=function(e,n){return Y.resolve(this.Hc.Fi(n))},t}(),j5=function(){function t(e,n){var r=this;this.Yc={},this.so=new kr(0),this.io=!1,this.io=!0,this.Ti=e(this),this._o=new U5(this),this.Ei=new d5,this.fo=function(i,s){return new L5(i,function(a){return r.Ti.Xc(a)})}(this.Ei),this.Qt=new jD(n),this.wo=new D5(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(e){var n=this.Yc[e.A()];return n||(n=new M5(this.Ei,this.Ti),this.Yc[e.A()]=n),n},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(e,n,r){var i=this;J("MemoryPersistence","Starting transaction:",e);var s=new V5(this.so.next());return this.Ti.Zc(),r(s).next(function(a){return i.Ti.ta(s).next(function(){return a})}).On().then(function(a){return s.Vs(),a})},t.prototype.ea=function(e,n){return Y.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(e,n)}}))},t}(),V5=function(t){function e(n){var r=this;return(r=t.call(this)||this).bs=n,r}return ee(e,t),e}(UD),B5=function(){function t(e){this.persistence=e,this.na=new CE,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw he()},enumerable:!1,configurable:!0}),t.prototype.nr=function(e,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),Y.resolve()},t.prototype.ir=function(e,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),Y.resolve()},t.prototype.Ni=function(e,n){return this.ra.add(n.toString()),Y.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(e,n.targetId).next(function(s){s.forEach(function(a){return r.ra.add(a.toString())})}).next(function(){return i.Ji(e,n)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(e){var n=this,r=this.persistence.$r().Nr();return Y.forEach(this.ra,function(i){var s=ge._t(i);return n.oa(e,s).next(function(a){a||r.li(s)})}).next(function(){return n.sa=null,r.apply(e)})},t.prototype.Fr=function(e,n){var r=this;return this.oa(e,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},t.prototype.Xc=function(e){return 0},t.prototype.oa=function(e,n){var r=this;return Y.Ln([function(){return Y.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(e,n)},function(){return r.persistence.ea(e,n)}])},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t,e){return"firestore_clients_"+t+"_"+e}function MN(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function B_(t,e){return"firestore_targets_"+t+"_"+e}var LN=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.ca=function(e,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new G(s.error.code,s.error.message)),a?new t(e,n,s.state,i):(Kt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),q_=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.ca=function(e,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new G(i.error.code,i.error.message)),s?new t(e,i.state,r):(Kt("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),FN=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.ca=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=lg(),a=0;i&&a<r.activeTargetIds.length;++a)i=oD(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new t(e,s):(Kt("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),q5=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.ca=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Kt("SharedClientState","Failed to parse online state: "+e),null)},t}(),u0=function(){function t(){this.activeTargetIds=lg()}return t.prototype.ua=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.ha=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.aa=function(){var e={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),W_=function(){function t(e,n,r,i,s){this.window=e,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Hn(qe),this.Er=!1,this.Ta=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=DN(this.persistenceKey,this.la),this.ma=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new u0),this.Aa=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ya=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.ga=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return x(this,void 0,void 0,function(){var e,n,r,i,s,a,c,l,h,d,v,g=this;return k(this,function(y){switch(y.label){case 0:return[4,this._a.Uo()];case 1:for(e=y.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(DN(this.persistenceKey,i)))&&(a=FN.ca(i,s))&&(this.Ea=this.Ea.zt(a.clientId,a));for(this.Va(),(c=this.storage.getItem(this.ya))&&(l=this.pa(c))&&this.ba(l),h=0,d=this.Ta;h<d.length;h++)v=d[h],this.wa(v);return this.Ta=[],this.window.addEventListener("unload",function(){return g.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(e){this.setItem(this.ma,JSON.stringify(e))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(e){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.Ca=function(e){this.xa(e,"pending")},t.prototype.Na=function(e,n,r){this.xa(e,n,r),this.$a(e)},t.prototype.Fa=function(e){var n="not-current";if(this.Da(e)){var r=this.storage.getItem(B_(this.persistenceKey,e));if(r){var i=q_.ca(e,r);i&&(n=i.state)}}return this.Oa.ua(e),this.Va(),n},t.prototype.ka=function(e){this.Oa.ha(e),this.Va()},t.prototype.Ma=function(e){return this.Oa.activeTargetIds.has(e)},t.prototype.La=function(e){this.removeItem(B_(this.persistenceKey,e))},t.prototype.Ba=function(e,n,r){this.qa(e,n,r)},t.prototype.Ua=function(e,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=e,r.forEach(function(s){i.Ca(s)})},t.prototype.Qa=function(e){this.Ka(e)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return J("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){J("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){J("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.wa=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(J("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void Kt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return x(n,void 0,void 0,function(){var i,s,a,c,l,h;return k(this,function(d){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(a=this.Ja(r.key,r.newValue)))return[2,this.Ya(a)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(c=this.Xa(r.key,r.newValue)))return[2,this.Za(c)]}else if(r.key===this.ya){if(r.newValue!==null&&(l=this.pa(r.newValue)))return[2,this.ba(l)]}else if(r.key===this.ma)(h=function(v){var g=kr.q;if(v!=null)try{var y=JSON.parse(v);Ie(typeof y=="number"),g=y}catch(w){Kt("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue))!==kr.q&&this.k(h);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(e,n,r){var i=new LN(this.currentUser,e,n,r),s=MN(this.persistenceKey,this.currentUser,e);this.setItem(s,i.aa())},t.prototype.$a=function(e){var n=MN(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Ka=function(e){var n={clientId:this.la,onlineState:e};this.storage.setItem(this.ya,JSON.stringify(n))},t.prototype.qa=function(e,n,r){var i=B_(this.persistenceKey,e),s=new q_(e,n,r);this.setItem(i,s.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(e){var n=this.Aa.exec(e);return n?n[1]:null},t.prototype.Ha=function(e,n){var r=this.Ga(e);return FN.ca(r,n)},t.prototype.Ja=function(e,n){var r=this.Ra.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return LN.ca(new Cr(s),i,n)},t.prototype.Xa=function(e,n){var r=this.Pa.exec(e),i=Number(r[1]);return q_.ca(i,n)},t.prototype.pa=function(e){return q5.ca(e)},t.prototype.Ya=function(e){return x(this,void 0,void 0,function(){return k(this,function(n){return e.user.uid===this.currentUser.uid?[2,this._a.eu(e.batchId,e.state,e.error)]:(J("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.Za=function(e){return this._a.nu(e.targetId,e.state,e.error)},t.prototype.za=function(e,n){var r=this,i=n?this.Ea.zt(e,n):this.Ea.remove(e),s=this.Sa(this.Ea),a=this.Sa(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this._a.su(c,l).then(function(){r.Ea=i})},t.prototype.ba=function(e){this.Ea.get(e.clientId)&&this.fa(e.onlineState)},t.prototype.Sa=function(e){var n=lg();return e.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},t}(),eM=function(){function t(){this.iu=new u0,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(e){},t.prototype.Na=function(e,n,r){},t.prototype.Fa=function(e){return this.iu.ua(e),this.ru[e]||"not-current"},t.prototype.Ba=function(e,n,r){this.ru[e]=n},t.prototype.ka=function(e){this.iu.ha(e)},t.prototype.Ma=function(e){return this.iu.activeTargetIds.has(e)},t.prototype.La=function(e){delete this.ru[e]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(e){return this.iu.activeTargetIds.has(e)},t.prototype.start=function(){return this.iu=new u0,Promise.resolve()},t.prototype.Ua=function(e,n,r){},t.prototype.Qa=function(e){},t.prototype.ko=function(){},t.prototype.B=function(e){},t.prototype.Wa=function(){},t}(),W5=function(){function t(){}return t.prototype.ou=function(e){},t.prototype.ko=function(){},t}(),UN=function(){function t(){var e=this;this.cu=function(){return e.au()},this.uu=function(){return e.hu()},this.lu=[],this._u()}return t.prototype.ou=function(e){this.lu.push(e)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.lu;e<n.length;e++)(0,n[e])(0)},t.prototype.hu=function(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.lu;e<n.length;e++)(0,n[e])(1)},t.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),H5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},G5=function(){function t(e){this.fu=e.fu,this.du=e.du}return t.prototype.wu=function(e){this.Eu=e},t.prototype.Tu=function(e){this.Iu=e},t.prototype.onMessage=function(e){this.mu=e},t.prototype.close=function(){this.du()},t.prototype.send=function(e){this.fu(e)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(e){this.Iu(e)},t.prototype.Pu=function(e){this.mu(e)},t}(),$5=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return ee(e,t),e.prototype.Su=function(n,r,i,s){return new Promise(function(a,c){var l=new mK;l.listenOnce(vK.COMPLETE,function(){try{switch(l.getLastErrorCode()){case j_.NO_ERROR:var d=l.getResponseJson();J("Connection","XHR received:",JSON.stringify(d)),a(d);break;case j_.TIMEOUT:J("Connection",'RPC "'+n+'" timed out'),c(new G(D.DEADLINE_EXCEEDED,"Request time out"));break;case j_.HTTP_ERROR:var v=l.getStatus();if(J("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var g=l.getResponseJson().error;if(g&&g.status&&g.message){var y=function(w){var E=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(E)>=0?E:D.UNKNOWN}(g.status);c(new G(y,g.message))}else c(new G(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new G(D.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{J("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},e.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=dK(),a=pK(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(c.initMessageHeaders,r),mb()||ZR()||v$()||g$()||m$()||yb()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");J("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,g=new G5({fu:function(w){v?J("Connection","Not sending because WebChannel is closed:",w):(d||(J("Connection","Opening WebChannel transport."),h.open(),d=!0),J("Connection","WebChannel sending:",w),h.send(w))},du:function(){return h.close()}}),y=function(w,E,T){w.listen(E,function(N){try{T(N)}catch(P){setTimeout(function(){throw P},0)}})};return y(h,Gd.EventType.OPEN,function(){v||J("Connection","WebChannel transport opened.")}),y(h,Gd.EventType.CLOSE,function(){v||(v=!0,J("Connection","WebChannel transport closed"),g.Ru())}),y(h,Gd.EventType.ERROR,function(w){v||(v=!0,Xp("Connection","WebChannel transport errored:",w),g.Ru(new G(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,Gd.EventType.MESSAGE,function(w){var E;if(!v){var T=w.data[0];Ie(!!T);var N=T,P=N.error||((E=N[0])===null||E===void 0?void 0:E.error);if(P){J("Connection","WebChannel received error:",P);var M=P.status,U=function(j){var Se=Yt[j];if(Se!==void 0)return bD(Se)}(M),X=P.message;U===void 0&&(U=D.INTERNAL,X="Unknown error status: "+M+" with message "+P.message),v=!0,g.Ru(new G(U,X)),h.close()}else J("Connection","WebChannel received:",T),g.Pu(T)}}),y(a,gK.STAT_EVENT,function(w){w.stat===ZA.PROXY?J("Connection","Detected buffering proxy"):w.stat===ZA.NOPROXY&&J("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Au()},0),g},e}(function(){function t(e){this.yu=e,this.t=e.t;var n=e.ssl?"https":"http";this.gu=n+"://"+e.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(e,n,r,i){var s=this.bu(e,n);J("RestConnection","Sending: ",s,r);var a={};return this.vu(a,i),this.Su(e,s,a,r).then(function(c){return J("RestConnection","Received: ",c),c},function(c){throw Xp("RestConnection",e+" failed with error: ",c,"url: ",s,"request:",r),c})},t.prototype.Du=function(e,n,r,i){return this.pu(e,n,r,i)},t.prototype.vu=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",e["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(e[r]=n.g[r])},t.prototype.bu=function(e,n){var r=H5[e];return this.gu+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return typeof window<"u"?window:null}function gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return new QK(t,!0)}var AE=function(){function t(e,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=e,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(e){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&J("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),e()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),nM=function(){function t(e,n,r,i,s,a){this.Zr=e,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=a,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new AE(e,n)}return t.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},t.prototype.Hu=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.Ju()},t.prototype.stop=function(){return x(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var e=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return e.Zu()}))},t.prototype.th=function(e){this.eh(),this.stream.send(e)},t.prototype.Zu=function(){return x(this,void 0,void 0,function(){return k(this,function(e){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(e,n){return x(this,void 0,void 0,function(){return k(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,e!==3?this.Gu.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Kt(n.toString()),Kt("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===D.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){e.Wu===r&&e.ih(i)},function(i){n(function(){var s=new G(D.UNKNOWN,"Fetching auth token failed: "+i.message);return e.rh(s)})})},t.prototype.ih=function(e){var n=this,r=this.sh(this.Wu);this.stream=this.oh(e),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.Ju=function(){var e=this;this.state=4,this.Gu.Lu(function(){return x(e,void 0,void 0,function(){return k(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(e){return J("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.sh=function(e){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===e?r():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Y5=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).Qt=s,c}return ee(e,t),e.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},e.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:he()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(T,N){return T.Bt?(Ie(N===void 0||typeof N=="string"),nr.fromBase64String(N||"")):(Ie(N===void 0||N instanceof Uint8Array),nr.fromUint8Array(N||new Uint8Array))}(s,a.targetChange.resumeToken),v=(g=a.targetChange.cause)&&function(T){var N=T.code===void 0?D.UNKNOWN:bD(T.code);return new G(N,T.message||"")}(g);c=new SD(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=Hi(s,l.document.name),d=gn(l.document.updateTime);var g=new ks({mapValue:{fields:l.document.fields}}),y=(v=new ft(h,d,g,{}),l.targetIds||[]),w=l.removedTargetIds||[];c=new vp(y,w,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=Hi(s,l.document),d=l.readTime?gn(l.readTime):Ue.min(),g=new sn(h,d),v=l.removedTargetIds||[],c=new vp([],v,g.key,g);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=Hi(s,l.document),d=l.removedTargetIds||[],c=new vp([],d,h,null);else{if(!("filter"in a))return he();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new BK(l),d=E.targetId,c=new ID(d,h)}return c}(this.Qt,n),i=function(s){if(!("targetChange"in s))return Ue.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?gn(a.readTime):Ue.min()}(n);return this.listener.ah(r,i)},e.prototype.uh=function(n){var r={};r.database=Yf(this.Qt),r.addTarget=function(s,a){var c,l=a.target;return(c=ev(l)?{documents:RD(s,l)}:{query:OD(s,l)}).targetId=a.targetId,a.resumeToken.l()>0?c.resumeToken=CD(s,a.resumeToken):a.Ot._(Ue.min())>0&&(c.readTime=Gf(s,a.Ot.j())),c}(this.Qt,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return he()}}(0,a.Ft);return c==null?null:{"goog-listen-tags":c}}(this.Qt,n);i&&(r.labels=i),this.th(r)},e.prototype.hh=function(n){var r={};r.database=Yf(this.Qt),r.removeTarget=n,this.th(r)},e}(nM),z5=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).Qt=s,c.lh=!1,c}return ee(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(n){return this.Qu.Cu("Write",n)},e.prototype.onMessage=function(n){if(Ie(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,a){return s&&s.length>0?(Ie(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?gn(l.updateTime):gn(h);d.isEqual(Ue.min())&&(d=gn(h));var v=null;return l.transformResults&&l.transformResults.length>0&&(v=l.transformResults),new UK(d,v)}(c,a)})):[]}(n.writeResults,n.commitTime),i=gn(n.commitTime);return this.listener.dh(i,r)}return Ie(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var n={};n.database=Yf(this.Qt),this.th(n)},e.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return ov(r.Qt,s)})};this.th(i)},e}(nM),K5=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return ee(e,t),e.prototype.Ih=function(){if(this.Th)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.pu(n,r,i,a)}).catch(function(a){throw a.code===D.UNAUTHENTICATED&&s.credentials.p(),a})},e.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.Du(n,r,i,a)}).catch(function(a){throw a.code===D.UNAUTHENTICATED&&s.credentials.p(),a})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),Q5=function(){function t(e,n){this._s=e,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var e=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return e.Ah=null,e.gh("Backend didn't respond within 10 seconds."),e.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(e){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+e.toString()),this.yh("Offline")))},t.prototype.set=function(e){this.ph(),this.mh=0,e==="Online"&&(this.Rh=!1),this.yh(e)},t.prototype.yh=function(e){e!==this.state&&(this.state=e,this.fa(e))},t.prototype.gh=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?(Kt(n),this.Rh=!1):J("OnlineStateTracker",n)},t.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},t}(),X5=function(t,e,n,r,i){var s=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(a){n.Ps(function(){return x(s,void 0,void 0,function(){return k(this,function(c){switch(c.label){case 0:return Ms(this)?(J("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return x(this,void 0,void 0,function(){var h;return k(this,function(d){switch(d.label){case 0:return(h=te(l)).Nh.add(4),[4,zc(h)];case 1:return d.sent(),h.Oh.set("Unknown"),h.Nh.delete(4),[4,Ch(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Oh=new Q5(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(t){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:if(!Ms(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function zc(t){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function fg(t,e){var n=te(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),xE(n)?kE(n):Qc(n).Hu()&&NE(n,e))}function zf(t,e){var n=te(t),r=Qc(n);n.xh.delete(e),r.Hu()&&rM(n,e),n.xh.size===0&&(r.Hu()?r.Xu():Ms(n)&&n.Oh.set("Unknown"))}function NE(t,e){t.kh.on(e.targetId),Qc(t).uh(e)}function rM(t,e){t.kh.on(e),Qc(t).hh(e)}function kE(t){t.kh=new YK({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Qc(t).start(),t.Oh.Ph()}function xE(t){return Ms(t)&&!Qc(t).zu()&&t.xh.size>0}function Ms(t){return te(t).Nh.size===0}function iM(t){t.kh=void 0}function J5(t){return x(this,void 0,void 0,function(){return k(this,function(e){return t.xh.forEach(function(n,r){NE(t,n)}),[2]})})}function Z5(t,e){return x(this,void 0,void 0,function(){return k(this,function(n){return iM(t),xE(t)?(t.Oh.Vh(e),kE(t)):t.Oh.set("Unknown"),[2]})})}function eQ(t,e,n){return x(this,void 0,void 0,function(){var r,i,s;return k(this,function(a){switch(a.label){case 0:if(t.Oh.set("Online"),!(e instanceof SD&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return x(this,void 0,void 0,function(){var h,d,v,g;return k(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(g=v[d],c.xh.has(g)?[4,c.Dh.Mh(g,h)]:[3,3]):[3,5];case 2:y.sent(),c.xh.delete(g),c.kh.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,cv(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof vp?t.kh.dn(e):e instanceof ID?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Ue.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,QD(t.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(c,l){var h=c.kh.Vn(l);return h.$e.forEach(function(d,v){if(d.resumeToken.l()>0){var g=c.xh.get(v);g&&c.xh.set(v,g.Mt(d.resumeToken,l))}}),h.Fe.forEach(function(d){var v=c.xh.get(d);if(v){c.xh.set(d,v.Mt(nr.T,v.Ot)),rM(c,d);var g=new ag(v.target,d,1,v.sequenceNumber);NE(c,g)}}),c.Dh.Lh(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return J("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,cv(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function cv(t,e,n){return x(this,void 0,void 0,function(){var r=this;return k(this,function(i){switch(i.label){case 0:if(!$a(e))throw e;return t.Nh.add(1),[4,zc(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return QD(t.bh)}),t._s.po(function(){return x(r,void 0,void 0,function(){return k(this,function(s){switch(s.label){case 0:return J("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),t.Nh.delete(1),[4,Ch(t)];case 2:return s.sent(),[2]}})})}),[2]}})})}function oM(t,e){return e().catch(function(n){return cv(t,n,e)})}function Kc(t){return x(this,void 0,void 0,function(){var e,n,r,i,s;return k(this,function(a){switch(a.label){case 0:e=te(t),n=xs(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return Ms(c)&&c.Ch.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,x5(e.bh,r)];case 3:return(i=a.sent())===null?(e.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(c,l){c.Ch.push(l);var h=xs(c);h.Hu()&&h._h&&h.fh(l.mutations)}(e,i),[3,6]);case 4:return s=a.sent(),[4,cv(e,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return sM(e)&&aM(e),[2]}})})}function sM(t){return Ms(t)&&!xs(t).zu()&&t.Ch.length>0}function aM(t){xs(t).start()}function tQ(t){return x(this,void 0,void 0,function(){return k(this,function(e){return xs(t).Eh(),[2]})})}function nQ(t){return x(this,void 0,void 0,function(){var e,n,r,i;return k(this,function(s){for(e=xs(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]})})}function rQ(t,e,n){return x(this,void 0,void 0,function(){var r,i;return k(this,function(s){switch(s.label){case 0:return r=t.Ch.shift(),i=f5.from(r,e,n),[4,oM(t,function(){return t.Dh.Bh(i)})];case 1:return s.sent(),[4,Kc(t)];case 2:return s.sent(),[2]}})})}function iQ(t,e){return x(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return e&&xs(t)._h?[4,function(r,i){return x(this,void 0,void 0,function(){var s,a;return k(this,function(c){switch(c.label){case 0:return wD(a=i.code)&&a!==D.ABORTED?(s=r.Ch.shift(),xs(r).Yu(),[4,oM(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,Kc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sM(t)&&aM(t),[2]}})})}function c0(t,e){return x(this,void 0,void 0,function(){var n;return k(this,function(r){switch(r.label){case 0:return n=te(t),e?(n.Nh.delete(2),[4,Ch(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,zc(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Qc(t){var e=this;return t.Uh||(t.Uh=function(n,r,i){var s=te(n);return s.Ih(),new Y5(r,s.Qu,s.credentials,s.Qt,i)}(t.Sh,t._s,{wu:J5.bind(null,t),Tu:Z5.bind(null,t),ah:eQ.bind(null,t)}),t.$h.push(function(n){return x(e,void 0,void 0,function(){return k(this,function(r){switch(r.label){case 0:return n?(t.Uh.Yu(),xE(t)?kE(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:r.sent(),iM(t),r.label=3;case 3:return[2]}})})})),t.Uh}function xs(t){var e=this;return t.Qh||(t.Qh=function(n,r,i){var s=te(n);return s.Ih(),new z5(r,s.Qu,s.credentials,s.Qt,i)}(t.Sh,t._s,{wu:tQ.bind(null,t),Tu:iQ.bind(null,t),wh:nQ.bind(null,t),dh:rQ.bind(null,t)}),t.$h.push(function(n){return x(e,void 0,void 0,function(){return k(this,function(r){switch(r.label){case 0:return n?(t.Qh.Yu(),[4,Kc(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:r.sent(),t.Ch.length>0&&(J("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),r.label=4;case 4:return[2]}})})})),t.Qh}var oQ=function(){this.Kh=void 0,this.listeners=[]},sQ=function(){this.queries=new Yc(function(t){return lD(t)},wh),this.onlineState="Unknown",this.Wh=new Set};function RE(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return k(this,function(h){switch(h.label){case 0:if(n=te(t),r=e.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new oQ),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.jh(r)];case 2:return a.Kh=h.sent(),[3,4];case 3:return c=h.sent(),l=$c(c,"Initialization of query '"+i0(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Gh(n.onlineState),s.Kh&&e.zh(s.Kh)&&PE(n),[2]}})})}function OE(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a;return k(this,function(c){return n=te(t),r=e.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function aQ(t,e){for(var n=te(t),r=!1,i=0,s=e;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].zh(a)&&(r=!0);l.Kh=a}}r&&PE(n)}function uQ(t,e,n){var r=te(t),i=r.queries.get(e);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(e)}function PE(t){t.Wh.forEach(function(e){e.next()})}var DE=function(){function t(e,n,r){this.query=e,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.zh=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}e=new iv(e.query,e.docs,e.Se,n,e.De,e.fromCache,e.Ce,!0)}var a=!1;return this.Yh?this.Zh(e)&&(this.Jh.next(e),a=!0):this.tl(e,this.onlineState)&&(this.el(e),a=!0),this.Xh=e,a},t.prototype.onError=function(e){this.Jh.error(e)},t.prototype.Gh=function(e){this.onlineState=e;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,e)&&(this.el(this.Xh),n=!0),n},t.prototype.tl=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||e.docs.et()&&n!=="Offline")},t.prototype.Zh=function(e){if(e.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==e.hasPendingWrites;return!(!e.Ce&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.el=function(e){e=iv.Ne(e.query,e.docs,e.De,e.fromCache),this.Yh=!0,this.Jh.next(e)},t}(),cQ=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),jN=function(){function t(e){this.Qt=e}return t.prototype.Pc=function(e){return Hi(this.Qt,e)},t.prototype.yc=function(e){return e.metadata.exists?xD(this.Qt,e.document,!1):new sn(this.Pc(e.metadata.name),this.gc(e.metadata.readTime))},t.prototype.gc=function(e){return gn(e)},t}(),lQ=function(){function t(e,n,r){this.il=e,this.bh=n,this.Qt=r,this.queries=[],this.documents=[],this.progress=uM(e)}return t.prototype.rl=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.ol=function(e){for(var n=new Map,r=new jN(this.Qt),i=0,s=e;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.Pc(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||at()).add(c);n.set(d,v)}}return n},t.prototype.complete=function(){return x(this,void 0,void 0,function(){var e,n,r,i,s;return k(this,function(a){switch(a.label){case 0:return[4,O5(this.bh,new jN(this.Qt),this.documents,this.il.id)];case 1:e=a.sent(),n=this.ol(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,P5(this.bh,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new S5(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cM=function(t){this.key=t},lM=function(t){this.key=t},fM=function(){function t(e,n){this.query=e,this.cl=n,this.al=null,this.Be=!1,this.ul=at(),this.De=at(),this.hl=fD(e),this.ll=new TD(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(e,n){var r=this,i=n?n.dl:new pN,s=n?n.ll:this.ll,a=n?n.De:this.De,c=s,l=!1,h=dp(this.query)&&s.size===this.query.limit?s.last():null,d=nv(this.query)&&s.size===this.query.limit?s.first():null;if(e.Xt(function(g,y){var w=s.get(g),E=y instanceof ft?y:null;E&&(E=bh(r.query,E)?E:null);var T=!!w&&r.De.has(w.key),N=!!E&&(E.Vt||r.De.has(E.key)&&E.hasCommittedMutations),P=!1;w&&E?w.data().isEqual(E.data())?T!==N&&(i.track({type:3,doc:E}),P=!0):r.wl(w,E)||(i.track({type:2,doc:E}),P=!0,(h&&r.hl(E,h)>0||d&&r.hl(E,d)<0)&&(l=!0)):!w&&E?(i.track({type:0,doc:E}),P=!0):w&&!E&&(i.track({type:1,doc:w}),P=!0,(h||d)&&(l=!0)),P&&(E?(c=c.add(E),a=N?a.add(g):a.delete(g)):(c=c.delete(g),a=a.delete(g)))}),dp(this.query)||nv(this.query))for(;c.size>this.query.limit;){var v=dp(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ll:c,dl:i,lc:l,De:a}},t.prototype.wl=function(e,n){return e.Vt&&n.hasCommittedMutations&&!n.Vt},t.prototype.wi=function(e,n,r){var i=this,s=this.ll;this.ll=e.ll,this.De=e.De;var a=e.dl.ve();a.sort(function(d,v){return function(g,y){var w=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return w(g)-w(y)}(d.type,v.type)||i.hl(d.doc,v.doc)}),this.El(r);var c=n?this.Tl():[],l=this.ul.size===0&&this.Be?1:0,h=l!==this.al;return this.al=l,a.length!==0||h?{snapshot:new iv(this.query,e.ll,s,a,e.De,l===0,h,!1),Il:c}:{Il:c}},t.prototype.Gh=function(e){return this.Be&&e==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new pN,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(e){return!this.cl.has(e)&&!!this.ll.has(e)&&!this.ll.get(e).Vt},t.prototype.El=function(e){var n=this;e&&(e.qe.forEach(function(r){return n.cl=n.cl.add(r)}),e.Ue.forEach(function(r){}),e.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=e.Be)},t.prototype.Tl=function(){var e=this;if(!this.Be)return[];var n=this.ul;this.ul=at(),this.ll.forEach(function(i){e.ml(i.key)&&(e.ul=e.ul.add(i.key))});var r=[];return n.forEach(function(i){e.ul.has(i)||r.push(new lM(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new cM(i))}),r},t.prototype.Al=function(e){this.cl=e.Rc,this.ul=at();var n=this.fl(e.documents);return this.wi(n,!0)},t.prototype.Rl=function(){return iv.Ne(this.query,this.ll,this.De,this.al===0)},t}(),fQ=function(t,e,n){this.query=t,this.targetId=e,this.view=n},hQ=function(t){this.key=t,this.Pl=!1},dQ=function(){function t(e,n,r,i,s,a){this.bh=e,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=a,this.bl={},this.vl=new Yc(function(c){return lD(c)},wh),this.Sl=new Map,this.Dl=new Set,this.Cl=new Hn(ge.H),this.xl=new Map,this.Nl=new CE,this.$l={},this.Fl=new Map,this.Ol=av.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),t}();function pQ(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a,c;return k(this,function(l){switch(l.label){case 0:return n=jE(t),(s=n.vl.get(e))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,Ac(n.bh,Yr(e))];case 2:return a=l.sent(),c=n.Vl.Fa(a.targetId),r=a.targetId,[4,ME(n,e,r,c==="current")];case 3:i=l.sent(),n.Ml&&fg(n.yl,a),l.label=4;case 4:return[2,i]}})})}function ME(t,e,n,r){return x(this,void 0,void 0,function(){var i,s,a,c,l,h;return k(this,function(d){switch(d.label){case 0:return t.Ll=function(v,g,y){return function(w,E,T,N){return x(this,void 0,void 0,function(){var P,M,U;return k(this,function(X){switch(X.label){case 0:return P=E.view.fl(T),P.lc?[4,uv(w.bh,E.query,!1).then(function(j){var Se=j.documents;return E.view.fl(Se,P)})]:[3,2];case 1:P=X.sent(),X.label=2;case 2:return M=N&&N.$e.get(E.targetId),U=E.view.wi(P,w.Ml,M),[2,(l0(w,E.targetId,U.Il),U.snapshot)]}})})}(t,v,g,y)},[4,uv(t.bh,e,!0)];case 1:return i=d.sent(),s=new fM(e,i.Rc),a=s.fl(i.documents),c=yE.Le(n,r&&t.onlineState!=="Offline"),l=s.wi(a,t.Ml,c),l0(t,n,l.Il),h=new fQ(e,n,s),[2,(t.vl.set(e,h),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),l.snapshot)]}})})}function vQ(t,e){return x(this,void 0,void 0,function(){var n,r,i;return k(this,function(s){switch(s.label){case 0:return n=te(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(a){return!wh(a,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Nc(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),zf(n.yl,r.targetId),kc(n,r.targetId)}).catch(Ya)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return kc(n,r.targetId),[4,Nc(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function gQ(t,e,n){return x(this,void 0,void 0,function(){var r,i,s,a;return k(this,function(c){switch(c.label){case 0:r=VE(t),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=te(l),g=pr.now(),y=h.reduce(function(w,E){return w.add(E.key)},at());return v.persistence.runTransaction("Locally write mutations","readwrite",function(w){return v.Tc.Xo(w,y).next(function(E){d=E;for(var T=[],N=0,P=h;N<P.length;N++){var M=P[N],U=VK(M,d.get(M.key));U!=null&&T.push(new Ds(M.key,U,sD(U.proto.mapValue),Dn.exists(!0)))}return v.zo.Ri(w,g,T,h)})}).then(function(w){var E=w.xs(d);return{batchId:w.batchId,ri:E}})}(r.bh,e)];case 2:return i=c.sent(),r.Vl.Ca(i.batchId),function(l,h,d){var v=l.$l[l.currentUser.A()];v||(v=new Hn(qe)),v=v.zt(h,d),l.$l[l.currentUser.A()]=v}(r,i.batchId,n),[4,Vo(r,i.ri)];case 3:return c.sent(),[4,Kc(r.yl)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=$c(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function hM(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:n=te(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,k5(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(s,a){var c=n.xl.get(a);c&&(Ie(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?c.Pl=!0:s.Ue.size>0?Ie(c.Pl):s.Qe.size>0&&(Ie(c.Pl),c.Pl=!1))}),[4,Vo(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ya(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function VN(t,e,n){var r=te(t);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,a){var c=a.view.Gh(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=te(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,g=d.listeners;v<g.length;v++)g[v].Gh(a)&&(l=!0)}),l&&PE(c)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function mQ(t,e,n){return x(this,void 0,void 0,function(){var r,i,s,a,c,l;return k(this,function(h){switch(h.label){case 0:return(r=te(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(s=i&&i.key)?(a=(a=new Hn(ge.H)).zt(s,new sn(s,Ue.min())),c=at().add(s),l=new mE(Ue.min(),new Map,new an(qe),a,c),[4,hM(r,l)]):[3,2];case 1:return h.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(e),UE(r),[3,4];case 2:return[4,Nc(r.bh,e,!1).then(function(){return kc(r,e,n)}).catch(Ya)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function yQ(t,e){return x(this,void 0,void 0,function(){var n,r,i;return k(this,function(s){switch(s.label){case 0:n=te(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,N5(n.bh,e)];case 2:return i=s.sent(),FE(n,r,null),LE(n,r),n.Vl.Na(r,"acknowledged"),[4,Vo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ya(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function _Q(t,e,n){return x(this,void 0,void 0,function(){var r,i;return k(this,function(s){switch(s.label){case 0:r=te(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l.zo.Pi(h,c).next(function(v){return Ie(v!==null),d=v.keys(),l.zo.Ci(h,v)}).next(function(){return l.zo.$i(h)}).next(function(){return l.Tc.Xo(h,d)})})}(r.bh,e)];case 2:return i=s.sent(),FE(r,e,n),LE(r,e),r.Vl.Na(e,"rejected",n),[4,Vo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ya(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function wQ(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a;return k(this,function(c){switch(c.label){case 0:Ms((n=te(t)).yl)||J("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=te(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h.zo.Vi(d)})}(n.bh)];case 2:return(r=c.sent())===-1?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return s=c.sent(),a=$c(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function LE(t,e){(t.Fl.get(e)||[]).forEach(function(n){n.resolve()}),t.Fl.delete(e)}function FE(t,e,n){var r=te(t),i=r.$l[r.currentUser.A()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function kc(t,e,n){n===void 0&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var s=i[r];t.vl.delete(s),n&&t.bl.Bl(s,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(a){t.Nl.Fi(a)||dM(t,a)})}function dM(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);n!==null&&(zf(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),UE(t))}function l0(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof cM?(t.Nl.nr(s.key,e),bQ(t,s)):s instanceof lM?(J("SyncEngine","Document no longer in limbo: "+s.key),t.Nl.ir(s.key,e),t.Nl.Fi(s.key)||dM(t,s.key)):he()}}function bQ(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Dl.add(r),UE(t))}function UE(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new ge(Ze.ot(e)),r=t.Ol.next();t.xl.set(r,new hQ(n)),t.Cl=t.Cl.zt(n,r),fg(t.yl,new ag(Yr(Gc(n.path)),r,2,kr.q))}}function Vo(t,e,n){return x(this,void 0,void 0,function(){var r,i,s,a;return k(this,function(c){switch(c.label){case 0:return r=te(t),i=[],s=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(l,h){a.push(r.Ll(h,e,n).then(function(d){if(d){r.Ml&&r.Vl.Ba(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=C5.oc(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.bl.ah(i),[4,function(l,h){return x(this,void 0,void 0,function(){var d,v,g,y,w,E,T,N,P;return k(this,function(M){switch(M.label){case 0:d=te(l),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(U){return Y.forEach(h,function(X){return Y.forEach(X.ic,function(j){return d.persistence.Ti.nr(U,X.targetId,j)}).next(function(){return Y.forEach(X.rc,function(j){return d.persistence.Ti.ir(U,X.targetId,j)})})})})];case 2:return M.sent(),[3,4];case 3:if(!$a(v=M.sent()))throw v;return J("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(g=0,y=h;g<y.length;g++)w=y[g],E=w.targetId,w.fromCache||(T=d.fc.get(E),N=T.Ot,P=T.Lt(N),d.fc=d.fc.zt(E,P));return[2]}})})}(r.bh,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function EQ(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return(n=te(t)).currentUser.isEqual(e)?[3,3]:(J("SyncEngine","User change. New user:",e.A()),[4,KD(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(s,a){s.Fl.forEach(function(c){c.forEach(function(l){l.reject(new G(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Vo(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function TQ(t,e){var n=te(t),r=n.xl.get(e);if(r&&r.Pl)return at().add(r.key);var i=at(),s=n.Sl.get(e);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.vl.get(l);i=i.Pe(h.view._l)}return i}function IQ(t,e){return x(this,void 0,void 0,function(){var n,r,i;return k(this,function(s){switch(s.label){case 0:return[4,uv((n=te(t)).bh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Al(r),[2,(n.Ml&&l0(n,e.targetId,i.Il),i)]}})})}function SQ(t){return x(this,void 0,void 0,function(){var e;return k(this,function(n){return[2,ZD((e=te(t)).bh).then(function(r){return Vo(e,r)})]})})}function CQ(t,e,n,r){return x(this,void 0,void 0,function(){var i,s;return k(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=te(c),d=te(h.zo);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.yi(v,l).next(function(g){return g?h.Tc.Xo(v,g):Y.resolve(null)})})}((i=te(t)).bh,e)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Kc(i.yl)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(FE(i,e,r||null),LE(i,e),function(c,l){te(te(c).zo).xi(l)}(i.bh,e)):he(),a.label=4;case 4:return[4,Vo(i,s)];case 5:return a.sent(),[3,7];case 6:J("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function AQ(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return k(this,function(d){switch(d.label){case 0:return jE(n=te(t)),VE(n),e!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,BN(n,r.it())]);case 1:return i=d.sent(),n.kl=!0,[4,c0(n.yl,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],fg(n.yl,c);return[3,7];case 3:return e!==!1||n.kl===!1?[3,7]:(l=[],h=Promise.resolve(),n.Sl.forEach(function(v,g){n.Vl.Ma(g)?l.push(g):h=h.then(function(){return kc(n,g),Nc(n.bh,g,!0)}),zf(n.yl,g)}),[4,h]);case 4:return d.sent(),[4,BN(n,l)];case 5:return d.sent(),function(v){var g=te(v);g.xl.forEach(function(y,w){zf(g.yl,w)}),g.Nl.Oc(),g.xl=new Map,g.Cl=new Hn(ge.H)}(n),n.kl=!1,[4,c0(n.yl,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function BN(t,e,n){return x(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g,y,w,E,T;return k(this,function(N){switch(N.label){case 0:r=te(t),i=[],s=[],a=0,c=e,N.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Sl.get(l))&&d.length!==0?[4,Ac(r.bh,Yr(d[0]))]:[3,7]):[3,13];case 2:h=N.sent(),v=0,g=d,N.label=3;case 3:return v<g.length?(y=g[v],w=r.vl.get(y),[4,IQ(r,w)]):[3,6];case 4:(E=N.sent()).snapshot&&s.push(E.snapshot),N.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,JD(r.bh,l)];case 8:return T=N.sent(),[4,Ac(r.bh,T)];case 9:return h=N.sent(),[4,ME(r,pM(T),l,!1)];case 10:N.sent(),N.label=11;case 11:i.push(h),N.label=12;case 12:return a++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function pM(t){return uD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function NQ(t){var e=te(t);return te(te(e.bh).persistence).Uo()}function kQ(t,e,n,r){return x(this,void 0,void 0,function(){var i,s,a;return k(this,function(c){switch(c.label){case 0:return(i=te(t)).kl?(J("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ZD(i.bh)];case 3:return s=c.sent(),a=mE.Me(e,n==="current"),[4,Vo(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,Nc(i.bh,e,!0)];case 6:return c.sent(),kc(i,e,r),[3,8];case 7:he(),c.label=8;case 8:return[2]}})})}function xQ(t,e,n){return x(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,g;return k(this,function(y){switch(y.label){case 0:if(!(r=jE(t)).kl)return[3,10];i=0,s=e,y.label=1;case 1:return i<s.length?(a=s[i],r.Sl.has(a)?(J("SyncEngine","Adding an already active target "+a),[3,5]):[4,JD(r.bh,a)]):[3,6];case 2:return c=y.sent(),[4,Ac(r.bh,c)];case 3:return l=y.sent(),[4,ME(r,pM(c),l.targetId,!1)];case 4:y.sent(),fg(r.yl,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(w){return k(this,function(E){switch(E.label){case 0:return r.Sl.has(w)?[4,Nc(r.bh,w,!1).then(function(){zf(r.yl,w),kc(r,w)}).catch(Ya)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(g=v[d],[5,h(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function jE(t){var e=te(t);return e.yl.Dh.Lh=hM.bind(null,e),e.yl.Dh.vn=TQ.bind(null,e),e.yl.Dh.Mh=mQ.bind(null,e),e.bl.ah=aQ.bind(null,e.gl),e.bl.Bl=uQ.bind(null,e.gl),e}function VE(t){var e=te(t);return e.yl.Dh.Bh=yQ.bind(null,e),e.yl.Dh.qh=_Q.bind(null,e),e}function RQ(t,e,n){var r=te(t);(function(i,s,a){return x(this,void 0,void 0,function(){var c,l,h,d,v,g;return k(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(w,E){var T=te(w),N=gn(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",function(P){return T.wo.Os(P,E.id)}).then(function(P){return!!P&&P.createTime._(N)>=0})}(i.bh,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a.ql(function(w){return{taskState:"Success",documentsLoaded:w.totalDocuments,bytesLoaded:w.totalBytes,totalDocuments:w.totalDocuments,totalBytes:w.totalBytes}}(c)))];case 4:return a.Ul(uM(c)),l=new lQ(c,i.bh,s.Qt),[4,s.Ql()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.rl(h)]:[3,10];case 7:return(d=y.sent())&&a.Ul(d),[4,s.Ql()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,Vo(i,v.Go,void 0)];case 12:return y.sent(),[4,function(w,E){var T=te(w);return T.persistence.runTransaction("Save bundle","readwrite",function(N){return T.wo.ks(N,E)})}(i.bh,c)];case 13:return y.sent(),a.ql(v.progress),[3,15];case 14:return Xp("SyncEngine","Loading bundle failed with "+(g=y.sent())),a.Kl(g),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.Vl.Wa()})}var vM=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return x(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return this.Qt=Sh(e.yu.t),this.Vl=this.Wl(e),this.persistence=this.jl(e),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(e),this.bh=this.Hl(e),[2]}})})},t.prototype.zl=function(e){return null},t.prototype.Hl=function(e){return zD(this.persistence,new YD,e.Jl,this.Qt)},t.prototype.jl=function(e){return new j5(B5.ia,this.Qt)},t.prototype.Wl=function(e){return new eM},t.prototype.terminate=function(){return x(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return e.sent(),[4,this.persistence.ko()];case 2:return e.sent(),[2]}})})},t}(),gM=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return ee(e,t),e.prototype.initialize=function(n){return x(this,void 0,void 0,function(){return k(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,R5(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,VE(this.Yl._a)];case 4:return r.sent(),[4,Kc(this.Yl.yl)];case 5:return r.sent(),[2]}})})},e.prototype.Hl=function(n){return zD(this.persistence,new YD,n.Jl,this.Qt)},e.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new y5(r,n._s)},e.prototype.jl=function(n){var r=SE(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?Di.Ys(this.cacheSizeBytes):Di.ti;return new I5(this.synchronizeTabs,r,n.clientId,i,n._s,tM(),gp(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(n){return new eM},e}(vM),OQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ee(e,t),e.prototype.initialize=function(n){return x(this,void 0,void 0,function(){var r,i=this;return k(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof W_?(this.Vl._a={eu:CQ.bind(null,r),nu:kQ.bind(null,r),su:xQ.bind(null,r),Uo:NQ.bind(null,r),tu:SQ.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(a){return x(i,void 0,void 0,function(){return k(this,function(c){switch(c.label){case 0:return[4,AQ(this.Yl._a,a)];case 1:return c.sent(),this.Gl&&(a&&!this.Gl.Er?this.Gl.start(this.bh):a||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Wl=function(n){var r=tM();if(!W_.Kn(r))throw new G(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=SE(n.yu.t,n.yu.persistenceKey);return new W_(r,n._s,i,n.clientId,n.Jl)},e}(gM),f0=function(){function t(){}return t.prototype.initialize=function(e,n){return x(this,void 0,void 0,function(){var r=this;return k(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=e.bh,this.Vl=e.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!e.synchronizeTabs),this.Vl.fa=function(s){return VN(r._a,s,1)},this.yl.Dh.n_=EQ.bind(null,this._a),[4,c0(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.t_=function(e){return new sQ},t.prototype.Xl=function(e){var n,r=Sh(e.yu.t),i=(n=e.yu,new $5(n));return function(s,a,c){return new K5(s,a,c)}(e.credentials,i,r)},t.prototype.Zl=function(e){var n,r,i,s,a,c=this;return n=this.bh,r=this.Sh,i=e._s,s=function(l){return VN(c._a,l,0)},a=UN.Kn()?new UN:new W5,new X5(n,r,i,s,a)},t.prototype.e_=function(e,n){return function(r,i,s,a,c,l,h){var d=new dQ(r,i,s,a,c,l);return h&&(d.kl=!0),d}(this.bh,this.yl,this.gl,this.Vl,e.Jl,e.pl,n)},t.prototype.terminate=function(){return function(e){return x(this,void 0,void 0,function(){var n;return k(this,function(r){switch(r.label){case 0:return n=te(e),J("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,zc(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return x(this,void 0,void 0,function(){var r;return k(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return x(this,void 0,void 0,function(){return k(this,function(r){return[2]})})},releaseLock:function(){}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hg=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.s_(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.s_(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),PQ=function(){function t(e,n){var r=this;this.r_=e,this.Qt=n,this.metadata=new rr,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(i){i&&i.sl()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return x(this,void 0,void 0,function(){return k(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return x(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.c_())]}})})},t.prototype.c_=function(){return x(this,void 0,void 0,function(){var e,n,r,i;return k(this,function(s){switch(s.label){case 0:return[4,this.a_()];case 1:return(e=s.sent())===null?[2,null]:(n=this.o_.decode(e),r=Number(n),isNaN(r)&&this.u_("length string ("+n+") is not valid number"),[4,this.h_(r)]);case 2:return i=s.sent(),[2,new cQ(JSON.parse(i),e.length+r)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.a_=function(){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.h_=function(e){return x(this,void 0,void 0,function(){var n;return k(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.__()]:[3,3];case 1:r.sent()&&this.u_("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.o_.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.u_=function(e){throw this.r_.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.__=function(){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return[4,this.r_.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),So=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new wi(e)}return t.prototype.isEqual=function(e){return this.f_.isEqual(e.f_)},t}(),za=function(t){this._methodName=t},Ge=function(t){this.d_=t};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e,n){if(!n)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function qE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G(D.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function mM(t,e,n,r){if(e===!0&&r===!0)throw new G(D.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function WN(t){if(!ge.wt(t))throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function HN(t){if(ge.wt(t))throw new G(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function dg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":he()}function Je(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=dg(t);throw new G(D.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function GN(t,e){if(e<=0)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $N=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,mM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),YN=new Map,Kf=function(){function t(e,n){this.w_="(lite)",this.E_=new $N({}),this.T_=!1,e instanceof Qp?(this.I_=e,this.m_=new eN):(this.A_=e,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new G(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qp(r.options.projectId)}(e),this.m_=new bK(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),t.prototype.g_=function(e){if(this.T_)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new $N(e),e.credentials!==void 0&&(this.m_=function(n){if(!n)return new eN;switch(n.type){case"gapi":var r=n.client;return Ie(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new TK(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new G(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return e=this,(n=YN.get(e))&&(J("ComponentProvider","Removing Datastore"),YN.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Rt=function(){function t(e,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Es(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),vr=function(){function t(e,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Es=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,Gc(i))||this).firestore=n,s.D_=i,s.type="collection",s}return ee(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new Rt(this.firestore,null,new ge(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this.D_)},e}(vr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ge&&(t=t.d_),BE("collection","path",e),t instanceof Kf)return HN(n=Ze.ot.apply(Ze,Wt([e],r))),new Es(t,null,n);if(!(t instanceof Rt||t instanceof Es))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return HN(n=Ze.ot.apply(Ze,Wt([t.path],r)).child(Ze.ot(e))),new Es(t.firestore,null,n)}function mp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ge&&(t=t.d_),arguments.length===1&&(e=eD.u()),BE("doc","path",e),t instanceof Kf)return WN(n=Ze.ot.apply(Ze,Wt([e],r))),new Rt(t,null,new ge(n));if(!(t instanceof Rt||t instanceof Es))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return WN(n=t.D_.child(Ze.ot.apply(Ze,Wt([e],r)))),new Rt(t.firestore,t instanceof Es?t.v_:null,new ge(n))}function _M(t,e){return t instanceof Ge&&(t=t.d_),e instanceof Ge&&(e=e.d_),(t instanceof Rt||t instanceof Es)&&(e instanceof Rt||e instanceof Es)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function wM(t,e){return t instanceof Ge&&(t=t.d_),e instanceof Ge&&(e=e.d_),t instanceof vr&&e instanceof vr&&t.firestore===e.firestore&&wh(t.C_,e.C_)&&t.v_===e.v_}var pg=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=e,this.N_=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.x_===e.x_&&this.N_===e.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(e){return qe(this.x_,e.x_)||qe(this.N_,e.N_)},t}(),DQ=/^__.*__$/,MQ=function(){function t(e,n,r){this.data=e,this.Gt=n,this.fieldTransforms=r}return t.prototype.F_=function(e,n){return this.Gt!==null?new Ds(e,this.data,this.Gt,n,this.fieldTransforms):new Th(e,this.data,n,this.fieldTransforms)},t}(),bM=function(){function t(e,n,r){this.data=e,this.Gt=n,this.fieldTransforms=r}return t.prototype.F_=function(e,n){return new Ds(e,this.data,this.Gt,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var TM=function(){function t(e,n,r,i,s,a){this.settings=e,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.M_({path:r,B_:!1});return i.q_(e),i},t.prototype.U_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.M_({path:r,B_:!1});return i.O_(),i},t.prototype.Q_=function(e){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(e){return lv(e,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(e){return this.Gt.find(function(n){return e.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return e.nt(n.field)})!==void 0},t.prototype.O_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.q_(this.path.get(e))},t.prototype.q_=function(e){if(e.length===0)throw this.K_("Document fields must not be empty");if(EM(this.k_)&&DQ.test(e))throw this.K_('Document fields cannot begin and end with "__"')},t}(),LQ=function(){function t(e,n,r){this.t=e,this.ignoreUndefinedProperties=n,this.Qt=r||Sh(e)}return t.prototype.G_=function(e,n,r,i){return i===void 0&&(i=!1),new TM({k_:e,methodName:n,j_:r,path:wi.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function Ka(t){var e=t.p_(),n=Sh(t.I_);return new LQ(t.I_,!!e.ignoreUndefinedProperties,n)}function vg(t,e,n,r,i,s){s===void 0&&(s={});var a=t.G_(s.merge||s.mergeFields?2:0,e,n,i);$E("Data must be an object, but it was:",a,r);var c,l,h=CM(r,a);if(s.merge)c=new gc(a.Gt),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,g=s.mergeFields;v<g.length;v++){var y=h0(e,g[v],n);if(!a.contains(y))throw new G(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");NM(d,y)||d.push(y)}c=new gc(d),l=a.fieldTransforms.filter(function(w){return c.Tt(w.field)})}else c=null,l=a.fieldTransforms;return new MQ(new ks(h),c,l)}var WE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(za);function IM(t,e,n){return new TM({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var FQ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.z_=function(n){return new Eh(n.path,new wc)},e.prototype.isEqual=function(n){return n instanceof e},e}(za),UQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).H_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=IM(this,n,!0),i=this.H_.map(function(a){return Qa(a,r)}),s=new Ma(i);return new Eh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(za),jQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).H_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=IM(this,n,!0),i=this.H_.map(function(a){return Qa(a,r)}),s=new La(i);return new Eh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(za),VQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).J_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=new bc(n.Qt,pD(n.Qt,this.J_));return new Eh(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(za);function HE(t,e,n,r){var i=t.G_(1,e,n);$E("Data must be an object, but it was:",i,r);var s=[],a=new yh;mh(r,function(l,h){var d=YE(e,l,n);h instanceof Ge&&(h=h.d_);var v=i.U_(d);if(h instanceof WE)s.push(d);else{var g=Qa(h,v);g!=null&&(s.push(d),a.set(d,g))}});var c=new gc(s);return new bM(a.Pt(),c,i.fieldTransforms)}function GE(t,e,n,r,i,s){var a=t.G_(1,e,n),c=[h0(e,r,n)],l=[i];if(s.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(h0(e,s[h])),l.push(s[h+1]);for(var d=[],v=new yh,g=c.length-1;g>=0;--g)if(!NM(d,c[g])){var y=c[g],w=l[g];w instanceof Ge&&(w=w.d_);var E=a.U_(y);if(w instanceof WE)d.push(y);else{var T=Qa(w,E);T!=null&&(d.push(y),v.set(y,T))}}var N=new gc(d);return new bM(v.Pt(),N,a.fieldTransforms)}function SM(t,e,n,r){return r===void 0&&(r=!1),Qa(n,t.G_(r?4:3,e))}function Qa(t,e){if(t instanceof Ge&&(t=t.d_),AM(t))return $E("Unsupported field value:",e,t),CM(t,e);if(t instanceof za)return function(n,r){if(!EM(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&e.k_!==4)throw e.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Qa(c[a],r.Q_(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(n instanceof Ge&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return pD(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=pr.fromDate(n);return{timestampValue:Gf(r.Qt,i)}}if(n instanceof pr)return i=new pr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Gf(r.Qt,i)};if(n instanceof pg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Da)return{bytesValue:CD(r.Qt,n.I)};if(n instanceof Rt){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:_E(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+dg(n))}(t,e)}function CM(t,e){var n={};return rD(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):mh(t,function(r,i){var s=Qa(i,e.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function AM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pr||t instanceof pg||t instanceof Da||t instanceof Rt||t instanceof za)}function $E(t,e,n){if(!AM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=dg(n);throw r==="an object"?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function h0(t,e,n){if(e instanceof Ge&&(e=e.d_),e instanceof So)return e.f_;if(typeof e=="string")return YE(t,e);throw lv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var BQ=new RegExp("[~\\*/\\[\\]]");function YE(t,e,n){if(e.search(BQ)>=0)throw lv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(So.bind.apply(So,Wt([void 0],e.split("."))))().f_}catch{throw lv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lv(t,e,n,r,i){var s=r&&!r.et(),a=i!==void 0,c="Function "+e+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new G(D.INVALID_ARGUMENT,(c+=". ")+t+l)}function NM(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qQ=function(){function t(e){this.Sh=e,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(e){return x(this,void 0,void 0,function(){var n,r=this;return k(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new G(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return x(this,void 0,void 0,function(){var c,l,h,d,v,g;return k(this,function(y){switch(y.label){case 0:return c=te(s),l=Yf(c.Qt)+"/documents",h={documents:a.map(function(w){return $f(c.Qt,w)})},[4,c.Du("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(w){var E=function(T,N){return"found"in N?function(P,M){Ie(!!M.found),M.found.name,M.found.updateTime;var U=Hi(P,M.found.name),X=gn(M.found.updateTime),j=new ks({mapValue:{fields:M.found.fields}});return new ft(U,X,j,{})}(T,N):"missing"in N?function(P,M){Ie(!!M.missing),Ie(!!M.readTime);var U=Hi(P,M.missing),X=gn(M.readTime);return new sn(U,X)}(T,N):he()}(c.Qt,w);v.set(E.key.toString(),E)}),g=[],[2,(a.forEach(function(w){var E=v.get(w.toString());Ie(!!E),g.push(E)}),g)]}})})}(this.Sh,e)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof sn||s instanceof ft?r.sf(s):he()}),n)]}})})},t.prototype.set=function(e,n){this.write(n.F_(e,this.jt(e))),this.tf.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.F_(e,this.rf(e)))}catch(r){this.Z_=r}this.tf.add(e.toString())},t.prototype.delete=function(e){this.write(new Ih(e,this.jt(e))),this.tf.add(e.toString())},t.prototype.commit=function(){return x(this,void 0,void 0,function(){var e,n=this;return k(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return e=this.Y_,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,s){var a=ge._t(s);n.mutations.push(new gE(a,n.jt(a)))}),[4,function(i,s){return x(this,void 0,void 0,function(){var a,c,l;return k(this,function(h){switch(h.label){case 0:return a=te(i),c=Yf(a.Qt)+"/documents",l={writes:s.map(function(d){return ov(a.Qt,d)})},[4,a.pu("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(e){var n;if(e instanceof ft)n=e.version;else{if(!(e instanceof sn))throw he();n=Ue.min()}var r=this.Y_.get(e.key.toString());if(r){if(!n.isEqual(r))throw new G(D.ABORTED,"Document version changed between two reads.")}else this.Y_.set(e.key.toString(),n)},t.prototype.jt=function(e){var n=this.Y_.get(e.toString());return!this.tf.has(e.toString())&&n?Dn.updateTime(n):Dn.Kt()},t.prototype.rf=function(e){var n=this.Y_.get(e.toString());if(!this.tf.has(e.toString())&&n){if(n.isEqual(Ue.min()))throw new G(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(n)}return Dn.exists(!0)},t.prototype.write=function(e){this.nf(),this.mutations.push(e)},t.prototype.nf=function(){},t}(),WQ=function(){function t(e,n,r,i){this._s=e,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new AE(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var e=this;this.Gu.Lu(function(){return x(e,void 0,void 0,function(){var n,r,i=this;return k(this,function(s){return n=new qQ(this.Sh),(r=this.uf(n))&&r.then(function(a){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(a)}).catch(function(c){i.hf(c)})})}).catch(function(a){i.hf(a)}),[2]})})})},t.prototype.uf=function(e){try{var n=this.updateFunction(e);return!Ga(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},t.prototype.hf=function(e){var n=this;this.cf>0&&this.lf(e)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(e)},t.prototype.lf=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!wD(n)}return!1},t}(),HQ=function(){function t(e,n,r){var i=this;this.credentials=e,this._s=n,this.yu=r,this.user=Cr.UNAUTHENTICATED,this.clientId=eD.u(),this._f=function(){},this.C=new rr,this.credentials.v(function(s){J("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return t.prototype.getConfiguration=function(){return x(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.C.promise];case 1:return[2,(e.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(e){var n=this;this._f=e,this.C.promise.then(function(){return n._f(n.user)})},t.prototype.df=function(){if(this._s.wf)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this._s.Ef();var n=new rr;return this._s.Tf(function(){return x(e,void 0,void 0,function(){var r,i;return k(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=$c(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e){return x(this,void 0,void 0,function(){var n,r,i=this;return k(this,function(s){switch(s.label){case 0:return t._s.Af(),J("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Jl,t.ff(function(a){r.isEqual(a)||(r=a,t._s.po(function(){return x(i,void 0,void 0,function(){return k(this,function(c){switch(c.label){case 0:return[4,KD(e.bh,a)];case 1:return c.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function xM(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,zE(t)];case 1:return n=i.sent(),J("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(s){return t._s.po(function(){return function(a,c){return x(this,void 0,void 0,function(){var l,h;return k(this,function(d){switch(d.label){case 0:return(l=te(a))._s.Af(),J("RemoteStore","RemoteStore received new credentials"),h=Ms(l),l.Nh.add(3),[4,zc(l)];case 1:return d.sent(),h&&l.Oh.set("Unknown"),[4,l.Dh.n_(c)];case 2:return d.sent(),l.Nh.delete(3),[4,Ch(l)];case 3:return d.sent(),[2]}})})}(e.yl,s)})}),t.If=e,[2]}})})}function zE(t){return x(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(J("FirestoreClient","Using default OfflineComponentProvider"),[4,kM(t,new vM)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function gg(t){return x(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(J("FirestoreClient","Using default OnlineComponentProvider"),[4,xM(t,new f0)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function zN(t){return zE(t).then(function(e){return e.persistence})}function KE(t){return zE(t).then(function(e){return e.bh})}function KN(t){return gg(t).then(function(e){return e.yl})}function QE(t){return gg(t).then(function(e){return e._a})}function xc(t){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return[4,gg(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=pQ.bind(null,e._a),n.Hh=vQ.bind(null,e._a),n)]}})})}function QN(t,e,n){var r=this;n===void 0&&(n={});var i=new rr;return t._s.Ps(function(){return x(r,void 0,void 0,function(){var s;return k(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var g=new hg({next:function(w){l.Ps(function(){return OE(c,y)});var E=w.docs.has(h);!E&&w.fromCache?v.reject(new G(D.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?v.reject(new G(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new DE(Gc(h.path),g,{includeMetadataChanges:!0,nl:!0});return RE(c,y)},[4,xc(t)];case 1:return[2,s.apply(void 0,[a.sent(),t._s,e,n,i])]}})})}),i.promise}function XN(t,e,n){var r=this;n===void 0&&(n={});var i=new rr;return t._s.Ps(function(){return x(r,void 0,void 0,function(){var s;return k(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var g=new hg({next:function(w){l.Ps(function(){return OE(c,y)}),w.fromCache&&d.source==="server"?v.reject(new G(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(w)},error:function(w){return v.reject(w)}}),y=new DE(h,g,{includeMetadataChanges:!0,nl:!0});return RE(c,y)},[4,xc(t)];case 1:return[2,s.apply(void 0,[a.sent(),t._s,e,n,i])]}})})}),i.promise}var GQ=function(){function t(){var e=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new AE(this,"async_queue_retry"),this.vf=function(){var r=gp();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Gu.qu()};var n=gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(e){this.enqueue(e)},t.prototype.Tf=function(e){this.Sf(),this.Df(e)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var e=gp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(e){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(e)},t.prototype.po=function(e){var n=this;this.Ps(function(){return n.Pf.push(e),n.Cf()})},t.prototype.Cf=function(){return x(this,void 0,void 0,function(){var e,n=this;return k(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!$a(e=r.sent()))throw e;return J("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},t.prototype.Df=function(e){var n=this,r=this.Rf.then(function(){return n.pf=!0,e().catch(function(i){throw n.Vf=i,n.pf=!1,Kt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},t.prototype.Tr=function(e,n,r){var i=this;this.Sf(),this.bf.indexOf(e)>-1&&(n=0);var s=o5.Ts(this,e,n,r,function(a){return i.xf(a)});return this.gf.push(s),s},t.prototype.Sf=function(){this.Vf&&he()},t.prototype.Af=function(){},t.prototype.Nf=function(){return x(this,void 0,void 0,function(){var e;return k(this,function(n){switch(n.label){case 0:return[4,e=this.Rf];case 1:n.sent(),n.label=2;case 2:if(e!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.$f=function(e){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===e)return!0;return!1},t.prototype.Ff=function(e){var n=this;return this.Nf().then(function(){n.gf.sort(function(a,c){return a.ds-c.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),e!=="all"&&s.fs===e)break}return n.Nf()})},t.prototype.Of=function(e){this.bf.push(e)},t.prototype.xf=function(e){var n=this.gf.indexOf(e);this.gf.splice(n,1)},t}();function Rc(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var $Q=function(){function t(){this.kf={},this.Mf=new rr,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this.kf={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this.Mf.promise.catch(e)},t.prototype.then=function(e,n){return this.Mf.promise.then(e,n)},t.prototype.ql=function(e){this.Ul(e),this.kf.complete&&this.kf.complete(),this.Mf.resolve(e)},t.prototype.Kl=function(e){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(e),this.Mf.reject(e)},t.prototype.Ul=function(e){this.Lf=e,this.kf.next&&this.kf.next(e)},t}(),YQ=-1,qt=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).Bf=new GQ,i.w_="name"in n?n.name:"[DEFAULT]",i}return ee(e,t),e.prototype.b_=function(){return this.qf||RM(this),this.qf.terminate()},e}(Kf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t.qf||RM(t),t.qf.df(),t.qf}function RM(t){var e=t.p_(),n=function(r,i,s){return new yK(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new HQ(t.m_,t.Bf,n)}function JN(t,e,n){var r=this,i=new rr;return t._s.enqueue(function(){return x(r,void 0,void 0,function(){var s;return k(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,kM(t,n)];case 1:return a.sent(),[4,xM(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===D.FAILED_PRECONDITION||c.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function ZN(t){if(t.R_||t.P_)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XE=function(){function t(){}return t.prototype.Uf=function(e,n){switch(n===void 0&&(n="none"),Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.Qf(e.timestampValue);case 4:return this.Kf(e,n);case 5:return e.stringValue;case 6:return this.Wf(mc(e.bytesValue));case 7:return this.jf(e.referenceValue);case 8:return this.Gf(e.geoPointValue);case 9:return this.zf(e.arrayValue,n);case 10:return this.Hf(e.mapValue,n);default:throw he()}},t.prototype.Hf=function(e,n){var r=this,i={};return mh(e.fields||{},function(s,a){i[s]=r.Uf(a,n)}),i},t.prototype.Gf=function(e){return new pg(zt(e.latitude),zt(e.longitude))},t.prototype.zf=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.Uf(i,n)})},t.prototype.Kf=function(e,n){switch(n){case"previous":var r=iD(e);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(Bf(e));default:return null}},t.prototype.Qf=function(e){var n=As(e);return new pr(n.seconds,n.nanos)},t.prototype.Jf=function(e,n){var r=Ze.ot(e);Ie(MD(r));var i=new Qp(r.get(1),r.get(3)),s=new ge(r.Y(5));return i.isEqual(n)||Kt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},t}(),Qf=function(){function t(e,n,r,i,s){this.Yf=e,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Rt(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this.Zf!==null},t.prototype.data=function(){if(this.Zf){if(this.v_){var e=new zQ(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(e)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(e){if(this.Zf){var n=this.Zf.data().field(fv("DocumentSnapshot.get",e));if(n!==null)return this.Xf.Uf(n)}},t}(),zQ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Qf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(t,e){return typeof e=="string"?YE(t,e):e instanceof Ge?e.d_.f_:e.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){if(nv(t)&&t.xt.length===0)throw new G(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ah=function(){};function ts(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.td(t)}return t}var KQ=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return ee(e,t),e.prototype.td=function(n){var r=Ka(n.firestore),i=function(s,a,c,l,h,d,v){var g;if(h.ut()){if(d==="array-contains"||d==="array-contains-any")throw new G(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){ik(v,d);for(var y=[],w=0,E=v;w<E.length;w++){var T=E[w];y.push(rk(l,s,T))}g={arrayValue:{values:y}}}else g=rk(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ik(v,d),g=SM(c,"where",v,d==="in"||d==="not-in");var N=xr.create(h,d,g);return function(P,M){if(M.Ct()){var U=dE(P);if(U!==null&&!U.isEqual(M.field))throw new G(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+U.toString()+"' and '"+M.field.toString()+"'");var X=hE(P);X!==null&&DM(P,M.field,X)}var j=function(Se,rt){for(var pe=0,_n=Se.filters;pe<_n.length;pe++){var R=_n[pe];if(rt.indexOf(R.op)>=0)return R.op}return null}(P,function(Se){switch(Se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(M.op));if(j!==null)throw j===M.op?new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+M.op.toString()+"' filter."):new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+M.op.toString()+"' filters with '"+j.toString()+"' filters.")}(s,N),N}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new vr(n.firestore,n.v_,function(s,a){var c=s.filters.concat([a]);return new jo(s.path,s.collectionGroup,s.xt.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},e}(Ah),QQ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return ee(e,t),e.prototype.td=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Zu(s,a);return function(l,h){if(hE(l)===null){var d=dE(l);d!==null&&DM(l,d,h.field)}}(i,c),c}(n.C_,this.ed,this.rd);return new vr(n.firestore,n.v_,function(i,s){var a=i.xt.concat([s]);return new jo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},e}(Ah),ek=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.od=r,s.ad=i,s}return ee(e,t),e.prototype.td=function(n){return new vr(n.firestore,n.v_,cD(n.C_,this.od,this.ad))},e}(Ah),tk=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.ud=r,s.hd=i,s}return ee(e,t),e.prototype.td=function(n){var r=PM(n,this.type,this.ud,this.hd);return new vr(n.firestore,n.v_,function(i,s){return new jo(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},e}(Ah),nk=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.ud=r,s.hd=i,s}return ee(e,t),e.prototype.td=function(n){var r=PM(n,this.type,this.ud,this.hd);return new vr(n.firestore,n.v_,function(i,s){return new jo(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},e}(Ah);function PM(t,e,n,r){if(n[0]instanceof Ge&&(n[0]=n[0].d_),n[0]instanceof Qf)return function(s,a,c,l,h){if(!l)throw new G(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,g=_c(s);v<g.length;v++){var y=g[v];if(y.field.ut())d.push(Zp(a,l.key));else{var w=l.field(y.field);if(sE(w))throw new G(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){var E=y.field.rt();throw new G(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(w)}}return new Wf(d,h)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=Ka(t.firestore);return function(s,a,c,l,h,d){var v=s.xt;if(h.length>v.length)throw new G(D.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<h.length;y++){var w=h[y];if(v[y].field.ut()){if(typeof w!="string")throw new G(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof w);if(!pE(s)&&w.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+w+"' contains a slash.");var E=s.path.child(Ze.ot(w));if(!ge.wt(E))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var T=new ge(E);g.push(Zp(a,T))}else{var N=SM(c,l,w);g.push(N)}}return new Wf(g,d)}(t.C_,t.firestore.I_,i,e,n,r)}function rk(t,e,n){if(n instanceof Ge&&(n=n.d_),typeof n=="string"){if(n==="")throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!pE(e)&&n.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ze.ot(n));if(!ge.wt(r))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Zp(t,new ge(r))}if(n instanceof Rt)return Zp(t,n.S_);throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+dg(n)+".")}function ik(t,e){if(!Array.isArray(t)||t.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new G(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function DM(t,e,n){if(!n.isEqual(e))throw new G(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var XQ=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new Da(n)},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Rt(this.firestore,null,r)},e}(XE),ma=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Co=function(t){function e(n,r,i,s,a,c){var l=this;return(l=t.call(this,n,r,i,s,c)||this).Yf=n,l.ld=n,l.metadata=a,l}return ee(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new df(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(fv("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},e}(Qf),df=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Co),ls=function(){function t(e,n,r,i){this.Yf=e,this.Xf=n,this._d=i,this.metadata=new ma(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._d.docs.forEach(function(i){e.call(n,new df(r.Yf,r.Xf,i.key,i,new ma(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._d.xe)throw new G(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(c){var l=new df(r.Yf,r.Xf,c.doc.key,c.doc,new ma(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}var a=r._d.Se;return r._d.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new df(r.Yf,r.Xf,c.doc.key,c.doc,new ma(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:JQ(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this.dd=n),this.fd},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}function MM(t,e){return t instanceof Co&&e instanceof Co?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(t.Zf===null?e.Zf===null:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof ls&&e instanceof ls&&t.Yf===e.Yf&&wM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new Da(n)},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Rt(this.firestore,null,r)},e}(XE);function ok(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Je(t,Rt);var s=Je(t.firestore,qt),a=Ka(s);return e instanceof Ge&&(e=e.d_),Xf(s,[(typeof e=="string"||e instanceof So?GE(a,"updateDoc",t.S_,e,n,r):HE(a,"updateDoc",t.S_,e)).F_(t.S_,Dn.exists(!0))])}function LM(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Ge&&(t=t.d_);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||Rc(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Rc(i[c])){var g=i[c];i[c]=(e=g.next)===null||e===void 0?void 0:e.bind(g),i[c+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),i[c+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(t instanceof Rt)h=Je(t.firestore,qt),d=Gc(t.S_.path),l={next:function(E){i[c]&&i[c](d0(h,t,E))},error:i[c+1],complete:i[c+2]};else{var y=Je(t,vr);h=Je(y.firestore,qt),d=y.C_;var w=new Ca(h);l={next:function(E){i[c]&&i[c](new ls(h,w,y,E))},error:i[c+1],complete:i[c+2]},OM(t.C_)}return function(E,T,N,P){var M=this,U=new hg(P),X=new DE(T,U,N);return E._s.Ps(function(){return x(M,void 0,void 0,function(){var j;return k(this,function(Se){switch(Se.label){case 0:return j=RE,[4,xc(E)];case 1:return[2,j.apply(void 0,[Se.sent(),X])]}})})}),function(){U.i_(),E._s.Ps(function(){return x(M,void 0,void 0,function(){var j;return k(this,function(Se){switch(Se.label){case 0:return j=OE,[4,xc(E)];case 1:return[2,j.apply(void 0,[Se.sent(),X])]}})})})}}(vn(h),d,v,l)}function Xf(t,e){return function(n,r){var i=this,s=new rr;return n._s.Ps(function(){return x(i,void 0,void 0,function(){var a;return k(this,function(c){switch(c.label){case 0:return a=gQ,[4,QE(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(vn(t),e)}function d0(t,e,n){var r=n.docs.get(e.S_),i=new Ca(t);return new Co(t,i,e.S_,r,new ma(n.hasPendingWrites,n.fromCache),e.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZQ=function(){function t(e,n){this.Yf=e,this.wd=n,this.Ed=[],this.Td=!1,this.Id=Ka(e)}return t.prototype.set=function(e,n,r){this.md();var i=fs(e,this.Yf),s=mg(i.v_,n,r),a=vg(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(a.F_(i.S_,Dn.Kt())),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var a,c=fs(e,this.Yf);return n instanceof Ge&&(n=n.d_),a=typeof n=="string"||n instanceof So?GE(this.Id,"WriteBatch.update",c.S_,n,r,i):HE(this.Id,"WriteBatch.update",c.S_,n),this.Ed.push(a.F_(c.S_,Dn.exists(!0))),this},t.prototype.delete=function(e){this.md();var n=fs(e,this.Yf);return this.Ed=this.Ed.concat(new Ih(n.S_,Dn.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new G(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function fs(t,e){if(t instanceof Ge&&(t=t.d_),t.firestore!==e)throw new G(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e8=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).Yf=n,i}return ee(e,t),e.prototype.get=function(n){var r=this,i=fs(n,this.Yf),s=new Ca(this.Yf);return t.prototype.get.call(this,n).then(function(a){return new Co(r.Yf,s,i.S_,a.Zf,new ma(!1,!1),i.v_)})},e}(function(){function t(e,n){this.Yf=e,this.Ad=n,this.Id=Ka(e)}return t.prototype.get=function(e){var n=this,r=fs(e,this.Yf),i=new XQ(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return he();var a=s[0];if(a instanceof sn)return new Qf(n.Yf,i,r.S_,null,r.v_);if(a instanceof ft)return new Qf(n.Yf,i,a.key,a,r.v_);throw he()})},t.prototype.set=function(e,n,r){var i=fs(e,this.Yf),s=mg(i.v_,n,r),a=vg(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,a),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=fs(e,this.Yf);return n instanceof Ge&&(n=n.d_),a=typeof n=="string"||n instanceof So?GE(this.Id,"Transaction.update",c.S_,n,r,i):HE(this.Id,"Transaction.update",c.S_,n),this.Ad.update(c.S_,a),this},t.prototype.delete=function(e){var n=fs(e,this.Yf);return this.Ad.delete(n.S_),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){if(typeof Uint8Array>"u")throw new G(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ak(){if(typeof atob>"u")throw new G(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var FM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.fromBase64String=function(n){return ak(),new e(Da.fromBase64String(n))},e.fromUint8Array=function(n){return sk(),new e(Da.fromUint8Array(n))},e.prototype.toBase64=function(){return ak(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return sk(),this.d_.toUint8Array()},e.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ge),t8=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){ZN(r=Je(r,qt));var s=vn(r),a=r.p_(),c=new f0;return JN(s,c,new gM(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e.d_,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){ZN(n=Je(n,qt));var r=vn(n),i=n.p_(),s=new f0;return JN(r,s,new OQ(s,i.cacheSizeBytes))}(e.d_)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n.R_&&!n.P_)throw new G(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new rr;return n.Bf.Tf(function(){return x(r,void 0,void 0,function(){var s;return k(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return x(this,void 0,void 0,function(){var l;return k(this,function(h){switch(h.label){case 0:return Ec.Kn()?(l=c+"main",[4,Ec.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(SE(n.I_,n.w_))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(e.d_)},t}(),JE=function(t){function e(n,r,i){var s=this;return(s=t.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof Qp||(s.Pd=n),s}return ee(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},e.prototype.useEmulator=function(n,r){(function(i,s,a){var c=(i=Je(i,Kf)).V_();c.host!=="firestore.googleapis.com"&&c.host!==s&&Xp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1}))})(this.d_,n,r)},e.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return x(r,void 0,void 0,function(){var i,s;return k(this,function(a){switch(a.label){case 0:return[4,zN(n)];case 1:return i=a.sent(),[4,KN(n)];case 2:return s=a.sent(),[2,(i.yo(!0),function(c){var l=te(c);return l.Nh.delete(0),Ch(l)}(s))]}})})})}(vn(Je(this.d_,qt)))},e.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return x(r,void 0,void 0,function(){var i,s;return k(this,function(a){switch(a.label){case 0:return[4,zN(n)];case 1:return i=a.sent(),[4,KN(n)];case 2:return s=a.sent(),[2,(i.yo(!1),function(c){return x(this,void 0,void 0,function(){var l;return k(this,function(h){switch(h.label){case 0:return(l=te(c)).Nh.add(0),[4,zc(l)];case 1:return h.sent(),l.Oh.set("Offline"),[2]}})})}(s))]}})})})}(vn(Je(this.d_,qt)))},e.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&mM("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new rr;return n._s.Ps(function(){return x(r,void 0,void 0,function(){var s;return k(this,function(a){switch(a.label){case 0:return s=wQ,[4,QE(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(vn(Je(this.d_,qt)))},e.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var c=this,l=new hg(a);return s._s.Ps(function(){return x(c,void 0,void 0,function(){var h;return k(this,function(d){switch(d.label){case 0:return h=function(v,g){te(v).Wh.add(g),g.next()},[4,xc(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})}),function(){l.i_(),s._s.Ps(function(){return x(c,void 0,void 0,function(){var h;return k(this,function(d){switch(d.label){case 0:return h=function(v,g){te(v).Wh.delete(g)},[4,xc(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})})}}(vn(r=Je(r,qt)),Rc(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){try{return new hv(this,yM(this.d_,n))}catch(r){throw Xn(r,"collection()","Firestore.collection()")}},e.prototype.doc=function(n){try{return new Aa(this,mp(this.d_,n))}catch(r){throw Xn(r,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(n){try{return new Nh(this,function(r,i){if(r=Je(r,Kf),BE("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new vr(r,null,function(s){return new jo(Ze.ct(),s)}(i))}(this.d_,n))}catch(r){throw Xn(r,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,c){var l=this,h=new rr;return a._s.Ps(function(){return x(l,void 0,void 0,function(){var d;return k(this,function(v){switch(v.label){case 0:return[4,function(g){return gg(g).then(function(y){return y.Sh})}(a)];case 1:return d=v.sent(),new WQ(a._s,d,c,h).run(),[2]}})})}),h.promise}(vn(i),function(a){return s(new e8(i,a))})}(this.d_,function(i){return n(new UM(r,i))})},e.prototype.batch=function(){var n=this;return vn(this.d_),new jM(new ZQ(this.d_,function(r){return Xf(n.d_,r)}))},e.prototype.loadBundle=function(n){throw new G(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(n){throw new G(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ge),yg=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new FM(new Da(n))},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return Aa.yd(r,this.firestore,null)},e}(XE);function n8(t){var e;e=t,vi.setLogLevel(e)}var UM=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i.Xf=new yg(n),i}return ee(e,t),e.prototype.get=function(n){var r=this,i=ya(n);return this.d_.get(i).then(function(s){return new Jf(r.Yf,new Co(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},e.prototype.set=function(n,r,i){var s=ya(n);return i?(qE("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},e.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=ya(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Wt([l,r,i],a)),this},e.prototype.delete=function(n){var r=ya(n);return this.d_.delete(r),this},e}(Ge),jM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.set=function(n,r,i){var s=ya(n);return i?(qE("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},e.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=ya(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Wt([l,r,i],a)),this},e.prototype.delete=function(n){var r=ya(n);return this.d_.delete(r),this},e.prototype.commit=function(){return this.d_.commit()},e}(Ge),_g=function(t){function e(n,r,i){var s=this;return(s=t.call(this,i)||this).Yf=n,s.Xf=r,s}return ee(e,t),e.prototype.fromFirestore=function(n,r){var i=new df(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new Zf(this.Yf,i),r??{})},e.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},e.gd=function(n,r){var i=e.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new e(n,new yg(n),r),s.set(r,a)),a},e}(Ge);_g.Vd=new WeakMap;var Aa=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).firestore=n,i.Xf=new yg(n),i}return ee(e,t),e.pd=function(n,r,i){if(n.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new e(r,new Rt(r.d_,i,new ge(n)))},e.yd=function(n,r,i){return new e(r,new Rt(r.d_,i,n))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new hv(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){try{return new hv(this.firestore,yM(this.d_,n))}catch(r){throw Xn(r,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(n){return n instanceof Ge&&(n=n.d_),n instanceof Rt&&_M(this.d_,n)},e.prototype.set=function(n,r){r=qE("DocumentReference.set",r);try{return function(i,s,a){i=Je(i,Rt);var c=Je(i.firestore,qt),l=mg(i.v_,s,a);return Xf(c,[vg(Ka(c),"setDoc",i.S_,l,i.v_!==null,a).F_(i.S_,Dn.Kt())])}(this.d_,n,r)}catch(i){throw Xn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?ok(this.d_,n):ok.apply(void 0,Wt([this.d_,n,r],i))}catch(a){throw Xn(a,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xf(Je((n=this.d_).firestore,qt),[new Ih(n.S_,Dn.Kt())]);var n},e.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=VM(r),a=BM(r,function(c){return new Jf(n.firestore,new Co(n.firestore.d_,n.Xf,c.S_,c.Zf,c.metadata,n.d_.v_))});return LM(this.d_,s,a)},e.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Je(i,Rt);var s=Je(i.firestore,qt),a=vn(s),c=new Ca(s);return function(l,h){var d=this,v=new rr;return l._s.Ps(function(){return x(d,void 0,void 0,function(){var g;return k(this,function(y){switch(y.label){case 0:return g=function(w,E,T){return x(this,void 0,void 0,function(){var N,P;return k(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,function(U,X){var j=te(U);return j.persistence.runTransaction("read document","readonly",function(Se){return j.Tc.Ho(Se,X)})}(w,E)];case 1:return(P=M.sent())instanceof ft?T.resolve(P):P instanceof sn?T.resolve(null):T.reject(new G(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=M.sent(),P=$c(N,"Failed to get document '"+E+" from cache"),T.reject(P),[3,3];case 3:return[2]}})})},[4,KE(l)];case 1:return[2,g.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.S_).then(function(l){return new Co(s,c,i.S_,l,new ma(l instanceof ft&&l.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Je(i,Rt);var s=Je(i.firestore,qt);return QN(vn(s),i.S_,{source:"server"}).then(function(a){return d0(s,i,a)})}(this.d_):function(i){i=Je(i,Rt);var s=Je(i.firestore,qt);return QN(vn(s),i.S_).then(function(a){return d0(s,i,a)})}(this.d_)).then(function(i){return new Jf(r.firestore,new Co(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(_g.gd(this.firestore,n)))},e}(Ge);function Xn(t,e,n){return t.message=t.message.replace(e,n),t}function VM(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Rc(r))return r}return{}}function BM(t,e){var n,r,i;return{next:function(s){i.next&&i.next(e(s))},error:(n=(i=Rc(t[0])?t[0]:Rc(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Jf=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Aa(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(n){return this.d_.data(n)},e.prototype.get=function(n,r){return this.d_.get(n,r)},e.prototype.isEqual=function(n){return MM(this.d_,n.d_)},e}(Ge),Zf=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(n){return this.d_.data(n)},e}(Jf),Nh=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).firestore=n,i.Xf=new yg(n),i}return ee(e,t),e.prototype.where=function(n,r,i){try{return new e(this.firestore,ts(this.d_,function(s,a,c){var l=a,h=fv("where",s);return new KQ(h,l,c)}(n,r,i)))}catch(s){throw Xn(s,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(n,r){try{return new e(this.firestore,ts(this.d_,function(i,s){s===void 0&&(s="asc");var a=s,c=fv("orderBy",i);return new QQ(c,a)}(n,r)))}catch(i){throw Xn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(n){try{return new e(this.firestore,ts(this.d_,function(r){return GN("limit",r),new ek("limit",r,"F")}(n)))}catch(r){throw Xn(r,"limit()","Query.limit()")}},e.prototype.limitToLast=function(n){try{return new e(this.firestore,ts(this.d_,function(r){return GN("limitToLast",r),new ek("limitToLast",r,"L")}(n)))}catch(r){throw Xn(r,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,ts(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new tk("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw Xn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,ts(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new tk("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw Xn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,ts(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new nk("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw Xn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,ts(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new nk("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw Xn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(n){return wM(this.d_,n.d_)},e.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Je(i,vr);var s=Je(i.firestore,qt),a=vn(s),c=new Ca(s);return function(l,h){var d=this,v=new rr;return l._s.Ps(function(){return x(d,void 0,void 0,function(){var g;return k(this,function(y){switch(y.label){case 0:return g=function(w,E,T){return x(this,void 0,void 0,function(){var N,P,M,U,X;return k(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,uv(w,E,!0)];case 1:return X=j.sent(),N=new fM(E,X.Rc),P=N.fl(X.documents),M=N.wi(P,!1),T.resolve(M.snapshot),[3,3];case 2:return U=j.sent(),X=$c(U,"Failed to execute query '"+E+" against cache"),T.reject(X),[3,3];case 3:return[2]}})})},[4,KE(l)];case 1:return[2,g.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.C_).then(function(l){return new ls(s,c,i,l)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Je(i,vr);var s=Je(i.firestore,qt),a=vn(s),c=new Ca(s);return XN(a,i.C_,{source:"server"}).then(function(l){return new ls(s,c,i,l)})}(this.d_):function(i){i=Je(i,vr);var s=Je(i.firestore,qt),a=vn(s),c=new Ca(s);return OM(i.C_),XN(a,i.C_).then(function(l){return new ls(s,c,i,l)})}(this.d_)).then(function(i){return new p0(r.firestore,new ls(r.firestore.d_,r.Xf,r.d_,i._d))})},e.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=VM(r),a=BM(r,function(c){return new p0(n.firestore,new ls(n.firestore.d_,n.Xf,n.d_,c._d))});return LM(this.d_,s,a)},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(_g.gd(this.firestore,n)))},e}(Ge),r8=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Zf(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Ge),p0=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Nh(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new Zf(n.Yf,r)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new r8(r.Yf,i)})},e.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new Zf(i.Yf,s))})},e.prototype.isEqual=function(n){return MM(this.d_,n.d_)},e}(Ge),hv=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i.d_=r,i}return ee(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new Aa(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Aa(this.firestore,n===void 0?mp(this.d_):mp(this.d_,n))}catch(r){throw Xn(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,s){var a=Je(i.firestore,qt),c=mp(i),l=mg(i.v_,s);return Xf(a,[vg(Ka(i.firestore),"addDoc",c.S_,l,i.v_!==null,{}).F_(c.S_,Dn.exists(!1))]).then(function(){return c})}(this.d_,n).then(function(i){return new Aa(r.firestore,i)})},e.prototype.isEqual=function(n){return _M(this.d_,n.d_)},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(_g.gd(this.firestore,n)))},e}(Nh);function ya(t){return t instanceof Ge&&(t=t.d_),Je(t,Rt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i8=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.call(this,new(So.bind.apply(So,Wt([void 0],n))))||this}return ee(e,t),e.documentId=function(){return new e(wi.ht().rt())},e.prototype.isEqual=function(n){return n instanceof Ge&&(n=n.d_),n instanceof So&&this.d_.f_.isEqual(n.f_)},e}(Ge),o8=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.serverTimestamp=function(){var n=new FQ("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new e(n)},e.delete=function(){var n=new WE("deleteField");return n._methodName="FieldValue.delete",new e(n)},e.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new UQ("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new jQ("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(n){var r=function(i){return new VQ("increment",i)}(n);return r._methodName="FieldValue.increment",new e(r)},e.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},e}(Ge);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t){return function(e,n){var r=vn(e=Je(e,qt)),i=new $Q;return function(s,a,c,l){var h=this,d=function(v,g){return function(y,w){return new PQ(y,w)}(function(y,w){if(y instanceof Uint8Array)return qN(y,w);if(y instanceof ArrayBuffer)return qN(new Uint8Array(y),w);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),g)}(c,Sh(a));s._s.Ps(function(){return x(h,void 0,void 0,function(){var v;return k(this,function(g){switch(g.label){case 0:return v=RQ,[4,QE(s)];case 1:return v.apply(void 0,[g.sent(),d,l]),[2]}})})})}(r,e.I_,n,i),i}(this.d_,t)}function a8(t){var e,n,r=this;return(e=this.d_,n=t,function(i,s){var a=this;return i._s.enqueue(function(){return x(a,void 0,void 0,function(){var c;return k(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=te(h);return v.persistence.runTransaction("Get named query","readonly",function(g){return v.wo.Ms(g,d)})},[4,KE(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(vn(e=Je(e,qt)),n).then(function(i){return i?new vr(e,null,i.query):null})).then(function(i){return i?new Nh(r,i):null})}var u8={Firestore:JE,GeoPoint:pg,Timestamp:pr,Blob:FM,Transaction:UM,WriteBatch:jM,DocumentReference:Aa,DocumentSnapshot:Jf,Query:Nh,QueryDocumentSnapshot:Zf,QuerySnapshot:p0,CollectionReference:hv,FieldPath:i8,FieldValue:o8,setLogLevel:n8,CACHE_SIZE_UNLIMITED:YQ};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){(function(e,n){e.INTERNAL.registerComponent(new yr("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},u8)))})(t,function(e,n){return new JE(e,new qt(e,n),new t8)}),t.registerVersion("@firebase/firestore","2.1.6")}c8(oe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){t.prototype.loadBundle=s8,t.prototype.namedQuery=a8}l8(JE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ec=function(t){ee(e,t);function e(n,r,i){var s=t.call(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s.code=n,s.details=i,s}return e}(Error);function f8(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function h8(t,e,n){var r=f8(t),i=r,s=void 0;try{var a=e&&e.error;if(a){var c=a.status;if(typeof c=="string"){if(!uk[c])return new ec("internal","internal");r=uk[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new ec(r,i,s)}var d8=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return x(this,void 0,void 0,function(){var e;return k(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return x(this,void 0,void 0,function(){return k(this,function(e){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p8="type.googleapis.com/google.protobuf.Int64Value",v8="type.googleapis.com/google.protobuf.UInt64Value";function ck(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var g8=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return ck(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case p8:case v8:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?ck(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new ec("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var lk=function(){function t(e,n,r,i,s){var a=this;i===void 0&&(i="us-central1"),this.app_=e,this.fetchImpl=s,this.serializer=new g8,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new d8(n,r),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return l()}});try{var c=new URL(i);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return x(this,void 0,void 0,function(){var i,s;return k(this,function(a){switch(a.label){case 0:r["Content-Type"]="application/json",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),[2,{status:0,json:null}];case 4:s=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i.json()];case 6:return s=a.sent(),[3,8];case 7:return a.sent(),[3,8];case 8:return[2,{status:i.status,json:s}]}})})},t.prototype.call=function(e,n,r){return x(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,g,y,w,E;return k(this,function(T){switch(T.label){case 0:return i=this._url(e),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=T.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=m8(l),d=h.timer,v=h.promise,[4,Promise.race([fk(d,this.postJSON(i,s,a)),v,fk(d,this.cancelAllRequests)])];case 2:if(g=T.sent(),!g)throw new ec("cancelled","Firebase Functions instance was deleted.");if(y=h8(g.status,g.json,this.serializer),y)throw y;if(!g.json)throw new ec("internal","Response is not valid JSON object.");if(w=g.json.data,typeof w>"u"&&(w=g.json.result),typeof w>"u")throw new ec("internal","Response is missing data field.");return E=this.serializer.decode(w),[2,{data:E}]}})})},t}();function fk(t,e){return x(this,void 0,void 0,function(){var n;return k(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y8="functions";function _8(t,e){var n={Functions:lk};function r(i,s){var a=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),l=i.getProvider("messaging");return new lk(a,c,l,s,e)}t.INTERNAL.registerComponent(new yr(y8,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var w8="@firebase/functions",b8="0.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_8(oe,fetch.bind(self));oe.registerVersion(w8,b8);function E8(t){return Array.prototype.slice.call(t)}function qM(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function wg(t,e,n){var r,i=new Promise(function(s,a){r=t[e].apply(t,n),qM(r).then(s,a)});return i.request=r,i}function T8(t,e,n){var r=wg(t,e,n);return r.then(function(i){if(i)return new eh(i,r.request)})}function Xc(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function ZE(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return wg(this[e],i,arguments)})})}function bg(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function WM(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return T8(this[e],i,arguments)})})}function Xa(t){this._index=t}Xc(Xa,"_index",["name","keyPath","multiEntry","unique"]);ZE(Xa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);WM(Xa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function eh(t,e){this._cursor=t,this._request=e}Xc(eh,"_cursor",["direction","key","primaryKey","value"]);ZE(eh,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(eh.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),qM(e._request).then(function(r){if(r)return new eh(r,e._request)})})})});function eo(t){this._store=t}eo.prototype.createIndex=function(){return new Xa(this._store.createIndex.apply(this._store,arguments))};eo.prototype.index=function(){return new Xa(this._store.index.apply(this._store,arguments))};Xc(eo,"_store",["name","keyPath","indexNames","autoIncrement"]);ZE(eo,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);WM(eo,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);bg(eo,"_store",IDBObjectStore,["deleteIndex"]);function kh(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}kh.prototype.objectStore=function(){return new eo(this._tx.objectStore.apply(this._tx,arguments))};Xc(kh,"_tx",["objectStoreNames","mode"]);bg(kh,"_tx",IDBTransaction,["abort"]);function Eg(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new kh(n)}Eg.prototype.createObjectStore=function(){return new eo(this._db.createObjectStore.apply(this._db,arguments))};Xc(Eg,"_db",["name","version","objectStoreNames"]);bg(Eg,"_db",IDBDatabase,["deleteObjectStore","close"]);function Tg(t){this._db=t}Tg.prototype.transaction=function(){return new kh(this._db.transaction.apply(this._db,arguments))};Xc(Tg,"_db",["name","version","objectStoreNames"]);bg(Tg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[eo,Xa].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=E8(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Xa,eo].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(e,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function eT(t,e,n){var r=wg(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Eg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Tg(s)})}function H_(t){return wg(indexedDB,"deleteDatabase",[t])}var I8="@firebase/installations",HM="0.4.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GM=1e4,$M="w:"+HM,YM="FIS_v2",S8="https://firebaseinstallations.googleapis.com/v1",C8=60*60*1e3,A8="installations",N8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns,k8=(ns={},ns["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ns["not-registered"]="Firebase Installation is not registered.",ns["installation-not-found"]="Firebase Installation not found.",ns["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ns["app-offline"]="Could not process request. Application offline.",ns["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ns),Po=new Rs(A8,N8,k8);function zM(t){return t instanceof Vc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t){var e=t.projectId;return S8+"/projects/"+e+"/installations"}function KM(t){return{token:t.token,requestStatus:2,expiresIn:x8(t.expiresIn),creationTime:Date.now()}}function nT(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Po.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function QM(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function XM(t,e){var n=e.refreshToken,r=QM(t);return r.append("Authorization",R8(n)),r}function rT(t){return x(this,void 0,void 0,function(){var e;return k(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function x8(t){return Number(t.replace("s","000"))}function R8(t){return YM+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t,e){var n=e.fid;return x(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return k(this,function(d){switch(d.label){case 0:return r=tT(t),i=QM(t),s={fid:n,authVersion:YM,appId:t.appId,sdkVersion:$M},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,rT(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:KM(l.authToken)},[2,h];case 3:return[4,nT("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){var e=btoa(String.fromCharCode.apply(String,Uo(t)));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D8=/^[cdef][\w-]{21}$/,v0="";function M8(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=L8(t);return D8.test(n)?n:v0}catch{return v0}}function L8(t){var e=P8(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oc=new Map;function ZM(t,e){var n=Jc(t);eL(n,e),j8(n,e)}function F8(t,e){tL();var n=Jc(t),r=Oc.get(n);r||(r=new Set,Oc.set(n,r)),r.add(e)}function U8(t,e){var n=Jc(t),r=Oc.get(n);r&&(r.delete(e),r.size===0&&Oc.delete(n),nL())}function eL(t,e){var n,r,i=Oc.get(t);if(i)try{for(var s=Bt(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function j8(t,e){var n=tL();n&&n.postMessage({key:t,fid:e}),nL()}var _a=null;function tL(){return!_a&&"BroadcastChannel"in self&&(_a=new BroadcastChannel("[Firebase] FID Change"),_a.onmessage=function(t){eL(t.data.key,t.data.fid)}),_a}function nL(){Oc.size===0&&_a&&(_a.close(),_a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V8="firebase-installations-database",B8=1,Fa="firebase-installations-store",G_=null;function iT(){return G_||(G_=eT(V8,B8,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Fa)}})),G_}function dv(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a;return k(this,function(c){switch(c.label){case 0:return n=Jc(t),[4,iT()];case 1:return r=c.sent(),i=r.transaction(Fa,"readwrite"),s=i.objectStore(Fa),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(e,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==e.fid)&&ZM(t,e.fid),[2,e]}})})}function oT(t){return x(this,void 0,void 0,function(){var e,n,r;return k(this,function(i){switch(i.label){case 0:return e=Jc(t),[4,iT()];case 1:return n=i.sent(),r=n.transaction(Fa,"readwrite"),[4,r.objectStore(Fa).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function xh(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a,c;return k(this,function(l){switch(l.label){case 0:return n=Jc(t),[4,iT()];case 1:return r=l.sent(),i=r.transaction(Fa,"readwrite"),s=i.objectStore(Fa),[4,s.get(n)];case 2:return a=l.sent(),c=e(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&ZM(t,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){return x(this,void 0,void 0,function(){var e,n,r;return k(this,function(i){switch(i.label){case 0:return[4,xh(t,function(s){var a=q8(s),c=W8(t,a);return e=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==v0?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function q8(t){var e=t||{fid:M8(),registrationStatus:0};return rL(e)}function W8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Po.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=H8(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:G8(t)}:{installationEntry:e}}function H8(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,O8(t,e)];case 1:return n=i.sent(),[2,dv(t,n)];case 2:return r=i.sent(),zM(r)&&r.customData.serverCode===409?[4,oT(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,dv(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function G8(t){return x(this,void 0,void 0,function(){var e,n,r,i;return k(this,function(s){switch(s.label){case 0:return[4,hk(t)];case 1:e=s.sent(),s.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,JM(100)];case 3:return s.sent(),[4,hk(t)];case 4:return e=s.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,sT(t)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function hk(t){return xh(t,function(e){if(!e)throw Po.create("installation-not-found");return rL(e)})}function rL(t){return $8(t)?{fid:t.fid,registrationStatus:0}:t}function $8(t){return t.registrationStatus===1&&t.registrationTime+GM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return x(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return k(this,function(g){switch(g.label){case 0:return i=z8(n,e),s=XM(n,e),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:$M}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,rT(function(){return fetch(i,l)})];case 1:return h=g.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=g.sent(),v=KM(d),[2,v];case 3:return[4,nT("Generate Auth Token",h)];case 4:throw g.sent()}})})}function z8(t,e){var n=e.fid;return tT(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e){return e===void 0&&(e=!1),x(this,void 0,void 0,function(){var n,r,i,s;return k(this,function(a){switch(a.label){case 0:return[4,xh(t.appConfig,function(c){if(!iL(c))throw Po.create("not-registered");var l=c.authToken;if(!e&&X8(l))return c;if(l.requestStatus===1)return n=K8(t,e),c;if(!navigator.onLine)throw Po.create("app-offline");var h=Z8(c);return n=Q8(t,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function K8(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return[4,dk(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,JM(100)];case 3:return i.sent(),[4,dk(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,aT(t,e)]:[2,r]}})})}function dk(t){return xh(t,function(e){if(!iL(e))throw Po.create("not-registered");var n=e.authToken;return eX(n)?pt(pt({},e),{authToken:{requestStatus:0}}):e})}function Q8(t,e){return x(this,void 0,void 0,function(){var n,i,r,i;return k(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,Y8(t,e)];case 1:return n=s.sent(),i=pt(pt({},e),{authToken:n}),[4,dv(t.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),zM(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,oT(t.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=pt(pt({},e),{authToken:{requestStatus:0}}),[4,dv(t.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function iL(t){return t!==void 0&&t.registrationStatus===2}function X8(t){return t.requestStatus===2&&!J8(t)}function J8(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+C8}function Z8(t){var e={requestStatus:1,requestTime:Date.now()};return pt(pt({},t),{authToken:e})}function eX(t){return t.requestStatus===1&&t.requestTime+GM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){return x(this,void 0,void 0,function(){var e,n,r;return k(this,function(i){switch(i.label){case 0:return[4,sT(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):aT(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(t,e){return e===void 0&&(e=!1),x(this,void 0,void 0,function(){var n;return k(this,function(r){switch(r.label){case 0:return[4,rX(t.appConfig)];case 1:return r.sent(),[4,aT(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function rX(t){return x(this,void 0,void 0,function(){var e;return k(this,function(n){switch(n.label){case 0:return[4,sT(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iX(t,e){return x(this,void 0,void 0,function(){var n,r,i,s;return k(this,function(a){switch(a.label){case 0:return n=oX(t,e),r=XM(t,e),i={method:"DELETE",headers:r},[4,rT(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,nT("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function oX(t,e){var n=e.fid;return tT(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(t){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,xh(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Po.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Po.create("app-offline");case 3:return[4,iX(e,n)];case 4:return r.sent(),[4,oT(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t,e){var n=t.appConfig;return F8(n,e),function(){U8(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(t){var e,n;if(!t||!t.options)throw $_("App Configuration");if(!t.name)throw $_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Bt(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!t.options[a])throw $_(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $_(t){return Po.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t){var e="installations";t.INTERNAL.registerComponent(new yr(e,function(n){var r=n.getProvider("app").getImmediate(),i=uX(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return tX(a)},getToken:function(l){return nX(a,l)},delete:function(){return sX(a)},onIdChange:function(l){return aX(a,l)}};return c},"PUBLIC")),t.registerVersion(I8,HM)}cX(oe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,lX=(Zt={},Zt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Zt["only-available-in-window"]="This method is available in a Window context.",Zt["only-available-in-sw"]="This method is available in a service worker context.",Zt["permission-default"]="The notification permission was not granted and dismissed instead.",Zt["permission-blocked"]="The notification permission was not granted and blocked instead.",Zt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Zt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Zt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Zt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Zt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Zt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Zt["token-update-no-token"]="FCM returned no token when updating the user to push.",Zt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Zt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Zt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Zt["invalid-vapid-key"]="The public VAPID key must be a string.",Zt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Zt),st=new Rs("messaging","Messaging",lX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fX="/firebase-messaging-sw.js",hX="/firebase-cloud-messaging-push-scope",pv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",dX="https://fcmregistrations.googleapis.com/v1",oL="FCM_MSG",pX="FirebaseMessaging: ",vX="google.c.a.e",sL="google.c.a.c_id",gX="google.c.a.ts",mX="google.c.a.c_l",yX=1e3,_X=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ua;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Ua||(Ua={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Uo(e)));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function wX(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y_="fcm_token_details_db",bX=5,pk="fcm_token_object_Store";function EX(t){return x(this,void 0,void 0,function(){var e,n,r,i,s=this;return k(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(c){return c.name}),!n.includes(Y_))return[2,null];a.label=2;case 2:return r=null,[4,eT(Y_,bX,function(c){return x(s,void 0,void 0,function(){var l,h,d,d,d,v;return k(this,function(g){switch(g.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(pk)?(l=c.transaction.objectStore(pk),[4,l.index("fcmSenderId").get(t)]):[2];case 1:return h=g.sent(),[4,l.clear()];case 2:if(g.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:go(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:go(d.auth),p256dh:go(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:go(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:go(d.auth),p256dh:go(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:go(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,H_(Y_)];case 4:return a.sent(),[4,H_("fcm_vapid_details_db")];case 5:return a.sent(),[4,H_("undefined")];case 6:return a.sent(),[2,TX(r)?r:null]}})})}function TX(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IX="firebase-messaging-database",SX=1,ja="firebase-messaging-store",z_=null;function uT(){return z_||(z_=eT(IX,SX,function(t){switch(t.oldVersion){case 0:t.createObjectStore(ja)}})),z_}function vv(t){return x(this,void 0,void 0,function(){var e,n,r,i;return k(this,function(s){switch(s.label){case 0:return e=lT(t),[4,uT()];case 1:return n=s.sent(),[4,n.transaction(ja).objectStore(ja).get(e)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,EX(t.appConfig.senderId)];case 4:return i=s.sent(),i?[4,cT(t,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function cT(t,e){return x(this,void 0,void 0,function(){var n,r,i;return k(this,function(s){switch(s.label){case 0:return n=lT(t),[4,uT()];case 1:return r=s.sent(),i=r.transaction(ja,"readwrite"),[4,i.objectStore(ja).put(e,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,e]}})})}function CX(t){return x(this,void 0,void 0,function(){var e,n,r;return k(this,function(i){switch(i.label){case 0:return e=lT(t),[4,uT()];case 1:return n=i.sent(),r=n.transaction(ja,"readwrite"),[4,r.objectStore(ja).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function lT(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return k(this,function(h){switch(h.label){case 0:return[4,hT(t)];case 1:n=h.sent(),r=uL(e),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(fT(t.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),st.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,st.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw st.create("token-subscribe-no-token");return[2,s.token]}})})}function NX(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return k(this,function(h){switch(h.label){case 0:return[4,hT(t)];case 1:n=h.sent(),r=uL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(fT(t.appConfig)+"/"+e.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),st.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,st.create("token-update-failed",{errorInfo:l});if(!s.token)throw st.create("token-update-no-token");return[2,s.token]}})})}function aL(t,e){return x(this,void 0,void 0,function(){var n,r,i,s,a,c;return k(this,function(l){switch(l.label){case 0:return[4,hT(t)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(fT(t.appConfig)+"/"+e,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,st.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),st.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function fT(t){var e=t.projectId;return dX+"/projects/"+e+"/registrations"}function hT(t){var e=t.appConfig,n=t.installations;return x(this,void 0,void 0,function(){var r;return k(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function uL(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,s={web:{endpoint:r,auth:n,p256dh:e}};return i!==pv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kX=7*24*60*60*1e3;function g0(t,e,n){return x(this,void 0,void 0,function(){var r,i,s,a;return k(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw st.create("permission-blocked");return[4,RX(e,n)];case 1:return r=c.sent(),[4,vv(t)];case 2:return i=c.sent(),s={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:go(r.getKey("auth")),p256dh:go(r.getKey("p256dh"))},i?[3,3]:[2,vk(t,s)];case 3:if(OX(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,aL(t,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,vk(t,s)];case 8:return Date.now()>=i.createTime+kX?[2,xX({token:i.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,i.token];case 9:return[2]}})})}function pf(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return[4,vv(t)];case 1:return n=i.sent(),n?[4,aL(t,n.token)]:[3,4];case 2:return i.sent(),[4,CX(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function xX(t,e,n){return x(this,void 0,void 0,function(){var r,i,s;return k(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,NX(e,t)];case 1:return r=a.sent(),i=pt(pt({},t),{token:r,createTime:Date.now()}),[4,cT(e,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,pf(e,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function vk(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return[4,AX(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,cT(t,r)];case 2:return i.sent(),[2,r.token]}})})}function RX(t,e){return x(this,void 0,void 0,function(){var n;return k(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:wX(e)})]}})})}function OX(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t){var e={from:t.from,collapseKey:t.collapse_key};return DX(e,t),MX(e,t),LX(e,t),e}function DX(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function MX(t,e){e.data&&(t.data=e.data)}function LX(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){return typeof t=="object"&&!!t&&sL in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FX=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw st.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return x(this,void 0,void 0,function(){var r;return k(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,vv(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:pv,i.label=2;case 2:return[2,g0(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return pf(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw st.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw st.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw st.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw st.create("only-available-in-window")},t.prototype.onMessage=function(){throw st.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw st.create("only-available-in-window")},t.prototype.onPush=function(e){return x(this,void 0,void 0,function(){var n,r,i,s;return k(this,function(a){switch(a.label){case 0:return n=jX(e),n?[4,lL()]:(console.debug(pX+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),BX(r)?[2,qX(r,n)]:(i=!1,n.notification?[4,WX(UX(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=PX(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,gk(yX)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return x(this,void 0,void 0,function(){var i,s;return k(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,pf(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,vv(this.firebaseDependencies)];case 3:return s=a.sent(),[4,pf(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,g0(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:pv)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return x(this,void 0,void 0,function(){var i,s,a,c,l;return k(this,function(h){switch(h.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[oL],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),s=HX(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,VX(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,gk(_X)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=Ua.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},t}();function UX(t){var e,n=pt({},t.notification);return n.data=(e={},e[oL]=t,e),n}function jX(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function VX(t){return x(this,void 0,void 0,function(){var e,n,r,i,s,a,c;return k(this,function(l){switch(l.label){case 0:return[4,lL()];case 1:e=l.sent();try{for(n=Bt(e),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),t.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function BX(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function qX(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Ua.PUSH_RECEIVED;try{for(var i=Bt(t),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function lL(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function WX(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function HX(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(cL(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GX=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ua.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(YX(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,cL(r)&&r[vX]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return x(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw st.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,g0(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return x(this,void 0,void 0,function(){return k(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=pv),[2]})})},t.prototype.updateSwReg=function(e){return x(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw st.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(fX,{scope:hX})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),st.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return x(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,pf(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return x(this,void 0,void 0,function(){var e;return k(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?st.create("permission-blocked"):st.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw st.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw st.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw st.create("invalid-sw-registration");if(this.swRegistration)throw st.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw st.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw st.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return x(this,void 0,void 0,function(){var r,i;return k(this,function(s){switch(s.label){case 0:return r=$X(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[sL],message_name:n[mX],message_time:n[gX],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function $X(t){switch(t){case Ua.NOTIFICATION_CLICKED:return"notification_open";case Ua.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function YX(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t){var e,n;if(!t||!t.options)throw K_("App Configuration Object");if(!t.name)throw K_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var s=Bt(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw K_(c)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function K_(t){return st.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KX="messaging";function QX(t){var e=t.getProvider("app").getImmediate(),n=zX(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),s={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!fL())throw st.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new FX(s):new GX(s)}var XX={isSupported:fL};oe.INTERNAL.registerComponent(new yr(KX,QX,"PUBLIC").setServiceProps(XX));function fL(){return self&&"ServiceWorkerGlobalScope"in self?ZX():JX()}function JX(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function ZX(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hL="firebasestorage.googleapis.com",dL="storageBucket",e7=2*60*1e3,t7=10*60*1e3,Ht=function(t){ee(e,t);function e(n,r){var i=t.call(this,Q_(n),"Firebase Storage: "+r+" ("+Q_(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return e.prototype.codeEquals=function(n){return Q_(n)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),e}(Vc),Ot={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function Q_(t){return"storage/"+t}function dT(){var t="An unknown error occurred, please check the error payload for server response.";return new Ht(Ot.UNKNOWN,t)}function n7(t){return new Ht(Ot.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function r7(t){return new Ht(Ot.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function i7(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht(Ot.UNAUTHENTICATED,t)}function o7(t){return new Ht(Ot.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function s7(){return new Ht(Ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pL(){return new Ht(Ot.CANCELED,"User canceled the upload/download.")}function a7(t){return new Ht(Ot.INVALID_URL,"Invalid URL '"+t+"'.")}function u7(t){return new Ht(Ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function c7(){return new Ht(Ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dL+"' property when initializing the app?")}function vL(){return new Ht(Ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l7(){return new Ht(Ot.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function f7(){return new Ht(Ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vf(t){return new Ht(Ot.INVALID_ARGUMENT,t)}function gL(){return new Ht(Ot.APP_DELETED,"The Firebase app was deleted.")}function mL(t){return new Ht(Ot.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gf(t,e){return new Ht(Ot.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qd(t){throw new Ht(Ot.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},X_=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function yL(t,e){switch(t){case Rr.RAW:return new X_(_L(e));case Rr.BASE64:case Rr.BASE64URL:return new X_(wL(t,e));case Rr.DATA_URL:return new X_(d7(e),p7(e))}throw dT()}function _L(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function h7(t){var e;try{e=decodeURIComponent(t)}catch{throw gf(Rr.DATA_URL,"Malformed data URL.")}return _L(e)}function wL(t,e){switch(t){case Rr.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw gf(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Rr.BASE64URL:{var s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw gf(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(e)}catch{throw gf(t,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var bL=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw gf(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=v7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function d7(t){var e=new bL(t);return e.base64?wL(Rr.BASE64,e.rest):h7(e.rest)}function p7(t){var e=new bL(t);return e.contentType}function v7(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g7={STATE_CHANGED:"state_changed"},Oe={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Jn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function J_(t){switch(t){case Oe.RUNNING:case Oe.PAUSING:case Oe.CANCELING:return Jn.RUNNING;case Oe.PAUSED:return Jn.PAUSED;case Oe.SUCCESS:return Jn.SUCCESS;case Oe.CANCELED:return Jn.CANCELED;case Oe.ERROR:return Jn.ERROR;default:return Jn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Na;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Na||(Na={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m7=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Na.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Na.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=Na.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw Qd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Qd("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Qd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Qd("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y7=function(){function t(){}return t.prototype.createXhrIo=function(){return new m7},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(t){return t!==void 0}function w7(t){return typeof t=="function"}function b7(t){return typeof t=="object"&&!Array.isArray(t)}function Ig(t){return typeof t=="string"||t instanceof String}function mk(t){return pT()&&t instanceof Blob}function pT(){return typeof Blob<"u"}function m0(t,e,n,r){if(r<e)throw new Ht(Ot.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Ht(Ot.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=E7();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(pT())return new Blob(t);throw new Ht(Ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function I7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vT=function(){function t(e,n){var r=0,i="";mk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(mk(this.data_)){var r=this.data_,i=I7(r,e,n);return i===null?null:new t(i)}else{var s=new Uint8Array(this.data_.buffer,e,n-e);return new t(s,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(pT()){var r=e.map(function(l){return l instanceof t?l.data_:l});return new t(T7.apply(null,r))}else{var i=e.map(function(l){return Ig(l)?yL(Rr.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch{return new t(e,"")}if(n.path==="")return n;throw u7(e)},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(rt){rt.path_=decodeURIComponent(rt.path)}for(var h="v[A-Za-z0-9_]+",d=hL.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",g=new RegExp("^https?://"+d+"/"+h+"/b/"+r+"/o"+v,"i"),y={bucket:1,path:3},w="(?:storage.googleapis.com|storage.cloud.google.com)",E="([^?#]*)",T=new RegExp("^https?://"+w+"/"+r+"/"+E,"i"),N={bucket:1,path:2},P=[{regex:a,indices:c,postModify:i},{regex:g,indices:y,postModify:l},{regex:T,indices:N,postModify:l}],M=0;M<P.length;M++){var U=P[M],X=U.regex.exec(e);if(X){var j=X[U.indices.bucket],Se=X[U.indices.path];Se||(Se=""),n=new t(j,Se),U.postModify(n);break}}if(n==null)throw a7(e);return n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){var e;try{e=JSON.parse(t)}catch{return null}return b7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function C7(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function EL(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t){return"https://"+hL+"/v0"+t}function TL(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t,e){return e}var zn=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||A7}return t}(),Xd=null;function N7(t){return!Ig(t)||t.length<2?t:EL(t)}function Sg(){if(Xd)return Xd;var t=[];t.push(new zn("bucket")),t.push(new zn("generation")),t.push(new zn("metageneration")),t.push(new zn("name","fullPath",!0));function e(s,a){return N7(a)}var n=new zn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new zn("size");return i.xform=r,t.push(i),t.push(new zn("timeCreated")),t.push(new zn("updated")),t.push(new zn("md5Hash",null,!0)),t.push(new zn("cacheControl",null,!0)),t.push(new zn("contentDisposition",null,!0)),t.push(new zn("contentEncoding",null,!0)),t.push(new zn("contentLanguage",null,!0)),t.push(new zn("contentType",null,!0)),t.push(new zn("metadata","customMetadata",!0)),Xd=t,Xd}function k7(t,e){function n(){var r=t.bucket,i=t.fullPath,s=new fi(r,i);return e.makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function x7(t,e,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,e[a.server])}return k7(r,t),r}function IL(t,e,n){var r=gT(e);if(r===null)return null;var i=r;return x7(t,i,n)}function R7(t,e){var n=gT(e);if(n===null||!Ig(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(c){var l=t.bucket,h=t.fullPath,d="/b/"+i(l)+"/o/"+i(h),v=Ls(d),g=TL({alt:"media",token:c});return v+g});return a[0]}function mT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yk="prefixes",_k="items";function O7(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[yk])for(var i=0,s=n[yk];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=t.makeStorageReference(new fi(e,c));r.prefixes.push(l)}if(n[_k])for(var h=0,d=n[_k];h<d.length;h++){var v=d[h],l=t.makeStorageReference(new fi(e,v.name));r.items.push(l)}return r}function P7(t,e,n){var r=gT(n);if(r===null)return null;var i=r;return O7(t,e,i)}var Bo=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t){if(!t)throw dT()}function Cg(t,e){function n(r,i){var s=IL(t,i,e);return Gi(s!==null),s}return n}function D7(t,e){function n(r,i){var s=P7(t,e,i);return Gi(s!==null),s}return n}function M7(t,e){function n(r,i){var s=IL(t,i,e);return Gi(s!==null),R7(s,i)}return n}function Zc(t){function e(n,r){var i;return n.getStatus()===401?i=i7():n.getStatus()===402?i=r7(t.bucket):n.getStatus()===403?i=o7(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function Ag(t){var e=Zc(t);function n(r,i){var s=e(r,i);return r.getStatus()===404&&(s=n7(t.path)),s.serverResponse=i.serverResponse,s}return n}function SL(t,e,n){var r=e.fullServerUrl(),i=Ls(r),s="GET",a=t.maxOperationRetryTime,c=new Bo(i,s,Cg(t,n),a);return c.errorHandler=Ag(e),c}function L7(t,e,n,r,i){var s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=e.bucketOnlyServerUrl(),c=Ls(a),l="GET",h=t.maxOperationRetryTime,d=new Bo(c,l,D7(t,e.bucket),h);return d.urlParams=s,d.errorHandler=Zc(e),d}function F7(t,e,n){var r=e.fullServerUrl(),i=Ls(r),s="GET",a=t.maxOperationRetryTime,c=new Bo(i,s,M7(t,n),a);return c.errorHandler=Ag(e),c}function U7(t,e,n,r){var i=e.fullServerUrl(),s=Ls(i),a="PATCH",c=mT(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,d=new Bo(s,a,Cg(t,r),h);return d.headers=l,d.body=c,d.errorHandler=Ag(e),d}function j7(t,e){var n=e.fullServerUrl(),r=Ls(n),i="DELETE",s=t.maxOperationRetryTime;function a(l,h){}var c=new Bo(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=Ag(e),c}function V7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function CL(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=V7(null,e)),r}function B7(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var M="",U=0;U<2;U++)M=M+Math.random().toString().slice(2);return M}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=CL(e,r,i),d=mT(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,g=`\r
--`+l+"--",y=vT.getBlob(v,r,g);if(y===null)throw vL();var w={name:h.fullPath},E=Ls(s),T="POST",N=t.maxUploadRetryTime,P=new Bo(E,T,Cg(t,n),N);return P.urlParams=w,P.headers=a,P.body=y.uploadData(),P.errorHandler=Zc(e),P}var gv=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function yT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Gi(!1)}var r=e||["active"];return Gi(!!n&&r.indexOf(n)!==-1),n}function q7(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a=CL(e,r,i),c={name:a.fullPath},l=Ls(s),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=mT(a,n),g=t.maxUploadRetryTime;function y(E){yT(E);var T;try{T=E.getResponseHeader("X-Goog-Upload-URL")}catch{Gi(!1)}return Gi(Ig(T)),T}var w=new Bo(l,h,y,g);return w.urlParams=c,w.headers=d,w.body=v,w.errorHandler=Zc(e),w}function W7(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=yT(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gi(!1)}v||Gi(!1);var g=Number(v);return Gi(!isNaN(g)),new gv(g,r.size(),d==="final")}var a="POST",c=t.maxUploadRetryTime,l=new Bo(n,a,s,c);return l.headers=i,l.errorHandler=Zc(e),l}var wk=256*1024;function H7(t,e,n,r,i,s,a,c){var l=new gv(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw l7();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,g=v+d,y=d===h?"upload, finalize":"upload",w={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":l.current},E=r.slice(v,g);if(E===null)throw vL();function T(U,X){var j=yT(U,["active","final"]),Se=l.current+d,rt=r.size(),pe;return j==="final"?pe=Cg(e,s)(U,X):pe=null,new gv(Se,rt,j==="final",pe)}var N="POST",P=e.maxUploadRetryTime,M=new Bo(n,N,T,P);return M.headers=w,M.body=E.uploadData(),M.progressCallback=c||null,M.errorHandler=Zc(t),M}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G7=function(){function t(e,n,r){var i=w7(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}return t}(),$7=function(){function t(e,n,r,i,s,a){this.bytesTransferred=e,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AL=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Sg(),this._resumable=this._shouldDoResumable(this._blob),this._state=Oe.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(Ot.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(Oe.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(Ot.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(Oe.ERROR))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state===Oe.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case Oe.RUNNING:e(r);break;case Oe.CANCELING:n._transition(Oe.CANCELED);break;case Oe.PAUSING:n._transition(Oe.PAUSED);break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n){var r=q7(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._uploadUrl=s,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r){var i=W7(e._ref.storage,e._ref._location,n,e._blob),s=e._ref.storage.makeRequest(i,r);e._request=s,s.getPromise().then(function(a){a=a,e._request=void 0,e._updateProgress(a.current),e._needToFetchStatus=!1,a.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=wk*this._chunkMultiplier,r=new gv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=H7(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(l){e._error=l,e._transition(Oe.ERROR);return}var c=e._ref.storage.makeRequest(a,s);e._request=c,c.getPromise().then(function(l){e._increaseMultiplier(),e._request=void 0,e._updateProgress(l.current),l.finalized?(e._metadata=l.metadata,e._transition(Oe.SUCCESS)):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=wk*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n){var r=SL(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._transition(Oe.SUCCESS)},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n){var r=B7(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._updateProgress(e._blob.size()),e._transition(Oe.SUCCESS)},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case Oe.CANCELING:this._state=e,this._request!==void 0&&this._request.cancel();break;case Oe.PAUSING:this._state=e,this._request!==void 0&&this._request.cancel();break;case Oe.RUNNING:var n=this._state===Oe.PAUSED;this._state=e,n&&(this._notifyObservers(),this._start());break;case Oe.PAUSED:this._state=e,this._notifyObservers();break;case Oe.CANCELED:this._error=pL(),this._state=e,this._notifyObservers();break;case Oe.ERROR:this._state=e,this._notifyObservers();break;case Oe.SUCCESS:this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case Oe.PAUSING:this._transition(Oe.PAUSED);break;case Oe.CANCELING:this._transition(Oe.CANCELED);break;case Oe.RUNNING:this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=J_(this._state);return new $7(this._transferred,this._blob.size(),e,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var s=this,a=new G7(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(J_(this._state)){case Jn.SUCCESS:xu(this._resolve.bind(null,this.snapshot))();break;case Jn.CANCELED:case Jn.ERROR:var n=this._reject;xu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=J_(this._state);switch(n){case Jn.RUNNING:case Jn.PAUSED:e.next&&xu(e.next.bind(e,this.snapshot))();break;case Jn.SUCCESS:e.complete&&xu(e.complete.bind(e))();break;case Jn.CANCELED:case Jn.ERROR:e.error&&xu(e.error.bind(e,this._error))();break;default:e.error&&xu(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state===Oe.PAUSED||this._state===Oe.PAUSING;return e&&this._transition(Oe.RUNNING),e},t.prototype.pause=function(){var e=this._state===Oe.RUNNING;return e&&this._transition(Oe.PAUSING),e},t.prototype.cancel=function(){var e=this._state===Oe.RUNNING||this._state===Oe.PAUSING;return e&&this._transition(Oe.CANCELING),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ng=function(){function t(e,n){this._service=e,n instanceof fi?this._location=n:this._location=fi.makeFromUrl(n)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new fi(this._location.bucket,"");return this.newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return EL(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=S7(this._location.path);if(e===null)return null;var n=new fi(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw mL(e)},t}();function Y7(t,e,n){return n===void 0&&(n=null),t._throwIfRoot("uploadBytesResumable"),new AL(t,new vT(e),n)}function z7(t,e,n,r){n===void 0&&(n=Rr.RAW),t._throwIfRoot("putString");var i=yL(n,e),s=pt({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new AL(t,new vT(i.data,!0),s)}function K7(t){var e={prefixes:[],items:[]};return NL(t,e).then(function(){return e})}function NL(t,e,n){return x(this,void 0,void 0,function(){var r,i,s,a;return k(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,kL(t,r)];case 1:return i=c.sent(),(s=e.prefixes).push.apply(s,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,NL(t,e,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function kL(t,e){return x(this,void 0,void 0,function(){var n,r,i;return k(this,function(s){switch(s.label){case 0:return e!=null&&typeof e.maxResults=="number"&&m0("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),r=e||{},i=L7(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function Q7(t){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=SL(t.storage,t._location,Sg()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function X7(t,e){return x(this,void 0,void 0,function(){var n,r;return k(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=U7(t.storage,t._location,e,Sg()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}function J7(t){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=F7(t.storage,t._location,Sg()),[2,t.storage.makeRequest(n,e).getPromise().then(function(i){if(i===null)throw f7();return i})]}})})}function Z7(t){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=j7(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function xL(t,e){var n=C7(t._location.path,e),r=new fi(t._location.bucket,n);return new Ng(t.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jd=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bk=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Jd(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new Jd(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new Jd(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new Jd(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ek=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new th(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new th(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var th=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=xL(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new bk(Y7(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){return n===void 0&&(n=Rr.RAW),this._throwIfRoot("putString"),new bk(z7(this._delegate,e,n,r),this)},t.prototype.listAll=function(){var e=this;return K7(this._delegate).then(function(n){return new Ek(n,e.storage)})},t.prototype.list=function(e){var n=this;return kL(this._delegate,e).then(function(r){return new Ek(r,n.storage)})},t.prototype.getMetadata=function(){return Q7(this._delegate)},t.prototype.updateMetadata=function(e){return X7(this._delegate,e)},t.prototype.getDownloadURL=function(){return J7(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Z7(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw mL(e)},t}(),e9=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t,e,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];l||(l=!0,e.apply(null,w))}function d(w){i=setTimeout(function(){i=null,t(v,c())},w)}function v(w){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];if(!l){if(w){h.call.apply(h,Wt([null,w],E));return}var N=c()||s;if(N){h.call.apply(h,Wt([null,w],E));return}r<64&&(r*=2);var P;a===1?(a=2,P=0):P=(r+Math.random())*1e3,d(P)}}var g=!1;function y(w){g||(g=!0,!l&&(i!==null?(w||(a=2),clearTimeout(i),d(0)):w||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function n9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r9=function(){function t(e,n,r,i,s,a,c,l,h,d,v){var g=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,w){g.resolve_=y,g.reject_=w,g.start_()})}return t.prototype.start_=function(){var e=this;function n(i,s){if(s){i(!1,new Zd(!1,null,!0));return}var a=e.pool_.createXhrIo();e.pendingXhr_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;e.progressCallback_!==null&&e.progressCallback_(h,d)}e.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(l){e.progressCallback_!==null&&l.removeUploadProgressListener(c),e.pendingXhr_=null,l=l;var h=l.getErrorCode()===Na.NO_ERROR,d=l.getStatus();if(!h||e.isRetryStatusCode_(d)){var v=l.getErrorCode()===Na.ABORT;i(!1,new Zd(!1,null,v));return}var g=e.successCodes_.indexOf(d)!==-1;i(!0,new Zd(g,l))})}function r(i,s){var a=e.resolve_,c=e.reject_,l=s.xhr;if(s.wasSuccessCode)try{var h=e.callback_(l,l.getResponseText());_7(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=dT();d.serverResponse=l.getResponseText(),e.errorCallback_?c(e.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=e.appDelete_?gL():pL();c(d)}else{var d=s7();c(d)}}this.canceled_?r(!1,new Zd(!1,null,!0)):this.backoffId_=t9(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n9(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s},t}(),Zd=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function i9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function o9(t){var e=typeof oe<"u"?oe.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function s9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function a9(t,e,n,r){var i=TL(t.urlParams),s=t.url+i,a=Object.assign({},t.headers);return s9(a,e),i9(a,n),o9(a),new r9(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return/^[A-Za-z]+:\/\//.test(t)}function u9(t,e){return new Ng(t,e)}function RL(t,e){if(t instanceof kg){var n=t;if(n._bucket==null)throw c7();var r=new Ng(n,n._bucket);return e!=null?RL(r,e):r}else if(e!==void 0){if(e.includes(".."))throw vf('`path` param cannot contain ".."');return xL(t,e)}else return t}function Tk(t,e){if(e&&y0(e)){if(t instanceof kg)return u9(t,e);throw vf("To use ref(service, url), the first argument must be a Storage instance.")}else return RL(t,e)}function c9(t){var e=t==null?void 0:t[dL];return e==null?null:fi.makeFromBucketSpec(e)}var kg=function(){function t(e,n,r,i){this.app=e,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=e7,this._maxUploadRetryTime=t7,this._requests=new Set,i!=null?this._bucket=fi.makeFromBucketSpec(i):this._bucket=c9(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){m0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return x(this,void 0,void 0,function(){var e,n;return k(this,function(r){switch(r.label){case 0:return e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(e){return new Ng(this,e)},t.prototype.makeRequest=function(e,n){var r=this;if(this._deleted)return new e9(gL());var i=a9(e,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l9=function(){function t(e,n){var r=this;this.app=e,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(y0(e))throw vf("ref() expected a child path but got a URL, use refFromURL instead.");return new th(Tk(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!y0(e))throw vf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fi.makeFromUrl(e)}catch{throw vf("refFromUrl() expected a valid full URL but got an invalid one.")}return new th(Tk(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t}(),f9="@firebase/storage",h9="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d9="storage";function p9(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=new l9(n,new kg(n,r,new y7,e));return i}function v9(t){var e={TaskState:Jn,TaskEvent:g7,StringFormat:Rr,Storage:kg,Reference:th};t.INTERNAL.registerComponent(new yr(d9,p9,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(f9,h9)}v9(oe);var g9="@firebase/performance",OL="0.4.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PL=OL,m9="FB-PERF-TRACE-START",y9="FB-PERF-TRACE-STOP",_0="FB-PERF-TRACE-MEASURE",DL="_wt_",ML="_fp",LL="_fcp",FL="_fid",UL="@firebase/performance/config",jL="@firebase/performance/configexpire",_9="performance",VL="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,w9=(En={},En["trace started"]="Trace {$traceName} was started before.",En["trace stopped"]="Trace {$traceName} is not running.",En["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",En["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",En["no window"]="Window is not available.",En["no app id"]="App id is not available.",En["no project id"]="Project id is not available.",En["no api key"]="Api key is not available.",En["invalid cc log"]="Attempted to queue invalid cc event",En["FB not default"]="Performance can only start when Firebase app instance is the default one.",En["RC response not ok"]="RC response is not ok",En["invalid attribute name"]="Attribute name {$attributeName} is invalid.",En["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",En["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",En["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",En),xn=new Rs(_9,VL,w9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=new Bc(VL);Do.logLevel=Le.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z_,BL,jn=function(){function t(e){if(this.window=e,!e)throw xn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Do.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):_b()?!0:(Do.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return Z_===void 0&&(Z_=new t(BL)),Z_},t}();function b9(t){BL=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){var n=t.length-e.length;if(n<0||n>1)throw xn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ew,on=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Ik("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Ik("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw xn.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw xn.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw xn.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return ew===void 0&&(ew=new t),ew},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qL;function E9(){var t=on.getInstance().installationsService.getId();return t.then(function(e){qL=e}),t}function _T(){return qL}function T9(){var t=on.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tc;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(tc||(tc={}));var I9=["firebase_","google_","ga_"],S9=new RegExp("^[a-zA-Z]\\w*$"),C9=40,A9=100;function N9(){var t=jn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function WL(){var t=jn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return tc.VISIBLE;case"hidden":return tc.HIDDEN;default:return tc.UNKNOWN}}function k9(){var t=jn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function x9(t){if(t.length===0||t.length>C9)return!1;var e=I9.some(function(n){return t.startsWith(n)});return!e&&!!t.match(S9)}function R9(t){return t.length!==0&&t.length<=A9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O9="0.0.1",P9={loggingEnabled:!0},D9="FIREBASE_INSTALLATIONS_AUTH";function M9(t){var e=L9();return e?(Sk(e),Promise.resolve()):j9(t).then(Sk).then(function(n){return F9(n)},function(){})}function L9(){var t=jn.getInstance().localStorage;if(t){var e=t.getItem(jL);if(!(!e||!V9(e))){var n=t.getItem(UL);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function F9(t){var e=jn.getInstance().localStorage;!t||!e||(e.setItem(UL,JSON.stringify(t)),e.setItem(jL,String(Date.now()+on.getInstance().configTimeToLive*60*60*1e3)))}var U9="Could not fetch config, will use default configs";function j9(t){return T9().then(function(e){var n=on.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+on.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:D9+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:on.getInstance().getAppId(),app_version:PL,sdk_version:O9})});return fetch(i).then(function(s){if(s.ok)return s.json();throw xn.create("RC response not ok")})}).catch(function(){Do.info(U9)})}function Sk(t){if(!t)return t;var e=on.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=P9.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Ck(e.tracesSamplingRate),e.logNetworkAfterSampling=Ck(e.networkRequestsSamplingRate),t}function V9(t){return Number(t)>Date.now()}function Ck(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wT=1,tw;function HL(){return wT=2,tw=tw||q9(),tw}function B9(){return wT===3}function q9(){return W9().then(function(){return E9()}).then(function(t){return M9(t)}).then(function(){return Ak()},function(){return Ak()})}function W9(){var t=jn.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function Ak(){wT=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bT=10*1e3,H9=5.5*1e3,GL=3,G9=1e3,mv=GL,Ts=[],Nk=!1;function $9(){Nk||(xg(H9),Nk=!0)}function xg(t){setTimeout(function(){if(mv!==0){if(!Ts.length)return xg(bT);Y9()}},t)}function Y9(){var t=Ts.splice(0,G9),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:on.getInstance().logSource,log_event:e};z9(n,t).catch(function(){Ts=Wt(t,Ts),mv--,Do.info("Tries left: "+mv+"."),xg(bT)})}function z9(t,e){return K9(t).then(function(n){return n.ok||Do.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=bT;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Ts=Wt(e,Ts),Do.info("Retry transport request later.")),mv=GL,xg(i)})}function K9(t){var e=on.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Q9(t){if(!t.eventTime||!t.message)throw xn.create("invalid cc log");Ts=Wt(Ts,[t])}function X9(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Q9({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nw;function $L(t,e){nw||(nw=X9(Z9)),nw(t,e)}function ep(t){var e=on.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||jn.getInstance().requiredApisAvailable()&&(t.isAuto&&WL()!==tc.VISIBLE||(B9()?rw(t):HL().then(function(){return rw(t)},function(){return rw(t)})))}function rw(t){if(_T()){var e=on.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return $L(t,1)},0)}}function J9(t){var e=on.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return $L(t,0)},0)}}function Z9(t,e){return e===0?eJ(t):tJ(t)}function eJ(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:YL(),network_request_metric:e};return JSON.stringify(n)}function tJ(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:YL(),trace_metric:e};return JSON.stringify(r)}function YL(){return{google_app_id:on.getInstance().getAppId(),app_instance_id:_T(),web_app_info:{sdk_version:PL,page_url:jn.getInstance().getUrl(),service_worker_status:N9(),visibility_state:WL(),effective_connection_type:k9()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nJ=100,rJ="_",iJ=[ML,LL,FL];function oJ(t,e){return t.length===0||t.length>nJ?!1:e&&e.startsWith(DL)&&iJ.indexOf(t)>-1||!t.startsWith(rJ)}function sJ(t){var e=Math.floor(t);return e<t&&Do.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mf=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=jn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=m9+"-"+this.randomId+"-"+this.name,this.traceStopMark=y9+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||_0+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw xn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw xn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ep(this)},t.prototype.record=function(e,n,r){if(e<=0)throw xn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw xn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=pt({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}ep(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(oJ(e,this.name))this.counters[e]=sJ(n);else throw xn.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=x9(e),i=R9(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw xn.create("invalid attribute name",{attributeName:e});if(!i)throw xn.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return pt({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=jn.getInstance().getUrl();if(i){var s=new t(DL+i,!0),a=Math.floor(jn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),e&&e[0]&&(s.setDuration(Math.floor(e[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(ML,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(LL,Math.floor(d.startTime*1e3)),r&&s.putMetric(FL,Math.floor(r*1e3))}ep(s)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);ep(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=jn.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,s=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],c={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};J9(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aJ=5e3;function xk(){_T()&&(setTimeout(function(){return cJ()},0),setTimeout(function(){return uJ()},0),setTimeout(function(){return lJ()},0))}function uJ(){for(var t=jn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];kk(i)}t.setupObserver("resource",kk)}function cJ(){var t=jn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){mf.createOobTrace(e,n),r=void 0},aJ);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),mf.createOobTrace(e,n,i))})}else mf.createOobTrace(e,n)}function lJ(){for(var t=jn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];Rk(i)}t.setupObserver("measure",Rk)}function Rk(t){var e=t.name;e.substring(0,_0.length)!==_0&&mf.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fJ=function(){function t(e){this.app=e,jn.getInstance().requiredApisAvailable()&&wb().then(function(n){n&&($9(),HL().then(xk,xk))}).catch(function(n){Do.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new mf(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return on.getInstance().instrumentationEnabled},set:function(e){on.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return on.getInstance().dataCollectionEnabled},set:function(e){on.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hJ="[DEFAULT]";function dJ(t){var e=function(n,r){if(n.name!==hJ)throw xn.create("FB not default");if(typeof window>"u")throw xn.create("no window");return b9(window),on.getInstance().firebaseAppInstance=n,on.getInstance().installationsService=r,new fJ(n)};t.INTERNAL.registerComponent(new yr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(g9,OL)}dJ(oe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pJ="firebase_id",vJ="origin",gJ=60*1e3,mJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zL="https://www.googletagmanager.com/gtag/js",Vn;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(Vn||(Vn={}));var w0;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(w0||(w0={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yJ(t,e,n,r,i){return x(this,void 0,void 0,function(){var s,a;return k(this,function(c){switch(c.label){case 0:return i&&i.global?(t(Vn.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:s=c.sent(),a=pt(pt({},r),{send_to:s}),t(Vn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function _J(t,e,n,r){return x(this,void 0,void 0,function(){var i;return k(this,function(s){switch(s.label){case 0:return r&&r.global?(t(Vn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(Vn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function wJ(t,e,n,r){return x(this,void 0,void 0,function(){var i;return k(this,function(s){switch(s.label){case 0:return r&&r.global?(t(Vn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(Vn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function bJ(t,e,n,r){return x(this,void 0,void 0,function(){var i,s,a,c,l;return k(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return t(Vn.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:l=h.sent(),t(Vn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function EJ(t,e){return x(this,void 0,void 0,function(){var n;return k(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn=new Bc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TJ(t){var e=document.createElement("script");e.src=zL+"?l="+t,e.async=!0,document.head.appendChild(e)}function IJ(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function SJ(t,e,n,r,i,s){return x(this,void 0,void 0,function(){var a,c,l,h;return k(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,e[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),Tn.error(h),[3,8];case 8:return t(Vn.CONFIG,i,s),[2]}})})}function CJ(t,e,n,r,i){return x(this,void 0,void 0,function(){var s,a,c,l,h,d,v,g,y;return k(this,function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=w.sent(),l=function(E){var T=c.find(function(P){return P.measurementId===E}),N=T&&e[T.appId];if(N)s.push(N);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],g=l(v),g!=="break");h++);w.label=2;case 2:return s.length===0&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return w.sent(),t(Vn.EVENT,r,i||{}),[3,5];case 4:return y=w.sent(),Tn.error(y),[3,5];case 5:return[2]}})})}function AJ(t,e,n,r){function i(s,a,c){return x(this,void 0,void 0,function(){var l;return k(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Vn.EVENT?[3,2]:[4,CJ(t,e,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==Vn.CONFIG?[3,4]:[4,SJ(t,e,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:t(Vn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),Tn.error(l),[3,7];case 7:return[2]}})})}return i}function NJ(t,e,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=AJ(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function kJ(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(zL))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni,xJ=(ni={},ni["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ni["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ni["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ni["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ni["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ni["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ni["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ni["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ni["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ni),Hr=new Rs("analytics","Analytics",xJ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RJ=30,OJ=1e3,PJ=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=OJ),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),KL=new PJ;function DJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function MJ(t){var e;return x(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return k(this,function(h){switch(h.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:DJ(r)},s=mJ.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((e=l.error)===null||e===void 0)&&e.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Hr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function LJ(t,e,n){return e===void 0&&(e=KL),x(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return k(this,function(d){if(r=t.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Hr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Hr.create("no-api-key")}return c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new jJ,setTimeout(function(){return x(h,void 0,void 0,function(){return k(this,function(v){return l.abort(),[2]})})},n!==void 0?n:gJ),[2,QL({appId:i,apiKey:s,measurementId:a},c,l,e)]})})}function QL(t,e,n,r){var i=e.throttleEndTimeMillis,s=e.backoffCount;return r===void 0&&(r=KL),x(this,void 0,void 0,function(){var a,c,l,h,d,v,g;return k(this,function(y){switch(y.label){case 0:a=t.appId,c=t.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,FJ(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return Tn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,MJ(t)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!UJ(d)){if(r.deleteThrottleMetadata(a),c)return Tn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?Pw(s,r.intervalMillis,RJ):Pw(s,r.intervalMillis),g={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,g),Tn.debug("Calling attemptFetch again in "+v+" millis"),[2,QL(t,g,n,r)];case 7:return[2]}})})}function FJ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function UJ(t){if(!(t instanceof Vc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var jJ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VJ(){return x(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:return _b()?[3,1]:(Tn.warn(Hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,wb()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Tn.warn(Hr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function BJ(t,e,n,r,i){return x(this,void 0,void 0,function(){var s,a,c,l,h,d,v;return k(this,function(g){switch(g.label){case 0:return s=LJ(t),s.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Tn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return Tn.error(y)}),e.push(s),a=VJ().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return c=g.sent(),l=c[0],h=c[1],i("js",new Date),d=(v={},v[vJ]="firebase",v.update=!0,v),h!=null&&(d[pJ]=h),i(Vn.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fo={},Ok=[],Pk={},yp="dataLayer",XL="gtag",Dk,Kl,b0=!1;function qJ(t){if(b0)throw Hr.create("already-initialized");t.dataLayerName&&(yp=t.dataLayerName),t.gtagName&&(XL=t.gtagName)}function WJ(){var t=[];if(yb()&&t.push("This is a browser extension environment."),tO()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Hr.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function HJ(t,e){WJ();var n=t.options.appId;if(!n)throw Hr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Hr.create("no-api-key");if(fo[n]!=null)throw Hr.create("already-exists",{id:n});if(!b0){kJ()||TJ(yp),IJ(yp);var r=NJ(fo,Ok,Pk,yp,XL),i=r.wrappedGtag,s=r.gtagCore;Kl=i,Dk=s,b0=!0}fo[n]=BJ(t,Ok,Pk,e,Dk);var a={app:t,logEvent:function(c,l,h){yJ(Kl,fo[n],c,l,h).catch(function(d){return Tn.error(d)})},setCurrentScreen:function(c,l){_J(Kl,fo[n],c,l).catch(function(h){return Tn.error(h)})},setUserId:function(c,l){wJ(Kl,fo[n],c,l).catch(function(h){return Tn.error(h)})},setUserProperties:function(c,l){bJ(Kl,fo[n],c,l).catch(function(h){return Tn.error(h)})},setAnalyticsCollectionEnabled:function(c){EJ(fo[n],c).catch(function(l){return Tn.error(l)})},INTERNAL:{delete:function(){return delete fo[n],Promise.resolve()}}};return a}var GJ="@firebase/analytics",$J="0.6.2",Mk="analytics";function YJ(t){t.INTERNAL.registerComponent(new yr(Mk,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return HJ(r,i)},"PUBLIC").setServiceProps({settings:qJ,EventName:w0,isSupported:zJ})),t.INTERNAL.registerComponent(new yr("analytics-internal",e,"PRIVATE")),t.registerVersion(GJ,$J);function e(n){try{var r=n.getProvider(Mk).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Hr.create("interop-component-reg-failed",{reason:i})}}}YJ(oe);function zJ(){return x(this,void 0,void 0,function(){var t;return k(this,function(e){switch(e.label){case 0:if(yb())return[2,!1];if(!tO())return[2,!1];if(!_b())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,wb()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KJ=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return x(this,void 0,void 0,function(){var n,r,i,s,a;return k(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn,QJ=(Kn={},Kn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Kn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Kn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Kn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Kn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Kn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Kn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Kn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Kn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Kn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Kn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Kn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Kn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Kn),Wr=new Rs("remoteconfig","Remote Config",QJ);function XJ(t,e){return t instanceof Vc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZJ=function(){function t(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return t.prototype.fetch=function(e){return x(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,g,y,w,E,T,N,P,M,U;return k(this,function(X){switch(X.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=X.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:JJ()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(j,Se){e.signal.addEventListener(function(){var rt=new Error("The operation was aborted.");rt.name="AbortError",Se(rt)})}),X.label=2;case 2:return X.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return X.sent(),[4,d];case 4:return g=X.sent(),[3,6];case 5:throw y=X.sent(),w="fetch-client-network",y.name==="AbortError"&&(w="fetch-timeout"),Wr.create(w,{originalErrorMessage:y.message});case 6:if(E=g.status,T=g.headers.get("ETag")||void 0,g.status!==200)return[3,11];M=void 0,X.label=7;case 7:return X.trys.push([7,9,,10]),[4,g.json()];case 8:return M=X.sent(),[3,10];case 9:throw U=X.sent(),Wr.create("fetch-client-parse",{originalErrorMessage:U.message});case 10:N=M.entries,P=M.state,X.label=11;case 11:if(P==="INSTANCE_STATE_UNSPECIFIED"?E=500:P==="NO_CHANGE"?E=304:(P==="NO_TEMPLATE"||P==="EMPTY_CONFIG")&&(N={}),E!==304&&E!==200)throw Wr.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:T,config:N}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eZ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tZ=!1,nZ="",Lk=0,rZ=["1","true","t","yes","y","on"],iw=function(){function t(e,n){n===void 0&&(n=nZ),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?tZ:rZ.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return Lk;var e=Number(this._value);return isNaN(e)&&(e=Lk),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iZ=60*1e3,oZ=12*60*60*1e3,sZ=function(){function t(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:iZ,minimumFetchIntervalMillis:oZ},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Le.DEBUG;break;case"silent":this._logger.logLevel=Le.SILENT;break;default:this._logger.logLevel=Le.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return x(this,void 0,void 0,function(){var e,n,r;return k(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return x(this,void 0,void 0,function(){var e,n,r,i=this;return k(this,function(s){switch(s.label){case 0:e=new eZ,setTimeout(function(){return x(i,void 0,void 0,function(){return k(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=XJ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return x(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return aZ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new iw("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new iw("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new iw("static"))},t}();function aZ(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(pt(pt({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t,e){var n=t.target.error||void 0;return Wr.create(e,{originalErrorMessage:n&&n.message})}var ua="app_namespace_store",uZ="firebase_remote_config",cZ=1;function lZ(){return new Promise(function(t,e){var n=indexedDB.open(uZ,cZ);n.onerror=function(r){e(_p(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ua,{keyPath:"compositeKey"})}}})}var fZ=function(){function t(e,n,r,i){i===void 0&&(i=lZ()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return x(this,void 0,void 0,function(){var n,r=this;return k(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([ua],"readonly"),l=c.objectStore(ua),h=r.createCompositeKey(e);try{var d=l.get(h);d.onerror=function(v){a(_p(v,"storage-get"))},d.onsuccess=function(v){var g=v.target.result;s(g?g.value:void 0)}}catch(v){a(Wr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return x(this,void 0,void 0,function(){var r,i=this;return k(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([ua],"readwrite"),h=l.objectStore(ua),d=i.createCompositeKey(e);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(g){c(_p(g,"storage-set"))},v.onsuccess=function(){a()}}catch(g){c(Wr.create("storage-set",{originalErrorMessage:g&&g.message}))}})]}})})},t.prototype.delete=function(e){return x(this,void 0,void 0,function(){var n,r=this;return k(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([ua],"readwrite"),l=c.objectStore(ua),h=r.createCompositeKey(e);try{var d=l.delete(h);d.onerror=function(v){a(_p(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(Wr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hZ=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return x(this,void 0,void 0,function(){var e,n,r,i,s,a;return k(this,function(c){switch(c.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pZ(t){if(!(t instanceof Vc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var vZ=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return x(this,void 0,void 0,function(){var n;return k(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return x(this,void 0,void 0,function(){var s,a,c;return k(this,function(l){switch(l.label){case 0:return[4,dZ(e.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!pZ(a))throw a;return c={throttleEndTimeMillis:Date.now()+Pw(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(e,c)];case 7:return[2]}})})},t}(),Fk="@firebase/remote-config",gZ="0.1.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mZ(t){t.INTERNAL.registerComponent(new yr("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(Fk,gZ);function e(n,r){var i=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Wr.create("registration-window");var a=i.options,c=a.projectId,l=a.apiKey,h=a.appId;if(!c)throw Wr.create("registration-project-id");if(!l)throw Wr.create("registration-api-key");if(!h)throw Wr.create("registration-app-id");r=r||"firebase";var d=new fZ(h,i.name,r),v=new hZ(d),g=new Bc(Fk);g.logLevel=Le.ERROR;var y=new ZJ(s,t.SDK_VERSION,r,c,l,h),w=new vZ(y,d),E=new KJ(w,d,v,g),T=new sZ(i,E,v,d,g);return T.ensureInitialized(),T}}mZ(oe);var yZ="firebase",_Z="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oe.registerVersion(yZ,_Z,"app");var wZ="firebase",bZ="8.2.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);oe.registerVersion(wZ,bZ);const EZ={apiKey:"AIzaSyBsTEvv_k5WEyjnQy0Cdhr5ZNyZe2N00js",authDomain:"twitter-clone-inflearn-10fc8.firebaseapp.com",projectId:"twitter-clone-inflearn-10fc8",storageBucket:"twitter-clone-inflearn-10fc8.appspot.com",messagingSenderId:"325557618636",appId:"1:325557618636:web:fe74e1dad3ca4f98af3f69",measurementId:"G-NT1D3TVGPK"};oe.initializeApp(EZ);const ET=oe.auth(),Rh=oe.firestore();oe.storage();const ji=Rh.collection("users"),Gr=Rh.collection("tweets"),E0=Rh.collection("comments"),yv=Rh.collection("retweets"),_v=Rh.collection("likes"),TZ={props:["tweet"],setup(t,{emit:e}){const n=dt(""),r=en(()=>mn.state.user);return{tweetBody:n,moment:ne,currentUser:r,onCommentTweet:async()=>{try{const s=E0.doc();await s.set({id:s.id,from_tweet_id:t.tweet.id,comment_tweet_body:n.value,uid:r.value.uid,created_at:Date.now()}),await Gr.doc(t.tweet.id).update({num_comments:oe.firestore.FieldValue.increment(1)}),e("close-modal")}catch(s){console.log("on comment tweet error:"+s)}}}}},IZ={class:"flex justify-center min-h-screen sm:pt-6 sm:px-4 sm:pb-20 text-center sm:block sm:p-0"},SZ=C("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[C("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),CZ={class:"border-b border-gray-100 p-2 flex items-center justify-between"},AZ=C("div",{class:"text-right sm:hidden mr-2"},[C("button",{class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"},""),C("button",{class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")],-1),NZ={class:"flex px-4 pt-4 pb-3"},kZ={class:"flex flex-col"},xZ=["src"],RZ=C("div",{class:"ml-5 w-0.5 h-full bg-gray-300 mt-2 -mb-1"},null,-1),OZ={class:"ml-2 flex-1"},PZ={class:"flex space-x-2"},DZ={class:"font-bold text-sm"},MZ={class:"text-gray text-sm"},LZ={class:"text-gray text-sm"},FZ={class:"text-sm"},UZ={class:"text-primary text-sm"},jZ=C("span",{class:"text-gray text-sm"},"   ",-1),VZ={class:"flex px-4 pb-4"},BZ=["src"],qZ={class:"ml-2 flex-1 flex flex-col"},WZ={class:"text-right hidden sm:block"},HZ={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function GZ(t,e,n,r,i,s){return fe(),Te("div",{class:"fixed z-10 inset-0 overflow-y-auto",onClick:e[4]||(e[4]=a=>t.$emit("close-modal"))},[C("div",IZ,[SZ,C("div",{onClick:e[3]||(e[3]=W0(()=>{},["stop"])),class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},[C("div",CZ,[C("button",{onClick:e[0]||(e[0]=a=>t.$emit("close-modal")),class:"fas fa-times text-primary text-lg p-2 h-10 w-10 hover:bg-blue-50 rounded-full"}),AZ]),C("div",null,[C("div",NZ,[C("div",kZ,[C("img",{src:n.tweet.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,xZ),RZ]),C("div",OZ,[C("div",PZ,[C("span",DZ,Ve(n.tweet.email),1),C("span",MZ,"@"+Ve(n.tweet.username),1),C("span",LZ,Ve(r.moment(n.tweet.created_at).fromNow()),1)]),C("div",FZ,Ve(n.tweet.tweet_body),1),C("div",null,[C("span",UZ,"@"+Ve(n.tweet.username),1),jZ])])]),C("div",VZ,[C("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,BZ),C("div",qZ,[ms(C("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.tweetBody=a),rows:"5",placeholder:"  ",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none"},null,512),[[_s,r.tweetBody]]),C("div",WZ,[r.tweetBody.length?(fe(),Te("button",{key:1,onClick:e[2]||(e[2]=(...a)=>r.onCommentTweet&&r.onCommentTweet(...a)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")):(fe(),Te("button",HZ,""))])])])])])])])}const JL=Bn(TZ,[["render",GZ]]),ZL=async t=>{try{if(t.isRetweeted)await(await yv.where("from_tweet_id","==",t.id).where("uid","==",mn.state.user.uid).get()).docs[0].ref.delete(),await Gr.doc(t.id).update({num_retweets:oe.firestore.FieldValue.increment(-1)});else{const e=yv.doc();await e.set({id:e.id,from_tweet_id:t.id,uid:mn.state.user.uid,created_at:Date.now()}),await Gr.doc(t.id).update({num_retweets:oe.firestore.FieldValue.increment(1)})}}catch(e){console.log("handle retweet error",e)}},e2=async t=>{try{if(t.isLiked)await(await _v.where("from_tweet_id","==",t.id).where("uid","==",mn.state.user.uid).get()).docs[0].ref.delete(),await Gr.doc(t.id).update({num_likes:oe.firestore.FieldValue.increment(-1)});else{const e=_v.doc();await e.set({id:e.id,from_tweet_id:t.id,uid:mn.state.user.uid,created_at:Date.now()}),await Gr.doc(t.id).update({num_likes:oe.firestore.FieldValue.increment(1)})}}catch(e){console.log("handle liked error",e)}},$Z={components:{commentModal:JL},props:["currentUser","tweet"],setup(){const t=dt(!1);return{moment:ne,showCommentModal:t,handleRetweet:ZL,handleLikes:e2}}},YZ={className:"flex px-3 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer"},zZ=["src"],KZ={className:"ml-3 flex-1 flex flex-col space-y-1"},QZ={className:"text-sm space-x-1"},XZ={className:"font-bold"},JZ={className:"text-gray-500 text-xs"},ZZ=C("span",null,"",-1),eee={className:"text-gray-500 text-xs"},tee={className:"flex justify-between"},nee=C("i",{className:"far fa-comment hover:bg-blue-50 rounded-full p-2"},null,-1),ree={className:"ml-1 text-sm"},iee=C("i",{className:"fa fa-retweet hover:bg-green-50 rounded-full p-2"},null,-1),oee={className:"ml-1 text-sm"},see=C("i",{className:"fa fa-retweet hover:bg-green-50 rounded-full p-2"},null,-1),aee={className:"ml-1 text-sm"},uee=C("i",{className:"far fa-heart hover:bg-red-50 rounded-full p-2"},null,-1),cee={className:"ml-1 text-sm"},lee=C("i",{className:"far fa-heart hover:bg-red-50 rounded-full p-2"},null,-1),fee={className:"ml-1 text-sm"},hee=C("div",{className:"text-gray-500 hover:text-primary"},[C("i",{className:"far fa-share-square hover:bg-blue-50 rounded-full p-2"})],-1);function dee(t,e,n,r,i,s){const a=An("router-link"),c=An("comment-modal");return fe(),Te(Vt,null,[C("div",YZ,[Ct(a,{to:`/profile/${n.tweet.uid}`},{default:ic(()=>[C("img",{src:n.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,zZ)]),_:1},8,["to"]),C("div",KZ,[C("div",QZ,[C("span",XZ,Ve(n.tweet.email),1),C("span",JZ,"@"+Ve(n.tweet.username),1),ZZ,C("span",eee,Ve(r.moment(n.tweet.created_at).fromNow()),1)]),Ct(a,{to:`/tweet/${n.tweet.id}`},{default:ic(()=>[Dx(Ve(n.tweet.tweet_body),1)]),_:1},8,["to"]),C("div",tee,[C("div",{onClick:e[0]||(e[0]=l=>r.showCommentModal=!0),className:"text-gray-500 hover:text-primary"},[nee,C("span",ree,Ve(n.tweet.num_comments),1)]),n.tweet.isRetweeted?(fe(),Te("div",{key:1,className:"text-green-400",onClick:e[2]||(e[2]=l=>r.handleRetweet(n.tweet))},[see,C("span",aee,Ve(n.tweet.num_retweets),1)])):(fe(),Te("div",{key:0,className:"text-gray-500 hover:text-green-500",onClick:e[1]||(e[1]=l=>r.handleRetweet(n.tweet))},[iee,C("span",oee,Ve(n.tweet.num_retweets),1)])),n.tweet.isLiked?(fe(),Te("div",{key:3,className:"text-red-400",onClick:e[4]||(e[4]=l=>r.handleLikes(n.tweet))},[lee,C("span",fee,Ve(n.tweet.num_likes),1)])):(fe(),Te("div",{key:2,className:"text-gray-400 hover:text-red-400",onClick:e[3]||(e[3]=l=>r.handleLikes(n.tweet))},[uee,C("span",cee,Ve(n.tweet.num_likes),1)])),hee])])]),r.showCommentModal?(fe(),Yi(c,{key:0,tweet:n.tweet,onCloseModal:e[5]||(e[5]=l=>r.showCommentModal=!1)},null,8,["tweet"])):ys("",!0)],64)}const t2=Bn($Z,[["render",dee]]),TT=(t,e)=>new Promise(async(n,r)=>{try{const i=Gr.doc();await i.set({id:i.id,tweet_body:t,uid:e.uid,created_at:Date.now(),num_comments:0,num_retweets:0,num_likes:0}),await ji.doc(e.uid).update({num_tweets:oe.firestore.FieldValue.increment(1)}),n(!0)}catch(i){r(i)}}),nc=async(t,e)=>{const n=await ji.doc(t.uid).get();return t.profile_image_url=n.data().profile_image_url,t.email=n.data().email,t.username=n.data().username,(await yv.where("from_tweet_id","==",t.id).where("uid","==",e.uid).get()).empty?t.isRetweeted=!1:t.isRetweeted=!0,(await _v.where("from_tweet_id","==",t.id).where("uid","==",e.uid).get()).empty?t.isLiked=!1:t.isLiked=!0,t},pee={components:{Trends:Pv,Tweet:t2},setup(){const t=dt(""),e=en(()=>mn.state.user),n=dt([]);return oc(()=>{ji.doc(e.value.uid).onSnapshot(i=>{mn.commit("SET_USER",i.data())}),Gr.orderBy("created_at","desc").onSnapshot(i=>{i.docChanges().forEach(async s=>{let a=await nc(s.doc.data(),e.value);s.type==="added"?n.value.splice(s.newIndex,0,a):s.type==="modified"?n.value.splice(s.oldIndex,1,a):s.type==="removed"&&n.value.splice(s.oldIndex,1)})})}),{currentUser:e,tweetBody:t,tweets:n,onAddTweet:async()=>{try{await TT(t.value,e.value),t.value=""}catch(i){console.log("on add tweet error on homepage:",i)}},onBeforeMount:oc}}},vee={class:"flex-1 border-r border-gray-100 overflow-y-auto"},gee={class:"flex flex-col"},mee=C("div",{class:"border-b border-gray-100 px-3 py-2 font-bold text-lg"},"  ",-1),yee={class:"flex px-3 py-3 border-b-8 border-gray-100"},_ee=["src"],wee={class:"ml-2 flex-1 flex flex-col"},bee={class:"text-right"},Eee={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function Tee(t,e,n,r,i,s){const a=An("Tweet"),c=An("Trends");return fe(),Te(Vt,null,[C("div",vee,[C("div",gee,[mee,C("div",yee,[C("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,_ee),C("div",wee,[ms(C("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.tweetBody=l),placeholder:"   ?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none bg-gray-100"},null,512),[[_s,r.tweetBody]]),C("div",bee,[r.tweetBody.length?(fe(),Te("button",{key:1,onClick:e[1]||(e[1]=(...l)=>r.onAddTweet&&r.onAddTweet(...l)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")):(fe(),Te("button",Eee,""))])])]),(fe(!0),Te(Vt,null,No(r.tweets,l=>(fe(),Yi(a,{currentUser:r.currentUser,tweet:l,key:l.id},null,8,["currentUser","tweet"]))),128))])]),Ct(c)],64)}const Ql=Bn(pee,[["render",Tee]]),Iee={components:{Trends:Pv}},See={class:"flex-1 border-r border-gray-100 flex flex-col overflow-y-auto"},Cee=C("div",{class:"p-3 font-bold text-lg border-b border-gray-100"},"",-1),Aee=Mc('<div class="flex justify-between"><img src="http://picsum.photos/100" class="w-10 h-10 rounded-full hover:opacity-80"><i class="fas fa-ellipsis-h text-gray-500 hover:bg-blue-50 hover:text-primary p-2 rounded-full w-10 h-10 flex items-center justify-center"></i></div><div><span class="font-bold"></span>   </div><div class="text-gray-500"> wjelifwjeiflwejfiwejfil wefiwejfiweofjweiof wefjiewjf dcivcvf </div>',3),Nee=[Aee];function kee(t,e,n,r,i,s){const a=An("Trends");return fe(),Te(Vt,null,[C("div",See,[Cee,(fe(),Te(Vt,null,No(10,c=>C("div",{class:"flex flex-col hover:bg-gray-50 p-3 space-y-2 border-b border-gray-100 cursor-pointer",key:c},Nee)),64))]),Ct(a)],64)}const xee=Bn(Iee,[["render",kee]]),Ree={},Oee={class:"flex-1 flex"},Pee={class:"w-2/5 border-r border-gray-100 overflow-y-scroll"},Dee={class:"flex flex-col"},Mee=Mc('<div class="p-3 font-bold text-lg border-b border-gray-100 h-14"></div><div class="flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100 bg-gray-200"><img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9 17</div></div><div class="text-gray-500"></div></div></div>',2),Lee=Mc('<img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9 17</div></div><div class="text-gray-500"></div></div>',2),Fee=[Lee],Uee={class:"w-3/5 border-r border-gray-100"},jee={class:"flex flex-col h-screen"},Vee=Mc('<div class="flex px-3 h-14 items-center border-b border-gray-100"><img src="http://picsum.photos/100" class="w-8 h-8 rounded-full mr-2 cursor-pointer"><div><div class="font-bold text-lg">jjw.com</div><div class="text-sm text-gray-500">@jaewoong</div></div></div><div class="flex flex-col justify-center items-center border-b border-gray-100 hover:bg-gray-50 py-6"><div><span class="font-bold mr-1">jjw.com</span><span class="text-gray-500">@jaewoong</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray-500"> </span><span class="font-bold ml-3 mr-1">7</span><span class="text-gray-500"></span></div><div><span class="text-gray-500 mr-1"></span><span class="text-gray-500">2021 3</span></div></div>',2),Bee={class:"flex-1 overflow-y-scroll"},qee=C("div",{class:"text-right px-3 py-3"},[C("span",{class:"bg-primary text-white px-4 py-2 rounded-full"},""),C("div",{class:"mt-2 text-xs text-gray-500"},"2023 9 17  7:16")],-1),Wee=C("span",{class:"bg-gray-100 px-4 py-2 rounded-full"},"",-1),Hee=C("div",{class:"mt-2 text-xs text-gray-500"},"2023 9 17  7:16",-1),Gee=[Wee,Hee],$ee=C("div",{class:"flex items-center bg-white border-t border-gray-100 sticky"},[C("input",{type:"text",class:"m-2 py-1 px-4 rounded-full bg-gray-100 resize-none outline-none flex-1",placeholder:"  ",rows:"1"}),C("button",{class:"text-center"},[C("i",{class:"far fa-paper-plane text-primary text-lg hover:bg-blue-50 p-2 rounded-full w-10 h-10"})])],-1);function Yee(t,e,n,r,i,s){return fe(),Te("div",Oee,[C("div",Pee,[C("div",Dee,[Mee,(fe(),Te(Vt,null,No(5,a=>C("div",{class:"flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100",key:a},Fee)),64))])]),C("div",Uee,[C("div",jee,[Vee,C("div",Bee,[qee,(fe(),Te(Vt,null,No(20,a=>C("div",{class:"text-left px-3 py-3",key:a},Gee)),64))]),$ee])])])}const zee=Bn(Ree,[["render",Yee]]),Kee="/vue3-twitter-clone/background.png",Qee="/vue3-twitter-clone/profile.jpeg",Xee={setup(t,{emit:e}){const n=dt(""),r=en(()=>mn.state.user),i=dt(null),s=dt(null);return{tweetBody:n,onAddTweet:async()=>{try{await TT(n.value,r.value),n.value="",e("close-modal")}catch(v){console.log("on add tweet error on homepage:",v)}},currentUser:r,onChangeBackgroundImage:()=>{document.getElementById("backgroundImageInput").click()},onChangeProfileImage:()=>{document.getElementById("profileImageInput").click()},previewBackgroundImage:v=>{const g=v.target.files[0];let y=new FileReader;y.onload=function(w){s.value.src=w.target.result},y.readAsDataURL(g)},previewProfileImage:v=>{const g=v.target.files[0];let y=new FileReader;y.onload=function(w){i.value.src=w.target.result},y.readAsDataURL(g)},backgroundImage:s,profileImage:i}}},Jee={class:"flex justify-center min-h-screen sm:pt-6 sm:px-4 sm:pb-20 text-center sm:block sm:p-0"},Zee=C("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[C("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),ete={class:"border-b border-gray-100 p-2 flex items-center justify-between"},tte={class:"flex items-center"},nte=C("span",{class:"font-bold text-lg"}," ",-1),rte=C("div",{class:"text-right mr-2"},[C("button",{class:"hover:bg-dark bg-primary text-white font-bold px-3 py-1 rounded-full"},"")],-1),ite={class:"h-60"},ote={class:"bg-gray-300 h-40 relative flex-none flex items-center justify-center"},ste={ref:"backgroundImage",src:Kee,class:"object-cover absolute h-full w-full"},ate={ref:"profileImage",src:Qee,class:"border-4 border-white w-28 h-28 absolute -bottom-14 left-2 rounded-full"};function ute(t,e,n,r,i,s){return fe(),Te("div",{class:"fixed z-10 inset-0 overflow-y-auto",onClick:e[6]||(e[6]=a=>t.$emit("close-modal"))},[C("div",Jee,[Zee,C("div",{onClick:e[5]||(e[5]=W0(()=>{},["stop"])),class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},[C("div",ete,[C("div",tte,[C("button",{onClick:e[0]||(e[0]=a=>t.$emit("close-modal")),class:"flex items-center justify-center fas fa-times text-primary text-lg p-2 h-10 w-10 hover:bg-blue-50 rounded-full"}),nte]),rte]),C("div",ite,[C("div",ote,[C("img",ste,null,512),C("button",{onClick:e[1]||(e[1]=(...a)=>r.onChangeBackgroundImage&&r.onChangeBackgroundImage(...a)),class:"absolute h-10 w-10 hover:text-gray-200 rounded-full fas fa-camera text-white text-lg"}),C("input",{onChange:e[2]||(e[2]=(...a)=>r.previewBackgroundImage&&r.previewBackgroundImage(...a)),type:"file",accept:"image/*",id:"backgroundImageInput",class:"hidden"},null,32),C("img",ate,null,512),C("button",{onClick:e[3]||(e[3]=(...a)=>r.onChangeProfileImage&&r.onChangeProfileImage(...a)),class:"absolute -bottom-5 left-11 h-10 w-10 hover:text-gray-200 rounded-full fas fa-camera text-white text-lg"}),C("input",{onChange:e[4]||(e[4]=(...a)=>r.previewProfileImage&&r.previewProfileImage(...a)),type:"file",accept:"image/*",id:"profileImageInput",class:"hidden"},null,32)])])])])])}const cte=Bn(Xee,[["render",ute]]),lte={components:{Trends:Pv,Tweet:t2,ProfileEditModal:cte},setup(){const t=en(()=>mn.state.user),e=dt(null),n=dt([]),r=dt([]),i=dt([]),s=dt("tweet"),a=$0();return oc(()=>{const h=a.params.uid??t.value.uid;ji.doc(h).onSnapshot(d=>{e.value=d.data()}),Gr.where("uid","==",h).orderBy("created_at","desc").onSnapshot(d=>{d.docChanges().forEach(async v=>{let g=await nc(v.doc.data(),t.value);v.type==="added"?n.value.splice(v.newIndex,0,g):v.type==="modified"?n.value.splice(v.oldIndex,1,g):v.type==="removed"&&n.value.splice(v.oldIndex,1)})}),yv.where("uid","==",h).orderBy("created_at","desc").onSnapshot(d=>{d.docChanges().forEach(async v=>{const g=await Gr.doc(v.doc.data().from_tweet_id).get();let y=await nc(g.data(),t.value);v.type==="added"?r.value.splice(v.newIndex,0,y):v.type==="modified"?r.value.splice(v.oldIndex,1,y):v.type==="removed"&&r.value.splice(v.oldIndex,1)})}),_v.where("uid","==",h).orderBy("created_at","desc").onSnapshot(d=>{d.docChanges().forEach(async v=>{const g=await Gr.doc(v.doc.data().from_tweet_id).get();let y=await nc(g.data(),t.value);v.type==="added"?i.value.splice(v.newIndex,0,y):v.type==="modified"?i.value.splice(v.oldIndex,1,y):v.type==="removed"&&i.value.splice(v.oldIndex,1)})})}),{currentUser:t,profileUser:e,tweets:n,reTweets:r,likeTweets:i,moment:ne,currentTab:s,router:ka,onFollow:async()=>{await ji.doc(t.value.uid).update({followings:oe.firestore.FieldValue.arrayUnion(e.value.uid)}),await ji.doc(e.value.uid).update({followers:oe.firestore.FieldValue.arrayUnion(t.value.uid)}),mn.commit("SET_FOLLOW",e.value.uid)},onUnFollow:async()=>{await ji.doc(t.value.uid).update({followings:oe.firestore.FieldValue.arrayRemove(e.value.uid)}),await ji.doc(e.value.uid).update({followers:oe.firestore.FieldValue.arrayRemove(t.value.uid)}),mn.commit("SET_UN_FOLLOW",e.value.uid)}}}},fte={key:0,class:"flex-1 flex"},hte={class:"flex-1 flex flex-col border-r border-color"},dte={class:"px-3 py-1 flex border-b border-color"},pte=C("i",{class:"fas fa-arrow-left text-primary p-3 rounded-full hover:bg-blue-50"},null,-1),vte=[pte],gte={class:"font-extrabold text-lg"},mte={class:"text-xs text-gray"},yte={class:"bg-gray-300 h-48 relative flex-none"},_te=["src"],wte={class:"border-4 border-white bg-gray-100 w-28 h-28 rounded-full absolute -bottom-14 left-2"},bte=["src"],Ete={class:"text-right mt-2 mr-2 mb-10 relative"},Tte={key:0},Ite=C("button",{class:"border text-sm border-primary text-primary px-3 py-2 hover:bg-blue-50 font-bold rounded-full"}," ",-1),Ste=[Ite],Cte={key:1},Ate=C("button",{class:"absolute w-24 right-0 text-sm bg-primary text-white px-3 py-2 hover:opacity-0 font-bold rounded-full"},"",-1),Nte=C("button",{class:"absolute w-24 right-0 text-sm bg-red-400 text-white px-3 py-2 opacity-0 hover:opacity-100 font-bold rounded-full"},"",-1),kte=[Ate,Nte],xte=C("button",{class:"absolute right-0 w-24 border text-sm border-primary text-primary px-3 py-2 hover:bg-blue-50 font-bold rounded-full"},"",-1),Rte=[xte],Ote={class:"mx-3 mt-2"},Pte={class:"font-extrabold text-lg"},Dte={class:"text-gray"},Mte=C("span",{class:"text-gray"},":",-1),Lte={class:"text-gray"},Fte={class:"font-bold mr-1"},Ute=C("span",{class:"text-gray mr-3"}," ",-1),jte={class:"font-bold mr-1"},Vte=C("span",{class:"text-gray"},"",-1),Bte={class:"flex border-b border-color mt-3"},qte={class:"overflow-y-auto"};function Wte(t,e,n,r,i,s){const a=An("Tweet"),c=An("Trends"),l=An("profile-edit-modal");return r.profileUser?(fe(),Te("div",fte,[C("div",hte,[C("div",dte,[C("button",{class:"mr-4",onClick:e[0]||(e[0]=h=>r.router.go(-1))},vte),C("div",null,[C("div",gte,Ve(r.profileUser.email),1),C("div",mte,Ve(r.profileUser.num_tweets)+" ",1)])]),C("div",yte,[C("img",{src:r.profileUser.background_image_url,class:"w-full h-48 object-cover"},null,8,_te),C("div",wte,[C("img",{src:r.profileUser.profile_image_url,class:"w-full h-full rounded-full opacity-90 hover:opacity-100 cursor-pointer"},null,8,bte)])]),C("div",Ete,[r.currentUser.uid===r.profileUser.uid?(fe(),Te("div",Tte,Ste)):(fe(),Te("div",Cte,[r.currentUser.followings.includes(r.profileUser.uid)?(fe(),Te("div",{key:0,class:"",onClick:e[1]||(e[1]=(...h)=>r.onUnFollow&&r.onUnFollow(...h))},kte)):(fe(),Te("div",{key:1,onClick:e[2]||(e[2]=(...h)=>r.onFollow&&r.onFollow(...h))},Rte))]))]),C("div",Ote,[C("div",Pte,Ve(r.profileUser.email),1),C("div",Dte,"@"+Ve(r.profileUser.username),1),C("div",null,[Mte,C("span",Lte,Ve(r.moment(r.profileUser.created_at).format("YYYY MM")),1)]),C("div",null,[C("span",Fte,Ve(r.profileUser.followings.length),1),Ute,C("span",jte,Ve(r.profileUser.followers.length),1),Vte])]),C("div",Bte,[C("div",{onClick:e[3]||(e[3]=h=>r.currentTab="tweet"),class:qi(`${r.currentTab=="tweet"?"border-b border-primary text-primary":" text-gray"} py-3  font-bold  text-center w-1/3 hover:bg-blue-50 cursor-pointer hover:text-primary`)},"",2),C("div",{onClick:e[4]||(e[4]=h=>r.currentTab="retweet"),class:qi(`${r.currentTab=="retweet"?"border-b border-primary text-primary":" text-gray"} py-3  font-bold  text-center w-1/3 hover:bg-blue-50 cursor-pointer hover:text-primary`)},"",2),C("div",{onClick:e[5]||(e[5]=h=>r.currentTab="like"),class:qi(`${r.currentTab=="like"?"border-b border-primary text-primary":" text-gray"} py-3  font-bold  text-center w-1/3 hover:bg-blue-50 cursor-pointer hover:text-primary`)},"",2)]),C("div",qte,[(fe(!0),Te(Vt,null,No(r.currentTab=="tweet"?r.tweets:r.currentTab=="retweet"?r.reTweets:r.likeTweets,h=>(fe(),Yi(a,{key:h.id,currentUser:r.currentUser,tweet:h},null,8,["currentUser","tweet"]))),128))])]),Ct(c),Ct(l)])):ys("",!0)}const Uk=Bn(lte,[["render",Wte]]),Hte={setup(){const t=dt(""),e=dt(""),n=dt(""),r=dt(!1),i=Kx();return{username:t,email:e,password:n,loading:r,onRegister:async()=>{if(!t.value||!e.value||!n.value){alert(", ,   .");return}try{r.value=!0;const{user:a}=await ET.createUserWithEmailAndPassword(e.value,n.value);await ji.doc(a.uid).set({uid:a.uid,username:t.value,email:e.value,profile_image_url:"/profile.jpeg",num_tweets:0,followers:[],followings:[],created_at:Date.now()}),alert("  .   ."),i.push("/login")}catch(a){switch(a.code){case"auth/invalid-email":alert("  .");break;case"auth/weak-password":alert("  ");break;case"auth/email-already-in-use":alert("    .");break;default:alert(" ");break}}finally{r.value=!1}}}}},Gte={class:"flex flex-col items-center space-y-4 mt-10"},$te=C("span",{class:"text-2xl font-bold"}," ",-1),Yte={key:0,class:"w-96 rounded bg-light text-white py-3"},zte=C("button",{class:"text-primary"},"  ?  ",-1);function Kte(t,e,n,r,i,s){const a=An("router-link");return fe(),Te("div",Gte,[C("i",{class:qi(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),$te,ms(C("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.username=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[_s,r.username]]),ms(C("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[_s,r.email]]),ms(C("input",{onClick:e[2]||(e[2]=(...c)=>r.onRegister&&r.onRegister(...c)),"onUpdate:modelValue":e[3]||(e[3]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[_s,r.password]]),r.loading?(fe(),Te("button",Yte," .")):(fe(),Te("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:e[4]||(e[4]=(...c)=>r.onRegister&&r.onRegister(...c))},"")),Ct(a,{to:"/login"},{default:ic(()=>[zte]),_:1})])}const Qte=Bn(Hte,[["render",Kte]]),Xte={components:{CommentModal:JL,Trends:Pv},setup(){const t=dt(null),e=dt([]),n=en(()=>mn.state.user),r=dt(!1),i=$0(),s=async a=>{confirm(" ?")&&(await E0.doc(a.id).delete(),await Gr.doc(a.from_tweet_id).update({num_comments:oe.firestore.FieldValue.increment(-1)}))};return oc(async()=>{await Gr.doc(i.params.id).onSnapshot(async a=>{const c=await nc(a.data(),n.value);t.value=c})}),E0.orderBy("created_at","desc").onSnapshot(a=>{a.docChanges().forEach(async c=>{let l=await nc(c.doc.data(),n.value);c.type==="added"?e.value.splice(c.newIndex,0,l):c.type==="modified"?e.value.splice(c.oldIndex,1,l):c.type==="removed"&&e.value.splice(c.oldIndex,1)})}),{router:ka,tweet:t,comments:e,currentUser:n,moment:ne,showCommentModal:r,handleRetweet:ZL,handleLikes:e2,handleDeleteComment:s}}},Jte={class:"flex-1 flex"},Zte={class:"flex-1 border-r border-gray-100"},ene={key:0,class:"flex flex-col"},tne={class:"flex items-center px-3 py-2 border-b border-gray-100"},nne=C("i",{class:"fas fa-arrow-left text-primary text-lg ml-3 hover:bg-blue-50 p-2 rounded-full h-10 w-10"},null,-1),rne=[nne],ine=C("span",{class:"font-bold text-lg ml-6"},"",-1),one={class:"px-3 py-2 flex"},sne=["src"],ane={class:"ml-2"},une={class:"font-bold"},cne={class:"text-gray text-sm"},lne={class:"px-3 py-2"},fne={class:"px-3 py-2 text-gray text-xs"},hne=C("div",{class:"h-px w-full bg-gray-100"},null,-1),dne={class:"flex space-x-2 px-3 py-2 items-center"},pne={class:""},vne=C("span",{class:"text-sm text-gray"},"",-1),gne={class:"ml-5"},mne=C("span",{class:"text-sm text-gray"}," ",-1),yne=C("div",{class:"h-px w-full bg-gray-100"},null,-1),_ne={class:"flex justify-around py-2"},wne=C("i",{class:"far fa-comment text-gray-400 text-xl hover:bg-blue-50 hover:text-primary p-2 rounded-full h-10 w-10"},null,-1),bne=[wne],Ene={key:0,class:"fas fa-retweet text-xl hover:bg-green-50 text-green-400 p-2 rounded-full h-10 w-10"},Tne={key:1,class:"fas fa-retweet text-gray-400 text-xl hover:bg-green-50 hover:text-green-400 p-2 rounded-full h-10 w-10"},Ine={key:0,class:"far fa-heart text-xl hover:bg-red-50 text-red-400 p-2 rounded-full h-10 w-10"},Sne={key:1,class:"far fa-heart text-gray-400 text-xl hover:bg-red-50 hover:text-red-400 p-2 rounded-full h-10 w-10"},Cne=C("div",{class:"h-px w-full bg-gray-100"},null,-1),Ane=["src"],Nne={class:"ml-2 flex-1"},kne={class:"flex items-center space-x-2"},xne={class:"font-bold"},Rne={class:"text-gray text-sm"},One=["onClick"],Pne=C("i",{class:"fas fa-trash text-red-400 hover:bg-red-50 w-10 h-10 rounded-full p-2"},null,-1),Dne=[Pne];function Mne(t,e,n,r,i,s){const a=An("trends"),c=An("comment-modal");return fe(),Te("div",Jte,[C("div",Zte,[r.tweet?(fe(),Te("div",ene,[C("div",tne,[C("button",{onClick:e[0]||(e[0]=l=>r.router.go(-1))},rne),ine]),C("div",one,[C("img",{src:r.tweet.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-90 cursor-pointer"},null,8,sne),C("div",ane,[C("div",une,Ve(r.tweet.email),1),C("div",cne,"@"+Ve(r.tweet.username),1)])]),C("div",lne,Ve(r.tweet.tweet_body),1),C("div",fne,Ve(r.moment(r.tweet.created_at).fromNow()),1),hne,C("div",dne,[C("span",pne,Ve(r.tweet.num_retweets),1),vne,C("span",gne,Ve(r.tweet.num_likes),1),mne]),yne,C("div",_ne,[C("button",{onClick:e[1]||(e[1]=l=>r.showCommentModal=!0)},bne),C("button",{onClick:e[2]||(e[2]=l=>r.handleRetweet(r.tweet))},[r.tweet.isRetweeted?(fe(),Te("i",Ene)):(fe(),Te("i",Tne))]),C("button",{onClick:e[3]||(e[3]=l=>r.handleLikes(r.tweet))},[r.tweet.isLiked?(fe(),Te("i",Ine)):(fe(),Te("i",Sne))])]),Cne,(fe(!0),Te(Vt,null,No(r.comments,l=>(fe(),Te("div",{key:l,class:"flex hover:bg-gray-50 cursor-pointer px-3 py-3 border-b border-gray-100"},[C("img",{src:l.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-90 cursor-pointer"},null,8,Ane),C("div",Nne,[C("div",kne,[C("span",xne,Ve(l.email),1),C("span",Rne,"@"+Ve(l.username),1),C("span",null,Ve(r.moment(l.created_at).fromNow()),1)]),C("div",null,Ve(l.comment_tweet_body),1)]),l.uid===r.currentUser.uid?(fe(),Te("button",{key:0,onClick:h=>r.handleDeleteComment(l)},Dne,8,One)):ys("",!0)]))),128))])):ys("",!0)]),Ct(a),r.showCommentModal?(fe(),Yi(c,{key:0,tweet:r.tweet,onCloseModal:e[4]||(e[4]=l=>r.showCommentModal=!1)},null,8,["tweet"])):ys("",!0)])}const Lne=Bn(Xte,[["render",Mne]]),Fne={setup(){const t=dt(""),e=dt(""),n=dt(!1),r=Kx();return{email:t,password:e,loading:n,onLogin:async()=>{if(!t.value||!e.value){alert(",   .");return}try{n.value=!0;const{user:s}=await ET.signInWithEmailAndPassword(t.value,e.value),a=await ji.doc(s.uid).get();mn.commit("SET_USER",a.data()),r.replace("/")}catch(s){switch(s.code){case"auth/invalid-email":alert("  .");break;case"auth/invalid-password":alert(" .");break;case"auth/user-not-found":alert("  .");break;default:alert(s.message);break}}finally{n.value=!1}}}}},Une={class:"flex flex-col items-center space-y-4 mt-10"},jne=C("span",{class:"text-2xl font-bold"}," ",-1),Vne={key:0,class:"w-96 rounded bg-light text-white py-3"},Bne=C("button",{class:"text-primary"}," ?  ",-1);function qne(t,e,n,r,i,s){const a=An("router-link");return fe(),Te("div",Une,[C("i",{class:qi(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),jne,ms(C("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[_s,r.email]]),ms(C("input",{onKeyup:e[1]||(e[1]=f3((...c)=>r.onLogin&&r.onLogin(...c),["enter"])),"onUpdate:modelValue":e[2]||(e[2]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,544),[[_s,r.password]]),r.loading?(fe(),Te("button",Vne," .")):(fe(),Te("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:e[3]||(e[3]=(...c)=>r.onLogin&&r.onLogin(...c))},"")),Ct(a,{to:"/register"},{default:ic(()=>[Bne]),_:1})])}const Wne=Bn(Fne,[["render",qne]]),Hne=[{path:"/",name:"home",component:Ql,title:"",icon:"fas fa-home fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"explore",component:Ql,title:"",icon:"fas fa-hashtag fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/notifications",name:"notifications",component:xee,title:"",icon:"far fa-bell fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/m essages",name:"messages",component:zee,title:"",icon:"far fa-envelope fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"bookmarks",component:Ql,title:"",icon:"far fa-bookmark fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"list",component:Ql,title:"",icon:"far fa-list-alt fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/profile",name:"profile",component:Uk,title:"",icon:"far fa-user fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/profile/:uid",component:Uk,meta:{isMenu:!1,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"more",component:Ql,title:"",icon:"fas fa-ellipsis-h fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/tweet/:id",name:"tweet",component:Lne,meta:{isMenu:!1,layout:"DefaultLayout",requireAuth:!0}},{path:"/register",name:"register",component:Qte,meta:{isMenu:!1,layout:"EmptyLayout"}},{path:"/login",name:"login",component:Wne,meta:{isMenu:!1,layout:"EmptyLayout"}}],ka=SB({history:B3(),routes:Hne});ka.beforeEach((t,e,n)=>{const r=mn.state.user;t.matched.some(s=>s.meta.requireAuth)&&!r?n("/login"):n()});const Gne={setup(t,{emit:e}){const n=dt(""),r=en(()=>mn.state.user);return{tweetBody:n,onAddTweet:async()=>{try{await TT(n.value,r.value),n.value="",e("close-modal")}catch(s){console.log("on add tweet error on homepage:",s)}},currentUser:r}}},$ne={class:"flex justify-center min-h-screen sm:pt-6 sm:px-4 sm:pb-20 text-center sm:block sm:p-0"},Yne=C("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[C("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),zne={class:"border-b border-gray-100 p-2 flex items-center justify-between"},Kne=C("div",{class:"text-right sm:hidden mr-2"},[C("button",{class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"},""),C("button",{class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")],-1),Qne={class:"flex p-4"},Xne=["src"],Jne={class:"ml-2 flex-1 flex flex-col"},Zne={class:"text-right hidden sm:block"},ere={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function tre(t,e,n,r,i,s){return fe(),Te("div",{class:"fixed z-10 inset-0 overflow-y-auto",onClick:e[4]||(e[4]=a=>t.$emit("close-modal"))},[C("div",$ne,[Yne,C("div",{onClick:e[3]||(e[3]=W0(()=>{},["stop"])),class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},[C("div",zne,[C("button",{onClick:e[0]||(e[0]=a=>t.$emit("close-modal")),class:"fas fa-times text-primary text-lg p-2 h-10 w-10 hover:bg-blue-50 rounded-full"}),Kne]),C("div",Qne,[C("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,Xne),C("div",Jne,[ms(C("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.tweetBody=a),rows:"5",placeholder:"   ?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none"},null,512),[[_s,r.tweetBody]]),C("div",Zne,[r.tweetBody.length?(fe(),Te("button",{key:1,onClick:e[2]||(e[2]=(...a)=>r.onAddTweet&&r.onAddTweet(...a)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")):(fe(),Te("button",ere,""))])])])])])])}const nre=Bn(Gne,[["render",tre]]),rre={components:{TweetModal:nre},setup(){const t=dt([]),e=dt(!1),n=dt(!1),r=en(()=>mn.state.user),i=async()=>{await ET.signOut(),mn.commit("SET_USER",null),await ka.replace("/login")};return oc(()=>{t.value=ka.options.routes.filter(s=>s.meta.isMenu==!0)}),{routes:t,showProfileDropdown:e,onLogout:i,currentUser:r,router:ka,showTweetModal:n}}},ire={class:"flex h-screen container mx-auto"},ore={class:"w-20 xl:w-1/4 pt-5 xl:ml-10 flex flex-col justify-between border-r border-gray-100"},sre={class:"flex flex-col items-center xl:items-start"},are=C("i",{class:"fab fa-twitter text-3xl text-primary xl:ml-4 mb-3"},null,-1),ure={class:"flex flex-col items-start space-y-1"},cre={key:0},lre={class:"ml-5 text-xl hidden xl:inline-block"},fre={class:"w-full xl:pr-3 flex justify-center"},hre=C("span",{class:"hidden xl:block"},"",-1),dre=C("i",{class:"fas fa-plus xl:hidden"},null,-1),pre=[hre,dre],vre={class:"hidden xl:flex mt-3 px-2 py-1 w-full h-12 rounded-full hover:bg-blue-50 items-center"},gre=["src"],mre={class:"xl:ml-2 hidden xl:block"},yre={class:"text-sm font-bold"},_re={class:"text-xs text-gray-500 text-left"},wre=C("i",{class:"ml-auto fas fa-ellipsis-h fa-fw text-xs hidden xl:block"},null,-1),bre={class:"xl:hidden flex justify-center"},Ere=["src"],Tre={class:"flex-1 flex h-screen"},Ire={class:"hover:bg-gray-50 border-b border-gray-100 flex p-3 w-full items-center"},Sre=["src"],Cre={class:"ml-2"},Are={class:"font-bold text-sm"},Nre={class:"text-left text-gray-500 text-sm"},kre=C("i",{class:"fas fa-check text-primary ml-auto"},null,-1);function xre(t,e,n,r,i,s){const a=An("router-link"),c=An("router-view"),l=An("tweet-modal");return fe(),Te("div",ire,[C("div",ore,[C("div",sre,[are,C("div",ure,[(fe(!0),Te(Vt,null,No(r.routes,h=>(fe(),Yi(a,{to:h.path,class:qi(`hover:text-primary hover:bg-blue-50 p-2 xl:px-4 xl:py-2 rounded-full cursor-pointer ${r.router.currentRoute.value.name==h.name?"text-primary":""}`),key:h},{default:ic(()=>[h.meta.isMenu?(fe(),Te("div",cre,[C("i",{class:qi(h.icon)},null,2),C("span",lre,Ve(h.title),1)])):ys("",!0)]),_:2},1032,["to","class"]))),128))]),C("div",fre,[C("button",{onClick:e[0]||(e[0]=h=>r.showTweetModal=!0),class:"mt-3 bg-primary text-white xl:w-full w-12 h-12 rounded-full hover:bg-dark"},pre)])]),C("div",{class:"xl:mr-3 mb-3 relative",onClick:e[1]||(e[1]=h=>r.showProfileDropdown=!0)},[C("button",vre,[C("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,gre),C("div",mre,[C("div",yre,Ve(r.currentUser.email),1),C("div",_re,"@"+Ve(r.currentUser.username),1)]),wre]),C("div",bre,[C("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full cursor-pointer hover:opacity-80"},null,8,Ere)])])]),C("div",Tre,[Ct(c)]),r.showProfileDropdown?(fe(),Te("div",{key:0,class:"absolute bottom-20 left-14 shadow rounded-lg w-60 bg-white",onClick:e[3]||(e[3]=h=>r.showProfileDropdown=!1)},[C("button",Ire,[C("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,Sre),C("div",Cre,[C("div",Are,Ve(r.currentUser.email),1),C("div",Nre,"@"+Ve(r.currentUser.username),1)]),kre]),C("button",{class:"p-3 hover:bg-gray-50 w-full text-left text-sm",onClick:e[2]||(e[2]=(...h)=>r.onLogout&&r.onLogout(...h))}," @"+Ve(r.currentUser.username)+"   ",1)])):ys("",!0),r.showTweetModal?(fe(),Yi(l,{key:1,onCloseModal:e[4]||(e[4]=h=>r.showTweetModal=!1)})):ys("",!0)])}const Rre=Bn(rre,[["render",xre]]),Ore={};function Pre(t,e,n,r,i,s){const a=An("router-view");return fe(),Yi(a)}const Dre=Bn(Ore,[["render",Pre]]),Mre={components:{DefaultLayout:Rre,EmptyLayout:Dre},setup(){const t=$0();return{layout:en(()=>t.meta.layout||"DefaultLayout")}}};function Lre(t,e,n,r,i,s){return fe(),Yi(fV(r.layout))}const Fre=Bn(Mre,[["render",Lre]]),Ure={components:{Layout:Fre}};function jre(t,e,n,r,i,s){const a=An("Layout");return fe(),Yi(a)}const Vre=Bn(Ure,[["render",jre]]);p3(Vre).use(ka).use(mn).mount("#app")});export default Bre();
