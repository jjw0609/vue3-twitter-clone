var Lj=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var gte=Lj((yte,dp)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function p0(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const pt={},Mu=[],ci=()=>{},Fj=()=>!1,Uj=/^on[^a-z]/,hv=t=>Uj.test(t),v0=t=>t.startsWith("onUpdate:"),pn=Object.assign,g0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jj=Object.prototype.hasOwnProperty,Ye=(t,e)=>jj.call(t,e),Ae=Array.isArray,Lu=t=>dv(t)==="[object Map]",RR=t=>dv(t)==="[object Set]",xe=t=>typeof t=="function",$t=t=>typeof t=="string",m0=t=>typeof t=="symbol",It=t=>t!==null&&typeof t=="object",OR=t=>It(t)&&xe(t.then)&&xe(t.catch),kR=Object.prototype.toString,dv=t=>kR.call(t),Vj=t=>dv(t).slice(8,-1),xR=t=>dv(t)==="[object Object]",y0=t=>$t(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zd=p0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pv=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Bj=/-(\w)/g,qi=pv(t=>t.replace(Bj,(e,n)=>n?n.toUpperCase():"")),qj=/\B([A-Z])/g,xa=pv(t=>t.replace(qj,"-$1").toLowerCase()),vv=pv(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ky=pv(t=>t?`on${vv(t)}`:""),hf=(t,e)=>!Object.is(t,e),Kd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},pp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},X_=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Q1;const J_=()=>Q1||(Q1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _0(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=$t(r)?Yj(r):_0(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if($t(t))return t;if(It(t))return t}}const Wj=/;(?![^(]*\))/g,Hj=/:([^]+)/,Gj=/\/\*[^]*?\*\//g;function Yj(t){const e={};return t.replace(Gj,"").split(Wj).forEach(n=>{if(n){const r=n.split(Hj);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ba(t){let e="";if($t(t))e=t;else if(Ae(t))for(let n=0;n<t.length;n++){const r=ba(t[n]);r&&(e+=r+" ")}else if(It(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const $j="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zj=p0($j);function PR(t){return!!t||t===""}const Lr=t=>$t(t)?t:t==null?"":Ae(t)||It(t)&&(t.toString===kR||!xe(t.toString))?JSON.stringify(t,DR,2):String(t),DR=(t,e)=>e&&e.__v_isRef?DR(t,e.value):Lu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:RR(e)?{[`Set(${e.size})`]:[...e.values()]}:It(e)&&!Ae(e)&&!xR(e)?String(e):e;let ti;class Kj{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ti,!e&&ti&&(this.index=(ti.scopes||(ti.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ti;try{return ti=this,e()}finally{ti=n}}}on(){ti=this}off(){ti=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Qj(t,e=ti){e&&e.active&&e.effects.push(t)}function Xj(){return ti}const w0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},MR=t=>(t.w&vs)>0,LR=t=>(t.n&vs)>0,Jj=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=vs},Zj=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];MR(i)&&!LR(i)?i.delete(t):e[n++]=i,i.w&=~vs,i.n&=~vs}e.length=n}},Z_=new WeakMap;let Hl=0,vs=1;const ew=30;let ri;const ha=Symbol(""),tw=Symbol("");class b0{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Qj(this,r)}run(){if(!this.active)return this.fn();let e=ri,n=cs;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ri,ri=this,cs=!0,vs=1<<++Hl,Hl<=ew?Jj(this):X1(this),this.fn()}finally{Hl<=ew&&Zj(this),vs=1<<--Hl,ri=this.parent,cs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ri===this?this.deferStop=!0:this.active&&(X1(this),this.onStop&&this.onStop(),this.active=!1)}}function X1(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let cs=!0;const FR=[];function Ac(){FR.push(cs),cs=!1}function Cc(){const t=FR.pop();cs=t===void 0?!0:t}function fr(t,e,n){if(cs&&ri){let r=Z_.get(t);r||Z_.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=w0()),UR(i)}}function UR(t,e){let n=!1;Hl<=ew?LR(t)||(t.n|=vs,n=!MR(t)):n=!t.has(ri),n&&(t.add(ri),ri.deps.push(t))}function Eo(t,e,n,r,i,s){const a=Z_.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&Ae(t)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),e){case"add":Ae(t)?y0(n)&&c.push(a.get("length")):(c.push(a.get(ha)),Lu(t)&&c.push(a.get(tw)));break;case"delete":Ae(t)||(c.push(a.get(ha)),Lu(t)&&c.push(a.get(tw)));break;case"set":Lu(t)&&c.push(a.get(ha));break}if(c.length===1)c[0]&&nw(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);nw(w0(l))}}function nw(t,e){const n=Ae(t)?t:[...t];for(const r of n)r.computed&&J1(r);for(const r of n)r.computed||J1(r)}function J1(t,e){(t!==ri||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const eV=p0("__proto__,__v_isRef,__isVue"),jR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(m0)),tV=E0(),nV=E0(!1,!0),rV=E0(!0),Z1=iV();function iV(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=et(this);for(let s=0,a=this.length;s<a;s++)fr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(et)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ac();const r=et(this)[e].apply(this,n);return Cc(),r}}),t}function oV(t){const e=et(this);return fr(e,"has",t),e.hasOwnProperty(t)}function E0(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?bV:HR:e?WR:qR).get(r))return r;const a=Ae(r);if(!t){if(a&&Ye(Z1,i))return Reflect.get(Z1,i,s);if(i==="hasOwnProperty")return oV}const c=Reflect.get(r,i,s);return(m0(i)?jR.has(i):eV(i))||(t||fr(r,"get",i),e)?c:Nn(c)?a&&y0(i)?c:c.value:It(c)?t?YR(c):Qf(c):c}}const sV=VR(),aV=VR(!0);function VR(t=!1){return function(n,r,i,s){let a=n[r];if(Xu(a)&&Nn(a)&&!Nn(i))return!1;if(!t&&(!vp(i)&&!Xu(i)&&(a=et(a),i=et(i)),!Ae(n)&&Nn(a)&&!Nn(i)))return a.value=i,!0;const c=Ae(n)&&y0(r)?Number(r)<n.length:Ye(n,r),l=Reflect.set(n,r,i,s);return n===et(s)&&(c?hf(i,a)&&Eo(n,"set",r,i):Eo(n,"add",r,i)),l}}function uV(t,e){const n=Ye(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Eo(t,"delete",e,void 0),r}function cV(t,e){const n=Reflect.has(t,e);return(!m0(e)||!jR.has(e))&&fr(t,"has",e),n}function lV(t){return fr(t,"iterate",Ae(t)?"length":ha),Reflect.ownKeys(t)}const BR={get:tV,set:sV,deleteProperty:uV,has:cV,ownKeys:lV},fV={get:rV,set(t,e){return!0},deleteProperty(t,e){return!0}},hV=pn({},BR,{get:nV,set:aV}),T0=t=>t,gv=t=>Reflect.getPrototypeOf(t);function Id(t,e,n=!1,r=!1){t=t.__v_raw;const i=et(t),s=et(e);n||(e!==s&&fr(i,"get",e),fr(i,"get",s));const{has:a}=gv(i),c=r?T0:n?A0:df;if(a.call(i,e))return c(t.get(e));if(a.call(i,s))return c(t.get(s));t!==i&&t.get(e)}function Sd(t,e=!1){const n=this.__v_raw,r=et(n),i=et(t);return e||(t!==i&&fr(r,"has",t),fr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ad(t,e=!1){return t=t.__v_raw,!e&&fr(et(t),"iterate",ha),Reflect.get(t,"size",t)}function eA(t){t=et(t);const e=et(this);return gv(e).has.call(e,t)||(e.add(t),Eo(e,"add",t,t)),this}function tA(t,e){e=et(e);const n=et(this),{has:r,get:i}=gv(n);let s=r.call(n,t);s||(t=et(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?hf(e,a)&&Eo(n,"set",t,e):Eo(n,"add",t,e),this}function nA(t){const e=et(this),{has:n,get:r}=gv(e);let i=n.call(e,t);i||(t=et(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Eo(e,"delete",t,void 0),s}function rA(){const t=et(this),e=t.size!==0,n=t.clear();return e&&Eo(t,"clear",void 0,void 0),n}function Cd(t,e){return function(r,i){const s=this,a=s.__v_raw,c=et(a),l=e?T0:t?A0:df;return!t&&fr(c,"iterate",ha),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function Nd(t,e,n){return function(...r){const i=this.__v_raw,s=et(i),a=Lu(s),c=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,h=i[t](...r),d=n?T0:e?A0:df;return!e&&fr(s,"iterate",l?tw:ha),{next(){const{value:v,done:m}=h.next();return m?{value:v,done:m}:{value:c?[d(v[0]),d(v[1])]:d(v),done:m}},[Symbol.iterator](){return this}}}}function Ho(t){return function(...e){return t==="delete"?!1:this}}function dV(){const t={get(s){return Id(this,s)},get size(){return Ad(this)},has:Sd,add:eA,set:tA,delete:nA,clear:rA,forEach:Cd(!1,!1)},e={get(s){return Id(this,s,!1,!0)},get size(){return Ad(this)},has:Sd,add:eA,set:tA,delete:nA,clear:rA,forEach:Cd(!1,!0)},n={get(s){return Id(this,s,!0)},get size(){return Ad(this,!0)},has(s){return Sd.call(this,s,!0)},add:Ho("add"),set:Ho("set"),delete:Ho("delete"),clear:Ho("clear"),forEach:Cd(!0,!1)},r={get(s){return Id(this,s,!0,!0)},get size(){return Ad(this,!0)},has(s){return Sd.call(this,s,!0)},add:Ho("add"),set:Ho("set"),delete:Ho("delete"),clear:Ho("clear"),forEach:Cd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Nd(s,!1,!1),n[s]=Nd(s,!0,!1),e[s]=Nd(s,!1,!0),r[s]=Nd(s,!0,!0)}),[t,n,e,r]}const[pV,vV,gV,mV]=dV();function I0(t,e){const n=e?t?mV:gV:t?vV:pV;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ye(n,i)&&i in r?n:r,i,s)}const yV={get:I0(!1,!1)},_V={get:I0(!1,!0)},wV={get:I0(!0,!1)},qR=new WeakMap,WR=new WeakMap,HR=new WeakMap,bV=new WeakMap;function EV(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TV(t){return t.__v_skip||!Object.isExtensible(t)?0:EV(Vj(t))}function Qf(t){return Xu(t)?t:S0(t,!1,BR,yV,qR)}function GR(t){return S0(t,!1,hV,_V,WR)}function YR(t){return S0(t,!0,fV,wV,HR)}function S0(t,e,n,r,i){if(!It(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=TV(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return i.set(t,c),c}function Fu(t){return Xu(t)?Fu(t.__v_raw):!!(t&&t.__v_isReactive)}function Xu(t){return!!(t&&t.__v_isReadonly)}function vp(t){return!!(t&&t.__v_isShallow)}function $R(t){return Fu(t)||Xu(t)}function et(t){const e=t&&t.__v_raw;return e?et(e):t}function zR(t){return pp(t,"__v_skip",!0),t}const df=t=>It(t)?Qf(t):t,A0=t=>It(t)?YR(t):t;function KR(t){cs&&ri&&(t=et(t),UR(t.dep||(t.dep=w0())))}function QR(t,e){t=et(t);const n=t.dep;n&&nw(n)}function Nn(t){return!!(t&&t.__v_isRef===!0)}function Ur(t){return XR(t,!1)}function IV(t){return XR(t,!0)}function XR(t,e){return Nn(t)?t:new SV(t,e)}class SV{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:et(e),this._value=n?e:df(e)}get value(){return KR(this),this._value}set value(e){const n=this.__v_isShallow||vp(e)||Xu(e);e=n?e:et(e),hf(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:df(e),QR(this))}}function Uu(t){return Nn(t)?t.value:t}const AV={get:(t,e,n)=>Uu(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Nn(i)&&!Nn(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function JR(t){return Fu(t)?t:new Proxy(t,AV)}class CV{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new b0(e,()=>{this._dirty||(this._dirty=!0,QR(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=et(this);return KR(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function NV(t,e,n=!1){let r,i;const s=xe(t);return s?(r=t,i=ci):(r=t.get,i=t.set),new CV(r,i,s||!i,n)}function ls(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){mv(s,e,n)}return i}function li(t,e,n,r){if(xe(t)){const s=ls(t,e,n,r);return s&&OR(s)&&s.catch(a=>{mv(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(li(t[s],e,n,r));return i}function mv(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,a,c)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){ls(l,null,10,[t,a,c]);return}}RV(t,n,i,r)}function RV(t,e,n,r=!0){console.error(t)}let pf=!1,rw=!1;const Cn=[];let Di=0;const ju=[];let uo=null,ta=0;const ZR=Promise.resolve();let C0=null;function eO(t){const e=C0||ZR;return t?e.then(this?t.bind(this):t):e}function OV(t){let e=Di+1,n=Cn.length;for(;e<n;){const r=e+n>>>1;vf(Cn[r])<t?e=r+1:n=r}return e}function N0(t){(!Cn.length||!Cn.includes(t,pf&&t.allowRecurse?Di+1:Di))&&(t.id==null?Cn.push(t):Cn.splice(OV(t.id),0,t),tO())}function tO(){!pf&&!rw&&(rw=!0,C0=ZR.then(rO))}function kV(t){const e=Cn.indexOf(t);e>Di&&Cn.splice(e,1)}function xV(t){Ae(t)?ju.push(...t):(!uo||!uo.includes(t,t.allowRecurse?ta+1:ta))&&ju.push(t),tO()}function iA(t,e=pf?Di+1:0){for(;e<Cn.length;e++){const n=Cn[e];n&&n.pre&&(Cn.splice(e,1),e--,n())}}function nO(t){if(ju.length){const e=[...new Set(ju)];if(ju.length=0,uo){uo.push(...e);return}for(uo=e,uo.sort((n,r)=>vf(n)-vf(r)),ta=0;ta<uo.length;ta++)uo[ta]();uo=null,ta=0}}const vf=t=>t.id==null?1/0:t.id,PV=(t,e)=>{const n=vf(t)-vf(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function rO(t){rw=!1,pf=!0,Cn.sort(PV);const e=ci;try{for(Di=0;Di<Cn.length;Di++){const n=Cn[Di];n&&n.active!==!1&&ls(n,null,14)}}finally{Di=0,Cn.length=0,nO(),pf=!1,C0=null,(Cn.length||ju.length)&&rO()}}function DV(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||pt;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:m}=r[d]||pt;m&&(i=n.map(y=>$t(y)?y.trim():y)),v&&(i=n.map(X_))}let c,l=r[c=Ky(e)]||r[c=Ky(qi(e))];!l&&s&&(l=r[c=Ky(xa(e))]),l&&li(l,t,6,i);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,li(h,t,6,i)}}function iO(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},c=!1;if(!xe(t)){const l=h=>{const d=iO(h,e,!0);d&&(c=!0,pn(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!c?(It(t)&&r.set(t,null),null):(Ae(s)?s.forEach(l=>a[l]=null):pn(a,s),It(t)&&r.set(t,a),a)}function yv(t,e){return!t||!hv(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ye(t,e[0].toLowerCase()+e.slice(1))||Ye(t,xa(e))||Ye(t,e))}let jr=null,oO=null;function gp(t){const e=jr;return jr=t,oO=t&&t.type.__scopeId||null,e}function _v(t,e=jr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&vA(-1);const s=gp(e);let a;try{a=t(...i)}finally{gp(s),r._d&&vA(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Qy(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:m,setupState:y,ctx:b,inheritAttrs:E}=t;let T,C;const x=gp(t);try{if(n.shapeFlag&4){const F=i||r;T=Pi(d.call(F,F,v,s,y,m,b)),C=l}else{const F=e;T=Pi(F.length>1?F(s,{attrs:l,slots:c,emit:h}):F(s,null)),C=e.props?l:MV(l)}}catch(F){Xl.length=0,mv(F,t,1),T=jt(Ea)}let D=T;if(C&&E!==!1){const F=Object.keys(C),{shapeFlag:X}=D;F.length&&X&7&&(a&&F.some(v0)&&(C=LV(C,a)),D=Ju(D,C))}return n.dirs&&(D=Ju(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),T=D,gp(x),T}const MV=t=>{let e;for(const n in t)(n==="class"||n==="style"||hv(n))&&((e||(e={}))[n]=t[n]);return e},LV=(t,e)=>{const n={};for(const r in t)(!v0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function FV(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:c,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?oA(r,a,h):!!a;if(l&8){const d=e.dynamicProps;for(let v=0;v<d.length;v++){const m=d[v];if(a[m]!==r[m]&&!yv(h,m))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?oA(r,a,h):!0:!!a;return!1}function oA(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!yv(n,s))return!0}return!1}function UV({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const jV=t=>t.__isSuspense;function VV(t,e){e&&e.pendingBranch?Ae(t)?e.effects.push(...t):e.effects.push(t):xV(t)}const Rd={};function Vu(t,e,n){return sO(t,e,n)}function sO(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=pt){var c;const l=Xj()===((c=wn)==null?void 0:c.scope)?wn:null;let h,d=!1,v=!1;if(Nn(t)?(h=()=>t.value,d=vp(t)):Fu(t)?(h=()=>t,r=!0):Ae(t)?(v=!0,d=t.some(F=>Fu(F)||vp(F)),h=()=>t.map(F=>{if(Nn(F))return F.value;if(Fu(F))return oa(F);if(xe(F))return ls(F,l,2)})):xe(t)?e?h=()=>ls(t,l,2):h=()=>{if(!(l&&l.isUnmounted))return m&&m(),li(t,l,3,[y])}:h=ci,e&&r){const F=h;h=()=>oa(F())}let m,y=F=>{m=x.onStop=()=>{ls(F,l,4)}},b;if(mf)if(y=ci,e?n&&li(e,l,3,[h(),v?[]:void 0,y]):h(),i==="sync"){const F=x4();b=F.__watcherHandles||(F.__watcherHandles=[])}else return ci;let E=v?new Array(t.length).fill(Rd):Rd;const T=()=>{if(x.active)if(e){const F=x.run();(r||d||(v?F.some((X,U)=>hf(X,E[U])):hf(F,E)))&&(m&&m(),li(e,l,3,[F,E===Rd?void 0:v&&E[0]===Rd?[]:E,y]),E=F)}else x.run()};T.allowRecurse=!!e;let C;i==="sync"?C=T:i==="post"?C=()=>ir(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),C=()=>N0(T));const x=new b0(h,C);e?n?T():E=x.run():i==="post"?ir(x.run.bind(x),l&&l.suspense):x.run();const D=()=>{x.stop(),l&&l.scope&&g0(l.scope.effects,x)};return b&&b.push(D),D}function BV(t,e,n){const r=this.proxy,i=$t(t)?t.includes(".")?aO(r,t):()=>r[t]:t.bind(r,r);let s;xe(e)?s=e:(s=e.handler,n=e);const a=wn;Zu(this);const c=sO(i,s.bind(r),n);return a?Zu(a):da(),c}function aO(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function oa(t,e){if(!It(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Nn(t))oa(t.value,e);else if(Ae(t))for(let n=0;n<t.length;n++)oa(t[n],e);else if(RR(t)||Lu(t))t.forEach(n=>{oa(n,e)});else if(xR(t))for(const n in t)oa(t[n],e);return t}function Bu(t,e){const n=jr;if(n===null)return t;const r=Tv(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,l,h=pt]=e[s];a&&(xe(a)&&(a={mounted:a,updated:a}),a.deep&&oa(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return t}function Qs(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(Ac(),li(l,n,8,[t.el,c,t,e]),Cc())}}function uO(t,e){return xe(t)?(()=>pn({name:t.name},e,{setup:t}))():t}const Qd=t=>!!t.type.__asyncLoader,cO=t=>t.type.__isKeepAlive;function qV(t,e){lO(t,"a",e)}function WV(t,e){lO(t,"da",e)}function lO(t,e,n=wn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(wv(e,r,n),n){let i=n.parent;for(;i&&i.parent;)cO(i.parent.vnode)&&HV(r,e,n,i),i=i.parent}}function HV(t,e,n,r){const i=wv(e,t,r,!0);fO(()=>{g0(r[e],i)},n)}function wv(t,e,n=wn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Ac(),Zu(n);const c=li(e,n,t,a);return da(),Cc(),c});return r?i.unshift(s):i.push(s),s}}const Ro=t=>(e,n=wn)=>(!mf||t==="sp")&&wv(t,(...r)=>e(...r),n),mp=Ro("bm"),GV=Ro("m"),YV=Ro("bu"),$V=Ro("u"),zV=Ro("bum"),fO=Ro("um"),KV=Ro("sp"),QV=Ro("rtg"),XV=Ro("rtc");function JV(t,e=wn){wv("ec",t,e)}const R0="components";function pi(t,e){return dO(R0,t,!0,e)||t}const hO=Symbol.for("v-ndc");function ZV(t){return $t(t)?dO(R0,t,!1)||t:t||hO}function dO(t,e,n=!0,r=!1){const i=jr||wn;if(i){const s=i.type;if(t===R0){const c=R4(s,!1);if(c&&(c===e||c===qi(e)||c===vv(qi(e))))return s}const a=sA(i[t]||s[t],e)||sA(i.appContext[t],e);return!a&&r?s:a}}function sA(t,e){return t&&(t[e]||t[qi(e)]||t[vv(qi(e))])}function gs(t,e,n,r){let i;const s=n&&n[r];if(Ae(t)||$t(t)){i=new Array(t.length);for(let a=0,c=t.length;a<c;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(It(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=e(t[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}const iw=t=>t?IO(t)?Tv(t)||t.proxy:iw(t.parent):null,Ql=pn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>iw(t.parent),$root:t=>iw(t.root),$emit:t=>t.emit,$options:t=>O0(t),$forceUpdate:t=>t.f||(t.f=()=>N0(t.update)),$nextTick:t=>t.n||(t.n=eO.bind(t.proxy)),$watch:t=>BV.bind(t)}),Xy=(t,e)=>t!==pt&&!t.__isScriptSetup&&Ye(t,e),e4={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=t;let h;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Xy(r,e))return a[e]=1,r[e];if(i!==pt&&Ye(i,e))return a[e]=2,i[e];if((h=t.propsOptions[0])&&Ye(h,e))return a[e]=3,s[e];if(n!==pt&&Ye(n,e))return a[e]=4,n[e];ow&&(a[e]=0)}}const d=Ql[e];let v,m;if(d)return e==="$attrs"&&fr(t,"get",e),d(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==pt&&Ye(n,e))return a[e]=4,n[e];if(m=l.config.globalProperties,Ye(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Xy(i,e)?(i[e]=n,!0):r!==pt&&Ye(r,e)?(r[e]=n,!0):Ye(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||t!==pt&&Ye(t,a)||Xy(e,a)||(c=s[0])&&Ye(c,a)||Ye(r,a)||Ye(Ql,a)||Ye(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ye(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function aA(t){return Ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ow=!0;function t4(t){const e=O0(t),n=t.proxy,r=t.ctx;ow=!1,e.beforeCreate&&uA(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:m,beforeUpdate:y,updated:b,activated:E,deactivated:T,beforeDestroy:C,beforeUnmount:x,destroyed:D,unmounted:F,render:X,renderTracked:U,renderTriggered:Te,errorCaptured:tt,serverPrefetch:de,expose:vn,inheritAttrs:O,components:bi,directives:In,filters:Rs}=e;if(h&&n4(h,r,null),a)for(const He in a){const Ge=a[He];xe(Ge)&&(r[He]=Ge.bind(n))}if(i){const He=i.call(n,n);It(He)&&(t.data=Qf(He))}if(ow=!0,s)for(const He in s){const Ge=s[He],St=xe(Ge)?Ge.bind(n,n):xe(Ge.get)?Ge.get.bind(n,n):ci,Or=!xe(Ge)&&xe(Ge.set)?Ge.set.bind(n):ci,gn=sr({get:St,set:Or});Object.defineProperty(r,He,{enumerable:!0,configurable:!0,get:()=>gn.value,set:sn=>gn.value=sn})}if(c)for(const He in c)pO(c[He],r,n,He);if(l){const He=xe(l)?l.call(n):l;Reflect.ownKeys(He).forEach(Ge=>{Xd(Ge,He[Ge])})}d&&uA(d,t,"c");function yt(He,Ge){Ae(Ge)?Ge.forEach(St=>He(St.bind(n))):Ge&&He(Ge.bind(n))}if(yt(mp,v),yt(GV,m),yt(YV,y),yt($V,b),yt(qV,E),yt(WV,T),yt(JV,tt),yt(XV,U),yt(QV,Te),yt(zV,x),yt(fO,F),yt(KV,de),Ae(vn))if(vn.length){const He=t.exposed||(t.exposed={});vn.forEach(Ge=>{Object.defineProperty(He,Ge,{get:()=>n[Ge],set:St=>n[Ge]=St})})}else t.exposed||(t.exposed={});X&&t.render===ci&&(t.render=X),O!=null&&(t.inheritAttrs=O),bi&&(t.components=bi),In&&(t.directives=In)}function n4(t,e,n=ci){Ae(t)&&(t=sw(t));for(const r in t){const i=t[r];let s;It(i)?"default"in i?s=fi(i.from||r,i.default,!0):s=fi(i.from||r):s=fi(i),Nn(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function uA(t,e,n){li(Ae(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function pO(t,e,n,r){const i=r.includes(".")?aO(n,r):()=>n[r];if($t(t)){const s=e[t];xe(s)&&Vu(i,s)}else if(xe(t))Vu(i,t.bind(n));else if(It(t))if(Ae(t))t.forEach(s=>pO(s,e,n,r));else{const s=xe(t.handler)?t.handler.bind(n):e[t.handler];xe(s)&&Vu(i,s,t)}}function O0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let l;return c?l=c:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(h=>yp(l,h,a,!0)),yp(l,e,a)),It(e)&&s.set(e,l),l}function yp(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&yp(t,s,n,!0),i&&i.forEach(a=>yp(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=r4[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const r4={data:cA,props:lA,emits:lA,methods:Gl,computed:Gl,beforeCreate:Hn,created:Hn,beforeMount:Hn,mounted:Hn,beforeUpdate:Hn,updated:Hn,beforeDestroy:Hn,beforeUnmount:Hn,destroyed:Hn,unmounted:Hn,activated:Hn,deactivated:Hn,errorCaptured:Hn,serverPrefetch:Hn,components:Gl,directives:Gl,watch:o4,provide:cA,inject:i4};function cA(t,e){return e?t?function(){return pn(xe(t)?t.call(this,this):t,xe(e)?e.call(this,this):e)}:e:t}function i4(t,e){return Gl(sw(t),sw(e))}function sw(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Hn(t,e){return t?[...new Set([].concat(t,e))]:e}function Gl(t,e){return t?pn(Object.create(null),t,e):e}function lA(t,e){return t?Ae(t)&&Ae(e)?[...new Set([...t,...e])]:pn(Object.create(null),aA(t),aA(e??{})):e}function o4(t,e){if(!t)return e;if(!e)return t;const n=pn(Object.create(null),t);for(const r in e)n[r]=Hn(t[r],e[r]);return n}function vO(){return{app:null,config:{isNativeTag:Fj,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let s4=0;function a4(t,e){return function(r,i=null){xe(r)||(r=pn({},r)),i!=null&&!It(i)&&(i=null);const s=vO(),a=new Set;let c=!1;const l=s.app={_uid:s4++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:P4,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&xe(h.install)?(a.add(h),h.install(l,...d)):xe(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const m=jt(r,i);return m.appContext=s,d&&e?e(m,h):t(m,h,v),c=!0,l._container=h,h.__vue_app__=l,Tv(m.component)||m.component.proxy}},unmount(){c&&(t(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){_p=l;try{return h()}finally{_p=null}}};return l}}let _p=null;function Xd(t,e){if(wn){let n=wn.provides;const r=wn.parent&&wn.parent.provides;r===n&&(n=wn.provides=Object.create(r)),n[t]=e}}function fi(t,e,n=!1){const r=wn||jr;if(r||_p){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:_p._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&xe(e)?e.call(r&&r.proxy):e}}function u4(t,e,n,r=!1){const i={},s={};pp(s,Ev,1),t.propsDefaults=Object.create(null),gO(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:GR(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function c4(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,c=et(i),[l]=t.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let v=0;v<d.length;v++){let m=d[v];if(yv(t.emitsOptions,m))continue;const y=e[m];if(l)if(Ye(s,m))y!==s[m]&&(s[m]=y,h=!0);else{const b=qi(m);i[b]=aw(l,c,b,y,t,!1)}else y!==s[m]&&(s[m]=y,h=!0)}}}else{gO(t,e,i,s)&&(h=!0);let d;for(const v in c)(!e||!Ye(e,v)&&((d=xa(v))===v||!Ye(e,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=aw(l,c,v,void 0,t,!0)):delete i[v]);if(s!==c)for(const v in s)(!e||!Ye(e,v))&&(delete s[v],h=!0)}h&&Eo(t,"set","$attrs")}function gO(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,c;if(e)for(let l in e){if(zd(l))continue;const h=e[l];let d;i&&Ye(i,d=qi(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:yv(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=et(n),h=c||pt;for(let d=0;d<s.length;d++){const v=s[d];n[v]=aw(i,l,v,h[v],t,!Ye(h,v))}}return a}function aw(t,e,n,r,i,s){const a=t[n];if(a!=null){const c=Ye(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&xe(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(Zu(i),r=h[n]=l.call(null,e),da())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===xa(n))&&(r=!0))}return r}function mO(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},c=[];let l=!1;if(!xe(t)){const d=v=>{l=!0;const[m,y]=mO(v,e,!0);pn(a,m),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return It(t)&&r.set(t,Mu),Mu;if(Ae(s))for(let d=0;d<s.length;d++){const v=qi(s[d]);fA(v)&&(a[v]=pt)}else if(s)for(const d in s){const v=qi(d);if(fA(v)){const m=s[d],y=a[v]=Ae(m)||xe(m)?{type:m}:pn({},m);if(y){const b=pA(Boolean,y.type),E=pA(String,y.type);y[0]=b>-1,y[1]=E<0||b<E,(b>-1||Ye(y,"default"))&&c.push(v)}}}const h=[a,c];return It(t)&&r.set(t,h),h}function fA(t){return t[0]!=="$"}function hA(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function dA(t,e){return hA(t)===hA(e)}function pA(t,e){return Ae(e)?e.findIndex(n=>dA(n,t)):xe(e)&&dA(e,t)?0:-1}const yO=t=>t[0]==="_"||t==="$stable",k0=t=>Ae(t)?t.map(Pi):[Pi(t)],l4=(t,e,n)=>{if(e._n)return e;const r=_v((...i)=>k0(e(...i)),n);return r._c=!1,r},_O=(t,e,n)=>{const r=t._ctx;for(const i in t){if(yO(i))continue;const s=t[i];if(xe(s))e[i]=l4(i,s,r);else if(s!=null){const a=k0(s);e[i]=()=>a}}},wO=(t,e)=>{const n=k0(e);t.slots.default=()=>n},f4=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=et(e),pp(e,"_",n)):_O(e,t.slots={})}else t.slots={},e&&wO(t,e);pp(t.slots,Ev,1)},h4=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=pt;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(pn(i,e),!n&&c===1&&delete i._):(s=!e.$stable,_O(e,i)),a=e}else e&&(wO(t,e),a={default:1});if(s)for(const c in i)!yO(c)&&!(c in a)&&delete i[c]};function uw(t,e,n,r,i=!1){if(Ae(t)){t.forEach((m,y)=>uw(m,e&&(Ae(e)?e[y]:e),n,r,i));return}if(Qd(r)&&!i)return;const s=r.shapeFlag&4?Tv(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=t,h=e&&e.r,d=c.refs===pt?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&($t(h)?(d[h]=null,Ye(v,h)&&(v[h]=null)):Nn(h)&&(h.value=null)),xe(l))ls(l,c,12,[a,d]);else{const m=$t(l),y=Nn(l);if(m||y){const b=()=>{if(t.f){const E=m?Ye(v,l)?v[l]:d[l]:l.value;i?Ae(E)&&g0(E,s):Ae(E)?E.includes(s)||E.push(s):m?(d[l]=[s],Ye(v,l)&&(v[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else m?(d[l]=a,Ye(v,l)&&(v[l]=a)):y&&(l.value=a,t.k&&(d[t.k]=a))};a?(b.id=-1,ir(b,n)):b()}}}const ir=VV;function d4(t){return p4(t)}function p4(t,e){const n=J_();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:m,setScopeId:y=ci,insertStaticContent:b}=t,E=(S,A,k,M=null,V=null,B=null,ne=!1,z=null,Z=!!A.dynamicChildren)=>{if(S===A)return;S&&!xl(S,A)&&(M=j(S),sn(S,V,B,!0),S=null),A.patchFlag===-2&&(Z=!1,A.dynamicChildren=null);const{type:Y,ref:ge,shapeFlag:ce}=A;switch(Y){case bv:T(S,A,k,M);break;case Ea:C(S,A,k,M);break;case Jd:S==null&&x(A,k,M,ne);break;case Xt:bi(S,A,k,M,V,B,ne,z,Z);break;default:ce&1?X(S,A,k,M,V,B,ne,z,Z):ce&6?In(S,A,k,M,V,B,ne,z,Z):(ce&64||ce&128)&&Y.process(S,A,k,M,V,B,ne,z,Z,H)}ge!=null&&V&&uw(ge,S&&S.ref,B,A||S,!A)},T=(S,A,k,M)=>{if(S==null)r(A.el=c(A.children),k,M);else{const V=A.el=S.el;A.children!==S.children&&h(V,A.children)}},C=(S,A,k,M)=>{S==null?r(A.el=l(A.children||""),k,M):A.el=S.el},x=(S,A,k,M)=>{[S.el,S.anchor]=b(S.children,A,k,M,S.el,S.anchor)},D=({el:S,anchor:A},k,M)=>{let V;for(;S&&S!==A;)V=m(S),r(S,k,M),S=V;r(A,k,M)},F=({el:S,anchor:A})=>{let k;for(;S&&S!==A;)k=m(S),i(S),S=k;i(A)},X=(S,A,k,M,V,B,ne,z,Z)=>{ne=ne||A.type==="svg",S==null?U(A,k,M,V,B,ne,z,Z):de(S,A,V,B,ne,z,Z)},U=(S,A,k,M,V,B,ne,z)=>{let Z,Y;const{type:ge,props:ce,shapeFlag:me,transition:Ie,dirs:Pe}=S;if(Z=S.el=a(S.type,B,ce&&ce.is,ce),me&8?d(Z,S.children):me&16&&tt(S.children,Z,null,M,V,B&&ge!=="foreignObject",ne,z),Pe&&Qs(S,null,M,"created"),Te(Z,S,S.scopeId,ne,M),ce){for(const ye in ce)ye!=="value"&&!zd(ye)&&s(Z,ye,null,ce[ye],B,S.children,M,V,an);"value"in ce&&s(Z,"value",null,ce.value),(Y=ce.onVnodeBeforeMount)&&ki(Y,M,S)}Pe&&Qs(S,null,M,"beforeMount");const st=(!V||V&&!V.pendingBranch)&&Ie&&!Ie.persisted;st&&Ie.beforeEnter(Z),r(Z,A,k),((Y=ce&&ce.onVnodeMounted)||st||Pe)&&ir(()=>{Y&&ki(Y,M,S),st&&Ie.enter(Z),Pe&&Qs(S,null,M,"mounted")},V)},Te=(S,A,k,M,V)=>{if(k&&y(S,k),M)for(let B=0;B<M.length;B++)y(S,M[B]);if(V){let B=V.subTree;if(A===B){const ne=V.vnode;Te(S,ne,ne.scopeId,ne.slotScopeIds,V.parent)}}},tt=(S,A,k,M,V,B,ne,z,Z=0)=>{for(let Y=Z;Y<S.length;Y++){const ge=S[Y]=z?Xo(S[Y]):Pi(S[Y]);E(null,ge,A,k,M,V,B,ne,z)}},de=(S,A,k,M,V,B,ne)=>{const z=A.el=S.el;let{patchFlag:Z,dynamicChildren:Y,dirs:ge}=A;Z|=S.patchFlag&16;const ce=S.props||pt,me=A.props||pt;let Ie;k&&Xs(k,!1),(Ie=me.onVnodeBeforeUpdate)&&ki(Ie,k,A,S),ge&&Qs(A,S,k,"beforeUpdate"),k&&Xs(k,!0);const Pe=V&&A.type!=="foreignObject";if(Y?vn(S.dynamicChildren,Y,z,k,M,Pe,B):ne||Ge(S,A,z,null,k,M,Pe,B,!1),Z>0){if(Z&16)O(z,A,ce,me,k,M,V);else if(Z&2&&ce.class!==me.class&&s(z,"class",null,me.class,V),Z&4&&s(z,"style",ce.style,me.style,V),Z&8){const st=A.dynamicProps;for(let ye=0;ye<st.length;ye++){const _t=st[ye],un=ce[_t],Ji=me[_t];(Ji!==un||_t==="value")&&s(z,_t,un,Ji,V,S.children,k,M,an)}}Z&1&&S.children!==A.children&&d(z,A.children)}else!ne&&Y==null&&O(z,A,ce,me,k,M,V);((Ie=me.onVnodeUpdated)||ge)&&ir(()=>{Ie&&ki(Ie,k,A,S),ge&&Qs(A,S,k,"updated")},M)},vn=(S,A,k,M,V,B,ne)=>{for(let z=0;z<A.length;z++){const Z=S[z],Y=A[z],ge=Z.el&&(Z.type===Xt||!xl(Z,Y)||Z.shapeFlag&70)?v(Z.el):k;E(Z,Y,ge,null,M,V,B,ne,!0)}},O=(S,A,k,M,V,B,ne)=>{if(k!==M){if(k!==pt)for(const z in k)!zd(z)&&!(z in M)&&s(S,z,k[z],null,ne,A.children,V,B,an);for(const z in M){if(zd(z))continue;const Z=M[z],Y=k[z];Z!==Y&&z!=="value"&&s(S,z,Y,Z,ne,A.children,V,B,an)}"value"in M&&s(S,"value",k.value,M.value)}},bi=(S,A,k,M,V,B,ne,z,Z)=>{const Y=A.el=S?S.el:c(""),ge=A.anchor=S?S.anchor:c("");let{patchFlag:ce,dynamicChildren:me,slotScopeIds:Ie}=A;Ie&&(z=z?z.concat(Ie):Ie),S==null?(r(Y,k,M),r(ge,k,M),tt(A.children,k,ge,V,B,ne,z,Z)):ce>0&&ce&64&&me&&S.dynamicChildren?(vn(S.dynamicChildren,me,k,V,B,ne,z),(A.key!=null||V&&A===V.subTree)&&bO(S,A,!0)):Ge(S,A,k,ge,V,B,ne,z,Z)},In=(S,A,k,M,V,B,ne,z,Z)=>{A.slotScopeIds=z,S==null?A.shapeFlag&512?V.ctx.activate(A,k,M,ne,Z):Rs(A,k,M,V,B,ne,Z):Ei(S,A,Z)},Rs=(S,A,k,M,V,B,ne)=>{const z=S.component=I4(S,M,V);if(cO(S)&&(z.ctx.renderer=H),S4(z),z.asyncDep){if(V&&V.registerDep(z,yt),!S.el){const Z=z.subTree=jt(Ea);C(null,Z,A,k)}return}yt(z,S,A,k,V,B,ne)},Ei=(S,A,k)=>{const M=A.component=S.component;if(FV(S,A,k))if(M.asyncDep&&!M.asyncResolved){He(M,A,k);return}else M.next=A,kV(M.update),M.update();else A.el=S.el,M.vnode=A},yt=(S,A,k,M,V,B,ne)=>{const z=()=>{if(S.isMounted){let{next:ge,bu:ce,u:me,parent:Ie,vnode:Pe}=S,st=ge,ye;Xs(S,!1),ge?(ge.el=Pe.el,He(S,ge,ne)):ge=Pe,ce&&Kd(ce),(ye=ge.props&&ge.props.onVnodeBeforeUpdate)&&ki(ye,Ie,ge,Pe),Xs(S,!0);const _t=Qy(S),un=S.subTree;S.subTree=_t,E(un,_t,v(un.el),j(un),S,V,B),ge.el=_t.el,st===null&&UV(S,_t.el),me&&ir(me,V),(ye=ge.props&&ge.props.onVnodeUpdated)&&ir(()=>ki(ye,Ie,ge,Pe),V)}else{let ge;const{el:ce,props:me}=A,{bm:Ie,m:Pe,parent:st}=S,ye=Qd(A);if(Xs(S,!1),Ie&&Kd(Ie),!ye&&(ge=me&&me.onVnodeBeforeMount)&&ki(ge,st,A),Xs(S,!0),ce&&$e){const _t=()=>{S.subTree=Qy(S),$e(ce,S.subTree,S,V,null)};ye?A.type.__asyncLoader().then(()=>!S.isUnmounted&&_t()):_t()}else{const _t=S.subTree=Qy(S);E(null,_t,k,M,S,V,B),A.el=_t.el}if(Pe&&ir(Pe,V),!ye&&(ge=me&&me.onVnodeMounted)){const _t=A;ir(()=>ki(ge,st,_t),V)}(A.shapeFlag&256||st&&Qd(st.vnode)&&st.vnode.shapeFlag&256)&&S.a&&ir(S.a,V),S.isMounted=!0,A=k=M=null}},Z=S.effect=new b0(z,()=>N0(Y),S.scope),Y=S.update=()=>Z.run();Y.id=S.uid,Xs(S,!0),Y()},He=(S,A,k)=>{A.component=S;const M=S.vnode.props;S.vnode=A,S.next=null,c4(S,A.props,M,k),h4(S,A.children,k),Ac(),iA(),Cc()},Ge=(S,A,k,M,V,B,ne,z,Z=!1)=>{const Y=S&&S.children,ge=S?S.shapeFlag:0,ce=A.children,{patchFlag:me,shapeFlag:Ie}=A;if(me>0){if(me&128){Or(Y,ce,k,M,V,B,ne,z,Z);return}else if(me&256){St(Y,ce,k,M,V,B,ne,z,Z);return}}Ie&8?(ge&16&&an(Y,V,B),ce!==Y&&d(k,ce)):ge&16?Ie&16?Or(Y,ce,k,M,V,B,ne,z,Z):an(Y,V,B,!0):(ge&8&&d(k,""),Ie&16&&tt(ce,k,M,V,B,ne,z,Z))},St=(S,A,k,M,V,B,ne,z,Z)=>{S=S||Mu,A=A||Mu;const Y=S.length,ge=A.length,ce=Math.min(Y,ge);let me;for(me=0;me<ce;me++){const Ie=A[me]=Z?Xo(A[me]):Pi(A[me]);E(S[me],Ie,k,null,V,B,ne,z,Z)}Y>ge?an(S,V,B,!0,!1,ce):tt(A,k,M,V,B,ne,z,Z,ce)},Or=(S,A,k,M,V,B,ne,z,Z)=>{let Y=0;const ge=A.length;let ce=S.length-1,me=ge-1;for(;Y<=ce&&Y<=me;){const Ie=S[Y],Pe=A[Y]=Z?Xo(A[Y]):Pi(A[Y]);if(xl(Ie,Pe))E(Ie,Pe,k,null,V,B,ne,z,Z);else break;Y++}for(;Y<=ce&&Y<=me;){const Ie=S[ce],Pe=A[me]=Z?Xo(A[me]):Pi(A[me]);if(xl(Ie,Pe))E(Ie,Pe,k,null,V,B,ne,z,Z);else break;ce--,me--}if(Y>ce){if(Y<=me){const Ie=me+1,Pe=Ie<ge?A[Ie].el:M;for(;Y<=me;)E(null,A[Y]=Z?Xo(A[Y]):Pi(A[Y]),k,Pe,V,B,ne,z,Z),Y++}}else if(Y>me)for(;Y<=ce;)sn(S[Y],V,B,!0),Y++;else{const Ie=Y,Pe=Y,st=new Map;for(Y=Pe;Y<=me;Y++){const xt=A[Y]=Z?Xo(A[Y]):Pi(A[Y]);xt.key!=null&&st.set(xt.key,Y)}let ye,_t=0;const un=me-Pe+1;let Ji=!1,$c=0;const ht=new Array(un);for(Y=0;Y<un;Y++)ht[Y]=0;for(Y=Ie;Y<=ce;Y++){const xt=S[Y];if(_t>=un){sn(xt,V,B,!0);continue}let zt;if(xt.key!=null)zt=st.get(xt.key);else for(ye=Pe;ye<=me;ye++)if(ht[ye-Pe]===0&&xl(xt,A[ye])){zt=ye;break}zt===void 0?sn(xt,V,B,!0):(ht[zt-Pe]=Y+1,zt>=$c?$c=zt:Ji=!0,E(xt,A[zt],k,null,V,B,ne,z,Z),_t++)}const zc=Ji?v4(ht):Mu;for(ye=zc.length-1,Y=un-1;Y>=0;Y--){const xt=Pe+Y,zt=A[xt],Kc=xt+1<ge?A[xt+1].el:M;ht[Y]===0?E(null,zt,k,Kc,V,B,ne,z,Z):Ji&&(ye<0||Y!==zc[ye]?gn(zt,k,Kc,2):ye--)}}},gn=(S,A,k,M,V=null)=>{const{el:B,type:ne,transition:z,children:Z,shapeFlag:Y}=S;if(Y&6){gn(S.component.subTree,A,k,M);return}if(Y&128){S.suspense.move(A,k,M);return}if(Y&64){ne.move(S,A,k,H);return}if(ne===Xt){r(B,A,k);for(let ce=0;ce<Z.length;ce++)gn(Z[ce],A,k,M);r(S.anchor,A,k);return}if(ne===Jd){D(S,A,k);return}if(M!==2&&Y&1&&z)if(M===0)z.beforeEnter(B),r(B,A,k),ir(()=>z.enter(B),V);else{const{leave:ce,delayLeave:me,afterLeave:Ie}=z,Pe=()=>r(B,A,k),st=()=>{ce(B,()=>{Pe(),Ie&&Ie()})};me?me(B,Pe,st):st()}else r(B,A,k)},sn=(S,A,k,M=!1,V=!1)=>{const{type:B,props:ne,ref:z,children:Z,dynamicChildren:Y,shapeFlag:ge,patchFlag:ce,dirs:me}=S;if(z!=null&&uw(z,null,k,S,!0),ge&256){A.ctx.deactivate(S);return}const Ie=ge&1&&me,Pe=!Qd(S);let st;if(Pe&&(st=ne&&ne.onVnodeBeforeUnmount)&&ki(st,A,S),ge&6)Os(S.component,k,M);else{if(ge&128){S.suspense.unmount(k,M);return}Ie&&Qs(S,null,A,"beforeUnmount"),ge&64?S.type.remove(S,A,k,V,H,M):Y&&(B!==Xt||ce>0&&ce&64)?an(Y,A,k,!1,!0):(B===Xt&&ce&384||!V&&ge&16)&&an(Z,A,k),M&&Qi(S)}(Pe&&(st=ne&&ne.onVnodeUnmounted)||Ie)&&ir(()=>{st&&ki(st,A,S),Ie&&Qs(S,null,A,"unmounted")},k)},Qi=S=>{const{type:A,el:k,anchor:M,transition:V}=S;if(A===Xt){Xi(k,M);return}if(A===Jd){F(S);return}const B=()=>{i(k),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(S.shapeFlag&1&&V&&!V.persisted){const{leave:ne,delayLeave:z}=V,Z=()=>ne(k,B);z?z(S.el,B,Z):Z()}else B()},Xi=(S,A)=>{let k;for(;S!==A;)k=m(S),i(S),S=k;i(A)},Os=(S,A,k)=>{const{bum:M,scope:V,update:B,subTree:ne,um:z}=S;M&&Kd(M),V.stop(),B&&(B.active=!1,sn(ne,S,A,k)),z&&ir(z,A),ir(()=>{S.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},an=(S,A,k,M=!1,V=!1,B=0)=>{for(let ne=B;ne<S.length;ne++)sn(S[ne],A,k,M,V)},j=S=>S.shapeFlag&6?j(S.component.subTree):S.shapeFlag&128?S.suspense.next():m(S.anchor||S.el),oe=(S,A,k)=>{S==null?A._vnode&&sn(A._vnode,null,null,!0):E(A._vnode||null,S,A,null,null,null,k),iA(),nO(),A._vnode=S},H={p:E,um:sn,m:gn,r:Qi,mt:Rs,mc:tt,pc:Ge,pbc:vn,n:j,o:t};let pe,$e;return e&&([pe,$e]=e(H)),{render:oe,hydrate:pe,createApp:a4(oe,pe)}}function Xs({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function bO(t,e,n=!1){const r=t.children,i=e.children;if(Ae(r)&&Ae(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=Xo(i[s]),c.el=a.el),n||bO(a,c)),c.type===bv&&(c.el=a.el)}}function v4(t){const e=t.slice(),n=[0];let r,i,s,a,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(i=n[n.length-1],t[i]<h){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,t[n[c]]<h?s=c+1:a=c;h<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const g4=t=>t.__isTeleport,Xt=Symbol.for("v-fgt"),bv=Symbol.for("v-txt"),Ea=Symbol.for("v-cmt"),Jd=Symbol.for("v-stc"),Xl=[];let ii=null;function Ze(t=!1){Xl.push(ii=t?null:[])}function m4(){Xl.pop(),ii=Xl[Xl.length-1]||null}let gf=1;function vA(t){gf+=t}function EO(t){return t.dynamicChildren=gf>0?ii||Mu:null,m4(),gf>0&&ii&&ii.push(t),t}function vt(t,e,n,r,i,s){return EO(W(t,e,n,r,i,s,!0))}function Nc(t,e,n,r,i){return EO(jt(t,e,n,r,i,!0))}function cw(t){return t?t.__v_isVNode===!0:!1}function xl(t,e){return t.type===e.type&&t.key===e.key}const Ev="__vInternal",TO=({key:t})=>t??null,Zd=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?$t(t)||Nn(t)||xe(t)?{i:jr,r:t,k:e,f:!!n}:t:null);function W(t,e=null,n=null,r=0,i=null,s=t===Xt?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&TO(e),ref:e&&Zd(e),scopeId:oO,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:jr};return c?(x0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=$t(n)?8:16),gf>0&&!a&&ii&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ii.push(l),l}const jt=y4;function y4(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===hO)&&(t=Ea),cw(t)){const c=Ju(t,e,!0);return n&&x0(c,n),gf>0&&!s&&ii&&(c.shapeFlag&6?ii[ii.indexOf(t)]=c:ii.push(c)),c.patchFlag|=-2,c}if(O4(t)&&(t=t.__vccOpts),e){e=_4(e);let{class:c,style:l}=e;c&&!$t(c)&&(e.class=ba(c)),It(l)&&($R(l)&&!Ae(l)&&(l=pn({},l)),e.style=_0(l))}const a=$t(t)?1:jV(t)?128:g4(t)?64:It(t)?4:xe(t)?2:0;return W(t,e,n,r,i,a,s,!0)}function _4(t){return t?$R(t)||Ev in t?pn({},t):t:null}function Ju(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,c=e?b4(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&TO(c),ref:e&&e.ref?n&&i?Ae(i)?i.concat(Zd(e)):[i,Zd(e)]:Zd(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ju(t.ssContent),ssFallback:t.ssFallback&&Ju(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function w4(t=" ",e=0){return jt(bv,null,t,e)}function Pa(t,e){const n=jt(Jd,null,t);return n.staticCount=e,n}function gA(t="",e=!1){return e?(Ze(),Nc(Ea,null,t)):jt(Ea,null,t)}function Pi(t){return t==null||typeof t=="boolean"?jt(Ea):Ae(t)?jt(Xt,null,t.slice()):typeof t=="object"?Xo(t):jt(bv,null,String(t))}function Xo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ju(t)}function x0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ae(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),x0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Ev in e)?e._ctx=jr:i===3&&jr&&(jr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else xe(e)?(e={default:e,_ctx:jr},n=32):(e=String(e),r&64?(n=16,e=[w4(e)]):n=8);t.children=e,t.shapeFlag|=n}function b4(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ba([e.class,r.class]));else if(i==="style")e.style=_0([e.style,r.style]);else if(hv(i)){const s=e[i],a=r[i];a&&s!==a&&!(Ae(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function ki(t,e,n,r=null){li(t,e,7,[n,r])}const E4=vO();let T4=0;function I4(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||E4,s={uid:T4++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Kj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mO(r,i),emitsOptions:iO(r,i),emit:null,emitted:null,propsDefaults:pt,inheritAttrs:r.inheritAttrs,ctx:pt,data:pt,props:pt,attrs:pt,slots:pt,refs:pt,setupState:pt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=DV.bind(null,s),t.ce&&t.ce(s),s}let wn=null,P0,vu,mA="__VUE_INSTANCE_SETTERS__";(vu=J_()[mA])||(vu=J_()[mA]=[]),vu.push(t=>wn=t),P0=t=>{vu.length>1?vu.forEach(e=>e(t)):vu[0](t)};const Zu=t=>{P0(t),t.scope.on()},da=()=>{wn&&wn.scope.off(),P0(null)};function IO(t){return t.vnode.shapeFlag&4}let mf=!1;function S4(t,e=!1){mf=e;const{props:n,children:r}=t.vnode,i=IO(t);u4(t,n,i,e),f4(t,r);const s=i?A4(t,e):void 0;return mf=!1,s}function A4(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=zR(new Proxy(t.ctx,e4));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?N4(t):null;Zu(t),Ac();const s=ls(r,t,0,[t.props,i]);if(Cc(),da(),OR(s)){if(s.then(da,da),e)return s.then(a=>{yA(t,a,e)}).catch(a=>{mv(a,t,0)});t.asyncDep=s}else yA(t,s,e)}else SO(t,e)}function yA(t,e,n){xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:It(e)&&(t.setupState=JR(e)),SO(t,n)}let _A;function SO(t,e,n){const r=t.type;if(!t.render){if(!e&&_A&&!r.render){const i=r.template||O0(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:l}=r,h=pn(pn({isCustomElement:s,delimiters:c},a),l);r.render=_A(i,h)}}t.render=r.render||ci}Zu(t),Ac(),t4(t),Cc(),da()}function C4(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return fr(t,"get","$attrs"),e[n]}}))}function N4(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return C4(t)},slots:t.slots,emit:t.emit,expose:e}}function Tv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(JR(zR(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ql)return Ql[n](t)},has(e,n){return n in e||n in Ql}}))}function R4(t,e=!0){return xe(t)?t.displayName||t.name:t.name||e&&t.__name}function O4(t){return xe(t)&&"__vccOpts"in t}const sr=(t,e)=>NV(t,e,mf);function AO(t,e,n){const r=arguments.length;return r===2?It(e)&&!Ae(e)?cw(e)?jt(t,null,[e]):jt(t,e):jt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&cw(n)&&(n=[n]),jt(t,e,n))}const k4=Symbol.for("v-scx"),x4=()=>fi(k4),P4="3.3.4",D4="http://www.w3.org/2000/svg",na=typeof document<"u"?document:null,wA=na&&na.createElement("template"),M4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?na.createElementNS(D4,t):na.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>na.createTextNode(t),createComment:t=>na.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>na.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{wA.innerHTML=r?`<svg>${t}</svg>`:t;const c=wA.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function L4(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function F4(t,e,n){const r=t.style,i=$t(n);if(n&&!i){if(e&&!$t(e))for(const s in e)n[s]==null&&lw(r,s,"");for(const s in n)lw(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const bA=/\s*!important$/;function lw(t,e,n){if(Ae(n))n.forEach(r=>lw(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=U4(t,e);bA.test(n)?t.setProperty(xa(r),n.replace(bA,""),"important"):t[r]=n}}const EA=["Webkit","Moz","ms"],Jy={};function U4(t,e){const n=Jy[e];if(n)return n;let r=qi(e);if(r!=="filter"&&r in t)return Jy[e]=r;r=vv(r);for(let i=0;i<EA.length;i++){const s=EA[i]+r;if(s in t)return Jy[e]=s}return e}const TA="http://www.w3.org/1999/xlink";function j4(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(TA,e.slice(6,e.length)):t.setAttributeNS(TA,e,n);else{const s=zj(e);n==null||s&&!PR(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function V4(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const h=c==="OPTION"?t.getAttribute("value"):t.value,d=n??"";h!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const h=typeof t[e];h==="boolean"?n=PR(n):n==null&&h==="string"?(n="",l=!0):h==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Iu(t,e,n,r){t.addEventListener(e,n,r)}function B4(t,e,n,r){t.removeEventListener(e,n,r)}function q4(t,e,n,r,i=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[c,l]=W4(e);if(r){const h=s[e]=Y4(r,i);Iu(t,c,h,l)}else a&&(B4(t,c,a,l),s[e]=void 0)}}const IA=/(?:Once|Passive|Capture)$/;function W4(t){let e;if(IA.test(t)){e={};let r;for(;r=t.match(IA);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):xa(t.slice(2)),e]}let Zy=0;const H4=Promise.resolve(),G4=()=>Zy||(H4.then(()=>Zy=0),Zy=Date.now());function Y4(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;li($4(r,n.value),e,5,[r])};return n.value=t,n.attached=G4(),n}function $4(t,e){if(Ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const SA=/^on[a-z]/,z4=(t,e,n,r,i=!1,s,a,c,l)=>{e==="class"?L4(t,r,i):e==="style"?F4(t,n,r):hv(e)?v0(e)||q4(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):K4(t,e,r,i))?V4(t,e,r,s,a,c,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),j4(t,e,r,i))};function K4(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&SA.test(e)&&xe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||SA.test(e)&&$t(n)?!1:e in t}const AA=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ae(e)?n=>Kd(e,n):e};function Q4(t){t.target.composing=!0}function CA(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const qu={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=AA(i);const s=r||i.props&&i.props.type==="number";Iu(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=X_(c)),t._assign(c)}),n&&Iu(t,"change",()=>{t.value=t.value.trim()}),e||(Iu(t,"compositionstart",Q4),Iu(t,"compositionend",CA),Iu(t,"change",CA))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=AA(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&X_(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},X4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},J4=(t,e)=>n=>{if(!("key"in n))return;const r=xa(n.key);if(e.some(i=>i===r||X4[i]===r))return t(n)},Z4=pn({patchProp:z4},M4);let NA;function e3(){return NA||(NA=d4(Z4))}const t3=(...t)=>{const e=e3().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=n3(r);if(!i)return;const s=e._component;!xe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function n3(t){return $t(t)?document.querySelector(t):t}function r3(){return CO().__VUE_DEVTOOLS_GLOBAL_HOOK__}function CO(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const i3=typeof Proxy=="function",o3="devtools-plugin:setup",s3="plugin:settings:set";let gu,fw;function a3(){var t;return gu!==void 0||(typeof window<"u"&&window.performance?(gu=!0,fw=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(gu=!0,fw=global.perf_hooks.performance):gu=!1),gu}function u3(){return a3()?fw.now():Date.now()}class c3{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const c=e.settings[a];r[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(s,c)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return u3()}},n&&n.on(s3,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:c,args:l,resolve:h})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function l3(t,e){const n=t,r=CO(),i=r3(),s=i3&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(o3,t,e);else{const a=s?new c3(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Su=typeof window<"u";function f3(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const rt=Object.assign;function e_(t,e){const n={};for(const r in e){const i=e[r];n[r]=vi(i)?i.map(t):t(i)}return n}const Jl=()=>{},vi=Array.isArray,h3=/\/$/,d3=t=>t.replace(h3,"");function t_(t,e,n="/"){let r,i={},s="",a="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=m3(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function p3(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function RA(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function v3(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ec(e.matched[r],n.matched[i])&&NO(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ec(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function NO(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!g3(t[n],e[n]))return!1;return!0}function g3(t,e){return vi(t)?OA(t,e):vi(e)?OA(e,t):t===e}function OA(t,e){return vi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function m3(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var yf;(function(t){t.pop="pop",t.push="push"})(yf||(yf={}));var Zl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Zl||(Zl={}));function y3(t){if(!t)if(Su){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),d3(t)}const _3=/^[^#]+#/;function w3(t,e){return t.replace(_3,"#")+e}function b3(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Iv=()=>({left:window.pageXOffset,top:window.pageYOffset});function E3(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=b3(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function kA(t,e){return(history.state?history.state.position-e:-1)+t}const hw=new Map;function T3(t,e){hw.set(t,e)}function I3(t){const e=hw.get(t);return hw.delete(t),e}let S3=()=>location.protocol+"//"+location.host;function RO(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),RA(l,"")}return RA(n,t)+r+i}function A3(t,e,n,r){let i=[],s=[],a=null;const c=({state:m})=>{const y=RO(t,location),b=n.value,E=e.value;let T=0;if(m){if(n.value=y,e.value=m,a&&a===b){a=null;return}T=E?m.position-E.position:0}else r(y);i.forEach(C=>{C(n.value,b,{delta:T,type:yf.pop,direction:T?T>0?Zl.forward:Zl.back:Zl.unknown})})};function l(){a=n.value}function h(m){i.push(m);const y=()=>{const b=i.indexOf(m);b>-1&&i.splice(b,1)};return s.push(y),y}function d(){const{history:m}=window;m.state&&m.replaceState(rt({},m.state,{scroll:Iv()}),"")}function v(){for(const m of s)m();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:v}}function xA(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Iv():null}}function C3(t){const{history:e,location:n}=window,r={value:RO(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=t.indexOf("#"),m=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+l:S3()+t+l;try{e[d?"replaceState":"pushState"](h,"",m),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](m)}}function a(l,h){const d=rt({},e.state,xA(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=rt({},i.value,e.state,{forward:l,scroll:Iv()});s(d.current,d,!0);const v=rt({},xA(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function N3(t){t=y3(t);const e=C3(t),n=A3(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=rt({location:"",base:t,go:r,createHref:w3.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function R3(t){return typeof t=="string"||t&&typeof t=="object"}function OO(t){return typeof t=="string"||typeof t=="symbol"}const Go={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},kO=Symbol("");var PA;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(PA||(PA={}));function tc(t,e){return rt(new Error,{type:t,[kO]:!0},e)}function io(t,e){return t instanceof Error&&kO in t&&(e==null||!!(t.type&e))}const DA="[^/]+?",O3={sensitive:!1,strict:!1,start:!0,end:!0},k3=/[.+*?^${}()[\]/\\]/g;function x3(t,e){const n=rt({},O3,e),r=[];let i=n.start?"^":"";const s=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const m=h[v];let y=40+(n.sensitive?.25:0);if(m.type===0)v||(i+="/"),i+=m.value.replace(k3,"\\$&"),y+=40;else if(m.type===1){const{value:b,repeatable:E,optional:T,regexp:C}=m;s.push({name:b,repeatable:E,optional:T});const x=C||DA;if(x!==DA){y+=10;try{new RegExp(`(${x})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${b}" (${x}): `+F.message)}}let D=E?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;v||(D=T&&h.length<2?`(?:/${D})`:"/"+D),T&&(D+="?"),i+=D,y+=20,T&&(y+=-8),E&&(y+=-20),x===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let m=1;m<d.length;m++){const y=d[m]||"",b=s[m-1];v[b.name]=y&&b.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const m of t){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of m)if(y.type===0)d+=y.value;else if(y.type===1){const{value:b,repeatable:E,optional:T}=y,C=b in h?h[b]:"";if(vi(C)&&!E)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const x=vi(C)?C.join("/"):C;if(!x)if(T)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${b}"`);d+=x}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function P3(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function D3(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=P3(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(MA(r))return 1;if(MA(i))return-1}return i.length-r.length}function MA(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const M3={type:0,value:""},L3=/[a-zA-Z0-9_]/;function F3(t){if(!t)return[[]];if(t==="/")return[[M3]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:L3.test(l)?m():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function U3(t,e,n){const r=x3(F3(t.path),n),i=rt(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function j3(t,e){const n=[],r=new Map;e=UA({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,v,m){const y=!m,b=V3(d);b.aliasOf=m&&m.record;const E=UA(e,d),T=[b];if("alias"in d){const D=typeof d.alias=="string"?[d.alias]:d.alias;for(const F of D)T.push(rt({},b,{components:m?m.record.components:b.components,path:F,aliasOf:m?m.record:b}))}let C,x;for(const D of T){const{path:F}=D;if(v&&F[0]!=="/"){const X=v.record.path,U=X[X.length-1]==="/"?"":"/";D.path=v.record.path+(F&&U+F)}if(C=U3(D,v,E),m?m.alias.push(C):(x=x||C,x!==C&&x.alias.push(C),y&&d.name&&!FA(C)&&a(d.name)),b.children){const X=b.children;for(let U=0;U<X.length;U++)s(X[U],C,m&&m.children[U])}m=m||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&l(C)}return x?()=>{a(x)}:Jl}function a(d){if(OO(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&D3(d,n[v])>=0&&(d.record.path!==n[v].record.path||!xO(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!FA(d)&&r.set(d.record.name,d)}function h(d,v){let m,y={},b,E;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw tc(1,{location:d});E=m.record.name,y=rt(LA(v.params,m.keys.filter(x=>!x.optional).map(x=>x.name)),d.params&&LA(d.params,m.keys.map(x=>x.name))),b=m.stringify(y)}else if("path"in d)b=d.path,m=n.find(x=>x.re.test(b)),m&&(y=m.parse(b),E=m.record.name);else{if(m=v.name?r.get(v.name):n.find(x=>x.re.test(v.path)),!m)throw tc(1,{location:d,currentLocation:v});E=m.record.name,y=rt({},v.params,d.params),b=m.stringify(y)}const T=[];let C=m;for(;C;)T.unshift(C.record),C=C.parent;return{name:E,path:b,params:y,matched:T,meta:q3(T)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function LA(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function V3(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:B3(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function B3(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function FA(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function q3(t){return t.reduce((e,n)=>rt(e,n.meta),{})}function UA(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function xO(t,e){return e.children.some(n=>n===t||xO(t,n))}const PO=/#/g,W3=/&/g,H3=/\//g,G3=/=/g,Y3=/\?/g,DO=/\+/g,$3=/%5B/g,z3=/%5D/g,MO=/%5E/g,K3=/%60/g,LO=/%7B/g,Q3=/%7C/g,FO=/%7D/g,X3=/%20/g;function D0(t){return encodeURI(""+t).replace(Q3,"|").replace($3,"[").replace(z3,"]")}function J3(t){return D0(t).replace(LO,"{").replace(FO,"}").replace(MO,"^")}function dw(t){return D0(t).replace(DO,"%2B").replace(X3,"+").replace(PO,"%23").replace(W3,"%26").replace(K3,"`").replace(LO,"{").replace(FO,"}").replace(MO,"^")}function Z3(t){return dw(t).replace(G3,"%3D")}function eB(t){return D0(t).replace(PO,"%23").replace(Y3,"%3F")}function tB(t){return t==null?"":eB(t).replace(H3,"%2F")}function wp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function nB(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(DO," "),a=s.indexOf("="),c=wp(a<0?s:s.slice(0,a)),l=a<0?null:wp(s.slice(a+1));if(c in e){let h=e[c];vi(h)||(h=e[c]=[h]),h.push(l)}else e[c]=l}return e}function jA(t){let e="";for(let n in t){const r=t[n];if(n=Z3(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(vi(r)?r.map(s=>s&&dw(s)):[r&&dw(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function rB(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=vi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const iB=Symbol(""),VA=Symbol(""),Sv=Symbol(""),M0=Symbol(""),pw=Symbol("");function Pl(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Jo(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(tc(4,{from:n,to:e})):v instanceof Error?c(v):R3(v)?c(tc(2,{from:e,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=t.call(r&&r.instances[i],e,n,l);let d=Promise.resolve(h);t.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function n_(t,e,n,r){const i=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(oB(c)){const h=(c.__vccOpts||c)[e];h&&i.push(Jo(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=f3(h)?h.default:h;s.components[a]=d;const m=(d.__vccOpts||d)[e];return m&&Jo(m,n,r,s,a)()}))}}return i}function oB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function BA(t){const e=fi(Sv),n=fi(M0),r=sr(()=>e.resolve(Uu(t.to))),i=sr(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const m=v.findIndex(ec.bind(null,d));if(m>-1)return m;const y=qA(l[h-2]);return h>1&&qA(d)===y&&v[v.length-1].path!==y?v.findIndex(ec.bind(null,l[h-2])):m}),s=sr(()=>i.value>-1&&cB(n.params,r.value.params)),a=sr(()=>i.value>-1&&i.value===n.matched.length-1&&NO(n.params,r.value.params));function c(l={}){return uB(l)?e[Uu(t.replace)?"replace":"push"](Uu(t.to)).catch(Jl):Promise.resolve()}return{route:r,href:sr(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const sB=uO({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:BA,setup(t,{slots:e}){const n=Qf(BA(t)),{options:r}=fi(Sv),i=sr(()=>({[WA(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[WA(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:AO("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),aB=sB;function uB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function cB(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!vi(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function qA(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const WA=(t,e,n)=>t??e??n,lB=uO({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=fi(pw),i=sr(()=>t.route||r.value),s=fi(VA,0),a=sr(()=>{let h=Uu(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=sr(()=>i.value.matched[a.value]);Xd(VA,sr(()=>a.value+1)),Xd(iB,c),Xd(pw,i);const l=Ur();return Vu(()=>[l.value,c.value,t.name],([h,d,v],[m,y,b])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!ec(d,y)||!m)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=t.name,v=c.value,m=v&&v.components[d];if(!m)return HA(n.default,{Component:m,route:h});const y=v.props[d],b=y?y===!0?h.params:typeof y=="function"?y(h):y:null,T=AO(m,rt({},b,e,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return HA(n.default,{Component:T,route:h})||T}}});function HA(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const fB=lB;function hB(t){const e=j3(t.routes,t),n=t.parseQuery||nB,r=t.stringifyQuery||jA,i=t.history,s=Pl(),a=Pl(),c=Pl(),l=IV(Go);let h=Go;Su&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=e_.bind(null,j=>""+j),v=e_.bind(null,tB),m=e_.bind(null,wp);function y(j,oe){let H,pe;return OO(j)?(H=e.getRecordMatcher(j),pe=oe):pe=j,e.addRoute(pe,H)}function b(j){const oe=e.getRecordMatcher(j);oe&&e.removeRoute(oe)}function E(){return e.getRoutes().map(j=>j.record)}function T(j){return!!e.getRecordMatcher(j)}function C(j,oe){if(oe=rt({},oe||l.value),typeof j=="string"){const k=t_(n,j,oe.path),M=e.resolve({path:k.path},oe),V=i.createHref(k.fullPath);return rt(k,M,{params:m(M.params),hash:wp(k.hash),redirectedFrom:void 0,href:V})}let H;if("path"in j)H=rt({},j,{path:t_(n,j.path,oe.path).path});else{const k=rt({},j.params);for(const M in k)k[M]==null&&delete k[M];H=rt({},j,{params:v(k)}),oe.params=v(oe.params)}const pe=e.resolve(H,oe),$e=j.hash||"";pe.params=d(m(pe.params));const S=p3(r,rt({},j,{hash:J3($e),path:pe.path})),A=i.createHref(S);return rt({fullPath:S,hash:$e,query:r===jA?rB(j.query):j.query||{}},pe,{redirectedFrom:void 0,href:A})}function x(j){return typeof j=="string"?t_(n,j,l.value.path):rt({},j)}function D(j,oe){if(h!==j)return tc(8,{from:oe,to:j})}function F(j){return Te(j)}function X(j){return F(rt(x(j),{replace:!0}))}function U(j){const oe=j.matched[j.matched.length-1];if(oe&&oe.redirect){const{redirect:H}=oe;let pe=typeof H=="function"?H(j):H;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=x(pe):{path:pe},pe.params={}),rt({query:j.query,hash:j.hash,params:"path"in pe?{}:j.params},pe)}}function Te(j,oe){const H=h=C(j),pe=l.value,$e=j.state,S=j.force,A=j.replace===!0,k=U(H);if(k)return Te(rt(x(k),{state:typeof k=="object"?rt({},$e,k.state):$e,force:S,replace:A}),oe||H);const M=H;M.redirectedFrom=oe;let V;return!S&&v3(r,pe,H)&&(V=tc(16,{to:M,from:pe}),gn(pe,pe,!0,!1)),(V?Promise.resolve(V):vn(M,pe)).catch(B=>io(B)?io(B,2)?B:Or(B):Ge(B,M,pe)).then(B=>{if(B){if(io(B,2))return Te(rt({replace:A},x(B.to),{state:typeof B.to=="object"?rt({},$e,B.to.state):$e,force:S}),oe||M)}else B=bi(M,pe,!0,A,$e);return O(M,pe,B),B})}function tt(j,oe){const H=D(j,oe);return H?Promise.reject(H):Promise.resolve()}function de(j){const oe=Xi.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(j):j()}function vn(j,oe){let H;const[pe,$e,S]=dB(j,oe);H=n_(pe.reverse(),"beforeRouteLeave",j,oe);for(const k of pe)k.leaveGuards.forEach(M=>{H.push(Jo(M,j,oe))});const A=tt.bind(null,j,oe);return H.push(A),an(H).then(()=>{H=[];for(const k of s.list())H.push(Jo(k,j,oe));return H.push(A),an(H)}).then(()=>{H=n_($e,"beforeRouteUpdate",j,oe);for(const k of $e)k.updateGuards.forEach(M=>{H.push(Jo(M,j,oe))});return H.push(A),an(H)}).then(()=>{H=[];for(const k of S)if(k.beforeEnter)if(vi(k.beforeEnter))for(const M of k.beforeEnter)H.push(Jo(M,j,oe));else H.push(Jo(k.beforeEnter,j,oe));return H.push(A),an(H)}).then(()=>(j.matched.forEach(k=>k.enterCallbacks={}),H=n_(S,"beforeRouteEnter",j,oe),H.push(A),an(H))).then(()=>{H=[];for(const k of a.list())H.push(Jo(k,j,oe));return H.push(A),an(H)}).catch(k=>io(k,8)?k:Promise.reject(k))}function O(j,oe,H){c.list().forEach(pe=>de(()=>pe(j,oe,H)))}function bi(j,oe,H,pe,$e){const S=D(j,oe);if(S)return S;const A=oe===Go,k=Su?history.state:{};H&&(pe||A?i.replace(j.fullPath,rt({scroll:A&&k&&k.scroll},$e)):i.push(j.fullPath,$e)),l.value=j,gn(j,oe,H,A),Or()}let In;function Rs(){In||(In=i.listen((j,oe,H)=>{if(!Os.listening)return;const pe=C(j),$e=U(pe);if($e){Te(rt($e,{replace:!0}),pe).catch(Jl);return}h=pe;const S=l.value;Su&&T3(kA(S.fullPath,H.delta),Iv()),vn(pe,S).catch(A=>io(A,12)?A:io(A,2)?(Te(A.to,pe).then(k=>{io(k,20)&&!H.delta&&H.type===yf.pop&&i.go(-1,!1)}).catch(Jl),Promise.reject()):(H.delta&&i.go(-H.delta,!1),Ge(A,pe,S))).then(A=>{A=A||bi(pe,S,!1),A&&(H.delta&&!io(A,8)?i.go(-H.delta,!1):H.type===yf.pop&&io(A,20)&&i.go(-1,!1)),O(pe,S,A)}).catch(Jl)}))}let Ei=Pl(),yt=Pl(),He;function Ge(j,oe,H){Or(j);const pe=yt.list();return pe.length?pe.forEach($e=>$e(j,oe,H)):console.error(j),Promise.reject(j)}function St(){return He&&l.value!==Go?Promise.resolve():new Promise((j,oe)=>{Ei.add([j,oe])})}function Or(j){return He||(He=!j,Rs(),Ei.list().forEach(([oe,H])=>j?H(j):oe()),Ei.reset()),j}function gn(j,oe,H,pe){const{scrollBehavior:$e}=t;if(!Su||!$e)return Promise.resolve();const S=!H&&I3(kA(j.fullPath,0))||(pe||!H)&&history.state&&history.state.scroll||null;return eO().then(()=>$e(j,oe,S)).then(A=>A&&E3(A)).catch(A=>Ge(A,j,oe))}const sn=j=>i.go(j);let Qi;const Xi=new Set,Os={currentRoute:l,listening:!0,addRoute:y,removeRoute:b,hasRoute:T,getRoutes:E,resolve:C,options:t,push:F,replace:X,go:sn,back:()=>sn(-1),forward:()=>sn(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:yt.add,isReady:St,install(j){const oe=this;j.component("RouterLink",aB),j.component("RouterView",fB),j.config.globalProperties.$router=oe,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Uu(l)}),Su&&!Qi&&l.value===Go&&(Qi=!0,F(i.location).catch($e=>{}));const H={};for(const $e in Go)Object.defineProperty(H,$e,{get:()=>l.value[$e],enumerable:!0});j.provide(Sv,oe),j.provide(M0,GR(H)),j.provide(pw,l);const pe=j.unmount;Xi.add(j),j.unmount=function(){Xi.delete(j),Xi.size<1&&(h=Go,In&&In(),In=null,l.value=Go,Qi=!1,He=!1),pe()}}};function an(j){return j.reduce((oe,H)=>oe.then(()=>de(H)),Promise.resolve())}return Os}function dB(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(h=>ec(h,c))?r.push(c):n.push(c));const l=t.matched[a];l&&(e.matched.find(h=>ec(h,l))||i.push(l))}return[n,r,i]}function UO(){return fi(Sv)}function pB(){return fi(M0)}const Hr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},vB={},gB={class:"hidden lg:block lg:w-2/5 px-4 py-2"},mB=W("div",{class:"relative mb-5"},[W("input",{placeholder:"트위터 검색",type:"text",class:"pl-10 rounded-full w-full p-2 bg-gray-100 text-sm focus:ring-1 focus:ring-primary focus:bg-white focus:outline-none"}),W("i",{class:"fas fa-search absolute left-0 mt-2 ml-3 text-sm text-light"})],-1),yB={class:"w-full rounded-lg bg-gray-50 flex flex-col"},_B=W("div",{class:"flex items-center justify-between px-3 py-1 border-b border-gray-100"},[W("span",{class:"text-lg font-bold"},"나를 위한 트렌드"),W("i",{class:"text-center fas fa-cog text-lg text-primary hover:bg-blue-50 p-2 rounded-full"})],-1),wB=Pa('<div class="flex"><div class="flex-1 flex flex-col"><div class="text-gray-500">대한민국에서 트렌드 중</div><div class="font-bold text-lg">하하하</div><div class="text-gray-500">3,564 트윗</div></div><i class="fas fa-ellipsis-h text-gray-500"></i></div>',1),bB=[wB],EB=W("div",{class:"px-4 py-2 hover:bg-gray-100"},[W("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"},"더 보기")],-1),TB={class:"mt-5 w-full rounded-lg bg-gray-50 flex flex-col"},IB=W("div",{class:"px-3 py-3 border-b border-gray-100"},[W("span",{class:"text-lg font-bold"},"팔로우 추천")],-1),SB=Pa('<div class="flex items-center"><img src="http://picsum.photos/200" class="w-12 h-12 rounded-full mr-2"><div class="flex-1 flex flex-col"><div class="font-bold">정재웅</div><div class="text-gray-500 text-sm">@jung_jaeWoong</div></div><div><button class="border-2 border-primary hover:bg-blue-100 px-2 py-1 rounded-full text-primary text-sm">팔로우</button></div></div>',1),AB=[SB],CB=W("div",{class:"px-4 py-2 hover:bg-gray-100"},[W("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"},"더 보기")],-1);function NB(t,e,n,r,i,s){return Ze(),vt("div",gB,[mB,W("div",yB,[_B,(Ze(),vt(Xt,null,gs(3,a=>W("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},bB)),64)),EB]),W("div",TB,[IB,(Ze(),vt(Xt,null,gs(3,a=>W("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},AB)),64)),CB])])}const L0=Hr(vB,[["render",NB]]);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var jO;function ie(){return jO.apply(null,arguments)}function RB(t){jO=t}function gi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function pa(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Xe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function F0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Xe(t,e))return!1;return!0}function or(t){return t===void 0}function To(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Xf(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function VO(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function ss(t,e){for(var n in e)Xe(e,n)&&(t[n]=e[n]);return Xe(e,"toString")&&(t.toString=e.toString),Xe(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Yi(t,e,n,r){return lk(t,e,n,r,!0).utc()}function OB(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(t){return t._pf==null&&(t._pf=OB()),t._pf}var vw;Array.prototype.some?vw=Array.prototype.some:vw=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function U0(t){if(t._isValid==null){var e=ke(t),n=vw.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Av(t){var e=Yi(NaN);return t!=null?ss(ke(e),t):ke(e).userInvalidated=!0,e}var GA=ie.momentProperties=[],r_=!1;function j0(t,e){var n,r,i,s=GA.length;if(or(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),or(e._i)||(t._i=e._i),or(e._f)||(t._f=e._f),or(e._l)||(t._l=e._l),or(e._strict)||(t._strict=e._strict),or(e._tzm)||(t._tzm=e._tzm),or(e._isUTC)||(t._isUTC=e._isUTC),or(e._offset)||(t._offset=e._offset),or(e._pf)||(t._pf=ke(e)),or(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=GA[n],i=e[r],or(i)||(t[r]=i);return t}function Jf(t){j0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),r_===!1&&(r_=!0,ie.updateOffset(this),r_=!1)}function mi(t){return t instanceof Jf||t!=null&&t._isAMomentObject!=null}function BO(t){ie.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Gr(t,e){var n=!0;return ss(function(){if(ie.deprecationHandler!=null&&ie.deprecationHandler(null,t),n){var r=[],i,s,a,c=arguments.length;for(s=0;s<c;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])Xe(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}BO(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var YA={};function qO(t,e){ie.deprecationHandler!=null&&ie.deprecationHandler(t,e),YA[t]||(BO(e),YA[t]=!0)}ie.suppressDeprecationWarnings=!1;ie.deprecationHandler=null;function $i(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function kB(t){var e,n;for(n in t)Xe(t,n)&&(e=t[n],$i(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function gw(t,e){var n=ss({},t),r;for(r in e)Xe(e,r)&&(pa(t[r])&&pa(e[r])?(n[r]={},ss(n[r],t[r]),ss(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Xe(t,r)&&!Xe(e,r)&&pa(t[r])&&(n[r]=ss({},n[r]));return n}function V0(t){t!=null&&this.set(t)}var mw;Object.keys?mw=Object.keys:mw=function(t){var e,n=[];for(e in t)Xe(t,e)&&n.push(e);return n};var xB={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function PB(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return $i(r)?r.call(e,n):r}function Wi(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var B0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Od=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,i_={},Wu={};function _e(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Wu[t]=i),e&&(Wu[e[0]]=function(){return Wi(i.apply(this,arguments),e[1],e[2])}),n&&(Wu[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function DB(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function MB(t){var e=t.match(B0),n,r;for(n=0,r=e.length;n<r;n++)Wu[e[n]]?e[n]=Wu[e[n]]:e[n]=DB(e[n]);return function(i){var s="",a;for(a=0;a<r;a++)s+=$i(e[a])?e[a].call(i,t):e[a];return s}}function ep(t,e){return t.isValid()?(e=WO(e,t.localeData()),i_[e]=i_[e]||MB(e),i_[e](t)):t.localeData().invalidDate()}function WO(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Od.lastIndex=0;n>=0&&Od.test(t);)t=t.replace(Od,r),Od.lastIndex=0,n-=1;return t}var LB={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function FB(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(B0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var UB="Invalid date";function jB(){return this._invalidDate}var VB="%d",BB=/\d{1,2}/;function qB(t){return this._ordinal.replace("%d",t)}var WB={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function HB(t,e,n,r){var i=this._relativeTime[n];return $i(i)?i(t,e,n,r):i.replace(/%d/i,t)}function GB(t,e){var n=this._relativeTime[t>0?"future":"past"];return $i(n)?n(e):n.replace(/%s/i,e)}var ef={};function Ln(t,e){var n=t.toLowerCase();ef[n]=ef[n+"s"]=ef[e]=t}function Yr(t){return typeof t=="string"?ef[t]||ef[t.toLowerCase()]:void 0}function q0(t){var e={},n,r;for(r in t)Xe(t,r)&&(n=Yr(r),n&&(e[n]=t[r]));return e}var HO={};function Fn(t,e){HO[t]=e}function YB(t){var e=[],n;for(n in t)Xe(t,n)&&e.push({unit:n,priority:HO[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Cv(t){return t%4===0&&t%100!==0||t%400===0}function Fr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Me(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Fr(e)),n}function Rc(t,e){return function(n){return n!=null?(GO(this,t,n),ie.updateOffset(this,e),this):bp(this,t)}}function bp(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function GO(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Cv(t.year())&&t.month()===1&&t.date()===29?(n=Me(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Pv(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function $B(t){return t=Yr(t),$i(this[t])?this[t]():this}function zB(t,e){if(typeof t=="object"){t=q0(t);var n=YB(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=Yr(t),$i(this[t]))return this[t](e);return this}var YO=/\d/,Rr=/\d\d/,$O=/\d{3}/,W0=/\d{4}/,Nv=/[+-]?\d{6}/,mt=/\d\d?/,zO=/\d\d\d\d?/,KO=/\d\d\d\d\d\d?/,Rv=/\d{1,3}/,H0=/\d{1,4}/,Ov=/[+-]?\d{1,6}/,Oc=/\d+/,kv=/[+-]?\d+/,KB=/Z|[+-]\d\d:?\d\d/gi,xv=/Z|[+-]\d\d(?::?\d\d)?/gi,QB=/[+-]?\d+(\.\d{1,3})?/,Zf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ep;Ep={};function se(t,e,n){Ep[t]=$i(e)?e:function(r,i){return r&&n?n:e}}function XB(t,e){return Xe(Ep,t)?Ep[t](e._strict,e._locale):new RegExp(JB(t))}function JB(t){return wr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function wr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var yw={};function lt(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),To(e)&&(r=function(s,a){a[e]=Me(s)}),i=t.length,n=0;n<i;n++)yw[t[n]]=r}function eh(t,e){lt(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function ZB(t,e,n){e!=null&&Xe(yw,t)&&yw[t](e,n._a,n,t)}var On=0,fo=1,Mi=2,en=3,oi=4,ho=5,sa=6,eq=7,tq=8;function nq(t,e){return(t%e+e)%e}var Lt;Array.prototype.indexOf?Lt=Array.prototype.indexOf:Lt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Pv(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=nq(e,12);return t+=(e-n)/12,n===1?Cv(t)?29:28:31-n%7%2}_e("M",["MM",2],"Mo",function(){return this.month()+1});_e("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});_e("MMMM",0,0,function(t){return this.localeData().months(this,t)});Ln("month","M");Fn("month",8);se("M",mt);se("MM",mt,Rr);se("MMM",function(t,e){return e.monthsShortRegex(t)});se("MMMM",function(t,e){return e.monthsRegex(t)});lt(["M","MM"],function(t,e){e[fo]=Me(t)-1});lt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[fo]=i:ke(n).invalidMonth=t});var rq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),QO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),XO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,iq=Zf,oq=Zf;function sq(t,e){return t?gi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||XO).test(e)?"format":"standalone"][t.month()]:gi(this._months)?this._months:this._months.standalone}function aq(t,e){return t?gi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[XO.test(e)?"format":"standalone"][t.month()]:gi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function uq(t,e,n){var r,i,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Yi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=Lt.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Lt.call(this._longMonthsParse,a),i!==-1?i:null):e==="MMM"?(i=Lt.call(this._shortMonthsParse,a),i!==-1?i:(i=Lt.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Lt.call(this._longMonthsParse,a),i!==-1?i:(i=Lt.call(this._shortMonthsParse,a),i!==-1?i:null))}function cq(t,e,n){var r,i,s;if(this._monthsParseExact)return uq.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Yi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function JO(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Me(e);else if(e=t.localeData().monthsParse(e),!To(e))return t}return n=Math.min(t.date(),Pv(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ZO(t){return t!=null?(JO(this,t),ie.updateOffset(this,!0),this):bp(this,"Month")}function lq(){return Pv(this.year(),this.month())}function fq(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||ek.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Xe(this,"_monthsShortRegex")||(this._monthsShortRegex=iq),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function hq(t){return this._monthsParseExact?(Xe(this,"_monthsRegex")||ek.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Xe(this,"_monthsRegex")||(this._monthsRegex=oq),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ek(){function t(a,c){return c.length-a.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=Yi([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=wr(e[i]),n[i]=wr(n[i]);for(i=0;i<24;i++)r[i]=wr(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}_e("Y",0,0,function(){var t=this.year();return t<=9999?Wi(t,4):"+"+t});_e(0,["YY",2],0,function(){return this.year()%100});_e(0,["YYYY",4],0,"year");_e(0,["YYYYY",5],0,"year");_e(0,["YYYYYY",6,!0],0,"year");Ln("year","y");Fn("year",1);se("Y",kv);se("YY",mt,Rr);se("YYYY",H0,W0);se("YYYYY",Ov,Nv);se("YYYYYY",Ov,Nv);lt(["YYYYY","YYYYYY"],On);lt("YYYY",function(t,e){e[On]=t.length===2?ie.parseTwoDigitYear(t):Me(t)});lt("YY",function(t,e){e[On]=ie.parseTwoDigitYear(t)});lt("Y",function(t,e){e[On]=parseInt(t,10)});function tf(t){return Cv(t)?366:365}ie.parseTwoDigitYear=function(t){return Me(t)+(Me(t)>68?1900:2e3)};var tk=Rc("FullYear",!0);function dq(){return Cv(this.year())}function pq(t,e,n,r,i,s,a){var c;return t<100&&t>=0?(c=new Date(t+400,e,n,r,i,s,a),isFinite(c.getFullYear())&&c.setFullYear(t)):c=new Date(t,e,n,r,i,s,a),c}function _f(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Tp(t,e,n){var r=7+e-n,i=(7+_f(t,0,r).getUTCDay()-e)%7;return-i+r-1}function nk(t,e,n,r,i){var s=(7+n-r)%7,a=Tp(t,r,i),c=1+7*(e-1)+s+a,l,h;return c<=0?(l=t-1,h=tf(l)+c):c>tf(t)?(l=t+1,h=c-tf(t)):(l=t,h=c),{year:l,dayOfYear:h}}function wf(t,e,n){var r=Tp(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,a;return i<1?(a=t.year()-1,s=i+mo(a,e,n)):i>mo(t.year(),e,n)?(s=i-mo(t.year(),e,n),a=t.year()+1):(a=t.year(),s=i),{week:s,year:a}}function mo(t,e,n){var r=Tp(t,e,n),i=Tp(t+1,e,n);return(tf(t)-r+i)/7}_e("w",["ww",2],"wo","week");_e("W",["WW",2],"Wo","isoWeek");Ln("week","w");Ln("isoWeek","W");Fn("week",5);Fn("isoWeek",5);se("w",mt);se("ww",mt,Rr);se("W",mt);se("WW",mt,Rr);eh(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Me(t)});function vq(t){return wf(t,this._week.dow,this._week.doy).week}var gq={dow:0,doy:6};function mq(){return this._week.dow}function yq(){return this._week.doy}function _q(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function wq(t){var e=wf(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}_e("d",0,"do","day");_e("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});_e("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});_e("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});_e("e",0,0,"weekday");_e("E",0,0,"isoWeekday");Ln("day","d");Ln("weekday","e");Ln("isoWeekday","E");Fn("day",11);Fn("weekday",11);Fn("isoWeekday",11);se("d",mt);se("e",mt);se("E",mt);se("dd",function(t,e){return e.weekdaysMinRegex(t)});se("ddd",function(t,e){return e.weekdaysShortRegex(t)});se("dddd",function(t,e){return e.weekdaysRegex(t)});eh(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:ke(n).invalidWeekday=t});eh(["d","e","E"],function(t,e,n,r){e[r]=Me(t)});function bq(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Eq(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function G0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Tq="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rk="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Iq="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Sq=Zf,Aq=Zf,Cq=Zf;function Nq(t,e){var n=gi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?G0(n,this._week.dow):t?n[t.day()]:n}function Rq(t){return t===!0?G0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Oq(t){return t===!0?G0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function kq(t,e,n){var r,i,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Yi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=Lt.call(this._weekdaysParse,a),i!==-1?i:null):e==="ddd"?(i=Lt.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Lt.call(this._minWeekdaysParse,a),i!==-1?i:null):e==="dddd"?(i=Lt.call(this._weekdaysParse,a),i!==-1||(i=Lt.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=Lt.call(this._minWeekdaysParse,a),i!==-1?i:null)):e==="ddd"?(i=Lt.call(this._shortWeekdaysParse,a),i!==-1||(i=Lt.call(this._weekdaysParse,a),i!==-1)?i:(i=Lt.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=Lt.call(this._minWeekdaysParse,a),i!==-1||(i=Lt.call(this._weekdaysParse,a),i!==-1)?i:(i=Lt.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function xq(t,e,n){var r,i,s;if(this._weekdaysParseExact)return kq.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Yi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Pq(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=bq(t,this.localeData()),this.add(t-e,"d")):e}function Dq(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Mq(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Eq(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Lq(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||Y0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Xe(this,"_weekdaysRegex")||(this._weekdaysRegex=Sq),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fq(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||Y0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Xe(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Aq),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Uq(t){return this._weekdaysParseExact?(Xe(this,"_weekdaysRegex")||Y0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Xe(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Cq),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Y0(){function t(d,v){return v.length-d.length}var e=[],n=[],r=[],i=[],s,a,c,l,h;for(s=0;s<7;s++)a=Yi([2e3,1]).day(s),c=wr(this.weekdaysMin(a,"")),l=wr(this.weekdaysShort(a,"")),h=wr(this.weekdays(a,"")),e.push(c),n.push(l),r.push(h),i.push(c),i.push(l),i.push(h);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function $0(){return this.hours()%12||12}function jq(){return this.hours()||24}_e("H",["HH",2],0,"hour");_e("h",["hh",2],0,$0);_e("k",["kk",2],0,jq);_e("hmm",0,0,function(){return""+$0.apply(this)+Wi(this.minutes(),2)});_e("hmmss",0,0,function(){return""+$0.apply(this)+Wi(this.minutes(),2)+Wi(this.seconds(),2)});_e("Hmm",0,0,function(){return""+this.hours()+Wi(this.minutes(),2)});_e("Hmmss",0,0,function(){return""+this.hours()+Wi(this.minutes(),2)+Wi(this.seconds(),2)});function ik(t,e){_e(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}ik("a",!0);ik("A",!1);Ln("hour","h");Fn("hour",13);function ok(t,e){return e._meridiemParse}se("a",ok);se("A",ok);se("H",mt);se("h",mt);se("k",mt);se("HH",mt,Rr);se("hh",mt,Rr);se("kk",mt,Rr);se("hmm",zO);se("hmmss",KO);se("Hmm",zO);se("Hmmss",KO);lt(["H","HH"],en);lt(["k","kk"],function(t,e,n){var r=Me(t);e[en]=r===24?0:r});lt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});lt(["h","hh"],function(t,e,n){e[en]=Me(t),ke(n).bigHour=!0});lt("hmm",function(t,e,n){var r=t.length-2;e[en]=Me(t.substr(0,r)),e[oi]=Me(t.substr(r)),ke(n).bigHour=!0});lt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[en]=Me(t.substr(0,r)),e[oi]=Me(t.substr(r,2)),e[ho]=Me(t.substr(i)),ke(n).bigHour=!0});lt("Hmm",function(t,e,n){var r=t.length-2;e[en]=Me(t.substr(0,r)),e[oi]=Me(t.substr(r))});lt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[en]=Me(t.substr(0,r)),e[oi]=Me(t.substr(r,2)),e[ho]=Me(t.substr(i))});function Vq(t){return(t+"").toLowerCase().charAt(0)==="p"}var Bq=/[ap]\.?m?\.?/i,qq=Rc("Hours",!0);function Wq(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var sk={calendar:xB,longDateFormat:LB,invalidDate:UB,ordinal:VB,dayOfMonthOrdinalParse:BB,relativeTime:WB,months:rq,monthsShort:QO,week:gq,weekdays:Tq,weekdaysMin:Iq,weekdaysShort:rk,meridiemParse:Bq},Et={},Dl={},bf;function Hq(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function $A(t){return t&&t.toLowerCase().replace("_","-")}function Gq(t){for(var e=0,n,r,i,s;e<t.length;){for(s=$A(t[e]).split("-"),n=s.length,r=$A(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Dv(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Hq(s,r)>=n-1)break;n--}e++}return bf}function Yq(t){return t.match("^[^/\\\\]*$")!=null}function Dv(t){var e=null,n;if(Et[t]===void 0&&typeof dp<"u"&&dp&&dp.exports&&Yq(t))try{e=bf._abbr,n=require,n("./locale/"+t),fs(e)}catch{Et[t]=null}return Et[t]}function fs(t,e){var n;return t&&(or(e)?n=Oo(t):n=z0(t,e),n?bf=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),bf._abbr}function z0(t,e){if(e!==null){var n,r=sk;if(e.abbr=t,Et[t]!=null)qO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Et[t]._config;else if(e.parentLocale!=null)if(Et[e.parentLocale]!=null)r=Et[e.parentLocale]._config;else if(n=Dv(e.parentLocale),n!=null)r=n._config;else return Dl[e.parentLocale]||(Dl[e.parentLocale]=[]),Dl[e.parentLocale].push({name:t,config:e}),null;return Et[t]=new V0(gw(r,e)),Dl[t]&&Dl[t].forEach(function(i){z0(i.name,i.config)}),fs(t),Et[t]}else return delete Et[t],null}function $q(t,e){if(e!=null){var n,r,i=sk;Et[t]!=null&&Et[t].parentLocale!=null?Et[t].set(gw(Et[t]._config,e)):(r=Dv(t),r!=null&&(i=r._config),e=gw(i,e),r==null&&(e.abbr=t),n=new V0(e),n.parentLocale=Et[t],Et[t]=n),fs(t)}else Et[t]!=null&&(Et[t].parentLocale!=null?(Et[t]=Et[t].parentLocale,t===fs()&&fs(t)):Et[t]!=null&&delete Et[t]);return Et[t]}function Oo(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return bf;if(!gi(t)){if(e=Dv(t),e)return e;t=[t]}return Gq(t)}function zq(){return mw(Et)}function K0(t){var e,n=t._a;return n&&ke(t).overflow===-2&&(e=n[fo]<0||n[fo]>11?fo:n[Mi]<1||n[Mi]>Pv(n[On],n[fo])?Mi:n[en]<0||n[en]>24||n[en]===24&&(n[oi]!==0||n[ho]!==0||n[sa]!==0)?en:n[oi]<0||n[oi]>59?oi:n[ho]<0||n[ho]>59?ho:n[sa]<0||n[sa]>999?sa:-1,ke(t)._overflowDayOfYear&&(e<On||e>Mi)&&(e=Mi),ke(t)._overflowWeeks&&e===-1&&(e=eq),ke(t)._overflowWeekday&&e===-1&&(e=tq),ke(t).overflow=e),t}var Kq=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qq=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Xq=/Z|[+-]\d\d(?::?\d\d)?/,kd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],o_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Jq=/^\/?Date\((-?\d+)/i,Zq=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,eW={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ak(t){var e,n,r=t._i,i=Kq.exec(r)||Qq.exec(r),s,a,c,l,h=kd.length,d=o_.length;if(i){for(ke(t).iso=!0,e=0,n=h;e<n;e++)if(kd[e][1].exec(i[1])){a=kd[e][0],s=kd[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(o_[e][1].exec(i[3])){c=(i[2]||" ")+o_[e][0];break}if(c==null){t._isValid=!1;return}}if(!s&&c!=null){t._isValid=!1;return}if(i[4])if(Xq.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=a+(c||"")+(l||""),X0(t)}else t._isValid=!1}function tW(t,e,n,r,i,s){var a=[nW(t),QO.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function nW(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function rW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function iW(t,e,n){if(t){var r=rk.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return ke(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function oW(t,e,n){if(t)return eW[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function uk(t){var e=Zq.exec(rW(t._i)),n;if(e){if(n=tW(e[4],e[3],e[2],e[5],e[6],e[7]),!iW(e[1],n,t))return;t._a=n,t._tzm=oW(e[8],e[9],e[10]),t._d=_f.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ke(t).rfc2822=!0}else t._isValid=!1}function sW(t){var e=Jq.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(ak(t),t._isValid===!1)delete t._isValid;else return;if(uk(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ie.createFromInputFallback(t)}ie.createFromInputFallback=Gr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Au(t,e,n){return t??e??n}function aW(t){var e=new Date(ie.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Q0(t){var e,n,r=[],i,s,a;if(!t._d){for(i=aW(t),t._w&&t._a[Mi]==null&&t._a[fo]==null&&uW(t),t._dayOfYear!=null&&(a=Au(t._a[On],i[On]),(t._dayOfYear>tf(a)||t._dayOfYear===0)&&(ke(t)._overflowDayOfYear=!0),n=_f(a,0,t._dayOfYear),t._a[fo]=n.getUTCMonth(),t._a[Mi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[en]===24&&t._a[oi]===0&&t._a[ho]===0&&t._a[sa]===0&&(t._nextDay=!0,t._a[en]=0),t._d=(t._useUTC?_f:pq).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[en]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ke(t).weekdayMismatch=!0)}}function uW(t){var e,n,r,i,s,a,c,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,n=Au(e.GG,t._a[On],wf(gt(),1,4).year),r=Au(e.W,1),i=Au(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,h=wf(gt(),s,a),n=Au(e.gg,t._a[On],h.year),r=Au(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>mo(n,s,a)?ke(t)._overflowWeeks=!0:l!=null?ke(t)._overflowWeekday=!0:(c=nk(n,r,i,s,a),t._a[On]=c.year,t._dayOfYear=c.dayOfYear)}ie.ISO_8601=function(){};ie.RFC_2822=function(){};function X0(t){if(t._f===ie.ISO_8601){ak(t);return}if(t._f===ie.RFC_2822){uk(t);return}t._a=[],ke(t).empty=!0;var e=""+t._i,n,r,i,s,a,c=e.length,l=0,h,d;for(i=WO(t._f,t._locale).match(B0)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(XB(s,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&ke(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Wu[s]?(r?ke(t).empty=!1:ke(t).unusedTokens.push(s),ZB(s,r,t)):t._strict&&!r&&ke(t).unusedTokens.push(s);ke(t).charsLeftOver=c-l,e.length>0&&ke(t).unusedInput.push(e),t._a[en]<=12&&ke(t).bigHour===!0&&t._a[en]>0&&(ke(t).bigHour=void 0),ke(t).parsedDateParts=t._a.slice(0),ke(t).meridiem=t._meridiem,t._a[en]=cW(t._locale,t._a[en],t._meridiem),h=ke(t).era,h!==null&&(t._a[On]=t._locale.erasConvertYear(h,t._a[On])),Q0(t),K0(t)}function cW(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function lW(t){var e,n,r,i,s,a,c=!1,l=t._f.length;if(l===0){ke(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,a=!1,e=j0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],X0(e),U0(e)&&(a=!0),s+=ke(e).charsLeftOver,s+=ke(e).unusedTokens.length*10,ke(e).score=s,c?s<r&&(r=s,n=e):(r==null||s<r||a)&&(r=s,n=e,a&&(c=!0));ss(t,n||e)}function fW(t){if(!t._d){var e=q0(t._i),n=e.day===void 0?e.date:e.day;t._a=VO([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Q0(t)}}function hW(t){var e=new Jf(K0(ck(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function ck(t){var e=t._i,n=t._f;return t._locale=t._locale||Oo(t._l),e===null||n===void 0&&e===""?Av({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),mi(e)?new Jf(K0(e)):(Xf(e)?t._d=e:gi(n)?lW(t):n?X0(t):dW(t),U0(t)||(t._d=null),t))}function dW(t){var e=t._i;or(e)?t._d=new Date(ie.now()):Xf(e)?t._d=new Date(e.valueOf()):typeof e=="string"?sW(t):gi(e)?(t._a=VO(e.slice(0),function(n){return parseInt(n,10)}),Q0(t)):pa(e)?fW(t):To(e)?t._d=new Date(e):ie.createFromInputFallback(t)}function lk(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(pa(t)&&F0(t)||gi(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,hW(s)}function gt(t,e,n,r){return lk(t,e,n,r,!1)}var pW=Gr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Av()}),vW=Gr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Av()});function fk(t,e){var n,r;if(e.length===1&&gi(e[0])&&(e=e[0]),!e.length)return gt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function gW(){var t=[].slice.call(arguments,0);return fk("isBefore",t)}function mW(){var t=[].slice.call(arguments,0);return fk("isAfter",t)}var yW=function(){return Date.now?Date.now():+new Date},Ml=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _W(t){var e,n=!1,r,i=Ml.length;for(e in t)if(Xe(t,e)&&!(Lt.call(Ml,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Ml[r]]){if(n)return!1;parseFloat(t[Ml[r]])!==Me(t[Ml[r]])&&(n=!0)}return!0}function wW(){return this._isValid}function bW(){return _i(NaN)}function Mv(t){var e=q0(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,c=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=_W(e),this._milliseconds=+d+h*1e3+l*6e4+c*1e3*60*60,this._days=+a+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Oo(),this._bubble()}function tp(t){return t instanceof Mv}function _w(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function EW(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,a;for(a=0;a<r;a++)(n&&t[a]!==e[a]||!n&&Me(t[a])!==Me(e[a]))&&s++;return s+i}function hk(t,e){_e(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Wi(~~(n/60),2)+e+Wi(~~n%60,2)})}hk("Z",":");hk("ZZ","");se("Z",xv);se("ZZ",xv);lt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=J0(xv,t)});var TW=/([\+\-]|\d\d)/gi;function J0(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(TW)||["-",0,0],s=+(i[1]*60)+Me(i[2]),s===0?0:i[0]==="+"?s:-s)}function Z0(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(mi(t)||Xf(t)?t.valueOf():gt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ie.updateOffset(n,!1),n):gt(t).local()}function ww(t){return-Math.round(t._d.getTimezoneOffset())}ie.updateOffset=function(){};function IW(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=J0(xv,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=ww(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?vk(this,_i(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ie.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:ww(this)}function SW(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function AW(t){return this.utcOffset(0,t)}function CW(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ww(this),"m")),this}function NW(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=J0(KB,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function RW(t){return this.isValid()?(t=t?gt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function OW(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function kW(){if(!or(this._isDSTShifted))return this._isDSTShifted;var t={},e;return j0(t,this),t=ck(t),t._a?(e=t._isUTC?Yi(t._a):gt(t._a),this._isDSTShifted=this.isValid()&&EW(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xW(){return this.isValid()?!this._isUTC:!1}function PW(){return this.isValid()?this._isUTC:!1}function dk(){return this.isValid()?this._isUTC&&this._offset===0:!1}var DW=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,MW=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _i(t,e){var n=t,r=null,i,s,a;return tp(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:To(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=DW.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Me(r[Mi])*i,h:Me(r[en])*i,m:Me(r[oi])*i,s:Me(r[ho])*i,ms:Me(_w(r[sa]*1e3))*i}):(r=MW.exec(t))?(i=r[1]==="-"?-1:1,n={y:Js(r[2],i),M:Js(r[3],i),w:Js(r[4],i),d:Js(r[5],i),h:Js(r[6],i),m:Js(r[7],i),s:Js(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=LW(gt(n.from),gt(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new Mv(n),tp(t)&&Xe(t,"_locale")&&(s._locale=t._locale),tp(t)&&Xe(t,"_isValid")&&(s._isValid=t._isValid),s}_i.fn=Mv.prototype;_i.invalid=bW;function Js(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function zA(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function LW(t,e){var n;return t.isValid()&&e.isValid()?(e=Z0(e,t),t.isBefore(e)?n=zA(t,e):(n=zA(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function pk(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(qO(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=_i(n,r),vk(this,i,t),this}}function vk(t,e,n,r){var i=e._milliseconds,s=_w(e._days),a=_w(e._months);t.isValid()&&(r=r??!0,a&&JO(t,bp(t,"Month")+a*n),s&&GO(t,"Date",bp(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ie.updateOffset(t,s||a))}var FW=pk(1,"add"),UW=pk(-1,"subtract");function gk(t){return typeof t=="string"||t instanceof String}function jW(t){return mi(t)||Xf(t)||gk(t)||To(t)||BW(t)||VW(t)||t===null||t===void 0}function VW(t){var e=pa(t)&&!F0(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=r.length;for(i=0;i<a;i+=1)s=r[i],n=n||Xe(t,s);return e&&n}function BW(t){var e=gi(t),n=!1;return e&&(n=t.filter(function(r){return!To(r)&&gk(t)}).length===0),e&&n}function qW(t){var e=pa(t)&&!F0(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Xe(t,s);return e&&n}function WW(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function HW(t,e){arguments.length===1&&(arguments[0]?jW(arguments[0])?(t=arguments[0],e=void 0):qW(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||gt(),r=Z0(n,this).startOf("day"),i=ie.calendarFormat(this,r)||"sameElse",s=e&&($i(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,gt(n)))}function GW(){return new Jf(this)}function YW(t,e){var n=mi(t)?t:gt(t);return this.isValid()&&n.isValid()?(e=Yr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function $W(t,e){var n=mi(t)?t:gt(t);return this.isValid()&&n.isValid()?(e=Yr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function zW(t,e,n,r){var i=mi(t)?t:gt(t),s=mi(e)?e:gt(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function KW(t,e){var n=mi(t)?t:gt(t),r;return this.isValid()&&n.isValid()?(e=Yr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function QW(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function XW(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function JW(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=Z0(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=Yr(e),e){case"year":s=np(this,r)/12;break;case"month":s=np(this,r);break;case"quarter":s=np(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Fr(s)}function np(t,e){if(t.date()<e.date())return-np(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}ie.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ie.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ZW(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eH(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?ep(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$i(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ep(n,"Z")):ep(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function tH(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function nH(t){t||(t=this.isUtc()?ie.defaultFormatUtc:ie.defaultFormat);var e=ep(this,t);return this.localeData().postformat(e)}function rH(t,e){return this.isValid()&&(mi(t)&&t.isValid()||gt(t).isValid())?_i({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function iH(t){return this.from(gt(),t)}function oH(t,e){return this.isValid()&&(mi(t)&&t.isValid()||gt(t).isValid())?_i({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sH(t){return this.to(gt(),t)}function mk(t){var e;return t===void 0?this._locale._abbr:(e=Oo(t),e!=null&&(this._locale=e),this)}var yk=Gr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function _k(){return this._locale}var Ip=1e3,Hu=60*Ip,Sp=60*Hu,wk=(365*400+97)*24*Sp;function Gu(t,e){return(t%e+e)%e}function bk(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-wk:new Date(t,e,n).valueOf()}function Ek(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-wk:Date.UTC(t,e,n)}function aH(t){var e,n;if(t=Yr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ek:bk,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Gu(e+(this._isUTC?0:this.utcOffset()*Hu),Sp);break;case"minute":e=this._d.valueOf(),e-=Gu(e,Hu);break;case"second":e=this._d.valueOf(),e-=Gu(e,Ip);break}return this._d.setTime(e),ie.updateOffset(this,!0),this}function uH(t){var e,n;if(t=Yr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ek:bk,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Sp-Gu(e+(this._isUTC?0:this.utcOffset()*Hu),Sp)-1;break;case"minute":e=this._d.valueOf(),e+=Hu-Gu(e,Hu)-1;break;case"second":e=this._d.valueOf(),e+=Ip-Gu(e,Ip)-1;break}return this._d.setTime(e),ie.updateOffset(this,!0),this}function cH(){return this._d.valueOf()-(this._offset||0)*6e4}function lH(){return Math.floor(this.valueOf()/1e3)}function fH(){return new Date(this.valueOf())}function hH(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function dH(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function pH(){return this.isValid()?this.toISOString():null}function vH(){return U0(this)}function gH(){return ss({},ke(this))}function mH(){return ke(this).overflow}function yH(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_e("N",0,0,"eraAbbr");_e("NN",0,0,"eraAbbr");_e("NNN",0,0,"eraAbbr");_e("NNNN",0,0,"eraName");_e("NNNNN",0,0,"eraNarrow");_e("y",["y",1],"yo","eraYear");_e("y",["yy",2],0,"eraYear");_e("y",["yyy",3],0,"eraYear");_e("y",["yyyy",4],0,"eraYear");se("N",eb);se("NN",eb);se("NNN",eb);se("NNNN",RH);se("NNNNN",OH);lt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?ke(n).era=i:ke(n).invalidEra=t});se("y",Oc);se("yy",Oc);se("yyy",Oc);se("yyyy",Oc);se("yo",kH);lt(["y","yy","yyy","yyyy"],On);lt(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[On]=n._locale.eraYearOrdinalParse(t,i):e[On]=parseInt(t,10)});function _H(t,e){var n,r,i,s=this._eras||Oo("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=ie(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=ie(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function wH(t,e,n){var r,i,s=this.eras(),a,c,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),c=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(c===t)return s[r];break;case"NNNN":if(a===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([a,c,l].indexOf(t)>=0)return s[r]}function bH(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ie(t.since).year():ie(t.since).year()+(e-t.offset)*n}function EH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function TH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function IH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function SH(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ie(i[t].since).year())*n+i[t].offset;return this.year()}function AH(t){return Xe(this,"_erasNameRegex")||tb.call(this),t?this._erasNameRegex:this._erasRegex}function CH(t){return Xe(this,"_erasAbbrRegex")||tb.call(this),t?this._erasAbbrRegex:this._erasRegex}function NH(t){return Xe(this,"_erasNarrowRegex")||tb.call(this),t?this._erasNarrowRegex:this._erasRegex}function eb(t,e){return e.erasAbbrRegex(t)}function RH(t,e){return e.erasNameRegex(t)}function OH(t,e){return e.erasNarrowRegex(t)}function kH(t,e){return e._eraYearOrdinalRegex||Oc}function tb(){var t=[],e=[],n=[],r=[],i,s,a=this.eras();for(i=0,s=a.length;i<s;++i)e.push(wr(a[i].name)),t.push(wr(a[i].abbr)),n.push(wr(a[i].narrow)),r.push(wr(a[i].name)),r.push(wr(a[i].abbr)),r.push(wr(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}_e(0,["gg",2],0,function(){return this.weekYear()%100});_e(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lv(t,e){_e(0,[t,t.length],0,e)}Lv("gggg","weekYear");Lv("ggggg","weekYear");Lv("GGGG","isoWeekYear");Lv("GGGGG","isoWeekYear");Ln("weekYear","gg");Ln("isoWeekYear","GG");Fn("weekYear",1);Fn("isoWeekYear",1);se("G",kv);se("g",kv);se("GG",mt,Rr);se("gg",mt,Rr);se("GGGG",H0,W0);se("gggg",H0,W0);se("GGGGG",Ov,Nv);se("ggggg",Ov,Nv);eh(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Me(t)});eh(["gg","GG"],function(t,e,n,r){e[r]=ie.parseTwoDigitYear(t)});function xH(t){return Tk.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function PH(t){return Tk.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function DH(){return mo(this.year(),1,4)}function MH(){return mo(this.isoWeekYear(),1,4)}function LH(){var t=this.localeData()._week;return mo(this.year(),t.dow,t.doy)}function FH(){var t=this.localeData()._week;return mo(this.weekYear(),t.dow,t.doy)}function Tk(t,e,n,r,i){var s;return t==null?wf(this,r,i).year:(s=mo(t,r,i),e>s&&(e=s),UH.call(this,t,e,n,r,i))}function UH(t,e,n,r,i){var s=nk(t,e,n,r,i),a=_f(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}_e("Q",0,"Qo","quarter");Ln("quarter","Q");Fn("quarter",7);se("Q",YO);lt("Q",function(t,e){e[fo]=(Me(t)-1)*3});function jH(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}_e("D",["DD",2],"Do","date");Ln("date","D");Fn("date",9);se("D",mt);se("DD",mt,Rr);se("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});lt(["D","DD"],Mi);lt("Do",function(t,e){e[Mi]=Me(t.match(mt)[0])});var Ik=Rc("Date",!0);_e("DDD",["DDDD",3],"DDDo","dayOfYear");Ln("dayOfYear","DDD");Fn("dayOfYear",4);se("DDD",Rv);se("DDDD",$O);lt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Me(t)});function VH(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}_e("m",["mm",2],0,"minute");Ln("minute","m");Fn("minute",14);se("m",mt);se("mm",mt,Rr);lt(["m","mm"],oi);var BH=Rc("Minutes",!1);_e("s",["ss",2],0,"second");Ln("second","s");Fn("second",15);se("s",mt);se("ss",mt,Rr);lt(["s","ss"],ho);var qH=Rc("Seconds",!1);_e("S",0,0,function(){return~~(this.millisecond()/100)});_e(0,["SS",2],0,function(){return~~(this.millisecond()/10)});_e(0,["SSS",3],0,"millisecond");_e(0,["SSSS",4],0,function(){return this.millisecond()*10});_e(0,["SSSSS",5],0,function(){return this.millisecond()*100});_e(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});_e(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});_e(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});_e(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ln("millisecond","ms");Fn("millisecond",16);se("S",Rv,YO);se("SS",Rv,Rr);se("SSS",Rv,$O);var as,Sk;for(as="SSSS";as.length<=9;as+="S")se(as,Oc);function WH(t,e){e[sa]=Me(("0."+t)*1e3)}for(as="S";as.length<=9;as+="S")lt(as,WH);Sk=Rc("Milliseconds",!1);_e("z",0,0,"zoneAbbr");_e("zz",0,0,"zoneName");function HH(){return this._isUTC?"UTC":""}function GH(){return this._isUTC?"Coordinated Universal Time":""}var Q=Jf.prototype;Q.add=FW;Q.calendar=HW;Q.clone=GW;Q.diff=JW;Q.endOf=uH;Q.format=nH;Q.from=rH;Q.fromNow=iH;Q.to=oH;Q.toNow=sH;Q.get=$B;Q.invalidAt=mH;Q.isAfter=YW;Q.isBefore=$W;Q.isBetween=zW;Q.isSame=KW;Q.isSameOrAfter=QW;Q.isSameOrBefore=XW;Q.isValid=vH;Q.lang=yk;Q.locale=mk;Q.localeData=_k;Q.max=vW;Q.min=pW;Q.parsingFlags=gH;Q.set=zB;Q.startOf=aH;Q.subtract=UW;Q.toArray=hH;Q.toObject=dH;Q.toDate=fH;Q.toISOString=eH;Q.inspect=tH;typeof Symbol<"u"&&Symbol.for!=null&&(Q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Q.toJSON=pH;Q.toString=ZW;Q.unix=lH;Q.valueOf=cH;Q.creationData=yH;Q.eraName=EH;Q.eraNarrow=TH;Q.eraAbbr=IH;Q.eraYear=SH;Q.year=tk;Q.isLeapYear=dq;Q.weekYear=xH;Q.isoWeekYear=PH;Q.quarter=Q.quarters=jH;Q.month=ZO;Q.daysInMonth=lq;Q.week=Q.weeks=_q;Q.isoWeek=Q.isoWeeks=wq;Q.weeksInYear=LH;Q.weeksInWeekYear=FH;Q.isoWeeksInYear=DH;Q.isoWeeksInISOWeekYear=MH;Q.date=Ik;Q.day=Q.days=Pq;Q.weekday=Dq;Q.isoWeekday=Mq;Q.dayOfYear=VH;Q.hour=Q.hours=qq;Q.minute=Q.minutes=BH;Q.second=Q.seconds=qH;Q.millisecond=Q.milliseconds=Sk;Q.utcOffset=IW;Q.utc=AW;Q.local=CW;Q.parseZone=NW;Q.hasAlignedHourOffset=RW;Q.isDST=OW;Q.isLocal=xW;Q.isUtcOffset=PW;Q.isUtc=dk;Q.isUTC=dk;Q.zoneAbbr=HH;Q.zoneName=GH;Q.dates=Gr("dates accessor is deprecated. Use date instead.",Ik);Q.months=Gr("months accessor is deprecated. Use month instead",ZO);Q.years=Gr("years accessor is deprecated. Use year instead",tk);Q.zone=Gr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",SW);Q.isDSTShifted=Gr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",kW);function YH(t){return gt(t*1e3)}function $H(){return gt.apply(null,arguments).parseZone()}function Ak(t){return t}var Je=V0.prototype;Je.calendar=PB;Je.longDateFormat=FB;Je.invalidDate=jB;Je.ordinal=qB;Je.preparse=Ak;Je.postformat=Ak;Je.relativeTime=HB;Je.pastFuture=GB;Je.set=kB;Je.eras=_H;Je.erasParse=wH;Je.erasConvertYear=bH;Je.erasAbbrRegex=CH;Je.erasNameRegex=AH;Je.erasNarrowRegex=NH;Je.months=sq;Je.monthsShort=aq;Je.monthsParse=cq;Je.monthsRegex=hq;Je.monthsShortRegex=fq;Je.week=vq;Je.firstDayOfYear=yq;Je.firstDayOfWeek=mq;Je.weekdays=Nq;Je.weekdaysMin=Oq;Je.weekdaysShort=Rq;Je.weekdaysParse=xq;Je.weekdaysRegex=Lq;Je.weekdaysShortRegex=Fq;Je.weekdaysMinRegex=Uq;Je.isPM=Vq;Je.meridiem=Wq;function Ap(t,e,n,r){var i=Oo(),s=Yi().set(r,e);return i[n](s,t)}function Ck(t,e,n){if(To(t)&&(e=t,t=void 0),t=t||"",e!=null)return Ap(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Ap(t,r,n,"month");return i}function nb(t,e,n,r){typeof t=="boolean"?(To(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,To(e)&&(n=e,e=void 0),e=e||"");var i=Oo(),s=t?i._week.dow:0,a,c=[];if(n!=null)return Ap(e,(n+s)%7,r,"day");for(a=0;a<7;a++)c[a]=Ap(e,(a+s)%7,r,"day");return c}function zH(t,e){return Ck(t,e,"months")}function KH(t,e){return Ck(t,e,"monthsShort")}function QH(t,e,n){return nb(t,e,n,"weekdays")}function XH(t,e,n){return nb(t,e,n,"weekdaysShort")}function JH(t,e,n){return nb(t,e,n,"weekdaysMin")}fs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Me(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ie.lang=Gr("moment.lang is deprecated. Use moment.locale instead.",fs);ie.langData=Gr("moment.langData is deprecated. Use moment.localeData instead.",Oo);var oo=Math.abs;function ZH(){var t=this._data;return this._milliseconds=oo(this._milliseconds),this._days=oo(this._days),this._months=oo(this._months),t.milliseconds=oo(t.milliseconds),t.seconds=oo(t.seconds),t.minutes=oo(t.minutes),t.hours=oo(t.hours),t.months=oo(t.months),t.years=oo(t.years),this}function Nk(t,e,n,r){var i=_i(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function eG(t,e){return Nk(this,t,e,1)}function tG(t,e){return Nk(this,t,e,-1)}function KA(t){return t<0?Math.floor(t):Math.ceil(t)}function nG(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,a,c,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=KA(bw(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Fr(t/1e3),r.seconds=i%60,s=Fr(i/60),r.minutes=s%60,a=Fr(s/60),r.hours=a%24,e+=Fr(a/24),l=Fr(Rk(e)),n+=l,e-=KA(bw(l)),c=Fr(n/12),n%=12,r.days=e,r.months=n,r.years=c,this}function Rk(t){return t*4800/146097}function bw(t){return t*146097/4800}function rG(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=Yr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+Rk(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(bw(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function iG(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Me(this._months/12)*31536e6:NaN}function ko(t){return function(){return this.as(t)}}var oG=ko("ms"),sG=ko("s"),aG=ko("m"),uG=ko("h"),cG=ko("d"),lG=ko("w"),fG=ko("M"),hG=ko("Q"),dG=ko("y");function pG(){return _i(this)}function vG(t){return t=Yr(t),this.isValid()?this[t+"s"]():NaN}function Da(t){return function(){return this.isValid()?this._data[t]:NaN}}var gG=Da("milliseconds"),mG=Da("seconds"),yG=Da("minutes"),_G=Da("hours"),wG=Da("days"),bG=Da("months"),EG=Da("years");function TG(){return Fr(this.days()/7)}var co=Math.round,ku={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function IG(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function SG(t,e,n,r){var i=_i(t).abs(),s=co(i.as("s")),a=co(i.as("m")),c=co(i.as("h")),l=co(i.as("d")),h=co(i.as("M")),d=co(i.as("w")),v=co(i.as("y")),m=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||c<=1&&["h"]||c<n.h&&["hh",c]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(m=m||d<=1&&["w"]||d<n.w&&["ww",d]),m=m||h<=1&&["M"]||h<n.M&&["MM",h]||v<=1&&["y"]||["yy",v],m[2]=e,m[3]=+t>0,m[4]=r,IG.apply(null,m)}function AG(t){return t===void 0?co:typeof t=="function"?(co=t,!0):!1}function CG(t,e){return ku[t]===void 0?!1:e===void 0?ku[t]:(ku[t]=e,t==="s"&&(ku.ss=e-1),!0)}function NG(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=ku,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},ku,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=SG(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var s_=Math.abs;function mu(t){return(t>0)-(t<0)||+t}function Fv(){if(!this.isValid())return this.localeData().invalidDate();var t=s_(this._milliseconds)/1e3,e=s_(this._days),n=s_(this._months),r,i,s,a,c=this.asSeconds(),l,h,d,v;return c?(r=Fr(t/60),i=Fr(r/60),t%=60,r%=60,s=Fr(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=c<0?"-":"",h=mu(this._months)!==mu(c)?"-":"",d=mu(this._days)!==mu(c)?"-":"",v=mu(this._milliseconds)!==mu(c)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?v+i+"H":"")+(r?v+r+"M":"")+(t?v+a+"S":"")):"P0D"}var We=Mv.prototype;We.isValid=wW;We.abs=ZH;We.add=eG;We.subtract=tG;We.as=rG;We.asMilliseconds=oG;We.asSeconds=sG;We.asMinutes=aG;We.asHours=uG;We.asDays=cG;We.asWeeks=lG;We.asMonths=fG;We.asQuarters=hG;We.asYears=dG;We.valueOf=iG;We._bubble=nG;We.clone=pG;We.get=vG;We.milliseconds=gG;We.seconds=mG;We.minutes=yG;We.hours=_G;We.days=wG;We.weeks=TG;We.months=bG;We.years=EG;We.humanize=NG;We.toISOString=Fv;We.toString=Fv;We.toJSON=Fv;We.locale=mk;We.localeData=_k;We.toIsoString=Gr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fv);We.lang=yk;_e("X",0,0,"unix");_e("x",0,0,"valueOf");se("x",kv);se("X",QB);lt("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});lt("x",function(t,e,n){n._d=new Date(Me(t))});//! moment.js
ie.version="2.29.4";RB(gt);ie.fn=Q;ie.min=gW;ie.max=mW;ie.now=yW;ie.utc=Yi;ie.unix=YH;ie.months=zH;ie.isDate=Xf;ie.locale=fs;ie.invalid=Av;ie.duration=_i;ie.isMoment=mi;ie.weekdays=QH;ie.parseZone=$H;ie.localeData=Oo;ie.isDuration=tp;ie.monthsShort=KH;ie.weekdaysMin=JH;ie.defineLocale=z0;ie.updateLocale=$q;ie.locales=zq;ie.weekdaysShort=XH;ie.normalizeUnits=Yr;ie.relativeTimeRounding=AG;ie.relativeTimeThreshold=CG;ie.calendarFormat=WW;ie.prototype=Q;ie.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const RG={props:["currentUser","tweet"],setup(){return{moment:ie}}},OG={class:"flex px-3 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer"},kG=["src"],xG={class:"ml-3 flex-1 flex flex-col space-y-1"},PG={class:"text-sm space-x-1"},DG={class:"font-bold"},MG=W("span",{class:"text-gray-500 text-xs"},"@",-1),LG=W("span",null,"•",-1),FG={class:"text-gray-500 text-xs"},UG={class:"flex justify-between"},jG={class:"text-gray-500 hover:text-primary"},VG=W("i",{class:"far fa-comment hover:bg-blue-50 rounded-full p-2"},null,-1),BG={class:"ml-1 text-sm"},qG={class:"text-gray-500 hover:text-green-500"},WG=W("i",{class:"fa fa-retweet hover:bg-green-50 rounded-full p-2"},null,-1),HG={class:"ml-1 text-sm"},GG={class:"text-gray-500 hover:text-red-500"},YG=W("i",{class:"far fa-heart hover:bg-red-50 rounded-full p-2"},null,-1),$G={class:"ml-1 text-sm"},zG=W("div",{class:"text-gray-500 hover:text-primary"},[W("i",{class:"far fa-share-square hover:bg-blue-50 rounded-full p-2"})],-1);function KG(t,e,n,r,i,s){return Ze(),vt("div",OG,[W("img",{src:n.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,kG),W("div",xG,[W("div",PG,[W("span",DG,Lr(n.tweet.uid),1),MG,LG,W("span",FG,Lr(r.moment(n.tweet.created_at).fromNow()),1)]),W("div",null,Lr(n.tweet.tweet_body),1),W("div",UG,[W("div",jG,[VG,W("span",BG,Lr(n.tweet.num_comments),1)]),W("div",qG,[WG,W("span",HG,Lr(n.tweet.num_retweets),1)]),W("div",GG,[YG,W("span",$G,Lr(n.tweet.num_likes),1)]),zG])])])}const Ok=Hr(RG,[["render",KG]]);/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var QG="store";function kc(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function XG(t){return t!==null&&typeof t=="object"}function JG(t){return t&&typeof t.then=="function"}function ZG(t,e){return function(){return t(e)}}function kk(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function xk(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Uv(t,n,[],t._modules.root,!0),rb(t,n,e)}function rb(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};kc(i,function(a,c){s[c]=ZG(a,t),Object.defineProperty(t.getters,c,{get:function(){return s[c]()},enumerable:!0})}),t._state=Qf({data:e}),t.strict&&iY(t),r&&n&&t._withCommit(function(){r.data=null})}function Uv(t,e,n,r,i){var s=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!s&&!i){var c=ib(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){c[l]=r.state})}var h=r.context=eY(t,a,n);r.forEachMutation(function(d,v){var m=a+v;tY(t,m,d,h)}),r.forEachAction(function(d,v){var m=d.root?v:a+v,y=d.handler||d;nY(t,m,y,h)}),r.forEachGetter(function(d,v){var m=a+v;rY(t,m,d,h)}),r.forEachChild(function(d,v){Uv(t,e,n.concat(v),d,i)})}function eY(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,a,c){var l=Cp(s,a,c),h=l.payload,d=l.options,v=l.type;return(!d||!d.root)&&(v=e+v),t.dispatch(v,h)},commit:r?t.commit:function(s,a,c){var l=Cp(s,a,c),h=l.payload,d=l.options,v=l.type;(!d||!d.root)&&(v=e+v),t.commit(v,h,d)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return Pk(t,e)}},state:{get:function(){return ib(t.state,n)}}}),i}function Pk(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function tY(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){n.call(t,r.state,a)})}function nY(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var c=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},a);return JG(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):c})}function rY(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function iY(t){Vu(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function ib(t,e){return e.reduce(function(n,r){return n[r]},t)}function Cp(t,e,n){return XG(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var oY="vuex bindings",QA="vuex:mutations",a_="vuex:actions",yu="vuex",sY=0;function aY(t,e){l3({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[oY]},function(n){n.addTimelineLayer({id:QA,label:"Vuex Mutations",color:XA}),n.addTimelineLayer({id:a_,label:"Vuex Actions",color:XA}),n.addInspector({id:yu,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===yu)if(r.filter){var i=[];Fk(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Lk(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===yu){var i=r.nodeId;Pk(e,i),r.state=lY(hY(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===yu){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(yu),n.sendInspectorState(yu),n.addTimelineEvent({layerId:QA,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=sY++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:a_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:a_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var XA=8702998,uY=6710886,cY=16777215,Dk={label:"namespaced",textColor:cY,backgroundColor:uY};function Mk(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Lk(t,e){return{id:e||"root",label:Mk(e),tags:t.namespaced?[Dk]:[],children:Object.keys(t._children).map(function(n){return Lk(t._children[n],e+n+"/")})}}function Fk(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[Dk]:[]}),Object.keys(e._children).forEach(function(i){Fk(t,e._children[i],n,r+i+"/")})}function lY(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(r.length){var s=fY(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?Mk(a):a,editable:!1,value:Ew(function(){return s[a]})}})}return i}function fY(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=Ew(function(){return t[n]})}else e[n]=Ew(function(){return t[n]})}),e}function hY(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function Ew(t){try{return t()}catch(e){return e}}var wi=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Uk={namespaced:{configurable:!0}};Uk.namespaced.get=function(){return!!this._rawModule.namespaced};wi.prototype.addChild=function(e,n){this._children[e]=n};wi.prototype.removeChild=function(e){delete this._children[e]};wi.prototype.getChild=function(e){return this._children[e]};wi.prototype.hasChild=function(e){return e in this._children};wi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};wi.prototype.forEachChild=function(e){kc(this._children,e)};wi.prototype.forEachGetter=function(e){this._rawModule.getters&&kc(this._rawModule.getters,e)};wi.prototype.forEachAction=function(e){this._rawModule.actions&&kc(this._rawModule.actions,e)};wi.prototype.forEachMutation=function(e){this._rawModule.mutations&&kc(this._rawModule.mutations,e)};Object.defineProperties(wi.prototype,Uk);var Ma=function(e){this.register([],e,!1)};Ma.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ma.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ma.prototype.update=function(e){jk([],this.root,e)};Ma.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new wi(n,r);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&kc(n.modules,function(c,l){i.register(e.concat(l),c,r)})};Ma.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Ma.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function jk(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;jk(t.concat(r),e.getChild(r),n.modules[r])}}function dY(t){return new pr(t)}var pr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ma(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var a=this,c=this,l=c.dispatch,h=c.commit;this.dispatch=function(m,y){return l.call(a,m,y)},this.commit=function(m,y,b){return h.call(a,m,y,b)},this.strict=i;var d=this._modules.root.state;Uv(this,d,[],this._modules.root),rb(this,d),r.forEach(function(v){return v(n)})},ob={state:{configurable:!0}};pr.prototype.install=function(e,n){e.provide(n||QG,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&aY(e,this)};ob.state.get=function(){return this._state.data};ob.state.set=function(t){};pr.prototype.commit=function(e,n,r){var i=this,s=Cp(e,n,r),a=s.type,c=s.payload,l={type:a,payload:c},h=this._mutations[a];h&&(this._withCommit(function(){h.forEach(function(v){v(c)})}),this._subscribers.slice().forEach(function(d){return d(l,i.state)}))};pr.prototype.dispatch=function(e,n){var r=this,i=Cp(e,n),s=i.type,a=i.payload,c={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(d){return d(a)})):l[0](a);return new Promise(function(d,v){h.then(function(m){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(c,r.state)})}catch{}d(m)},function(m){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(c,r.state,m)})}catch{}v(m)})})}};pr.prototype.subscribe=function(e,n){return kk(e,this._subscribers,n)};pr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return kk(r,this._actionSubscribers,n)};pr.prototype.watch=function(e,n,r){var i=this;return Vu(function(){return e(i.state,i.getters)},n,Object.assign({},r))};pr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};pr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Uv(this,this.state,e,this._modules.get(e),r.preserveState),rb(this,this.state)};pr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=ib(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),xk(this)};pr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};pr.prototype.hotUpdate=function(e){this._modules.update(e),xk(this,!0)};pr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(pr.prototype,ob);var pY=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===vY}(e)}(t)},vY=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Yl(t,e){return e.clone!==!1&&e.isMergeableObject(t)?nc(Array.isArray(t)?[]:{},t,e):t}function gY(t,e,n){return t.concat(e).map(function(r){return Yl(r,n)})}function JA(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return e.propertyIsEnumerable(n)}):[]}(t))}function ZA(t,e){try{return e in t}catch{return!1}}function nc(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||gY,n.isMergeableObject=n.isMergeableObject||pY,n.cloneUnlessOtherwiseSpecified=Yl;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(i,s,a){var c={};return a.isMergeableObject(i)&&JA(i).forEach(function(l){c[l]=Yl(i[l],a)}),JA(s).forEach(function(l){(function(h,d){return ZA(h,d)&&!(Object.hasOwnProperty.call(h,d)&&Object.propertyIsEnumerable.call(h,d))})(i,l)||(c[l]=ZA(i,l)&&a.isMergeableObject(s[l])?function(h,d){if(!d.customMerge)return nc;var v=d.customMerge(h);return typeof v=="function"?v:nc}(l,a)(i[l],s[l],a):Yl(s[l],a))}),c}(t,e,n):Yl(e,n)}nc.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return nc(n,r,e)},{})};var mY=nc;function yY(t){var e=(t=t||{}).storage||window&&window.localStorage,n=t.key||"vuex";function r(d,v){var m=v.getItem(d);try{return typeof m=="string"?JSON.parse(m):typeof m=="object"?m:void 0}catch{}}function i(){return!0}function s(d,v,m){return m.setItem(d,JSON.stringify(v))}function a(d,v){return Array.isArray(v)?v.reduce(function(m,y){return function(T,C,x,D){return!/^(__proto__|constructor|prototype)$/.test(C)&&((C=C.split?C.split("."):C.slice(0)).slice(0,-1).reduce(function(F,X){return F[X]=F[X]||{}},T)[C.pop()]=x),T}(m,y,(b=d,(b=((E=y).split?E.split("."):E).reduce(function(T,C){return T&&T[C]},b))===void 0?void 0:b));var b,E},{}):d}function c(d){return function(v){return d.subscribe(v)}}(t.assertStorage||function(){e.setItem("@@",1),e.removeItem("@@")})(e);var l,h=function(){return(t.getState||r)(n,e)};return t.fetchBeforeUse&&(l=h()),function(d){t.fetchBeforeUse||(l=h()),typeof l=="object"&&l!==null&&(d.replaceState(t.overwrite?l:mY(d.state,l,{arrayMerge:t.arrayMerger||function(v,m){return m},clone:!1})),(t.rehydrated||function(){})(d)),(t.subscriber||c)(d)(function(v,m){(t.filter||i)(v)&&(t.setState||s)(n,(t.reducer||a)(m,t.paths),e)})}}const rc=dY({state(){return{user:null}},mutations:{SET_USER:(t,e)=>{t.user=e}},plugins:[yY()]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tw=function(t,e){return Tw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Tw(t,e)};function ee(t,e){Tw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ft=function(){return ft=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ft.apply(this,arguments)};function R(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(t,e||[])).next())})}function N(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ft(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ef(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function xo(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ef(arguments[e]));return t}function Vt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(t,e){if(!t)throw xc(e)},xc=function(t){return new Error("Firebase Database ("+Vk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bk=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_Y=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{var s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,m=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(m=64)),r.push(n[d],n[v],n[m],n[y])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Bk(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_Y(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],a=i<t.length,c=a?n[t.charAt(i)]:0;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;++i;var d=i<t.length,v=d?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var m=s<<2|c>>4;if(r.push(m),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var b=h<<6&192|v;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},wY=function(t){var e=Bk(t);return sb.encodeByteArray(e,!0)},eC=function(t){try{return sb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){return Tf(void 0,t)}function Tf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!bY(r)||(t[r]=Tf(t[r],e[r]));return t}function bY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ab(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ta())}function EY(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TY(){return typeof self=="object"&&self.self===self}function ub(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IY(){return Ta().indexOf("Electron/")>=0}function SY(){var t=Ta();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AY(){return Ta().indexOf("MSAppHost/")>=0}function Hk(){return Vk.NODE_ADMIN===!0}function cb(){return"indexedDB"in self&&indexedDB!=null}function lb(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){e(s)}})}function Gk(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CY="FirebaseError",Pc=function(t){ee(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name=CY,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ts.prototype.create),s}return e}(Error),Ts=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+e,a=this.errors[e],c=a?NY(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Pc(s,l,i);return h},t}();function NY(t,e){return t.replace(RY,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var RY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return JSON.parse(t)}function Jt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yk=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=If(eC(s[0])||""),n=If(eC(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},OY=function(t){var e=Yk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},kY=function(t){var e=Yk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function si(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Iw(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Np(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(t){for(var e=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){e.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PY=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),m=1518500249):(v=c^l^h,m=1859775393):i<60?(v=c&l|h&(c|l),m=2400959708):(v=c^l^h,m=3395469782);var s=(a<<5|a>>>27)+v+d+m+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e},t}();function DY(t,e){var n=new MY(t,e);return n.subscribe.bind(n)}var MY=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LY(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=u_),s.error===void 0&&(s.error=u_),s.complete===void 0&&(s.complete=u_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function LY(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function u_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function qr(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function fn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(qr(t,e,r)+"must be a valid function.")}function tC(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(qr(t,e,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FY=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rp=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UY=1e3,jY=2,VY=4*60*60*1e3,BY=.5;function Sw(t,e,n){e===void 0&&(e=UY),n===void 0&&(n=jY);var r=e*Math.pow(n,t),i=Math.round(BY*r*(Math.random()-.5)*2);return Math.min(VY,r+i)}var dr=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $k=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(e){e===void 0&&(e=Cu);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new ar;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=ft({identifier:Cu,optional:!1},e),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(c){if(i)return null;throw c}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,WY(e))try{this.getOrInitializeService(Cu)}catch{}try{for(var i=Ft(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Ef(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService(h);l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Cu),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(xo(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.getOrInitializeService=function(e){var n=this.instances.get(e);return!n&&this.component&&(n=this.component.instanceFactory(this.container,qY(e)),this.instances.set(e,n)),n||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Cu:e},t}();function qY(t){return t===Cu?void 0:t}function WY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zk=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new $k(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ei(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zs,fb=[],De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));var Kk={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},HY=De.INFO,GY=(Zs={},Zs[De.DEBUG]="log",Zs[De.VERBOSE]="log",Zs[De.INFO]="info",Zs[De.WARN]="warn",Zs[De.ERROR]="error",Zs),YY=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),s=GY[e];if(s)console[s].apply(console,ei(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Dc=function(){function t(e){this.name=e,this._logLevel=HY,this._logHandler=YY,this._userLogHandler=null,fb.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in De))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?Kk[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,De.DEBUG],e)),this._logHandler.apply(this,ei([this,De.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,De.VERBOSE],e)),this._logHandler.apply(this,ei([this,De.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,De.INFO],e)),this._logHandler.apply(this,ei([this,De.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,De.WARN],e)),this._logHandler.apply(this,ei([this,De.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,De.ERROR],e)),this._logHandler.apply(this,ei([this,De.ERROR],e))},t}();function $Y(t){fb.forEach(function(e){e.setLogLevel(t)})}function zY(t,e){for(var n=function(a){var c=null;e&&e.level&&(c=Kk[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var m=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&t({level:De[h].toLowerCase(),message:m,args:d,type:l.name})}},r=0,i=fb;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yo,KY=(Yo={},Yo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Yo["bad-app-name"]="Illegal App name: '{$appName}",Yo["duplicate-app"]="Firebase App named '{$appName}' already exists",Yo["app-deleted"]="Firebase App named '{$appName}' already deleted",Yo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Yo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Yo),Nu=new Ts("app","Firebase",KY),Qk="@firebase/app",QY="0.6.14",XY="@firebase/analytics",JY="@firebase/auth",ZY="@firebase/database",e$="@firebase/functions",t$="@firebase/installations",n$="@firebase/messaging",r$="@firebase/performance",i$="@firebase/remote-config",o$="@firebase/storage",s$="@firebase/firestore",a$="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn,Rp="[DEFAULT]",u$=(Bn={},Bn[Qk]="fire-core",Bn[XY]="fire-analytics",Bn[JY]="fire-auth",Bn[ZY]="fire-rtdb",Bn[e$]="fire-fn",Bn[t$]="fire-iid",Bn[n$]="fire-fcm",Bn[r$]="fire-perf",Bn[i$]="fire-rc",Bn[o$]="fire-gcs",Bn[s$]="fire-fst",Bn["fire-js"]="fire-js",Bn[a$]="fire-js-all",Bn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic=new Dc("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip=function(){function t(e,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=qk(e),this.container=new zk(n.name),this._addComponent(new dr("app",function(){return a},"PUBLIC"));try{for(var c=Ft(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){return n===void 0&&(n=Rp),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Rp),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){ic.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Nu.create("app-deleted",{appName:this.name_})},t}();ip.prototype.name&&ip.prototype.options||ip.prototype.delete||console.log("dc");var c$="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l$(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:$Y,onLog:d,apps:null,SDK_VERSION:c$,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(m){delete e[m]}function s(m){if(m=m||Rp,!hr(e,m))throw Nu.create("no-app",{appName:m});return e[m]}s.App=t;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var E=y;E.name===void 0&&(E.name=Rp);var T=E.name;if(typeof T!="string"||!T)throw Nu.create("bad-app-name",{appName:String(T)});if(hr(e,T))throw Nu.create("duplicate-app",{appName:T});var C=new t(m,E,r);return e[T]=C,C}function c(){return Object.keys(e).map(function(m){return e[m]})}function l(m){var y,b,E=m.name;if(n.has(E))return ic.debug("There were multiple attempts to register component "+E+"."),m.type==="PUBLIC"?r[E]:null;if(n.set(E,m),m.type==="PUBLIC"){var T=function(F){if(F===void 0&&(F=s()),typeof F[E]!="function")throw Nu.create("invalid-app-argument",{appName:E});return F[E]()};m.serviceProps!==void 0&&Tf(T,m.serviceProps),r[E]=T,t.prototype[E]=function(){for(var F=[],X=0;X<arguments.length;X++)F[X]=arguments[X];var U=this._getService.bind(this,E);return U.apply(this,m.multipleInstances?F:[])}}try{for(var C=Ft(Object.keys(e)),x=C.next();!x.done;x=C.next()){var D=x.value;e[D]._addComponent(m)}}catch(F){y={error:F}}finally{try{x&&!x.done&&(b=C.return)&&b.call(C)}finally{if(y)throw y.error}}return m.type==="PUBLIC"?r[E]:null}function h(m,y,b){var E,T=(E=u$[m])!==null&&E!==void 0?E:m;b&&(T+="-"+b);var C=T.match(/\s|\//),x=y.match(/\s|\//);if(C||x){var D=['Unable to register library "'+T+'" with version "'+y+'":'];C&&D.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),C&&x&&D.push("and"),x&&D.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),ic.warn(D.join(" "));return}l(new dr(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function d(m,y){if(m!==null&&typeof m!="function")throw Nu.create("invalid-log-argument",{appName:name});zY(m,y)}function v(m,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(){var t=l$(ip);t.INTERNAL=ft(ft({},t.INTERNAL),{createFirebaseNamespace:Xk,extendNamespace:e,createSubscribe:DY,ErrorFactory:Ts,deepExtend:Tf});function e(n){Tf(t,n)}return t}var hb=Xk();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f$=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(h$(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function h$(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(t,e){t.INTERNAL.registerComponent(new dr("platform-logger",function(n){return new f$(n)},"PRIVATE")),t.registerVersion(Qk,QY,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(TY()&&self.firebase!==void 0){ic.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var nC=self.firebase.SDK_VERSION;nC&&nC.indexOf("LITE")>=0&&ic.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var p$=hb.initializeApp;hb.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return EY()&&ic.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),p$.apply(void 0,t)};var le=hb;d$(le);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var g=o[p];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(w){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{w(I.resolve,I.reject)}catch(L){I.reject(L)}}function f(){this.a=null}function p(w){return w instanceof u?w:new u(function(I){I(w)})}if(o)return o;f.prototype.b=function(w){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(w)};var g=r.setTimeout;f.prototype.c=function(w){g(w,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var I=0;I<w.length;++I){var L=w[I];w[I]=null;try{L()}catch(q){this.f(q)}}}this.a=null},f.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(q){return function(Se){L||(L=!0,q.call(I,Se))}}var I=this,L=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var I=w!=null;break e;case"function":I=!0;break e;default:I=!1}I?this.v(w):this.h(w)}},u.prototype.v=function(w){var I=void 0;try{I=w.then}catch(L){this.g(L);return}typeof I=="function"?this.u(I,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,I){if(this.b!=0)throw Error("Cannot settle("+w+", "+I+"): Promise already settled in state"+this.b);this.b=w,this.c=I,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)_.b(this.a[w]);this.a=null}};var _=new f;return u.prototype.s=function(w){var I=this.f();w.Qa(I.resolve,I.reject)},u.prototype.u=function(w,I){var L=this.f();try{w.call(I,L.resolve,L.reject)}catch(q){L.reject(q)}},u.prototype.then=function(w,I){function L(ze,cn){return typeof ze=="function"?function(ro){try{q(ze(ro))}catch(zy){Se(zy)}}:cn}var q,Se,nt=new u(function(ze,cn){q=ze,Se=cn});return this.Qa(L(w,q),L(I,Se)),nt},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Qa=function(w,I){function L(){switch(q.b){case 1:w(q.c);break;case 2:I(q.c);break;default:throw Error("Unexpected state: "+q.b)}}var q=this;this.a==null?_.b(L):this.a.push(L)},u.resolve=p,u.reject=function(w){return new u(function(I,L){L(w)})},u.race=function(w){return new u(function(I,L){for(var q=a(w),Se=q.next();!Se.done;Se=q.next())p(Se.value).Qa(I,L)})},u.all=function(w){var I=a(w),L=I.next();return L.done?p([]):new u(function(q,Se){function nt(ro){return function(zy){ze[ro]=zy,cn--,cn==0&&q(ze)}}var ze=[],cn=0;do ze.push(void 0),cn++,p(L.value).Qa(nt(ze.length-1),Se),L=I.next();while(!L.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function b(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function T(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function C(o){return Object.prototype.hasOwnProperty.call(o,x)&&o[x]||(o[x]=++D)}var x="closure_uid_"+(1e9*Math.random()>>>0),D=0;function F(o,u,f){return o.call.apply(o.bind,arguments)}function X(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function U(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=F:U=X,U.apply(null,arguments)}function Te(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}var tt=Date.now;function de(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function vn(o){return o}function O(o,u,f){this.code=In+o,this.message=u||Rs[o]||"",this.a=f||null}de(O,Error),O.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},O.prototype.toJSON=function(){return this.w()};function bi(o){var u=o&&o.code;return u?new O(u.substring(In.length),o.message,o.serverResponse):null}var In="auth/",Rs={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ei={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function yt(o){for(var u in Ei)if(Ei[u].id===o)return o=Ei[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var He;He=yt("__EID__")?"__EID__":void 0;function Ge(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function St(o){if(Error.captureStackTrace)Error.captureStackTrace(this,St);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}de(St,Error),St.prototype.name="CustomError";function Or(o,u){o=o.split("%s");for(var f="",p=o.length-1,g=0;g<p;g++)f+=o[g]+(g<u.length?u[g]:"%s");St.call(this,f+o[p])}de(Or,St),Or.prototype.name="AssertionError";function gn(o,u){throw new Or("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function sn(o,u){this.c=o,this.f=u,this.b=0,this.a=null}sn.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function Qi(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Xi(){this.b=this.a=null}var Os=new sn(function(){return new j},function(o){o.reset()});Xi.prototype.add=function(o,u){var f=Os.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function an(){var o=PT,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function j(){this.next=this.b=this.a=null}j.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var oe=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},H=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in g&&u.call(f,g[_],_,o)};function pe(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var $e=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],g=0,_=typeof o=="string"?o.split(""):o,w=0;w<f;w++)if(w in _){var I=_[w];u.call(void 0,I,w,o)&&(p[g++]=I)}return p},S=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(p[_]=u.call(void 0,g[_],_,o));return p},A=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o))return!0;return!1};function k(o){e:{for(var u=v2,f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function M(o,u){return 0<=oe(o,u)}function V(o,u){u=oe(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function B(o,u){var f=0;pe(o,function(p,g){u.call(void 0,p,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function ne(o){return Array.prototype.concat.apply([],arguments)}function z(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var Z=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Y=/&/g,ge=/</g,ce=/>/g,me=/"/g,Ie=/'/g,Pe=/\x00/g,st=/[\x00&<>"']/;function ye(o,u){return o.indexOf(u)!=-1}function _t(o,u){return o<u?-1:o>u?1:0}var un;e:{var Ji=l.navigator;if(Ji){var $c=Ji.userAgent;if($c){un=$c;break e}}un=""}function ht(o){return ye(un,o)}function zc(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function xt(o){for(var u in o)return!1;return!0}function zt(o){var u={},f;for(f in o)u[f]=o[f];return u}var Kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zn(o,u){for(var f,p,g=1;g<arguments.length;g++){p=arguments[g];for(f in p)o[f]=p[f];for(var _=0;_<Kc.length;_++)f=Kc[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function dT(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var g=p;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(T(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;gn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Ti(o,u){this.a=o===Sh&&u||"",this.b=pT}Ti.prototype.sa=!0,Ti.prototype.ra=function(){return this.a},Ti.prototype.toString=function(){return"Const{"+this.a+"}"};function Tg(o){return o instanceof Ti&&o.constructor===Ti&&o.b===pT?o.a:(gn("expected object of type Const, got '"+o+"'"),"type_error:Const")}var pT={},Sh={},Ah;function vT(){if(Ah===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:vn,createScript:vn,createScriptURL:vn})}catch(f){l.console&&l.console.error(f.message)}Ah=o}else Ah=o}return Ah}function Ga(o,u){this.a=u===mT?o:""}Ga.prototype.sa=!0,Ga.prototype.ra=function(){return this.a.toString()},Ga.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function gT(o){return o instanceof Ga&&o.constructor===Ga?o.a:(gn("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Ig(o,u){var f=Tg(o);if(!GL.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(HL,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof Ti?Tg(p):encodeURIComponent(String(p))}),YL(o)}var HL=/%{(\w+)}/g,GL=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,mT={};function YL(o){var u=vT();return o=u?u.createScriptURL(o):o,new Ga(o,mT)}function er(o,u){this.a=u===Qc?o:""}er.prototype.sa=!0,er.prototype.ra=function(){return this.a.toString()},er.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ch(o){return o instanceof er&&o.constructor===er?o.a:(gn("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var $L=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,zL=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,yT=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function _T(o){if(o instanceof er)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),yT.test(o))o=new er(o,Qc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(zL);o=u&&$L.test(u[1])?new er(o,Qc):null}return o}function wT(o){return o instanceof er?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),yT.test(o)||(o="about:invalid#zClosurez"),new er(o,Qc))}var Qc={},bT=new er("about:invalid#zClosurez",Qc);function Ya(o,u,f){this.a=f===ET?o:""}Ya.prototype.sa=!0,Ya.prototype.ra=function(){return this.a.toString()},Ya.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function KL(o){return o instanceof Ya&&o.constructor===Ya?o.a:(gn("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var ET={};function QL(o,u){dT(o,"HTMLScriptElement"),o.src=gT(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function TT(o,u,f,p){return o=o instanceof er?o:wT(o),u=u||l,f=f instanceof Ti?Tg(f):f||"",u.open(Ch(o),f,p,void 0)}function IT(o,u){for(var f=o.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)p+=f.shift()+g.shift();return p+f.join("%s")}function Sg(o){return st.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(Y,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(ge,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(ce,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(me,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Ie,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Pe,"&#0;"))),o}function Ag(o){return Ag[" "](o),o}Ag[" "]=m;function XL(o,u){var f=tF;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var JL=ht("Opera"),$r=ht("Trident")||ht("MSIE"),ST=ht("Edge"),ZL=ST||$r,AT=ht("Gecko")&&!(ye(un.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),eF=ye(un.toLowerCase(),"webkit")&&!ht("Edge");function CT(){var o=l.document;return o?o.documentMode:void 0}var Nh;e:{var Cg="",Ng=function(){var o=un;if(AT)return/rv:([^\);]+)(\)|;)/.exec(o);if(ST)return/Edge\/([\d\.]+)/.exec(o);if($r)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(eF)return/WebKit\/(\S+)/.exec(o);if(JL)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Ng&&(Cg=Ng?Ng[1]:""),$r){var Rg=CT();if(Rg!=null&&Rg>parseFloat(Cg)){Nh=String(Rg);break e}}Nh=Cg}var tF={};function NT(o){return XL(o,function(){for(var u=0,f=Z(String(Nh)).split("."),p=Z(String(o)).split("."),g=Math.max(f.length,p.length),_=0;u==0&&_<g;_++){var w=f[_]||"",I=p[_]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],w[0].length==0&&I[0].length==0)break;u=_t(w[1].length==0?0:parseInt(w[1],10),I[1].length==0?0:parseInt(I[1],10))||_t(w[2].length==0,I[2].length==0)||_t(w[2],I[2]),w=w[3],I=I[3]}while(u==0)}return 0<=u})}var Og;if(l.document&&$r){var RT=CT();Og=RT||parseInt(Nh,10)||void 0}else Og=void 0;var Lo=Og;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var nF=!$r||9<=Number(Lo);function Xc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function OT(o,u){zc(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:kT.hasOwnProperty(p)?o.setAttribute(kT[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var kT={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function rF(o,u,f){var p=arguments,g=document,_=String(p[0]),w=p[1];if(!nF&&w&&(w.name||w.type)){if(_=["<",_],w.name&&_.push(' name="',Sg(w.name),'"'),w.type){_.push(' type="',Sg(w.type),'"');var I={};Zn(I,w),delete I.type,w=I}_.push(">"),_=_.join("")}return _=Rh(g,_),w&&(typeof w=="string"?_.className=w:Array.isArray(w)?_.className=w.join(" "):OT(_,w)),2<p.length&&iF(g,_,p),_}function iF(o,u,f){function p(I){I&&u.appendChild(typeof I=="string"?o.createTextNode(I):I)}for(var g=2;g<f.length;g++){var _=f[g];if(!b(_)||T(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(T(_)){var w=typeof _.item=="function"||typeof _.item=="string";break e}if(E(_)){w=typeof _.item=="function";break e}}w=!1}H(w?z(_):_,p)}}}function Rh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function xT(o){l.setTimeout(function(){throw o},0)}var kg;function oF(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(o=function(){var g=Rh(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var w="callImmediate"+Math.random(),I=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=U(function(L){(I=="*"||L.origin==I)&&L.data==w&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(w,I)}}}),typeof o<"u"&&!ht("Trident")&&!ht("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Gb;f.Gb=null,g()}},function(g){p.next={Gb:g},p=p.next,u.port2.postMessage(0)}}return function(g){l.setTimeout(g,0)}}function Oh(o,u){kh||sF(),xg||(kh(),xg=!0),PT.add(o,u)}var kh;function sF(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);kh=function(){o.then(DT)}}else kh=function(){var u=DT;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!ht("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(kg||(kg=oF()),kg(u)):l.setImmediate(u)}}var xg=!1,PT=new Xi;function DT(){for(var o;o=an();){try{o.a.call(o.b)}catch(u){xT(u)}Qi(Os,o)}xg=!1}function Fe(o,u){if(this.a=ks,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(p){xs(f,Jc,p)},function(p){if(!(p instanceof $a))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}xs(f,Zi,p)})}catch(p){xs(this,Zi,p)}}var ks=0,Jc=2,Zi=3;function MT(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}MT.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var LT=new sn(function(){return new MT},function(o){o.reset()});function Pg(o,u,f){var p=LT.get();return p.g=o,p.b=u,p.f=f,p}function we(o){if(o instanceof Fe)return o;var u=new Fe(m);return xs(u,Jc,o),u}function wt(o){return new Fe(function(u,f){f(o)})}function FT(o,u,f){BT(o,u,f,null)||Oh(Te(u,o))}function aF(o){return new Fe(function(u,f){var p=o.length,g=[];if(p)for(var _=function(q,Se){p--,g[q]=Se,p==0&&u(g)},w=function(q){f(q)},I=0,L;I<o.length;I++)L=o[I],FT(L,Te(_,I),w);else u(g)})}function UT(o){return new Fe(function(u){var f=o.length,p=[];if(f)for(var g=function(I,L,q){f--,p[I]=L?{Pb:!0,value:q}:{Pb:!1,reason:q},f==0&&u(p)},_=0,w;_<o.length;_++)w=o[_],FT(w,Te(g,_,!0),Te(g,_,!1));else u(p)})}Fe.prototype.then=function(o,u,f){return VT(this,E(o)?o:null,E(u)?u:null,f)},Fe.prototype.$goog_Thenable=!0,t=Fe.prototype,t.oa=function(o,u){return o=Pg(o,o,u),o.c=!0,Dg(this,o),this},t.o=function(o,u){return VT(this,null,o,u)},t.cancel=function(o){if(this.a==ks){var u=new $a(o);Oh(function(){jT(this,u)},this)}};function jT(o,u){if(o.a==ks)if(o.c){var f=o.c;if(f.b){for(var p=0,g=null,_=null,w=f.b;w&&(w.c||(p++,w.a==o&&(g=w),!(g&&1<p)));w=w.next)g||(_=w);g&&(f.a==ks&&p==1?jT(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):WT(f),HT(f,g,Zi,u)))}o.c=null}else xs(o,Zi,u)}function Dg(o,u){o.b||o.a!=Jc&&o.a!=Zi||qT(o),o.f?o.f.next=u:o.b=u,o.f=u}function VT(o,u,f,p){var g=Pg(null,null,null);return g.a=new Fe(function(_,w){g.g=u?function(I){try{var L=u.call(p,I);_(L)}catch(q){w(q)}}:_,g.b=f?function(I){try{var L=f.call(p,I);L===void 0&&I instanceof $a?w(I):_(L)}catch(q){w(q)}}:w}),g.a.c=o,Dg(o,g),g.a}t.$c=function(o){this.a=ks,xs(this,Jc,o)},t.ad=function(o){this.a=ks,xs(this,Zi,o)};function xs(o,u,f){o.a==ks&&(o===f&&(u=Zi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,BT(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,qT(o),u!=Zi||f instanceof $a||cF(o,f)))}function BT(o,u,f,p){if(o instanceof Fe)return Dg(o,Pg(u||m,f||null,p)),!0;if(Ge(o))return o.then(u,f,p),!0;if(T(o))try{var g=o.then;if(E(g))return uF(o,g,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function uF(o,u,f,p,g){function _(L){I||(I=!0,p.call(g,L))}function w(L){I||(I=!0,f.call(g,L))}var I=!1;try{u.call(o,w,_)}catch(L){_(L)}}function qT(o){o.h||(o.h=!0,Oh(o.gc,o))}function WT(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}t.gc=function(){for(var o;o=WT(this);)HT(this,o,this.a,this.i);this.h=!1};function HT(o,u,f,p){if(f==Zi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,GT(u,f,p);else try{u.c?u.g.call(u.f):GT(u,f,p)}catch(g){YT.call(null,g)}Qi(LT,u)}function GT(o,u,f){u==Jc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function cF(o,u){o.g=!0,Oh(function(){o.g&&YT.call(null,u)})}var YT=xT;function $a(o){St.call(this,o)}de($a,St),$a.prototype.name="cancel";function xh(){this.xa=this.xa,this.pa=this.pa}var lF=0;xh.prototype.xa=!1;function $T(o){!o.xa&&(o.xa=!0,o.Da(),lF!=0)&&C(o)}xh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var fF=Object.freeze||function(o){return o},zT=!$r||9<=Number(Lo),hF=$r&&!NT("9"),dF=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",m,u),l.removeEventListener("test",m,u)}catch{}return o}();function tr(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}tr.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ps(o,u){if(tr.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(AT){e:{try{Ag(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pF[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}de(Ps,tr);var pF=fF({2:"touch",3:"pen",4:"mouse"});Ps.prototype.preventDefault=function(){Ps.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,hF)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Ps.prototype.g=function(){return this.a};var Zc="closure_listenable_"+(1e6*Math.random()|0),vF=0;function gF(o,u,f,p,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Va=g,this.key=++vF,this.va=this.Pa=!1}function Ph(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function Dh(o){this.src=o,this.a={},this.b=0}Dh.prototype.add=function(o,u,f,p,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var w=Lg(o,u,p,g);return-1<w?(u=o[w],f||(u.Pa=!1)):(u=new gF(u,this.src,_,!!p,g),u.Pa=f,o.push(u)),u};function Mg(o,u){var f=u.type;f in o.a&&V(o.a[f],u)&&(Ph(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Lg(o,u,f,p){for(var g=0;g<o.length;++g){var _=o[g];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==p)return g}return-1}var Fg="closure_lm_"+(1e6*Math.random()|0),Ug={};function kr(o,u,f,p,g){if(p&&p.once)jg(o,u,f,p,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)kr(o,u[_],f,p,g);else f=Bg(f),o&&o[Zc]?eI(o,u,f,T(p)?!!p.capture:!!p,g):KT(o,u,f,!1,p,g)}function KT(o,u,f,p,g,_){if(!u)throw Error("Invalid event type");var w=T(g)?!!g.capture:!!g,I=Mh(o);if(I||(o[Fg]=I=new Dh(o)),f=I.add(u,f,p,w,_),!f.proxy)if(p=mF(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)dF||(g=w),g===void 0&&(g=!1),o.addEventListener(u.toString(),p,g);else if(o.attachEvent)o.attachEvent(XT(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function mF(){var o=yF,u=zT?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function jg(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)jg(o,u[_],f,p,g);else f=Bg(f),o&&o[Zc]?qg(o,u,f,T(p)?!!p.capture:!!p,g):KT(o,u,f,!0,p,g)}function gr(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)gr(o,u[_],f,p,g);else p=T(p)?!!p.capture:!!p,f=Bg(f),o&&o[Zc]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Lg(_,f,p,g),-1<f&&(Ph(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Mh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Lg(u,f,p,g)),(f=-1<o?u[o]:null)&&QT(f))}function QT(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[Zc])Mg(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(XT(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Mh(u))?(Mg(f,o),f.b==0&&(f.src=null,u[Fg]=null)):Ph(o)}}}function XT(o){return o in Ug?Ug[o]:Ug[o]="on"+o}function JT(o,u,f,p){var g=!0;if((o=Mh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=ZT(_,p),g=g&&_!==!1)}return g}function ZT(o,u){var f=o.listener,p=o.Va||o.src;return o.Pa&&QT(o),f.call(p,u)}function yF(o,u){if(o.va)return!0;if(!zT){if(!u)e:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new Ps(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(o=o.type,g=p.length-1;0<=g;g--){u.b=p[g];var _=JT(p[g],o,!0,u);f=f&&_}for(g=0;g<p.length;g++)u.b=p[g],_=JT(p[g],o,!1,u),f=f&&_}return f}return ZT(o,new Ps(u,this))}function Mh(o){return o=o[Fg],o instanceof Dh?o:null}var Vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bg(o){return E(o)?o:(o[Vg]||(o[Vg]=function(u){return o.handleEvent(u)}),o[Vg])}function jn(){xh.call(this),this.v=new Dh(this),this.ac=this,this.gb=null}de(jn,xh),jn.prototype[Zc]=!0,jn.prototype.addEventListener=function(o,u,f,p){kr(this,o,u,f,p)},jn.prototype.removeEventListener=function(o,u,f,p){gr(this,o,u,f,p)},jn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var p=o.type||o;if(typeof o=="string")o=new tr(o,f);else if(o instanceof tr)o.target=o.target||f;else{var g=o;o=new tr(p,f),Zn(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var w=o.b=u[_];g=Lh(w,p,!0,o)&&g}if(w=o.b=f,g=Lh(w,p,!0,o)&&g,g=Lh(w,p,!1,o)&&g,u)for(_=0;_<u.length;_++)w=o.b=u[_],g=Lh(w,p,!1,o)&&g;return g},jn.prototype.Da=function(){if(jn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Ph(f[p]);delete o.a[u],o.b--}}this.gb=null};function eI(o,u,f,p,g){o.v.add(String(u),f,!1,p,g)}function qg(o,u,f,p,g){o.v.add(String(u),f,!0,p,g)}function Lh(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var w=u[_];if(w&&!w.va&&w.capture==f){var I=w.listener,L=w.Va||w.src;w.Pa&&Mg(o.v,w),g=I.call(L,p)!==!1&&g}}return g&&!p.defaultPrevented}function Wg(o,u,f){if(E(o))f&&(o=U(o,f));else if(o&&typeof o.handleEvent=="function")o=U(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function za(o){var u=null;return new Fe(function(f,p){u=Wg(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function tI(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(b(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function nI(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(b(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function _F(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(b(o)||typeof o=="string")H(o,u,void 0);else for(var f=nI(o),p=tI(o),g=p.length,_=0;_<g;_++)u.call(void 0,p[_],f&&f[_],o)}function Ka(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Ka)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}t=Ka.prototype,t.W=function(){Hg(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},t.Y=function(){return Hg(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Hg(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];Ds(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)p=o.a[u],Ds(g,p)||(o.a[f++]=p,g[p]=1),u++;o.a.length=f}}t.get=function(o,u){return Ds(this.b,o)?this.b[o]:u},t.set=function(o,u){Ds(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},t.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var g=f[p],_=this.get(g);o.call(u,_,g,this)}};function Ds(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var rI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wF(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),g=null;if(0<=p){var _=o[f].substring(0,p);g=o[f].substring(p+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Fo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Fo?(this.i=u!==void 0?u:o.i,el(this,o.c),this.l=o.l,this.a=o.a,tl(this,o.g),this.f=o.f,Gg(this,aI(o.b)),this.h=o.h):o&&(f=String(o).match(rI))?(this.i=!!u,el(this,f[1]||"",!0),this.l=nl(f[2]||""),this.a=nl(f[3]||"",!0),tl(this,f[4]),this.f=nl(f[5]||"",!0),Gg(this,f[6]||"",!0),this.h=nl(f[7]||"")):(this.i=!!u,this.b=new Ms(null,this.i))}Fo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(rl(u,iI,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(rl(u,iI,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(rl(f,f.charAt(0)=="/"?TF:EF,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",rl(f,SF)),o.join("")},Fo.prototype.resolve=function(o){var u=new Fo(this),f=!!o.c;f?el(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)tl(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(ye(g,"./")||ye(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],w=0;w<g.length;){var I=g[w++];I=="."?p&&w==g.length&&_.push(""):I==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&w==g.length&&_.push("")):(_.push(I),p=!0)}p=_.join("/")}else p=g}return f?u.f=p:f=o.b.toString()!=="",f?Gg(u,aI(o.b)):f=!!o.h,f&&(u.h=o.h),u};function el(o,u,f){o.c=f?nl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function tl(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Gg(o,u,f){u instanceof Ms?(o.b=u,AF(o.b,o.i)):(f||(u=rl(u,IF)),o.b=new Ms(u,o.i))}function Pt(o,u,f){o.b.set(u,f)}function xr(o,u){return o.b.get(u)}function nr(o){return o instanceof Fo?new Fo(o):new Fo(o,void 0)}function Fh(o,u,f,p){var g=new Fo(null,void 0);return o&&el(g,o),u&&(g.a=u),f&&tl(g,f),p&&(g.f=p),g}function nl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function rl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,bF),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function bF(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var iI=/[#\/\?@]/g,EF=/[#\?:]/g,TF=/[#\?]/g,IF=/[#\?@]/g,SF=/#/g;function Ms(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Uo(o){o.a||(o.a=new Ka,o.b=0,o.c&&wF(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function oI(o){var u=nI(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ms(null,void 0);o=tI(o);for(var p=0;p<u.length;p++){var g=u[p],_=o[p];Array.isArray(_)?sI(f,g,_):f.add(g,_)}return f}t=Ms.prototype,t.add=function(o,u){Uo(this),this.c=null,o=Qa(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Ii(o,u){Uo(o),u=Qa(o,u),Ds(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Ds(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Hg(o)))}t.clear=function(){this.a=this.c=null,this.b=0};function Yg(o,u){return Uo(o),u=Qa(o,u),Ds(o.a.b,u)}t.forEach=function(o,u){Uo(this),this.a.forEach(function(f,p){H(f,function(g){o.call(u,g,p,this)},this)},this)},t.Y=function(){Uo(this);for(var o=this.a.W(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var g=o[p],_=0;_<g.length;_++)f.push(u[p]);return f},t.W=function(o){Uo(this);var u=[];if(typeof o=="string")Yg(this,o)&&(u=ne(u,this.a.get(Qa(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=ne(u,o[f])}return u},t.set=function(o,u){return Uo(this),this.c=null,o=Qa(this,o),Yg(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},t.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function sI(o,u,f){Ii(o,u),0<f.length&&(o.c=null,o.a.set(Qa(o,u),z(f)),o.b+=f.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],g=encodeURIComponent(String(p));p=this.W(p);for(var _=0;_<p.length;_++){var w=g;p[_]!==""&&(w+="="+encodeURIComponent(String(p[_]))),o.push(w)}}return this.c=o.join("&")};function aI(o){var u=new Ms;return u.c=o.c,o.a&&(u.a=new Ka(o.a),u.b=o.b),u}function Qa(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function AF(o,u){u&&!o.f&&(Uo(o),o.c=null,o.a.forEach(function(f,p){var g=p.toLowerCase();p!=g&&(Ii(this,p),sI(this,g,f))},o)),o.f=u}function uI(o){var u=[];return $g(new CF,o,u),u.join("")}function CF(){}function $g(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),$g(o,p[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(g),lI(p,f),f.push(":"),$g(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":lI(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var cI={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},NF=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lI(o,u){u.push('"',o.replace(NF,function(f){var p=cI[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),cI[f]=p),p}),'"')}function zg(){var o=mn();return $r&&!!Lo&&Lo==11||/Edge\/\d+/.test(o)}function il(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function fI(o,u){u=u||l.window;var f="about:blank";o&&(f=Ch(_T(o)||bT)),u.location.href=f}function hI(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<hI(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function RF(){var o=mn();return o=Xa(o)!=gI?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!$r||!Lo||9<Lo}function dI(o){return o=(o||mn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Ls(o){o=o||l.window;try{o.close()}catch{}}function pI(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=mn().toLowerCase(),p&&(u.target=p,ye(f,"crios/")&&(u.target="_blank")),Xa(mn())==Xg&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof er?f:_T(typeof f.href<"u"?f.href:String(f))||bT,f=o.target||f.target,g=[];for(w in o)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+o[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(o[w]?1:0))}var w=g.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(w=Rh(document,"A"),dT(w,"HTMLAnchorElement"),u=u instanceof er?u:wT(u),w.href=Ch(u),w.setAttribute("target",f),o.noreferrer&&w.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),w.dispatchEvent(o),w={}):o.noreferrer?(w=TT("",p,f,w),o=Ch(u),w&&(ZL&&ye(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),w.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Sg(o)+'">',o=(p=vT())?p.createHTML(o):o,o=new Ya(o,null,ET),p=w.document)&&(p.write(KL(o)),p.close())):(w=TT(u,p,f,w))&&o.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function OF(o){return new Fe(function(u){function f(){za(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var kF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xF=/^[^@]+@[^@]+$/;function Uh(){var o=null;return new Fe(function(u){l.document.readyState=="complete"?u():(o=function(){u()},jg(window,"load",o))}).o(function(u){throw gr(window,"load",o),u})}function PF(){return Kg(void 0)?Uh().then(function(){return new Fe(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):wt(Error("Cordova must run in an Android or iOS file scheme."))}function Kg(o){return o=o||mn(),!(Za()!=="file:"&&Za()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qg(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function zr(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function Si(){return le.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":le.INTERNAL.hasOwnProperty("node")?"Node":zr()?"Worker":"Browser"}function vI(){var o=Si();return o==="ReactNative"||o==="Node"}function DF(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Xg="Firefox",gI="Chrome";function Xa(o){var u=o.toLowerCase();if(ye(u,"opera/")||ye(u,"opr/")||ye(u,"opios/"))return"Opera";if(ye(u,"iemobile"))return"IEMobile";if(ye(u,"msie")||ye(u,"trident/"))return"IE";if(ye(u,"edge/"))return"Edge";if(ye(u,"firefox/"))return Xg;if(ye(u,"silk/"))return"Silk";if(ye(u,"blackberry"))return"Blackberry";if(ye(u,"webos"))return"Webos";if(!ye(u,"safari/")||ye(u,"chrome/")||ye(u,"crios/")||ye(u,"android"))if(!ye(u,"chrome/")&&!ye(u,"crios/")||ye(u,"edge/")){if(ye(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return gI;else return"Safari";return"Other"}var mI={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ja(o,u){u=u||[];var f=[],p={},g;for(g in mI)p[mI[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Si(),f==="Browser"?(p=mn(),f=Xa(p)):f==="Worker"&&(p=mn(),f=Xa(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function mn(){return l.navigator&&l.navigator.userAgent||""}function bt(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Jg(){try{var o=l.localStorage,u=Us();if(o)return o.setItem(u,"1"),o.removeItem(u),zg()?!!l.indexedDB:!0}catch{return zr()&&!!l.indexedDB}return!1}function Fs(){return(jh()||Za()==="chrome-extension:"||Kg())&&!vI()&&Jg()&&!zr()}function jh(){return Za()==="http:"||Za()==="https:"}function Za(){return l.location&&l.location.protocol||null}function ol(o){return o=o||mn(),!(dI(o)||Xa(o)==Xg)}function sl(o){return typeof o>"u"?null:uI(o)}function yI(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function eu(o){if(o!==null)return JSON.parse(o)}function Us(o){return o||Math.floor(1e9*Math.random()).toString()}function _I(o){return o=o||mn(),!(Xa(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function wI(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function jo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=mn(),u=Si(),this.b=dI(o)||u==="ReactNative"}jo.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(jh()||Za()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Zg(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function MF(){var o=l.document,u=null;return Zg()||!o?we():new Fe(function(f){u=function(){Zg()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function al(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function bI(){return!(!bt("fireauth.oauthhelper",l)&&!bt("fireauth.iframe",l))}function LF(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function FF(){var o=l.navigator;return o&&o.serviceWorker?we().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):we(null)}var EI={};function em(o){EI[o]||(EI[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var tm;try{var nm={};Object.defineProperty(nm,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(nm,"abcd",{configurable:!0,enumerable:!0,value:2}),tm=nm.abcd==2}catch{tm=!1}function ue(o,u,f){tm?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Vn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ue(o,f,u[f])}function Ai(o){var u={};return Vn(u,o),u}function UF(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function jF(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function rm(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ue(u,f,rm(o[f]))}return u}function im(o){var u=o&&(o[um]?"phone":null);if(u&&o&&o[am]){ue(this,"uid",o[am]),ue(this,"displayName",o[TI]||null);var f=null;o[sm]&&(f=new Date(o[sm]).toUTCString()),ue(this,"enrollmentTime",f),ue(this,"factorId",u)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}im.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function om(o){try{var u=new ul(o)}catch{u=null}return u}var TI="displayName",sm="enrolledAt",am="mfaEnrollmentId",um="phoneInfo";function ul(o){im.call(this,o),ue(this,"phoneNumber",o[um])}de(ul,im),ul.prototype.w=function(){var o=ul.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function VF(o){var u={},f=o[BF],p=o[WF],g=o[HF];if(o=om(o[qF]),!g||g!=Vh&&g!=cl&&!f||g==cl&&!p||g==cm&&!o)throw Error("Invalid checkActionCode response!");g==cl?(u[SI]=f||null,u[AI]=f||null,u[II]=p):(u[SI]=p||null,u[AI]=p||null,u[II]=f||null),u[GF]=o||null,ue(this,$F,g),ue(this,YF,rm(u))}var cm="REVERT_SECOND_FACTOR_ADDITION",Vh="EMAIL_SIGNIN",cl="VERIFY_AND_CHANGE_EMAIL",BF="email",qF="mfaInfo",WF="newEmail",HF="requestType",II="email",SI="fromEmail",GF="multiFactorInfo",AI="previousEmail",YF="data",$F="operation";function lm(o){o=nr(o);var u=xr(o,CI)||null,f=xr(o,NI)||null,p=xr(o,RI)||null;if(p=p&&XF[p]||null,!u||!f||!p)throw new O("argument-error",CI+", "+NI+"and "+RI+" are required in a valid action code URL.");Vn(this,{apiKey:u,operation:p,code:f,continueUrl:xr(o,zF)||null,languageCode:xr(o,KF)||null,tenantId:xr(o,QF)||null})}var CI="apiKey",NI="oobCode",zF="continueUrl",KF="languageCode",RI="mode",QF="tenantId",XF={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:cm,signIn:Vh,verifyAndChangeEmail:cl,verifyEmail:"VERIFY_EMAIL"};function OI(o){try{return new lm(o)}catch{return null}}function Bh(o){var u=o[JF];if(typeof u>"u")throw new O("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new O("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[kI];if(f&&typeof f=="object"){u=f[LI];var p=f[DI];if(f=f[MI],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new O("argument-error",DI+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new O("argument-error",MI+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new O("argument-error",LI+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new O("missing-android-pkg-name")}}else if(typeof f<"u")throw new O("argument-error",kI+" property must be a non null object when specified.");if(this.f=null,(u=o[PI])&&typeof u=="object"){if(u=u[FI],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new O("argument-error",FI+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new O("argument-error",PI+" property must be a non null object when specified.");if(u=o[fm],typeof u<"u"&&typeof u!="boolean")throw new O("argument-error",fm+" property must be a boolean when specified.");if(this.c=!!u,o=o[xI],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new O("argument-error",xI+" property must be a non empty string when specified.");this.i=o||null}var kI="android",xI="dynamicLinkDomain",fm="handleCodeInApp",PI="iOS",JF="url",DI="installApp",MI="minimumVersion",LI="packageName",FI="bundleId";function qh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function ZF(o){return S(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var ll=null;function e2(o){var u=[];return t2(o,function(f){u.push(f)}),u}function t2(o,u){function f(L){for(;p<o.length;){var q=o.charAt(p++),Se=ll[q];if(Se!=null)return Se;if(!/^[\s\xa0]*$/.test(q))throw Error("Unknown base64 encoding at char: "+q)}return L}n2();for(var p=0;;){var g=f(-1),_=f(0),w=f(64),I=f(64);if(I===64&&g===-1)break;u(g<<2|_>>4),w!=64&&(u(_<<4&240|w>>2),I!=64&&u(w<<6&192|I))}}function n2(){if(!ll){ll={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),g=0;g<p.length;g++){var _=p[g];ll[_]===void 0&&(ll[_]=g)}}}function Wh(o){var u=UI(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Wh.prototype.T=function(){return this.f},Wh.prototype.l=function(){return this.c},Wh.prototype.toString=function(){return this.h};function Hh(o){try{return new Wh(o)}catch{return null}}function UI(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=e2(o);for(o=[],f=u=0;u<p.length;){var g=p[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=p[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=p[u++];var w=p[u++],I=p[u++],L=((g&7)<<18|(_&63)<<12|(w&63)<<6|I&63)-65536;o[f++]=String.fromCharCode(55296+(L>>10)),o[f++]=String.fromCharCode(56320+(L&1023))}else _=p[u++],w=p[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|w&63)}return JSON.parse(o.join(""))}catch{}return null}var jI="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gh=["client_id","response_type","scope","redirect_uri","state"],hm={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Gh},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Gh},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Gh},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:jI},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function dm(o){for(var u in hm)if(hm[u].fa==o)return hm[u];return null}function VI(o){var u={};u["facebook.com"]=qI,u["google.com"]=HI,u["github.com"]=WI,u["twitter.com"]=GI;var f=o&&o[BI];try{if(f)return u[f]?new u[f](o):new Ci(o);if(typeof o[pm]<"u")return new vm(o)}catch{}return null}var pm="idToken",BI="providerId";function vm(o){var u=o[BI];if(!u&&o[pm]){var f=Hh(o[pm]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ue(this,"providerId",u),ue(this,"isNewUser",f)}function Ci(o){vm.call(this,o),o=eu(o.rawUserInfo||"{}"),ue(this,"profile",rm(o||{}))}de(Ci,vm);function qI(o){if(Ci.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}de(qI,Ci);function WI(o){if(Ci.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ue(this,"username",this.profile&&this.profile.login||null)}de(WI,Ci);function HI(o){if(Ci.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}de(HI,Ci);function GI(o){if(Ci.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ue(this,"username",o.screenName||null)}de(GI,Ci);function YI(o){var u=nr(o),f=xr(u,"link"),p=xr(nr(f),"link");return u=xr(u,"deep_link_id"),xr(nr(u),"link")||u||p||f||o}function Yh(o,u){if(!o&&!u)throw new O("internal-error","Internal assert: no raw session string available");if(o&&u)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?fl:$h}var fl="enroll",$h="signin";Yh.prototype.Ha=function(){return this.a?we(this.a):we(this.b)},Yh.prototype.w=function(){return this.type==fl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function tu(){}tu.prototype.ka=function(){},tu.prototype.b=function(){},tu.prototype.c=function(){},tu.prototype.w=function(){};function nu(o,u){return o.then(function(f){if(f[Xr]){var p=Hh(f[Xr]);if(!p||u!=p.i)throw new O("user-mismatch");return f}throw new O("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==In+"user-not-found"?new O("user-mismatch"):f})}function js(o,u){if(u)this.a=u;else throw new O("internal-error","failed to construct a credential");ue(this,"providerId",o),ue(this,"signInMethod",o)}js.prototype.ka=function(o){return jm(o,gm(this))},js.prototype.b=function(o,u){var f=gm(this);return f.idToken=u,Vm(o,f)},js.prototype.c=function(o,u){return nu(Bm(o,gm(this)),u)};function gm(o){return{pendingToken:o.a,requestUri:"http://localhost"}}js.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function r2(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new js(o.providerId,o.pendingToken)}catch{}return null}function eo(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ue(this,"idToken",u.idToken),u.accessToken&&ue(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ue(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ue(this,"accessToken",u.oauthToken),ue(this,"secret",u.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");ue(this,"providerId",o),ue(this,"signInMethod",f)}eo.prototype.ka=function(o){return jm(o,mm(this))},eo.prototype.b=function(o,u){var f=mm(this);return f.idToken=u,Vm(o,f)},eo.prototype.c=function(o,u){var f=mm(this);return nu(Bm(o,f),u)};function mm(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:oI(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}eo.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function i2(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new eo(o.providerId,u,o.signInMethod)}catch{}}return null}function Vs(o,u){this.Qc=u||[],Vn(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(dm(o)||{}).Ja||null,this.ob=null}Vs.prototype.Ka=function(o){return this.Ib=zt(o),this};function $I(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');Vs.call(this,o,[])}de($I,Vs);function mr(o){Vs.call(this,o,Gh),this.a=[]}de(mr,Vs),mr.prototype.Ca=function(o){return M(this.a,o)||this.a.push(o),this},mr.prototype.Qb=function(){return z(this.a)},mr.prototype.credential=function(o,u){var f;if(T(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new eo(this.providerId,f,this.providerId)};function Bs(){mr.call(this,"facebook.com")}de(Bs,mr),ue(Bs,"PROVIDER_ID","facebook.com"),ue(Bs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function zI(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Bs().credential({accessToken:u})}function qs(){mr.call(this,"github.com")}de(qs,mr),ue(qs,"PROVIDER_ID","github.com"),ue(qs,"GITHUB_SIGN_IN_METHOD","github.com");function KI(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new qs().credential({accessToken:u})}function Ws(){mr.call(this,"google.com"),this.Ca("profile")}de(Ws,mr),ue(Ws,"PROVIDER_ID","google.com"),ue(Ws,"GOOGLE_SIGN_IN_METHOD","google.com");function QI(o,u){var f=o;return T(o)&&(f=o.idToken,u=o.accessToken),new Ws().credential({idToken:f,accessToken:u})}function ru(){Vs.call(this,"twitter.com",jI)}de(ru,Vs),ue(ru,"PROVIDER_ID","twitter.com"),ue(ru,"TWITTER_SIGN_IN_METHOD","twitter.com");function XI(o,u){var f=o;if(T(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new eo("twitter.com",f,"twitter.com")}function Vo(o,u,f){this.a=o,this.f=u,ue(this,"providerId","password"),ue(this,"signInMethod",f===Pr.EMAIL_LINK_SIGN_IN_METHOD?Pr.EMAIL_LINK_SIGN_IN_METHOD:Pr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Vo.prototype.ka=function(o){return this.signInMethod==Pr.EMAIL_LINK_SIGN_IN_METHOD?Ue(o,q2,{email:this.a,oobCode:this.f}):Ue(o,SS,{email:this.a,password:this.f})},Vo.prototype.b=function(o,u){return this.signInMethod==Pr.EMAIL_LINK_SIGN_IN_METHOD?Ue(o,W2,{idToken:u,email:this.a,oobCode:this.f}):Ue(o,IS,{idToken:u,email:this.a,password:this.f})},Vo.prototype.c=function(o,u){return nu(this.ka(o),u)},Vo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function o2(o){return o&&o.email&&o.password?new Vo(o.email,o.password,o.signInMethod):null}function Pr(){Vn(this,{providerId:"password",isOAuthProvider:!1})}function JI(o,u){if(u=ym(u),!u)throw new O("argument-error","Invalid email link!");return new Vo(o,u.code,Pr.EMAIL_LINK_SIGN_IN_METHOD)}function ym(o){return o=YI(o),(o=OI(o))&&o.operation===Vh?o:null}Vn(Pr,{PROVIDER_ID:"password"}),Vn(Pr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vn(Pr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Bo(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new O("internal-error");this.a=o,ue(this,"providerId","phone"),this.fa="phone",ue(this,"signInMethod","phone")}Bo.prototype.ka=function(o){return o.fb(hl(this))},Bo.prototype.b=function(o,u){var f=hl(this);return f.idToken=u,Ue(o,cU,f)},Bo.prototype.c=function(o,u){var f=hl(this);return f.operation="REAUTH",o=Ue(o,lU,f),nu(o,u)},Bo.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function s2(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Bo(u)}return null}function hl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function to(o){try{this.a=o||le.auth()}catch{throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vn(this,{providerId:"phone",isOAuthProvider:!1})}to.prototype.fb=function(o,u){var f=this.a.a;return we(u.verify()).then(function(p){if(typeof p!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=T(o)?o.session:null,_=T(o)?o.phoneNumber:o,w;return g&&g.type==fl?w=g.Ha().then(function(I){return P2(f,{idToken:I,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):g&&g.type==$h?w=g.Ha().then(function(I){return D2(f,{mfaPendingCredential:I,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):w=x2(f,{phoneNumber:_,recaptchaToken:p}),w.then(function(I){return typeof u.reset=="function"&&u.reset(),I},function(I){throw typeof u.reset=="function"&&u.reset(),I});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function ZI(o,u){if(!o)throw new O("missing-verification-id");if(!u)throw new O("missing-verification-code");return new Bo({eb:o,cb:u})}Vn(to,{PROVIDER_ID:"phone"}),Vn(to,{PHONE_SIGN_IN_METHOD:"phone"});function _m(o){if(o.temporaryProof&&o.phoneNumber)return new Bo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,w=o&&o.pendingToken;try{switch(u){case"google.com":return QI(_,f);case"facebook.com":return zI(f);case"github.com":return KI(f);case"twitter.com":return XI(f,p);default:return f||p||_||w?w?u.indexOf("saml.")==0?new js(u,w):new eo(u,{pendingToken:w,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new mr(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function wm(o){if(!o.isOAuthProvider)throw new O("invalid-oauth-provider")}function Kr(o,u,f,p,g,_,w){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}Kr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Kr.prototype.T=function(){return this.h},Kr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function eS(o){return o=o||{},o.type?new Kr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&bi(o.error),o.postBody,o.tenantId):null}function a2(){this.b=null,this.a=[]}var bm=null;function u2(o){var u=bm;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=bt("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function Em(o){var u="unauthorized-domain",f=void 0,p=nr(o);o=p.a,p=p.c,p=="chrome-extension"?f=IT("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=IT("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",O.call(this,u,f)}de(Em,O);function dl(o,u,f){O.call(this,o,f),o=u||{},o.Jb&&ue(this,"email",o.Jb),o.ea&&ue(this,"phoneNumber",o.ea),o.credential&&ue(this,"credential",o.credential),o.Zb&&ue(this,"tenantId",o.Zb)}de(dl,O),dl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Zn(o,u),o},dl.prototype.toJSON=function(){return this.w()};function zh(o){if(o.code){var u=o.code||"";u.indexOf(In)==0&&(u=u.substring(In.length));var f={credential:_m(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new O(u,o.message||void 0);return new dl(u,f,o.message)}return null}function pl(){}pl.prototype.c=null;function tS(o){return o.c||(o.c=o.b())}var Tm;function Kh(){}de(Kh,pl),Kh.prototype.a=function(){var o=nS(this);return o?new ActiveXObject(o):new XMLHttpRequest},Kh.prototype.b=function(){var o={};return nS(this)&&(o[0]=!0,o[1]=!0),o};function nS(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Tm=new Kh;function Qh(){}de(Qh,pl),Qh.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new rS;throw Error("Unsupported browser")},Qh.prototype.b=function(){return{}};function rS(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.qc,this),this.a.onerror=U(this.Sb,this),this.a.onprogress=U(this.rc,this),this.a.ontimeout=U(this.vc,this)}t=rS.prototype,t.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},t.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Im(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Im(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Im(this,1)};function Im(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Sm(o,u,f){this.reset(o,u,f,void 0,void 0)}Sm.prototype.a=null,Sm.prototype.reset=function(o,u,f,p,g){delete this.a};function Am(o){this.f=o,this.b=this.c=this.a=null}function vl(o,u){this.name=o,this.value=u}vl.prototype.toString=function(){return this.name};var iS=new vl("SEVERE",1e3),Cm=new vl("WARNING",900),c2=new vl("CONFIG",700),l2=new vl("FINE",500);function oS(o){return o.c?o.c:o.a?oS(o.a):(gn("Root logger has no level set."),null)}Am.prototype.log=function(o,u,f){if(o.value>=oS(this).value)for(E(u)&&(u=u()),o=new Sm(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var Nm={},Xh=null;function Rm(o){Xh||(Xh=new Am(""),Nm[""]=Xh,Xh.c=c2);var u;if(!(u=Nm[o])){u=new Am(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=Rm(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,Nm[o]=u}return u}function Dr(o,u){o&&o.log(l2,u,void 0)}function Jh(o){this.f=o}de(Jh,pl),Jh.prototype.a=function(){return new Zh(this.f)},Jh.prototype.b=function(o){return function(){return o}}({});function Zh(o){jn.call(this),this.u=o,this.h=void 0,this.readyState=Om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Rm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}de(Zh,jn);var Om=0;t=Zh.prototype,t.open=function(o,u){if(this.readyState!=Om)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,ml(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,gl(this)),this.readyState=Om},t.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,ml(this)),this.a&&(this.readyState=3,ml(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,sS(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function sS(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}t.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?gl(this):ml(this),this.readyState==3&&sS(this)}},t.tc=function(o){this.a&&(this.response=this.responseText=o,gl(this))},t.sc=function(o){this.a&&(this.response=o,gl(this))},t.Ua=function(o){var u=this.i;u&&u.log(Cm,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&gl(this)};function gl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,ml(o)}t.setRequestHeader=function(o,u){this.l.append(o,u)},t.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Cm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Cm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function ml(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Zh.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function yl(o){jn.call(this),this.headers=new Ka,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=aS,this.u=this.S=!1}de(yl,jn);var aS="";yl.prototype.b=Rm("goog.net.XhrIo");var f2=/^https?$/i,h2=["POST","PUT"];function d2(o,u,f,p,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Tm.a(),o.C=o.D?tS(o.D):tS(Tm),o.a.onreadystatechange=U(o.Vb,o);try{Dr(o.b,no(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(w){Dr(o.b,no(o,"Error opening Xhr: "+w.message)),uS(o,w);return}u=p||"";var _=new Ka(o.headers);g&&_F(g,function(w,I){_.set(I,w)}),g=k(_.Y()),p=l.FormData&&u instanceof l.FormData,!M(h2,f)||g||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(w,I){this.a.setRequestHeader(I,w)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{fS(o),0<o.g&&(o.u=p2(o.a),Dr(o.b,no(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=U(o.Ma,o)):o.s=Wg(o.Ma,o.g,o)),Dr(o.b,no(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(w){Dr(o.b,no(o,"Send error: "+w.message)),uS(o,w)}}function p2(o){return $r&&NT(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function v2(o){return o.toLowerCase()=="content-type"}t=yl.prototype,t.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Dr(this.b,no(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function uS(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,cS(o),ed(o)}function cS(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(Dr(this.b,no(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ed(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ed(this,!0)),yl.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?lS(this):this.Jc())},t.Jc=function(){lS(this)};function lS(o){if(o.c&&typeof c<"u"){if(o.C[1]&&_l(o)==4&&td(o)==2)Dr(o.b,no(o,"Local request error detected and ignored"));else if(o.i&&_l(o)==4)Wg(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),_l(o)==4){Dr(o.b,no(o,"Request complete")),o.c=!1;try{var u=td(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var g;if(g=u===0){var _=String(o.l).match(rI)[1]||null;if(!_&&l.self&&l.self.location){var w=l.self.location.protocol;_=w.substr(0,w.length-1)}g=!f2.test(_?_.toLowerCase():"")}p=g}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var I=2<_l(o)?o.a.statusText:""}catch(L){Dr(o.b,"Can not get status: "+L.message),I=""}o.h=I+" ["+td(o)+"]",cS(o)}}finally{ed(o)}}}}function ed(o,u){if(o.a){fS(o);var f=o.a,p=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(g){(o=o.b)&&o.log(iS,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function fS(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function _l(o){return o.a?o.a.readyState:0}function td(o){try{return 2<_l(o)?o.a.status:-1}catch{return-1}}function g2(o){try{return o.a?o.a.responseText:""}catch(u){return Dr(o.b,"Can not get responseText: "+u.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case aS:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(iS,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Dr(this.b,"Can not get response: "+u.message),null}};function no(o,u){return u+" ["+o.R+" "+o.l+" "+td(o)+"]"}function Hs(o){var u=_2;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Hs.prototype.cancel=function(o){if(this.a)this.c instanceof Hs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new bl,nd(this),wl(this,!1,o))}},Hs.prototype.m=function(o,u){this.i=!1,wl(this,o,u)};function wl(o,u,f){o.a=!0,o.c=f,o.f=!u,dS(o)}function nd(o){if(o.a){if(!o.v)throw new rd;o.v=!1}}function m2(o,u){km(o,null,u,void 0)}function km(o,u,f,p){o.g.push([u,f,p]),o.a&&dS(o)}Hs.prototype.then=function(o,u,f){var p,g,_=new Fe(function(w,I){p=w,g=I});return km(this,p,function(w){w instanceof bl?_.cancel():g(w)}),_.then(o,u,f)},Hs.prototype.$goog_Thenable=!0;function hS(o){return A(o.g,function(u){return E(u[1])})}function dS(o){if(o.h&&o.a&&hS(o)){var u=o.h,f=id[u];f&&(l.clearTimeout(f.a),delete id[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],w=g[1];if(g=g[2],_=o.f?w:_)try{var I=_.call(g||o.s,u);I!==void 0&&(o.f=o.f&&(I==u||I instanceof Error),o.c=u=I),(Ge(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(L){u=L,o.f=!0,hS(o)||(f=!0)}}o.c=u,p&&(I=U(o.m,o,!0),p=U(o.m,o,!1),u instanceof Hs?(km(u,I,p),u.C=!0):u.then(I,p)),f&&(u=new pS(u),id[u.a]=u,o.h=u.a)}function rd(){St.call(this)}de(rd,St),rd.prototype.message="Deferred has already fired",rd.prototype.name="AlreadyCalledError";function bl(){St.call(this)}de(bl,St),bl.prototype.message="Deferred was canceled",bl.prototype.name="CanceledError";function pS(o){this.a=l.setTimeout(U(this.c,this),0),this.b=o}pS.prototype.c=function(){throw delete id[this.a],this.b};var id={};function xm(o){var u={},f=u.document||document,p=gT(o).toString(),g=Rh(document,"SCRIPT"),_={Wb:g,Ma:void 0},w=new Hs(_),I=null,L=u.timeout!=null?u.timeout:5e3;return 0<L&&(I=window.setTimeout(function(){od(g,!0);var q=new Pm(b2,"Timeout reached for loading script "+p);nd(w),wl(w,!1,q)},L),_.Ma=I),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(od(g,u.xd||!1,I),nd(w),wl(w,!0,null))},g.onerror=function(){od(g,!0,I);var q=new Pm(w2,"Error while loading script "+p);nd(w),wl(w,!1,q)},_=u.attributes||{},Zn(_,{type:"text/javascript",charset:"UTF-8"}),OT(g,_),QL(g,o),y2(f).appendChild(g),w}function y2(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function _2(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&od(o,!0,this.Ma)}}function od(o,u,f){f!=null&&l.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var w2=0,b2=1;function Pm(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),St.call(this,f),this.code=o}de(Pm,St);function sd(o){this.f=o}de(sd,pl),sd.prototype.a=function(){return new this.f},sd.prototype.b=function(){return{}};function Qr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||E2,this.g=zt(o.secureTokenHeaders||T2),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||I2,this.a=zt(o.firebaseHeaders||S2),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Si()=="Node",f=l.XMLHttpRequest||f&&le.INTERNAL.node&&le.INTERNAL.node.XMLHttpRequest,!f&&!zr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,zr()?this.f=new Jh(self):vI()?this.f=new sd(f):this.f=new Qh,this.b=null}var Dm,Xr="idToken",E2=new jo(3e4,6e4),T2={"Content-Type":"application/x-www-form-urlencoded"},I2=new jo(3e4,6e4),S2={"Content-Type":"application/json"};function vS(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function iu(o,u){u&&(o.l=Mm("https://securetoken.googleapis.com/v1/token",u),o.h=Mm("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Mm("https://identitytoolkit.googleapis.com/v2/",u))}function Mm(o,u){return o=nr(o),u=nr(u.url),o.f=o.a+o.f,el(o,u.c),o.a=u.a,tl(o,u.g),o.toString()}function gS(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Qr.prototype.T=function(){return this.b};function mS(o,u,f,p,g,_,w){RF()||zr()?o=U(o.u,o):(Dm||(Dm=new Fe(function(I,L){C2(I,L)})),o=U(o.s,o)),o(u,f,p,g,_,w)}Qr.prototype.u=function(o,u,f,p,g,_){if(zr()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new yl(this.f);if(_){w.g=Math.max(0,_);var I=setTimeout(function(){w.dispatchEvent("timeout")},_)}eI(w,"complete",function(){I&&clearTimeout(I);var L=null;try{L=JSON.parse(g2(this))||null}catch{L=null}u&&u(L)}),qg(w,"ready",function(){I&&clearTimeout(I),$T(this)}),qg(w,"timeout",function(){I&&clearTimeout(I),$T(this),u&&u(null)}),d2(w,o,f,p,g)};var A2=new Ti(Sh,"https://apis.google.com/js/client.js?onload=%{onload}"),yS="__fcb"+Math.floor(1e6*Math.random()).toString();function C2(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[yS]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Ig(A2,{onload:yS});m2(xm(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Qr.prototype.s=function(o,u,f,p,g){var _=this;Dm.then(function(){window.gapi.client.setApiKey(_.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:g,authType:"none",callback:function(I){window.gapi.auth.setToken(w),u&&u(I)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function N2(o,u){return new Fe(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?mS(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?p(Wm(g)):g.access_token&&g.refresh_token?f(g):p(new O("internal-error")):p(new O("network-request-failed"))},"POST",oI(u).toString(),o.g,o.m.get()):p(new O("internal-error"))})}function _S(o,u,f,p,g,_,w){var I=nr(u+f);Pt(I,"key",o.c),w&&Pt(I,"cb",tt().toString());var L=p=="GET";if(L)for(var q in g)g.hasOwnProperty(q)&&Pt(I,q,g[q]);return new Fe(function(Se,nt){mS(o,I.toString(),function(ze){ze?ze.error?nt(Wm(ze,_||{})):Se(ze):nt(new O("network-request-failed"))},p,L?void 0:uI(yI(g)),o.a,o.v.get())})}function Gs(o){if(o=o.email,typeof o!="string"||!xF.test(o))throw new O("invalid-email")}function wS(o){"email"in o&&Gs(o)}function R2(o,u){return Ue(o,j2,{identifier:u,continueUri:jh()?il():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function O2(o){return Ue(o,X2,{}).then(function(u){return u.authorizedDomains||[]})}function rr(o){if(!o[Xr])throw o.mfaPendingCredential?new O("multi-factor-auth-required",null,zt(o)):new O("internal-error")}function Lm(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new O("internal-error")}else{if(!o.sessionInfo)throw new O("missing-verification-id");if(!o.code)throw new O("missing-verification-code")}}Qr.prototype.zb=function(){return Ue(this,tU,{})},Qr.prototype.Bb=function(o,u){return Ue(this,TS,{idToken:o,email:u})},Qr.prototype.Cb=function(o,u){return Ue(this,IS,{idToken:o,password:u})};var k2={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Qr.prototype,t.Db=function(o,u){var f={idToken:o},p=[];return zc(k2,function(g,_){var w=u[_];w===null?p.push(g):_ in u&&(f[_]=w)}),p.length&&(f.deleteAttribute=p),Ue(this,TS,f)},t.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Zn(o,u),Ue(this,Q2,o)},t.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Zn(o,u),Ue(this,$2,o)},t.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Zn(o,u),Ue(this,z2,o)},t.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Zn(o,f),Ue(this,K2,o)};function x2(o,u){return Ue(o,eU,u)}t.fb=function(o){return Ue(this,uU,o)};function P2(o,u){return Ue(o,nU,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function bS(o){if(!o.phoneVerificationInfo)throw new O("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new O("missing-verification-code")}function D2(o,u){return Ue(o,rU,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function M2(o,u,f){return Ue(o,B2,{idToken:u,deleteProvider:f})}function Fm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new O("internal-error")}function Um(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ms(o.postBody),Yg(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function ES(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=zh(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=zh(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=zh(o)):o.errorMessage&&(u=AS(o.errorMessage)),u)throw u;rr(o)}function jm(o,u){return u.returnIdpCredential=!0,Ue(o,iU,u)}function Vm(o,u){return u.returnIdpCredential=!0,Ue(o,sU,u)}function Bm(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ue(o,oU,u)}function qm(o){if(!o.oobCode)throw new O("invalid-action-code")}t.nb=function(o,u){return Ue(this,Z2,{oobCode:o,newPassword:u})},t.Ra=function(o){return Ue(this,F2,{oobCode:o})},t.jb=function(o){return Ue(this,L2,{oobCode:o})};var L2={endpoint:"setAccountInfo",A:qm,Z:"email",B:!0},F2={endpoint:"resetPassword",A:qm,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},U2={endpoint:"signupNewUser",A:function(o){if(Gs(o),!o.password)throw new O("weak-password")},G:rr,V:!0,B:!0},j2={endpoint:"createAuthUri",B:!0},V2={endpoint:"deleteAccount",N:["idToken"]},B2={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new O("internal-error")}},q2={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Gs,G:rr,V:!0,B:!0},W2={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Gs,G:rr,V:!0},H2={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:bS,G:rr,B:!0,Na:!0},G2={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:bS,G:rr,B:!0,Na:!0},Y2={endpoint:"getAccountInfo"},$2={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new O("internal-error");Gs(o)},Z:"email",B:!0},z2={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},K2={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},Q2={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new O("internal-error");Gs(o)},Z:"email",B:!0},X2={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},J2={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new O("internal-error")}},Z2={endpoint:"resetPassword",A:qm,Z:"email",B:!0},eU={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},TS={endpoint:"setAccountInfo",N:["idToken"],A:wS,V:!0},IS={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(wS(o),!o.password)throw new O("weak-password")},G:rr,V:!0},tU={endpoint:"signupNewUser",G:rr,V:!0,B:!0},nU={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new O("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},rU={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},iU={endpoint:"verifyAssertion",A:Fm,Ya:Um,G:ES,V:!0,B:!0},oU={endpoint:"verifyAssertion",A:Fm,Ya:Um,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(o.errorMessage)throw AS(o.errorMessage);rr(o)},V:!0,B:!0},sU={endpoint:"verifyAssertion",A:function(o){if(Fm(o),!o.idToken)throw new O("internal-error")},Ya:Um,G:ES,V:!0},aU={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new O("invalid-custom-token")},G:rr,V:!0,B:!0},SS={endpoint:"verifyPassword",A:function(o){if(Gs(o),!o.password)throw new O("wrong-password")},G:rr,V:!0,B:!0},uU={endpoint:"verifyPhoneNumber",A:Lm,G:rr,B:!0},cU={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new O("internal-error");Lm(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",zh(o);rr(o)}},lU={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Lm,G:rr,B:!0},fU={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Xr]^!!o.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function Ue(o,u,f){if(!jF(f,u.N))return wt(new O("internal-error"));var p=!!u.Na,g=u.Ub||"POST",_;return we(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?_S(o,o.i,u.endpoint,g,f,u.Hb,u.lb||!1):_S(o,o.h,u.endpoint,g,f,u.Hb,u.lb||!1)}).then(function(w){return _=w,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new O("internal-error");return _[u.Z]})}function AS(o){return Wm({error:{errors:[{message:o}],code:400,message:o}})}function Wm(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new O(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Zn(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(f.indexOf(g)===0)return new O(p[g],u);return!u&&o&&(u=sl(o)),new O("internal-error",u)}function hU(o){this.b=o,this.a=null,this.rb=dU(this)}function dU(o){return _U().then(function(){return new Fe(function(u,f){bt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},yU.get());p.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function pU(o,u){return o.rb.then(function(){return new Fe(function(f){o.a.send(u.type,u,f,bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function vU(o,u){o.rb.then(function(){o.a.register("authEvent",u,bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var gU=new Ti(Sh,"https://apis.google.com/js/api.js?onload=%{onload}"),mU=new jo(3e4,6e4),yU=new jo(5e3,15e3),ad=null;function _U(){return ad||(ad=new Fe(function(o,u){function f(){wI(),bt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){wI(),u(Error("Network Error"))},timeout:mU.get()})}if(bt("gapi.iframes.Iframe"))o();else if(bt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){bt("gapi.load")?f():u(Error("Network Error"))},p=Ig(gU,{onload:p}),we(xm(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw ad=null,o}))}function CS(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=nr(this.g.url),o=Fh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Fh("https",this.l,null,"/__/auth/iframe"),this.a=o,Pt(this.a,"apiKey",this.h),Pt(this.a,"appName",this.i),this.b=null,this.c=[]}CS.prototype.toString=function(){return this.f?Pt(this.a,"v",this.f):Ii(this.a.b,"v"),this.b?Pt(this.a,"eid",this.b):Ii(this.a.b,"eid"),this.c.length?Pt(this.a,"fw",this.c.join(",")):Ii(this.a.b,"fw"),this.a.toString()};function Hm(o,u,f,p,g,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}Hm.prototype.yb=function(o){return this.h=o,this},Hm.prototype.toString=function(){if(this.v){var o=nr(this.v.url);o=Fh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Fh("https",this.u,null,"/__/auth/handler");if(Pt(o,"apiKey",this.s),Pt(o,"appName",this.c),Pt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=le.app(this.c).auth().la()}catch{f=null}u.ob=f,Pt(o,"providerId",this.a.providerId),f=this.a,u=yI(f.Ib);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=zt(u);for(var g=0;g<p.length;g++){var _=p[g];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),xt(u)||Pt(o,"customParameters",sl(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&Pt(o,"scopes",f.join(","))),this.l?Pt(o,"redirectUrl",this.l):Ii(o.b,"redirectUrl"),this.g?Pt(o,"eventId",this.g):Ii(o.b,"eventId"),this.i?Pt(o,"v",this.i):Ii(o.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!xr(o,w)&&Pt(o,w,this.b[w]);return this.h?Pt(o,"tid",this.h):Ii(o.b,"tid"),this.f?Pt(o,"eid",this.f):Ii(o.b,"eid"),w=Gm(this.c),w.length&&Pt(o,"fw",w.join(",")),o.toString()};function Gm(o){try{return le.app(o).auth().Ga()}catch{return[]}}function NS(o,u,f,p,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function RS(o){var u=il();return O2(o).then(function(f){e:{var p=nr(u),g=p.c;p=p.a;for(var _=0;_<f.length;_++){var w=f[_],I=p,L=g;if(w.indexOf("chrome-extension://")==0?I=nr(w).a==I&&L=="chrome-extension":L!="http"&&L!="https"?I=!1:kF.test(w)?I=I==w:(w=w.split(".").join("\\."),I=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(I)),I){f=!0;break e}}f=!1}if(!f)throw new Em(il())})}function OS(o){return o.m||(o.m=Uh().then(function(){if(!o.u){var u=o.c,f=o.i,p=Gm(o.b),g=new CS(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=z(p||[]),o.u=g.toString()}o.v=new hU(o.u),wU(o)})),o.m}t=NS.prototype,t.Ob=function(o,u,f){var p=new O("popup-closed-by-user"),g=new O("web-storage-unsupported"),_=this,w=!1;return this.ma().then(function(){bU(_).then(function(I){I||(o&&Ls(o),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return OF(o)}).then(function(){if(!w)return za(f).then(function(){u(p)})})},t.Xb=function(){var o=mn();return!ol(o)&&!_I(o)},t.Tb=function(){return!1},t.Mb=function(o,u,f,p,g,_,w,I){if(!o)return wt(new O("popup-blocked"));if(w&&!ol())return this.ma().o(function(q){Ls(o),g(q)}),p(),we();this.a||(this.a=RS(kS(this)));var L=this;return this.a.then(function(){var q=L.ma().o(function(Se){throw Ls(o),g(Se),Se});return p(),q}).then(function(){if(wm(f),!w){var q=El(L.s,L.g,L.b,u,f,null,_,L.c,void 0,L.i,I,L.f);fI(q,o)}}).o(function(q){throw q.code=="auth/network-request-failed"&&(L.a=null),q})};function kS(o){return o.l||(o.C=o.c?Ja(o.c,Gm(o.b)):null,o.l=new Qr(o.g,yt(o.i),o.C),o.f&&iu(o.l,o.f)),o.l}t.Nb=function(o,u,f,p){this.a||(this.a=RS(kS(this)));var g=this;return this.a.then(function(){wm(u);var _=El(g.s,g.g,g.b,o,u,il(),f,g.c,void 0,g.i,p,g.f);fI(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},t.ma=function(){var o=this;return OS(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new O("network-request-failed")})},t.$b=function(){return!0};function El(o,u,f,p,g,_,w,I,L,q,Se,nt){return o=new Hm(o,u,f,p,g,nt),o.l=_,o.g=w,o.i=I,o.b=zt(L||null),o.f=q,o.yb(Se).toString()}function wU(o){if(!o.v)throw Error("IfcHandler must be initialized!");vU(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=eS(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",we(f)}return f.status="ERROR",we(f)})}function bU(o){var u={type:"webStorageSupport"};return OS(o).then(function(){return pU(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}t.Ea=function(o){this.h.push(o)},t.Sa=function(o){B(this.h,function(u){return u==o})};function xS(o){if(this.a=o||le.INTERNAL.reactNative&&le.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=xS.prototype,t.get=function(o){return we(this.a.getItem(o)).then(function(u){return u&&eu(u)})},t.set=function(o,u){return we(this.a.setItem(o,sl(u)))},t.U=function(o){return we(this.a.removeItem(o))},t.ca=function(){},t.ia=function(){};function PS(o){this.b=o,this.a={},this.f=U(this.c,this)}var DS=[];function EU(){var o=zr()?self:null;if(H(DS,function(f){f.b==o&&(u=f)}),!u){var u=new PS(o);DS.push(u)}return u}PS.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];H(p,function(_){g.push(we().then(function(){return _(o.origin,o.data.data)}))}),UT(g).then(function(_){var w=[];H(_,function(I){w.push({fulfilled:I.Pb,value:I.value,reason:I.reason?I.reason.message:void 0})}),H(w,function(I){for(var L in I)typeof I[L]>"u"&&delete I[L]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:w})})}};function MS(o,u,f){xt(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function LS(o){this.a=o}LS.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function FS(o){this.c=o,this.b=!1,this.a=[]}function US(o,u,f,p){var g,_=f||{},w,I,L,q=null;if(o.b)return wt(Error("connection_unavailable"));var Se=p?800:50,nt=typeof MessageChannel<"u"?new MessageChannel:null;return new Fe(function(ze,cn){nt?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),nt.port1.start(),I=setTimeout(function(){cn(Error("unsupported_event"))},Se),w=function(ro){ro.data.eventId===g&&(ro.data.status==="ack"?(clearTimeout(I),L=setTimeout(function(){cn(Error("timeout"))},3e3)):ro.data.status==="done"?(clearTimeout(L),typeof ro.data.response<"u"?ze(ro.data.response):cn(Error("unknown_error"))):(clearTimeout(I),clearTimeout(L),cn(Error("invalid_response"))))},q={messageChannel:nt,onMessage:w},o.a.push(q),nt.port1.addEventListener("message",w),o.c.postMessage({eventType:u,eventId:g,data:_},[nt.port2])):cn(Error("connection_unavailable"))}).then(function(ze){return Ym(o,q),ze}).o(function(ze){throw Ym(o,q),ze})}function Ym(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),B(o.a,function(g){return g==u})}}FS.prototype.close=function(){for(;0<this.a.length;)Ym(this,this.a[0]);this.b=!0};function jS(){if(!Km())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;zr()&&self?(this.v=EU(),MS(this.v,"keyChanged",function(u,f){return qS(o).then(function(p){return 0<p.length&&H(o.a,function(g){g(p)}),{keyProcessed:M(p,f.key)}})}),MS(this.v,"ping",function(){return we(["keyChanged"])})):FF().then(function(u){(o.h=u)&&(o.g=new FS(new LS(u)),US(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&M(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var $m;function TU(o){return new Fe(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){f(Error(g.target.error))}})}function VS(o){return new Fe(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):TU(o).then(function(){return VS(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function zm(o){return o.i||(o.i=VS(o)),o.i}function ud(o,u){function f(g,_){zm(o).then(u).then(g).o(function(w){if(3<++p)_(w);else return zm(o).then(function(I){return I.close(),o.i=void 0,f(g,_)}).o(function(I){_(I)})})}var p=0;return new Fe(f)}function Km(){try{return!!l.indexedDB}catch{return!1}}function Tl(o){return o.objectStore("firebaseLocalStorage")}function Il(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function ou(o){return new Fe(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}t=jS.prototype,t.set=function(o,u){var f=this,p=!1;return ud(this,function(g){return g=Tl(Il(g,!0)),ou(g.get(o))}).then(function(g){return ud(f,function(_){if(_=Tl(Il(_,!0)),g)return g.value=u,ou(_.put(g));f.b++,p=!0;var w={};return w.fbase_key=o,w.value=u,ou(_.add(w))})}).then(function(){return f.c[o]=u,BS(f,o)}).oa(function(){p&&f.b--})};function BS(o,u){return o.g&&o.h&&LF()===o.h?US(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):we()}t.get=function(o){return ud(this,function(u){return ou(Tl(Il(u,!1)).get(o))}).then(function(u){return u&&u.value})},t.U=function(o){var u=this,f=!1;return ud(this,function(p){return f=!0,u.b++,ou(Tl(Il(p,!0)).delete(o))}).then(function(){return delete u.c[o],BS(u,o)}).oa(function(){f&&u.b--})};function qS(o){return zm(o).then(function(u){var f=Tl(Il(u,!1));return f.getAll?ou(f.getAll()):new Fe(function(p,g){var _=[],w=f.openCursor();w.onsuccess=function(I){(I=I.target.result)?(_.push(I.value),I.continue()):p(_)},w.onerror=function(I){g(I.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=hI(o.c,f),o.c=f}return p})}t.ca=function(o){this.a.length==0&&IU(this),this.a.push(o)},t.ia=function(o){B(this.a,function(u){return u==o}),this.a.length==0&&WS(this)};function IU(o){function u(){o.f=setTimeout(function(){o.l=qS(o).then(function(f){0<f.length&&H(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}WS(o),u()}function WS(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function HS(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=we().then(function(){if(Km()){var p=Us(),g="__sak"+p;return $m||($m=new jS),f=$m,f.set(g,p).then(function(){return f.get(g)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){H(u.a,function(_){_(g)})}),p})}t=HS.prototype,t.get=function(o){return this.b.then(function(u){return u.get(o)})},t.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},t.U=function(o){return this.b.then(function(u){return u.U(o)})},t.ca=function(o){this.a.push(o)},t.ia=function(o){B(this.a,function(u){return u==o})};function Sl(){this.a={},this.type="inMemory"}t=Sl.prototype,t.get=function(o){return we(this.a[o])},t.set=function(o,u){return this.a[o]=u,we()},t.U=function(o){return delete this.a[o],we()},t.ca=function(){},t.ia=function(){};function cd(){if(!SU())throw Si()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=GS()||le.INTERNAL.node.localStorage,this.type="localStorage"}function GS(){try{var o=l.localStorage,u=Us();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function SU(){var o=Si()=="Node";if(o=GS()||o&&le.INTERNAL.node&&le.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=cd.prototype,t.get=function(o){var u=this;return we().then(function(){var f=u.a.getItem(o);return eu(f)})},t.set=function(o,u){var f=this;return we().then(function(){var p=sl(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return we().then(function(){u.a.removeItem(o)})},t.ca=function(o){l.window&&kr(l.window,"storage",o)},t.ia=function(o){l.window&&gr(l.window,"storage",o)};function Qm(){this.type="nullStorage"}t=Qm.prototype,t.get=function(){return we(null)},t.set=function(){return we()},t.U=function(){return we()},t.ca=function(){},t.ia=function(){};function Xm(){if(!AU())throw Si()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=YS()||le.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function YS(){try{var o=l.sessionStorage,u=Us();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function AU(){var o=Si()=="Node";if(o=YS()||o&&le.INTERNAL.node&&le.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=Xm.prototype,t.get=function(o){var u=this;return we().then(function(){var f=u.a.getItem(o);return eu(f)})},t.set=function(o,u){var f=this;return we().then(function(){var p=sl(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return we().then(function(){u.a.removeItem(o)})},t.ca=function(){},t.ia=function(){};function CU(){var o={};o.Browser=NU,o.Node=RU,o.ReactNative=OU,o.Worker=kU,this.a=o[Si()]}var Jm,NU={F:cd,bb:Xm},RU={F:cd,bb:Xm},OU={F:xS,bb:Qm},kU={F:cd,bb:Qm},su={rd:"local",NONE:"none",td:"session"};function xU(o){var u=new O("invalid-persistence-type"),f=new O("unsupported-persistence-type");e:{for(p in su)if(su[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(Si()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!Km()&&o!=="none")throw f;break;default:if(!Jg()&&o!=="none")throw f}}function $S(){var o=!!(!_I(mn())&&Qg()),u=ol(),f=Jg();this.m=o,this.h=u,this.l=f,this.a={},Jm||(Jm=new CU),o=Jm;try{this.g=!zg()&&bI()||!l.indexedDB?new o.a.F:new HS(zr()?new Sl:new o.a.F)}catch{this.g=new Sl,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new Sl}this.v=new Sl,this.f=U(this.Yb,this),this.b={}}var Zm;function Al(){return Zm||(Zm=new $S),Zm}function Ys(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function au(o,u){return"firebase:"+o.name+(u?":"+u:"")}function PU(o,u,f){var p=au(u,f),g=Ys(o,u.F);return o.get(u,f).then(function(_){var w=null;try{w=eu(l.localStorage.getItem(p))}catch{}if(w&&!_)return l.localStorage.removeItem(p),o.set(u,w,f);w&&_&&g.type!="localStorage"&&l.localStorage.removeItem(p)})}t=$S.prototype,t.get=function(o,u){return Ys(this,o.F).get(au(o,u))};function uu(o,u,f){return f=au(u,f),u.F=="local"&&(o.b[f]=null),Ys(o,u.F).U(f)}t.set=function(o,u,f){var p=au(o,f),g=this,_=Ys(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(w){o.F=="local"&&(g.b[p]=w)})},t.addListener=function(o,u,f){o=au(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),xt(this.a)&&(Ys(this,"local").ca(this.f),this.h||(zg()||!bI())&&l.indexedDB||!this.l||DU(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},t.removeListener=function(o,u,f){o=au(o,u),this.a[o]&&(B(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),xt(this.a)&&(Ys(this,"local").ia(this.f),ey(this))};function DU(o){ey(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new Ps({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Yb(f))}},1e3)}function ey(o){o.c&&(clearInterval(o.c),o.c=null)}t.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var g=l.localStorage.getItem(f);g!==p&&(this.b[f]=g,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ys(this,"local").ia(this.f):ey(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.mb(u))},$r&&Lo&&Lo==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else H(o,U(this.mb,this))},t.mb=function(o){this.a[o]&&H(this.a[o],function(u){u()})};function MU(o){this.a=o,this.b=Al()}var ty={name:"authEvent",F:"local"};function LU(o){return o.b.get(ty,o.a).then(function(u){return eS(u)})}function FU(){this.a=Al()}function UU(){this.b=-1}function ld(o,u){this.b=zS,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),fd===void 0&&(l.Int32Array?fd=new Int32Array(XS):fd=XS),this.reset()}var fd;de(ld,UU);for(var zS=64,jU=zS-1,KS=[],ny=0;ny<jU;ny++)KS[ny]=0;var QS=ne(128,KS);ld.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):z(this.h)};function ry(o){for(var u=o.f,f=o.l,p=0,g=0;g<u.length;)f[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+w|0}p=o.a[0]|0,g=o.a[1]|0;var I=o.a[2]|0,L=o.a[3]|0,q=o.a[4]|0,Se=o.a[5]|0,nt=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var ze=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&I^g&I)|0;w=q&Se^~q&nt,_=_+((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))|0,w=w+(fd[u]|0)|0,w=_+(w+(f[u]|0)|0)|0,_=nt,nt=Se,Se=q,q=L+w|0,L=I,I=g,g=p,p=w+ze|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+I|0,o.a[3]=o.a[3]+L|0,o.a[4]=o.a[4]+q|0,o.a[5]=o.a[5]+Se|0,o.a[6]=o.a[6]+nt|0,o.a[7]=o.a[7]+_|0}function iy(o,u,f){f===void 0&&(f=u.length);var p=0,g=o.c;if(typeof u=="string")for(;p<f;)o.f[g++]=u.charCodeAt(p++),g==o.b&&(ry(o),g=0);else if(b(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(ry(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var XS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function JS(){ld.call(this,8,VU)}de(JS,ld);var VU=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function ZS(o,u,f,p,g,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new FU,this.g=new MU(this.h),this.f=null,this.b=[],this.a=this.c=null}function hd(o){return new O("invalid-cordova-configuration",o)}t=ZS.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=PF().then(function(){if(typeof bt("universalLinks.subscribe",l)!="function")throw hd("cordova-universal-links-plugin-fix is not installed");if(typeof bt("BuildInfo.packageName",l)>"u")throw hd("cordova-plugin-buildinfo is not installed");if(typeof bt("cordova.plugins.browsertab.openUrl",l)!="function")throw hd("cordova-plugin-browsertab is not installed");if(typeof bt("cordova.InAppBrowser.open",l)!="function")throw hd("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function BU(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function qU(o){var u=new JS;iy(u,o),o=[];var f=8*u.g;56>u.c?iy(u,QS,56-u.c):iy(u,QS,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(ry(u),p=f=0;p<u.i;p++)for(var g=24;0<=g;g-=8)o[f++]=u.a[p]>>g&255;return ZF(o)}t.Ob=function(o,u){return u(new O("operation-not-supported-in-this-environment")),we()},t.Mb=function(){return wt(new O("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(o,u,f,p){if(this.c)return wt(new O("redirect-operation-pending"));var g=this,_=l.document,w=null,I=null,L=null,q=null;return this.c=we().then(function(){return wm(u),t1(g)}).then(function(){return WU(g,o,u,f,p)}).then(function(){return new Fe(function(Se,nt){I=function(){var ze=bt("cordova.plugins.browsertab.close",l);return Se(),typeof ze=="function"&&ze(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(I),L=function(){w||(w=za(2e3).then(function(){nt(new O("redirect-cancelled-by-user"))}))},q=function(){Zg()&&L()},_.addEventListener("resume",L,!1),mn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",q,!1)}).o(function(Se){return oy(g).then(function(){throw Se})})}).oa(function(){L&&_.removeEventListener("resume",L,!1),q&&_.removeEventListener("visibilitychange",q,!1),w&&w.cancel(),I&&g.Sa(I),g.c=null})};function WU(o,u,f,p,g){var _=BU(),w=new Kr(u,p,null,_,new O("no-auth-event"),null,g),I=bt("BuildInfo.packageName",l);if(typeof I!="string")throw new O("invalid-cordova-configuration");var L=bt("BuildInfo.displayName",l),q={};if(mn().toLowerCase().match(/iphone|ipad|ipod/))q.ibi=I;else if(mn().toLowerCase().match(/android/))q.apn=I;else return wt(new O("operation-not-supported-in-this-environment"));L&&(q.appDisplayName=L),_=qU(_),q.sessionId=_;var Se=El(o.v,o.i,o.l,u,f,null,p,o.m,q,o.u,g,o.s);return o.ma().then(function(){var nt=o.h;return o.C.a.set(ty,w.w(),nt)}).then(function(){var nt=bt("cordova.plugins.browsertab.isAvailable",l);if(typeof nt!="function")throw new O("invalid-cordova-configuration");var ze=null;nt(function(cn){if(cn){if(ze=bt("cordova.plugins.browsertab.openUrl",l),typeof ze!="function")throw new O("invalid-cordova-configuration");ze(Se)}else{if(ze=bt("cordova.InAppBrowser.open",l),typeof ze!="function")throw new O("invalid-cordova-configuration");cn=mn(),o.a=ze(Se,cn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||cn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function e1(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function t1(o){return o.f||(o.f=o.ma().then(function(){return new Fe(function(u){function f(p){return u(p),o.Sa(f),!1}o.Ea(f),HU(o)})})),o.f}function oy(o){var u=null;return LU(o.g).then(function(f){return u=f,f=o.g,uu(f.b,ty,f.a)}).then(function(){return u})}function HU(o){function u(w){p=!0,g&&g.cancel(),oy(o).then(function(I){var L=f;if(I&&w&&w.url){var q=null;L=YI(w.url),L.indexOf("/__/auth/callback")!=-1&&(q=nr(L),q=eu(xr(q,"firebaseError")||null),q=(q=typeof q=="object"?bi(q):null)?new Kr(I.c,I.b,null,null,q,null,I.T()):new Kr(I.c,I.b,L,I.f,null,null,I.T())),L=q||f}e1(o,L)})}var f=new Kr("unknown",null,null,null,new O("no-auth-event")),p=!1,g=za(500).then(function(){return oy(o).then(function(){p||e1(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(w){if(w.toLowerCase().indexOf(bt("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:w}),typeof _=="function")try{_(w)}catch(I){console.error(I)}},bm||(bm=new a2),u2(u)}t.Ea=function(o){this.b.push(o),t1(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Kr("unknown",null,null,null,new O("no-auth-event")),o(u))})},t.Sa=function(o){B(this.b,function(u){return u==o})};function GU(o){this.a=o,this.b=Al()}var sy={name:"pendingRedirect",F:"session"};function YU(o){return o.b.set(sy,"pending",o.a)}function ay(o){return uu(o.b,sy,o.a)}function $U(o){return o.b.get(sy,o.a).then(function(u){return u=="pending"})}function dd(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=U(this.s,this),this.b=new pd,this.C=new d1,this.g=new GU(c1(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=n1(this.D,this.v,this.m,He,this.J)}function n1(o,u,f,p,g){var _=le.SDK_VERSION||null;return Kg()?new ZS(o,u,f,_,p,g):new NS(o,u,f,_,p,g)}dd.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=n1(this.D,this.v,this.m,null,this.J),this.i={}};function r1(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function i1(o){o.a.Xb()&&r1(o).o(function(u){var f=new Kr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));cy(u)&&o.s(f)}),o.a.Tb()||f1(o.b)}function uy(o,u){M(o.h,u)||o.h.push(u),o.f||$U(o.g).then(function(f){f?ay(o.g).then(function(){r1(o).o(function(p){var g=new Kr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));cy(p)&&o.s(g)})}):i1(o)}).o(function(){i1(o)})}function o1(o,u){B(o.h,function(f){return f==u})}dd.prototype.s=function(o){if(!o)throw new O("invalid-auth-event");if(6e5<=tt()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=tt())),u=!0;break}}return f1(this.b),u};var zU=new jo(2e3,1e4),KU=new jo(3e4,6e4);dd.prototype.qa=function(){return this.b.qa()};function s1(o,u,f,p,g,_,w){return o.a.Mb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,w)}function cy(o){return!!(o&&o.code=="auth/cordova-not-ready")}function a1(o,u,f,p,g){var _;return YU(o.g).then(function(){return o.a.Nb(u,f,p,g).o(function(w){if(cy(w))throw new O("operation-not-supported-in-this-environment");return _=w,ay(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new Fe(function(){}):ay(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function u1(o,u,f,p,g){return o.a.Ob(p,function(_){u.na(f,null,_,g)},zU.get())}var ly={};function c1(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function l1(o,u,f,p){var g=c1(u,f,p);return ly[g]||(ly[g]=new dd(o,u,f,p)),ly[g]}function pd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}pd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},pd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?($s(this,!0,null,o.a),we()):u.Fa(f,p)?QU(this,o,u):wt(new O("invalid-auth-event")):($s(this,!1,null,null),we())}else wt(new O("invalid-auth-event"))};function f1(o){o.g||(o.g=!0,$s(o,!1,null,null))}function vd(o){o.g&&!o.i&&$s(o,!1,null,null)}function QU(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,g=u.f,_=u.i,w=u.T(),I=!!u.c.match(/Redirect$/);f(p,g,w,_).then(function(L){$s(o,I,L,null)}).o(function(L){$s(o,I,null,L)})}function XU(o,u){if(o.b=function(){return wt(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function h1(o,u){if(o.b=function(){return we(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function $s(o,u,f,p){u?p?XU(o,p):h1(o,f):h1(o,{user:null}),o.f=[],o.c=[]}pd.prototype.qa=function(){var o=this;return new Fe(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),JU(o))})};function JU(o){var u=new O("timeout");o.a&&o.a.cancel(),o.a=za(KU.get()).then(function(){o.b||(o.g=!0,$s(o,!0,null,u))})}function d1(){}d1.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),we()):u.Fa(f,p)?ZU(o,u):wt(new O("invalid-auth-event"))}else wt(new O("invalid-auth-event"))};function ZU(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(p,g,null,f)}).o(function(g){u.na(p,null,g,f)})}function p1(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function fy(o,u){this.a=u,ue(this,"verificationId",o)}fy.prototype.confirm=function(o){return o=ZI(this.verificationId,o),this.a(o)};function hy(o,u,f,p){return new to(o).fb(u,f).then(function(g){return new fy(g,p)})}function ej(o){var u=UI(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vn(this,{token:o,expirationTime:al(1e3*u.exp),authTime:al(1e3*u.auth_time),issuedAtTime:al(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function dy(o,u,f){var p=u&&u[g1];if(!p)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=zt(u),this.g=f,this.c=new Yh(null,p),this.b=[];var g=this;H(u[v1]||[],function(_){(_=om(_))&&g.b.push(_)}),ue(this,"auth",this.a),ue(this,"session",this.c),ue(this,"hints",this.b)}var v1="mfaInfo",g1="mfaPendingCredential";dy.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var p=zt(u.f);return delete p[v1],delete p[g1],Zn(p,f),u.g(p)})};function py(o,u,f,p){O.call(this,"multi-factor-auth-required",p,u),this.b=new dy(o,u,f),ue(this,"resolver",this.b)}de(py,O);function m1(o,u,f){if(o&&T(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new py(u,o.serverResponse,f,o.message)}catch{}return null}function y1(){}y1.prototype.sb=function(o,u,f){return u.type==fl?tj(this,o,u,f):nj(this,o,u)};function tj(o,u,f,p){return f.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),Zn(g,{phoneVerificationInfo:hl(o.a)}),Ue(u,H2,g)})}function nj(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},Zn(p,{phoneVerificationInfo:hl(o.a)}),Ue(u,G2,p)})}function vy(o){ue(this,"factorId",o.fa),this.a=o}de(vy,y1);function _1(o){if(vy.call(this,o),this.a.fa!=to.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}de(_1,vy);function cu(o,u){tr.call(this,o);for(var f in u)this[f]=u[f]}de(cu,tr);function gy(o,u){this.a=o,this.b=[],this.c=U(this.yc,this),kr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&H(u.multiFactor.enrolledFactors,function(p){var g=null,_={};if(p){p.uid&&(_[am]=p.uid),p.displayName&&(_[TI]=p.displayName),p.enrollmentTime&&(_[sm]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[um]=p.phoneNumber);try{g=new ul(_)}catch{}p=g}else p=null;p&&f.push(p)}),gd(this,f)}function rj(o){var u=[];return H(o.mfaInfo||[],function(f){(f=om(f))&&u.push(f)}),u}t=gy.prototype,t.yc=function(o){gd(this,rj(o.hd))};function gd(o,u){o.b=u,ue(o,"enrolledFactors",u)}t.Rb=function(){return this.a.I().then(function(o){return new Yh(o,null)})},t.fc=function(o,u){var f=this,p=this.a.a;return this.Rb().then(function(g){return o.sb(p,g,u)}).then(function(g){return Ni(f.a,g),f.a.reload()})},t.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(g){return Ue(p,fU,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=$e(u.b,function(w){return w.uid!=f});return gd(u,_),Ni(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:S(this.b,function(o){return o.w()})}}};function my(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}my.prototype.start=function(){this.a=this.c,yy(this,!0)};function ij(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function yy(o,u){o.stop(),o.b=za(ij(o,u)).then(function(){return MF()}).then(function(){return o.h()}).then(function(){yy(o,!0)}).o(function(f){o.i(f)&&yy(o,!1)})}my.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function _y(o){this.f=o,this.b=this.a=null,this.c=Date.now()}_y.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function w1(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function b1(o,u){o.b=Hh(u[Xr]||""),o.a=u.refreshToken,u=u.expiresIn,w1(o,typeof u<"u"?Number(u):void 0)}function oj(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function sj(o,u){return N2(o.f,u).then(function(f){return o.b=Hh(f.access_token),o.a=f.refresh_token,w1(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}_y.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?wt(new O("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?sj(this,{grant_type:"refresh_token",refresh_token:this.a}):we(null):we({accessToken:this.b.toString(),refreshToken:this.a})};function md(o,u){this.a=o||null,this.b=u||null,Vn(this,{lastSignInTime:al(u||null),creationTime:al(o||null)})}function aj(o){return new md(o.a,o.b)}md.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function uj(o,u,f,p,g,_){Vn(this,{uid:o,displayName:p||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function yr(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=le.SDK_VERSION?Ja(le.SDK_VERSION):null;this.a=new Qr(this.l,yt(He),p),o.emulatorConfig&&iu(this.a,o.emulatorConfig),this.b=new _y(this.a),Sy(this,u[Xr]),b1(this.b,u),ue(this,"refreshToken",this.b.a),T1(this,f||{}),jn.call(this),this.R=!1,this.s&&Fs()&&(this.i=l1(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=cj(this),this.aa=U(this.hb,this);var g=this;this.ya=null,this.Oa=function(_){g.wa(_.h)},this.ja=null,this.Aa=function(_){iu(g.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){Cl(g,_.f)},this.ba=null,this.O=new gy(this,f),ue(this,"multiFactor",this.O)}de(yr,jn),yr.prototype.wa=function(o){this.ya=o,vS(this.a,o)},yr.prototype.la=function(){return this.ya};function wy(o,u){o.ja&&gr(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&kr(u,"languageCodeChanged",o.Oa)}function by(o,u){o.X&&gr(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&kr(u,"emulatorConfigChanged",o.Aa)}function Cl(o,u){o.$=u,gS(o.a,le.SDK_VERSION?Ja(le.SDK_VERSION,o.$):null)}yr.prototype.Ga=function(){return z(this.$)};function Ey(o,u){o.ba&&gr(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&kr(u,"frameworkChanged",o.Ba)}yr.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Ty(o){try{return le.app(o.m).auth()}catch{throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function cj(o){return new my(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function E1(o){o.D||o.u.b||(o.u.start(),gr(o,"tokenChanged",o.aa),kr(o,"tokenChanged",o.aa))}function Iy(o){gr(o,"tokenChanged",o.aa),o.u.stop()}function Sy(o,u){o.za=u,ue(o,"_lat",u)}function lj(o,u){B(o.S,function(f){return f==u})}function zs(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return UT(u).then(function(){return o})}function Nl(o){o.i&&!o.R&&(o.R=!0,uy(o.i,o))}function T1(o,u){Vn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new md(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ue(yr.prototype,"providerId","firebase");function I1(){}function Ay(o){return we().then(function(){if(o.D)throw new O("app-deleted")})}function Cy(o){return S(o.providerData,function(u){return u.providerId})}function Ny(o,u){u&&(S1(o,u.providerId),o.providerData.push(u))}function S1(o,u){B(o.providerData,function(f){return f.providerId==u})}function qo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ue(o,u,f)}function yd(o,u){o!=u&&(Vn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ue(o,"metadata",aj(u.metadata)):ue(o,"metadata",new md),H(u.providerData,function(f){Ny(o,f)}),oj(o.b,u.b),ue(o,"refreshToken",o.b.a),gd(o.O,u.O.b))}t=yr.prototype,t.reload=function(){var o=this;return Kt(this,Ay(this).then(function(){return Ry(o).then(function(){return zs(o)}).then(I1)}))};function Ry(o){return o.I().then(function(u){var f=o.isAnonymous;return fj(o,u).then(function(){return f||qo(o,"isAnonymous",!1),u})})}t.oc=function(o){return this.I(o).then(function(u){return new ej(u)})},t.I=function(o){var u=this;return Kt(this,Ay(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new O("internal-error");return f.accessToken!=u.za&&(Sy(u,f.accessToken),u.dispatchEvent(new cu("tokenChanged"))),qo(u,"refreshToken",f.refreshToken),f.accessToken}))};function Ni(o,u){u[Xr]&&o.za!=u[Xr]&&(b1(o.b,u),o.dispatchEvent(new cu("tokenChanged")),Sy(o,u[Xr]),qo(o,"refreshToken",o.b.a))}function fj(o,u){return Ue(o.a,Y2,{idToken:u}).then(U(o.Kc,o))}t.Kc=function(o){if(o=o.users,!o||!o.length)throw new O("internal-error");o=o[0],T1(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=hj(o),f=0;f<u.length;f++)Ny(this,u[f]);qo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new cu("userReloaded",{hd:o}))};function hj(o){return(o=o.providerUserInfo)&&o.length?S(o,function(u){return new uj(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}t.Lc=function(o){return em("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},t.tb=function(o){var u=this,f=null;return Kt(this,o.c(this.a,this.uid).then(function(p){return Ni(u,p),f=Rl(u,p,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function _d(o,u){return Ry(o).then(function(){if(M(Cy(o),u))return zs(o).then(function(){throw new O("provider-already-linked")})})}t.Cc=function(o){return em("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},t.qb=function(o){var u=this,f=null;return Kt(this,_d(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Rl(u,p,"link"),A1(u,p)}).then(function(){return f}))},t.Dc=function(o,u){var f=this;return Kt(this,_d(this,"phone").then(function(){return hy(Ty(f),o,u,U(f.qb,f))}))},t.Mc=function(o,u){var f=this;return Kt(this,we().then(function(){return hy(Ty(f),o,u,U(f.tb,f))}),!0)};function Rl(o,u,f){var p=_m(u);return u=VI(u),Ai({user:o,credential:p,additionalUserInfo:u,operationType:f})}function A1(o,u){return Ni(o,u),o.reload().then(function(){return o})}t.Bb=function(o){var u=this;return Kt(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return Ni(u,f),u.reload()}))},t.ed=function(o){var u=this;return Kt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Ni(u,f),u.reload()}))},t.Cb=function(o){var u=this;return Kt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Ni(u,f),u.reload()}))},t.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Ay(this);var u=this;return Kt(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Ni(u,f),qo(u,"displayName",f.displayName||null),qo(u,"photoURL",f.photoUrl||null),H(u.providerData,function(p){p.providerId==="password"&&(ue(p,"displayName",u.displayName),ue(p,"photoURL",u.photoURL))}),zs(u)}).then(I1))},t.cd=function(o){var u=this;return Kt(this,Ry(this).then(function(f){return M(Cy(u),o)?M2(u.a,f,[o]).then(function(p){var g={};return H(p.providerUserInfo||[],function(_){g[_.providerId]=!0}),H(Cy(u),function(_){g[_]||S1(u,_)}),g[to.PROVIDER_ID]||ue(u,"phoneNumber",null),zs(u)}):zs(u).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var o=this;return Kt(this,this.I().then(function(u){return Ue(o.a,V2,{idToken:u})}).then(function(){o.dispatchEvent(new cu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");wy(o,null),by(o,null),Ey(o,null),o.J=[],o.D=!0,Iy(o),ue(o,"refreshToken",null),o.i&&o1(o.i,o)})},t.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},t.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?U(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?U(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?U(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?U(this.Lb,this):null},t.Ec=function(o){var u=this;return C1(this,"linkViaPopup",o,function(){return _d(u,o.providerId).then(function(){return zs(u)})},!1)},t.Nc=function(o){return C1(this,"reauthViaPopup",o,function(){return we()},!0)};function C1(o,u,f,p,g){if(!Fs())return wt(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return wt(o.h);var _=dm(f.providerId),w=Us(o.uid+":::"),I=null;(!ol()||Qg())&&o.s&&f.isOAuthProvider&&(I=El(o.s,o.l,o.m,u,f,null,w,le.SDK_VERSION||null,null,null,o.tenantId));var L=pI(I,_&&_.ua,_&&_.ta);return p=p().then(function(){if(R1(o),!g)return o.I().then(function(){})}).then(function(){return s1(o.i,L,u,f,w,!!I,o.tenantId)}).then(function(){return new Fe(function(q,Se){o.na(u,null,new O("cancelled-popup-request"),o.g||null),o.f=q,o.C=Se,o.g=w,o.c=u1(o.i,o,u,L,w)})}).then(function(q){return L&&Ls(L),q?Ai(q):null}).o(function(q){throw L&&Ls(L),q}),Kt(o,p,g)}t.Fc=function(o){var u=this;return N1(this,"linkViaRedirect",o,function(){return _d(u,o.providerId)},!1)},t.Oc=function(o){return N1(this,"reauthViaRedirect",o,function(){return we()},!0)};function N1(o,u,f,p,g){if(!Fs())return wt(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return wt(o.h);var _=null,w=Us(o.uid+":::");return p=p().then(function(){if(R1(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=w,zs(o)}).then(function(I){return o.ha&&(I=o.ha,I=I.b.set(Oy,o.w(),I.a)),I}).then(function(){return a1(o.i,u,f,w,o.tenantId)}).o(function(I){if(_=I,o.ha)return k1(o.ha);throw _}).then(function(){if(_)throw _}),Kt(o,p,g)}function R1(o){if(!o.i||!o.R)throw o.i&&!o.R?new O("internal-error"):new O("auth-domain-config-required")}t.Kb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(w){return Vm(g.a,{requestUri:o,postBody:p,sessionId:u,idToken:w})}).then(function(w){return _=Rl(g,w,"link"),A1(g,w)}).then(function(){return _}),Kt(this,f)},t.Lb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,w=we().then(function(){return nu(Bm(g.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),g.uid)}).then(function(I){return _=Rl(g,I,"reauthenticate"),Ni(g,I),g.h=null,g.reload()}).then(function(){return _});return Kt(this,w,!0)},t.ub=function(o){var u=this,f=null;return Kt(this,this.I().then(function(p){return f=p,typeof o>"u"||xt(o)?{}:qh(new Bh(o))}).then(function(p){return u.a.ub(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},t.Eb=function(o,u){var f=this,p=null;return Kt(this,this.I().then(function(g){return p=g,typeof u>"u"||xt(u)?{}:qh(new Bh(u))}).then(function(g){return f.a.Eb(p,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function Kt(o,u,f){var p=dj(o,u,f);return o.J.push(p),p.oa(function(){V(o.J,p)}),p.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=m1(g.w(),Ty(o),U(o.jc,o))),_||g})}t.jc=function(o){var u=null,f=this;return o=nu(we(o),f.uid).then(function(p){return u=Rl(f,p,"reauthenticate"),Ni(f,p),f.h=null,f.reload()}).then(function(){return u}),Kt(this,o,!0)};function dj(o,u,f){return o.h&&!f?(u.cancel(),wt(o.h)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new cu("userInvalidated")),o.h=p),p})}t.toJSON=function(){return this.w()},t.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Zn(o,this.metadata.w()),H(this.providerData,function(u){o.providerData.push(UF(u))}),Zn(o,this.O.w()),o};function O1(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Xr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var g=new yr(u,f,o);return o.providerData&&H(o.providerData,function(_){_&&Ny(g,Ai(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function pj(o,u,f,p){var g=new yr(o,u);return f&&(g.ha=f),p&&Cl(g,p),g.reload().then(function(){return g})}function vj(o,u,f,p){var g=o.b,_={};return _[Xr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new yr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&Cl(u,p),yd(u,o),u}function gj(o){this.a=o,this.b=Al()}var Oy={name:"redirectUser",F:"session"};function k1(o){return uu(o.b,Oy,o.a)}function mj(o,u){return o.b.get(Oy,o.a).then(function(f){return f&&u&&(f.authDomain=u),O1(f||{})})}function ky(o){this.a=o,this.b=Al(),this.c=null,this.f=yj(this),this.b.addListener(Ri("local"),this.a,U(this.g,this))}ky.prototype.g=function(){var o=this,u=Ri("local");lu(this,function(){return we().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return xy(o,"local").then(function(){o.c=u})})})};function xy(o,u){var f=[],p;for(p in su)su[p]!==u&&f.push(uu(o.b,Ri(su[p]),o.a));return f.push(uu(o.b,Py,o.a)),aF(f)}function yj(o){var u=Ri("local"),f=Ri("session"),p=Ri("none");return PU(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(w){return w?u:o.b.get(Py,o.a).then(function(I){return I?Ri(I):u})})})}).then(function(g){return o.c=g,xy(o,g.F)}).o(function(){o.c||(o.c=u)})}var Py={name:"persistence",F:"session"};function Ri(o){return{name:"authUser",F:o}}ky.prototype.xb=function(o){var u=null,f=this;return xU(o),lu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,xy(f,o)}).then(function(){if(f.c=Ri(o),u)return f.b.set(f.c,u,f.a)}):we()})};function _j(o){return lu(o,function(){return o.b.set(Py,o.c.F,o.a)})}function x1(o,u){return lu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function P1(o){return lu(o,function(){return uu(o.b,o.c,o.a)})}function D1(o,u,f){return lu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),O1(p||{})})})}function lu(o,u){return o.f=o.f.then(u,u),o.f}function Jr(o){if(this.l=!1,ue(this,"settings",new p1),ue(this,"app",o),at(this).options&&at(this).options.apiKey)o=le.SDK_VERSION?Ja(le.SDK_VERSION):null,this.a=new Qr(at(this).options&&at(this).options.apiKey,yt(He),o);else throw new O("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=le.INTERNAL.createSubscribe(U(this.zc,this)),this.X=void 0,this.bc=le.INTERNAL.createSubscribe(U(this.Ac,this)),fu(this,null),this.i=new ky(at(this).options.apiKey+":"+at(this).name),this.D=new gj(at(this).options.apiKey+":"+at(this).name),this.$=Ot(this,Sj(this)),this.h=Ot(this,Aj(this)),this.ba=!1,this.ja=U(this.Zc,this),this.Ba=U(this.da,this),this.ya=U(this.mc,this),this.za=U(this.wc,this),this.Aa=U(this.xc,this),this.b=null,Ej(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Gc,this),this.u=0,jn.call(this),bj(this),this.J=[],this.P=null}de(Jr,jn);function M1(o){tr.call(this,"languageCodeChanged"),this.h=o}de(M1,tr);function L1(o){tr.call(this,"emulatorConfigChanged"),this.c=o}de(L1,tr);function F1(o){tr.call(this,"frameworkChanged"),this.f=o}de(F1,tr),t=Jr.prototype,t.xb=function(o){return o=this.i.xb(o),Ot(this,o)},t.wa=function(o){this.aa===o||this.l||(this.aa=o,vS(this.a,this.aa),this.dispatchEvent(new M1(this.la())))},t.la=function(){return this.aa},t.fd=function(){var o=l.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},t.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,wj(u),this.P={url:o,ec:u},this.settings.ib=!0,iu(this.a,this.P),this.dispatchEvent(new L1(this.P))}};function wj(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&Uh().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}t.Gc=function(o){this.J.push(o),gS(this.a,le.SDK_VERSION?Ja(le.SDK_VERSION,this.J):null),this.dispatchEvent(new F1(this.J))},t.Ga=function(){return z(this.J)},t.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},t.T=function(){return this.S};function bj(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=nr(this.P.url);u=Ai({protocol:u.c,host:u.a,port:u.g,options:Ai({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}t.toJSON=function(){return{apiKey:at(this).options.apiKey,authDomain:at(this).options.authDomain,appName:at(this).name,currentUser:Re(this)&&Re(this).w()}};function Dy(o){return o.Oa||wt(new O("auth-domain-config-required"))}function Ej(o){var u=at(o).options.authDomain,f=at(o).options.apiKey;u&&Fs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=l1(u,f,at(o).name,o.P),uy(o.b,o),Re(o)&&Nl(Re(o)),o.m){Nl(o.m);var p=o.m;p.wa(o.la()),wy(p,o),p=o.m,Cl(p,o.J),Ey(p,o),p=o.m,iu(p.a,o.P),by(p,o),o.m=null}return o.b}}))}t.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},t.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?U(this.ic,this):null},t.ic=function(o,u,f,p){var g=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Ks(g,jm(g.a,_))})},t.Xc=function(o){if(!Fs())return wt(new O("operation-not-supported-in-this-environment"));var u=this,f=dm(o.providerId),p=Us(),g=null;(!ol()||Qg())&&at(this).options.authDomain&&o.isOAuthProvider&&(g=El(at(this).options.authDomain,at(this).options.apiKey,at(this).name,"signInViaPopup",o,null,p,le.SDK_VERSION||null,null,null,this.T(),this.P));var _=pI(g,f&&f.ua,f&&f.ta);return f=Dy(this).then(function(w){return s1(w,_,"signInViaPopup",o,p,!!g,u.T())}).then(function(){return new Fe(function(w,I){u.na("signInViaPopup",null,new O("cancelled-popup-request"),u.g),u.f=w,u.C=I,u.g=p,u.c=u1(u.b,u,"signInViaPopup",_,p)})}).then(function(w){return _&&Ls(_),w?Ai(w):null}).o(function(w){throw _&&Ls(_),w}),Ot(this,f)},t.Yc=function(o){if(!Fs())return wt(new O("operation-not-supported-in-this-environment"));var u=this,f=Dy(this).then(function(){return _j(u.i)}).then(function(){return a1(u.b,"signInViaRedirect",o,void 0,u.T())});return Ot(this,f)};function U1(o){if(!Fs())return wt(new O("operation-not-supported-in-this-environment"));var u=Dy(o).then(function(){return o.b.qa()}).then(function(f){return f?Ai(f):null});return Ot(o,u)}t.qa=function(){var o=this;return U1(this).then(function(u){return o.b&&vd(o.b.b),u}).o(function(u){throw o.b&&vd(o.b.b),u})},t.dd=function(o){if(!o)return wt(new O("null-user"));if(this.S!=o.tenantId)return wt(new O("tenant-id-mismatch"));var u=this,f={};f.apiKey=at(this).options.apiKey,f.authDomain=at(this).options.authDomain,f.appName=at(this).name;var p=vj(o,f,u.D,u.Ga());return Ot(this,this.h.then(function(){if(at(u).options.apiKey!=o.l)return p.reload()}).then(function(){return Re(u)&&o.uid==Re(u).uid?(yd(Re(u),o),u.da(o)):(fu(u,p),Nl(p),u.da(p))}).then(function(){Ol(u)}))};function Tj(o,u){var f={};return f.apiKey=at(o).options.apiKey,f.authDomain=at(o).options.authDomain,f.appName=at(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return pj(f,u,o.D,o.Ga())}).then(function(p){return Re(o)&&p.uid==Re(o).uid?(yd(Re(o),p),o.da(p)):(fu(o,p),Nl(p),o.da(p))}).then(function(){Ol(o)})}function fu(o,u){Re(o)&&(lj(Re(o),o.Ba),gr(Re(o),"tokenChanged",o.ya),gr(Re(o),"userDeleted",o.za),gr(Re(o),"userInvalidated",o.Aa),Iy(Re(o))),u&&(u.S.push(o.Ba),kr(u,"tokenChanged",o.ya),kr(u,"userDeleted",o.za),kr(u,"userInvalidated",o.Aa),0<o.u&&E1(u)),ue(o,"currentUser",u),u&&(u.wa(o.la()),wy(u,o),Cl(u,o.J),Ey(u,o),iu(u.a,o.P),by(u,o))}t.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&vd(o.b.b),Re(o)?(fu(o,null),P1(o.i).then(function(){Ol(o)})):we()});return Ot(this,u)};function Ij(o){var u=mj(o.D,at(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),k1(o.D)});return Ot(o,u)}function Sj(o){var u=at(o).options.authDomain,f=Ij(o).then(function(){return D1(o.i,u,o.P)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return x1(o.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:P1(o.i)})):null}).then(function(p){fu(o,p||null)});return Ot(o,f)}function Aj(o){return o.$.then(function(){return U1(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ri("local"),u.a,o.ja)}})}t.Zc=function(){var o=this;return D1(this.i,at(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Re(o)&&u){f=Re(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return yd(Re(o),u),Re(o).I();(Re(o)||u)&&(fu(o,u),u&&(Nl(u),u.ha=o.D),o.b&&uy(o.b,o),Ol(o))}})},t.da=function(o){return x1(this.i,o)},t.mc=function(){Ol(this),this.da(Re(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()};function Ks(o,u){var f=null,p=null;return Ot(o,u.then(function(g){return f=_m(g),p=VI(g),Tj(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=m1(g.w(),o,U(o.kc,o))),_||g}).then(function(){return Ai({user:Re(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}t.kc=function(o){var u=this;return this.h.then(function(){return Ks(u,we(o))})},t.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Re(u))})},t.Ac=function(o){var u=this;Cj(this,function(){o.next(Re(u))})},t.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Re(p)):typeof o.next=="function"&&o.next(Re(p))}),this.hb(o,u,f)},t.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(Re(p)):typeof o.next=="function"&&o.next(Re(p))}),this.bc(o,u,f)},t.nc=function(o){var u=this,f=this.h.then(function(){return Re(u)?Re(u).I(o).then(function(p){return{accessToken:p}}):null});return Ot(this,f)},t.Tc=function(o){var u=this;return this.h.then(function(){return Ks(u,Ue(u.a,aU,{token:o}))}).then(function(f){var p=f.user;return qo(p,"isAnonymous",!1),u.da(p),f})},t.Uc=function(o,u){var f=this;return this.h.then(function(){return Ks(f,Ue(f.a,SS,{email:o,password:u}))})},t.dc=function(o,u){var f=this;return this.h.then(function(){return Ks(f,Ue(f.a,U2,{email:o,password:u}))})},t.$a=function(o){var u=this;return this.h.then(function(){return Ks(u,o.ka(u.a))})},t.Sc=function(o){return em("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},t.zb=function(){var o=this;return this.h.then(function(){var u=Re(o);if(u&&u.isAnonymous){var f=Ai({providerId:null,isNewUser:!1});return Ai({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ks(o,o.a.zb()).then(function(p){var g=p.user;return qo(g,"isAnonymous",!0),o.da(g),p})})};function at(o){return o.app}function Re(o){return o.currentUser}t.getUid=function(){return Re(this)&&Re(this).uid||null};function wd(o){return Re(o)&&Re(o)._lat||null}function Ol(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](wd(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](wd(o))}}t.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Re(this)&&E1(Re(this))},t.Pc=function(o){var u=this;H(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Re(this)&&Iy(Re(this)),this.removeAuthTokenListener(o)},t.addAuthTokenListener=function(o){var u=this;this.s.push(o),Ot(this,this.h.then(function(){u.l||M(u.s,o)&&o(wd(u))}))},t.removeAuthTokenListener=function(o){B(this.s,function(u){return u==o})};function Cj(o,u){o.O.push(u),Ot(o,o.h.then(function(){!o.l&&M(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(wd(o)))}))}t.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Ri("local"),o.a,this.ja)),this.b&&(o1(this.b,this),vd(this.b.b)),Promise.resolve()};function Ot(o,u){return o.R.push(u),u.oa(function(){V(o.R,u)}),u}t.hc=function(o){return Ot(this,R2(this.a,o))},t.Bc=function(o){return!!ym(o)},t.wb=function(o,u){var f=this;return Ot(this,we().then(function(){var p=new Bh(u);if(!p.c)throw new O("argument-error",fm+" must be true when sending sign in link to email");return qh(p)}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},t.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},t.nb=function(o,u){return Ot(this,this.a.nb(o,u).then(function(){}))},t.Ra=function(o){return Ot(this,this.a.Ra(o).then(function(u){return new VF(u)}))},t.jb=function(o){return Ot(this,this.a.jb(o).then(function(){}))},t.vb=function(o,u){var f=this;return Ot(this,we().then(function(){return typeof u>"u"||xt(u)?{}:qh(new Bh(u))}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},t.Wc=function(o,u){return Ot(this,hy(this,o,u,U(this.$a,this)))},t.Vc=function(o,u){var f=this;return Ot(this,we().then(function(){var p=u||il(),g=JI(o,p);if(p=ym(p),!p)throw new O("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new O("tenant-id-mismatch");return f.$a(g)}))};function kl(){}kl.prototype.render=function(){},kl.prototype.reset=function(){},kl.prototype.getResponse=function(){},kl.prototype.execute=function(){};function hu(){this.a={},this.b=1e12}var My=null;hu.prototype.render=function(o,u){return this.a[this.b.toString()]=new bd(o,u),this.b++},hu.prototype.reset=function(o){var u=Ly(this,o);o=j1(o),u&&o&&(u.delete(),delete this.a[o])},hu.prototype.getResponse=function(o){return(o=Ly(this,o))?o.getResponse():null},hu.prototype.execute=function(o){(o=Ly(this,o))&&o.execute()};function Ly(o,u){return(u=j1(u))&&o.a[u]||null}function j1(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function bd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Xc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():kr(this.f,"click",this.i)}bd.prototype.getResponse=function(){return Fy(this),this.b},bd.prototype.execute=function(){Fy(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=DF();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},bd.prototype.delete=function(){Fy(this),this.g=!0,clearTimeout(this.a),this.a=null,gr(this.f,"click",this.i)};function Fy(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function Uy(){}ue(Uy,"FACTOR_ID","phone");function jy(){}jy.prototype.g=function(){return My||(My=new hu),we(My)},jy.prototype.c=function(){};var Vy=null;function By(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nj=new Ti(Sh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rj=new jo(3e4,6e4);By.prototype.g=function(o){var u=this;return new Fe(function(f,p){var g=setTimeout(function(){p(new O("network-request-failed"))},Rj.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var w=l.grecaptcha.render;l.grecaptcha.render=function(I,L){return I=w(I,L),u.b++,I},clearTimeout(g),f(l.grecaptcha)}else clearTimeout(g),p(new O("internal-error"));delete l[u.a]};var _=Ig(Nj,{onload:u.a,hl:o||""});we(xm(_)).o(function(){clearTimeout(g),p(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(l.grecaptcha)})},By.prototype.c=function(){this.b--};var qy=null;function Wy(o,u,f,p,g,_,w){if(ue(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,w?(Vy||(Vy=new jy),w=Vy):(qy||(qy=new By),w=qy),this.m=w,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[q1])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Oj]==="invisible",!l.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Xc(u)||!this.i&&Xc(u).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qr(o,_||null,g||null),this.u=p||function(){return null};var I=this;this.l=[];var L=this.a[V1];this.a[V1]=function(Se){if(W1(I,Se),typeof L=="function")L(Se);else if(typeof L=="string"){var nt=bt(L,l);typeof nt=="function"&&nt(Se)}};var q=this.a[B1];this.a[B1]=function(){if(W1(I,null),typeof q=="function")q();else if(typeof q=="string"){var Se=bt(q,l);typeof Se=="function"&&Se()}}}var V1="callback",B1="expired-callback",q1="sitekey",Oj="size";function W1(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function kj(o,u){B(o.l,function(f){return f==u})}function Hy(o,u){return o.h.push(u),u.oa(function(){V(o.h,u)}),u}t=Wy.prototype,t.Ia=function(){var o=this;return this.f?this.f:this.f=Hy(this,we().then(function(){if(jh()&&!zr())return Uh();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Ue(o.s,J2,{})}).then(function(u){o.a[q1]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},t.render=function(){Ed(this);var o=this;return Hy(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Xc(u);u=rF("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},t.verify=function(){Ed(this);var o=this;return Hy(this,this.render().then(function(u){return new Fe(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var g=function(_){_&&(kj(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},t.reset=function(){Ed(this),this.c!==null&&this.g.reset(this.c)};function Ed(o){if(o.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Ed(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Xc(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function Gy(o,u,f){var p=!1;try{this.b=f||le.app()}catch{throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new O("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=le.SDK_VERSION?Ja(le.SDK_VERSION,_):null,Wy.call(this,f,o,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},_,yt(He),p)}de(Gy,Wy);function H1(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,w=0;w<u.length;w++)if(u[w].optional)_=!0;else{if(_)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)p="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=G1.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");f=G1[g],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new O("argument-error",o+" failed: "+p)}var G1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ae(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function Yy(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function qt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:T}}function du(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Oi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function xj(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function Pj(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Jr)}}}function Dj(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof le.app.App)}}}function Wo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function Y1(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function pu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function $y(o,u){return T(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function $1(o){return T(o)&&typeof o.uid=="string"}function Td(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function Dt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(g){return o.M(g)||u.M(g)}}}function At(o,u){for(var f in u){var p=u[f].name;o[p]=K1(p,o[f],u[f].j)}}function z1(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:Te(function(g){return this[g]},f),set:Te(function(g,_,w,I){H1(g,[w],[I],!0),this[_]=I},p,f,u[f].kb),enumerable:!0})}}function Mt(o,u,f,p){o[u]=K1(u,f,p)}function K1(o,u,f){function p(){var w=Array.prototype.slice.call(arguments);return H1(g,f,w),u.apply(this,w)}if(!f)return u;var g=Mj(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function Mj(o){return o=o.split("."),o[o.length-1]}At(Jr.prototype,{jb:{name:"applyActionCode",j:[ae("code")]},Ra:{name:"checkActionCode",j:[ae("code")]},nb:{name:"confirmPasswordReset",j:[ae("code"),ae("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ae("email"),ae("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ae("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ae("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Dt(qt(),du(),"nextOrObserver"),du("opt_error",!0),du("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Dt(qt(),du(),"nextOrObserver"),du("opt_error",!0),du("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[ae("email"),Dt(qt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[ae("email"),qt("actionCodeSettings")]},xb:{name:"setPersistence",j:[ae("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Wo()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Wo()]},Tc:{name:"signInWithCustomToken",j:[ae("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ae("email"),ae("password")]},Vc:{name:"signInWithEmailLink",j:[ae("email"),ae("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ae("phoneNumber"),Td()]},Xc:{name:"signInWithPopup",j:[pu()]},Yc:{name:"signInWithRedirect",j:[pu()]},dd:{name:"updateCurrentUser",j:[Dt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof yr)}}}(),Oi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ae(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ae("url"),qt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ae("code")]}}),z1(Jr.prototype,{lc:{name:"languageCode",kb:Dt(ae(),Oi(),"languageCode")},ti:{name:"tenantId",kb:Dt(ae(),Oi(),"tenantId")}}),Jr.Persistence=su,Jr.Persistence.LOCAL="local",Jr.Persistence.SESSION="session",Jr.Persistence.NONE="none",At(yr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Yy("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Yy("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Wo()]},qb:{name:"linkWithCredential",j:[Wo()]},Dc:{name:"linkWithPhoneNumber",j:[ae("phoneNumber"),Td()]},Ec:{name:"linkWithPopup",j:[pu()]},Fc:{name:"linkWithRedirect",j:[pu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wo()]},tb:{name:"reauthenticateWithCredential",j:[Wo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ae("phoneNumber"),Td()]},Nc:{name:"reauthenticateWithPopup",j:[pu()]},Oc:{name:"reauthenticateWithRedirect",j:[pu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Dt(qt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ae(null,!0)]},cd:{name:"unlink",j:[ae("provider")]},Bb:{name:"updateEmail",j:[ae("email")]},Cb:{name:"updatePassword",j:[ae("password")]},ed:{name:"updatePhoneNumber",j:[Wo("phone")]},Db:{name:"updateProfile",j:[qt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[ae("email"),Dt(qt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]}}),At(hu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(kl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(Fe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),z1(p1.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Yy("appVerificationDisabledForTesting")}}),At(fy.prototype,{confirm:{name:"confirm",j:[ae("verificationCode")]}}),Mt(tu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[i2,o2,s2,r2],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[Dt(ae(),qt(),"json")]),Mt(Pr,"credential",function(o,u){return new Vo(o,u)},[ae("email"),ae("password")]),At(Vo.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),At(Bs.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Mt(Bs,"credential",zI,[Dt(ae(),qt(),"token")]),Mt(Pr,"credentialWithLink",JI,[ae("email"),ae("emailLink")]),At(qs.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Mt(qs,"credential",KI,[Dt(ae(),qt(),"token")]),At(Ws.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Mt(Ws,"credential",QI,[Dt(ae(),Dt(qt(),Oi()),"idToken"),Dt(ae(),Oi(),"accessToken",!0)]),At(ru.prototype,{Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Mt(ru,"credential",XI,[Dt(ae(),qt(),"token"),ae("secret",!0)]),At(mr.prototype,{Ca:{name:"addScope",j:[ae("scope")]},credential:{name:"credential",j:[Dt(ae(),Dt(qt(),Oi()),"optionsOrIdToken"),Dt(ae(),Oi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),At(eo.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),At(js.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),Mt(to,"credential",ZI,[ae("verificationId"),ae("verificationCode")]),At(to.prototype,{fb:{name:"verifyPhoneNumber",j:[Dt(ae(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?$y(f.session,fl)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?$y(f.session,$h)&&$1(f.multiFactorHint):f.session&&f.multiFactorUid?$y(f.session,$h)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Td()]}}),At(Bo.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),At(O.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),At(dl.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),At(Em.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),At(py.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),At(dy.prototype,{Rc:{name:"resolveSignIn",j:[Y1()]}}),At(gy.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Y1(),ae("displayName",!0)]},bd:{name:"unenroll",j:[Dt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:$1},ae(),"multiFactorInfoIdentifier")]}}),At(Gy.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mt(lm,"parseLink",OI,[ae("link")]),Mt(Uy,"assertion",function(o){return new _1(o)},[Wo("phone")]),function(){if(typeof le<"u"&&le.INTERNAL&&le.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:cm,VERIFY_AND_CHANGE_EMAIL:cl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Jr,AuthCredential:tu,Error:O};Mt(o,"EmailAuthProvider",Pr,[]),Mt(o,"FacebookAuthProvider",Bs,[]),Mt(o,"GithubAuthProvider",qs,[]),Mt(o,"GoogleAuthProvider",Ws,[]),Mt(o,"TwitterAuthProvider",ru,[]),Mt(o,"OAuthProvider",mr,[ae("providerId")]),Mt(o,"SAMLAuthProvider",$I,[ae("providerId")]),Mt(o,"PhoneAuthProvider",to,[Pj()]),Mt(o,"RecaptchaVerifier",Gy,[Dt(ae(),xj(),"recaptchaContainer"),qt("recaptchaParameters",!0),Dj()]),Mt(o,"ActionCodeURL",lm,[]),Mt(o,"PhoneMultiFactorGenerator",Uy,[]),le.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Jr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),le.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:U(u.getUid,u),getToken:U(u.nc,u),addAuthTokenListener:U(u.cc,u),removeAuthTokenListener:U(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),le.registerVersion("@firebase/auth","0.16.3"),le.INTERNAL.extendNamespace({User:yr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v$=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Jt(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:If(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g$=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return hr(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jk=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new v$(e)}}catch{}return new g$},aa=Jk("localStorage"),Aw=Jk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yu=new Dc("@firebase/database"),Zk=function(){var t=1;return function(){return t++}}(),ex=function(t){var e=FY(t),n=new PY;n.update(e);var r=n.digest();return sb.encodeByteArray(r)},th=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=th.apply(null,i):typeof i=="object"?n+=Jt(i):n+=i,n+=" "}return n},va=null,rC=!0,tx=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Yu.logLevel=De.VERBOSE,va=Yu.log.bind(Yu),e&&Aw.set("logging_enabled",!0)):typeof t=="function"?va=t:(va=null,Aw.remove("logging_enabled"))},bn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(rC===!0&&(rC=!1,va===null&&Aw.get("logging_enabled")===!0&&tx(!0)),va){var n=th.apply(null,t);va(n)}},nh=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];bn.apply(void 0,xo([t],e))}},Cw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+th.apply(void 0,xo(t));Yu.error(n)},Fi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+th.apply(void 0,xo(t));throw Yu.error(n),new Error(n)},kn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+th.apply(void 0,xo(t));Yu.warn(n)},m$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},y$=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Io="[MIN_NAME]",Hi="[MAX_NAME]",La=function(t,e){if(t===e)return 0;if(t===Io||e===Hi)return-1;if(e===Io||t===Hi)return 1;var n=Op(t),r=Op(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},_$=function(t,e){return t===e?0:t<e?-1:1},Ll=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Jt(e))},db=function(t){if(typeof t!="object"||t===null)return Jt(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=Jt(e[i]),r+=":",r+=db(t[e[i]]);return r+="}",r},nx=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Zt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var rx=function(t){K(!jv(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,s,a,c,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},w$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},b$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},E$=function(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},T$=new RegExp("^-?(0*)\\d{1,10}$"),ix=-2147483648,pb=2147483647,Op=function(t){if(T$.test(t)){var e=Number(t);if(e>=ix&&e<=pb)return e}return null},xu=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw kn("Exception was thrown by user callback.",n),e},Math.floor(0))}},I$=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nf=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t.prototype.toUrlEncodedString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(this.pieces_[n])));return e||"/"},t.prototype.slice=function(e){return e===void 0&&(e=0),this.pieces_.slice(this.pieceNum_+e)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(r===null)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(e,n){for(var r=e.slice(),i=n.slice(),s=0;s<r.length&&s<i.length;s++){var a=La(r[s],i[s]);if(a!==0)return a}return r.length===i.length?0:r.length<i.length?-1:1},t.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var n=this.pieceNum_,r=e.pieceNum_;n<=this.pieces_.length;n++,r++)if(this.pieces_[n]!==e.pieces_[r])return!1;return!0},t.prototype.contains=function(e){var n=this.pieceNum_,r=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0},t}(),S$=function(){function t(e,n){this.errorPrefix_=n,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=rp(this.parts_[r]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=rp(e),this.checkValid_()},t.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=rp(e),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vb="5",ox="v",sx="s",ax="r",ux="f",cx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lx="ls",A$="p",fx="websocket",hx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gb=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=aa.get("host:"+e)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},t.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},t.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&aa.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");var r;if(e===fx)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(e===hx)r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);this.needsQueryParam()&&(n.ns=this.namespace);var i=[];return Zt(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")},t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function N$(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Ft(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):kn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var Nw=function(t,e){var n=R$(t),r=n.namespace;n.domain==="firebase.com"&&Fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||m$();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new gb(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new re(n.pathString)}},R$=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof t=="string"){var h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));var d=t.indexOf("/");d===-1&&(d=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(d,v)),d<v&&(i=C$(t.substring(d,v)));var m=N$(t.substring(Math.min(t.length,v)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;var y=e.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O$=/[\[\].#$\/\u0000-\u001F\u007F]/,k$=/[\[\].#$\u0000-\u001F\u007F]/,c_=10*1024*1024,Vv=function(t){return typeof t=="string"&&t.length!==0&&!O$.test(t)},dx=function(t){return typeof t=="string"&&t.length!==0&&!k$.test(t)},x$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dx(t)},Sf=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!jv(t)||t&&typeof t=="object"&&hr(t,".sv")},Li=function(t,e,n,r,i){i&&n===void 0||Af(qr(t,e,i),n,r)},Af=function(t,e,n){var r=n instanceof re?new S$(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+r.toErrorString());if(typeof e=="function")throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(jv(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if(typeof e=="string"&&e.length>c_/3&&rp(e)>c_)throw new Error(t+"contains a string greater than "+c_+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,s=!1;if(Zt(e,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Vv(a)))throw new Error(t+" contains an invalid key ("+a+") "+r.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r.push(a),Af(t,c,r),r.pop()}),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},P$=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!Vv(i[s]))throw new Error(t+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(re.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},px=function(t,e,n,r,i){if(!(i&&n===void 0)){var s=qr(t,e,i);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];Zt(n,function(c,l){var h=new re(c);if(Af(s,l,r.child(h)),h.getBack()===".priority"&&!Sf(l))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),P$(s,a)}},Rw=function(t,e,n,r){if(!(r&&n===void 0)){if(jv(n))throw new Error(qr(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sf(n))throw new Error(qr(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},l_=function(t,e,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(qr(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Fl=function(t,e,n,r){if(!(r&&n===void 0)&&!Vv(n))throw new Error(qr(t,e,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Cf=function(t,e,n,r){if(!(r&&n===void 0)&&!dx(n))throw new Error(qr(t,e,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},D$=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cf(t,e,n,r)},Mr=function(t,e){if(e.getFront()===".info")throw new Error(t+" failed = Can't modify data under /.info/")},vx=function(t,e,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Vv(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!x$(r))throw new Error(qr(t,e,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},M$=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(qr(t,e,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L$=function(){function t(e,n){this.repo_=e,this.path_=n}return t.prototype.cancel=function(e){be("OnDisconnect.cancel",0,1,arguments.length),fn("OnDisconnect.cancel",1,e,!0);var n=new ar;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(e)),n.promise},t.prototype.remove=function(e){be("OnDisconnect.remove",0,1,arguments.length),Mr("OnDisconnect.remove",this.path_),fn("OnDisconnect.remove",1,e,!0);var n=new ar;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(e)),n.promise},t.prototype.set=function(e,n){be("OnDisconnect.set",1,2,arguments.length),Mr("OnDisconnect.set",this.path_),Li("OnDisconnect.set",1,e,this.path_,!1),fn("OnDisconnect.set",2,n,!0);var r=new ar;return this.repo_.onDisconnectSet(this.path_,e,r.wrapCallback(n)),r.promise},t.prototype.setWithPriority=function(e,n,r){be("OnDisconnect.setWithPriority",2,3,arguments.length),Mr("OnDisconnect.setWithPriority",this.path_),Li("OnDisconnect.setWithPriority",1,e,this.path_,!1),Rw("OnDisconnect.setWithPriority",2,n,!1),fn("OnDisconnect.setWithPriority",3,r,!0);var i=new ar;return this.repo_.onDisconnectSetWithPriority(this.path_,e,n,i.wrapCallback(r)),i.promise},t.prototype.update=function(e,n){if(be("OnDisconnect.update",1,2,arguments.length),Mr("OnDisconnect.update",this.path_),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,kn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}px("OnDisconnect.update",1,e,this.path_,!1),fn("OnDisconnect.update",2,n,!0);var s=new ar;return this.repo_.onDisconnectUpdate(this.path_,e,s.wrapCallback(n)),s.promise},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F$=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return be("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ow="-",gx="z",mx=786,U$=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=oc.charAt(n%64),n=Math.floor(n/64);K(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=oc.charAt(e[i]);return K(a.length===20,"nextPushId: Length should be 20."),a}}(),iC=function(t){if(t===""+pb)return Ow;var e=Op(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<mx)return n.push(Ow),n.join("");for(var i=n.length-1;i>=0&&n[i]===gx;)i--;if(i===-1)return Hi;var s=n[i],a=oc.charAt(oc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},oC=function(t){if(t===""+ix)return Io;var e=Op(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===Ow?n.length===1?""+pb:(delete n[n.length-1],n.join("")):(n[n.length-1]=oc.charAt(oc.indexOf(n[n.length-1])-1),n.join("")+gx.repeat(mx-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bv=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new Ve(Io,e),i=new Ve(Io,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return Ve.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xd,yx=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return xd},set:function(n){xd=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return La(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw xc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return Ve.MIN},e.prototype.maxPost=function(){return new Ve(Hi,xd)},e.prototype.makePost=function(n,r){return K(typeof n=="string","KeyIndex indexValue must always be a string."),new Ve(n,xd)},e.prototype.toString=function(){return".key"},e}(Bv),ji=new yx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kw;function j$(t){kw=t}var _x=function(t){return typeof t=="number"?"number:"+rx(t):"string:"+t},wx=function(t){if(t.isLeafNode()){var e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hr(e,".sv"),"Priority must be a string or number.")}else K(t===kw||t.isEmpty(),"priority of unexpected type.");K(t===kw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sC,sc=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wx(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return sC},set:function(e){sC=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:e.getFront()===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||e.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+_x(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=rx(this.value_):e+=this.value_,this.lazyHash_=ex(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return K(i>=0,"Unknown leaf type: "+n),K(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bx,Ex;function V$(t){bx=t}function B$(t){Ex=t}var q$=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?La(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Ve.MIN},e.prototype.maxPost=function(){return new Ve(Hi,new sc("[PRIORITY-POST]",Ex))},e.prototype.makePost=function(n,r){var i=bx(n);return new Ve(r,new sc("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(Bv),ut=new q$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd=function(){function t(e,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),ni=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??po.EMPTY_NODE,this.right=s??po.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return po.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return po.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),W$=function(){function t(){}return t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.insert=function(e,n,r){return new ni(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),po=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ni.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ni.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new Pd(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new Pd(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new Pd(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new Pd(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new W$,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H$=Math.log(2),G$=function(){function t(e){var n=function(s){return parseInt(Math.log(s)/H$,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),kp=function(t,e,n,r){t.sort(e);var i=function(l,h){var d=h-l,v,m;if(d===0)return null;if(d===1)return v=t[l],m=n?n(v):v,new ni(m,v.node,ni.BLACK,null,null);var y=parseInt(d/2,10)+l,b=i(l,y),E=i(y+1,h);return v=t[y],m=n?n(v):v,new ni(m,v.node,ni.BLACK,b,E)},s=function(l){for(var h=null,d=null,v=t.length,m=function(C,x){var D=v-C,F=v;v-=C;var X=i(D+1,F),U=t[D],Te=n?n(U):U;y(new ni(Te,U.node,x,null,X))},y=function(C){h?(h.left=C,h=C):(d=C,h=C)},b=0;b<l.count;++b){var E=l.nextBitIsOne(),T=Math.pow(2,l.count-(b+1));E?m(T,ni.BLACK):(m(T,ni.BLACK),m(T,ni.RED))}return d},a=new G$(t.length),c=s(a);return new po(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f_,_u={},xp=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return K(_u&&ut,"ChildrenNode.ts has not been loaded"),f_=f_||new t({".priority":_u},{".priority":ut}),f_},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=si(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof po?n:null},t.prototype.hasIndex=function(e){return hr(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){K(e!==ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Ve.Wrap),a=s.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=kp(r,e.getCompare()):c=_u;var l=e.toString(),h=ft({},this.indexSet_);h[l]=e;var d=ft({},this.indexes_);return d[l]=c,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=Np(this.indexes_,function(s,a){var c=si(r.indexSet_,a);if(K(c,"Missing index implementation for "+a),s===_u)if(c.isDefinedOn(e.node)){for(var l=[],h=n.getIterator(Ve.Wrap),d=h.getNext();d;)d.name!==e.name&&l.push(d),d=h.getNext();return l.push(e),kp(l,c.getCompare())}else return _u;else{var v=n.get(e.name),m=s;return v&&(m=m.remove(new Ve(e.name,v))),m.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Np(this.indexes_,function(i){if(i===_u)return i;var s=n.get(e.name);return s?i.remove(new Ve(e.name,s)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t,e){return La(t.name,e.name)}function mb(t,e){return La(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ul,Ce=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&wx(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Ul||(Ul=new t(new po(mb),null,xp.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Ul},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Ul:n},t.prototype.getChild=function(e){var n=e.getFront();return n===null?this:this.getImmediateChild(n).getChild(e.popFront())},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new Ve(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Ul:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(e,n){var r=e.getFront();if(r===null)return n;K(e.getFront()!==".priority"||e.getLength()===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(e.popFront(),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(ut,function(l,h){n[l]=h.val(e),r++,s&&t.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!e&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+_x(this.getPriority().val())+":"),this.forEachChild(ut,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ex(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Ve(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new Ve(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new Ve(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,Ve.Wrap),s=i.peek();s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,Ve.Wrap),s=i.peek();s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rh?-1:0},t.prototype.withIndex=function(e){if(e===ji||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===ji||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(ut),i=n.getIterator(ut),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===ji?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),$$=function(t){ee(e,t);function e(){return t.call(this,new po(mb),Ce.EMPTY_NODE,xp.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Ce.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ce),rh=new $$;Object.defineProperties(Ve,{MIN:{value:new Ve(Io,Ce.EMPTY_NODE)},MAX:{value:new Ve(Hi,rh)}});yx.__EMPTY_NODE=Ce.EMPTY_NODE;sc.__childrenNodeConstructor=Ce;j$(rh);B$(rh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z$=!0;function Ct(t,e){if(e===void 0&&(e=null),t===null)return Ce.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new sc(n,Ct(e))}if(!(t instanceof Array)&&z$){var r=[],i=!1,s=t;if(Zt(s,function(h,d){if(h.substring(0,1)!=="."){var v=Ct(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Ve(h,v)))}}),r.length===0)return Ce.EMPTY_NODE;var a=kp(r,Y$,function(h){return h.name},mb);if(i){var c=kp(r,ut.getCompare());return new Ce(a,Ct(e),new xp({".priority":c},{".priority":ut}))}else return new Ce(a,Ct(e),xp.Default)}else{var l=Ce.EMPTY_NODE;return Zt(t,function(h,d){if(hr(t,h)&&h.substring(0,1)!=="."){var v=Ct(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(Ct(e))}}V$(Ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K$=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?La(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return Ve.MIN},e.prototype.maxPost=function(){return Ve.MAX},e.prototype.makePost=function(n,r){var i=Ct(n);return new Ve(r,i)},e.prototype.toString=function(){return".value"},e}(Bv),xw=new K$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pw=function(t){ee(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,K(!n.isEmpty()&&n.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?La(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=Ct(n),s=Ce.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ve(r,s)},e.prototype.maxPost=function(){var n=Ce.EMPTY_NODE.updateChild(this.indexPath_,rh);return new Ve(Hi,n)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Bv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts=function(){function t(e,n,r){this.node_=e,this.ref_=n,this.index_=r}return t.prototype.val=function(){return be("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return be("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return be("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return be("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){be("DataSnapshot.child",0,1,arguments.length),e=String(e),Cf("DataSnapshot.child",1,e,!1);var n=new re(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,ut)},t.prototype.hasChild=function(e){be("DataSnapshot.hasChild",1,1,arguments.length),Cf("DataSnapshot.hasChild",1,e,!1);var n=new re(e);return!this.node_.getChild(n).isEmpty()},t.prototype.getPriority=function(){return be("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(be("DataSnapshot.forEach",1,1,arguments.length),fn("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,s){return e(new t(s,n.ref_.child(i),ut))})},t.prototype.hasChildren=function(){return be("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return be("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return be("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tx=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.getRef();return this.eventType==="value"?e.path:e.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Jt(this.snapshot.exportVal())},t}(),Ix=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aC=function(){function t(e,n,r){this.callback_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n.getQueryParams().getIndex();return new Tx("value",this,new ts(e.snapshotNode,n.getRef(),r))},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callback_;return function(){i.call(n,e.snapshot)}}},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new Ix(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callback_||!this.callback_?!0:e.callback_===this.callback_&&e.context_===this.context_:!1},t.prototype.hasAnyCallback=function(){return this.callback_!==null},t}(),uC=function(){function t(e,n,r){this.callbacks_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,hr(this.callbacks_,n)},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new Ix(this,e,n):null},t.prototype.createEvent=function(e,n){K(e.childName!=null,"Child events should have a childName.");var r=n.getRef().child(e.childName),i=n.getQueryParams().getIndex();return new Tx(e.type,this,new ts(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callbacks_[e.eventType];return function(){i.call(n,e.snapshot,e.prevName)}}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),s=r.length,a=i.length;if(s===a)if(s===1){var c=r[0],l=i[0];return l===c&&(!e.callbacks_[c]||!this.callbacks_[l]||e.callbacks_[c]===this.callbacks_[l])}else return i.every(function(h){return e.callbacks_[h]===n.callbacks_[h]})}}return!1},t.prototype.hasAnyCallback=function(){return this.callbacks_!==null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h_,yb=function(){function t(e,n,r,i){this.repo=e,this.path=n,this.queryParams_=r,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return K(h_,"Reference.ts has not been loaded"),h_},set:function(e){h_=e},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(e){var n=null,r=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===ji){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==Io)throw new Error(i);if(typeof n!="string")throw new Error(s)}if(e.hasEnd()){var c=e.getIndexEndName();if(c!==Hi)throw new Error(i);if(typeof r!="string")throw new Error(s)}}else if(e.getIndex()===ut){if(n!=null&&!Sf(n)||r!=null&&!Sf(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(e.getIndex()instanceof Pw||e.getIndex()===xw,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(e){if(this.orderByCalled_===!0)throw new Error(e+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return be("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){be("Query.on",2,4,arguments.length),l_("Query.on",1,e,!1),fn("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if(e==="value")this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(e,n,r){var i=new aC(e,n||null,r||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(e,n,r){var i=new uC(e,n,r);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(e,n,r){be("Query.off",0,3,arguments.length),l_("Query.off",1,e,!0),fn("Query.off",2,n,!0),tC("Query.off",3,r,!0);var i=null,s=null;if(e==="value"){var a=n||null;i=new aC(a,null,r||null)}else e&&(n&&(s={},s[e]=n),i=new uC(s,null,r||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var s=this;be("Query.once",1,4,arguments.length),l_("Query.once",1,e,!1),fn("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=!0,l=new ar;l.promise.catch(function(){});var h=function(d){c&&(c=!1,s.off(e,h),n&&n.bind(a.context)(d),l.resolve(d))};return this.on(e,h,function(d){s.off(e,h),a.cancel&&a.cancel.bind(a.context)(d),l.reject(d)}),l.promise},t.prototype.limitToFirst=function(e){if(be("Query.limitToFirst",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(be("Query.limitToLast",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(be("Query.orderByChild",1,1,arguments.length),e==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(e==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(e==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Cf("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new re(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Pw(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){be("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(ji);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){be("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(ut);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){be("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(xw);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){e===void 0&&(e=null),be("Query.startAt",0,2,arguments.length),Li("Query.startAt",1,e,this.path,!0),Fl("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return e===void 0&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){e===void 0&&(e=null),be("Query.startAfter",0,2,arguments.length),Li("Query.startAfter",1,e,this.path,!1),Fl("Query.startAfter",2,n,!0);var r=this.queryParams_.startAfter(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){e===void 0&&(e=null),be("Query.endAt",0,2,arguments.length),Li("Query.endAt",1,e,this.path,!0),Fl("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){e===void 0&&(e=null),be("Query.endBefore",0,2,arguments.length),Li("Query.endBefore",1,e,this.path,!1),Fl("Query.endBefore",2,n,!0);var r=this.queryParams_.endBefore(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(e,n){if(be("Query.equalTo",1,2,arguments.length),Li("Query.equalTo",1,e,this.path,!1),Fl("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,n).endAt(e,n)},t.prototype.toString=function(){return be("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return be("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var e=this.queryObject(),n=db(e);return n==="{}"?"default":n},t.prototype.isEqual=function(e){if(be("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:null,context:null};if(n&&r)i.cancel=n,fn(e,3,i.cancel,!0),i.context=r,tC(e,4,i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(qr(e,3,!0)+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q$=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),X$=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),J$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cC=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Z$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return e6(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Z$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},e6=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);var i=e.node();if(K(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},lC=function(t,e,n,r){return _b(e,new X$(n,t),r)},d_=function(t,e,n){return _b(t,new Q$(e),n)};function _b(t,e,n){var r=t.getPriority().val(),i=cC(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){var a=t,c=cC(a.getValue(),e,n);return c!==a.getValue()||i!==a.getPriority().val()?new sc(c,Ct(i)):t}else{var l=t;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new sc(i))),l.forEachChild(ut,function(h,d){var v=_b(d,e.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p_=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(e){if(this.value!=null)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var n=e.getFront();if(e=e.popFront(),this.children.has(n)){var r=this.children.get(n);return r.find(e)}else return null}else return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var r=this;return n.forEachChild(ut,function(a,c){r.remember(new re(a),c)}),this.forget(e)}else if(this.children.size>0){var i=e.getFront();if(e=e.popFront(),this.children.has(i)){var s=this.children.get(i).forget(e);s&&this.children.delete(i)}return this.children.size===0}else return!0},t.prototype.forEachTree=function(e,n){this.value!==null?n(e,this.value):this.forEachChild(function(r,i){var s=new re(e.toString()+"/"+r);i.forEachTree(s,n)})},t.prototype.forEachChild=function(e){this.children.forEach(function(n,r){e(r,n)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ai||(ai={}));var ao=function(){function t(e,n,r,i){this.fromUser=e,this.fromServer=n,this.queryId=r,this.tagged=i,K(!i||n,"Tagged queries must be from server.")}return t.user=function(){return new t(!0,!1,null,!1)},t.server=function(){return new t(!1,!0,null,!1)},t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t6=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ai.ACK_USER_WRITE,this.source=ao.user()}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new re(e));return new t(re.Empty,n,this.revert)}else return K(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v_,n6=function(){return v_||(v_=new po(_$)),v_},Tr=function(){function t(e,n){n===void 0&&(n=n6()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return Zt(e,function(r,i){n=n.set(new re(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:re.Empty,value:this.value};if(e.isEmpty())return null;var r=e.getFront(),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(e.popFront(),n);if(s!=null){var a=new re(r).child(s.path);return{path:a,value:s.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return r!==null?r.subtree(e.popFront()):new t(null)},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||new t(null),s=i.set(e.popFront(),n),a=this.children.insert(r,s);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?new t(null):new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this},t.prototype.get=function(e){if(e.isEmpty())return this.value;var n=e.getFront(),r=this.children.get(n);return r?r.get(e.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||new t(null),s=i.setTree(e.popFront(),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(re.Empty,e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(e.child(i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,re.Empty,n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(e.isEmpty())return null;var s=e.getFront(),a=this.children.get(s);return a?a.findOnPath_(e.popFront(),n.child(s),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,re.Empty,n)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),s=this.children.get(i);return s?s.foreachOnPath_(e.popFront(),n.child(i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(re.Empty,e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(e.child(r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fC=function(){function t(e,n){this.source=e,this.path=n,this.type=ai.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,re.Empty):new t(this.source,this.path.popFront())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ai.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,re.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g_=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ai.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new op(this.source,re.Empty,n.value):new t(this.source,re.Empty,n)}else return K(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=e.getFront();return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sx=function(){function t(e,n){this.eventCache_=e,this.serverCache_=n}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ms(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ms(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t){return{type:"value",snapshotNode:t}}function ac(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Nf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Rf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function r6(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wb=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,s,a){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Nf(n,c)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(ac(n,r)):a.trackChildChange(Rf(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ut,function(i,s){n.hasChild(i)||r.trackChildChange(Nf(i,s))}),n.isLeafNode()||n.forEachChild(ut,function(i,s){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Rf(i,s,a))}else r.trackChildChange(ac(i,s))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Ce.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i6=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Rf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Nf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,ac(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Rf(r,e.snapshotNode,i.oldSnap));else throw xc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o6=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),hC=new o6,m_=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new ms(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),s=this.writes_.calcIndexedSlice(i,n,1,r,e);return s.length===0?null:s[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s6=function(){function t(e,n){this.viewCache=e,this.changes=n}return t}(),a6=function(){function t(e){this.filter_=e}return t.prototype.assertIndexed=function(e){K(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),K(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s=new i6,a,c;if(n.type===ai.OVERWRITE){var l=n;l.source.fromUser?a=this.applyUserOverwrite_(e,l.path,l.snap,r,i,s):(K(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(e,l.path,l.snap,r,i,c,s))}else if(n.type===ai.MERGE){var h=n;h.source.fromUser?a=this.applyUserMerge_(e,h.path,h.children,r,i,s):(K(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,h.path,h.children,r,i,c,s))}else if(n.type===ai.ACK_USER_WRITE){var d=n;d.revert?a=this.revertUserWrite_(e,d.path,r,i,s):a=this.ackUserWrite_(e,d.path,d.affectedTree,r,i,s)}else if(n.type===ai.LISTEN_COMPLETE)a=this.listenComplete_(e,n.path,r,s);else throw xc("Unknown operation type: "+n.type);var v=s.getChanges();return t.maybeAddValueEvent_(e,a,v),new s6(a,v)},t.maybeAddValueEvent_=function(e,n,r){var i=n.getEventCache();if(i.isFullyInitialized()){var s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=e.getCompleteEventSnap();(r.length>0||!e.getEventCache().isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&r.push(Ax(n.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(e,n,r,i,s){var a=e.getEventCache();if(r.shadowingWrite(n)!=null)return e;var c=void 0,l=void 0;if(n.isEmpty())if(K(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var h=e.getCompleteServerSnap(),d=h instanceof Ce?h:Ce.EMPTY_NODE,v=r.calcCompleteEventChildren(d);c=this.filter_.updateFullNode(e.getEventCache().getNode(),v,s)}else{var m=r.calcCompleteEventCache(e.getCompleteServerSnap());c=this.filter_.updateFullNode(e.getEventCache().getNode(),m,s)}else{var y=n.getFront();if(y===".priority"){K(n.getLength()===1,"Can't have a priority with additional path components");var b=a.getNode();l=e.getServerCache().getNode();var E=r.calcEventCacheAfterServerOverwrite(n,b,l);E!=null?c=this.filter_.updatePriority(b,E):c=a.getNode()}else{var T=n.popFront(),C=void 0;if(a.isCompleteForChild(y)){l=e.getServerCache().getNode();var x=r.calcEventCacheAfterServerOverwrite(n,a.getNode(),l);x!=null?C=a.getNode().getImmediateChild(y).updateChild(T,x):C=a.getNode().getImmediateChild(y)}else C=r.calcCompleteChild(y,e.getServerCache());C!=null?c=this.filter_.updateChild(a.getNode(),y,C,T,i,s):c=a.getNode()}}return e.updateEventSnap(c,a.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(e,n,r,i,s,a,c){var l=e.getServerCache(),h,d=a?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var m=n.getFront();if(!l.isCompleteForPath(n)&&n.getLength()>1)return e;var y=n.popFront(),b=l.getNode().getImmediateChild(m),E=b.updateChild(y,r);m===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),m,E,y,hC,null)}var T=e.updateServerSnap(h,l.isFullyInitialized()||n.isEmpty(),d.filtersNodes()),C=new m_(i,T,s);return this.generateEventCacheAfterServerEvent_(T,n,i,C,c)},t.prototype.applyUserOverwrite_=function(e,n,r,i,s,a){var c=e.getEventCache(),l,h,d=new m_(i,e,s);if(n.isEmpty())h=this.filter_.updateFullNode(e.getEventCache().getNode(),r,a),l=e.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var v=n.getFront();if(v===".priority")h=this.filter_.updatePriority(e.getEventCache().getNode(),r),l=e.updateEventSnap(h,c.isFullyInitialized(),c.isFiltered());else{var m=n.popFront(),y=c.getNode().getImmediateChild(v),b=void 0;if(m.isEmpty())b=r;else{var E=d.getCompleteChild(v);E!=null?m.getBack()===".priority"&&E.getChild(m.parent()).isEmpty()?b=E:b=E.updateChild(m,r):b=Ce.EMPTY_NODE}if(y.equals(b))l=e;else{var T=this.filter_.updateChild(c.getNode(),v,b,m,d,a);l=e.updateEventSnap(T,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},t.cacheHasChild_=function(e,n){return e.getEventCache().isCompleteForChild(n)},t.prototype.applyUserMerge_=function(e,n,r,i,s,a){var c=this,l=e;return r.foreach(function(h,d){var v=n.child(h);t.cacheHasChild_(e,v.getFront())&&(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),r.foreach(function(h,d){var v=n.child(h);t.cacheHasChild_(e,v.getFront())||(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),l},t.prototype.applyMerge_=function(e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e},t.prototype.applyServerMerge_=function(e,n,r,i,s,a,c){var l=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var h=e,d;n.isEmpty()?d=r:d=new Tr(null).setTree(n,r);var v=e.getServerCache().getNode();return d.children.inorderTraversal(function(m,y){if(v.hasChild(m)){var b=e.getServerCache().getNode().getImmediateChild(m),E=l.applyMerge_(b,y);h=l.applyServerOverwrite_(h,new re(m),E,i,s,a,c)}}),d.children.inorderTraversal(function(m,y){var b=!e.getServerCache().isCompleteForChild(m)&&y.value==null;if(!v.hasChild(m)&&!b){var E=e.getServerCache().getNode().getImmediateChild(m),T=l.applyMerge_(E,y);h=l.applyServerOverwrite_(h,new re(m),T,i,s,a,c)}}),h},t.prototype.ackUserWrite_=function(e,n,r,i,s,a){if(i.shadowingWrite(n)!=null)return e;var c=e.getServerCache().isFiltered(),l=e.getServerCache();if(r.value!=null){if(n.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(n))return this.applyServerOverwrite_(e,n,l.getNode().getChild(n),i,s,c,a);if(n.isEmpty()){var h=new Tr(null);return l.getNode().forEachChild(ji,function(v,m){h=h.set(new re(v),m)}),this.applyServerMerge_(e,n,h,i,s,c,a)}else return e}else{var d=new Tr(null);return r.foreach(function(v,m){var y=n.child(v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),this.applyServerMerge_(e,n,d,i,s,c,a)}},t.prototype.listenComplete_=function(e,n,r,i){var s=e.getServerCache(),a=e.updateServerSnap(s.getNode(),s.isFullyInitialized()||n.isEmpty(),s.isFiltered());return this.generateEventCacheAfterServerEvent_(a,n,r,hC,i)},t.prototype.revertUserWrite_=function(e,n,r,i,s){var a;if(r.shadowingWrite(n)!=null)return e;var c=new m_(r,e,i),l=e.getEventCache().getNode(),h=void 0;if(n.isEmpty()||n.getFront()===".priority"){var d=void 0;if(e.getServerCache().isFullyInitialized())d=r.calcCompleteEventCache(e.getCompleteServerSnap());else{var v=e.getServerCache().getNode();K(v instanceof Ce,"serverChildren would be complete if leaf node"),d=r.calcCompleteEventChildren(v)}d=d,h=this.filter_.updateFullNode(l,d,s)}else{var m=n.getFront(),y=r.calcCompleteChild(m,e.getServerCache());y==null&&e.getServerCache().isCompleteForChild(m)&&(y=l.getImmediateChild(m)),y!=null?h=this.filter_.updateChild(l,m,y,n.popFront(),c,s):e.getEventCache().getNode().hasChild(m)?h=this.filter_.updateChild(l,m,Ce.EMPTY_NODE,n.popFront(),c,s):h=l,h.isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=r.calcCompleteEventCache(e.getCompleteServerSnap()),a.isLeafNode()&&(h=this.filter_.updateFullNode(h,a,s)))}return a=e.getServerCache().isFullyInitialized()||r.shadowingWrite(re.Empty)!=null,e.updateEventSnap(h,a,this.filter_.filtersNodes())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u6=function(){function t(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(e,n,r){var i=this,s=[],a=[];return e.forEach(function(c){c.type==="child_changed"&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(r6(c.childName,c.snapshotNode))}),this.generateEventsForType_(s,"child_removed",e,r,n),this.generateEventsForType_(s,"child_added",e,r,n),this.generateEventsForType_(s,"child_moved",a,r,n),this.generateEventsForType_(s,"child_changed",e,r,n),this.generateEventsForType_(s,"value",e,r,n),s},t.prototype.generateEventsForType_=function(e,n,r,i,s){var a=this,c=r.filter(function(l){return l.type===n});c.sort(this.compareChanges_.bind(this)),c.forEach(function(l){var h=a.materializeSingleChange_(l,s);i.forEach(function(d){d.respondsTo(l.type)&&e.push(d.createEvent(h,a.query_))})})},t.prototype.materializeSingleChange_=function(e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},t.prototype.compareChanges_=function(e,n){if(e.childName==null||n.childName==null)throw xc("Should only compare child_ events.");var r=new Ve(e.childName,e.snapshotNode),i=new Ve(n.childName,n.snapshotNode);return this.index_.compare(r,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c6=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),i=new wb(r.getIndex()),s=r.getNodeFilter();this.processor_=new a6(s);var a=n.getServerCache(),c=n.getEventCache(),l=i.updateFullNode(Ce.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(Ce.EMPTY_NODE,c.getNode(),null),d=new ms(l,a.isFullyInitialized(),i.filtersNodes()),v=new ms(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=new Sx(v,d),this.eventGenerator_=new u6(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},t.prototype.getCompleteServerCache=function(e){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!n.getImmediateChild(e.getFront()).isEmpty())?n.getChild(e):null},t.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},t.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},t.prototype.removeEventRegistration=function(e,n){var r=[];if(n){K(e==null,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(e){for(var s=[],a=0;a<this.eventRegistrations_.length;++a){var c=this.eventRegistrations_[a];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(this.eventRegistrations_.slice(a+1));break}}this.eventRegistrations_=s}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(e,n,r){e.type===ai.MERGE&&e.source.queryId!==null&&(K(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),K(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,s=this.processor_.applyOperation(i,e,n,r);return this.processor_.assertIndexed(s.viewCache),K(s.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=s.viewCache,this.generateEventsForChanges_(s.changes,s.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(e){var n=this.viewCache_.getEventCache(),r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(ut,function(s,a){r.push(ac(s,a))})}return n.isFullyInitialized()&&r.push(Ax(n.getNode())),this.generateEventsForChanges_(r,n.getNode(),e)},t.prototype.generateEventsForChanges_=function(e,n,r){var i=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,n,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dd,Dw=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return K(Dd,"Reference.ts has not been loaded"),Dd},set:function(e){K(!Dd,"__referenceConstructor has already been defined"),Dd=e},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.views.size===0},t.prototype.applyOperation=function(e,n,r){var i,s,a=e.source.queryId;if(a!==null){var c=this.views.get(a);return K(c!=null,"SyncTree gave us an op for an invalid query."),c.applyOperation(e,n,r)}else{var l=[];try{for(var h=Ft(this.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(c.applyOperation(e,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}},t.prototype.getView=function(e,n,r,i){var s=e.queryIdentifier(),a=this.views.get(s);if(!a){var c=n.calcCompleteEventCache(i?r:null),l=!1;c?l=!0:r instanceof Ce?(c=n.calcCompleteEventChildren(r),l=!1):(c=Ce.EMPTY_NODE,l=!1);var h=new Sx(new ms(c,l,!1),new ms(r,i,!1));return new c6(e,h)}return a},t.prototype.addEventRegistration=function(e,n,r,i,s){var a=this.getView(e,r,i,s);return this.views.has(e.queryIdentifier())||this.views.set(e.queryIdentifier(),a),a.addEventRegistration(n),a.getInitialEvents(n)},t.prototype.removeEventRegistration=function(e,n,r){var i,s,a=e.queryIdentifier(),c=[],l=[],h=this.hasCompleteView();if(a==="default")try{for(var d=Ft(this.views.entries()),v=d.next();!v.done;v=d.next()){var m=Ef(v.value,2),y=m[0],b=m[1];l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(y),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery()))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var b=this.views.get(a);b&&(l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(a),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery())))}return h&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:l}},t.prototype.getQueryViews=function(){var e,n,r=[];try{for(var i=Ft(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getCompleteServerCache=function(e){var n,r,i=null;try{for(var s=Ft(this.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||c.getCompleteServerCache(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.prototype.viewForQuery=function(e){var n=e.getQueryParams();if(n.loadsAllData())return this.getCompleteView();var r=e.queryIdentifier();return this.views.get(r)},t.prototype.viewExistsForQuery=function(e){return this.viewForQuery(e)!=null},t.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},t.prototype.getCompleteView=function(){var e,n;try{for(var r=Ft(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Tr(null))},t}();function $l(t,e,n){if(e.isEmpty())return new yo(new Tr(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,s=r.value,a=re.relativePath(i,e);return s=s.updateChild(a,n),new yo(t.writeTree_.set(i,s))}else{var c=new Tr(n),l=t.writeTree_.setTree(e,c);return new yo(l)}}function y_(t,e,n){var r=t;return Zt(n,function(i,s){r=$l(r,e.child(i),s)}),r}function dC(t,e){if(e.isEmpty())return yo.empty();var n=t.writeTree_.setTree(e,new Tr(null));return new yo(n)}function __(t,e){return Zo(t,e)!=null}function Zo(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(re.relativePath(n.path,e)):null}function pC(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ut,function(r,i){e.push(new Ve(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Ve(r,i.value))}),e}function $o(t,e){if(e.isEmpty())return t;var n=Zo(t,e);return n!=null?new yo(new Tr(n)):new yo(t.writeTree_.subtree(e))}function w_(t){return t.writeTree_.isEmpty()}function wu(t,e){return Cx(re.Empty,t.writeTree_,e)}function Cx(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,s){i===".priority"?(K(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Cx(t.child(i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(t.child(".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l6=function(){function t(){this.visibleWrites_=yo.empty(),this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(e){return new f6(e,this)},t.prototype.addOverwrite=function(e,n,r,i){K(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),this.allWrites_.push({path:e,snap:n,writeId:r,visible:i}),i&&(this.visibleWrites_=$l(this.visibleWrites_,e,n)),this.lastWriteId_=r},t.prototype.addMerge=function(e,n,r){K(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:n,writeId:r,visible:!0}),this.visibleWrites_=y_(this.visibleWrites_,e,n),this.lastWriteId_=r},t.prototype.getWrite=function(e){for(var n=0;n<this.allWrites_.length;n++){var r=this.allWrites_[n];if(r.writeId===e)return r}return null},t.prototype.removeWrite=function(e){var n=this,r=this.allWrites_.findIndex(function(d){return d.writeId===e});K(r>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[r];this.allWrites_.splice(r,1);for(var s=i.visible,a=!1,c=this.allWrites_.length-1;s&&c>=0;){var l=this.allWrites_[c];l.visible&&(c>=r&&this.recordContainsPath_(l,i.path)?s=!1:i.path.contains(l.path)&&(a=!0)),c--}if(s){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=dC(this.visibleWrites_,i.path);else{var h=i.children;Zt(h,function(d){n.visibleWrites_=dC(n.visibleWrites_,i.path.child(d))})}return!0}else return!1},t.prototype.getCompleteWriteData=function(e){return Zo(this.visibleWrites_,e)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(!r&&!i){var s=Zo(this.visibleWrites_,e);if(s!=null)return s;var a=$o(this.visibleWrites_,e);if(w_(a))return n;if(n==null&&!__(a,re.Empty))return null;var c=n||Ce.EMPTY_NODE;return wu(a,c)}else{var l=$o(this.visibleWrites_,e);if(!i&&w_(l))return n;if(!i&&n==null&&!__(l,re.Empty))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(m.path.contains(e)||e.contains(m.path))},d=t.layerTree_(this.allWrites_,h,e),c=n||Ce.EMPTY_NODE;return wu(d,c)}},t.prototype.calcCompleteEventChildren=function(e,n){var r=Ce.EMPTY_NODE,i=Zo(this.visibleWrites_,e);if(i)return i.isLeafNode()||i.forEachChild(ut,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=$o(this.visibleWrites_,e);return n.forEachChild(ut,function(c,l){var h=wu($o(s,new re(c)),l);r=r.updateImmediateChild(c,h)}),pC(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=$o(this.visibleWrites_,e);return pC(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r,i){K(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=e.child(n);if(__(this.visibleWrites_,s))return null;var a=$o(this.visibleWrites_,s);return w_(a)?i.getChild(n):wu(a,i.getChild(n))},t.prototype.calcCompleteChild=function(e,n,r){var i=e.child(n),s=Zo(this.visibleWrites_,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=$o(this.visibleWrites_,i);return wu(a,r.getNode().getImmediateChild(n))}else return null},t.prototype.shadowingWrite=function(e){return Zo(this.visibleWrites_,e)},t.prototype.calcIndexedSlice=function(e,n,r,i,s,a){var c,l=$o(this.visibleWrites_,e),h=Zo(l,re.Empty);if(h!=null)c=h;else if(n!=null)c=wu(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),m=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=m.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=m.getNext();return d}else return[]},t.prototype.recordContainsPath_=function(e,n){if(e.snap)return e.path.contains(n);for(var r in e.children)if(e.children.hasOwnProperty(r)&&e.path.child(r).contains(n))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,re.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(e){return e.visible},t.layerTree_=function(e,n,r){for(var i=yo.empty(),s=0;s<e.length;++s){var a=e[s];if(n(a)){var c=a.path,l=void 0;if(a.snap)r.contains(c)?(l=re.relativePath(r,c),i=$l(i,l,a.snap)):c.contains(r)&&(l=re.relativePath(c,r),i=$l(i,re.Empty,a.snap.getChild(l)));else if(a.children){if(r.contains(c))l=re.relativePath(r,c),i=y_(i,l,a.children);else if(c.contains(r))if(l=re.relativePath(c,r),l.isEmpty())i=y_(i,re.Empty,a.children);else{var h=si(a.children,l.getFront());if(h){var d=h.getChild(l.popFront());i=$l(i,re.Empty,d)}}}else throw xc("WriteRecord should have .snap or .children")}}return i},t}(),f6=function(){function t(e,n){this.treePath_=e,this.writeTree_=n}return t.prototype.calcCompleteEventCache=function(e,n,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,n,r)},t.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,n,r)},t.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},t.prototype.calcIndexedSlice=function(e,n,r,i,s){return this.writeTree_.calcIndexedSlice(this.treePath_,e,n,r,i,s)},t.prototype.calcCompleteChild=function(e,n){return this.writeTree_.calcCompleteChild(this.treePath_,e,n)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vC=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Tr(null),this.pendingWriteTree_=new l6,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(e,n,r,i){return this.pendingWriteTree_.addOverwrite(e,n,r,i),i?this.applyOperationToSyncPoints_(new op(ao.user(),e,n)):[]},t.prototype.applyUserMerge=function(e,n,r){this.pendingWriteTree_.addMerge(e,n,r);var i=Tr.fromObject(n);return this.applyOperationToSyncPoints_(new g_(ao.user(),e,i))},t.prototype.ackUserWrite=function(e,n){n===void 0&&(n=!1);var r=this.pendingWriteTree_.getWrite(e),i=this.pendingWriteTree_.removeWrite(e);if(i){var s=new Tr(null);return r.snap!=null?s=s.set(re.Empty,!0):Zt(r.children,function(a){s=s.set(new re(a),!0)}),this.applyOperationToSyncPoints_(new t6(r.path,s,n))}else return[]},t.prototype.applyServerOverwrite=function(e,n){return this.applyOperationToSyncPoints_(new op(ao.server(),e,n))},t.prototype.applyServerMerge=function(e,n){var r=Tr.fromObject(n);return this.applyOperationToSyncPoints_(new g_(ao.server(),e,r))},t.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new fC(ao.server(),e))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(i!=null){var s=t.parseQueryKey_(i),a=s.path,c=s.queryId,l=re.relativePath(a,e),h=new op(ao.forServerTaggedQuery(c),l,n);return this.applyTaggedOperation_(a,h)}else return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var s=t.parseQueryKey_(i),a=s.path,c=s.queryId,l=re.relativePath(a,e),h=Tr.fromObject(n),d=new g_(ao.forServerTaggedQuery(c),l,h);return this.applyTaggedOperation_(a,d)}else return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),s=i.path,a=i.queryId,c=re.relativePath(s,e),l=new fC(ao.forServerTaggedQuery(a),c);return this.applyTaggedOperation_(s,l)}else return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(E,T){var C=re.relativePath(E,r);i=i||T.getCompleteServerCache(C),s=s||T.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(s=s||a.hasCompleteView(),i=i||a.getCompleteServerCache(re.Empty)):(a=new Dw,this.syncPointTree_=this.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=Ce.EMPTY_NODE;var l=this.syncPointTree_.subtree(r);l.foreachChild(function(E,T){var C=T.getCompleteServerCache(re.Empty);C&&(i=i.updateImmediateChild(E,C))})}var h=a.viewExistsForQuery(e);if(!h&&!e.getQueryParams().loadsAllData()){var d=t.makeQueryKey_(e);K(!this.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=t.getNextQueryTag_();this.queryToTagMap.set(d,v),this.tagToQueryMap.set(v,d)}var m=this.pendingWriteTree_.childWrites(r),y=a.addEventRegistration(e,n,m,i,c);if(!h&&!s){var b=a.viewForQuery(e);y=y.concat(this.setupListener_(e,b))}return y},t.prototype.removeEventRegistration=function(e,n,r){var i=this,s=e.path,a=this.syncPointTree_.get(s),c=[];if(a&&(e.queryIdentifier()==="default"||a.viewExistsForQuery(e))){var l=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var h=l.removed;c=l.events;var d=h.findIndex(function(D){return D.getQueryParams().loadsAllData()})!==-1,v=this.syncPointTree_.findOnPath(s,function(D,F){return F.hasCompleteView()});if(d&&!v){var m=this.syncPointTree_.subtree(s);if(!m.isEmpty())for(var y=this.collectDistinctViewsForSubTree_(m),b=0;b<y.length;++b){var E=y[b],T=E.getQuery(),C=this.createListenerForView_(E);this.listenProvider_.startListening(t.queryForListening_(T),this.tagForQuery_(T),C.hashFn,C.onComplete)}}if(!v&&h.length>0&&!r)if(d){var x=null;this.listenProvider_.stopListening(t.queryForListening_(e),x)}else h.forEach(function(D){var F=i.queryToTagMap.get(t.makeQueryKey_(D));i.listenProvider_.stopListening(t.queryForListening_(D),F)});this.removeTags_(h)}return c},t.prototype.calcCompleteEventCache=function(e,n){var r=!0,i=this.pendingWriteTree_,s=this.syncPointTree_.findOnPath(e,function(a,c){var l=re.relativePath(a,e),h=c.getCompleteServerCache(l);if(h)return h});return i.calcCompleteEventCache(e,s,n,r)},t.prototype.getServerValue=function(e){var n=e.path,r=null;this.syncPointTree_.foreachOnPath(n,function(h,d){var v=re.relativePath(h,n);r=r||d.getCompleteServerCache(v)});var i=this.syncPointTree_.get(n);i?r=r||i.getCompleteServerCache(re.Empty):(i=new Dw,this.syncPointTree_=this.syncPointTree_.set(n,i));var s=r!=null,a=s?new ms(r,!0,!1):null,c=this.pendingWriteTree_.childWrites(e.path),l=i.getView(e,c,s?a.getNode():Ce.EMPTY_NODE,s);return l.getCompleteNode()},t.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(n,r,i){if(r&&r.hasCompleteView()){var s=r.getCompleteView();return[s]}else{var a=[];return r&&(a=r.getQueryViews()),Zt(i,function(c,l){a=a.concat(l)}),a}})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),s=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(s)}}},t.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)K(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,m,y){if(!v.isEmpty()&&m&&m.hasCompleteView())return[m.getCompleteView().getQuery()];var b=[];return m&&(b=b.concat(m.getQueryViews().map(function(E){return E.getQuery()}))),Zt(y,function(E,T){b=b.concat(T)}),b}),h=0;h<l.length;++h){var d=l[h];this.listenProvider_.stopListening(t.queryForListening_(d),this.tagForQuery_(d))}return a},t.prototype.createListenerForView_=function(e){var n=this,r=e.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){var s=e.getServerCache()||Ce.EMPTY_NODE;return s.hash()},onComplete:function(s){if(s==="ok")return i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path);var a=E$(s,r);return n.removeEventRegistration(r,null,a)}}},t.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},t.parseQueryKey_=function(e){var n=e.indexOf("$");return K(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new re(e.substr(0,n))}},t.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(e,n){var r=this.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return r.applyOperation(n,i,null)},t.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(re.Empty))},t.prototype.applyOperationHelper_=function(e,n,r,i){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,n,r,i);var s=n.get(re.Empty);r==null&&s!=null&&(r=s.getCompleteServerCache(re.Empty));var a=[],c=e.path.getFront(),l=e.operationForChild(c),h=n.children.get(c);if(h&&l){var d=r?r.getImmediateChild(c):null,v=i.child(c);a=a.concat(this.applyOperationHelper_(l,h,d,v))}return s&&(a=a.concat(s.applyOperation(e,i,r))),a},t.prototype.applyOperationDescendantsHelper_=function(e,n,r,i){var s=this,a=n.get(re.Empty);r==null&&a!=null&&(r=a.getCompleteServerCache(re.Empty));var c=[];return n.children.inorderTraversal(function(l,h){var d=r?r.getImmediateChild(l):null,v=i.child(l),m=e.operationForChild(l);m&&(c=c.concat(s.applyOperationDescendantsHelper_(m,h,d,v)))}),a&&(c=c.concat(a.applyOperation(e,i,r))),c},t.nextQueryTag_=1,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h6=function(){function t(){this.rootNode_=Ce.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d6=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),hr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return qk(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pp=function(){function t(){}return t.getCollection=function(e){var n=e.toString();return this.collections_[n]||(this.collections_[n]=new d6),this.collections_[n]},t.getOrCreateReporter=function(e,n){var r=e.toString();return this.reporters_[r]||(this.reporters_[r]=n()),this.reporters_[r]},t.collections_={},t.reporters_={},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nx=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=ft({},e);return this.last_&&Zt(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gC=10*1e3,p6=30*1e3,v6=5*60*1e3,g6=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Nx(e);var r=gC+(p6-gC)*Math.random();nf(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.includeStat=function(e){this.statsToReport_[e]=!0},t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;Zt(n,function(s,a){a>0&&hr(e.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),nf(this.reportStats_.bind(this),Math.floor(Math.random()*2*v6))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m6=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(e){for(var n=null,r=0;r<e.length;r++){var i=e[r],s=i.getPath();n!==null&&!s.equals(n.getPath())&&(this.eventLists_.push(n),n=null),n===null&&(n=new y6(s)),n.add(i)}n&&this.eventLists_.push(n)},t.prototype.raiseEventsAtPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.equals(e)})},t.prototype.raiseEventsForChangedPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.contains(e)||e.contains(r)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var n=!0,r=0;r<this.eventLists_.length;r++){var i=this.eventLists_[r];if(i){var s=i.getPath();e(s)?(this.eventLists_[r].raise(),this.eventLists_[r]=null):n=!1}}n&&(this.eventLists_=[]),this.recursionDepth_--},t}(),y6=function(){function t(e){this.path_=e,this.events_=[]}return t.prototype.add=function(e){this.events_.push(e)},t.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var n=this.events_[e];if(n!==null){this.events_[e]=null;var r=n.getEventRunner();va&&bn("event: "+n.toString()),xu(r)}}},t.prototype.getPath=function(){return this.path_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rx=function(){function t(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=xo(this.listeners_[e]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},t.prototype.validateEventType_=function(e){K(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _6=function(t){ee(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="visible","Unknown event type: "+n),[this.visible_]},e}(Rx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mC=function(t){ee(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ab()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Rx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w6=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&xu(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yC="start",b6="close",E6="pLPCommand",T6="pRTLPCB",Ox="id",kx="pw",xx="ser",I6="cb",S6="seg",A6="ts",C6="d",N6="dframe",Px=1870,Dx=30,R6=Px-Dx,O6=25e3,k6=3e4,bb=function(){function t(e,n,r,i,s){this.connId=e,this.repoInfo=n,this.applicationId=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nh(e),this.stats_=Pp.getCollection(n),this.urlFn=function(a){return n.connectionURL(hx,a)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new w6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(k6)),y$(function(){if(!r.isClosed_){r.scriptTagHolder=new x6(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Ef(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===yC)r.id=d,r.password=v;else if(h===b6)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Ef(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[yC]="t",i[xx]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[I6]=r.scriptTagHolder.uniqueCallbackIdentifier),i[ox]=vb,r.transportSessionId&&(i[sx]=r.transportSessionId),r.lastSessionId&&(i[lx]=r.lastSessionId),r.applicationId&&(i[A$]=r.applicationId),typeof location<"u"&&location.hostname&&cx.test(location.hostname)&&(i[ax]=ux);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!w$()&&!b$()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=Jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=wY(n),i=nx(r,R6),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[N6]="t",r[Ox]=e,r[kx]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=Jt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),x6=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Zk(),window[E6+this.uniqueCallbackIdentifier]=e,window[T6+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){bn("frame writing exception"),l.stack&&bn(l.stack),bn(l)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||bn("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[Ox]=this.myID,e[kx]=this.myPW,e[xx]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+Dx+r.length<=Px){var a=this.pendingSegs.shift();r=r+"&"+S6+i+"="+a.seg+"&"+A6+i+"="+a.ts+"&"+C6+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(O6)),a=function(){clearTimeout(s),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){bn("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mx="";function Lx(t){Mx=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P6=16384,D6=45e3,Dp=null;typeof MozWebSocket<"u"?Dp=MozWebSocket:typeof WebSocket<"u"&&(Dp=WebSocket);var ra=function(){function t(e,n,r,i,s){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nh(this.connId),this.stats_=Pp.getCollection(n),this.connURL=t.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r){var i={};return i[ox]=vb,typeof location<"u"&&location.hostname&&cx.test(location.hostname)&&(i[ax]=ux),n&&(i[sx]=n),r&&(i[lx]=r),e.connectionURL(fx,i)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,aa.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!Hk()){var s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Dp(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Dp!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return aa.isInMemoryStorage||aa.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){aa.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=If(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=Jt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=nx(n,P6);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(D6))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M6=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[bb,ra]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ra&&ra.isAvailable(),s=i&&!ra.previouslyFailed();if(e.webSocketOnly&&(i||kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ra];else{var a=this.transports_=[];try{for(var c=Ft(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L6=6e4,F6=5e3,U6=10*1024,j6=100*1024,b_="t",_C="d",V6="s",wC="r",B6="e",bC="o",EC="a",TC="n",IC="p",q6="h",Fx=function(){function t(e,n,r,i,s,a,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nh("c:"+this.id+":"),this.transportManager_=new M6(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=nf(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>j6?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>U6?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(s)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(b_ in e){var n=e[b_];n===EC?this.upgradeIfSecondaryHealthy_():n===wC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===bC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Ll("t",e),r=Ll("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:IC,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:EC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:TC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Ll("t",e),r=Ll("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Ll(b_,e);if(_C in e){var r=e[_C];if(n===q6)this.onHandshake_(r);else if(n===TC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===V6?this.onConnectionShutdown_(r):n===wC?this.onReset_(r):n===B6?Cw("Server Error: "+r):n===bC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Cw("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),vb!==r&&kn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),nf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(L6))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(F6))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:IC,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(aa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ux=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jl=1e3,W6=60*5*1e3,H6=3*1e3,SC=30*1e3,G6=1.3,Y6=3e4,$6="server_kill",z6=3,ga=function(t){ee(e,t);function e(n,r,i,s,a,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=nh("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=jl,h.maxReconnectDelay_=W6,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Hk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),_6.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&mC.getInstance().on("online",h.onOnline_,h),h}return e.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Jt(a)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},e.prototype.get=function(n){var r=this,i=new ar,s={p:n.path.toString(),q:n.queryObject()},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},H6),this.connected_&&this.sendGet_(c),i.promise},e.prototype.listen=function(n,r,i,s){var a=n.queryIdentifier(),c=n.path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,s=i.path.toString(),a=i.queryIdentifier();this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i.queryObject(),c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;e.warnOnListenWarnings_(d,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&hr(n,"w")){var i=si(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',a=r.path.toString();kn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||kY(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=SC)},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=OY(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},e.prototype.unlisten=function(n,r){var i=n.path.toString(),s=n.queryIdentifier();this.log_("Unlisten called for "+i+" "+s),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n.queryObject(),r)},e.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},e.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},e.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},e.prototype.putInternal=function(n,r,i,s,a){var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Jt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Cw("Unrecognized action received from server: "+Jt(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>Y6&&(this.reconnectDelay_=jl),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*G6)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,c=this,l=this.lastSessionId,h=!1,d=null,v=function(){d?d.close():(h=!0,s())},m=function(b){K(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:v,sendRequest:m};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(b){h?bn("getToken() completed but was canceled"):(bn("getToken() completed. Creating connection."),c.authToken_=b&&b.accessToken,d=new Fx(a,c.repoInfo_,c.applicationId_,r,i,s,function(E){kn(E+" ("+c.repoInfo_.toString()+")"),c.interrupt($6)},l))}).then(null,function(b){c.log_("Failed to get token: "+b),h||(n.repoInfo_.nodeAdmin&&kn(b),v())})}},e.prototype.interrupt=function(n){bn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){bn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Iw(this.interruptReasons_)&&(this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return db(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new re(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},e.prototype.onAuthRevoked_=function(n,r){bn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=z6&&(this.reconnectDelay_=SC,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth();try{for(var a=Ft(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,Ft(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+Mx.replace(/\./g,"-")]=1,ab()?n["framework.cordova"]=1:Wk()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=mC.getInstance().currentlyOnline();return Iw(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Ux);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K6=function(t){ee(e,t);function e(n,r,i){var s=t.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.log_=nh("p:rest:"),s.listens_={},s}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(K(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},e.prototype.listen=function(n,r,i,s){var a=this,c=n.path.toString();this.log_("Listen called for "+c+" "+n.queryIdentifier());var l=e.getListenId_(n,i),h={};this.listens_[l]=h;var d=n.getQueryParams().toRestQueryStringParameters();this.restRequest_(c+".json",d,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),si(a.listens_,l)===h){var b;v?v===401?b="permission_denied":b="rest_error:"+v:b="ok",s(b,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=n.getQueryParams().toRestQueryStringParameters(),s=n.path.toString(),a=new ar;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var s=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var c=a&&a.accessToken;c&&(r.auth=c);var l=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+xY(r);s.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){s.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var d=null;if(h.status>=200&&h.status<300){try{d=If(h.responseText)}catch{kn("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&kn("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})},e}(Ux);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AC=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),Q6=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r=new AC),this.name_=e,this.parent_=n,this.node_=r}return t.prototype.subTree=function(e){for(var n=e instanceof re?e:new re(e),r=this,i=n.getFront();i!==null;){var s=si(r.node_.children,i)||new AC;r=new t(i,r,s),n=n.popFront(),i=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(e){K(typeof e<"u","Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;Zt(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(e,n,r){n&&!r&&e(this),this.forEachChild(function(i){i.forEachDescendant(e,!0,r)}),n&&r&&e(this)},t.prototype.forEachAncestor=function(e,n){for(var r=n?this:this.parent();r!==null;){if(e(r))return!0;r=r.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(n){n.getValue()!==null?e(n):n.forEachImmediateDescendantWithValue(e)})},t.prototype.path=function(){return new re(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(e,n){var r=n.isEmpty(),i=hr(this.node_.children,e);r&&i?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):!r&&!i&&(this.node_.children[e]=n.node_,this.node_.childCount++,this.updateParents_())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CC="repo_interrupt",X6=25,Wt;(function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"})(Wt||(Wt={}));var Eb=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.app=r,this.authTokenProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new m6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new p_,this.transactionQueueTree_=new Q6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var e=this;if(this.stats_=Pp.getCollection(this.repoInfo_),this.forceRestClient_||I$())this.server_=new K6(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var n=this.app.options.databaseAuthVariableOverride;if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}this.persistentConnection_=new ga(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,n),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),this.statsReporter_=Pp.getOrCreateReporter(this.repoInfo_,function(){return new g6(e.stats_,e.server_)}),this.infoData_=new h6,this.infoSyncTree_=new vC({startListening:function(r,i,s,a){var c=[],l=e.infoData_.getNode(r.path);return l.isEmpty()||(c=e.infoSyncTree_.applyServerOverwrite(r.path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new vC({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(c,l){var h=a(c,l);e.eventQueue_.raiseEventsForChangedPath(r.path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var e=this.infoData_.getNode(new re(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n},t.prototype.generateServerValues=function(){return J$({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(e,n,r,i){this.dataUpdateCount++;var s=new re(e);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var c=Np(n,function(m){return Ct(m)});a=this.serverSyncTree_.applyTaggedQueryMerge(s,c,i)}else{var l=Ct(n);a=this.serverSyncTree_.applyTaggedQueryOverwrite(s,l,i)}else if(r){var h=Np(n,function(m){return Ct(m)});a=this.serverSyncTree_.applyServerMerge(s,h)}else{var d=Ct(n);a=this.serverSyncTree_.applyServerOverwrite(s,d)}var v=s;a.length>0&&(v=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(v,a)},t.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},t.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),e===!1&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(e){var n=this;Zt(e,function(r,i){n.updateInfo_(r,i)})},t.prototype.updateInfo_=function(e,n){var r=new re("/.info/"+e),i=Ct(n);this.infoData_.updateSnapshot(r,i);var s=this.infoSyncTree_.applyServerOverwrite(r,i);this.eventQueue_.raiseEventsForChangedPath(r,s)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(e){var n=this,r=this.serverSyncTree_.getServerValue(e);return r!=null?Promise.resolve(new ts(r,e.getRef(),e.getQueryParams().getIndex())):this.server_.get(e).then(function(i){var s=Ct(i),a=n.serverSyncTree_.applyServerOverwrite(e.path,s);return n.eventQueue_.raiseEventsAtPath(e.path,a),Promise.resolve(new ts(s,e.getRef(),e.getQueryParams().getIndex()))},function(i){return n.log_("get for query "+Jt(e)+" failed: "+i),Promise.reject(new Error(i))})},t.prototype.setWithPriority=function(e,n,r,i){var s=this;this.log_("set",{path:e.toString(),value:n,priority:r});var a=this.generateServerValues(),c=Ct(n,r),l=this.serverSyncTree_.calcCompleteEventCache(e),h=d_(c,l,a),d=this.getNextWriteId_(),v=this.serverSyncTree_.applyUserOverwrite(e,h,d,!0);this.eventQueue_.queueEvents(v),this.server_.put(e.toString(),c.val(!0),function(y,b){var E=y==="ok";E||kn("set at "+e+" failed: "+y);var T=s.serverSyncTree_.ackUserWrite(d,!E);s.eventQueue_.raiseEventsForChangedPath(e,T),s.callOnCompleteCallback(i,y,b)});var m=this.abortTransactions_(e);this.rerunTransactions_(m),this.eventQueue_.raiseEventsForChangedPath(m,[])},t.prototype.update=function(e,n,r){var i=this;this.log_("update",{path:e.toString(),value:n});var s=!0,a=this.generateServerValues(),c={};if(Zt(n,function(d,v){s=!1,c[d]=lC(e.child(d),Ct(v),i.serverSyncTree_,a)}),s)bn("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(e,c,l);this.eventQueue_.queueEvents(h),this.server_.merge(e.toString(),n,function(d,v){var m=d==="ok";m||kn("update at "+e+" failed: "+d);var y=i.serverSyncTree_.ackUserWrite(l,!m),b=y.length>0?i.rerunTransactions_(e):e;i.eventQueue_.raiseEventsForChangedPath(b,y),i.callOnCompleteCallback(r,d,v)}),Zt(n,function(d){var v=i.abortTransactions_(e.child(d));i.rerunTransactions_(v)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},t.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),r=new p_;this.onDisconnect_.forEachTree(re.Empty,function(s,a){var c=lC(s,a,e.serverSyncTree_,n);r.remember(s,c)});var i=[];r.forEachTree(re.Empty,function(s,a){i=i.concat(e.serverSyncTree_.applyServerOverwrite(s,a));var c=e.abortTransactions_(s);e.rerunTransactions_(c)}),this.onDisconnect_=new p_,this.eventQueue_.raiseEventsForChangedPath(re.Empty,i)},t.prototype.onDisconnectCancel=function(e,n){var r=this;this.server_.onDisconnectCancel(e.toString(),function(i,s){i==="ok"&&r.onDisconnect_.forget(e),r.callOnCompleteCallback(n,i,s)})},t.prototype.onDisconnectSet=function(e,n,r){var i=this,s=Ct(n);this.server_.onDisconnectPut(e.toString(),s.val(!0),function(a,c){a==="ok"&&i.onDisconnect_.remember(e,s),i.callOnCompleteCallback(r,a,c)})},t.prototype.onDisconnectSetWithPriority=function(e,n,r,i){var s=this,a=Ct(n,r);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(c,l){c==="ok"&&s.onDisconnect_.remember(e,a),s.callOnCompleteCallback(i,c,l)})},t.prototype.onDisconnectUpdate=function(e,n,r){var i=this;if(Iw(n)){bn("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(e.toString(),n,function(s,a){s==="ok"&&Zt(n,function(c,l){var h=Ct(l);i.onDisconnect_.remember(e.child(c),h)}),i.callOnCompleteCallback(r,s,a)})},t.prototype.addEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.addEventRegistration(e,n):r=this.serverSyncTree_.addEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.removeEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.removeEventRegistration(e,n):r=this.serverSyncTree_.removeEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(CC)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(CC)},t.prototype.stats=function(e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(this.statsListener_||(this.statsListener_=new Nx(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Zt(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}},t.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},t.prototype.log_=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),bn.apply(void 0,xo([r],e))},t.prototype.callOnCompleteCallback=function(e,n,r){e&&xu(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,e(a)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Tb(this))},enumerable:!1,configurable:!0}),t.prototype.startTransaction=function(e,n,r,i){this.log_("transaction on "+e);var s=function(){},a=new vo(this,e);a.on("value",s);var c=function(){a.off("value",s)},l={path:e,update:n,onComplete:r,status:null,order:Zk(),applyLocally:i,retryCount:0,unwatcher:c,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(e);l.currentInputSnapshot=h;var d=l.update(h.val());if(d===void 0){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var v=new ts(l.currentInputSnapshot,new vo(this,l.path),ut);l.onComplete(null,!1,v)}}else{Af("transaction failed: Data returned ",d,l.path),l.status=Wt.RUN;var m=this.transactionQueueTree_.subTree(e),y=m.getValue()||[];y.push(l),m.setValue(y);var b=void 0;if(typeof d=="object"&&d!==null&&hr(d,".priority"))b=si(d,".priority"),K(Sf(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var E=this.serverSyncTree_.calcCompleteEventCache(e)||Ce.EMPTY_NODE;b=E.getPriority().val()}var T=this.generateServerValues(),C=Ct(d,b),x=d_(C,h,T);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=x,l.currentWriteId=this.getNextWriteId_();var D=this.serverSyncTree_.applyUserOverwrite(e,x,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,D),this.sendReadyTransactions_()}},t.prototype.getLatestState_=function(e,n){return this.serverSyncTree_.calcCompleteEventCache(e,n)||Ce.EMPTY_NODE},t.prototype.sendReadyTransactions_=function(e){var n=this;if(e===void 0&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),e.getValue()!==null){var r=this.buildTransactionQueue_(e);K(r.length>0,"Sending zero length transaction queue");var i=r.every(function(s){return s.status===Wt.RUN});i&&this.sendTransactionQueue_(e.path(),r)}else e.hasChildren()&&e.forEachChild(function(s){n.sendReadyTransactions_(s)})},t.prototype.sendTransactionQueue_=function(e,n){for(var r=this,i=n.map(function(y){return y.currentWriteId}),s=this.getLatestState_(e,i),a=s,c=s.hash(),l=0;l<n.length;l++){var h=n[l];K(h.status===Wt.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=Wt.SENT,h.retryCount++;var d=re.relativePath(e,h.path);a=a.updateChild(d,h.currentOutputSnapshotRaw)}var v=a.val(!0),m=e;this.server_.put(m.toString(),v,function(y){r.log_("transaction put response",{path:m.toString(),status:y});var b=[];if(y==="ok"){for(var E=[],T=0;T<n.length;T++){if(n[T].status=Wt.COMPLETED,b=b.concat(r.serverSyncTree_.ackUserWrite(n[T].currentWriteId)),n[T].onComplete){var C=n[T].currentOutputSnapshotResolved,x=new vo(r,n[T].path),D=new ts(C,x,ut);E.push(n[T].onComplete.bind(null,null,!0,D))}n[T].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(e)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(e,b);for(var T=0;T<E.length;T++)xu(E[T])}else{if(y==="datastale")for(var T=0;T<n.length;T++)n[T].status===Wt.SENT_NEEDS_ABORT?n[T].status=Wt.NEEDS_ABORT:n[T].status=Wt.RUN;else{kn("transaction at "+m.toString()+" failed: "+y);for(var T=0;T<n.length;T++)n[T].status=Wt.NEEDS_ABORT,n[T].abortReason=y}r.rerunTransactions_(e)}},c)},t.prototype.rerunTransactions_=function(e){var n=this.getAncestorTransactionNode_(e),r=n.path(),i=this.buildTransactionQueue_(n);return this.rerunTransactionQueue_(i,r),r},t.prototype.rerunTransactionQueue_=function(e,n){if(e.length!==0){for(var r=[],i=[],s=e.filter(function(U){return U.status===Wt.RUN}),a=s.map(function(U){return U.currentWriteId}),c=0;c<e.length;c++){var l=e[c],h=re.relativePath(n,l.path),d=!1,v=void 0;if(K(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===Wt.NEEDS_ABORT)d=!0,v=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===Wt.RUN)if(l.retryCount>=X6)d=!0,v="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var m=this.getLatestState_(l.path,a);l.currentInputSnapshot=m;var y=e[c].update(m.val());if(y!==void 0){Af("transaction failed: Data returned ",y,l.path);var b=Ct(y),E=typeof y=="object"&&y!=null&&hr(y,".priority");E||(b=b.updatePriority(m.getPriority()));var T=l.currentWriteId,C=this.generateServerValues(),x=d_(b,m,C);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=x,l.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(T),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(T,!0))}else d=!0,v="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(n,i),i=[],d&&(e[c].status=Wt.COMPLETED,function(U){setTimeout(U,Math.floor(0))}(e[c].unwatcher),e[c].onComplete))if(v==="nodata"){var D=new vo(this,e[c].path),F=e[c].currentInputSnapshot,X=new ts(F,D,ut);r.push(e[c].onComplete.bind(null,null,!1,X))}else r.push(e[c].onComplete.bind(null,new Error(v),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var c=0;c<r.length;c++)xu(r[c]);this.sendReadyTransactions_()}},t.prototype.getAncestorTransactionNode_=function(e){var n,r=this.transactionQueueTree_;for(n=e.getFront();n!==null&&r.getValue()===null;)r=r.subTree(n),e=e.popFront(),n=e.getFront();return r},t.prototype.buildTransactionQueue_=function(e){var n=[];return this.aggregateTransactionQueuesForNode_(e,n),n.sort(function(r,i){return r.order-i.order}),n},t.prototype.aggregateTransactionQueuesForNode_=function(e,n){var r=this,i=e.getValue();if(i!==null)for(var s=0;s<i.length;s++)n.push(i[s]);e.forEachChild(function(a){r.aggregateTransactionQueuesForNode_(a,n)})},t.prototype.pruneCompletedTransactionsBelowNode_=function(e){var n=this,r=e.getValue();if(r){for(var i=0,s=0;s<r.length;s++)r[s].status!==Wt.COMPLETED&&(r[i]=r[s],i++);r.length=i,e.setValue(r.length>0?r:null)}e.forEachChild(function(a){n.pruneCompletedTransactionsBelowNode_(a)})},t.prototype.abortTransactions_=function(e){var n=this,r=this.getAncestorTransactionNode_(e).path(),i=this.transactionQueueTree_.subTree(e);return i.forEachAncestor(function(s){n.abortTransactionsOnNode_(s)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(s){n.abortTransactionsOnNode_(s)}),r},t.prototype.abortTransactionsOnNode_=function(e){var n=e.getValue();if(n!==null){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)if(n[a].status!==Wt.SENT_NEEDS_ABORT){if(n[a].status===Wt.SENT)K(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=Wt.SENT_NEEDS_ABORT,n[a].abortReason="set";else if(K(n[a].status===Wt.RUN,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(n[a].currentWriteId,!0)),n[a].onComplete){var c=null;r.push(n[a].onComplete.bind(null,new Error("set"),!1,c))}}s===-1?e.setValue(null):n.length=s+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),i);for(var a=0;a<r.length;a++)xu(r[a])}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jx=function(){function t(e){this.indexedFilter_=new wb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,s,a){return this.matches(new Ve(n,r))||(r=Ce.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Ce.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Ce.EMPTY_NODE);var s=this;return n.forEachChild(ut,function(a,c){s.matches(new Ve(a,c))||(i=i.updateImmediateChild(a,Ce.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J6=function(){function t(e){this.rangedFilter_=new jx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,s,a){return this.rangedFilter_.matches(new Ve(n,r))||(r=Ce.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Ce.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ce.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ce.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(T,C){return m(C,T)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,Ce.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(x,D){return c(D,x)}}else a=this.index_.getCompare();var l=e;K(l.numChildren()===this.limit_,"");var h=new Ve(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var m=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var b=y==null?1:a(y,h),E=v&&!r.isEmpty()&&b>=0;if(E)return s!=null&&s.trackChildChange(Rf(n,r,m)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Nf(n,m));var T=l.updateImmediateChild(n,Ce.EMPTY_NODE),C=y!=null&&this.rangedFilter_.matches(y);return C?(s!=null&&s.trackChildChange(ac(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}else return r.isEmpty()?e:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Nf(d.name,d.node)),s.trackChildChange(ac(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,Ce.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z6=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Io},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="",n},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(e,n){var r=this.copy_();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r},t.prototype.startAfter=function(e,n){var r;if(this.index_===ji)typeof e=="string"&&(e=iC(e)),r=this.startAt(e,n);else{var i=void 0;n==null?i=Hi:i=iC(n),r=this.startAt(e,i)}return r.startAfterSet_=!0,r},t.prototype.endAt=function(e,n){var r=this.copy_();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r},t.prototype.endBefore=function(e,n){var r,i;return this.index_===ji?(typeof e=="string"&&(e=oC(e)),i=this.endAt(e,n)):(n==null?r=Io:r=oC(n),i=this.endAt(e,r)),i.endBeforeSet_=!0,i},t.prototype.orderBy=function(e){var n=this.copy_();return n.index_=e,n},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;r===""&&(this.isViewFromLeft()?r=e.VIEW_FROM_LEFT:r=e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==ut&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ut},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new wb(this.getIndex()):this.hasLimit()?new J6(this):new jx(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===ut?r=e.PRIORITY_INDEX:this.index_===xw?r=e.VALUE_INDEX:this.index_===ji?r=e.KEY_INDEX:(K(this.index_ instanceof Pw,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=Jt(r),this.startSet_&&(n[e.START_AT]=Jt(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Jt(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Jt(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Jt(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=function(t){ee(e,t);function e(n,r){var i=this;if(!(n instanceof Eb))throw new Error("new Reference() no longer supported - use app.database().");return i=t.call(this,n,r,new Z6,!1)||this,i}return e.prototype.getKey=function(){return be("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(n){return be("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof re||(this.path.getFront()===null?D$("Reference.child",1,n,!1):Cf("Reference.child",1,n,!1)),new e(this.repo,this.path.child(n))},e.prototype.getParent=function(){be("Reference.parent",0,0,arguments.length);var n=this.path.parent();return n===null?null:new e(this.repo,n)},e.prototype.getRoot=function(){be("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(n,r){be("Reference.set",1,2,arguments.length),Mr("Reference.set",this.path),Li("Reference.set",1,n,this.path,!1),fn("Reference.set",2,r,!0);var i=new ar;return this.repo.setWithPriority(this.path,n,null,i.wrapCallback(r)),i.promise},e.prototype.update=function(n,r){if(be("Reference.update",1,2,arguments.length),Mr("Reference.update",this.path),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,kn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}px("Reference.update",1,n,this.path,!1),fn("Reference.update",2,r,!0);var a=new ar;return this.repo.update(this.path,n,a.wrapCallback(r)),a.promise},e.prototype.setWithPriority=function(n,r,i){if(be("Reference.setWithPriority",2,3,arguments.length),Mr("Reference.setWithPriority",this.path),Li("Reference.setWithPriority",1,n,this.path,!1),Rw("Reference.setWithPriority",2,r,!1),fn("Reference.setWithPriority",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var s=new ar;return this.repo.setWithPriority(this.path,n,r,s.wrapCallback(i)),s.promise},e.prototype.remove=function(n){return be("Reference.remove",0,1,arguments.length),Mr("Reference.remove",this.path),fn("Reference.remove",1,n,!0),this.set(null,n)},e.prototype.transaction=function(n,r,i){if(be("Reference.transaction",1,3,arguments.length),Mr("Reference.transaction",this.path),fn("Reference.transaction",1,n,!1),fn("Reference.transaction",2,r,!0),M$("Reference.transaction",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";i===void 0&&(i=!0);var s=new ar;typeof r=="function"&&s.promise.catch(function(){});var a=function(c,l,h){c?s.reject(c):s.resolve(new F$(l,h)),typeof r=="function"&&r(c,l,h)};return this.repo.startTransaction(this.path,n,a,i),s.promise},e.prototype.setPriority=function(n,r){be("Reference.setPriority",1,2,arguments.length),Mr("Reference.setPriority",this.path),Rw("Reference.setPriority",1,n,!1),fn("Reference.setPriority",2,r,!0);var i=new ar;return this.repo.setWithPriority(this.path.child(".priority"),n,null,i.wrapCallback(r)),i.promise},e.prototype.push=function(n,r){be("Reference.push",0,2,arguments.length),Mr("Reference.push",this.path),Li("Reference.push",1,n,this.path,!0),fn("Reference.push",2,r,!0);var i=this.repo.serverTime(),s=U$(i),a=this.child(s),c=this.child(s),l;return n!=null?l=a.set(n,r).then(function(){return c}):l=Promise.resolve(c),a.then=l.then.bind(l),a.catch=l.then.bind(l,void 0),typeof r=="function"&&l.catch(function(){}),a},e.prototype.onDisconnect=function(){return Mr("Reference.onDisconnect",this.path),new L$(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(yb);yb.__referenceConstructor=vo;Dw.__referenceConstructor=vo;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ez=function(){function t(e,n){var r=this;this.app_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(i){return r.auth_=i})}return t.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout(function(){return e(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)}))},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kn(e)},t}(),NC=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tz="FIREBASE_DATABASE_EMULATOR_HOST",E_,Of=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return E_||(E_=new t),E_},t.prototype.interrupt=function(){var e,n,r,i;try{for(var s=Ft(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Ft(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].interrupt()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,n,r,i;try{for(var s=Ft(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Ft(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].resume()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.applyEmulatorSettings=function(e,n,r){e.repoInfo_=new gb(n+":"+r,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new NC)},t.prototype.databaseFromApp=function(e,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bn("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=Nw(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=process.env[tz]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=Nw(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new NC:new ez(e,n);vx("Invalid Firebase Database URL",1,a),a.path.isEmpty()||Fi("Database URL must point to the root of a Firebase Database (not including a child path).");var v=this.createRepo(c,e,d);return v.database},t.prototype.deleteRepo=function(e){var n=si(this.repos_,e.app.name);(!n||si(n,e.key)!==e)&&Fi("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete n[e.key]},t.prototype.createRepo=function(e,n,r){var i=si(this.repos_,n.name);i||(i={},this.repos_[n.name]=i);var s=si(i,e.toURLString());return s&&Fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Eb(e,this.useRestClient_,n,r),i[e.toURLString()]=s,s},t.prototype.forceRestClient=function(e){this.useRestClient_=e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tb=function(){function t(e){var n=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return R(n,void 0,void 0,function(){return N(this,function(r){return this.checkDeleted_("delete"),Of.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},e instanceof Eb||Fi("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new vo(this.repo_,re.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(e,n){if(this.checkDeleted_("useEmulator"),this.instanceStarted_){Fi("Cannot call useEmulator() after instance has already been initialized.");return}Of.getInstance().applyEmulatorSettings(this.repoInternal_,e,n)},t.prototype.ref=function(e){return this.checkDeleted_("ref"),be("database.ref",0,1,arguments.length),e instanceof vo?this.refFromURL(e.toString()):e!==void 0?this.root_.child(e):this.root_},t.prototype.refFromURL=function(e){var n="database.refFromURL";this.checkDeleted_(n),be(n,1,1,arguments.length);var r=Nw(e,this.repo_.repoInfo_.nodeAdmin);vx(n,1,r);var i=r.repoInfo;return!this.repo_.repoInfo_.isCustomHost()&&i.host!==this.repo_.repoInfo_.host&&Fi(n+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},t.prototype.checkDeleted_=function(e){this.repoInternal_===null&&Fi("Cannot call "+e+" on a deleted database.")},t.prototype.goOffline=function(){be("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){be("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nz=function(){ra.forceDisallow(),bb.forceAllow()},rz=function(){bb.forceDisallow()},iz=function(){return ra.isAvailable()},oz=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},sz=function(t,e){t.repo.stats(e)},az=function(t,e){t.repo.statsIncrementCounter(e)},uz=function(t){return t.repo.dataUpdateCount},cz=function(t,e){return t.repo.interceptServerData_(e)};function lz(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,s=t.namespace,a=t.nodeAdmin,c=a===void 0?!1:a;Lx(r);var l=new $k("auth-internal",new zk("database-standalone"));return l.setComponent(new dr("auth-internal",function(){return i},"PRIVATE")),{instance:Of.getInstance().databaseFromApp(e,l,n,c),namespace:s}}var fz=Object.freeze({__proto__:null,forceLongPolling:nz,forceWebSockets:rz,isWebSocketsAvailable:iz,setSecurityDebugCallback:oz,stats:sz,statsIncrementCounter:az,dataUpdateCount:uz,interceptServerData:cz,initStandalone:lz});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hz=ga;ga.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ga.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var dz=Fx,pz=function(t){var e=ga.prototype.put;return ga.prototype.put=function(n,r,i,s){s!==void 0&&(s=t()),e.call(this,n,r,i,s)},function(){ga.prototype.put=e}},vz=gb,gz=function(t){return t.queryIdentifier()},mz=function(t){Of.getInstance().forceRestClient(t)},yz=Object.freeze({__proto__:null,DataConnection:hz,RealTimeConnection:dz,hijackHash:pz,ConnectionTarget:vz,queryIdentifier:gz,forceRestClient:mz}),_z="@firebase/database",wz="0.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bz=Tb.ServerValue;function Ez(t){Lx(t.SDK_VERSION),t.INTERNAL.registerComponent(new dr("database",function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return Of.getInstance().databaseFromApp(r,i,n)},"PUBLIC").setServiceProps({Reference:vo,Query:yb,Database:Tb,DataSnapshot:ts,enableLogging:tx,INTERNAL:fz,ServerValue:bz,TEST_ACCESS:yz}).setMultipleInstances(!0)),t.registerVersion(_z,wz)}Ez(le);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mw=function(t,e){return Mw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Mw(t,e)};function Tz(t,e){Mw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Vx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Iz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,Ib=Ib||{},Ne=Iz||self;function Mp(){}function Lw(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ih(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Sz(t){return Object.prototype.hasOwnProperty.call(t,T_)&&t[T_]||(t[T_]=++Az)}var T_="closure_uid_"+(1e9*Math.random()>>>0),Az=0;function Cz(t,e,n){return t.call.apply(t.bind,arguments)}function Nz(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function xn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xn=Cz:xn=Nz,xn.apply(null,arguments)}function Md(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function zi(){return Date.now()}function Jn(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function Is(){this.j=this.j,this.i=this.i}var Rz=0;Is.prototype.j=!1;Is.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),Rz!=0)&&Sz(this)};Is.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Bx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},qx=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Oz(t){e:{for(var e=_K,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function RC(t){return Array.prototype.concat.apply([],arguments)}function Sb(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Lp(t){return/^[\s\xa0]*$/.test(t)}var OC=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $n(t,e){return t.indexOf(e)!=-1}function I_(t,e){return t<e?-1:t>e?1:0}var zn;e:{var kC=Ne.navigator;if(kC){var xC=kC.userAgent;if(xC){zn=xC;break e}}zn=""}function Ab(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Wx(t){var e={};for(var n in t)e[n]=t[n];return e}var PC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hx(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var s=0;s<PC.length;s++)n=PC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Cb(t){return Cb[" "](t),t}Cb[" "]=Mp;function kz(t,e){var n=Dz;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var xz=$n(zn,"Opera"),ys=$n(zn,"Trident")||$n(zn,"MSIE"),Gx=$n(zn,"Edge"),Fw=Gx||ys,Yx=$n(zn,"Gecko")&&!($n(zn.toLowerCase(),"webkit")&&!$n(zn,"Edge"))&&!($n(zn,"Trident")||$n(zn,"MSIE"))&&!$n(zn,"Edge"),Pz=$n(zn.toLowerCase(),"webkit")&&!$n(zn,"Edge");function $x(){var t=Ne.document;return t?t.documentMode:void 0}var Fp;e:{var S_="",A_=function(){var t=zn;if(Yx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Gx)return/Edge\/([\d\.]+)/.exec(t);if(ys)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Pz)return/WebKit\/(\S+)/.exec(t);if(xz)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(A_&&(S_=A_?A_[1]:""),ys){var C_=$x();if(C_!=null&&C_>parseFloat(S_)){Fp=String(C_);break e}}Fp=S_}var Dz={};function zx(t){return kz(t,function(){for(var e=0,n=OC(String(Fp)).split("."),r=OC(String(t)).split("."),i=Math.max(n.length,r.length),s=0;e==0&&s<i;s++){var a=n[s]||"",c=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],a[0].length==0&&c[0].length==0)break;e=I_(a[1].length==0?0:parseInt(a[1],10),c[1].length==0?0:parseInt(c[1],10))||I_(a[2].length==0,c[2].length==0)||I_(a[2],c[2]),a=a[3],c=c[3]}while(e==0)}return 0<=e})}var Uw;if(Ne.document&&ys){var DC=$x();Uw=DC||parseInt(Fp,10)||void 0}else Uw=void 0;var Kx=Uw,Nb=!ys||9<=Number(Kx),Mz=ys&&!zx("9"),Lz=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ne.addEventListener("test",Mp,e),Ne.removeEventListener("test",Mp,e)}catch{}return t}();function Pn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}Pn.prototype.b=function(){this.defaultPrevented=!0};function kf(t,e){if(Pn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Yx){e:{try{Cb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Fz[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Jn(kf,Pn);var Fz={2:"touch",3:"pen",4:"mouse"};kf.prototype.b=function(){kf.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Mz)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch{}};var oh="closure_listenable_"+(1e6*Math.random()|0),Uz=0;function jz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Uz,this.Y=this.Z=!1}function qv(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Wv(t){this.src=t,this.a={},this.b=0}Wv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.a[s],t||(t=this.a[s]=[],this.b++);var a=Vw(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new jz(e,this.src,s,!!r,i),e.Z=n,t.push(e)),e};function jw(t,e){var n=e.type;if(n in t.a){var r=t.a[n],i=Bx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qv(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function Vw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}var Rb="closure_lm_"+(1e6*Math.random()|0),N_={};function Ob(t,e,n,r,i){if(r&&r.once)return Xx(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ob(t,e[s],n,r,i);return null}return n=Pb(n),t&&t[oh]?t.va(e,n,ih(r)?!!r.capture:!!r,i):Qx(t,e,n,!1,r,i)}function Qx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=ih(i)?!!i.capture:!!i;if(a&&!Nb)return null;var c=xb(t);if(c||(t[Rb]=c=new Wv(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=Vz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Lz||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Zx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Vz(){var t=Bz,e=Nb?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Xx(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Xx(t,e[s],n,r,i);return null}return n=Pb(n),t&&t[oh]?t.wa(e,n,ih(r)?!!r.capture:!!r,i):Qx(t,e,n,!0,r,i)}function Jx(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Jx(t,e[s],n,r,i);else r=ih(r)?!!r.capture:!!r,n=Pb(n),t&&t[oh]?(t=t.c,e=String(e).toString(),e in t.a&&(s=t.a[e],n=Vw(s,n,r,i),-1<n&&(qv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.a[e],t.b--)))):t&&(t=xb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Vw(e,n,r,i)),(n=-1<t?e[t]:null)&&kb(n))}function kb(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[oh])jw(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Zx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=xb(e))?(jw(n,t),n.b==0&&(n.src=null,e[Rb]=null)):qv(t)}}}function Zx(t){return t in N_?N_[t]:N_[t]="on"+t}function MC(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&kb(t),n.call(r,e)}function Bz(t,e){if(t.Y)return!0;if(!Nb){if(!e)e:{e=["window","event"];for(var n=Ne,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new kf(e,this),MC(t,e)}return MC(t,new kf(e,this))}function xb(t){return t=t[Rb],t instanceof Wv?t:null}var R_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pb(t){return typeof t=="function"?t:(t[R_]||(t[R_]=function(e){return t.handleEvent(e)}),t[R_])}function Cr(){Is.call(this),this.c=new Wv(this),this.J=this,this.C=null}Jn(Cr,Is);Cr.prototype[oh]=!0;he=Cr.prototype;he.addEventListener=function(t,e,n,r){Ob(this,t,e,n,r)};he.removeEventListener=function(t,e,n,r){Jx(this,t,e,n,r)};function Tn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,typeof e=="string")e=new Pn(e,t);else if(e instanceof Pn)e.target=e.target||t;else{var i=e;e=new Pn(r,t),Hx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.a=n[s];i=Ld(a,r,!0,e)&&i}if(a=e.a=t,i=Ld(a,r,!0,e)&&i,i=Ld(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.a=n[s],i=Ld(a,r,!1,e)&&i}he.G=function(){if(Cr.X.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)qv(n[r]);delete t.a[e],t.b--}}this.C=null};he.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};he.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function Ld(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.Y&&a.capture==n){var c=a.listener,l=a.ca||a.src;a.Z&&jw(t.c,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Db=Ne.JSON.stringify;function eP(){this.b=this.a=null}var tP=new(function(){function t(e,n){this.c=e,this.f=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new Mb},function(t){t.reset()});eP.prototype.add=function(t,e){var n=tP.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function qz(){var t=rP,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mb(){this.next=this.b=this.a=null}Mb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};Mb.prototype.reset=function(){this.next=this.b=this.a=null};function Wz(t){Ne.setTimeout(function(){throw t},0)}function nP(t,e){Bw||Hz(),qw||(Bw(),qw=!0),rP.add(t,e)}var Bw;function Hz(){var t=Ne.Promise.resolve(void 0);Bw=function(){t.then(Gz)}}var qw=!1,rP=new eP;function Gz(){for(var t;t=qz();){try{t.a.call(t.b)}catch(n){Wz(n)}var e=tP;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}qw=!1}function Hv(t,e){Cr.call(this),this.b=t||1,this.a=e||Ne,this.f=xn(this.Za,this),this.g=zi()}Jn(Hv,Cr);he=Hv.prototype;he.aa=!1;he.M=null;he.Za=function(){if(this.aa){var t=zi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tn(this,"tick"),this.aa&&(Lb(this),this.start()))}};he.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=zi())};function Lb(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}he.G=function(){Hv.X.G.call(this),Lb(this),delete this.a};function Fb(t,e,n){if(typeof t=="function")n&&(t=xn(t,n));else if(t&&typeof t.handleEvent=="function")t=xn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ne.setTimeout(t,e||0)}function iP(t){t.a=Fb(function(){t.a=null,t.c&&(t.c=!1,iP(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var Yz=function(t){Tz(e,t);function e(n,r){var i=t.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:iP(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ne.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Is);function xf(t){Is.call(this),this.b=t,this.a={}}Jn(xf,Is);var LC=[];function oP(t,e,n,r){Array.isArray(n)||(n&&(LC[0]=n.toString()),n=LC);for(var i=0;i<n.length;i++){var s=Ob(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function sP(t){Ab(t.a,function(e,n){this.a.hasOwnProperty(n)&&kb(e)},t),t.a={}}xf.prototype.G=function(){xf.X.G.call(this),sP(this)};xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ub(){this.a=!0}function $z(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function zz(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function Pu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Qz(t,n)+(r?" "+r:"")})}function Kz(t,e){t.info(function(){return"TIMEOUT: "+e})}Ub.prototype.info=function(){};function Qz(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Db(n)}catch{return e}}var Fa={},FC=null;function Gv(){return FC=FC||new Cr}Fa.Fa="serverreachability";function aP(t){Pn.call(this,Fa.Fa,t)}Jn(aP,Pn);function Pf(t){var e=Gv();Tn(e,new aP(e))}Fa.STAT_EVENT="statevent";function uP(t,e){Pn.call(this,Fa.STAT_EVENT,t),this.stat=e}Jn(uP,Pn);function Kn(t){var e=Gv();Tn(e,new uP(e,t))}Fa.Ga="timingevent";function cP(t){Pn.call(this,Fa.Ga,t)}Jn(cP,Pn);function sh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){t()},e)}var Yv={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},lP={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function fP(){}fP.prototype.a=null;function UC(t){var e;return(e=t.a)||(e=t.a={}),e}function hP(){}var ah={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function jb(){Pn.call(this,"d")}Jn(jb,Pn);function Vb(){Pn.call(this,"c")}Jn(Vb,Pn);var dP;function pP(){}Jn(pP,fP);dP=new pP;function uh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new xf(this),this.P=Xz,t=Fw?125:void 0,this.R=new Hv(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var Xz=45e3,vP={},Ww={};he=uh.prototype;he.setTimeout=function(t){this.P=t};function Hw(t,e,n){t.H=1,t.i=zv(So(e)),t.j=n,t.I=!0,gP(t,null)}function gP(t,e){t.u=zi(),ch(t),t.l=So(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),EP(n.b,"t",r),t.D=0,t.a=VP(t.g,t.g.C?e:null),0<t.O&&(t.F=new Yz(xn(t.Ca,t,t.a),t.O)),oP(t.J,t.a,"readystatechange",t.Xa),e=t.B?Wx(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Pf(),$z(t.c,t.m,t.l,t.f,t.S,t.j)}he.Xa=function(t){t=t.target;var e=this.F;e&&us(t)==3?e.f():this.Ca(t)};he.Ca=function(t){try{if(t==this.a)e:{var e=us(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||e==3&&!Fw&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?Pf(3):Pf(2)),$v(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,zz(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,c=this.a;if((a=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lp(a)){var l=a;break t}}l=null}if(l)Pu(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Gw(this,l);else{this.b=!1,this.h=3,Kn(12),$u(this),Up(this);break e}}this.I?(mP(this,e,s),Fw&&this.b&&e==3&&(oP(this.J,this.R,"tick",this.Wa),this.R.start())):(Pu(this.c,this.f,s,null),Gw(this,s)),e==4&&$u(this),this.b&&!this.A&&(e==4?LP(this.g,this):(this.b=!1,ch(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,Kn(12)):(this.h=0,Kn(13)),$u(this),Up(this)}}}catch{}finally{}};function mP(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Jz(t,n);if(i==Ww){e==4&&(t.h=4,Kn(14),r=!1),Pu(t.c,t.f,null,"[Incomplete Response]");break}else if(i==vP){t.h=4,Kn(15),Pu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else Pu(t.c,t.f,i,null),Gw(t,i)}e==4&&n.length==0&&(t.h=1,Kn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),zb(e),e.F=!0,Kn(11))):(Pu(t.c,t.f,n,"[Invalid Chunked Response]"),$u(t),Up(t))}he.Wa=function(){if(this.a){var t=us(this.a),e=this.a.$();this.D<e.length&&($v(this),mP(this,t,e),this.b&&t!=4&&ch(this))}};function Jz(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?Ww:(n=Number(e.substring(n,r)),isNaN(n)?vP:(r+=1,r+n>e.length?Ww:(e=e.substr(r,n),t.D=r+n,e)))}he.cancel=function(){this.A=!0,$u(this)};function ch(t){t.T=zi()+t.P,yP(t,t.P)}function yP(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=sh(xn(t.Va,t),e)}function $v(t){t.o&&(Ne.clearTimeout(t.o),t.o=null)}he.Va=function(){this.o=null;var t=zi();0<=t-this.T?(Kz(this.c,this.l),this.H!=2&&(Pf(),Kn(17)),$u(this),this.h=2,Up(this)):yP(this,this.T-t)};function Up(t){t.g.v==0||t.A||LP(t.g,t)}function $u(t){$v(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,Lb(t.R),sP(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Gw(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||Yw(n.b,t))){if(n.I=t.N,!t.C&&Yw(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)qp(n),Qv(n);else break e;$b(n),Kn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=sh(xn(n.Sa,n),6e3));if(1>=SP(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else ua(n,11)}else if((t.C||n.a==t)&&qp(n),!Lp(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var c=i[5];if(c!=null&&typeof c=="number"&&0<c){var l=1.5*c;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var h=t.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=l.b;!v.a&&($n(d,"spdy")||$n(d,"quic")||$n(d,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&(Wb(v,v.b),v.b=null))}if(l.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(l.na=m,Tt(l.B,l.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=zi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),l=n;var y=t;if(l.la=jP(l,l.C?l.ga:null,l.fa),y.C){AP(l.b,y);var b=y,E=l.D;E&&b.setTimeout(E),b.o&&($v(b),ch(b)),l.a=y}else DP(l);0<n.g.length&&Xv(n)}else i[0]!="stop"&&i[0]!="close"||ua(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?ua(n,7):Yb(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Pf(4)}catch{}}function Zz(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(Lw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function Bb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Lw(t)||typeof t=="string")qx(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(Lw(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Zz(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Mc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Mc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}he=Mc.prototype;he.K=function(){qb(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};he.L=function(){return qb(this),this.a.concat()};function qb(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ia(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Ia(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}he.get=function(t,e){return Ia(this.b,t)?this.b[t]:e};he.set=function(t,e){Ia(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};he.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Ia(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var _P=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function eK(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Sa(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Sa){this.a=e!==void 0?e:t.a,jp(this,t.f),this.j=t.j,Vp(this,t.c),Bp(this,t.h),this.g=t.g,e=t.b;var n=new Df;n.c=e.c,e.a&&(n.a=new Mc(e.a),n.b=e.b),jC(this,n),this.i=t.i}else t&&(n=String(t).match(_P))?(this.a=!!e,jp(this,n[1]||"",!0),this.j=rf(n[2]||""),Vp(this,n[3]||"",!0),Bp(this,n[4]),this.g=rf(n[5]||"",!0),jC(this,n[6]||"",!0),this.i=rf(n[7]||"")):(this.a=!!e,this.b=new Df(null,this.a))}Sa.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zl(e,VC,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(zl(e,VC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(zl(n,n.charAt(0)=="/"?oK:iK,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",zl(n,aK)),t.join("")};function So(t){return new Sa(t)}function jp(t,e,n){t.f=n?rf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Vp(t,e,n){t.c=n?rf(e,!0):e}function Bp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function jC(t,e,n){e instanceof Df?(t.b=e,uK(t.b,t.a)):(n||(e=zl(e,sK)),t.b=new Df(e,t.a))}function Tt(t,e,n){t.b.set(e,n)}function zv(t){return Tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^zi()).toString(36)),t}function tK(t){return t instanceof Sa?So(t):new Sa(t,void 0)}function nK(t,e,n,r){var i=new Sa(null,void 0);return t&&jp(i,t),e&&Vp(i,e),n&&Bp(i,n),r&&(i.g=r),i}function rf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,rK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rK(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var VC=/[#\/\?@]/g,iK=/[#\?:]/g,oK=/[#\?]/g,sK=/[#\?@]/g,aK=/#/g;function Df(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ss(t){t.a||(t.a=new Mc,t.b=0,t.c&&eK(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}he=Df.prototype;he.add=function(t,e){Ss(this),this.c=null,t=Lc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function wP(t,e){Ss(t),e=Lc(t,e),Ia(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Ia(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&qb(t)))}function bP(t,e){return Ss(t),e=Lc(t,e),Ia(t.a.b,e)}he.forEach=function(t,e){Ss(this),this.a.forEach(function(n,r){qx(n,function(i){t.call(e,i,r,this)},this)},this)};he.L=function(){Ss(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};he.K=function(t){Ss(this);var e=[];if(typeof t=="string")bP(this,t)&&(e=RC(e,this.a.get(Lc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=RC(e,t[n])}return e};he.set=function(t,e){return Ss(this),this.c=null,t=Lc(this,t),bP(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};he.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function EP(t,e,n){wP(t,e),0<n.length&&(t.c=null,t.a.set(Lc(t,e),Sb(n)),t.b+=n.length)}he.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),t.push(a)}}return this.c=t.join("&")};function Lc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function uK(t,e){e&&!t.f&&(Ss(t),t.c=null,t.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(wP(this,r),EP(this,i,n))},t)),t.f=e}var cK=function(){function t(e,n){this.b=e,this.a=n}return t}();function TP(t){this.g=t||lK,Ne.PerformanceNavigationTiming?(t=Ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ne.ia&&Ne.ia.ya&&Ne.ia.ya()&&Ne.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var lK=10;function IP(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function SP(t){return t.b?1:t.a?t.a.size:0}function Yw(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function Wb(t,e){t.a?t.a.add(e):t.b=e}function AP(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}TP.prototype.cancel=function(){var t,e;if(this.c=CP(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=Vx(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function CP(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var i=Vx(t.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Sb(t.c)}function Hb(){}Hb.prototype.stringify=function(t){return Ne.JSON.stringify(t,void 0)};Hb.prototype.parse=function(t){return Ne.JSON.parse(t,void 0)};function fK(){this.a=new Hb}function hK(t,e,n){var r=n||"";try{Bb(t,function(i,s){var a=i;ih(i)&&(a=Db(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dK(t,e){var n=new Ub;if(Ne.Image){var r=new Image;r.onload=Md(Fd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Md(Fd,n,r,"TestLoadImage: error",!1,e),r.onabort=Md(Fd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Md(Fd,n,r,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}var pK=Ne.JSON.parse;function on(t){Cr.call(this),this.headers=new Mc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=vK,this.D=this.F=!1}Jn(on,Cr);var vK="",gK=/^https?$/i,mK=["POST","PUT"];he=on.prototype;he.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?UC(this.H):UC(dP),this.a.onreadystatechange=xn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){BC(this,s);return}t=n||"";var i=new Mc(this.headers);r&&Bb(r,function(s,a){i.set(a,s)}),r=Oz(i.L()),n=Ne.FormData&&t instanceof Ne.FormData,!(0<=Bx(mK,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{OP(this),0<this.o&&((this.D=yK(this.a))?(this.a.timeout=this.o,this.a.ontimeout=xn(this.xa,this)):this.m=Fb(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){BC(this,s)}};function yK(t){return ys&&zx(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function _K(t){return t.toLowerCase()=="content-type"}he.xa=function(){typeof Ib<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tn(this,"timeout"),this.abort(8))};function BC(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,NP(t),Kv(t)}function NP(t){t.u||(t.u=!0,Tn(t,"complete"),Tn(t,"error"))}he.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Tn(this,"complete"),Tn(this,"abort"),Kv(this))};he.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Kv(this,!0)),on.X.G.call(this)};he.za=function(){this.j||(this.A||this.l||this.g?RP(this):this.Ua())};he.Ua=function(){RP(this)};function RP(t){if(t.b&&typeof Ib<"u"&&(!t.s[1]||us(t)!=4||t.W()!=2)){if(t.l&&us(t)==4)Fb(t.za,0,t);else if(Tn(t,"readystatechange"),us(t)==4){t.b=!1;try{{var e=t.W();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var s=String(t.B).match(_P)[1]||null;if(!s&&Ne.self&&Ne.self.location){var a=Ne.self.location.protocol;s=a.substr(0,a.length-1)}i=!gK.test(s?s.toLowerCase():"")}r=i}var c=r}if(c)Tn(t,"complete"),Tn(t,"success");else{t.h=6;try{var l=2<us(t)?t.a.statusText:""}catch{l=""}t.f=l+" ["+t.W()+"]",NP(t)}}finally{Kv(t)}}}}function Kv(t,e){if(t.a){OP(t);var n=t.a,r=t.s[0]?Mp:null;t.a=null,t.s=null,e||Tn(t,"ready");try{n.onreadystatechange=r}catch{}}}function OP(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ne.clearTimeout(t.m),t.m=null)}function us(t){return t.a?t.a.readyState:0}he.W=function(){try{return 2<us(this)?this.a.status:-1}catch{return-1}};he.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};he.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),pK(e)}};he.ua=function(){return this.h};he.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function wK(t){var e="";return Ab(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wK(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tt(t,e,n))}function Vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kP(t){this.pa=0,this.g=[],this.c=new Ub,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vl("baseRetryDelayMs",5e3,t),this.Ra=Vl("retryDelaySeedMs",1e4,t),this.Ma=Vl("forwardChannelMaxRetries",2,t),this.ma=Vl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new TP(t&&t.concurrentRequestLimit),this.ka=new fK,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}he=kP.prototype;he.ha=8;he.v=1;function Yb(t){if(xP(t),t.v==3){var e=t.R++,n=So(t.B);Tt(n,"SID",t.J),Tt(n,"RID",e),Tt(n,"TYPE","terminate"),lh(t,n),e=new uh(t,t.c,e,void 0),e.H=2,e.i=zv(So(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(n=Ne.navigator.sendBeacon(e.i.toString(),"")),!n&&Ne.Image&&(new Image().src=e.i,n=!0),n||(e.a=VP(e.g,null),e.a.ba(e.i)),e.u=zi(),ch(e)}UP(t)}function Qv(t){t.a&&(zb(t),t.a.cancel(),t.a=null)}function xP(t){Qv(t),t.j&&(Ne.clearTimeout(t.j),t.j=null),qp(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&Ne.clearTimeout(t.h),t.h=null)}function O_(t,e){t.g.push(new cK(t.Oa++,e)),t.v==3&&Xv(t)}function Xv(t){IP(t.b)||t.h||(t.h=!0,nP(t.Ba,t),t.u=0)}function bK(t,e){return SP(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.La?0:t.Ma)?!1:(t.h=sh(xn(t.Ba,t,e),FP(t,t.u)),t.u++,!0)}he.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new uh(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=Wx(n),Hx(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=PP(this,e,r),i=So(this.B),Tt(i,"RID",t),Tt(i,"CVER",22),this.A&&Tt(i,"X-HTTP-Session-Id",this.A),lh(this,i),this.i&&n&&Gb(i,this.i,n),Wb(this.b,e),this.Ia&&Tt(i,"TYPE","init"),this.da?(Tt(i,"$req",r),Tt(i,"SID","null"),e.U=!0,Hw(e,i,null)):Hw(e,i,r),this.v=2}}else this.v==3&&(t?qC(this,t):this.g.length==0||IP(this.b)||qC(this))};function qC(t,e){var n;e?n=e.f:n=t.R++;var r=So(t.B);Tt(r,"SID",t.J),Tt(r,"RID",n),Tt(r,"AID",t.P),lh(t,r),t.i&&t.l&&Gb(r,t.i,t.l),n=new uh(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=PP(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Wb(t.b,n),Hw(n,r,e)}function lh(t,e){t.f&&Bb({},function(n,r){Tt(e,r,n)})}function PP(t,e,n){n=Math.min(t.g.length,n);var r=t.f?xn(t.f.Ja,t.f,t):null;e:for(var i=t.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].b,d=i[l].a;if(h-=s,0>h)s=Math.max(0,i[l].b-100),c=!1;else try{hK(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function DP(t){t.a||t.j||(t.T=1,nP(t.Aa,t),t.o=0)}function $b(t){return t.a||t.j||3<=t.o?!1:(t.T++,t.j=sh(xn(t.Aa,t),FP(t,t.o)),t.o++,!0)}he.Aa=function(){if(this.j=null,MP(this),this.U&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=sh(xn(this.Ta,this),t)}};he.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Kn(10),Qv(this),MP(this))};function zb(t){t.s!=null&&(Ne.clearTimeout(t.s),t.s=null)}function MP(t){t.a=new uh(t,t.c,"rpc",t.T),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=So(t.la);Tt(e,"RID","rpc"),Tt(e,"SID",t.J),Tt(e,"CI",t.H?"0":"1"),Tt(e,"AID",t.P),lh(t,e),Tt(e,"TYPE","xmlhttp"),t.i&&t.l&&Gb(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=zv(So(e)),n.j=null,n.I=!0,gP(n,t)}he.Sa=function(){this.m!=null&&(this.m=null,Qv(this),$b(this),Kn(19))};function qp(t){t.m!=null&&(Ne.clearTimeout(t.m),t.m=null)}function LP(t,e){var n=null;if(t.a==e){qp(t),zb(t),t.a=null;var r=2}else if(Yw(t.b,e))n=e.s,AP(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=zi()-e.u;var i=t.u;r=Gv(),Tn(r,new cP(r)),Xv(t)}else DP(t);else if(i=e.h,i==3||i==0&&0<t.I||!(r==1&&bK(t,e)||r==2&&$b(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ua(t,5);break;case 4:ua(t,10);break;case 3:ua(t,6);break;default:ua(t,2)}}}function FP(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ua(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=xn(t.Ya,t);n||(n=new Sa("//www.google.com/images/cleardot.gif"),Ne.location&&Ne.location.protocol=="http"||jp(n,"https"),zv(n)),dK(n.toString(),r)}else Kn(2);t.v=0,t.f&&t.f.ra(e),UP(t),xP(t)}he.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Kn(2)):(this.c.info("Failed to ping google.com"),Kn(1))};function UP(t){t.v=0,t.I=-1,t.f&&((CP(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,Sb(t.g),t.g.length=0),t.f.qa())}function jP(t,e,n){var r=tK(n);if(r.c!="")e&&Vp(r,e+"."+r.c),Bp(r,r.h);else{var i=Ne.location;r=nK(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ab(t.V,function(s,a){Tt(r,a,s)}),e=t.A,n=t.na,e&&n&&Tt(r,e,n),Tt(r,"VER",t.ha),lh(t,r),r}function VP(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new on(t.Na),e.F=t.C,e}function BP(){}he=BP.prototype;he.ta=function(){};he.sa=function(){};he.ra=function(){};he.qa=function(){};he.Ja=function(){};function Wp(){if(ys&&!(10<=Number(Kx)))throw Error("Environmental error: no available transport.")}Wp.prototype.a=function(t,e){return new Nr(t,e)};function Nr(t,e){Cr.call(this),this.a=new kP(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Lp(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lp(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Fc(this)}Jn(Nr,Cr);Nr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Kn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=jP(t,null,t.fa),Xv(t)};Nr.prototype.close=function(){Yb(this.a)};Nr.prototype.h=function(t){if(typeof t=="string"){var e={};e.__data__=t,O_(this.a,e)}else this.l?(e={},e.__data__=Db(t),O_(this.a,e)):O_(this.a,t)};Nr.prototype.G=function(){this.a.f=null,delete this.f,Yb(this.a),delete this.a,Nr.X.G.call(this)};function qP(t){jb.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}Jn(qP,jb);function WP(){Vb.call(this),this.status=1}Jn(WP,Vb);function Fc(t){this.a=t}Jn(Fc,BP);Fc.prototype.ta=function(){Tn(this.a,"a")};Fc.prototype.sa=function(t){Tn(this.a,new qP(t))};Fc.prototype.ra=function(t){Tn(this.a,new WP)};Fc.prototype.qa=function(){Tn(this.a,"b")};Wp.prototype.createWebChannel=Wp.prototype.a;Nr.prototype.send=Nr.prototype.h;Nr.prototype.open=Nr.prototype.g;Nr.prototype.close=Nr.prototype.close;Yv.NO_ERROR=0;Yv.TIMEOUT=8;Yv.HTTP_ERROR=6;lP.COMPLETE="complete";hP.EventType=ah;ah.OPEN="a";ah.CLOSE="b";ah.ERROR="c";ah.MESSAGE="d";Cr.prototype.listen=Cr.prototype.va;on.prototype.listenOnce=on.prototype.wa;on.prototype.getLastError=on.prototype.Qa;on.prototype.getLastErrorCode=on.prototype.ua;on.prototype.getStatus=on.prototype.W;on.prototype.getResponseJson=on.prototype.Pa;on.prototype.getResponseText=on.prototype.$;on.prototype.send=on.prototype.ba;var EK=function(){return new Wp},TK=function(){return Gv()},k_=Yv,IK=lP,SK=Fa,WC={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Ud=hP,AK=on;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CK=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Hp=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),hi=new Dc("@firebase/firestore");function $w(){return hi.logLevel}function J(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(hi.logLevel<=De.DEBUG){var r=e.map(Kb);hi.debug.apply(hi,Vt(["Firestore (8.2.7): "+t],r))}}function Yt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(hi.logLevel<=De.ERROR){var r=e.map(Kb);hi.error.apply(hi,Vt(["Firestore (8.2.7): "+t],r))}}function Gp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(hi.logLevel<=De.WARN){var r=e.map(Kb);hi.warn.apply(hi,Vt(["Firestore (8.2.7): "+t],r))}}function Kb(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+t;throw Yt(e),new Error(e)}function Ee(t,e){t||fe()}function te(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NK(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HP=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=NK(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length));return r},t}();function je(t,e){return t<e?-1:t>e?1:0}function uc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function GP(t){return t+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function t(e){this.h=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.h,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(e){return je(this.h,e.h)},t.prototype.isEqual=function(e){return this.h===e.h},t}();Qn.T=new Qn("");var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ee(e,t),e}(Error),Aa=function(){function t(e){this.I=e}return t.fromBase64String=function(e){try{return new t(Qn.fromBase64String(e))}catch(n){throw new G(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Qn.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this.I.isEqual(e.I)},t}(),br=function(){function t(e){this.uid=e}return t.prototype.m=function(){return this.uid!=null},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();br.UNAUTHENTICATED=new br(null),br.R=new br("google-credentials-uid"),br.P=new br("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RK=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},HC=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(e){this.V=e,e(br.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),OK=function(){function t(e){var n=this;this.D=null,this.currentUser=br.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),e.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return t.prototype.getToken=function(){var e=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.N!==n?(J("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Ee(typeof i.accessToken=="string"),new RK(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(e){this.V=e,this.C&&e(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new br(e)},t}(),kK=function(){function t(e,n){this.F=e,this.O=n,this.type="FirstParty",this.user=br.P}return Object.defineProperty(t.prototype,"g",{get:function(){var e={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),e},enumerable:!1,configurable:!0}),t}(),xK=function(){function t(e,n){this.F=e,this.O=n}return t.prototype.getToken=function(){return Promise.resolve(new kK(this.F,this.O))},t.prototype.v=function(e){e(br.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Ir=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return t.prototype.M=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.L&&this.L(e),e},t}();Ir.q=-1;var cr=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Le=function(){function t(e){this.timestamp=e}return t.K=function(e){return new t(e)},t.min=function(){return new t(new cr(0,0))},t.prototype._=function(e){return this.timestamp.U(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),YP=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.G=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.H(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(e){return e=e===void 0?1:e,this.J(this.segments,this.offset+e,this.length-e)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.et=function(){return this.length===0},t.prototype.nt=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.st=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Qe=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.J=function(n,r,i){return new e(n,r,i)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new G(P.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new e(i)},e.ct=function(){return new e([])},e}(YP),PK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yi=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.J=function(n,r,i){return new e(n,r,i)},e.at=function(n){return PK.test(n)},e.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},e.ht=function(){return new e(["__name__"])},e.lt=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new G(P.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new G(P.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new G(P.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.ct=function(){return new e([])},e}(YP),ve=function(){function t(e){this.path=e}return t._t=function(e){return new t(Qe.ot(e))},t.ft=function(e){return new t(Qe.ot(e).Y(5))},t.prototype.dt=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Qe.H(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.H=function(e,n){return Qe.H(e.path,n.path)},t.wt=function(e){return e.length%2==0},t.Et=function(e){return new t(new Qe(e.slice()))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $P(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cc=function(){function t(e){this.fields=e,e.sort(yi.H)}return t.prototype.Tt=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(e))return!0;return!1},t.prototype.isEqual=function(e){return uc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),DK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(t){if(Ee(!!t),typeof t=="string"){var e=0,n=DK.exec(t);if(Ee(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function lc(t){return typeof t=="string"?Qn.fromBase64String(t):Qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zP(t){var e=t.mapValue.fields.__previous_value__;return Qb(e)?zP(e):e}function Mf(t){var e=_s(t.mapValue.fields.__local_write_time__.timestampValue);return new cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){return t==null}function Yp(t){return t===0&&1/t==-1/0}function KP(t){return typeof t=="number"&&Number.isInteger(t)&&!Yp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qb(t)?4:10:fe()}function Gi(t,e){var n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mf(t).isEqual(Mf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=_s(r.timestampValue),a=_s(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return lc(r.bytesValue).isEqual(lc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Gt(r.geoPointValue.latitude)===Gt(i.geoPointValue.latitude)&&Gt(r.geoPointValue.longitude)===Gt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gt(r.integerValue)===Gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Gt(r.doubleValue),a=Gt(i.doubleValue);return s===a?Yp(s)===Yp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return uc(t.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(GC(s)!==GC(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Gi(s[c],a[c])))return!1;return!0}(t,e);default:return fe()}}function Lf(t,e){return(t.values||[]).find(function(n){return Gi(n,e)})!==void 0}function fc(t,e){var n=ws(t),r=ws(e);if(n!==r)return je(n,r);switch(n){case 0:return 0;case 1:return je(t.booleanValue,e.booleanValue);case 2:return function(i,s){var a=Gt(i.integerValue||i.doubleValue),c=Gt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return YC(t.timestampValue,e.timestampValue);case 4:return YC(Mf(t),Mf(e));case 5:return je(t.stringValue,e.stringValue);case 6:return function(i,s){var a=lc(i),c=lc(s);return a._(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=je(a[l],c[l]);if(h!==0)return h}return je(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){var a=je(Gt(i.latitude),Gt(s.latitude));return a!==0?a:je(Gt(i.longitude),Gt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=fc(a[l],c[l]);if(h)return h}return je(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=je(c[d],h[d]);if(v!==0)return v;var m=fc(a[c[d]],l[h[d]]);if(m!==0)return m}return je(c.length,h.length)}(t.mapValue,e.mapValue);default:throw fe()}}function YC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return je(t,e);var n=_s(t),r=_s(e),i=je(n.seconds,r.seconds);return i!==0?i:je(n.nanos,r.nanos)}function Xb(t){return zw(t)}function zw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=_s(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?lc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ve.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=zw(c[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+zw(r.fields[l])}return i+"}"}(t.mapValue):fe();var e,n}function $p(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Kw(t){return!!t&&"integerValue"in t}function Jb(t){return!!t&&"arrayValue"in t}function $C(t){return!!t&&"nullValue"in t}function zC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zb(t){return!!t&&"mapValue"in t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bs=function(){function t(e){this.proto=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.et())return this.proto;for(var n=this.proto,r=0;r<e.length-1;++r)if(!n.mapValue.fields||!Zb(n=n.mapValue.fields[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.tt()])||null},t.prototype.isEqual=function(e){return Gi(this.proto,e.proto)},t}(),hh=function(){function t(e){e===void 0&&(e=bs.empty()),this.It=e,this.At=new Map}return t.prototype.set=function(e,n){return this.Rt(e,n),this},t.prototype.delete=function(e){return this.Rt(e,null),this},t.prototype.Rt=function(e,n){for(var r=this.At,i=0;i<e.length-1;++i){var s=e.get(i),a=r.get(s);a instanceof Map?r=a:a&&ws(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(e.tt(),n)},t.prototype.Pt=function(){var e=this.yt(yi.ct(),this.At);return e!=null?new bs(e):this.It},t.prototype.yt=function(e,n){var r=this,i=!1,s=this.It.field(e),a=Zb(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,l){if(c instanceof Map){var h=r.yt(e.child(l),c);h!=null&&(a[l]=h,i=!0)}else c!==null?(a[l]=c,i=!0):a.hasOwnProperty(l)&&(delete a[l],i=!0)}),i?{mapValue:{fields:a}}:null},t}();function QP(t){var e=[];return fh(t.fields||{},function(n,r){var i=new yi([n]);if(Zb(r)){var s=QP(r.mapValue).fields;if(s.length===0)e.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];e.push(i.child(l))}}else e.push(i)}),new cc(e)}var eE=function(t,e){this.key=t,this.version=e},ct=function(t){function e(n,r,i,s){var a=this;return(a=t.call(this,n,r)||this).gt=i,a.Vt=!!s.Vt,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return ee(e,t),e.prototype.field=function(n){return this.gt.field(n)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(eE),nn=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return ee(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(eE),tE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(eE),MK=function(t,e,n,r,i,s,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.vt=null};function KC(t,e,n,r,i,s,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new MK(t,e,n,r,i,s,a)}function dh(t){var e=te(t);if(e.vt===null){var n=e.path.rt();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+Xb(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),Ua(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Kp(e.startAt)),e.endAt&&(n+="|ub:",n+=Kp(e.endAt)),e.vt=n}return e.vt}function Jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!WK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],s=e.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Gi(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XC(t.startAt,e.startAt)&&XC(t.endAt,e.endAt)}function zp(t){return ve.wt(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Sr=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).field=n,s.op=r,s.value=i,s}return ee(e,t),e.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new LK(n,r,i):r==="array-contains"?new jK(n,i):r==="in"?new VK(n,i):r==="not-in"?new BK(n,i):r==="array-contains-any"?new qK(n,i):new e(n,r,i)},e.St=function(n,r,i){return r==="in"?new FK(n,i):new UK(n,i)},e.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(fc(r,this.value)):r!==null&&ws(this.value)===ws(r)&&this.Dt(fc(r,this.value))},e.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return fe()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),LK=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,i)||this).key=ve.ft(i.referenceValue),s}return ee(e,t),e.prototype.matches=function(n){var r=ve.H(n.key,this.key);return this.Dt(r)},e}(Sr),FK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=XP("in",r),i}return ee(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(Sr),UK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=XP("not-in",r),i}return ee(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(Sr);function XP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ve.ft(r.referenceValue)})}var jK=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return Jb(r)&&Lf(r.arrayValue,this.value)},e}(Sr),VK=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&Lf(this.value.arrayValue,r)},e}(Sr),BK=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return ee(e,t),e.prototype.matches=function(n){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!Lf(this.value.arrayValue,r)},e}(Sr),qK=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!Jb(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return Lf(r.value.arrayValue,s)})},e}(Sr),Ff=function(t,e){this.position=t,this.before=e};function Kp(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Xb(e)}).join(",")}var zu=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function WK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function QC(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],a=t.position[i];if(r=s.field.ut()?ve.H(ve.ft(a.referenceValue),n.key):fc(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function XC(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po=function(t,e,n,r,i,s,a,c){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.Nt=null,this.$t=null,this.startAt,this.endAt};function JP(t,e,n,r,i,s,a,c){return new Po(t,e,n,r,i,s,a,c)}function Uc(t){return new Po(t)}function sp(t){return!Ua(t.limit)&&t.limitType==="F"}function Qp(t){return!Ua(t.limit)&&t.limitType==="L"}function nE(t){return t.xt.length>0?t.xt[0].field:null}function rE(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function iE(t){return t.collectionGroup!==null}function hc(t){var e=te(t);if(e.Nt===null){e.Nt=[];var n=rE(e),r=nE(e);if(n!==null&&r===null)n.ut()||e.Nt.push(new zu(n)),e.Nt.push(new zu(yi.ht(),"asc"));else{for(var i=!1,s=0,a=e.xt;s<a.length;s++){var c=a[s];e.Nt.push(c),c.field.ut()&&(i=!0)}if(!i){var l=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new zu(yi.ht(),l))}}}return e.Nt}function Wr(t){var e=te(t);if(!e.$t)if(e.limitType==="F")e.$t=KC(e.path,e.collectionGroup,hc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=hc(e);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new zu(s.field,a))}var c=e.endAt?new Ff(e.endAt.position,!e.endAt.before):null,l=e.startAt?new Ff(e.startAt.position,!e.startAt.before):null;e.$t=KC(e.path,e.collectionGroup,n,e.filters,e.limit,c,l)}return e.$t}function ZP(t,e,n){return new Po(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return Jv(Wr(t),Wr(e))&&t.limitType===e.limitType}function eD(t){return dh(Wr(t))+"|lt:"+t.limitType}function Qw(t){return"Query(target="+function(e){var n=e.path.rt();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+Xb(i.value);var i}).join(", ")+"]"),Ua(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Kp(e.startAt)),e.endAt&&(n+=", endAt: "+Kp(e.endAt)),"Target("+n+")"}(Wr(t))+"; limitType="+t.limitType+")"}function vh(t,e){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):ve.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(t,e)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var a=s[i];if(!a.field.ut()&&r.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!QC(n.startAt,hc(n),r))&&(!n.endAt||!QC(n.endAt,hc(n),r))}(t,e)}function tD(t){return function(e,n){for(var r=!1,i=0,s=hc(t);i<s.length;i++){var a=s[i],c=HK(a,e,n);if(c!==0)return c;r=r||a.field.ut()}return 0}}function HK(t,e,n){var r=t.field.ut()?ve.H(e.key,n.key):function(i,s,a){var c=s.field(i),l=a.field(i);return c!==null&&l!==null?fc(c,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zv=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=Le.min()),a===void 0&&(a=Le.min()),c===void 0&&(c=Qn.T),this.target=e,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yp(e)?"-0":e}}function rD(t){return{integerValue:""+t}}function iD(t,e){return KP(e)?rD(e):nD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eg=function(){this.qt=void 0};function GK(t,e,n){return t instanceof dc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ca?sD(t,e):t instanceof Na?aD(t,e):function(r,i){var s=oD(r,i),a=JC(s)+JC(r.Ut);return Kw(s)&&Kw(r.Ut)?rD(a):nD(r.Qt,a)}(t,e)}function YK(t,e,n){return t instanceof Ca?sD(t,e):t instanceof Na?aD(t,e):n}function oD(t,e){return t instanceof pc?Kw(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var dc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e}(eg),Ca=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return ee(e,t),e}(eg);function sD(t,e){for(var n=uD(e),r=function(a){n.some(function(c){return Gi(c,a)})||n.push(a)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Na=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return ee(e,t),e}(eg);function aD(t,e){for(var n=uD(e),r=function(a){n=n.filter(function(c){return!Gi(c,a)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var pc=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Qt=n,i.Ut=r,i}return ee(e,t),e}(eg);function JC(t){return Gt(t.integerValue||t.doubleValue)}function uD(t){return Jb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=function(t,e){this.field=t,this.transform=e},$K=function(t,e){this.version=t,this.transformResults=e},Rn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function ap(t,e){return t.updateTime!==void 0?e instanceof ct&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e instanceof ct}var tg=function(){};function zK(t,e,n){return t instanceof mh?function(r,i,s){var a=r.value;if(s.transformResults){var c=tN(r.fieldTransforms,i,s.transformResults);a=oE(r.fieldTransforms,a,c)}return new ct(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):t instanceof As?function(r,i,s){if(!ap(r.jt,i))return new tE(r.key,s.version);var a=cD(r,i,s.transformResults?tN(r.fieldTransforms,i,s.transformResults):[]);return new ct(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):function(r,i,s){return new nn(r.key,s.version,{hasCommittedMutations:!0})}(t,0,n)}function Xw(t,e,n){return t instanceof mh?function(r,i,s){if(!ap(r.jt,i))return i;var a=r.value,c=nN(r.fieldTransforms,s,i);a=oE(r.fieldTransforms,a,c);var l=eN(i);return new ct(r.key,l,a,{Vt:!0})}(t,e,n):t instanceof As?function(r,i,s){if(!ap(r.jt,i))return i;var a=eN(i),c=cD(r,i,nN(r.fieldTransforms,s,i));return new ct(r.key,a,c,{Vt:!0})}(t,e,n):function(r,i){return ap(r.jt,i)?new nn(r.key,Le.min()):i}(t,e)}function KK(t,e){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var c=a[s],l=r instanceof ct?r.field(c.field):void 0,h=oD(c.transform,l||null);h!=null&&(i=i==null?new hh().set(c.field,h):i.set(c.field,h))}return i?i.Pt():null}(t.fieldTransforms,e)}function ZC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&uc(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof Ca&&h instanceof Ca||l instanceof Na&&h instanceof Na?uc(l.elements,h.elements,Gi):l instanceof pc&&h instanceof pc?Gi(l.Ut,h.Ut):l instanceof dc&&h instanceof dc}(a.transform,c.transform)}(i,s)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function eN(t){return t instanceof ct?t.version:Le.min()}var mh=function(t){function e(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.jt=i,a.fieldTransforms=s,a.type=0,a}return ee(e,t),e}(tg),As=function(t){function e(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=t.call(this)||this).key=n,c.data=r,c.Gt=i,c.jt=s,c.fieldTransforms=a,c.type=1,c}return ee(e,t),e}(tg);function cD(t,e,n){var r;return r=function(i,s){var a=new hh(s);return i.Gt.fields.forEach(function(c){if(!c.et()){var l=i.data.field(c);l!==null?a.set(c,l):a.delete(c)}}),a.Pt()}(t,r=e instanceof ct?e.data():bs.empty()),r=oE(t.fieldTransforms,r,n)}function tN(t,e,n){var r=[];Ee(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],a=s.transform,c=null;e instanceof ct&&(c=e.field(s.field)),r.push(YK(a,c,n[i]))}return r}function nN(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var a=s[i],c=a.transform,l=null;n instanceof ct&&(l=n.field(a.field)),r.push(GK(c,l,e))}return r}function oE(t,e,n){for(var r=new hh(e),i=0;i<t.length;i++){var s=t[i];r.set(s.field,n[i])}return r.Pt()}var Ht,Be,yh=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return ee(e,t),e}(tg),sE=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return ee(e,t),e}(tg),QK=function(t){this.count=t};function lD(t){switch(t){case P.OK:return fe();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return fe()}}function fD(t){if(t===void 0)return Yt("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ht.OK:return P.OK;case Ht.CANCELLED:return P.CANCELLED;case Ht.UNKNOWN:return P.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return P.INTERNAL;case Ht.UNAVAILABLE:return P.UNAVAILABLE;case Ht.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ht.NOT_FOUND:return P.NOT_FOUND;case Ht.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ht.ABORTED:return P.ABORTED;case Ht.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ht.DATA_LOSS:return P.DATA_LOSS;default:return fe()}}(Be=Ht||(Ht={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function t(e,n){this.H=e,this.root=n||ns.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,ns.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,ns.Ht,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.et();){var r=this.H(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.et();){var i=this.H(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(e){return this.root.Xt(e)},t.prototype.forEach=function(e){this.Xt(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.Xt(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.Zt=function(e){return this.root.Zt(e)},t.prototype.te=function(){return new jd(this.root,null,this.H,!1)},t.prototype.ee=function(e){return new jd(this.root,e,this.H,!1)},t.prototype.ne=function(){return new jd(this.root,null,this.H,!0)},t.prototype.se=function(e){return new jd(this.root,e,this.H,!0)},t}(),jd=function(){function t(e,n,r,i){this.ie=i,this.re=[];for(var s=1;!e.et();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.ie?e.left:e.right;else{if(s===0){this.re.push(e);break}this.re.push(e),e=this.ie?e.right:e.left}}return t.prototype.oe=function(){var e=this.re.pop(),n={key:e.key,value:e.value};if(this.ie)for(e=e.left;!e.et();)this.re.push(e),e=e.right;else for(e=e.right;!e.et();)this.re.push(e),e=e.left;return n},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(this.re.length===0)return null;var e=this.re[this.re.length-1];return{key:e.key,value:e.value}},t}(),ns=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(e){return this.left.Xt(e)||e(this.key,this.value)||this.right.Xt(e)},t.prototype.Zt=function(e){return this.right.Zt(e)||e(this.key,this.value)||this.left.Zt(e)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(e,n,r){var i=this,s=r(e,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(e,n,r))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(e,i.key)===0){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var e=this;return e.right.le()&&!e.left.le()&&(e=e.we()),e.left.le()&&e.left.left.le()&&(e=e.fe()),e.left.le()&&e.right.le()&&(e=e.Ee()),e},t.prototype._e=function(){var e=this.Ee();return e.right.left.le()&&(e=(e=(e=e.copy(null,null,null,null,e.right.fe())).we()).Ee()),e},t.prototype.de=function(){var e=this.Ee();return e.left.left.le()&&(e=(e=e.fe()).Ee()),e},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.Te=function(){var e=this.Ie();return Math.pow(2,e)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw fe();var e=this.left.Ie();if(e!==this.right.Ie())throw fe();return e+(this.le()?0:1)},t}();ns.EMPTY=null,ns.RED=!0,ns.Ht=!1,ns.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw fe()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.zt=function(e,n,r){return new ns(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(e){return!1},t.prototype.Zt=function(e){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=function(){function t(e){this.H=e,this.data=new Un(this.H)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.Xt(function(n,r){return e(n),!1})},t.prototype.me=function(e,n){for(var r=this.data.ee(e[0]);r.ce();){var i=r.oe();if(this.H(i.key,e[1])>=0)return;n(i.key)}},t.prototype.Ae=function(e,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!e(r.oe().key))return},t.prototype.Re=function(e){var n=this.data.ee(e);return n.ce()?n.oe().key:null},t.prototype.te=function(){return new rN(this.data.te())},t.prototype.ee=function(e){return new rN(this.data.ee(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).zt(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},t.prototype.it=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),rN=function(){function t(e){this.ye=e}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),XK=new Un(ve.H);function Ao(){return XK}function Xp(){return Ao()}var JK=new Un(ve.H);function Uf(){return JK}var ZK=new Un(ve.H);function hD(){return ZK}var e5=new rn(ve.H);function ot(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=e5,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var t5=new rn(je);function ng(){return t5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dD=function(){function t(e){this.H=e?function(n,r){return e(n,r)||ve.H(n.key,r.key)}:function(n,r){return ve.H(n.key,r.key)},this.ge=Uf(),this.Ve=new Un(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(e){return this.ge.get(e)!=null},t.prototype.get=function(e){return this.ge.get(e)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(e){var n=this.ge.get(e);return n?this.Ve.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.Ve.Xt(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.ge.zt(e.key,e),n.Ve.zt(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.ge.remove(e),this.Ve.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),iN=function(){function t(){this.be=new Un(ve.H)}return t.prototype.track=function(e){var n=e.doc.key,r=this.be.get(n);r?e.type!==0&&r.type===3?this.be=this.be.zt(n,e):e.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.be=this.be.remove(n):e.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:e.doc}):fe():this.be=this.be.zt(n,e)},t.prototype.ve=function(){var e=[];return this.be.Xt(function(n,r){e.push(r)}),e},t}(),Jp=function(){function t(e,n,r,i,s,a,c,l){this.query=e,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=a,this.Ce=c,this.xe=l}return t.Ne=function(e,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new t(e,n,dD.pe(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Ce===e.Ce&&this.De.isEqual(e.De)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Se.isEqual(e.Se)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),aE=function(){function t(e,n,r,i,s){this.Ot=e,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return t.Me=function(e,n){var r=new Map;return r.set(e,uE.Le(e,n)),new t(Le.min(),r,ng(),Ao(),ot())},t}(),uE=function(){function t(e,n,r,i,s){this.resumeToken=e,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return t.Le=function(e,n){return new t(Qn.T,n,ot(),ot(),ot())},t}(),up=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},pD=function(t,e){this.targetId=t,this.je=e},vD=function(t,e,n,r){n===void 0&&(n=Qn.T),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},oN=function(){function t(){this.Ge=0,this.ze=aN(),this.He=Qn.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(e){e.l()>0&&(this.Ye=!0,this.He=e)},t.prototype.en=function(){var e=ot(),n=ot(),r=ot();return this.ze.forEach(function(i,s){switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new uE(this.He,this.Je,e,n,r)},t.prototype.nn=function(){this.Ye=!1,this.ze=aN()},t.prototype.sn=function(e,n){this.Ye=!0,this.ze=this.ze.zt(e,n)},t.prototype.rn=function(e){this.Ye=!0,this.ze=this.ze.remove(e)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),n5=function(){function t(e){this.un=e,this.hn=new Map,this.ln=Ao(),this._n=sN(),this.fn=new rn(je)}return t.prototype.dn=function(e){for(var n=0,r=e.Ke;n<r.length;n++){var i=r[n];e.We instanceof ct?this.wn(i,e.We):e.We instanceof nn&&this.En(i,e.key,e.We)}for(var s=0,a=e.removedTargetIds;s<a.length;s++)i=a[s],this.En(i,e.key,e.We)},t.prototype.Tn=function(e){var n=this;this.In(e,function(r){var i=n.mn(r);switch(e.state){case 0:n.An(r)&&i.tn(e.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(e.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(e.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(e.resumeToken));break;default:fe()}})},t.prototype.In=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},t.prototype.Pn=function(e){var n=e.targetId,r=e.je.count,i=this.yn(n);if(i){var s=i.target;if(zp(s))if(r===0){var a=new ve(s.path);this.En(n,a,new nn(a,Le.min()))}else Ee(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},t.prototype.Vn=function(e){var n=this,r=new Map;this.hn.forEach(function(a,c){var l=n.yn(c);if(l){if(a.Be&&zp(l.target)){var h=new ve(l.target.path);n.ln.get(h)!==null||n.pn(c,h)||n.En(c,h,new nn(h,e))}a.Ze&&(r.set(c,a.en()),a.nn())}});var i=ot();this._n.forEach(function(a,c){var l=!0;c.Ae(function(h){var d=n.yn(h);return!d||d.Ft===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new aE(e,r,this.fn,this.ln,i);return this.ln=Ao(),this._n=sN(),this.fn=new rn(je),s},t.prototype.wn=function(e,n){if(this.An(e)){var r=this.pn(e,n.key)?2:0;this.mn(e).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(e))}},t.prototype.En=function(e,n,r){if(this.An(e)){var i=this.mn(e);this.pn(e,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(e)),r&&(this.ln=this.ln.zt(n,r))}},t.prototype.removeTarget=function(e){this.hn.delete(e)},t.prototype.gn=function(e){var n=this.mn(e).en();return this.un.vn(e).size+n.qe.size-n.Qe.size},t.prototype.on=function(e){this.mn(e).on()},t.prototype.mn=function(e){var n=this.hn.get(e);return n||(n=new oN,this.hn.set(e,n)),n},t.prototype.bn=function(e){var n=this._n.get(e);return n||(n=new rn(je),this._n=this._n.zt(e,n)),n},t.prototype.An=function(e){var n=this.yn(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.yn=function(e){var n=this.hn.get(e);return n&&n.Xe?null:this.un.Sn(e)},t.prototype.Rn=function(e){var n=this;this.hn.set(e,new oN),this.un.vn(e).forEach(function(r){n.En(e,r,null)})},t.prototype.pn=function(e,n){return this.un.vn(e).has(n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(){return new Un(ve.H)}function aN(){return new Un(ve.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r5={asc:"ASCENDING",desc:"DESCENDING"},i5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},o5=function(t,e){this.t=t,this.Bt=e};function jf(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function gD(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function s5(t,e){return jf(t,e.j())}function dn(t){return Ee(!!t),Le.K(function(e){var n=_s(e);return new cr(n.seconds,n.nanos)}(t))}function cE(t,e){return function(n){return new Qe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).rt()}function mD(t){var e=Qe.ot(t);return Ee(SD(e)),e}function Vf(t,e){return cE(t.t,e.path)}function Vi(t,e){var n=mD(e);if(n.get(1)!==t.t.projectId)throw new G(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new G(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ve(_D(n))}function Jw(t,e){return cE(t.t,e)}function yD(t){var e=mD(t);return e.length===4?Qe.ct():_D(e)}function Bf(t){return new Qe(["projects",t.t.projectId,"databases",t.t.database]).rt()}function _D(t){return Ee(t.length>4&&t.get(4)==="documents"),t.Y(5)}function uN(t,e,n){return{name:Vf(t,e),fields:n.proto.mapValue.fields}}function wD(t,e,n){var r=Vi(t,e.name),i=dn(e.updateTime),s=new bs({mapValue:{fields:e.fields}});return new ct(r,i,s,{hasCommittedMutations:!!n})}function Zp(t,e){var n;if(e instanceof mh)n={update:uN(t,e.key,e.value)};else if(e instanceof yh)n={delete:Vf(t,e.key)};else if(e instanceof As)n={update:uN(t,e.key,e.data),updateMask:f5(e.Gt)};else{if(!(e instanceof sE))return fe();n={verify:Vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof dc)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ca)return{fieldPath:s.field.rt(),appendMissingElements:{values:a.elements}};if(a instanceof Na)return{fieldPath:s.field.rt(),removeAllFromArray:{values:a.elements}};if(a instanceof pc)return{fieldPath:s.field.rt(),increment:a.Ut};throw fe()}(0,r)})),e.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:s5(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.jt)),n}function cN(t,e){var n=e.currentDocument?function(h){return h.updateTime!==void 0?Rn.updateTime(dn(h.updateTime)):h.exists!==void 0?Rn.exists(h.exists):Rn.Kt()}(e.currentDocument):Rn.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(h){return function(d,v){var m=null;if("setToServerValue"in v)Ee(v.setToServerValue==="REQUEST_TIME"),m=new dc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new Ca(y)}else if("removeAllFromArray"in v){var b=v.removeAllFromArray.values||[];m=new Na(b)}else"increment"in v?m=new pc(d,v.increment):fe();var E=yi.lt(v.fieldPath);return new gh(E,m)}(t,h)}):[];if(e.update){e.update.name;var i=Vi(t,e.update.name),s=new bs({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(h){var d=h.fieldPaths||[];return new cc(d.map(function(v){return yi.lt(v)}))}(e.updateMask);return new As(i,s,a,n,r)}return new mh(i,s,n,r)}if(e.delete){var c=Vi(t,e.delete);return new yh(c,n)}if(e.verify){var l=Vi(t,e.verify);return new sE(l,n)}return fe()}function bD(t,e){return{documents:[Jw(t,e.path)]}}function ED(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Jw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jw(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(zC(d.value))return{unaryFilter:{field:bu(d.field),op:"IS_NAN"}};if($C(d.value))return{unaryFilter:{field:bu(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(zC(d.value))return{unaryFilter:{field:bu(d.field),op:"IS_NOT_NAN"}};if($C(d.value))return{unaryFilter:{field:bu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bu(d.field),op:u5(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:bu(h.field),direction:a5(h.dir)}}(l)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.Bt||Ua(l)?l:{value:l}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=lN(e.startAt)),e.endAt&&(n.structuredQuery.endAt=lN(e.endAt)),n}function TD(t){var e=yD(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var a=[];n.where&&(a=ID(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(m){return new zu(Du(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var l=null;n.limit&&(l=function(v){var m;return Ua(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=fN(n.startAt));var d=null;return n.endAt&&(d=fN(n.endAt)),JP(e,i,c,a,l,"F",h,d)}function ID(t){return t?t.unaryFilter!==void 0?[l5(t)]:t.fieldFilter!==void 0?[c5(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return ID(e)}).reduce(function(e,n){return e.concat(n)}):fe():[]}function lN(t){return{before:t.before,values:t.position}}function fN(t){var e=!!t.before,n=t.values||[];return new Ff(n,e)}function a5(t){return r5[t]}function u5(t){return i5[t]}function bu(t){return{fieldPath:t.rt()}}function Du(t){return yi.lt(t.fieldPath)}function c5(t){return Sr.create(Du(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}function l5(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Du(t.unaryFilter.field);return Sr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Du(t.unaryFilter.field);return Sr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Du(t.unaryFilter.field);return Sr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Du(t.unaryFilter.field);return Sr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fe()}}function f5(t){var e=[];return t.fields.forEach(function(n){return e.push(n.rt())}),{fieldPaths:e}}function SD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},$=function(){function t(e){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,e(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.Nn&&fe(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(i,s){r.Dn=function(a){r.Fn(e,a).next(i,s)},r.Cn=function(a){r.$n(n,a).next(i,s)}})},t.prototype.On=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.Mn=function(e){return new t(function(n,r){var i=0,s=0,a=!1;e.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(c){return c?t.resolve(c):a()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(s,a){i.push(n.call(r,s,a))}),this.Mn(i)},t}(),AD=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.Bn=new Xn,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new of(e,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=lE(i.target.error);r.Bn.reject(new of(e,s))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new of(n,s)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.Bn.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new d5(n)},t}(),vc=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,t.Qn(Ta())===12.2&&Yt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return J("SimpleDb","Removing database:",e),ia(window.indexedDB.deleteDatabase(e)).On()},t.Kn=function(){if(typeof indexedDB>"u")return!1;if(t.Wn())return!0;var e=Ta(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Gn)==="YES"},t.zn=function(e,n){return e.store(n)},t.Qn=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.jn=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.Hn=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(J("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new of(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new G(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new of(e,h))},c.onupgradeneeded=function(l){J("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.Un.Jn(h,c.transaction,l.oldVersion,r.version).next(function(){J("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},t.prototype.Xn=function(e){this.Yn=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,m,y,b,E;return N(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,l.Hn(e)];case 2:return l.db=T.sent(),v=AD.open(l.db,e,s?"readonly":"readwrite",r),m=i(v).catch(function(C){return v.abort(C),$.reject(C)}).On(),y={},m.catch(function(){}),[4,v.qn];case 3:return[2,(y.value=(T.sent(),m),y)];case 4:return b=T.sent(),E=b.name!=="FirebaseError"&&a<3,J("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),h5=function(){function t(e){this.Zn=e,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Zn=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(e){this.es=e},t.prototype.delete=function(){return ia(this.Zn.delete())},t}(),of=function(t){function e(n,r){var i=this;return(i=t.call(this,P.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ee(e,t),e}(G);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t){return t.name==="IndexedDbTransactionError"}var d5=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ia(r)},t.prototype.add=function(e){return J("SimpleDb","ADD",this.store.name,e,e),ia(this.store.add(e))},t.prototype.get=function(e){var n=this;return ia(this.store.get(e)).next(function(r){return r===void 0&&(r=null),J("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return J("SimpleDb","DELETE",this.store.name,e),ia(this.store.delete(e))},t.prototype.count=function(){return J("SimpleDb","COUNT",this.store.name),ia(this.store.count())},t.prototype.rs=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.os(r,function(s,a){i.push(a)}).next(function(){return i})},t.prototype.cs=function(e,n){J("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,a,c){return c.delete()})},t.prototype.hs=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.os(i,n)},t.prototype.ls=function(e){var n=this.cursor({});return new $(function(r,i){n.onerror=function(s){var a=lE(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?e(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},t.prototype.os=function(e,n){var r=[];return new $(function(i,s){e.onerror=function(a){s(a.target.error)},e.onsuccess=function(a){var c=a.target.result;if(c){var l=new h5(c),h=n(c.primaryKey,c.value,l);if(h instanceof $){var d=h.catch(function(v){return l.done(),$.reject(v)});r.push(d)}l.xn?i():l.ns===null?c.continue():c.continue(l.ns)}else i()}}).next(function(){return $.Mn(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.us?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function ia(t){return new $(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=lE(r.target.error);n(i)}})}var hN=!1;function lE(t){var e=vc.Qn(Ta());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hN||(hN=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p5=function(){function t(e,n,r,i,s){this._s=e,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new Xn,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(a){})}return t.Ts=function(e,n,r,i,s){var a=new t(e,n,Date.now()+r,i,s);return a.start(r),a},t.prototype.start=function(e){var n=this;this.Is=setTimeout(function(){return n.As()},e)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(e){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new G(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.As=function(){var e=this;this._s.Ps(function(){return e.Is!==null?(e.clearTimeout(),e.op().then(function(n){return e.Es.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function jc(t,e){if(Yt("AsyncQueue",e+": "+t),ja(t))return new G(P.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ND=function(){function t(){this.ys=[]}return t.prototype.gs=function(e){this.ys.push(e)},t.prototype.Vs=function(){this.ys.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=dN(e)),e=v5(t.get(n),e);return dN(e)}function v5(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function dN(t){return t+""}function go(t){var e=t.length;if(Ee(e>=2),e===2)return Ee(t.charAt(0)===""&&t.charAt(1)===""),Qe.ct();for(var n=e-2,r=[],i="",s=0;s<e;){var a=t.indexOf("",s);switch((a<0||a>n)&&fe(),t.charAt(a+1)){case"":var c=t.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:fe()}s=a+2}return new Qe(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g5=function(t,e){this.seconds=t,this.nanoseconds=e},_r=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_r.store="owner",_r.key="owner";var hs=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};hs.store="mutationQueues",hs.keyPath="userId";var dt=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};dt.store="mutations",dt.keyPath="batchId",dt.userMutationsIndex="userMutationsIndex",dt.userMutationsKeyPath=["userId","batchId"];var An=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,di(n)]},t.key=function(e,n,r){return[e,di(n),r]},t}();An.store="documentMutations",An.PLACEHOLDER=new An;var m5=function(t,e){this.path=t,this.readTime=e},y5=function(t,e){this.path=t,this.version=e},kt=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};kt.store="remoteDocuments",kt.readTimeIndex="readTimeIndex",kt.readTimeIndexPath="readTime",kt.collectionReadTimeIndex="collectionReadTimeIndex",kt.collectionReadTimeIndexPath=["parentPath","readTime"];var Ui=function(t){this.byteSize=t};Ui.store="remoteDocumentGlobal",Ui.key="remoteDocumentGlobalKey";var ur=function(t,e,n,r,i,s,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};ur.store="targets",ur.keyPath="targetId",ur.queryTargetsIndexName="queryTargetsIndex",ur.queryTargetsKeyPath=["canonicalId","targetId"];var En=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};En.store="targetDocuments",En.keyPath=["targetId","path"],En.documentTargetsIndex="documentTargetsIndex",En.documentTargetsKeyPath=["path","targetId"];var Er=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Er.key="targetGlobalKey",Er.store="targetGlobal";var ma=function(t,e){this.collectionId=t,this.parent=e};ma.store="collectionParents",ma.keyPath=["collectionId","parent"];var _o=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};_o.store="clientMetadata",_o.keyPath="clientId";var gc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};gc.store="bundles",gc.keyPath="bundleId";var mc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};mc.store="namedQueries",mc.keyPath="name";var _5=Vt(Vt(Vt(Vt([hs.store,dt.store,An.store,kt.store,ur.store,_r.store,Er.store,En.store],[_o.store]),[Ui.store]),[ma.store]),[gc.store,mc.store]),pN=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ps=n,i.bs=r,i}return ee(e,t),e}(ND);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){var n=te(t);return vc.zn(n.ps,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fE=function(){function t(e,n,r,i){this.batchId=e,this.vs=n,this.baseMutations=r,this.mutations=i}return t.prototype.Ss=function(e,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(e)&&(n=zK(a,n,i[s]))}return n},t.prototype.Cs=function(e,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(c=i[r]).key.isEqual(e)&&(n=Xw(c,n,this.vs));for(var s=0,a=this.mutations;s<a.length;s++){var c;(c=a[s]).key.isEqual(e)&&(n=Xw(c,n,this.vs))}return n},t.prototype.xs=function(e){var n=this,r=e;return this.mutations.forEach(function(i){var s=n.Cs(i.key,e.get(i.key));s&&(r=r.zt(i.key,s))}),r},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},ot())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&uc(this.mutations,e.mutations,function(n,r){return ZC(n,r)})&&uc(this.baseMutations,e.baseMutations,function(n,r){return ZC(n,r)})},t}(),w5=function(){function t(e,n,r,i){this.batch=e,this.Ns=n,this.Ds=r,this.$s=i}return t.from=function(e,n,r){Ee(e.mutations.length===r.length);for(var i=hD(),s=e.mutations,a=0;a<s.length;a++)i=i.zt(s[a].key,r[a].version);return new t(e,n,r,i)},t}(),RD=function(t){this.Fs=t};function Zw(t,e){if(e.document)return wD(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ve.Et(e.noDocument.path),r=_c(e.noDocument.readTime);return new nn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ve.Et(e.unknownDocument.path);return r=_c(e.unknownDocument.version),new tE(i,r)}return fe()}function vN(t,e,n){var r=hE(n),i=e.key.path.X().it();if(e instanceof ct){var s=function(v,m){return{name:Vf(v,m.key),fields:m.bt().mapValue.fields,updateTime:jf(v,m.version.j())}}(t.Fs,e),a=e.hasCommittedMutations;return new kt(null,null,s,a,r,i)}if(e instanceof nn){var c=e.key.path.it(),l=yc(e.version);return a=e.hasCommittedMutations,new kt(null,new m5(c,l),null,a,r,i)}if(e instanceof tE){var h=e.key.path.it(),d=yc(e.version);return new kt(new y5(h,d),null,null,!0,r,i)}return fe()}function hE(t){var e=t.j();return[e.seconds,e.nanoseconds]}function OD(t){var e=new cr(t[0],t[1]);return Le.K(e)}function yc(t){var e=t.j();return new g5(e.seconds,e.nanoseconds)}function _c(t){var e=new cr(t.seconds,t.nanoseconds);return Le.K(e)}function Ru(t,e){for(var n=(e.baseMutations||[]).map(function(l){return cN(t.Fs,l)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var s=e.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(l){return cN(t.Fs,l)}),c=cr.fromMillis(e.localWriteTimeMs);return new fE(e.batchId,c,n,a)}function Kl(t){var e,n,r=_c(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?_c(t.lastLimboFreeSnapshotVersion):Le.min();return t.query.documents!==void 0?(Ee((n=t.query).documents.length===1),e=Wr(Uc(yD(n.documents[0])))):e=function(s){return Wr(TD(s))}(t.query),new Zv(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Qn.fromBase64String(t.resumeToken))}function kD(t,e){var n,r=yc(e.Ot),i=yc(e.lastLimboFreeSnapshotVersion);n=zp(e.target)?bD(t.Fs,e.target):ED(t.Fs,e.target);var s=e.resumeToken.toBase64();return new ur(e.targetId,dh(e.target),r,s,e.sequenceNumber,i,n)}function dE(t){var e=TD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ZP(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b5=function(){function t(){}return t.prototype.Os=function(e,n){return gN(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:_c(i.createTime),version:i.version};var i})},t.prototype.ks=function(e,n){return gN(e).put({bundleId:(r=n).id,createTime:yc(dn(r.createTime)),version:r.version});var r},t.prototype.Ms=function(e,n){return mN(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:dE(i.bundledQuery),readTime:_c(i.readTime)};var i})},t.prototype.Ls=function(e,n){return mN(e).put(function(r){return{name:r.name,readTime:yc(dn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function gN(t){return vr(t,gc.store)}function mN(t){return vr(t,mc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E5=function(){function t(){this.Bs=new pE}return t.prototype.qs=function(e,n){return this.Bs.add(n),$.resolve()},t.prototype.Us=function(e,n){return $.resolve(this.Bs.getEntries(n))},t}(),pE=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.tt(),r=e.X(),i=this.index[n]||new rn(Qe.H),s=!i.has(r);return this.index[n]=i.add(r),s},t.prototype.has=function(e){var n=e.tt(),r=e.X(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new rn(Qe.H)).it()},t}(),T5=function(){function t(){this.Qs=new pE}return t.prototype.qs=function(e,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();e.gs(function(){r.Qs.add(n)});var a={collectionId:i,parent:di(s)};return yN(e).put(a)}return $.resolve()},t.prototype.Us=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[GP(n),""],!1,!0);return yN(e).rs(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(go(l.parent))}return r})},t}();function yN(t){return vr(t,ma.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _N={Ks:!1,Ws:0,js:0,Gs:0},xi=function(){function t(e,n,r){this.zs=e,this.Hs=n,this.Js=r}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){return R(this,void 0,void 0,function(){return N(this,function(e){if(t.code!==P.FAILED_PRECONDITION||t.message!==CD)throw t;return J("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi.Xs=10,xi.Zs=1e3,xi.ti=new xi(41943040,xi.Xs,xi.Zs),xi.ei=new xi(-1,0,0);var Vc=function(){function t(e,n){this.ni=e,this.si=n,this.ii={}}return t.prototype.get=function(e){var n=this.ni(e),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.si(c,e))return l}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.ni(e),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.ii[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.ni(e),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],e))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){fh(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];e(c,l)}})},t.prototype.et=function(){return $P(this.ii)},t}(),xD=function(){function t(){this.ri=new Vc(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.oi=!1}return t.prototype.ci=function(e){var n=this.ri.get(e);return n?n.readTime:Le.min()},t.prototype.ai=function(e,n){this.ui(),this.ri.set(e.key,{hi:e,readTime:n})},t.prototype.li=function(e,n){n===void 0&&(n=null),this.ui(),this.ri.set(e,{hi:null,readTime:n})},t.prototype._i=function(e,n){this.ui();var r=this.ri.get(n);return r!==void 0?$.resolve(r.hi):this.fi(e,n)},t.prototype.getEntries=function(e,n){return this.di(e,n)},t.prototype.apply=function(e){return this.ui(),this.oi=!0,this.wi(e)},t.prototype.ui=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t,e,n){var r=t.store(dt.store),i=t.store(An.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.hs({range:a},function(b,E,T){return c++,T.delete()});s.push(l.next(function(){Ee(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var m=v[d],y=An.key(e,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return $.Mn(s).next(function(){return h})}function ev(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I5=function(){function t(e,n,r,i){this.userId=e,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return t.mi=function(e,n,r,i){return Ee(e.uid!==""),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zo(e).hs({index:dt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},t.prototype.Ri=function(e,n,r,i){var s=this,a=Ou(e),c=zo(e);return c.add({}).next(function(l){Ee(typeof l=="number");for(var h=new fE(l,n,r,i),d=function(C,x,D){var F=D.baseMutations.map(function(U){return Zp(C.Fs,U)}),X=D.mutations.map(function(U){return Zp(C.Fs,U)});return new dt(x,D.batchId,D.vs.toMillis(),F,X)}(s.Qt,s.userId,h),v=[],m=new rn(function(C,x){return je(C.rt(),x.rt())}),y=0,b=i;y<b.length;y++){var E=b[y],T=An.key(s.userId,E.key.path,l);m=m.add(E.key.path.X()),v.push(c.put(d)),v.push(a.put(T,An.PLACEHOLDER))}return m.forEach(function(C){v.push(s.Ei.qs(e,C))}),e.gs(function(){s.Ii[l]=h.keys()}),$.Mn(v).next(function(){return h})})},t.prototype.Pi=function(e,n){var r=this;return zo(e).get(n).next(function(i){return i?(Ee(i.userId===r.userId),Ru(r.Qt,i)):null})},t.prototype.yi=function(e,n){var r=this;return this.Ii[n]?$.resolve(this.Ii[n]):this.Pi(e,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},t.prototype.gi=function(e,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return zo(e).hs({index:dt.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(Ee(l.batchId>=i),a=Ru(r.Qt,l)),h.done()}).next(function(){return a})},t.prototype.Vi=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return zo(e).hs({index:dt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},t.prototype.pi=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zo(e).rs(dt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Ru(n.Qt,s)})})},t.prototype.bi=function(e,n){var r=this,i=An.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Ou(e).hs({range:s},function(c,l,h){var d=c[0],v=c[1],m=c[2],y=go(v);if(d===r.userId&&n.path.isEqual(y))return zo(e).get(m).next(function(b){if(!b)throw fe();Ee(b.userId===r.userId),a.push(Ru(r.Qt,b))});h.done()}).next(function(){return a})},t.prototype.vi=function(e,n){var r=this,i=new rn(je),s=[];return n.forEach(function(a){var c=An.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Ou(e).hs({range:l},function(d,v,m){var y=d[0],b=d[1],E=d[2],T=go(b);y===r.userId&&a.path.isEqual(T)?i=i.add(E):m.done()});s.push(h)}),$.Mn(s).next(function(){return r.Si(e,i)})},t.prototype.Di=function(e,n){var r=this,i=n.path,s=i.length+1,a=An.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new rn(je);return Ou(e).hs({range:c},function(h,d,v){var m=h[0],y=h[1],b=h[2],E=go(y);m===r.userId&&i.nt(E)?E.length===s&&(l=l.add(b)):v.done()}).next(function(){return r.Si(e,l)})},t.prototype.Si=function(e,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(zo(e).get(a).next(function(c){if(c===null)throw fe();Ee(c.userId===r.userId),i.push(Ru(r.Qt,c))}))}),$.Mn(s).next(function(){return i})},t.prototype.Ci=function(e,n){var r=this;return PD(e.ps,this.userId,n).next(function(i){return e.gs(function(){r.xi(n.batchId)}),$.forEach(i,function(s){return r.Ti.Ni(e,s)})})},t.prototype.xi=function(e){delete this.Ii[e]},t.prototype.$i=function(e){var n=this;return this.Ai(e).next(function(r){if(!r)return $.resolve();var i=IDBKeyRange.lowerBound(An.prefixForUser(n.userId)),s=[];return Ou(e).hs({range:i},function(a,c,l){if(a[0]===n.userId){var h=go(a[1]);s.push(h)}else l.done()}).next(function(){Ee(s.length===0)})})},t.prototype.Fi=function(e,n){return DD(e,this.userId,n)},t.prototype.Oi=function(e){var n=this;return MD(e).get(this.userId).next(function(r){return r||new hs(n.userId,-1,"")})},t}();function DD(t,e,n){var r=An.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Ou(t).hs({range:s,us:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===e&&v===i&&(a=!0),h.done()}).next(function(){return a})}function zo(t){return vr(t,dt.store)}function Ou(t){return vr(t,An.store)}function MD(t){return vr(t,hs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tv=function(){function t(e){this.ki=e}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),S5=function(){function t(e,n){this.Ti=e,this.Qt=n}return t.prototype.Bi=function(e){var n=this;return this.qi(e).next(function(r){var i=new tv(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(e,r).next(function(){return r.highestTargetId})})},t.prototype.Qi=function(e){return this.qi(e).next(function(n){return Le.K(new cr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(e){return this.qi(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.Wi=function(e,n,r){var i=this;return this.qi(e).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(e,s)})},t.prototype.ji=function(e,n){var r=this;return this.Gi(e,n).next(function(){return r.qi(e).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(e,i)})})},t.prototype.Hi=function(e,n){return this.Gi(e,n)},t.prototype.Ji=function(e,n){var r=this;return this.Yi(e,n.targetId).next(function(){return Eu(e).delete(n.targetId)}).next(function(){return r.qi(e)}).next(function(i){return Ee(i.targetCount>0),i.targetCount-=1,r.Ui(e,i)})},t.prototype.Xi=function(e,n,r){var i=this,s=0,a=[];return Eu(e).hs(function(c,l){var h=Kl(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Ji(e,h)))}).next(function(){return $.Mn(a)}).next(function(){return s})},t.prototype.In=function(e,n){return Eu(e).hs(function(r,i){var s=Kl(i);n(s)})},t.prototype.qi=function(e){return wN(e).get(Er.key).next(function(n){return Ee(n!==null),n})},t.prototype.Ui=function(e,n){return wN(e).put(Er.key,n)},t.prototype.Gi=function(e,n){return Eu(e).put(kD(this.Qt,n))},t.prototype.zi=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.Zi=function(e){return this.qi(e).next(function(n){return n.targetCount})},t.prototype.tr=function(e,n){var r=dh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Eu(e).hs({range:i,index:ur.queryTargetsIndexName},function(a,c,l){var h=Kl(c);Jv(n,h.target)&&(s=h,l.done())}).next(function(){return s})},t.prototype.er=function(e,n,r){var i=this,s=[],a=rs(e);return n.forEach(function(c){var l=di(c.path);s.push(a.put(new En(r,l))),s.push(i.Ti.nr(e,r,c))}),$.Mn(s)},t.prototype.sr=function(e,n,r){var i=this,s=rs(e);return $.forEach(n,function(a){var c=di(a.path);return $.Mn([s.delete([r,c]),i.Ti.ir(e,r,a)])})},t.prototype.Yi=function(e,n){var r=rs(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.rr=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=rs(e),s=ot();return i.hs({range:r,us:!0},function(a,c,l){var h=go(a[1]),d=new ve(h);s=s.add(d)}).next(function(){return s})},t.prototype.Fi=function(e,n){var r=di(n.path),i=IDBKeyRange.bound([r],[GP(r)],!1,!0),s=0;return rs(e).hs({index:En.documentTargetsIndex,us:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},t.prototype.Sn=function(e,n){return Eu(e).get(n).next(function(r){return r?Kl(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){return vr(t,ur.store)}function wN(t){return vr(t,Er.store)}function rs(t){return vr(t,En.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=je(n,i);return a===0?je(r,s):a}var A5=function(){function t(e){this.cr=e,this.buffer=new rn(bN),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(e){var n=[e,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();bN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),C5=function(){function t(e,n){this.lr=e,this._s=n,this._r=!1,this.dr=null}return t.prototype.start=function(e){this.lr.params.zs!==-1&&this.wr(e)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),t.prototype.wr=function(e){var n=this,r=this._r?3e5:6e4;J("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,e.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return ja(i=s.sent())?(J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Va(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(e)];case 8:return s.sent(),[2]}})})})},t}(),N5=function(){function t(e,n){this.mr=e,this.params=n}return t.prototype.Ar=function(e,n){return this.mr.Rr(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.Pr=function(e,n){var r=this;if(n===0)return $.resolve(Ir.q);var i=new A5(n);return this.mr.In(e,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(e,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},t.prototype.Xi=function(e,n,r){return this.mr.Xi(e,n,r)},t.prototype.gr=function(e,n){return this.mr.gr(e,n)},t.prototype.Vr=function(e,n){var r=this;return this.params.zs===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(_N)):this.pr(e).next(function(i){return i<r.params.zs?(J("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),_N):r.br(e,n)})},t.prototype.pr=function(e){return this.mr.pr(e)},t.prototype.br=function(e,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.Ar(e,this.params.Hs).next(function(m){return m>d.params.Js?(J("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.Js+" from "+m),i=d.params.Js):i=m,a=Date.now(),d.Pr(e,i)}).next(function(m){return r=m,c=Date.now(),d.Xi(e,r,n)}).next(function(m){return s=m,l=Date.now(),d.gr(e,r)}).next(function(m){return h=Date.now(),$w()<=De.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+m+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),$.resolve({Ks:!0,Ws:i,js:s,Gs:m})})},t}(),R5=function(){function t(e,n){this.db=e,this.lr=function(r,i){return new N5(r,i)}(this,n)}return t.prototype.Rr=function(e){var n=this.vr(e);return this.db.Sr().Zi(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.vr=function(e){var n=0;return this.yr(e,function(r){n++}).next(function(){return n})},t.prototype.In=function(e,n){return this.db.Sr().In(e,n)},t.prototype.yr=function(e,n){return this.Dr(e,function(r,i){return n(i)})},t.prototype.nr=function(e,n,r){return Vd(e,r)},t.prototype.ir=function(e,n,r){return Vd(e,r)},t.prototype.Xi=function(e,n,r){return this.db.Sr().Xi(e,n,r)},t.prototype.Ni=function(e,n){return Vd(e,n)},t.prototype.Cr=function(e,n){return function(r,i){var s=!1;return MD(r).ls(function(a){return DD(r,a,i).next(function(c){return c&&(s=!0),$.resolve(!c)})}).next(function(){return s})}(e,n)},t.prototype.gr=function(e,n){var r=this,i=this.db.$r().Nr(),s=[],a=0;return this.Dr(e,function(c,l){if(l<=n){var h=r.Cr(e,c).next(function(d){if(!d)return a++,i._i(e,c).next(function(){return i.li(c),rs(e).delete([0,di(c.path)])})});s.push(h)}}).next(function(){return $.Mn(s)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.kt(e.bs);return this.db.Sr().Hi(e,r)},t.prototype.Fr=function(e,n){return Vd(e,n)},t.prototype.Dr=function(e,n){var r,i=rs(e),s=Ir.q;return i.hs({index:En.documentTargetsIndex},function(a,c){var l=a[0],h=(a[1],c.path),d=c.sequenceNumber;l===0?(s!==Ir.q&&n(new ve(go(r)),s),s=d,r=h):s=Ir.q}).next(function(){s!==Ir.q&&n(new ve(go(r)),s)})},t.prototype.pr=function(e){return this.db.$r().Or(e)},t}();function Vd(t,e){return rs(t).put(function(n,r){return new En(0,di(n.path),r)}(e,t.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O5=function(){function t(e,n){this.Qt=e,this.Ei=n}return t.prototype.ai=function(e,n,r){return es(e).put(Bd(n),r)},t.prototype.li=function(e,n){var r=es(e),i=Bd(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.kr(e,i)})},t.prototype._i=function(e,n){var r=this;return es(e).get(Bd(n)).next(function(i){return r.Mr(i)})},t.prototype.Lr=function(e,n){var r=this;return es(e).get(Bd(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:ev(i)}:null})},t.prototype.getEntries=function(e,n){var r=this,i=Xp();return this.Br(e,n,function(s,a){var c=r.Mr(a);i=i.zt(s,c)}).next(function(){return i})},t.prototype.qr=function(e,n){var r=this,i=Xp(),s=new Un(ve.H);return this.Br(e,n,function(a,c){var l=r.Mr(c);l?(i=i.zt(a,l),s=s.zt(a,ev(c))):(i=i.zt(a,null),s=s.zt(a,0))}).next(function(){return{Ur:i,Qr:s}})},t.prototype.Br=function(e,n,r){if(n.et())return $.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),a=s.oe();return es(e).hs({range:i},function(c,l,h){for(var d=ve.Et(c);a&&ve.H(a,d)<0;)r(a,null),a=s.oe();a&&a.isEqual(d)&&(r(a,l),a=s.ce()?s.oe():null),a?h.ss(a.path.it()):h.done()}).next(function(){for(;a;)r(a,null),a=s.ce()?s.oe():null})},t.prototype.Kr=function(e,n,r){var i=this,s=Uf(),a=n.path.length+1,c={};if(r.isEqual(Le.min())){var l=n.path.it();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.it(),d=hE(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=kt.collectionReadTimeIndex}return es(e).hs(c,function(v,m,y){if(v.length===a){var b=Zw(i.Qt,m);n.path.nt(b.key.path)?b instanceof ct&&vh(n,b)&&(s=s.zt(b.key,b)):y.done()}}).next(function(){return s})},t.prototype.Nr=function(e){return new k5(this,!!e&&e.Wr)},t.prototype.Or=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return EN(e).get(Ui.key).next(function(n){return Ee(!!n),n})},t.prototype.kr=function(e,n){return EN(e).put(Ui.key,n)},t.prototype.Mr=function(e){if(e){var n=Zw(this.Qt,e);return n instanceof nn&&n.version.isEqual(Le.min())?null:n}return null},t}(),k5=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jr=n,i.Wr=r,i.Gr=new Vc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return ee(e,t),e.prototype.wi=function(n){var r=this,i=[],s=0,a=new rn(function(c,l){return je(c.rt(),l.rt())});return this.ri.forEach(function(c,l){var h=r.Gr.get(c);if(l.hi){var d=vN(r.jr.Qt,l.hi,r.ci(c));a=a.add(c.path.X());var v=ev(d);s+=v-h,i.push(r.jr.ai(n,c,d))}else if(s-=h,r.Wr){var m=vN(r.jr.Qt,new nn(c,Le.min()),r.ci(c));i.push(r.jr.ai(n,c,m))}else i.push(r.jr.li(n,c))}),a.forEach(function(c){i.push(r.jr.Ei.qs(n,c))}),i.push(this.jr.updateMetadata(n,s)),$.Mn(i)},e.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},e.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var a=s.Ur;return s.Qr.forEach(function(c,l){i.Gr.set(c,l)}),a})},e}(xD);function EN(t){return vr(t,Ui.store)}function es(t){return vr(t,kt.store)}function Bd(t){return t.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x5=function(){function t(e){this.Qt=e}return t.prototype.Jn=function(e,n,r,i){var s=this;Ee(r<i&&r>=0&&i<=11);var a=new AD("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(_r.store)}(e),function(l){l.createObjectStore(hs.store,{keyPath:hs.keyPath}),l.createObjectStore(dt.store,{keyPath:dt.keyPath,autoIncrement:!0}).createIndex(dt.userMutationsIndex,dt.userMutationsKeyPath,{unique:!0}),l.createObjectStore(An.store)}(e),TN(e),function(l){l.createObjectStore(kt.store)}(e));var c=$.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(En.store),l.deleteObjectStore(ur.store),l.deleteObjectStore(Er.store)}(e),TN(e)),c=c.next(function(){return function(l){var h=l.store(Er.store),d=new Er(0,0,Le.min().j(),0);return h.put(Er.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(dt.store).rs().next(function(d){l.deleteObjectStore(dt.store),l.createObjectStore(dt.store,{keyPath:dt.keyPath,autoIncrement:!0}).createIndex(dt.userMutationsIndex,dt.userMutationsKeyPath,{unique:!0});var v=h.store(dt.store),m=d.map(function(y){return v.put(y)});return $.Mn(m)})}(e,a)})),c=c.next(function(){(function(l){l.createObjectStore(_o.store,{keyPath:_o.keyPath})})(e)})),r<5&&i>=5&&(c=c.next(function(){return s.zr(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(Ui.store)}(e),s.Hr(a)})),r<7&&i>=7&&(c=c.next(function(){return s.Jr(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Yr(e,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e),function(l){var h=l.objectStore(kt.store);h.createIndex(kt.readTimeIndex,kt.readTimeIndexPath,{unique:!1}),h.createIndex(kt.collectionReadTimeIndex,kt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Xr(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(gc.store,{keyPath:gc.keyPath})})(e),function(l){l.createObjectStore(mc.store,{keyPath:mc.keyPath})}(e)})),c},t.prototype.Hr=function(e){var n=0;return e.store(kt.store).hs(function(r,i){n+=ev(i)}).next(function(){var r=new Ui(n);return e.store(Ui.store).put(Ui.key,r)})},t.prototype.zr=function(e){var n=this,r=e.store(hs.store),i=e.store(dt.store);return r.rs().next(function(s){return $.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.rs(dt.userMutationsIndex,c).next(function(l){return $.forEach(l,function(h){Ee(h.userId===a.userId);var d=Ru(n.Qt,h);return PD(e,a.userId,d).next(function(){})})})})})},t.prototype.Jr=function(e){var n=e.store(En.store),r=e.store(kt.store);return e.store(Er.store).get(Er.key).next(function(i){var s=[];return r.hs(function(a,c){var l=new Qe(a),h=function(d){return[0,di(d)]}(l);s.push(n.get(h).next(function(d){return d?$.resolve():function(v){return n.put(new En(0,di(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return $.Mn(s)})})},t.prototype.Yr=function(e,n){e.createObjectStore(ma.store,{keyPath:ma.keyPath});var r=n.store(ma.store),i=new pE,s=function(a){if(i.add(a)){var c=a.tt(),l=a.X();return r.put({collectionId:c,parent:di(l)})}};return n.store(kt.store).hs({us:!0},function(a,c){var l=new Qe(a);return s(l.X())}).next(function(){return n.store(An.store).hs({us:!0},function(a,c){a[0];var l=a[1],h=(a[2],go(l));return s(h.X())})})},t.prototype.Xr=function(e){var n=this,r=e.store(ur.store);return r.hs(function(i,s){var a=Kl(s),c=kD(n.Qt,a);return r.put(c)})},t}();function TN(t){t.createObjectStore(En.store,{keyPath:En.keyPath}).createIndex(En.documentTargetsIndex,En.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ur.store,{keyPath:ur.keyPath}).createIndex(ur.queryTargetsIndexName,ur.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Er.store)}var x_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",P5=function(){function t(e,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=a,this.document=c,this.eo=h,this.no=d,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(v){return Promise.resolve()},!t.Kn())throw new G(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new R5(this,i),this.ho=n+"main",this.Qt=new RD(l),this.lo=new vc(this.ho,11,new x5(this.Qt)),this._o=new S5(this.Ti,this.Qt),this.Ei=new T5,this.fo=function(v,m){return new O5(v,m)}(this.Qt,this.Ei),this.wo=new b5,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,d===!1&&Yt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.To().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new G(P.FAILED_PRECONDITION,x_);return e.Io(),e.mo(),e.Ao(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e._o.Ki(n)})}).then(function(n){e.so=new Ir(n,e.eo)}).then(function(){e.io=!0}).catch(function(n){return e.lo&&e.lo.close(),Promise.reject(n)})},t.prototype.Ro=function(e){var n=this;return this.uo=function(r){return R(n,void 0,void 0,function(){return N(this,function(i){return this.Er?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.Po=function(e){var n=this;this.lo.Xn(function(r){return R(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.yo=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Zr.Ps(function(){return R(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return qd(n).put(new _o(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Vo(n).next(function(r){r||(e.isPrimary=!1,e.Zr.po(function(){return e.uo(!1)}))})}).next(function(){return e.bo(n)}).next(function(r){return e.isPrimary&&!r?e.vo(n).next(function(){return!1}):!!r&&e.So(n).next(function(){return!0})})}).catch(function(n){if(ja(n))return J("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Zr.po(function(){return e.uo(n)}),e.isPrimary=n})},t.prototype.Vo=function(e){var n=this;return Bl(e).get(_r.key).next(function(r){return $.resolve(n.Do(r))})},t.prototype.Co=function(e){return qd(e).delete(this.clientId)},t.prototype.xo=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=vr(c,_o.store);return l.rs().next(function(h){var d=s.$o(h,18e5),v=h.filter(function(m){return d.indexOf(m)===-1});return $.forEach(v,function(m){return l.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Eo)for(n=0,r=e;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var e=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return e.To().then(function(){return e.xo()}).then(function(){return e.Ao()})})},t.prototype.Do=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.bo=function(e){var n=this;return this.no?$.resolve(!0):Bl(e).get(_r.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new G(P.FAILED_PRECONDITION,x_);return!1}}return!(!n.networkEnabled||!n.inForeground)||qd(e).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&J("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.ko=function(){return R(this,void 0,void 0,function(){var e=this;return N(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[_r.store,_o.store],function(r){var i=new pN(r,Ir.q);return e.vo(i).next(function(){return e.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(e,n){var r=this;return e.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},t.prototype.Uo=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return qd(n).rs().next(function(r){return e.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(e){return I5.mi(e,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(e,n,r){var i=this;J("IndexedDbPersistence","Starting transaction:",e);var s,a=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(e,a,_5,function(c){return s=new pN(c,i.so?i.so.next():Ir.q),n==="readwrite-primary"?i.Vo(s).next(function(l){return!!l||i.bo(s)}).next(function(l){if(!l)throw Yt("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new G(P.FAILED_PRECONDITION,CD);return r(s)}).next(function(l){return i.So(s).next(function(){return l})}):i.jo(s).next(function(){return r(s)})}).then(function(c){return s.Vs(),c})},t.prototype.jo=function(e){var n=this;return Bl(e).get(_r.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new G(P.FAILED_PRECONDITION,x_)})},t.prototype.So=function(e){var n=new _r(this.clientId,this.allowTabSynchronization,Date.now());return Bl(e).put(_r.key,n)},t.Kn=function(){return vc.Kn()},t.prototype.vo=function(e){var n=this,r=Bl(e);return r.get(_r.key).next(function(i){return n.Do(i)?(J("IndexedDbPersistence","Releasing primary lease."),r.delete(_r.key)):$.resolve()})},t.prototype.No=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(Yt("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.Io=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){e.Zr.Ps(function(){return e.inForeground=e.document.visibilityState==="visible",e.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(e){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(e)))!==null;return J("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Yt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(e){Yt("Failed to set zombie client id.",e)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},t.prototype.Fo=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Bl(t){return vr(t,_r.store)}function qd(t){return vr(t,_o.store)}function vE(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var D5=function(t,e){this.progress=t,this.Go=e},LD=function(){function t(e,n,r){this.fo=e,this.zo=n,this.Ei=r}return t.prototype.Ho=function(e,n){var r=this;return this.zo.bi(e,n).next(function(i){return r.Jo(e,n,i)})},t.prototype.Jo=function(e,n,r){return this.fo._i(e,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].Cs(n,i);return i})},t.prototype.Yo=function(e,n,r){var i=Xp();return n.forEach(function(s,a){for(var c=0,l=r;c<l.length;c++)a=l[c].Cs(s,a);i=i.zt(s,a)}),i},t.prototype.Xo=function(e,n){var r=this;return this.fo.getEntries(e,n).next(function(i){return r.Zo(e,i)})},t.prototype.Zo=function(e,n){var r=this;return this.zo.vi(e,n).next(function(i){var s=r.Yo(e,n,i),a=Ao();return s.forEach(function(c,l){l||(l=new nn(c,Le.min())),a=a.zt(c,l)}),a})},t.prototype.Kr=function(e,n,r){return function(i){return ve.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(e,n.path):iE(n)?this.ec(e,n,r):this.nc(e,n,r)},t.prototype.tc=function(e,n){return this.Ho(e,new ve(n)).next(function(r){var i=Uf();return r instanceof ct&&(i=i.zt(r.key,r)),i})},t.prototype.ec=function(e,n,r){var i=this,s=n.collectionGroup,a=Uf();return this.Ei.Us(e,s).next(function(c){return $.forEach(c,function(l){var h=function(d,v){return new Po(v,null,d.xt.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.nc(e,h,r).next(function(d){d.forEach(function(v,m){a=a.zt(v,m)})})}).next(function(){return a})})},t.prototype.nc=function(e,n,r){var i,s,a=this;return this.fo.Kr(e,n,r).next(function(c){return i=c,a.zo.Di(e,n)}).next(function(c){return s=c,a.sc(e,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],m=0,y=v.mutations;m<y.length;m++){var b=y[m],E=b.key,T=Xw(b,i.get(E),v.vs);i=T instanceof ct?i.zt(E,T):i.remove(E)}})}).next(function(){return i.forEach(function(c,l){vh(n,l)||(i=i.remove(c))}),i})},t.prototype.sc=function(e,n,r){for(var i=ot(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof As&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.fo.getEntries(e,i).next(function(v){return v.forEach(function(m,y){y!==null&&y instanceof ct&&(d=d.zt(m,y))}),d})},t}(),M5=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.ic=r,this.rc=i}return t.oc=function(e,n){for(var r=ot(),i=ot(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),FD=function(){function t(){}return t.prototype.cc=function(e){this.ac=e},t.prototype.Kr=function(e,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.xt.length===0||a.xt.length===1&&a.xt[0].field.ut())}(n)||r.isEqual(Le.min())?this.uc(e,n):this.ac.Xo(e,i).next(function(a){var c=s.hc(n,a);return(sp(n)||Qp(n))&&s.lc(n.limitType,c,i,r)?s.uc(e,n):($w()<=De.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qw(n)),s.ac.Kr(e,n,r).next(function(l){return c.forEach(function(h){l=l.zt(h.key,h)}),l}))})},t.prototype.hc=function(e,n){var r=new rn(tD(e));return n.forEach(function(i,s){s instanceof ct&&vh(e,s)&&(r=r.add(s))}),r},t.prototype.lc=function(e,n,r,i){if(r.size!==n.size)return!0;var s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},t.prototype.uc=function(e,n){return $w()<=De.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Qw(n)),this.ac.Kr(e,n,Le.min())},t}(),L5=function(){function t(e,n,r,i){this.persistence=e,this._c=n,this.Qt=i,this.fc=new Un(je),this.dc=new Vc(function(s){return dh(s)},Jv),this.wc=Le.min(),this.zo=e.Qo(r),this.Ec=e.$r(),this._o=e.Sr(),this.Tc=new LD(this.Ec,this.zo,this.persistence.Ko()),this.wo=e.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.Vr(r,n.fc)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(t,e,n,r){return new L5(t,e,n,r)}function jD(t,e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=te(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n.zo.pi(c).next(function(h){return l=h,r=n.persistence.Qo(e),i=new LD(n.Ec,r,n.persistence.Ko()),r.pi(c)}).next(function(h){for(var d=[],v=[],m=ot(),y=0,b=l;y<b.length;y++){var E=b[y];d.push(E.batchId);for(var T=0,C=E.mutations;T<C.length;T++){var x=C[T];m=m.add(x.key)}}for(var D=0,F=h;D<F.length;D++){var X=F[D];v.push(X.batchId);for(var U=0,Te=X.mutations;U<Te.length;U++){var tt=Te[U];m=m.add(tt.key)}}return i.Xo(c,m).next(function(de){return{Ic:de,mc:d,Ac:v}})})})];case 1:return s=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function F5(t,e){var n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),m=$.resolve();return v.forEach(function(y){m=m.next(function(){return h._i(c,y)}).next(function(b){var E=b,T=l.$s.get(y);Ee(T!==null),(!E||E.version._(T)<0)&&(E=d.Ss(y,E,l))&&h.ai(E,l.Ns)})}),m.next(function(){return a.zo.Ci(c,d)})}(n,r,e,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function VD(t){var e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e._o.Qi(n)})}function U5(t,e){var n=te(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Ec.Nr({Wr:!0});i=n.fc;var c=[];e.$e.forEach(function(d,v){var m=i.get(v);if(m){c.push(n._o.sr(s,d.Qe,v).next(function(){return n._o.er(s,d.qe,v)}));var y=d.resumeToken;if(y.l()>0){var b=m.Mt(y,r).kt(s.bs);i=i.zt(v,b),function(E,T,C){return Ee(T.resumeToken.l()>0),E.resumeToken.l()===0||T.Ot.W()-E.Ot.W()>=3e8||C.qe.size+C.Ue.size+C.Qe.size>0}(m,b,d)&&c.push(n._o.Hi(s,b))}}});var l=Ao();if(e.Oe.forEach(function(d,v){e.ke.has(d)&&c.push(n.persistence.Ti.Fr(s,d))}),c.push(BD(s,a,e.Oe,r,void 0).next(function(d){l=d})),!r.isEqual(Le.min())){var h=n._o.Qi(s).next(function(d){return n._o.Wi(s,s.bs,r)});c.push(h)}return $.Mn(c).next(function(){return a.apply(s)}).next(function(){return n.Tc.Zo(s,l)})}).then(function(s){return n.fc=i,s})}function BD(t,e,n,r,i){var s=ot();return n.forEach(function(a){return s=s.add(a)}),e.getEntries(t,s).next(function(a){var c=Ao();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h instanceof nn&&h.version.isEqual(Le.min())?(e.li(l,v),c=c.zt(l,h)):d==null||h.version._(d.version)>0||h.version._(d.version)===0&&d.hasPendingWrites?(e.ai(h,v),c=c.zt(l,h)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function j5(t,e){var n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n.zo.gi(r,e)})}function wc(t,e){var n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,e).next(function(s){return s?(i=s,$.resolve(i)):n._o.Bi(r).next(function(a){return i=new Zv(e,a,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(e,r.targetId)),r})}function bc(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=te(t),i=r.fc.get(e),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.Ti.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!ja(a=c.sent()))throw a;return J("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function nv(t,e,n){var r=te(t),i=Le.min(),s=ot();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=te(c),v=d.dc.get(h);return v!==void 0?$.resolve(d.fc.get(v)):d._o.tr(l,h)}(r,a,Wr(e)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r._o.rr(a,c.targetId).next(function(l){s=l})}).next(function(){return r._c.Kr(a,e,n?i:Le.min(),n?s:ot())}).next(function(c){return{documents:c,Rc:s}})})}function qD(t,e){var n=te(t),r=te(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,e).next(function(a){return a?a.target:null})})}function WD(t){var e=te(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=te(r),c=Ao(),l=hE(s),h=es(i),d=IDBKeyRange.lowerBound(l,!0);return h.hs({index:kt.readTimeIndex,range:d},function(v,m){var y=Zw(a.Qt,m);c=c.zt(y.key,y),l=m.readTime}).next(function(){return{Go:c,readTime:OD(l)}})}(e.Ec,n,e.wc)}).then(function(n){var r=n.Go,i=n.readTime;return e.wc=i,r})}function V5(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){return[2,(e=te(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=es(i),a=Le.min();return s.hs({index:kt.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=OD(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.wc=r})]})})}function B5(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y;return N(this,function(b){switch(b.label){case 0:for(i=te(t),s=ot(),a=Ao(),c=hD(),l=0,h=n;l<h.length;l++)d=h[l],v=e.Pc(d.metadata.name),d.document&&(s=s.add(v)),a=a.zt(v,e.yc(d)),c=c.zt(v,e.gc(d.metadata.readTime));return m=i.Ec.Nr({Wr:!0}),[4,wc(i,function(E){return Wr(Uc(Qe.ot("__bundle__/docs/"+E)))}(r))];case 1:return y=b.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return BD(E,m,a,Le.min(),c).next(function(T){return m.apply(E),T}).next(function(T){return i._o.Yi(E,y.targetId).next(function(){return i._o.er(E,s,y.targetId)}).next(function(){return i.Tc.Zo(E,T)})})})]}})})}function q5(t,e,n){return n===void 0&&(n=ot()),R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,wc(t,Wr(dE(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=te(t)).persistence.runTransaction("Save named query","readwrite",function(a){var c=dn(e.readTime);if(r.Ot._(c)>=0)return i.wo.Ls(a,e);var l=r.Mt(Qn.T,c);return i.fc=i.fc.zt(l.targetId,l),i._o.Hi(a,l).next(function(){return i._o.Yi(a,r.targetId)}).next(function(){return i._o.er(a,n,r.targetId)}).next(function(){return i.wo.Ls(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W5=function(){function t(e){this.Qt=e,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(e,n){return $.resolve(this.Vc.get(n))},t.prototype.ks=function(e,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:dn(r.createTime)}),$.resolve()},t.prototype.Ms=function(e,n){return $.resolve(this.bc.get(n))},t.prototype.Ls=function(e,n){return this.bc.set(n.name,function(r){return{name:r.name,query:dE(r.bundledQuery),readTime:dn(r.readTime)}}(n)),$.resolve()},t}(),gE=function(){function t(){this.vc=new rn(ln.Sc),this.Dc=new rn(ln.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(e,n){var r=new ln(e,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},t.prototype.xc=function(e,n){var r=this;e.forEach(function(i){return r.nr(i,n)})},t.prototype.ir=function(e,n){this.Nc(new ln(e,n))},t.prototype.$c=function(e,n){var r=this;e.forEach(function(i){return r.ir(i,n)})},t.prototype.Fc=function(e){var n=this,r=new ve(new Qe([])),i=new ln(r,e),s=new ln(r,e+1),a=[];return this.Dc.me([i,s],function(c){n.Nc(c),a.push(c.key)}),a},t.prototype.Oc=function(){var e=this;this.vc.forEach(function(n){return e.Nc(n)})},t.prototype.Nc=function(e){this.vc=this.vc.delete(e),this.Dc=this.Dc.delete(e)},t.prototype.kc=function(e){var n=new ve(new Qe([])),r=new ln(n,e),i=new ln(n,e+1),s=ot();return this.Dc.me([r,i],function(a){s=s.add(a.key)}),s},t.prototype.Fi=function(e){var n=new ln(e,0),r=this.vc.Re(n);return r!==null&&e.isEqual(r.key)},t}(),ln=function(){function t(e,n){this.key=e,this.Mc=n}return t.Sc=function(e,n){return ve.H(e.key,n.key)||je(e.Mc,n.Mc)},t.Cc=function(e,n){return je(e.Mc,n.Mc)||ve.H(e.key,n.key)},t}(),H5=function(){function t(e,n){this.Ei=e,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new rn(ln.Sc)}return t.prototype.Ai=function(e){return $.resolve(this.zo.length===0)},t.prototype.Ri=function(e,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var a=new fE(s,n,r,i);this.zo.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.Bc=this.Bc.add(new ln(h.key,s)),this.Ei.qs(e,h.key.path.X())}return $.resolve(a)},t.prototype.Pi=function(e,n){return $.resolve(this.qc(n))},t.prototype.gi=function(e,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return $.resolve(this.zo.length>s?this.zo[s]:null)},t.prototype.Vi=function(){return $.resolve(this.zo.length===0?-1:this.Lc-1)},t.prototype.pi=function(e){return $.resolve(this.zo.slice())},t.prototype.bi=function(e,n){var r=this,i=new ln(n,0),s=new ln(n,Number.POSITIVE_INFINITY),a=[];return this.Bc.me([i,s],function(c){var l=r.qc(c.Mc);a.push(l)}),$.resolve(a)},t.prototype.vi=function(e,n){var r=this,i=new rn(je);return n.forEach(function(s){var a=new ln(s,0),c=new ln(s,Number.POSITIVE_INFINITY);r.Bc.me([a,c],function(l){i=i.add(l.Mc)})}),$.resolve(this.Qc(i))},t.prototype.Di=function(e,n){var r=n.path,i=r.length+1,s=r;ve.wt(s)||(s=s.child(""));var a=new ln(new ve(s),0),c=new rn(je);return this.Bc.Ae(function(l){var h=l.key.path;return!!r.nt(h)&&(h.length===i&&(c=c.add(l.Mc)),!0)},a),$.resolve(this.Qc(c))},t.prototype.Qc=function(e){var n=this,r=[];return e.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},t.prototype.Ci=function(e,n){var r=this;Ee(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return $.forEach(n.mutations,function(s){var a=new ln(s.key,n.batchId);return i=i.delete(a),r.Ti.Ni(e,s.key)}).next(function(){r.Bc=i})},t.prototype.xi=function(e){},t.prototype.Fi=function(e,n){var r=new ln(n,0),i=this.Bc.Re(r);return $.resolve(n.isEqual(i&&i.key))},t.prototype.$i=function(e){return this.zo.length,$.resolve()},t.prototype.Kc=function(e,n){return this.Uc(e)},t.prototype.Uc=function(e){return this.zo.length===0?0:e-this.zo[0].batchId},t.prototype.qc=function(e){var n=this.Uc(e);return n<0||n>=this.zo.length?null:this.zo[n]},t}(),G5=function(){function t(e,n){this.Ei=e,this.Wc=n,this.docs=new Un(ve.H),this.size=0}return t.prototype.ai=function(e,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:c,readTime:r}),this.size+=c-a,this.Ei.qs(e,i.path.X())},t.prototype.li=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype._i=function(e,n){var r=this.docs.get(n);return $.resolve(r?r.hi:null)},t.prototype.getEntries=function(e,n){var r=this,i=Xp();return n.forEach(function(s){var a=r.docs.get(s);i=i.zt(s,a?a.hi:null)}),$.resolve(i)},t.prototype.Kr=function(e,n,r){for(var i=Uf(),s=new ve(n.path.child("")),a=this.docs.ee(s);a.ce();){var c=a.oe(),l=c.key,h=c.value,d=h.hi,v=h.readTime;if(!n.path.nt(l.path))break;v._(r)<=0||d instanceof ct&&vh(n,d)&&(i=i.zt(d.key,d))}return $.resolve(i)},t.prototype.jc=function(e,n){return $.forEach(this.docs,function(r){return n(r)})},t.prototype.Nr=function(e){return new Y5(this)},t.prototype.Or=function(e){return $.resolve(this.size)},t}(),Y5=function(t){function e(n){var r=this;return(r=t.call(this)||this).jr=n,r}return ee(e,t),e.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,a){a&&a.hi?i.push(r.jr.ai(n,a.hi,r.ci(s))):r.jr.li(s)}),$.Mn(i)},e.prototype.fi=function(n,r){return this.jr._i(n,r)},e.prototype.di=function(n,r){return this.jr.getEntries(n,r)},e}(xD),$5=function(){function t(e){this.persistence=e,this.Gc=new Vc(function(n){return dh(n)},Jv),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.zc=0,this.Hc=new gE,this.targetCount=0,this.Jc=tv.Mi()}return t.prototype.In=function(e,n){return this.Gc.forEach(function(r,i){return n(i)}),$.resolve()},t.prototype.Qi=function(e){return $.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(e){return $.resolve(this.zc)},t.prototype.Bi=function(e){return this.highestTargetId=this.Jc.next(),$.resolve(this.highestTargetId)},t.prototype.Wi=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),$.resolve()},t.prototype.Gi=function(e){this.Gc.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.Jc=new tv(n),this.highestTargetId=n),e.sequenceNumber>this.zc&&(this.zc=e.sequenceNumber)},t.prototype.ji=function(e,n){return this.Gi(n),this.targetCount+=1,$.resolve()},t.prototype.Hi=function(e,n){return this.Gi(n),$.resolve()},t.prototype.Ji=function(e,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,$.resolve()},t.prototype.Xi=function(e,n,r){var i=this,s=0,a=[];return this.Gc.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.Gc.delete(c),a.push(i.Yi(e,l.targetId)),s++)}),$.Mn(a).next(function(){return s})},t.prototype.Zi=function(e){return $.resolve(this.targetCount)},t.prototype.tr=function(e,n){var r=this.Gc.get(n)||null;return $.resolve(r)},t.prototype.er=function(e,n,r){return this.Hc.xc(n,r),$.resolve()},t.prototype.sr=function(e,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(a){s.push(i.Ni(e,a))}),$.Mn(s)},t.prototype.Yi=function(e,n){return this.Hc.Fc(n),$.resolve()},t.prototype.rr=function(e,n){var r=this.Hc.kc(n);return $.resolve(r)},t.prototype.Fi=function(e,n){return $.resolve(this.Hc.Fi(n))},t}(),z5=function(){function t(e,n){var r=this;this.Yc={},this.so=new Ir(0),this.io=!1,this.io=!0,this.Ti=e(this),this._o=new $5(this),this.Ei=new E5,this.fo=function(i,s){return new G5(i,function(a){return r.Ti.Xc(a)})}(this.Ei),this.Qt=new RD(n),this.wo=new W5(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(e){var n=this.Yc[e.A()];return n||(n=new H5(this.Ei,this.Ti),this.Yc[e.A()]=n),n},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(e,n,r){var i=this;J("MemoryPersistence","Starting transaction:",e);var s=new K5(this.so.next());return this.Ti.Zc(),r(s).next(function(a){return i.Ti.ta(s).next(function(){return a})}).On().then(function(a){return s.Vs(),a})},t.prototype.ea=function(e,n){return $.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(e,n)}}))},t}(),K5=function(t){function e(n){var r=this;return(r=t.call(this)||this).bs=n,r}return ee(e,t),e}(ND),Q5=function(){function t(e){this.persistence=e,this.na=new gE,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw fe()},enumerable:!1,configurable:!0}),t.prototype.nr=function(e,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),$.resolve()},t.prototype.ir=function(e,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),$.resolve()},t.prototype.Ni=function(e,n){return this.ra.add(n.toString()),$.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(e,n.targetId).next(function(s){s.forEach(function(a){return r.ra.add(a.toString())})}).next(function(){return i.Ji(e,n)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(e){var n=this,r=this.persistence.$r().Nr();return $.forEach(this.ra,function(i){var s=ve._t(i);return n.oa(e,s).next(function(a){a||r.li(s)})}).next(function(){return n.sa=null,r.apply(e)})},t.prototype.Fr=function(e,n){var r=this;return this.oa(e,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},t.prototype.Xc=function(e){return 0},t.prototype.oa=function(e,n){var r=this;return $.Ln([function(){return $.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(e,n)},function(){return r.persistence.ea(e,n)}])},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t,e){return"firestore_clients_"+t+"_"+e}function SN(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function P_(t,e){return"firestore_targets_"+t+"_"+e}var AN=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.ca=function(e,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new G(s.error.code,s.error.message)),a?new t(e,n,s.state,i):(Yt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),D_=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.ca=function(e,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new G(i.error.code,i.error.message)),s?new t(e,i.state,r):(Yt("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),CN=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.ca=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=ng(),a=0;i&&a<r.activeTargetIds.length;++a)i=KP(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new t(e,s):(Yt("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),X5=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.ca=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Yt("SharedClientState","Failed to parse online state: "+e),null)},t}(),e0=function(){function t(){this.activeTargetIds=ng()}return t.prototype.ua=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.ha=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.aa=function(){var e={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),M_=function(){function t(e,n,r,i,s){this.window=e,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Un(je),this.Er=!1,this.Ta=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=IN(this.persistenceKey,this.la),this.ma=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new e0),this.Aa=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ya=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.ga=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s,a,c,l,h,d,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this._a.Uo()];case 1:for(e=y.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(IN(this.persistenceKey,i)))&&(a=CN.ca(i,s))&&(this.Ea=this.Ea.zt(a.clientId,a));for(this.Va(),(c=this.storage.getItem(this.ya))&&(l=this.pa(c))&&this.ba(l),h=0,d=this.Ta;h<d.length;h++)v=d[h],this.wa(v);return this.Ta=[],this.window.addEventListener("unload",function(){return m.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(e){this.setItem(this.ma,JSON.stringify(e))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(e){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.Ca=function(e){this.xa(e,"pending")},t.prototype.Na=function(e,n,r){this.xa(e,n,r),this.$a(e)},t.prototype.Fa=function(e){var n="not-current";if(this.Da(e)){var r=this.storage.getItem(P_(this.persistenceKey,e));if(r){var i=D_.ca(e,r);i&&(n=i.state)}}return this.Oa.ua(e),this.Va(),n},t.prototype.ka=function(e){this.Oa.ha(e),this.Va()},t.prototype.Ma=function(e){return this.Oa.activeTargetIds.has(e)},t.prototype.La=function(e){this.removeItem(P_(this.persistenceKey,e))},t.prototype.Ba=function(e,n,r){this.qa(e,n,r)},t.prototype.Ua=function(e,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=e,r.forEach(function(s){i.Ca(s)})},t.prototype.Qa=function(e){this.Ka(e)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return J("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){J("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){J("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.wa=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(J("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void Yt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return R(n,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(d){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(a=this.Ja(r.key,r.newValue)))return[2,this.Ya(a)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(c=this.Xa(r.key,r.newValue)))return[2,this.Za(c)]}else if(r.key===this.ya){if(r.newValue!==null&&(l=this.pa(r.newValue)))return[2,this.ba(l)]}else if(r.key===this.ma)(h=function(v){var m=Ir.q;if(v!=null)try{var y=JSON.parse(v);Ee(typeof y=="number"),m=y}catch(b){Yt("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(r.newValue))!==Ir.q&&this.k(h);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(e,n,r){var i=new AN(this.currentUser,e,n,r),s=SN(this.persistenceKey,this.currentUser,e);this.setItem(s,i.aa())},t.prototype.$a=function(e){var n=SN(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Ka=function(e){var n={clientId:this.la,onlineState:e};this.storage.setItem(this.ya,JSON.stringify(n))},t.prototype.qa=function(e,n,r){var i=P_(this.persistenceKey,e),s=new D_(e,n,r);this.setItem(i,s.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(e){var n=this.Aa.exec(e);return n?n[1]:null},t.prototype.Ha=function(e,n){var r=this.Ga(e);return CN.ca(r,n)},t.prototype.Ja=function(e,n){var r=this.Ra.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return AN.ca(new br(s),i,n)},t.prototype.Xa=function(e,n){var r=this.Pa.exec(e),i=Number(r[1]);return D_.ca(i,n)},t.prototype.pa=function(e){return X5.ca(e)},t.prototype.Ya=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){return e.user.uid===this.currentUser.uid?[2,this._a.eu(e.batchId,e.state,e.error)]:(J("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.Za=function(e){return this._a.nu(e.targetId,e.state,e.error)},t.prototype.za=function(e,n){var r=this,i=n?this.Ea.zt(e,n):this.Ea.remove(e),s=this.Sa(this.Ea),a=this.Sa(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this._a.su(c,l).then(function(){r.Ea=i})},t.prototype.ba=function(e){this.Ea.get(e.clientId)&&this.fa(e.onlineState)},t.prototype.Sa=function(e){var n=ng();return e.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},t}(),HD=function(){function t(){this.iu=new e0,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(e){},t.prototype.Na=function(e,n,r){},t.prototype.Fa=function(e){return this.iu.ua(e),this.ru[e]||"not-current"},t.prototype.Ba=function(e,n,r){this.ru[e]=n},t.prototype.ka=function(e){this.iu.ha(e)},t.prototype.Ma=function(e){return this.iu.activeTargetIds.has(e)},t.prototype.La=function(e){delete this.ru[e]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(e){return this.iu.activeTargetIds.has(e)},t.prototype.start=function(){return this.iu=new e0,Promise.resolve()},t.prototype.Ua=function(e,n,r){},t.prototype.Qa=function(e){},t.prototype.ko=function(){},t.prototype.B=function(e){},t.prototype.Wa=function(){},t}(),J5=function(){function t(){}return t.prototype.ou=function(e){},t.prototype.ko=function(){},t}(),NN=function(){function t(){var e=this;this.cu=function(){return e.au()},this.uu=function(){return e.hu()},this.lu=[],this._u()}return t.prototype.ou=function(e){this.lu.push(e)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.lu;e<n.length;e++)(0,n[e])(0)},t.prototype.hu=function(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.lu;e<n.length;e++)(0,n[e])(1)},t.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),Z5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},eQ=function(){function t(e){this.fu=e.fu,this.du=e.du}return t.prototype.wu=function(e){this.Eu=e},t.prototype.Tu=function(e){this.Iu=e},t.prototype.onMessage=function(e){this.mu=e},t.prototype.close=function(){this.du()},t.prototype.send=function(e){this.fu(e)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(e){this.Iu(e)},t.prototype.Pu=function(e){this.mu(e)},t}(),tQ=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return ee(e,t),e.prototype.Su=function(n,r,i,s){return new Promise(function(a,c){var l=new AK;l.listenOnce(IK.COMPLETE,function(){try{switch(l.getLastErrorCode()){case k_.NO_ERROR:var d=l.getResponseJson();J("Connection","XHR received:",JSON.stringify(d)),a(d);break;case k_.TIMEOUT:J("Connection",'RPC "'+n+'" timed out'),c(new G(P.DEADLINE_EXCEEDED,"Request time out"));break;case k_.HTTP_ERROR:var v=l.getStatus();if(J("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var m=l.getResponseJson().error;if(m&&m.status&&m.message){var y=function(b){var E=b.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(E)>=0?E:P.UNKNOWN}(m.status);c(new G(y,m.message))}else c(new G(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new G(P.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{J("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},e.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=EK(),a=TK(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(c.initMessageHeaders,r),ab()||Wk()||IY()||SY()||AY()||ub()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");J("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,m=new eQ({fu:function(b){v?J("Connection","Not sending because WebChannel is closed:",b):(d||(J("Connection","Opening WebChannel transport."),h.open(),d=!0),J("Connection","WebChannel sending:",b),h.send(b))},du:function(){return h.close()}}),y=function(b,E,T){b.listen(E,function(C){try{T(C)}catch(x){setTimeout(function(){throw x},0)}})};return y(h,Ud.EventType.OPEN,function(){v||J("Connection","WebChannel transport opened.")}),y(h,Ud.EventType.CLOSE,function(){v||(v=!0,J("Connection","WebChannel transport closed"),m.Ru())}),y(h,Ud.EventType.ERROR,function(b){v||(v=!0,Gp("Connection","WebChannel transport errored:",b),m.Ru(new G(P.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ud.EventType.MESSAGE,function(b){var E;if(!v){var T=b.data[0];Ee(!!T);var C=T,x=C.error||((E=C[0])===null||E===void 0?void 0:E.error);if(x){J("Connection","WebChannel received error:",x);var D=x.status,F=function(U){var Te=Ht[U];if(Te!==void 0)return fD(Te)}(D),X=x.message;F===void 0&&(F=P.INTERNAL,X="Unknown error status: "+D+" with message "+x.message),v=!0,m.Ru(new G(F,X)),h.close()}else J("Connection","WebChannel received:",T),m.Pu(T)}}),y(a,SK.STAT_EVENT,function(b){b.stat===WC.PROXY?J("Connection","Detected buffering proxy"):b.stat===WC.NOPROXY&&J("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Au()},0),m},e}(function(){function t(e){this.yu=e,this.t=e.t;var n=e.ssl?"https":"http";this.gu=n+"://"+e.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(e,n,r,i){var s=this.bu(e,n);J("RestConnection","Sending: ",s,r);var a={};return this.vu(a,i),this.Su(e,s,a,r).then(function(c){return J("RestConnection","Received: ",c),c},function(c){throw Gp("RestConnection",e+" failed with error: ",c,"url: ",s,"request:",r),c})},t.prototype.Du=function(e,n,r,i){return this.pu(e,n,r,i)},t.prototype.vu=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",e["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(e[r]=n.g[r])},t.prototype.bu=function(e,n){var r=Z5[e];return this.gu+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){return typeof window<"u"?window:null}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){return new o5(t,!0)}var mE=function(){function t(e,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=e,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(e){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&J("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),e()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),YD=function(){function t(e,n,r,i,s,a){this.Zr=e,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=a,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new mE(e,n)}return t.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},t.prototype.Hu=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.Ju()},t.prototype.stop=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var e=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return e.Zu()}))},t.prototype.th=function(e){this.eh(),this.stream.send(e)},t.prototype.Zu=function(){return R(this,void 0,void 0,function(){return N(this,function(e){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(e,n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,e!==3?this.Gu.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Yt(n.toString()),Yt("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===P.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){e.Wu===r&&e.ih(i)},function(i){n(function(){var s=new G(P.UNKNOWN,"Fetching auth token failed: "+i.message);return e.rh(s)})})},t.prototype.ih=function(e){var n=this,r=this.sh(this.Wu);this.stream=this.oh(e),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.Ju=function(){var e=this;this.state=4,this.Gu.Lu(function(){return R(e,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(e){return J("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.sh=function(e){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===e?r():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),nQ=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).Qt=s,c}return ee(e,t),e.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},e.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:fe()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(T,C){return T.Bt?(Ee(C===void 0||typeof C=="string"),Qn.fromBase64String(C||"")):(Ee(C===void 0||C instanceof Uint8Array),Qn.fromUint8Array(C||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(T){var C=T.code===void 0?P.UNKNOWN:fD(T.code);return new G(C,T.message||"")}(m);c=new vD(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=Vi(s,l.document.name),d=dn(l.document.updateTime);var m=new bs({mapValue:{fields:l.document.fields}}),y=(v=new ct(h,d,m,{}),l.targetIds||[]),b=l.removedTargetIds||[];c=new up(y,b,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=Vi(s,l.document),d=l.readTime?dn(l.readTime):Le.min(),m=new nn(h,d),v=l.removedTargetIds||[],c=new up([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=Vi(s,l.document),d=l.removedTargetIds||[],c=new up([],d,h,null);else{if(!("filter"in a))return fe();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new QK(l),d=E.targetId,c=new pD(d,h)}return c}(this.Qt,n),i=function(s){if(!("targetChange"in s))return Le.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Le.min():a.readTime?dn(a.readTime):Le.min()}(n);return this.listener.ah(r,i)},e.prototype.uh=function(n){var r={};r.database=Bf(this.Qt),r.addTarget=function(s,a){var c,l=a.target;return(c=zp(l)?{documents:bD(s,l)}:{query:ED(s,l)}).targetId=a.targetId,a.resumeToken.l()>0?c.resumeToken=gD(s,a.resumeToken):a.Ot._(Le.min())>0&&(c.readTime=jf(s,a.Ot.j())),c}(this.Qt,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,a.Ft);return c==null?null:{"goog-listen-tags":c}}(this.Qt,n);i&&(r.labels=i),this.th(r)},e.prototype.hh=function(n){var r={};r.database=Bf(this.Qt),r.removeTarget=n,this.th(r)},e}(YD),rQ=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).Qt=s,c.lh=!1,c}return ee(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(n){return this.Qu.Cu("Write",n)},e.prototype.onMessage=function(n){if(Ee(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,a){return s&&s.length>0?(Ee(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?dn(l.updateTime):dn(h);d.isEqual(Le.min())&&(d=dn(h));var v=null;return l.transformResults&&l.transformResults.length>0&&(v=l.transformResults),new $K(d,v)}(c,a)})):[]}(n.writeResults,n.commitTime),i=dn(n.commitTime);return this.listener.dh(i,r)}return Ee(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var n={};n.database=Bf(this.Qt),this.th(n)},e.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return Zp(r.Qt,s)})};this.th(i)},e}(YD),iQ=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return ee(e,t),e.prototype.Ih=function(){if(this.Th)throw new G(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.pu(n,r,i,a)}).catch(function(a){throw a.code===P.UNAUTHENTICATED&&s.credentials.p(),a})},e.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.Du(n,r,i,a)}).catch(function(a){throw a.code===P.UNAUTHENTICATED&&s.credentials.p(),a})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),oQ=function(){function t(e,n){this._s=e,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var e=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return e.Ah=null,e.gh("Backend didn't respond within 10 seconds."),e.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(e){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+e.toString()),this.yh("Offline")))},t.prototype.set=function(e){this.ph(),this.mh=0,e==="Online"&&(this.Rh=!1),this.yh(e)},t.prototype.yh=function(e){e!==this.state&&(this.state=e,this.fa(e))},t.prototype.gh=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?(Yt(n),this.Rh=!1):J("OnlineStateTracker",n)},t.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},t}(),sQ=function(t,e,n,r,i){var s=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(a){n.Ps(function(){return R(s,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return Cs(this)?(J("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return R(this,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return(h=te(l)).Nh.add(4),[4,Bc(h)];case 1:return d.sent(),h.Oh.set("Unknown"),h.Nh.delete(4),[4,wh(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Oh=new oQ(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:if(!Cs(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Bc(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function rg(t,e){var n=te(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),wE(n)?_E(n):Wc(n).Hu()&&yE(n,e))}function qf(t,e){var n=te(t),r=Wc(n);n.xh.delete(e),r.Hu()&&$D(n,e),n.xh.size===0&&(r.Hu()?r.Xu():Cs(n)&&n.Oh.set("Unknown"))}function yE(t,e){t.kh.on(e.targetId),Wc(t).uh(e)}function $D(t,e){t.kh.on(e),Wc(t).hh(e)}function _E(t){t.kh=new n5({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Wc(t).start(),t.Oh.Ph()}function wE(t){return Cs(t)&&!Wc(t).zu()&&t.xh.size>0}function Cs(t){return te(t).Nh.size===0}function zD(t){t.kh=void 0}function aQ(t){return R(this,void 0,void 0,function(){return N(this,function(e){return t.xh.forEach(function(n,r){yE(t,n)}),[2]})})}function uQ(t,e){return R(this,void 0,void 0,function(){return N(this,function(n){return zD(t),wE(t)?(t.Oh.Vh(e),_E(t)):t.Oh.set("Unknown"),[2]})})}function cQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(t.Oh.set("Online"),!(e instanceof vD&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return R(this,void 0,void 0,function(){var h,d,v,m;return N(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(m=v[d],c.xh.has(m)?[4,c.Dh.Mh(m,h)]:[3,3]):[3,5];case 2:y.sent(),c.xh.delete(m),c.kh.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,rv(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof up?t.kh.dn(e):e instanceof pD?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Le.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,VD(t.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(c,l){var h=c.kh.Vn(l);return h.$e.forEach(function(d,v){if(d.resumeToken.l()>0){var m=c.xh.get(v);m&&c.xh.set(v,m.Mt(d.resumeToken,l))}}),h.Fe.forEach(function(d){var v=c.xh.get(d);if(v){c.xh.set(d,v.Mt(Qn.T,v.Ot)),$D(c,d);var m=new Zv(v.target,d,1,v.sequenceNumber);yE(c,m)}}),c.Dh.Lh(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return J("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,rv(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function rv(t,e,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!ja(e))throw e;return t.Nh.add(1),[4,Bc(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return VD(t.bh)}),t._s.po(function(){return R(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return J("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),t.Nh.delete(1),[4,wh(t)];case 2:return s.sent(),[2]}})})}),[2]}})})}function KD(t,e){return e().catch(function(n){return rv(t,n,e)})}function qc(t){return R(this,void 0,void 0,function(){var e,n,r,i,s;return N(this,function(a){switch(a.label){case 0:e=te(t),n=Es(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return Cs(c)&&c.Ch.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,j5(e.bh,r)];case 3:return(i=a.sent())===null?(e.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(c,l){c.Ch.push(l);var h=Es(c);h.Hu()&&h._h&&h.fh(l.mutations)}(e,i),[3,6]);case 4:return s=a.sent(),[4,rv(e,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return QD(e)&&XD(e),[2]}})})}function QD(t){return Cs(t)&&!Es(t).zu()&&t.Ch.length>0}function XD(t){Es(t).start()}function lQ(t){return R(this,void 0,void 0,function(){return N(this,function(e){return Es(t).Eh(),[2]})})}function fQ(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){for(e=Es(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]})})}function hQ(t,e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=t.Ch.shift(),i=w5.from(r,e,n),[4,KD(t,function(){return t.Dh.Bh(i)})];case 1:return s.sent(),[4,qc(t)];case 2:return s.sent(),[2]}})})}function dQ(t,e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return e&&Es(t)._h?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return lD(a=i.code)&&a!==P.ABORTED?(s=r.Ch.shift(),Es(r).Yu(),[4,KD(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,qc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return QD(t)&&XD(t),[2]}})})}function t0(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=te(t),e?(n.Nh.delete(2),[4,wh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Bc(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Wc(t){var e=this;return t.Uh||(t.Uh=function(n,r,i){var s=te(n);return s.Ih(),new nQ(r,s.Qu,s.credentials,s.Qt,i)}(t.Sh,t._s,{wu:aQ.bind(null,t),Tu:uQ.bind(null,t),ah:cQ.bind(null,t)}),t.$h.push(function(n){return R(e,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(t.Uh.Yu(),wE(t)?_E(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:r.sent(),zD(t),r.label=3;case 3:return[2]}})})})),t.Uh}function Es(t){var e=this;return t.Qh||(t.Qh=function(n,r,i){var s=te(n);return s.Ih(),new rQ(r,s.Qu,s.credentials,s.Qt,i)}(t.Sh,t._s,{wu:lQ.bind(null,t),Tu:dQ.bind(null,t),wh:fQ.bind(null,t),dh:hQ.bind(null,t)}),t.$h.push(function(n){return R(e,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(t.Qh.Yu(),[4,qc(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:r.sent(),t.Ch.length>0&&(J("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),r.label=4;case 4:return[2]}})})})),t.Qh}var pQ=function(){this.Kh=void 0,this.listeners=[]},vQ=function(){this.queries=new Vc(function(t){return eD(t)},ph),this.onlineState="Unknown",this.Wh=new Set};function bE(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(n=te(t),r=e.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new pQ),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.jh(r)];case 2:return a.Kh=h.sent(),[3,4];case 3:return c=h.sent(),l=jc(c,"Initialization of query '"+Qw(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Gh(n.onlineState),s.Kh&&e.zh(s.Kh)&&TE(n),[2]}})})}function EE(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){return n=te(t),r=e.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function gQ(t,e){for(var n=te(t),r=!1,i=0,s=e;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].zh(a)&&(r=!0);l.Kh=a}}r&&TE(n)}function mQ(t,e,n){var r=te(t),i=r.queries.get(e);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(e)}function TE(t){t.Wh.forEach(function(e){e.next()})}var IE=function(){function t(e,n,r){this.query=e,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.zh=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}e=new Jp(e.query,e.docs,e.Se,n,e.De,e.fromCache,e.Ce,!0)}var a=!1;return this.Yh?this.Zh(e)&&(this.Jh.next(e),a=!0):this.tl(e,this.onlineState)&&(this.el(e),a=!0),this.Xh=e,a},t.prototype.onError=function(e){this.Jh.error(e)},t.prototype.Gh=function(e){this.onlineState=e;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,e)&&(this.el(this.Xh),n=!0),n},t.prototype.tl=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||e.docs.et()&&n!=="Offline")},t.prototype.Zh=function(e){if(e.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==e.hasPendingWrites;return!(!e.Ce&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.el=function(e){e=Jp.Ne(e.query,e.docs,e.De,e.fromCache),this.Yh=!0,this.Jh.next(e)},t}(),yQ=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),RN=function(){function t(e){this.Qt=e}return t.prototype.Pc=function(e){return Vi(this.Qt,e)},t.prototype.yc=function(e){return e.metadata.exists?wD(this.Qt,e.document,!1):new nn(this.Pc(e.metadata.name),this.gc(e.metadata.readTime))},t.prototype.gc=function(e){return dn(e)},t}(),_Q=function(){function t(e,n,r){this.il=e,this.bh=n,this.Qt=r,this.queries=[],this.documents=[],this.progress=JD(e)}return t.prototype.rl=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.ol=function(e){for(var n=new Map,r=new RN(this.Qt),i=0,s=e;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.Pc(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||ot()).add(c);n.set(d,v)}}return n},t.prototype.complete=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,B5(this.bh,new RN(this.Qt),this.documents,this.il.id)];case 1:e=a.sent(),n=this.ol(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,q5(this.bh,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new D5(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZD=function(t){this.key=t},eM=function(t){this.key=t},tM=function(){function t(e,n){this.query=e,this.cl=n,this.al=null,this.Be=!1,this.ul=ot(),this.De=ot(),this.hl=tD(e),this.ll=new dD(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(e,n){var r=this,i=n?n.dl:new iN,s=n?n.ll:this.ll,a=n?n.De:this.De,c=s,l=!1,h=sp(this.query)&&s.size===this.query.limit?s.last():null,d=Qp(this.query)&&s.size===this.query.limit?s.first():null;if(e.Xt(function(m,y){var b=s.get(m),E=y instanceof ct?y:null;E&&(E=vh(r.query,E)?E:null);var T=!!b&&r.De.has(b.key),C=!!E&&(E.Vt||r.De.has(E.key)&&E.hasCommittedMutations),x=!1;b&&E?b.data().isEqual(E.data())?T!==C&&(i.track({type:3,doc:E}),x=!0):r.wl(b,E)||(i.track({type:2,doc:E}),x=!0,(h&&r.hl(E,h)>0||d&&r.hl(E,d)<0)&&(l=!0)):!b&&E?(i.track({type:0,doc:E}),x=!0):b&&!E&&(i.track({type:1,doc:b}),x=!0,(h||d)&&(l=!0)),x&&(E?(c=c.add(E),a=C?a.add(m):a.delete(m)):(c=c.delete(m),a=a.delete(m)))}),sp(this.query)||Qp(this.query))for(;c.size>this.query.limit;){var v=sp(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ll:c,dl:i,lc:l,De:a}},t.prototype.wl=function(e,n){return e.Vt&&n.hasCommittedMutations&&!n.Vt},t.prototype.wi=function(e,n,r){var i=this,s=this.ll;this.ll=e.ll,this.De=e.De;var a=e.dl.ve();a.sort(function(d,v){return function(m,y){var b=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return b(m)-b(y)}(d.type,v.type)||i.hl(d.doc,v.doc)}),this.El(r);var c=n?this.Tl():[],l=this.ul.size===0&&this.Be?1:0,h=l!==this.al;return this.al=l,a.length!==0||h?{snapshot:new Jp(this.query,e.ll,s,a,e.De,l===0,h,!1),Il:c}:{Il:c}},t.prototype.Gh=function(e){return this.Be&&e==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new iN,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(e){return!this.cl.has(e)&&!!this.ll.has(e)&&!this.ll.get(e).Vt},t.prototype.El=function(e){var n=this;e&&(e.qe.forEach(function(r){return n.cl=n.cl.add(r)}),e.Ue.forEach(function(r){}),e.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=e.Be)},t.prototype.Tl=function(){var e=this;if(!this.Be)return[];var n=this.ul;this.ul=ot(),this.ll.forEach(function(i){e.ml(i.key)&&(e.ul=e.ul.add(i.key))});var r=[];return n.forEach(function(i){e.ul.has(i)||r.push(new eM(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new ZD(i))}),r},t.prototype.Al=function(e){this.cl=e.Rc,this.ul=ot();var n=this.fl(e.documents);return this.wi(n,!0)},t.prototype.Rl=function(){return Jp.Ne(this.query,this.ll,this.De,this.al===0)},t}(),wQ=function(t,e,n){this.query=t,this.targetId=e,this.view=n},bQ=function(t){this.key=t,this.Pl=!1},EQ=function(){function t(e,n,r,i,s,a){this.bh=e,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=a,this.bl={},this.vl=new Vc(function(c){return eD(c)},ph),this.Sl=new Map,this.Dl=new Set,this.Cl=new Un(ve.H),this.xl=new Map,this.Nl=new gE,this.$l={},this.Fl=new Map,this.Ol=tv.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),t}();function TQ(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=RE(t),(s=n.vl.get(e))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,wc(n.bh,Wr(e))];case 2:return a=l.sent(),c=n.Vl.Fa(a.targetId),r=a.targetId,[4,SE(n,e,r,c==="current")];case 3:i=l.sent(),n.Ml&&rg(n.yl,a),l.label=4;case 4:return[2,i]}})})}function SE(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return t.Ll=function(v,m,y){return function(b,E,T,C){return R(this,void 0,void 0,function(){var x,D,F;return N(this,function(X){switch(X.label){case 0:return x=E.view.fl(T),x.lc?[4,nv(b.bh,E.query,!1).then(function(U){var Te=U.documents;return E.view.fl(Te,x)})]:[3,2];case 1:x=X.sent(),X.label=2;case 2:return D=C&&C.$e.get(E.targetId),F=E.view.wi(x,b.Ml,D),[2,(n0(b,E.targetId,F.Il),F.snapshot)]}})})}(t,v,m,y)},[4,nv(t.bh,e,!0)];case 1:return i=d.sent(),s=new tM(e,i.Rc),a=s.fl(i.documents),c=uE.Le(n,r&&t.onlineState!=="Offline"),l=s.wi(a,t.Ml,c),n0(t,n,l.Il),h=new wQ(e,n,s),[2,(t.vl.set(e,h),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),l.snapshot)]}})})}function IQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=te(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(a){return!ph(a,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,bc(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),qf(n.yl,r.targetId),Ec(n,r.targetId)}).catch(Va)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ec(n,r.targetId),[4,bc(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function SQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=OE(t),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=te(l),m=cr.now(),y=h.reduce(function(b,E){return b.add(E.key)},ot());return v.persistence.runTransaction("Locally write mutations","readwrite",function(b){return v.Tc.Xo(b,y).next(function(E){d=E;for(var T=[],C=0,x=h;C<x.length;C++){var D=x[C],F=KK(D,d.get(D.key));F!=null&&T.push(new As(D.key,F,QP(F.proto.mapValue),Rn.exists(!0)))}return v.zo.Ri(b,m,T,h)})}).then(function(b){var E=b.xs(d);return{batchId:b.batchId,ri:E}})}(r.bh,e)];case 2:return i=c.sent(),r.Vl.Ca(i.batchId),function(l,h,d){var v=l.$l[l.currentUser.A()];v||(v=new Un(je)),v=v.zt(h,d),l.$l[l.currentUser.A()]=v}(r,i.batchId,n),[4,Do(r,i.ri)];case 3:return c.sent(),[4,qc(r.yl)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=jc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function nM(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=te(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,U5(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(s,a){var c=n.xl.get(a);c&&(Ee(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?c.Pl=!0:s.Ue.size>0?Ee(c.Pl):s.Qe.size>0&&(Ee(c.Pl),c.Pl=!1))}),[4,Do(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Va(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function ON(t,e,n){var r=te(t);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,a){var c=a.view.Gh(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=te(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,m=d.listeners;v<m.length;v++)m[v].Gh(a)&&(l=!0)}),l&&TE(c)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function AQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return(r=te(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(s=i&&i.key)?(a=(a=new Un(ve.H)).zt(s,new nn(s,Le.min())),c=ot().add(s),l=new aE(Le.min(),new Map,new rn(je),a,c),[4,nM(r,l)]):[3,2];case 1:return h.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(e),NE(r),[3,4];case 2:return[4,bc(r.bh,e,!1).then(function(){return Ec(r,e,n)}).catch(Va)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function CQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=te(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,F5(n.bh,e)];case 2:return i=s.sent(),CE(n,r,null),AE(n,r),n.Vl.Na(r,"acknowledged"),[4,Do(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Va(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function NQ(t,e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=te(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l.zo.Pi(h,c).next(function(v){return Ee(v!==null),d=v.keys(),l.zo.Ci(h,v)}).next(function(){return l.zo.$i(h)}).next(function(){return l.Tc.Xo(h,d)})})}(r.bh,e)];case 2:return i=s.sent(),CE(r,e,n),AE(r,e),r.Vl.Na(e,"rejected",n),[4,Do(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Va(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function RQ(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:Cs((n=te(t)).yl)||J("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=te(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h.zo.Vi(d)})}(n.bh)];case 2:return(r=c.sent())===-1?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return s=c.sent(),a=jc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function AE(t,e){(t.Fl.get(e)||[]).forEach(function(n){n.resolve()}),t.Fl.delete(e)}function CE(t,e,n){var r=te(t),i=r.$l[r.currentUser.A()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Ec(t,e,n){n===void 0&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var s=i[r];t.vl.delete(s),n&&t.bl.Bl(s,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(a){t.Nl.Fi(a)||rM(t,a)})}function rM(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);n!==null&&(qf(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),NE(t))}function n0(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof ZD?(t.Nl.nr(s.key,e),OQ(t,s)):s instanceof eM?(J("SyncEngine","Document no longer in limbo: "+s.key),t.Nl.ir(s.key,e),t.Nl.Fi(s.key)||rM(t,s.key)):fe()}}function OQ(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Dl.add(r),NE(t))}function NE(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new ve(Qe.ot(e)),r=t.Ol.next();t.xl.set(r,new bQ(n)),t.Cl=t.Cl.zt(n,r),rg(t.yl,new Zv(Wr(Uc(n.path)),r,2,Ir.q))}}function Do(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r=te(t),i=[],s=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(l,h){a.push(r.Ll(h,e,n).then(function(d){if(d){r.Ml&&r.Vl.Ba(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=M5.oc(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.bl.ah(i),[4,function(l,h){return R(this,void 0,void 0,function(){var d,v,m,y,b,E,T,C,x;return N(this,function(D){switch(D.label){case 0:d=te(l),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(F){return $.forEach(h,function(X){return $.forEach(X.ic,function(U){return d.persistence.Ti.nr(F,X.targetId,U)}).next(function(){return $.forEach(X.rc,function(U){return d.persistence.Ti.ir(F,X.targetId,U)})})})})];case 2:return D.sent(),[3,4];case 3:if(!ja(v=D.sent()))throw v;return J("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)b=y[m],E=b.targetId,b.fromCache||(T=d.fc.get(E),C=T.Ot,x=T.Lt(C),d.fc=d.fc.zt(E,x));return[2]}})})}(r.bh,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function kQ(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=te(t)).currentUser.isEqual(e)?[3,3]:(J("SyncEngine","User change. New user:",e.A()),[4,jD(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(s,a){s.Fl.forEach(function(c){c.forEach(function(l){l.reject(new G(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Do(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function xQ(t,e){var n=te(t),r=n.xl.get(e);if(r&&r.Pl)return ot().add(r.key);var i=ot(),s=n.Sl.get(e);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.vl.get(l);i=i.Pe(h.view._l)}return i}function PQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,nv((n=te(t)).bh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Al(r),[2,(n.Ml&&n0(n,e.targetId,i.Il),i)]}})})}function DQ(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){return[2,WD((e=te(t)).bh).then(function(r){return Do(e,r)})]})})}function MQ(t,e,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=te(c),d=te(h.zo);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.yi(v,l).next(function(m){return m?h.Tc.Xo(v,m):$.resolve(null)})})}((i=te(t)).bh,e)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,qc(i.yl)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(CE(i,e,r||null),AE(i,e),function(c,l){te(te(c).zo).xi(l)}(i.bh,e)):fe(),a.label=4;case 4:return[4,Do(i,s)];case 5:return a.sent(),[3,7];case 6:J("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function LQ(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return RE(n=te(t)),OE(n),e!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,kN(n,r.it())]);case 1:return i=d.sent(),n.kl=!0,[4,t0(n.yl,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],rg(n.yl,c);return[3,7];case 3:return e!==!1||n.kl===!1?[3,7]:(l=[],h=Promise.resolve(),n.Sl.forEach(function(v,m){n.Vl.Ma(m)?l.push(m):h=h.then(function(){return Ec(n,m),bc(n.bh,m,!0)}),qf(n.yl,m)}),[4,h]);case 4:return d.sent(),[4,kN(n,l)];case 5:return d.sent(),function(v){var m=te(v);m.xl.forEach(function(y,b){qf(m.yl,b)}),m.Nl.Oc(),m.xl=new Map,m.Cl=new Un(ve.H)}(n),n.kl=!1,[4,t0(n.yl,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function kN(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m,y,b,E,T;return N(this,function(C){switch(C.label){case 0:r=te(t),i=[],s=[],a=0,c=e,C.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Sl.get(l))&&d.length!==0?[4,wc(r.bh,Wr(d[0]))]:[3,7]):[3,13];case 2:h=C.sent(),v=0,m=d,C.label=3;case 3:return v<m.length?(y=m[v],b=r.vl.get(y),[4,PQ(r,b)]):[3,6];case 4:(E=C.sent()).snapshot&&s.push(E.snapshot),C.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,qD(r.bh,l)];case 8:return T=C.sent(),[4,wc(r.bh,T)];case 9:return h=C.sent(),[4,SE(r,iM(T),l,!1)];case 10:C.sent(),C.label=11;case 11:i.push(h),C.label=12;case 12:return a++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function iM(t){return JP(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function FQ(t){var e=te(t);return te(te(e.bh).persistence).Uo()}function UQ(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a;return N(this,function(c){switch(c.label){case 0:return(i=te(t)).kl?(J("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,WD(i.bh)];case 3:return s=c.sent(),a=aE.Me(e,n==="current"),[4,Do(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,bc(i.bh,e,!0)];case 6:return c.sent(),Ec(i,e,r),[3,8];case 7:fe(),c.label=8;case 8:return[2]}})})}function jQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=RE(t)).kl)return[3,10];i=0,s=e,y.label=1;case 1:return i<s.length?(a=s[i],r.Sl.has(a)?(J("SyncEngine","Adding an already active target "+a),[3,5]):[4,qD(r.bh,a)]):[3,6];case 2:return c=y.sent(),[4,wc(r.bh,c)];case 3:return l=y.sent(),[4,SE(r,iM(c),l.targetId,!1)];case 4:y.sent(),rg(r.yl,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(b){return N(this,function(E){switch(E.label){case 0:return r.Sl.has(b)?[4,bc(r.bh,b,!1).then(function(){qf(r.yl,b),Ec(r,b)}).catch(Va)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(m=v[d],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function RE(t){var e=te(t);return e.yl.Dh.Lh=nM.bind(null,e),e.yl.Dh.vn=xQ.bind(null,e),e.yl.Dh.Mh=AQ.bind(null,e),e.bl.ah=gQ.bind(null,e.gl),e.bl.Bl=mQ.bind(null,e.gl),e}function OE(t){var e=te(t);return e.yl.Dh.Bh=CQ.bind(null,e),e.yl.Dh.qh=NQ.bind(null,e),e}function VQ(t,e,n){var r=te(t);(function(i,s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(b,E){var T=te(b),C=dn(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",function(x){return T.wo.Os(x,E.id)}).then(function(x){return!!x&&x.createTime._(C)>=0})}(i.bh,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a.ql(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(c)))];case 4:return a.Ul(JD(c)),l=new _Q(c,i.bh,s.Qt),[4,s.Ql()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.rl(h)]:[3,10];case 7:return(d=y.sent())&&a.Ul(d),[4,s.Ql()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,Do(i,v.Go,void 0)];case 12:return y.sent(),[4,function(b,E){var T=te(b);return T.persistence.runTransaction("Save bundle","readwrite",function(C){return T.wo.ks(C,E)})}(i.bh,c)];case 13:return y.sent(),a.ql(v.progress),[3,15];case 14:return Gp("SyncEngine","Loading bundle failed with "+(m=y.sent())),a.Kl(m),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.Vl.Wa()})}var oM=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.Qt=_h(e.yu.t),this.Vl=this.Wl(e),this.persistence=this.jl(e),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(e),this.bh=this.Hl(e),[2]}})})},t.prototype.zl=function(e){return null},t.prototype.Hl=function(e){return UD(this.persistence,new FD,e.Jl,this.Qt)},t.prototype.jl=function(e){return new z5(Q5.ia,this.Qt)},t.prototype.Wl=function(e){return new HD},t.prototype.terminate=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return e.sent(),[4,this.persistence.ko()];case 2:return e.sent(),[2]}})})},t}(),sM=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return ee(e,t),e.prototype.initialize=function(n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,V5(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,OE(this.Yl._a)];case 4:return r.sent(),[4,qc(this.Yl.yl)];case 5:return r.sent(),[2]}})})},e.prototype.Hl=function(n){return UD(this.persistence,new FD,n.Jl,this.Qt)},e.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new C5(r,n._s)},e.prototype.jl=function(n){var r=vE(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?xi.Ys(this.cacheSizeBytes):xi.ti;return new P5(this.synchronizeTabs,r,n.clientId,i,n._s,GD(),cp(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(n){return new HD},e}(oM),BQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ee(e,t),e.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof M_?(this.Vl._a={eu:MQ.bind(null,r),nu:UQ.bind(null,r),su:jQ.bind(null,r),Uo:FQ.bind(null,r),tu:DQ.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(a){return R(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,LQ(this.Yl._a,a)];case 1:return c.sent(),this.Gl&&(a&&!this.Gl.Er?this.Gl.start(this.bh):a||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Wl=function(n){var r=GD();if(!M_.Kn(r))throw new G(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=vE(n.yu.t,n.yu.persistenceKey);return new M_(r,n._s,i,n.clientId,n.Jl)},e}(sM),r0=function(){function t(){}return t.prototype.initialize=function(e,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=e.bh,this.Vl=e.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!e.synchronizeTabs),this.Vl.fa=function(s){return ON(r._a,s,1)},this.yl.Dh.n_=kQ.bind(null,this._a),[4,t0(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.t_=function(e){return new vQ},t.prototype.Xl=function(e){var n,r=_h(e.yu.t),i=(n=e.yu,new tQ(n));return function(s,a,c){return new iQ(s,a,c)}(e.credentials,i,r)},t.prototype.Zl=function(e){var n,r,i,s,a,c=this;return n=this.bh,r=this.Sh,i=e._s,s=function(l){return ON(c._a,l,0)},a=NN.Kn()?new NN:new J5,new sQ(n,r,i,s,a)},t.prototype.e_=function(e,n){return function(r,i,s,a,c,l,h){var d=new EQ(r,i,s,a,c,l);return h&&(d.kl=!0),d}(this.bh,this.yl,this.gl,this.Vl,e.Jl,e.pl,n)},t.prototype.terminate=function(){return function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=te(e),J("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,Bc(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return N(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ig=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.s_(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.s_(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),qQ=function(){function t(e,n){var r=this;this.r_=e,this.Qt=n,this.metadata=new Xn,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(i){i&&i.sl()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return N(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.c_())]}})})},t.prototype.c_=function(){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.a_()];case 1:return(e=s.sent())===null?[2,null]:(n=this.o_.decode(e),r=Number(n),isNaN(r)&&this.u_("length string ("+n+") is not valid number"),[4,this.h_(r)]);case 2:return i=s.sent(),[2,new yQ(JSON.parse(i),e.length+r)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.a_=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.h_=function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.__()]:[3,3];case 1:r.sent()&&this.u_("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.o_.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.u_=function(e){throw this.r_.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.__=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,this.r_.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),wo=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new G(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new yi(e)}return t.prototype.isEqual=function(e){return this.f_.isEqual(e.f_)},t}(),Ba=function(t){this._methodName=t},qe=function(t){this.d_=t};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t,e,n){if(!n)throw new G(P.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function xE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G(P.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function aM(t,e,n,r){if(e===!0&&r===!0)throw new G(P.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function PN(t){if(!ve.wt(t))throw new G(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function DN(t){if(ve.wt(t))throw new G(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":fe()}function Ke(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=og(t);throw new G(P.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function MN(t,e){if(e<=0)throw new G(P.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LN=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,aM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),FN=new Map,Wf=function(){function t(e,n){this.w_="(lite)",this.E_=new LN({}),this.T_=!1,e instanceof Hp?(this.I_=e,this.m_=new HC):(this.A_=e,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new G(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hp(r.options.projectId)}(e),this.m_=new OK(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new G(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),t.prototype.g_=function(e){if(this.T_)throw new G(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new LN(e),e.credentials!==void 0&&(this.m_=function(n){if(!n)return new HC;switch(n.type){case"gapi":var r=n.client;return Ee(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new xK(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new G(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return e=this,(n=FN.get(e))&&(J("ComponentProvider","Removing Datastore"),FN.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Nt=function(){function t(e,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ds(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),lr=function(){function t(e,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),ds=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,Uc(i))||this).firestore=n,s.D_=i,s.type="collection",s}return ee(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new Nt(this.firestore,null,new ve(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this.D_)},e}(lr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof qe&&(t=t.d_),kE("collection","path",e),t instanceof Wf)return DN(n=Qe.ot.apply(Qe,Vt([e],r))),new ds(t,null,n);if(!(t instanceof Nt||t instanceof ds))throw new G(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return DN(n=Qe.ot.apply(Qe,Vt([t.path],r)).child(Qe.ot(e))),new ds(t.firestore,null,n)}function lp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof qe&&(t=t.d_),arguments.length===1&&(e=HP.u()),kE("doc","path",e),t instanceof Wf)return PN(n=Qe.ot.apply(Qe,Vt([e],r))),new Nt(t,null,new ve(n));if(!(t instanceof Nt||t instanceof ds))throw new G(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return PN(n=t.D_.child(Qe.ot.apply(Qe,Vt([e],r)))),new Nt(t.firestore,t instanceof ds?t.v_:null,new ve(n))}function cM(t,e){return t instanceof qe&&(t=t.d_),e instanceof qe&&(e=e.d_),(t instanceof Nt||t instanceof ds)&&(e instanceof Nt||e instanceof ds)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function lM(t,e){return t instanceof qe&&(t=t.d_),e instanceof qe&&(e=e.d_),t instanceof lr&&e instanceof lr&&t.firestore===e.firestore&&ph(t.C_,e.C_)&&t.v_===e.v_}var sg=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=e,this.N_=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.x_===e.x_&&this.N_===e.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(e){return je(this.x_,e.x_)||je(this.N_,e.N_)},t}(),WQ=/^__.*__$/,HQ=function(){function t(e,n,r){this.data=e,this.Gt=n,this.fieldTransforms=r}return t.prototype.F_=function(e,n){return this.Gt!==null?new As(e,this.data,this.Gt,n,this.fieldTransforms):new mh(e,this.data,n,this.fieldTransforms)},t}(),fM=function(){function t(e,n,r){this.data=e,this.Gt=n,this.fieldTransforms=r}return t.prototype.F_=function(e,n){return new As(e,this.data,this.Gt,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var dM=function(){function t(e,n,r,i,s,a){this.settings=e,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.M_({path:r,B_:!1});return i.q_(e),i},t.prototype.U_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.M_({path:r,B_:!1});return i.O_(),i},t.prototype.Q_=function(e){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(e){return iv(e,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(e){return this.Gt.find(function(n){return e.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return e.nt(n.field)})!==void 0},t.prototype.O_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.q_(this.path.get(e))},t.prototype.q_=function(e){if(e.length===0)throw this.K_("Document fields must not be empty");if(hM(this.k_)&&WQ.test(e))throw this.K_('Document fields cannot begin and end with "__"')},t}(),GQ=function(){function t(e,n,r){this.t=e,this.ignoreUndefinedProperties=n,this.Qt=r||_h(e)}return t.prototype.G_=function(e,n,r,i){return i===void 0&&(i=!1),new dM({k_:e,methodName:n,j_:r,path:yi.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function qa(t){var e=t.p_(),n=_h(t.I_);return new GQ(t.I_,!!e.ignoreUndefinedProperties,n)}function ag(t,e,n,r,i,s){s===void 0&&(s={});var a=t.G_(s.merge||s.mergeFields?2:0,e,n,i);LE("Data must be an object, but it was:",a,r);var c,l,h=gM(r,a);if(s.merge)c=new cc(a.Gt),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,m=s.mergeFields;v<m.length;v++){var y=i0(e,m[v],n);if(!a.contains(y))throw new G(P.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");yM(d,y)||d.push(y)}c=new cc(d),l=a.fieldTransforms.filter(function(b){return c.Tt(b.field)})}else c=null,l=a.fieldTransforms;return new HQ(new bs(h),c,l)}var PE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Ba);function pM(t,e,n){return new dM({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var YQ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.z_=function(n){return new gh(n.path,new dc)},e.prototype.isEqual=function(n){return n instanceof e},e}(Ba),$Q=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).H_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=pM(this,n,!0),i=this.H_.map(function(a){return Wa(a,r)}),s=new Ca(i);return new gh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Ba),zQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).H_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=pM(this,n,!0),i=this.H_.map(function(a){return Wa(a,r)}),s=new Na(i);return new gh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Ba),KQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).J_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=new pc(n.Qt,iD(n.Qt,this.J_));return new gh(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Ba);function DE(t,e,n,r){var i=t.G_(1,e,n);LE("Data must be an object, but it was:",i,r);var s=[],a=new hh;fh(r,function(l,h){var d=FE(e,l,n);h instanceof qe&&(h=h.d_);var v=i.U_(d);if(h instanceof PE)s.push(d);else{var m=Wa(h,v);m!=null&&(s.push(d),a.set(d,m))}});var c=new cc(s);return new fM(a.Pt(),c,i.fieldTransforms)}function ME(t,e,n,r,i,s){var a=t.G_(1,e,n),c=[i0(e,r,n)],l=[i];if(s.length%2!=0)throw new G(P.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(i0(e,s[h])),l.push(s[h+1]);for(var d=[],v=new hh,m=c.length-1;m>=0;--m)if(!yM(d,c[m])){var y=c[m],b=l[m];b instanceof qe&&(b=b.d_);var E=a.U_(y);if(b instanceof PE)d.push(y);else{var T=Wa(b,E);T!=null&&(d.push(y),v.set(y,T))}}var C=new cc(d);return new fM(v.Pt(),C,a.fieldTransforms)}function vM(t,e,n,r){return r===void 0&&(r=!1),Wa(n,t.G_(r?4:3,e))}function Wa(t,e){if(t instanceof qe&&(t=t.d_),mM(t))return LE("Unsupported field value:",e,t),gM(t,e);if(t instanceof Ba)return function(n,r){if(!hM(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&e.k_!==4)throw e.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Wa(c[a],r.Q_(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(n instanceof qe&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iD(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=cr.fromDate(n);return{timestampValue:jf(r.Qt,i)}}if(n instanceof cr)return i=new cr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:jf(r.Qt,i)};if(n instanceof sg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Aa)return{bytesValue:gD(r.Qt,n.I)};if(n instanceof Nt){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:cE(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+og(n))}(t,e)}function gM(t,e){var n={};return $P(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):fh(t,function(r,i){var s=Wa(i,e.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function mM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cr||t instanceof sg||t instanceof Aa||t instanceof Nt||t instanceof Ba)}function LE(t,e,n){if(!mM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=og(n);throw r==="an object"?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function i0(t,e,n){if(e instanceof qe&&(e=e.d_),e instanceof wo)return e.f_;if(typeof e=="string")return FE(t,e);throw iv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var QQ=new RegExp("[~\\*/\\[\\]]");function FE(t,e,n){if(e.search(QQ)>=0)throw iv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(wo.bind.apply(wo,Vt([void 0],e.split("."))))().f_}catch{throw iv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function iv(t,e,n,r,i){var s=r&&!r.et(),a=i!==void 0,c="Function "+e+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new G(P.INVALID_ARGUMENT,(c+=". ")+t+l)}function yM(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XQ=function(){function t(e){this.Sh=e,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new G(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:return c=te(s),l=Bf(c.Qt)+"/documents",h={documents:a.map(function(b){return Vf(c.Qt,b)})},[4,c.Du("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(b){var E=function(T,C){return"found"in C?function(x,D){Ee(!!D.found),D.found.name,D.found.updateTime;var F=Vi(x,D.found.name),X=dn(D.found.updateTime),U=new bs({mapValue:{fields:D.found.fields}});return new ct(F,X,U,{})}(T,C):"missing"in C?function(x,D){Ee(!!D.missing),Ee(!!D.readTime);var F=Vi(x,D.missing),X=dn(D.readTime);return new nn(F,X)}(T,C):fe()}(c.Qt,b);v.set(E.key.toString(),E)}),m=[],[2,(a.forEach(function(b){var E=v.get(b.toString());Ee(!!E),m.push(E)}),m)]}})})}(this.Sh,e)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof nn||s instanceof ct?r.sf(s):fe()}),n)]}})})},t.prototype.set=function(e,n){this.write(n.F_(e,this.jt(e))),this.tf.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.F_(e,this.rf(e)))}catch(r){this.Z_=r}this.tf.add(e.toString())},t.prototype.delete=function(e){this.write(new yh(e,this.jt(e))),this.tf.add(e.toString())},t.prototype.commit=function(){return R(this,void 0,void 0,function(){var e,n=this;return N(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return e=this.Y_,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,s){var a=ve._t(s);n.mutations.push(new sE(a,n.jt(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,c,l;return N(this,function(h){switch(h.label){case 0:return a=te(i),c=Bf(a.Qt)+"/documents",l={writes:s.map(function(d){return Zp(a.Qt,d)})},[4,a.pu("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(e){var n;if(e instanceof ct)n=e.version;else{if(!(e instanceof nn))throw fe();n=Le.min()}var r=this.Y_.get(e.key.toString());if(r){if(!n.isEqual(r))throw new G(P.ABORTED,"Document version changed between two reads.")}else this.Y_.set(e.key.toString(),n)},t.prototype.jt=function(e){var n=this.Y_.get(e.toString());return!this.tf.has(e.toString())&&n?Rn.updateTime(n):Rn.Kt()},t.prototype.rf=function(e){var n=this.Y_.get(e.toString());if(!this.tf.has(e.toString())&&n){if(n.isEqual(Le.min()))throw new G(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(n)}return Rn.exists(!0)},t.prototype.write=function(e){this.nf(),this.mutations.push(e)},t.prototype.nf=function(){},t}(),JQ=function(){function t(e,n,r,i){this._s=e,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new mE(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var e=this;this.Gu.Lu(function(){return R(e,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new XQ(this.Sh),(r=this.uf(n))&&r.then(function(a){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(a)}).catch(function(c){i.hf(c)})})}).catch(function(a){i.hf(a)}),[2]})})})},t.prototype.uf=function(e){try{var n=this.updateFunction(e);return!Ua(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},t.prototype.hf=function(e){var n=this;this.cf>0&&this.lf(e)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(e)},t.prototype.lf=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!lD(n)}return!1},t}(),ZQ=function(){function t(e,n,r){var i=this;this.credentials=e,this._s=n,this.yu=r,this.user=br.UNAUTHENTICATED,this.clientId=HP.u(),this._f=function(){},this.C=new Xn,this.credentials.v(function(s){J("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return t.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.C.promise];case 1:return[2,(e.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(e){var n=this;this._f=e,this.C.promise.then(function(){return n._f(n.user)})},t.prototype.df=function(){if(this._s.wf)throw new G(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this._s.Ef();var n=new Xn;return this._s.Tf(function(){return R(e,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=jc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e){return R(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return t._s.Af(),J("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Jl,t.ff(function(a){r.isEqual(a)||(r=a,t._s.po(function(){return R(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,jD(e.bh,a)];case 1:return c.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function wM(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,UE(t)];case 1:return n=i.sent(),J("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(s){return t._s.po(function(){return function(a,c){return R(this,void 0,void 0,function(){var l,h;return N(this,function(d){switch(d.label){case 0:return(l=te(a))._s.Af(),J("RemoteStore","RemoteStore received new credentials"),h=Cs(l),l.Nh.add(3),[4,Bc(l)];case 1:return d.sent(),h&&l.Oh.set("Unknown"),[4,l.Dh.n_(c)];case 2:return d.sent(),l.Nh.delete(3),[4,wh(l)];case 3:return d.sent(),[2]}})})}(e.yl,s)})}),t.If=e,[2]}})})}function UE(t){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(J("FirestoreClient","Using default OfflineComponentProvider"),[4,_M(t,new oM)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function ug(t){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(J("FirestoreClient","Using default OnlineComponentProvider"),[4,wM(t,new r0)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function UN(t){return UE(t).then(function(e){return e.persistence})}function jE(t){return UE(t).then(function(e){return e.bh})}function jN(t){return ug(t).then(function(e){return e.yl})}function VE(t){return ug(t).then(function(e){return e._a})}function Tc(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,ug(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=TQ.bind(null,e._a),n.Hh=IQ.bind(null,e._a),n)]}})})}function VN(t,e,n){var r=this;n===void 0&&(n={});var i=new Xn;return t._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new ig({next:function(b){l.Ps(function(){return EE(c,y)});var E=b.docs.has(h);!E&&b.fromCache?v.reject(new G(P.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&d&&d.source==="server"?v.reject(new G(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new IE(Uc(h.path),m,{includeMetadataChanges:!0,nl:!0});return bE(c,y)},[4,Tc(t)];case 1:return[2,s.apply(void 0,[a.sent(),t._s,e,n,i])]}})})}),i.promise}function BN(t,e,n){var r=this;n===void 0&&(n={});var i=new Xn;return t._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new ig({next:function(b){l.Ps(function(){return EE(c,y)}),b.fromCache&&d.source==="server"?v.reject(new G(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new IE(h,m,{includeMetadataChanges:!0,nl:!0});return bE(c,y)},[4,Tc(t)];case 1:return[2,s.apply(void 0,[a.sent(),t._s,e,n,i])]}})})}),i.promise}var eX=function(){function t(){var e=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new mE(this,"async_queue_retry"),this.vf=function(){var r=cp();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Gu.qu()};var n=cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(e){this.enqueue(e)},t.prototype.Tf=function(e){this.Sf(),this.Df(e)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var e=cp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(e){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(e)},t.prototype.po=function(e){var n=this;this.Ps(function(){return n.Pf.push(e),n.Cf()})},t.prototype.Cf=function(){return R(this,void 0,void 0,function(){var e,n=this;return N(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!ja(e=r.sent()))throw e;return J("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},t.prototype.Df=function(e){var n=this,r=this.Rf.then(function(){return n.pf=!0,e().catch(function(i){throw n.Vf=i,n.pf=!1,Yt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},t.prototype.Tr=function(e,n,r){var i=this;this.Sf(),this.bf.indexOf(e)>-1&&(n=0);var s=p5.Ts(this,e,n,r,function(a){return i.xf(a)});return this.gf.push(s),s},t.prototype.Sf=function(){this.Vf&&fe()},t.prototype.Af=function(){},t.prototype.Nf=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,e=this.Rf];case 1:n.sent(),n.label=2;case 2:if(e!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.$f=function(e){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===e)return!0;return!1},t.prototype.Ff=function(e){var n=this;return this.Nf().then(function(){n.gf.sort(function(a,c){return a.ds-c.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),e!=="all"&&s.fs===e)break}return n.Nf()})},t.prototype.Of=function(e){this.bf.push(e)},t.prototype.xf=function(e){var n=this.gf.indexOf(e);this.gf.splice(n,1)},t}();function Ic(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var tX=function(){function t(){this.kf={},this.Mf=new Xn,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this.kf={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this.Mf.promise.catch(e)},t.prototype.then=function(e,n){return this.Mf.promise.then(e,n)},t.prototype.ql=function(e){this.Ul(e),this.kf.complete&&this.kf.complete(),this.Mf.resolve(e)},t.prototype.Kl=function(e){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(e),this.Mf.reject(e)},t.prototype.Ul=function(e){this.Lf=e,this.kf.next&&this.kf.next(e)},t}(),nX=-1,Ut=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).Bf=new eX,i.w_="name"in n?n.name:"[DEFAULT]",i}return ee(e,t),e.prototype.b_=function(){return this.qf||bM(this),this.qf.terminate()},e}(Wf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t){return t.qf||bM(t),t.qf.df(),t.qf}function bM(t){var e=t.p_(),n=function(r,i,s){return new CK(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new ZQ(t.m_,t.Bf,n)}function qN(t,e,n){var r=this,i=new Xn;return t._s.enqueue(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,_M(t,n)];case 1:return a.sent(),[4,wM(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===P.FAILED_PRECONDITION||c.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function WN(t){if(t.R_||t.P_)throw new G(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BE=function(){function t(){}return t.prototype.Uf=function(e,n){switch(n===void 0&&(n="none"),ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.Qf(e.timestampValue);case 4:return this.Kf(e,n);case 5:return e.stringValue;case 6:return this.Wf(lc(e.bytesValue));case 7:return this.jf(e.referenceValue);case 8:return this.Gf(e.geoPointValue);case 9:return this.zf(e.arrayValue,n);case 10:return this.Hf(e.mapValue,n);default:throw fe()}},t.prototype.Hf=function(e,n){var r=this,i={};return fh(e.fields||{},function(s,a){i[s]=r.Uf(a,n)}),i},t.prototype.Gf=function(e){return new sg(Gt(e.latitude),Gt(e.longitude))},t.prototype.zf=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.Uf(i,n)})},t.prototype.Kf=function(e,n){switch(n){case"previous":var r=zP(e);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(Mf(e));default:return null}},t.prototype.Qf=function(e){var n=_s(e);return new cr(n.seconds,n.nanos)},t.prototype.Jf=function(e,n){var r=Qe.ot(e);Ee(SD(r));var i=new Hp(r.get(1),r.get(3)),s=new ve(r.Y(5));return i.isEqual(n)||Yt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},t}(),Hf=function(){function t(e,n,r,i,s){this.Yf=e,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Nt(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this.Zf!==null},t.prototype.data=function(){if(this.Zf){if(this.v_){var e=new rX(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(e)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(e){if(this.Zf){var n=this.Zf.data().field(ov("DocumentSnapshot.get",e));if(n!==null)return this.Xf.Uf(n)}},t}(),rX=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Hf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t,e){return typeof e=="string"?FE(t,e):e instanceof qe?e.d_.f_:e.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t){if(Qp(t)&&t.xt.length===0)throw new G(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bh=function(){};function Ko(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.td(t)}return t}var iX=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return ee(e,t),e.prototype.td=function(n){var r=qa(n.firestore),i=function(s,a,c,l,h,d,v){var m;if(h.ut()){if(d==="array-contains"||d==="array-contains-any")throw new G(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){zN(v,d);for(var y=[],b=0,E=v;b<E.length;b++){var T=E[b];y.push($N(l,s,T))}m={arrayValue:{values:y}}}else m=$N(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||zN(v,d),m=vM(c,"where",v,d==="in"||d==="not-in");var C=Sr.create(h,d,m);return function(x,D){if(D.Ct()){var F=rE(x);if(F!==null&&!F.isEqual(D.field))throw new G(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+F.toString()+"' and '"+D.field.toString()+"'");var X=nE(x);X!==null&&IM(x,D.field,X)}var U=function(Te,tt){for(var de=0,vn=Te.filters;de<vn.length;de++){var O=vn[de];if(tt.indexOf(O.op)>=0)return O.op}return null}(x,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(U!==null)throw U===D.op?new G(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+D.op.toString()+"' filter."):new G(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+D.op.toString()+"' filters with '"+U.toString()+"' filters.")}(s,C),C}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new lr(n.firestore,n.v_,function(s,a){var c=s.filters.concat([a]);return new Po(s.path,s.collectionGroup,s.xt.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},e}(bh),oX=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return ee(e,t),e.prototype.td=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new G(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new zu(s,a);return function(l,h){if(nE(l)===null){var d=rE(l);d!==null&&IM(l,d,h.field)}}(i,c),c}(n.C_,this.ed,this.rd);return new lr(n.firestore,n.v_,function(i,s){var a=i.xt.concat([s]);return new Po(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},e}(bh),HN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.od=r,s.ad=i,s}return ee(e,t),e.prototype.td=function(n){return new lr(n.firestore,n.v_,ZP(n.C_,this.od,this.ad))},e}(bh),GN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.ud=r,s.hd=i,s}return ee(e,t),e.prototype.td=function(n){var r=TM(n,this.type,this.ud,this.hd);return new lr(n.firestore,n.v_,function(i,s){return new Po(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},e}(bh),YN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.ud=r,s.hd=i,s}return ee(e,t),e.prototype.td=function(n){var r=TM(n,this.type,this.ud,this.hd);return new lr(n.firestore,n.v_,function(i,s){return new Po(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},e}(bh);function TM(t,e,n,r){if(n[0]instanceof qe&&(n[0]=n[0].d_),n[0]instanceof Hf)return function(s,a,c,l,h){if(!l)throw new G(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,m=hc(s);v<m.length;v++){var y=m[v];if(y.field.ut())d.push($p(a,l.key));else{var b=l.field(y.field);if(Qb(b))throw new G(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var E=y.field.rt();throw new G(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(b)}}return new Ff(d,h)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=qa(t.firestore);return function(s,a,c,l,h,d){var v=s.xt;if(h.length>v.length)throw new G(P.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var b=h[y];if(v[y].field.ut()){if(typeof b!="string")throw new G(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof b);if(!iE(s)&&b.indexOf("/")!==-1)throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+b+"' contains a slash.");var E=s.path.child(Qe.ot(b));if(!ve.wt(E))throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var T=new ve(E);m.push($p(a,T))}else{var C=vM(c,l,b);m.push(C)}}return new Ff(m,d)}(t.C_,t.firestore.I_,i,e,n,r)}function $N(t,e,n){if(n instanceof qe&&(n=n.d_),typeof n=="string"){if(n==="")throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!iE(e)&&n.indexOf("/")!==-1)throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Qe.ot(n));if(!ve.wt(r))throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $p(t,new ve(r))}if(n instanceof Nt)return $p(t,n.S_);throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+og(n)+".")}function zN(t,e){if(!Array.isArray(t)||t.length===0)throw new G(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new G(P.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function IM(t,e,n){if(!n.isEqual(e))throw new G(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sX=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new Aa(n)},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Nt(this.firestore,null,r)},e}(BE),ca=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),bo=function(t){function e(n,r,i,s,a,c){var l=this;return(l=t.call(this,n,r,i,s,c)||this).Yf=n,l.ld=n,l.metadata=a,l}return ee(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new sf(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(ov("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},e}(Hf),sf=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(bo),is=function(){function t(e,n,r,i){this.Yf=e,this.Xf=n,this._d=i,this.metadata=new ca(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._d.docs.forEach(function(i){e.call(n,new sf(r.Yf,r.Xf,i.key,i,new ca(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._d.xe)throw new G(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(c){var l=new sf(r.Yf,r.Xf,c.doc.key,c.doc,new ca(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}var a=r._d.Se;return r._d.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new sf(r.Yf,r.Xf,c.doc.key,c.doc,new ca(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:aX(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this.dd=n),this.fd},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}function SM(t,e){return t instanceof bo&&e instanceof bo?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(t.Zf===null?e.Zf===null:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof is&&e instanceof is&&t.Yf===e.Yf&&lM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ya=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new Aa(n)},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Nt(this.firestore,null,r)},e}(BE);function KN(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ke(t,Nt);var s=Ke(t.firestore,Ut),a=qa(s);return e instanceof qe&&(e=e.d_),Gf(s,[(typeof e=="string"||e instanceof wo?ME(a,"updateDoc",t.S_,e,n,r):DE(a,"updateDoc",t.S_,e)).F_(t.S_,Rn.exists(!0))])}function AM(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof qe&&(t=t.d_);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||Ic(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Ic(i[c])){var m=i[c];i[c]=(e=m.next)===null||e===void 0?void 0:e.bind(m),i[c+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[c+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(t instanceof Nt)h=Ke(t.firestore,Ut),d=Uc(t.S_.path),l={next:function(E){i[c]&&i[c](o0(h,t,E))},error:i[c+1],complete:i[c+2]};else{var y=Ke(t,lr);h=Ke(y.firestore,Ut),d=y.C_;var b=new ya(h);l={next:function(E){i[c]&&i[c](new is(h,b,y,E))},error:i[c+1],complete:i[c+2]},EM(t.C_)}return function(E,T,C,x){var D=this,F=new ig(x),X=new IE(T,F,C);return E._s.Ps(function(){return R(D,void 0,void 0,function(){var U;return N(this,function(Te){switch(Te.label){case 0:return U=bE,[4,Tc(E)];case 1:return[2,U.apply(void 0,[Te.sent(),X])]}})})}),function(){F.i_(),E._s.Ps(function(){return R(D,void 0,void 0,function(){var U;return N(this,function(Te){switch(Te.label){case 0:return U=EE,[4,Tc(E)];case 1:return[2,U.apply(void 0,[Te.sent(),X])]}})})})}}(hn(h),d,v,l)}function Gf(t,e){return function(n,r){var i=this,s=new Xn;return n._s.Ps(function(){return R(i,void 0,void 0,function(){var a;return N(this,function(c){switch(c.label){case 0:return a=SQ,[4,VE(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(hn(t),e)}function o0(t,e,n){var r=n.docs.get(e.S_),i=new ya(t);return new bo(t,i,e.S_,r,new ca(n.hasPendingWrites,n.fromCache),e.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uX=function(){function t(e,n){this.Yf=e,this.wd=n,this.Ed=[],this.Td=!1,this.Id=qa(e)}return t.prototype.set=function(e,n,r){this.md();var i=os(e,this.Yf),s=cg(i.v_,n,r),a=ag(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(a.F_(i.S_,Rn.Kt())),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var a,c=os(e,this.Yf);return n instanceof qe&&(n=n.d_),a=typeof n=="string"||n instanceof wo?ME(this.Id,"WriteBatch.update",c.S_,n,r,i):DE(this.Id,"WriteBatch.update",c.S_,n),this.Ed.push(a.F_(c.S_,Rn.exists(!0))),this},t.prototype.delete=function(e){this.md();var n=os(e,this.Yf);return this.Ed=this.Ed.concat(new yh(n.S_,Rn.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new G(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function os(t,e){if(t instanceof qe&&(t=t.d_),t.firestore!==e)throw new G(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cX=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).Yf=n,i}return ee(e,t),e.prototype.get=function(n){var r=this,i=os(n,this.Yf),s=new ya(this.Yf);return t.prototype.get.call(this,n).then(function(a){return new bo(r.Yf,s,i.S_,a.Zf,new ca(!1,!1),i.v_)})},e}(function(){function t(e,n){this.Yf=e,this.Ad=n,this.Id=qa(e)}return t.prototype.get=function(e){var n=this,r=os(e,this.Yf),i=new sX(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return fe();var a=s[0];if(a instanceof nn)return new Hf(n.Yf,i,r.S_,null,r.v_);if(a instanceof ct)return new Hf(n.Yf,i,a.key,a,r.v_);throw fe()})},t.prototype.set=function(e,n,r){var i=os(e,this.Yf),s=cg(i.v_,n,r),a=ag(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,a),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=os(e,this.Yf);return n instanceof qe&&(n=n.d_),a=typeof n=="string"||n instanceof wo?ME(this.Id,"Transaction.update",c.S_,n,r,i):DE(this.Id,"Transaction.update",c.S_,n),this.Ad.update(c.S_,a),this},t.prototype.delete=function(e){var n=os(e,this.Yf);return this.Ad.delete(n.S_),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){if(typeof Uint8Array>"u")throw new G(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function XN(){if(typeof atob>"u")throw new G(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var CM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.fromBase64String=function(n){return XN(),new e(Aa.fromBase64String(n))},e.fromUint8Array=function(n){return QN(),new e(Aa.fromUint8Array(n))},e.prototype.toBase64=function(){return XN(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return QN(),this.d_.toUint8Array()},e.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(qe),lX=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){WN(r=Ke(r,Ut));var s=hn(r),a=r.p_(),c=new r0;return qN(s,c,new sM(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e.d_,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){WN(n=Ke(n,Ut));var r=hn(n),i=n.p_(),s=new r0;return qN(r,s,new BQ(s,i.cacheSizeBytes))}(e.d_)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n.R_&&!n.P_)throw new G(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Xn;return n.Bf.Tf(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return vc.Kn()?(l=c+"main",[4,vc.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(vE(n.I_,n.w_))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(e.d_)},t}(),qE=function(t){function e(n,r,i){var s=this;return(s=t.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof Hp||(s.Pd=n),s}return ee(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},e.prototype.useEmulator=function(n,r){(function(i,s,a){var c=(i=Ke(i,Wf)).V_();c.host!=="firestore.googleapis.com"&&c.host!==s&&Gp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1}))})(this.d_,n,r)},e.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return R(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,UN(n)];case 1:return i=a.sent(),[4,jN(n)];case 2:return s=a.sent(),[2,(i.yo(!0),function(c){var l=te(c);return l.Nh.delete(0),wh(l)}(s))]}})})})}(hn(Ke(this.d_,Ut)))},e.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return R(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,UN(n)];case 1:return i=a.sent(),[4,jN(n)];case 2:return s=a.sent(),[2,(i.yo(!1),function(c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return(l=te(c)).Nh.add(0),[4,Bc(l)];case 1:return h.sent(),l.Oh.set("Offline"),[2]}})})}(s))]}})})})}(hn(Ke(this.d_,Ut)))},e.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&aM("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new Xn;return n._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=RQ,[4,VE(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(hn(Ke(this.d_,Ut)))},e.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var c=this,l=new ig(a);return s._s.Ps(function(){return R(c,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return h=function(v,m){te(v).Wh.add(m),m.next()},[4,Tc(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})}),function(){l.i_(),s._s.Ps(function(){return R(c,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return h=function(v,m){te(v).Wh.delete(m)},[4,Tc(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})})}}(hn(r=Ke(r,Ut)),Ic(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new G(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){try{return new sv(this,uM(this.d_,n))}catch(r){throw Gn(r,"collection()","Firestore.collection()")}},e.prototype.doc=function(n){try{return new _a(this,lp(this.d_,n))}catch(r){throw Gn(r,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(n){try{return new Eh(this,function(r,i){if(r=Ke(r,Wf),kE("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new G(P.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new lr(r,null,function(s){return new Po(Qe.ct(),s)}(i))}(this.d_,n))}catch(r){throw Gn(r,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,c){var l=this,h=new Xn;return a._s.Ps(function(){return R(l,void 0,void 0,function(){var d;return N(this,function(v){switch(v.label){case 0:return[4,function(m){return ug(m).then(function(y){return y.Sh})}(a)];case 1:return d=v.sent(),new JQ(a._s,d,c,h).run(),[2]}})})}),h.promise}(hn(i),function(a){return s(new cX(i,a))})}(this.d_,function(i){return n(new NM(r,i))})},e.prototype.batch=function(){var n=this;return hn(this.d_),new RM(new uX(this.d_,function(r){return Gf(n.d_,r)}))},e.prototype.loadBundle=function(n){throw new G(P.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(n){throw new G(P.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(qe),lg=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new CM(new Aa(n))},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return _a.yd(r,this.firestore,null)},e}(BE);function fX(t){var e;e=t,hi.setLogLevel(e)}var NM=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i.Xf=new lg(n),i}return ee(e,t),e.prototype.get=function(n){var r=this,i=la(n);return this.d_.get(i).then(function(s){return new Yf(r.Yf,new bo(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},e.prototype.set=function(n,r,i){var s=la(n);return i?(xE("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},e.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=la(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Vt([l,r,i],a)),this},e.prototype.delete=function(n){var r=la(n);return this.d_.delete(r),this},e}(qe),RM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.set=function(n,r,i){var s=la(n);return i?(xE("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},e.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=la(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Vt([l,r,i],a)),this},e.prototype.delete=function(n){var r=la(n);return this.d_.delete(r),this},e.prototype.commit=function(){return this.d_.commit()},e}(qe),fg=function(t){function e(n,r,i){var s=this;return(s=t.call(this,i)||this).Yf=n,s.Xf=r,s}return ee(e,t),e.prototype.fromFirestore=function(n,r){var i=new sf(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new $f(this.Yf,i),r??{})},e.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},e.gd=function(n,r){var i=e.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new e(n,new lg(n),r),s.set(r,a)),a},e}(qe);fg.Vd=new WeakMap;var _a=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).firestore=n,i.Xf=new lg(n),i}return ee(e,t),e.pd=function(n,r,i){if(n.length%2!=0)throw new G(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new e(r,new Nt(r.d_,i,new ve(n)))},e.yd=function(n,r,i){return new e(r,new Nt(r.d_,i,n))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new sv(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){try{return new sv(this.firestore,uM(this.d_,n))}catch(r){throw Gn(r,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(n){return n instanceof qe&&(n=n.d_),n instanceof Nt&&cM(this.d_,n)},e.prototype.set=function(n,r){r=xE("DocumentReference.set",r);try{return function(i,s,a){i=Ke(i,Nt);var c=Ke(i.firestore,Ut),l=cg(i.v_,s,a);return Gf(c,[ag(qa(c),"setDoc",i.S_,l,i.v_!==null,a).F_(i.S_,Rn.Kt())])}(this.d_,n,r)}catch(i){throw Gn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?KN(this.d_,n):KN.apply(void 0,Vt([this.d_,n,r],i))}catch(a){throw Gn(a,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gf(Ke((n=this.d_).firestore,Ut),[new yh(n.S_,Rn.Kt())]);var n},e.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=OM(r),a=kM(r,function(c){return new Yf(n.firestore,new bo(n.firestore.d_,n.Xf,c.S_,c.Zf,c.metadata,n.d_.v_))});return AM(this.d_,s,a)},e.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Ke(i,Nt);var s=Ke(i.firestore,Ut),a=hn(s),c=new ya(s);return function(l,h){var d=this,v=new Xn;return l._s.Ps(function(){return R(d,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(b,E,T){return R(this,void 0,void 0,function(){var C,x;return N(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,function(F,X){var U=te(F);return U.persistence.runTransaction("read document","readonly",function(Te){return U.Tc.Ho(Te,X)})}(b,E)];case 1:return(x=D.sent())instanceof ct?T.resolve(x):x instanceof nn?T.resolve(null):T.reject(new G(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=D.sent(),x=jc(C,"Failed to get document '"+E+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,jE(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.S_).then(function(l){return new bo(s,c,i.S_,l,new ca(l instanceof ct&&l.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Ke(i,Nt);var s=Ke(i.firestore,Ut);return VN(hn(s),i.S_,{source:"server"}).then(function(a){return o0(s,i,a)})}(this.d_):function(i){i=Ke(i,Nt);var s=Ke(i.firestore,Ut);return VN(hn(s),i.S_).then(function(a){return o0(s,i,a)})}(this.d_)).then(function(i){return new Yf(r.firestore,new bo(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(fg.gd(this.firestore,n)))},e}(qe);function Gn(t,e,n){return t.message=t.message.replace(e,n),t}function OM(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Ic(r))return r}return{}}function kM(t,e){var n,r,i;return{next:function(s){i.next&&i.next(e(s))},error:(n=(i=Ic(t[0])?t[0]:Ic(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Yf=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new _a(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(n){return this.d_.data(n)},e.prototype.get=function(n,r){return this.d_.get(n,r)},e.prototype.isEqual=function(n){return SM(this.d_,n.d_)},e}(qe),$f=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(n){return this.d_.data(n)},e}(Yf),Eh=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).firestore=n,i.Xf=new lg(n),i}return ee(e,t),e.prototype.where=function(n,r,i){try{return new e(this.firestore,Ko(this.d_,function(s,a,c){var l=a,h=ov("where",s);return new iX(h,l,c)}(n,r,i)))}catch(s){throw Gn(s,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(n,r){try{return new e(this.firestore,Ko(this.d_,function(i,s){s===void 0&&(s="asc");var a=s,c=ov("orderBy",i);return new oX(c,a)}(n,r)))}catch(i){throw Gn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(n){try{return new e(this.firestore,Ko(this.d_,function(r){return MN("limit",r),new HN("limit",r,"F")}(n)))}catch(r){throw Gn(r,"limit()","Query.limit()")}},e.prototype.limitToLast=function(n){try{return new e(this.firestore,Ko(this.d_,function(r){return MN("limitToLast",r),new HN("limitToLast",r,"L")}(n)))}catch(r){throw Gn(r,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Ko(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new GN("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw Gn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Ko(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new GN("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw Gn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Ko(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new YN("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw Gn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Ko(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new YN("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw Gn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(n){return lM(this.d_,n.d_)},e.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Ke(i,lr);var s=Ke(i.firestore,Ut),a=hn(s),c=new ya(s);return function(l,h){var d=this,v=new Xn;return l._s.Ps(function(){return R(d,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(b,E,T){return R(this,void 0,void 0,function(){var C,x,D,F,X;return N(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,nv(b,E,!0)];case 1:return X=U.sent(),C=new tM(E,X.Rc),x=C.fl(X.documents),D=C.wi(x,!1),T.resolve(D.snapshot),[3,3];case 2:return F=U.sent(),X=jc(F,"Failed to execute query '"+E+" against cache"),T.reject(X),[3,3];case 3:return[2]}})})},[4,jE(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.C_).then(function(l){return new is(s,c,i,l)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Ke(i,lr);var s=Ke(i.firestore,Ut),a=hn(s),c=new ya(s);return BN(a,i.C_,{source:"server"}).then(function(l){return new is(s,c,i,l)})}(this.d_):function(i){i=Ke(i,lr);var s=Ke(i.firestore,Ut),a=hn(s),c=new ya(s);return EM(i.C_),BN(a,i.C_).then(function(l){return new is(s,c,i,l)})}(this.d_)).then(function(i){return new s0(r.firestore,new is(r.firestore.d_,r.Xf,r.d_,i._d))})},e.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=OM(r),a=kM(r,function(c){return new s0(n.firestore,new is(n.firestore.d_,n.Xf,n.d_,c._d))});return AM(this.d_,s,a)},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(fg.gd(this.firestore,n)))},e}(qe),hX=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new $f(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(qe),s0=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Eh(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new $f(n.Yf,r)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new hX(r.Yf,i)})},e.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new $f(i.Yf,s))})},e.prototype.isEqual=function(n){return SM(this.d_,n.d_)},e}(qe),sv=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i.d_=r,i}return ee(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new _a(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new _a(this.firestore,n===void 0?lp(this.d_):lp(this.d_,n))}catch(r){throw Gn(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,s){var a=Ke(i.firestore,Ut),c=lp(i),l=cg(i.v_,s);return Gf(a,[ag(qa(i.firestore),"addDoc",c.S_,l,i.v_!==null,{}).F_(c.S_,Rn.exists(!1))]).then(function(){return c})}(this.d_,n).then(function(i){return new _a(r.firestore,i)})},e.prototype.isEqual=function(n){return cM(this.d_,n.d_)},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(fg.gd(this.firestore,n)))},e}(Eh);function la(t){return t instanceof qe&&(t=t.d_),Ke(t,Nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dX=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.call(this,new(wo.bind.apply(wo,Vt([void 0],n))))||this}return ee(e,t),e.documentId=function(){return new e(yi.ht().rt())},e.prototype.isEqual=function(n){return n instanceof qe&&(n=n.d_),n instanceof wo&&this.d_.f_.isEqual(n.f_)},e}(qe),pX=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.serverTimestamp=function(){var n=new YQ("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new e(n)},e.delete=function(){var n=new PE("deleteField");return n._methodName="FieldValue.delete",new e(n)},e.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new $Q("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new zQ("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(n){var r=function(i){return new KQ("increment",i)}(n);return r._methodName="FieldValue.increment",new e(r)},e.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},e}(qe);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(t){return function(e,n){var r=hn(e=Ke(e,Ut)),i=new tX;return function(s,a,c,l){var h=this,d=function(v,m){return function(y,b){return new qQ(y,b)}(function(y,b){if(y instanceof Uint8Array)return xN(y,b);if(y instanceof ArrayBuffer)return xN(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(c,_h(a));s._s.Ps(function(){return R(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=VQ,[4,VE(s)];case 1:return v.apply(void 0,[m.sent(),d,l]),[2]}})})})}(r,e.I_,n,i),i}(this.d_,t)}function gX(t){var e,n,r=this;return(e=this.d_,n=t,function(i,s){var a=this;return i._s.enqueue(function(){return R(a,void 0,void 0,function(){var c;return N(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=te(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.wo.Ms(m,d)})},[4,jE(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(hn(e=Ke(e,Ut)),n).then(function(i){return i?new lr(e,null,i.query):null})).then(function(i){return i?new Eh(r,i):null})}var mX={Firestore:qE,GeoPoint:sg,Timestamp:cr,Blob:CM,Transaction:NM,WriteBatch:RM,DocumentReference:_a,DocumentSnapshot:Yf,Query:Eh,QueryDocumentSnapshot:$f,QuerySnapshot:s0,CollectionReference:sv,FieldPath:dX,FieldValue:pX,setLogLevel:fX,CACHE_SIZE_UNLIMITED:nX};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(t){(function(e,n){e.INTERNAL.registerComponent(new dr("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},mX)))})(t,function(e,n){return new qE(e,new Ut(e,n),new lX)}),t.registerVersion("@firebase/firestore","2.1.6")}yX(le);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(t){t.prototype.loadBundle=vX,t.prototype.namedQuery=gX}_X(qE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ku=function(t){ee(e,t);function e(n,r,i){var s=t.call(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s.code=n,s.details=i,s}return e}(Error);function wX(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function bX(t,e,n){var r=wX(t),i=r,s=void 0;try{var a=e&&e.error;if(a){var c=a.status;if(typeof c=="string"){if(!JN[c])return new Ku("internal","internal");r=JN[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Ku(r,i,s)}var EX=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return N(this,function(e){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TX="type.googleapis.com/google.protobuf.Int64Value",IX="type.googleapis.com/google.protobuf.UInt64Value";function ZN(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var SX=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return ZN(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case TX:case IX:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?ZN(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AX(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new Ku("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var eR=function(){function t(e,n,r,i,s){var a=this;i===void 0&&(i="us-central1"),this.app_=e,this.fetchImpl=s,this.serializer=new SX,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new EX(n,r),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return l()}});try{var c=new URL(i);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:r["Content-Type"]="application/json",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),[2,{status:0,json:null}];case 4:s=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i.json()];case 6:return s=a.sent(),[3,8];case 7:return a.sent(),[3,8];case 8:return[2,{status:i.status,json:s}]}})})},t.prototype.call=function(e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y,b,E;return N(this,function(T){switch(T.label){case 0:return i=this._url(e),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=T.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=AX(l),d=h.timer,v=h.promise,[4,Promise.race([tR(d,this.postJSON(i,s,a)),v,tR(d,this.cancelAllRequests)])];case 2:if(m=T.sent(),!m)throw new Ku("cancelled","Firebase Functions instance was deleted.");if(y=bX(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Ku("internal","Response is not valid JSON object.");if(b=m.json.data,typeof b>"u"&&(b=m.json.result),typeof b>"u")throw new Ku("internal","Response is missing data field.");return E=this.serializer.decode(b),[2,{data:E}]}})})},t}();function tR(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CX="functions";function NX(t,e){var n={Functions:eR};function r(i,s){var a=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),l=i.getProvider("messaging");return new eR(a,c,l,s,e)}t.INTERNAL.registerComponent(new dr(CX,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var RX="@firebase/functions",OX="0.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */NX(le,fetch.bind(self));le.registerVersion(RX,OX);function kX(t){return Array.prototype.slice.call(t)}function xM(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function hg(t,e,n){var r,i=new Promise(function(s,a){r=t[e].apply(t,n),xM(r).then(s,a)});return i.request=r,i}function xX(t,e,n){var r=hg(t,e,n);return r.then(function(i){if(i)return new zf(i,r.request)})}function Hc(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function WE(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return hg(this[e],i,arguments)})})}function dg(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function PM(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return xX(this[e],i,arguments)})})}function Ha(t){this._index=t}Hc(Ha,"_index",["name","keyPath","multiEntry","unique"]);WE(Ha,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);PM(Ha,"_index",IDBIndex,["openCursor","openKeyCursor"]);function zf(t,e){this._cursor=t,this._request=e}Hc(zf,"_cursor",["direction","key","primaryKey","value"]);WE(zf,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(zf.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),xM(e._request).then(function(r){if(r)return new zf(r,e._request)})})})});function Ki(t){this._store=t}Ki.prototype.createIndex=function(){return new Ha(this._store.createIndex.apply(this._store,arguments))};Ki.prototype.index=function(){return new Ha(this._store.index.apply(this._store,arguments))};Hc(Ki,"_store",["name","keyPath","indexNames","autoIncrement"]);WE(Ki,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);PM(Ki,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);dg(Ki,"_store",IDBObjectStore,["deleteIndex"]);function Th(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}Th.prototype.objectStore=function(){return new Ki(this._tx.objectStore.apply(this._tx,arguments))};Hc(Th,"_tx",["objectStoreNames","mode"]);dg(Th,"_tx",IDBTransaction,["abort"]);function pg(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Th(n)}pg.prototype.createObjectStore=function(){return new Ki(this._db.createObjectStore.apply(this._db,arguments))};Hc(pg,"_db",["name","version","objectStoreNames"]);dg(pg,"_db",IDBDatabase,["deleteObjectStore","close"]);function vg(t){this._db=t}vg.prototype.transaction=function(){return new Th(this._db.transaction.apply(this._db,arguments))};Hc(vg,"_db",["name","version","objectStoreNames"]);dg(vg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Ki,Ha].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=kX(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Ha,Ki].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(e,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function HE(t,e,n){var r=hg(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new pg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new vg(s)})}function L_(t){return hg(indexedDB,"deleteDatabase",[t])}var PX="@firebase/installations",DM="0.4.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MM=1e4,LM="w:"+DM,FM="FIS_v2",DX="https://firebaseinstallations.googleapis.com/v1",MX=60*60*1e3,LX="installations",FX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo,UX=(Qo={},Qo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Qo["not-registered"]="Firebase Installation is not registered.",Qo["installation-not-found"]="Firebase Installation not found.",Qo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Qo["app-offline"]="Could not process request. Application offline.",Qo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Qo),Co=new Ts(LX,FX,UX);function UM(t){return t instanceof Pc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){var e=t.projectId;return DX+"/projects/"+e+"/installations"}function jM(t){return{token:t.token,requestStatus:2,expiresIn:jX(t.expiresIn),creationTime:Date.now()}}function YE(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Co.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function VM(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function BM(t,e){var n=e.refreshToken,r=VM(t);return r.append("Authorization",VX(n)),r}function $E(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function jX(t){return Number(t.replace("s","000"))}function VX(t){return FM+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BX(t,e){var n=e.fid;return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return r=GE(t),i=VM(t),s={fid:n,authVersion:FM,appId:t.appId,sdkVersion:LM},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,$E(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:jM(l.authToken)},[2,h];case 3:return[4,YE("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(t){var e=btoa(String.fromCharCode.apply(String,xo(t)));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WX=/^[cdef][\w-]{21}$/,a0="";function HX(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=GX(t);return WX.test(n)?n:a0}catch{return a0}}function GX(t){var e=qX(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sc=new Map;function WM(t,e){var n=Gc(t);HM(n,e),zX(n,e)}function YX(t,e){GM();var n=Gc(t),r=Sc.get(n);r||(r=new Set,Sc.set(n,r)),r.add(e)}function $X(t,e){var n=Gc(t),r=Sc.get(n);r&&(r.delete(e),r.size===0&&Sc.delete(n),YM())}function HM(t,e){var n,r,i=Sc.get(t);if(i)try{for(var s=Ft(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function zX(t,e){var n=GM();n&&n.postMessage({key:t,fid:e}),YM()}var fa=null;function GM(){return!fa&&"BroadcastChannel"in self&&(fa=new BroadcastChannel("[Firebase] FID Change"),fa.onmessage=function(t){HM(t.data.key,t.data.fid)}),fa}function YM(){Sc.size===0&&fa&&(fa.close(),fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KX="firebase-installations-database",QX=1,Ra="firebase-installations-store",F_=null;function zE(){return F_||(F_=HE(KX,QX,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ra)}})),F_}function av(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return n=Gc(t),[4,zE()];case 1:return r=c.sent(),i=r.transaction(Ra,"readwrite"),s=i.objectStore(Ra),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(e,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==e.fid)&&WM(t,e.fid),[2,e]}})})}function KE(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return e=Gc(t),[4,zE()];case 1:return n=i.sent(),r=n.transaction(Ra,"readwrite"),[4,r.objectStore(Ra).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Ih(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=Gc(t),[4,zE()];case 1:return r=l.sent(),i=r.transaction(Ra,"readwrite"),s=i.objectStore(Ra),[4,s.get(n)];case 2:return a=l.sent(),c=e(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&WM(t,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Ih(t,function(s){var a=XX(s),c=JX(t,a);return e=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==a0?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function XX(t){var e=t||{fid:HX(),registrationStatus:0};return $M(e)}function JX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Co.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=ZX(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:e8(t)}:{installationEntry:e}}function ZX(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,BX(t,e)];case 1:return n=i.sent(),[2,av(t,n)];case 2:return r=i.sent(),UM(r)&&r.customData.serverCode===409?[4,KE(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,av(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function e8(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,nR(t)];case 1:e=s.sent(),s.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,qM(100)];case 3:return s.sent(),[4,nR(t)];case 4:return e=s.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,QE(t)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function nR(t){return Ih(t,function(e){if(!e)throw Co.create("installation-not-found");return $M(e)})}function $M(t){return t8(t)?{fid:t.fid,registrationStatus:0}:t}function t8(t){return t.registrationStatus===1&&t.registrationTime+MM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return N(this,function(m){switch(m.label){case 0:return i=r8(n,e),s=BM(n,e),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:LM}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,$E(function(){return fetch(i,l)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=m.sent(),v=jM(d),[2,v];case 3:return[4,YE("Generate Auth Token",h)];case 4:throw m.sent()}})})}function r8(t,e){var n=e.fid;return GE(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(t,e){return e===void 0&&(e=!1),R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,Ih(t.appConfig,function(c){if(!zM(c))throw Co.create("not-registered");var l=c.authToken;if(!e&&s8(l))return c;if(l.requestStatus===1)return n=i8(t,e),c;if(!navigator.onLine)throw Co.create("app-offline");var h=u8(c);return n=o8(t,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function i8(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,rR(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,qM(100)];case 3:return i.sent(),[4,rR(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,XE(t,e)]:[2,r]}})})}function rR(t){return Ih(t,function(e){if(!zM(e))throw Co.create("not-registered");var n=e.authToken;return c8(n)?ft(ft({},e),{authToken:{requestStatus:0}}):e})}function o8(t,e){return R(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,n8(t,e)];case 1:return n=s.sent(),i=ft(ft({},e),{authToken:n}),[4,av(t.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),UM(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,KE(t.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ft(ft({},e),{authToken:{requestStatus:0}}),[4,av(t.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function zM(t){return t!==void 0&&t.registrationStatus===2}function s8(t){return t.requestStatus===2&&!a8(t)}function a8(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+MX}function u8(t){var e={requestStatus:1,requestTime:Date.now()};return ft(ft({},t),{authToken:e})}function c8(t){return t.requestStatus===1&&t.requestTime+MM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,QE(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):XE(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t,e){return e===void 0&&(e=!1),R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,h8(t.appConfig)];case 1:return r.sent(),[4,XE(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function h8(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,QE(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t,e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=p8(t,e),r=BM(t,e),i={method:"DELETE",headers:r},[4,$E(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,YE("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function p8(t,e){var n=e.fid;return GE(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v8(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,Ih(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Co.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Co.create("app-offline");case 3:return[4,d8(e,n)];case 4:return r.sent(),[4,KE(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t,e){var n=t.appConfig;return YX(n,e),function(){$X(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){var e,n;if(!t||!t.options)throw U_("App Configuration");if(!t.name)throw U_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Ft(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!t.options[a])throw U_(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function U_(t){return Co.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(t){var e="installations";t.INTERNAL.registerComponent(new dr(e,function(n){var r=n.getProvider("app").getImmediate(),i=m8(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return l8(a)},getToken:function(l){return f8(a,l)},delete:function(){return v8(a)},onIdChange:function(l){return g8(a,l)}};return c},"PUBLIC")),t.registerVersion(PX,DM)}y8(le);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,_8=(Qt={},Qt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Qt["only-available-in-window"]="This method is available in a Window context.",Qt["only-available-in-sw"]="This method is available in a service worker context.",Qt["permission-default"]="The notification permission was not granted and dismissed instead.",Qt["permission-blocked"]="The notification permission was not granted and blocked instead.",Qt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Qt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Qt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Qt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Qt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Qt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Qt["token-update-no-token"]="FCM returned no token when updating the user to push.",Qt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Qt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Qt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Qt["invalid-vapid-key"]="The public VAPID key must be a string.",Qt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Qt),it=new Ts("messaging","Messaging",_8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w8="/firebase-messaging-sw.js",b8="/firebase-cloud-messaging-push-scope",uv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",E8="https://fcmregistrations.googleapis.com/v1",KM="FCM_MSG",T8="FirebaseMessaging: ",I8="google.c.a.e",QM="google.c.a.c_id",S8="google.c.a.ts",A8="google.c.a.c_l",C8=1e3,N8=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Oa;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Oa||(Oa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,xo(e)));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R8(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j_="fcm_token_details_db",O8=5,iR="fcm_token_object_Store";function k8(t){return R(this,void 0,void 0,function(){var e,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(c){return c.name}),!n.includes(j_))return[2,null];a.label=2;case 2:return r=null,[4,HE(j_,O8,function(c){return R(s,void 0,void 0,function(){var l,h,d,d,d,v;return N(this,function(m){switch(m.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(iR)?(l=c.transaction.objectStore(iR),[4,l.index("fcmSenderId").get(t)]):[2];case 1:return h=m.sent(),[4,l.clear()];case 2:if(m.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:lo(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:lo(d.auth),p256dh:lo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:lo(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:lo(d.auth),p256dh:lo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:lo(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,L_(j_)];case 4:return a.sent(),[4,L_("fcm_vapid_details_db")];case 5:return a.sent(),[4,L_("undefined")];case 6:return a.sent(),[2,x8(r)?r:null]}})})}function x8(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P8="firebase-messaging-database",D8=1,ka="firebase-messaging-store",V_=null;function JE(){return V_||(V_=HE(P8,D8,function(t){switch(t.oldVersion){case 0:t.createObjectStore(ka)}})),V_}function cv(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return e=eT(t),[4,JE()];case 1:return n=s.sent(),[4,n.transaction(ka).objectStore(ka).get(e)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,k8(t.appConfig.senderId)];case 4:return i=s.sent(),i?[4,ZE(t,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function ZE(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=eT(t),[4,JE()];case 1:return r=s.sent(),i=r.transaction(ka,"readwrite"),[4,i.objectStore(ka).put(e,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,e]}})})}function M8(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return e=eT(t),[4,JE()];case 1:return n=i.sent(),r=n.transaction(ka,"readwrite"),[4,r.objectStore(ka).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function eT(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,nT(t)];case 1:n=h.sent(),r=JM(e),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(tT(t.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),it.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,it.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw it.create("token-subscribe-no-token");return[2,s.token]}})})}function F8(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,nT(t)];case 1:n=h.sent(),r=JM(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(tT(t.appConfig)+"/"+e.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),it.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,it.create("token-update-failed",{errorInfo:l});if(!s.token)throw it.create("token-update-no-token");return[2,s.token]}})})}function XM(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,nT(t)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(tT(t.appConfig)+"/"+e,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,it.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),it.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function tT(t){var e=t.projectId;return E8+"/projects/"+e+"/registrations"}function nT(t){var e=t.appConfig,n=t.installations;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function JM(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,s={web:{endpoint:r,auth:n,p256dh:e}};return i!==uv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U8=7*24*60*60*1e3;function u0(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw it.create("permission-blocked");return[4,V8(e,n)];case 1:return r=c.sent(),[4,cv(t)];case 2:return i=c.sent(),s={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:lo(r.getKey("auth")),p256dh:lo(r.getKey("p256dh"))},i?[3,3]:[2,oR(t,s)];case 3:if(B8(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,XM(t,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,oR(t,s)];case 8:return Date.now()>=i.createTime+U8?[2,j8({token:i.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,i.token];case 9:return[2]}})})}function af(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,cv(t)];case 1:return n=i.sent(),n?[4,XM(t,n.token)]:[3,4];case 2:return i.sent(),[4,M8(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function j8(t,e,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,F8(e,t)];case 1:return r=a.sent(),i=ft(ft({},t),{token:r,createTime:Date.now()}),[4,ZE(e,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,af(e,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function oR(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,L8(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,ZE(t,r)];case 2:return i.sent(),[2,r.token]}})})}function V8(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:R8(e)})]}})})}function B8(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(t){var e={from:t.from,collapseKey:t.collapse_key};return W8(e,t),H8(e,t),G8(e,t),e}function W8(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function H8(t,e){e.data&&(t.data=e.data)}function G8(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t){return typeof t=="object"&&!!t&&QM in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y8=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw it.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,cv(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:uv,i.label=2;case 2:return[2,u0(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return af(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw it.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw it.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw it.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw it.create("only-available-in-window")},t.prototype.onMessage=function(){throw it.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw it.create("only-available-in-window")},t.prototype.onPush=function(e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=z8(e),n?[4,eL()]:(console.debug(T8+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),Q8(r)?[2,X8(r,n)]:(i=!1,n.notification?[4,J8($8(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=q8(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,sR(C8)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,af(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,cv(this.firebaseDependencies)];case 3:return s=a.sent(),[4,af(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,u0(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:uv)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return R(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[KM],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),s=Z8(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,K8(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,sR(N8)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=Oa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},t}();function $8(t){var e,n=ft({},t.notification);return n.data=(e={},e[KM]=t,e),n}function z8(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function K8(t){return R(this,void 0,void 0,function(){var e,n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,eL()];case 1:e=l.sent();try{for(n=Ft(e),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),t.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function Q8(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function X8(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Oa.PUSH_RECEIVED;try{for(var i=Ft(t),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function eL(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function J8(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function Z8(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(ZM(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e7=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Oa.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(n7(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,ZM(r)&&r[I8]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw it.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,u0(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=uv),[2]})})},t.prototype.updateSwReg=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw it.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(w8,{scope:b8})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),it.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,af(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?it.create("permission-blocked"):it.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw it.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw it.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw it.create("invalid-sw-registration");if(this.swRegistration)throw it.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw it.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw it.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=t7(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[QM],message_name:n[A8],message_time:n[S8],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function t7(t){switch(t){case Oa.NOTIFICATION_CLICKED:return"notification_open";case Oa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function n7(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){var e,n;if(!t||!t.options)throw B_("App Configuration Object");if(!t.name)throw B_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var s=Ft(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw B_(c)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function B_(t){return it.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i7="messaging";function o7(t){var e=t.getProvider("app").getImmediate(),n=r7(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),s={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!tL())throw it.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Y8(s):new e7(s)}var s7={isSupported:tL};le.INTERNAL.registerComponent(new dr(i7,o7,"PUBLIC").setServiceProps(s7));function tL(){return self&&"ServiceWorkerGlobalScope"in self?u7():a7()}function a7(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function u7(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL="firebasestorage.googleapis.com",rL="storageBucket",c7=2*60*1e3,l7=10*60*1e3,Bt=function(t){ee(e,t);function e(n,r){var i=t.call(this,q_(n),"Firebase Storage: "+r+" ("+q_(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return e.prototype.codeEquals=function(n){return q_(n)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),e}(Pc),Rt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function q_(t){return"storage/"+t}function rT(){var t="An unknown error occurred, please check the error payload for server response.";return new Bt(Rt.UNKNOWN,t)}function f7(t){return new Bt(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function h7(t){return new Bt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function d7(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(Rt.UNAUTHENTICATED,t)}function p7(t){return new Bt(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function v7(){return new Bt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function iL(){return new Bt(Rt.CANCELED,"User canceled the upload/download.")}function g7(t){return new Bt(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function m7(t){return new Bt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function y7(){return new Bt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+rL+"' property when initializing the app?")}function oL(){return new Bt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _7(){return new Bt(Rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function w7(){return new Bt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uf(t){return new Bt(Rt.INVALID_ARGUMENT,t)}function sL(){return new Bt(Rt.APP_DELETED,"The Firebase app was deleted.")}function aL(t){return new Bt(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cf(t,e){return new Bt(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Wd(t){throw new Bt(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},W_=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function uL(t,e){switch(t){case Ar.RAW:return new W_(cL(e));case Ar.BASE64:case Ar.BASE64URL:return new W_(lL(t,e));case Ar.DATA_URL:return new W_(E7(e),T7(e))}throw rT()}function cL(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function b7(t){var e;try{e=decodeURIComponent(t)}catch{throw cf(Ar.DATA_URL,"Malformed data URL.")}return cL(e)}function lL(t,e){switch(t){case Ar.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw cf(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Ar.BASE64URL:{var s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw cf(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(e)}catch{throw cf(t,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var fL=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw cf(Ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=I7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function E7(t){var e=new fL(t);return e.base64?lL(Ar.BASE64,e.rest):b7(e.rest)}function T7(t){var e=new fL(t);return e.contentType}function I7(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S7={STATE_CHANGED:"state_changed"},Oe={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function H_(t){switch(t){case Oe.RUNNING:case Oe.PAUSING:case Oe.CANCELING:return Yn.RUNNING;case Oe.PAUSED:return Yn.PAUSED;case Oe.SUCCESS:return Yn.SUCCESS;case Oe.CANCELED:return Yn.CANCELED;case Oe.ERROR:return Yn.ERROR;default:return Yn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wa||(wa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A7=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=wa.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=wa.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=wa.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw Wd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Wd("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Wd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Wd("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C7=function(){function t(){}return t.prototype.createXhrIo=function(){return new A7},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N7(t){return t!==void 0}function R7(t){return typeof t=="function"}function O7(t){return typeof t=="object"&&!Array.isArray(t)}function gg(t){return typeof t=="string"||t instanceof String}function aR(t){return iT()&&t instanceof Blob}function iT(){return typeof Blob<"u"}function c0(t,e,n,r){if(r<e)throw new Bt(Rt.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Bt(Rt.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=k7();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(iT())return new Blob(t);throw new Bt(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function P7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oT=function(){function t(e,n){var r=0,i="";aR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(aR(this.data_)){var r=this.data_,i=P7(r,e,n);return i===null?null:new t(i)}else{var s=new Uint8Array(this.data_.buffer,e,n-e);return new t(s,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(iT()){var r=e.map(function(l){return l instanceof t?l.data_:l});return new t(x7.apply(null,r))}else{var i=e.map(function(l){return gg(l)?uL(Ar.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch{return new t(e,"")}if(n.path==="")return n;throw m7(e)},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(tt){tt.path.charAt(tt.path.length-1)==="/"&&(tt.path_=tt.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(tt){tt.path_=decodeURIComponent(tt.path)}for(var h="v[A-Za-z0-9_]+",d=nL.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp("^https?://"+d+"/"+h+"/b/"+r+"/o"+v,"i"),y={bucket:1,path:3},b="(?:storage.googleapis.com|storage.cloud.google.com)",E="([^?#]*)",T=new RegExp("^https?://"+b+"/"+r+"/"+E,"i"),C={bucket:1,path:2},x=[{regex:a,indices:c,postModify:i},{regex:m,indices:y,postModify:l},{regex:T,indices:C,postModify:l}],D=0;D<x.length;D++){var F=x[D],X=F.regex.exec(e);if(X){var U=X[F.indices.bucket],Te=X[F.indices.path];Te||(Te=""),n=new t(U,Te),F.postModify(n);break}}if(n==null)throw g7(e);return n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t){var e;try{e=JSON.parse(t)}catch{return null}return O7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function M7(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function hL(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){return"https://"+nL+"/v0"+t}function dL(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t,e){return e}var qn=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||L7}return t}(),Hd=null;function F7(t){return!gg(t)||t.length<2?t:hL(t)}function mg(){if(Hd)return Hd;var t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(s,a){return F7(a)}var n=new qn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new qn("size");return i.xform=r,t.push(i),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),Hd=t,Hd}function U7(t,e){function n(){var r=t.bucket,i=t.fullPath,s=new ui(r,i);return e.makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function j7(t,e,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,e[a.server])}return U7(r,t),r}function pL(t,e,n){var r=sT(e);if(r===null)return null;var i=r;return j7(t,i,n)}function V7(t,e){var n=sT(e);if(n===null||!gg(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(c){var l=t.bucket,h=t.fullPath,d="/b/"+i(l)+"/o/"+i(h),v=Ns(d),m=dL({alt:"media",token:c});return v+m});return a[0]}function aT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uR="prefixes",cR="items";function B7(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[uR])for(var i=0,s=n[uR];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=t.makeStorageReference(new ui(e,c));r.prefixes.push(l)}if(n[cR])for(var h=0,d=n[cR];h<d.length;h++){var v=d[h],l=t.makeStorageReference(new ui(e,v.name));r.items.push(l)}return r}function q7(t,e,n){var r=sT(n);if(r===null)return null;var i=r;return B7(t,e,i)}var Mo=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t){if(!t)throw rT()}function yg(t,e){function n(r,i){var s=pL(t,i,e);return Bi(s!==null),s}return n}function W7(t,e){function n(r,i){var s=q7(t,e,i);return Bi(s!==null),s}return n}function H7(t,e){function n(r,i){var s=pL(t,i,e);return Bi(s!==null),V7(s,i)}return n}function Yc(t){function e(n,r){var i;return n.getStatus()===401?i=d7():n.getStatus()===402?i=h7(t.bucket):n.getStatus()===403?i=p7(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function _g(t){var e=Yc(t);function n(r,i){var s=e(r,i);return r.getStatus()===404&&(s=f7(t.path)),s.serverResponse=i.serverResponse,s}return n}function vL(t,e,n){var r=e.fullServerUrl(),i=Ns(r),s="GET",a=t.maxOperationRetryTime,c=new Mo(i,s,yg(t,n),a);return c.errorHandler=_g(e),c}function G7(t,e,n,r,i){var s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=e.bucketOnlyServerUrl(),c=Ns(a),l="GET",h=t.maxOperationRetryTime,d=new Mo(c,l,W7(t,e.bucket),h);return d.urlParams=s,d.errorHandler=Yc(e),d}function Y7(t,e,n){var r=e.fullServerUrl(),i=Ns(r),s="GET",a=t.maxOperationRetryTime,c=new Mo(i,s,H7(t,n),a);return c.errorHandler=_g(e),c}function $7(t,e,n,r){var i=e.fullServerUrl(),s=Ns(i),a="PATCH",c=aT(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,d=new Mo(s,a,yg(t,r),h);return d.headers=l,d.body=c,d.errorHandler=_g(e),d}function z7(t,e){var n=e.fullServerUrl(),r=Ns(n),i="DELETE",s=t.maxOperationRetryTime;function a(l,h){}var c=new Mo(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=_g(e),c}function K7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function gL(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=K7(null,e)),r}function Q7(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var D="",F=0;F<2;F++)D=D+Math.random().toString().slice(2);return D}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=gL(e,r,i),d=aT(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+l+"--",y=oT.getBlob(v,r,m);if(y===null)throw oL();var b={name:h.fullPath},E=Ns(s),T="POST",C=t.maxUploadRetryTime,x=new Mo(E,T,yg(t,n),C);return x.urlParams=b,x.headers=a,x.body=y.uploadData(),x.errorHandler=Yc(e),x}var lv=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function uT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Bi(!1)}var r=e||["active"];return Bi(!!n&&r.indexOf(n)!==-1),n}function X7(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a=gL(e,r,i),c={name:a.fullPath},l=Ns(s),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=aT(a,n),m=t.maxUploadRetryTime;function y(E){uT(E);var T;try{T=E.getResponseHeader("X-Goog-Upload-URL")}catch{Bi(!1)}return Bi(gg(T)),T}var b=new Mo(l,h,y,m);return b.urlParams=c,b.headers=d,b.body=v,b.errorHandler=Yc(e),b}function J7(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=uT(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bi(!1)}v||Bi(!1);var m=Number(v);return Bi(!isNaN(m)),new lv(m,r.size(),d==="final")}var a="POST",c=t.maxUploadRetryTime,l=new Mo(n,a,s,c);return l.headers=i,l.errorHandler=Yc(e),l}var lR=256*1024;function Z7(t,e,n,r,i,s,a,c){var l=new lv(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw _7();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,m=v+d,y=d===h?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":l.current},E=r.slice(v,m);if(E===null)throw oL();function T(F,X){var U=uT(F,["active","final"]),Te=l.current+d,tt=r.size(),de;return U==="final"?de=yg(e,s)(F,X):de=null,new lv(Te,tt,U==="final",de)}var C="POST",x=e.maxUploadRetryTime,D=new Mo(n,C,T,x);return D.headers=b,D.body=E.uploadData(),D.progressCallback=c||null,D.errorHandler=Yc(t),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eJ=function(){function t(e,n,r){var i=R7(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}return t}(),tJ=function(){function t(e,n,r,i,s,a){this.bytesTransferred=e,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mL=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=mg(),this._resumable=this._shouldDoResumable(this._blob),this._state=Oe.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(Rt.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(Oe.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(Rt.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(Oe.ERROR))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state===Oe.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case Oe.RUNNING:e(r);break;case Oe.CANCELING:n._transition(Oe.CANCELED);break;case Oe.PAUSING:n._transition(Oe.PAUSED);break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n){var r=X7(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._uploadUrl=s,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r){var i=J7(e._ref.storage,e._ref._location,n,e._blob),s=e._ref.storage.makeRequest(i,r);e._request=s,s.getPromise().then(function(a){a=a,e._request=void 0,e._updateProgress(a.current),e._needToFetchStatus=!1,a.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=lR*this._chunkMultiplier,r=new lv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=Z7(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(l){e._error=l,e._transition(Oe.ERROR);return}var c=e._ref.storage.makeRequest(a,s);e._request=c,c.getPromise().then(function(l){e._increaseMultiplier(),e._request=void 0,e._updateProgress(l.current),l.finalized?(e._metadata=l.metadata,e._transition(Oe.SUCCESS)):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=lR*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n){var r=vL(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._transition(Oe.SUCCESS)},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n){var r=Q7(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._updateProgress(e._blob.size()),e._transition(Oe.SUCCESS)},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case Oe.CANCELING:this._state=e,this._request!==void 0&&this._request.cancel();break;case Oe.PAUSING:this._state=e,this._request!==void 0&&this._request.cancel();break;case Oe.RUNNING:var n=this._state===Oe.PAUSED;this._state=e,n&&(this._notifyObservers(),this._start());break;case Oe.PAUSED:this._state=e,this._notifyObservers();break;case Oe.CANCELED:this._error=iL(),this._state=e,this._notifyObservers();break;case Oe.ERROR:this._state=e,this._notifyObservers();break;case Oe.SUCCESS:this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case Oe.PAUSING:this._transition(Oe.PAUSED);break;case Oe.CANCELING:this._transition(Oe.CANCELED);break;case Oe.RUNNING:this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=H_(this._state);return new tJ(this._transferred,this._blob.size(),e,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var s=this,a=new eJ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(H_(this._state)){case Yn.SUCCESS:Tu(this._resolve.bind(null,this.snapshot))();break;case Yn.CANCELED:case Yn.ERROR:var n=this._reject;Tu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=H_(this._state);switch(n){case Yn.RUNNING:case Yn.PAUSED:e.next&&Tu(e.next.bind(e,this.snapshot))();break;case Yn.SUCCESS:e.complete&&Tu(e.complete.bind(e))();break;case Yn.CANCELED:case Yn.ERROR:e.error&&Tu(e.error.bind(e,this._error))();break;default:e.error&&Tu(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state===Oe.PAUSED||this._state===Oe.PAUSING;return e&&this._transition(Oe.RUNNING),e},t.prototype.pause=function(){var e=this._state===Oe.RUNNING;return e&&this._transition(Oe.PAUSING),e},t.prototype.cancel=function(){var e=this._state===Oe.RUNNING||this._state===Oe.PAUSING;return e&&this._transition(Oe.CANCELING),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wg=function(){function t(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new ui(this._location.bucket,"");return this.newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return hL(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=D7(this._location.path);if(e===null)return null;var n=new ui(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw aL(e)},t}();function nJ(t,e,n){return n===void 0&&(n=null),t._throwIfRoot("uploadBytesResumable"),new mL(t,new oT(e),n)}function rJ(t,e,n,r){n===void 0&&(n=Ar.RAW),t._throwIfRoot("putString");var i=uL(n,e),s=ft({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new mL(t,new oT(i.data,!0),s)}function iJ(t){var e={prefixes:[],items:[]};return yL(t,e).then(function(){return e})}function yL(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,_L(t,r)];case 1:return i=c.sent(),(s=e.prefixes).push.apply(s,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,yL(t,e,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function _L(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return e!=null&&typeof e.maxResults=="number"&&c0("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),r=e||{},i=G7(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function oJ(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=vL(t.storage,t._location,mg()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function sJ(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=$7(t.storage,t._location,e,mg()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}function aJ(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Y7(t.storage,t._location,mg()),[2,t.storage.makeRequest(n,e).getPromise().then(function(i){if(i===null)throw w7();return i})]}})})}function uJ(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=z7(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function wL(t,e){var n=M7(t._location.path,e),r=new ui(t._location.bucket,n);return new wg(t.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gd=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fR=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Gd(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new Gd(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new Gd(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new Gd(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Kf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Kf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kf=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=wL(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new fR(nJ(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){return n===void 0&&(n=Ar.RAW),this._throwIfRoot("putString"),new fR(rJ(this._delegate,e,n,r),this)},t.prototype.listAll=function(){var e=this;return iJ(this._delegate).then(function(n){return new hR(n,e.storage)})},t.prototype.list=function(e){var n=this;return _L(this._delegate,e).then(function(r){return new hR(r,n.storage)})},t.prototype.getMetadata=function(){return oJ(this._delegate)},t.prototype.updateMetadata=function(e){return sJ(this._delegate,e)},t.prototype.getDownloadURL=function(){return aJ(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),uJ(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw aL(e)},t}(),cJ=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lJ(t,e,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];l||(l=!0,e.apply(null,b))}function d(b){i=setTimeout(function(){i=null,t(v,c())},b)}function v(b){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];if(!l){if(b){h.call.apply(h,Vt([null,b],E));return}var C=c()||s;if(C){h.call.apply(h,Vt([null,b],E));return}r<64&&(r*=2);var x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}}var m=!1;function y(b){m||(m=!0,!l&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function fJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hJ=function(){function t(e,n,r,i,s,a,c,l,h,d,v){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,b){m.resolve_=y,m.reject_=b,m.start_()})}return t.prototype.start_=function(){var e=this;function n(i,s){if(s){i(!1,new Yd(!1,null,!0));return}var a=e.pool_.createXhrIo();e.pendingXhr_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;e.progressCallback_!==null&&e.progressCallback_(h,d)}e.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(l){e.progressCallback_!==null&&l.removeUploadProgressListener(c),e.pendingXhr_=null,l=l;var h=l.getErrorCode()===wa.NO_ERROR,d=l.getStatus();if(!h||e.isRetryStatusCode_(d)){var v=l.getErrorCode()===wa.ABORT;i(!1,new Yd(!1,null,v));return}var m=e.successCodes_.indexOf(d)!==-1;i(!0,new Yd(m,l))})}function r(i,s){var a=e.resolve_,c=e.reject_,l=s.xhr;if(s.wasSuccessCode)try{var h=e.callback_(l,l.getResponseText());N7(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=rT();d.serverResponse=l.getResponseText(),e.errorCallback_?c(e.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=e.appDelete_?sL():iL();c(d)}else{var d=v7();c(d)}}this.canceled_?r(!1,new Yd(!1,null,!0)):this.backoffId_=lJ(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&fJ(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s},t}(),Yd=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function dJ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pJ(t){var e=typeof le<"u"?le.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function vJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gJ(t,e,n,r){var i=dL(t.urlParams),s=t.url+i,a=Object.assign({},t.headers);return vJ(a,e),dJ(a,n),pJ(a),new hJ(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){return/^[A-Za-z]+:\/\//.test(t)}function mJ(t,e){return new wg(t,e)}function bL(t,e){if(t instanceof bg){var n=t;if(n._bucket==null)throw y7();var r=new wg(n,n._bucket);return e!=null?bL(r,e):r}else if(e!==void 0){if(e.includes(".."))throw uf('`path` param cannot contain ".."');return wL(t,e)}else return t}function dR(t,e){if(e&&l0(e)){if(t instanceof bg)return mJ(t,e);throw uf("To use ref(service, url), the first argument must be a Storage instance.")}else return bL(t,e)}function yJ(t){var e=t==null?void 0:t[rL];return e==null?null:ui.makeFromBucketSpec(e)}var bg=function(){function t(e,n,r,i){this.app=e,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c7,this._maxUploadRetryTime=l7,this._requests=new Set,i!=null?this._bucket=ui.makeFromBucketSpec(i):this._bucket=yJ(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){c0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){c0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(e){return new wg(this,e)},t.prototype.makeRequest=function(e,n){var r=this;if(this._deleted)return new cJ(sL());var i=gJ(e,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _J=function(){function t(e,n){var r=this;this.app=e,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(l0(e))throw uf("ref() expected a child path but got a URL, use refFromURL instead.");return new Kf(dR(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!l0(e))throw uf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ui.makeFromUrl(e)}catch{throw uf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Kf(dR(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t}(),wJ="@firebase/storage",bJ="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EJ="storage";function TJ(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=new _J(n,new bg(n,r,new C7,e));return i}function IJ(t){var e={TaskState:Yn,TaskEvent:S7,StringFormat:Ar,Storage:bg,Reference:Kf};t.INTERNAL.registerComponent(new dr(EJ,TJ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(wJ,bJ)}IJ(le);var SJ="@firebase/performance",EL="0.4.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TL=EL,AJ="FB-PERF-TRACE-START",CJ="FB-PERF-TRACE-STOP",f0="FB-PERF-TRACE-MEASURE",IL="_wt_",SL="_fp",AL="_fcp",CL="_fid",NL="@firebase/performance/config",RL="@firebase/performance/configexpire",NJ="performance",OL="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,RJ=(yn={},yn["trace started"]="Trace {$traceName} was started before.",yn["trace stopped"]="Trace {$traceName} is not running.",yn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",yn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",yn["no window"]="Window is not available.",yn["no app id"]="App id is not available.",yn["no project id"]="Project id is not available.",yn["no api key"]="Api key is not available.",yn["invalid cc log"]="Attempted to queue invalid cc event",yn["FB not default"]="Performance can only start when Firebase app instance is the default one.",yn["RC response not ok"]="RC response is not ok",yn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",yn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",yn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",yn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",yn),Sn=new Ts(NJ,OL,RJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=new Dc(OL);No.logLevel=De.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G_,kL,Dn=function(){function t(e){if(this.window=e,!e)throw Sn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(No.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):cb()?!0:(No.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return G_===void 0&&(G_=new t(kL)),G_},t}();function OJ(t){kL=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e){var n=t.length-e.length;if(n<0||n>1)throw Sn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y_,tn=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=pR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=pR("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Sn.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Sn.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Sn.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return Y_===void 0&&(Y_=new t),Y_},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xL;function kJ(){var t=tn.getInstance().installationsService.getId();return t.then(function(e){xL=e}),t}function cT(){return xL}function xJ(){var t=tn.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qu;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Qu||(Qu={}));var PJ=["firebase_","google_","ga_"],DJ=new RegExp("^[a-zA-Z]\\w*$"),MJ=40,LJ=100;function FJ(){var t=Dn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function PL(){var t=Dn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Qu.VISIBLE;case"hidden":return Qu.HIDDEN;default:return Qu.UNKNOWN}}function UJ(){var t=Dn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function jJ(t){if(t.length===0||t.length>MJ)return!1;var e=PJ.some(function(n){return t.startsWith(n)});return!e&&!!t.match(DJ)}function VJ(t){return t.length!==0&&t.length<=LJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BJ="0.0.1",qJ={loggingEnabled:!0},WJ="FIREBASE_INSTALLATIONS_AUTH";function HJ(t){var e=GJ();return e?(vR(e),Promise.resolve()):zJ(t).then(vR).then(function(n){return YJ(n)},function(){})}function GJ(){var t=Dn.getInstance().localStorage;if(t){var e=t.getItem(RL);if(!(!e||!KJ(e))){var n=t.getItem(NL);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function YJ(t){var e=Dn.getInstance().localStorage;!t||!e||(e.setItem(NL,JSON.stringify(t)),e.setItem(RL,String(Date.now()+tn.getInstance().configTimeToLive*60*60*1e3)))}var $J="Could not fetch config, will use default configs";function zJ(t){return xJ().then(function(e){var n=tn.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+tn.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:WJ+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:tn.getInstance().getAppId(),app_version:TL,sdk_version:BJ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Sn.create("RC response not ok")})}).catch(function(){No.info($J)})}function vR(t){if(!t)return t;var e=tn.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=qJ.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=gR(e.tracesSamplingRate),e.logNetworkAfterSampling=gR(e.networkRequestsSamplingRate),t}function KJ(t){return Number(t)>Date.now()}function gR(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lT=1,$_;function DL(){return lT=2,$_=$_||XJ(),$_}function QJ(){return lT===3}function XJ(){return JJ().then(function(){return kJ()}).then(function(t){return HJ(t)}).then(function(){return mR()},function(){return mR()})}function JJ(){var t=Dn.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function mR(){lT=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT=10*1e3,ZJ=5.5*1e3,ML=3,e9=1e3,fv=ML,ps=[],yR=!1;function t9(){yR||(Eg(ZJ),yR=!0)}function Eg(t){setTimeout(function(){if(fv!==0){if(!ps.length)return Eg(fT);n9()}},t)}function n9(){var t=ps.splice(0,e9),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:tn.getInstance().logSource,log_event:e};r9(n,t).catch(function(){ps=Vt(t,ps),fv--,No.info("Tries left: "+fv+"."),Eg(fT)})}function r9(t,e){return i9(t).then(function(n){return n.ok||No.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=fT;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ps=Vt(e,ps),No.info("Retry transport request later.")),fv=ML,Eg(i)})}function i9(t){var e=tn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function o9(t){if(!t.eventTime||!t.message)throw Sn.create("invalid cc log");ps=Vt(ps,[t])}function s9(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);o9({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z_;function LL(t,e){z_||(z_=s9(u9)),z_(t,e)}function $d(t){var e=tn.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||Dn.getInstance().requiredApisAvailable()&&(t.isAuto&&PL()!==Qu.VISIBLE||(QJ()?K_(t):DL().then(function(){return K_(t)},function(){return K_(t)})))}function K_(t){if(cT()){var e=tn.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return LL(t,1)},0)}}function a9(t){var e=tn.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return LL(t,0)},0)}}function u9(t,e){return e===0?c9(t):l9(t)}function c9(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:FL(),network_request_metric:e};return JSON.stringify(n)}function l9(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:FL(),trace_metric:e};return JSON.stringify(r)}function FL(){return{google_app_id:tn.getInstance().getAppId(),app_instance_id:cT(),web_app_info:{sdk_version:TL,page_url:Dn.getInstance().getUrl(),service_worker_status:FJ(),visibility_state:PL(),effective_connection_type:UJ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f9=100,h9="_",d9=[SL,AL,CL];function p9(t,e){return t.length===0||t.length>f9?!1:e&&e.startsWith(IL)&&d9.indexOf(t)>-1||!t.startsWith(h9)}function v9(t){var e=Math.floor(t);return e<t&&No.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Dn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=AJ+"-"+this.randomId+"-"+this.name,this.traceStopMark=CJ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||f0+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw Sn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw Sn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$d(this)},t.prototype.record=function(e,n,r){if(e<=0)throw Sn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Sn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=ft({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}$d(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(p9(e,this.name))this.counters[e]=v9(n);else throw Sn.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=jJ(e),i=VJ(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw Sn.create("invalid attribute name",{attributeName:e});if(!i)throw Sn.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return ft({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=Dn.getInstance().getUrl();if(i){var s=new t(IL+i,!0),a=Math.floor(Dn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),e&&e[0]&&(s.setDuration(Math.floor(e[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(SL,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(AL,Math.floor(d.startTime*1e3)),r&&s.putMetric(CL,Math.floor(r*1e3))}$d(s)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);$d(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=Dn.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,s=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],c={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};a9(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g9=5e3;function wR(){cT()&&(setTimeout(function(){return y9()},0),setTimeout(function(){return m9()},0),setTimeout(function(){return _9()},0))}function m9(){for(var t=Dn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];_R(i)}t.setupObserver("resource",_R)}function y9(){var t=Dn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){lf.createOobTrace(e,n),r=void 0},g9);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),lf.createOobTrace(e,n,i))})}else lf.createOobTrace(e,n)}function _9(){for(var t=Dn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];bR(i)}t.setupObserver("measure",bR)}function bR(t){var e=t.name;e.substring(0,f0.length)!==f0&&lf.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w9=function(){function t(e){this.app=e,Dn.getInstance().requiredApisAvailable()&&lb().then(function(n){n&&(t9(),DL().then(wR,wR))}).catch(function(n){No.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new lf(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return tn.getInstance().instrumentationEnabled},set:function(e){tn.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return tn.getInstance().dataCollectionEnabled},set:function(e){tn.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b9="[DEFAULT]";function E9(t){var e=function(n,r){if(n.name!==b9)throw Sn.create("FB not default");if(typeof window>"u")throw Sn.create("no window");return OJ(window),tn.getInstance().firebaseAppInstance=n,tn.getInstance().installationsService=r,new w9(n)};t.INTERNAL.registerComponent(new dr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(SJ,EL)}E9(le);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T9="firebase_id",I9="origin",S9=60*1e3,A9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",UL="https://www.googletagmanager.com/gtag/js",Mn;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(Mn||(Mn={}));var h0;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(h0||(h0={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return i&&i.global?(t(Mn.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:s=c.sent(),a=ft(ft({},r),{send_to:s}),t(Mn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function N9(t,e,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(t(Mn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(Mn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function R9(t,e,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(t(Mn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(Mn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function O9(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return t(Mn.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:l=h.sent(),t(Mn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function k9(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n=new Dc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){var e=document.createElement("script");e.src=UL+"?l="+t,e.async=!0,document.head.appendChild(e)}function P9(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function D9(t,e,n,r,i,s){return R(this,void 0,void 0,function(){var a,c,l,h;return N(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,e[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),_n.error(h),[3,8];case 8:return t(Mn.CONFIG,i,s),[2]}})})}function M9(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v,m,y;return N(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=b.sent(),l=function(E){var T=c.find(function(x){return x.measurementId===E}),C=T&&e[T.appId];if(C)s.push(C);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],m=l(v),m!=="break");h++);b.label=2;case 2:return s.length===0&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return b.sent(),t(Mn.EVENT,r,i||{}),[3,5];case 4:return y=b.sent(),_n.error(y),[3,5];case 5:return[2]}})})}function L9(t,e,n,r){function i(s,a,c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Mn.EVENT?[3,2]:[4,M9(t,e,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==Mn.CONFIG?[3,4]:[4,D9(t,e,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:t(Mn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),_n.error(l),[3,7];case 7:return[2]}})})}return i}function F9(t,e,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=L9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function U9(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(UL))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr,j9=(Zr={},Zr["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Zr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Zr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Zr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Zr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Zr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Zr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Zr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Zr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Zr),Br=new Ts("analytics","Analytics",j9);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V9=30,B9=1e3,q9=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=B9),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),jL=new q9;function W9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function H9(t){var e;return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:W9(r)},s=A9.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((e=l.error)===null||e===void 0)&&e.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Br.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function G9(t,e,n){return e===void 0&&(e=jL),R(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return N(this,function(d){if(r=t.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Br.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Br.create("no-api-key")}return c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new z9,setTimeout(function(){return R(h,void 0,void 0,function(){return N(this,function(v){return l.abort(),[2]})})},n!==void 0?n:S9),[2,VL({appId:i,apiKey:s,measurementId:a},c,l,e)]})})}function VL(t,e,n,r){var i=e.throttleEndTimeMillis,s=e.backoffCount;return r===void 0&&(r=jL),R(this,void 0,void 0,function(){var a,c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:a=t.appId,c=t.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Y9(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return _n.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,H9(t)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!$9(d)){if(r.deleteThrottleMetadata(a),c)return _n.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?Sw(s,r.intervalMillis,V9):Sw(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),_n.debug("Calling attemptFetch again in "+v+" millis"),[2,VL(t,m,n,r)];case 7:return[2]}})})}function Y9(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Br.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $9(t){if(!(t instanceof Pc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var z9=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){return R(this,void 0,void 0,function(){var t;return N(this,function(e){switch(e.label){case 0:return cb()?[3,1]:(_n.warn(Br.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,lb()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),_n.warn(Br.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function Q9(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v;return N(this,function(m){switch(m.label){case 0:return s=G9(t),s.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&_n.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return _n.error(y)}),e.push(s),a=K9().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return c=m.sent(),l=c[0],h=c[1],i("js",new Date),d=(v={},v[I9]="firebase",v.update=!0,v),h!=null&&(d[T9]=h),i(Mn.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so={},ER=[],TR={},fp="dataLayer",BL="gtag",IR,ql,d0=!1;function X9(t){if(d0)throw Br.create("already-initialized");t.dataLayerName&&(fp=t.dataLayerName),t.gtagName&&(BL=t.gtagName)}function J9(){var t=[];if(ub()&&t.push("This is a browser extension environment."),Gk()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Br.create("invalid-analytics-context",{errorInfo:e});_n.warn(n.message)}}function Z9(t,e){J9();var n=t.options.appId;if(!n)throw Br.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_n.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Br.create("no-api-key");if(so[n]!=null)throw Br.create("already-exists",{id:n});if(!d0){U9()||x9(fp),P9(fp);var r=F9(so,ER,TR,fp,BL),i=r.wrappedGtag,s=r.gtagCore;ql=i,IR=s,d0=!0}so[n]=Q9(t,ER,TR,e,IR);var a={app:t,logEvent:function(c,l,h){C9(ql,so[n],c,l,h).catch(function(d){return _n.error(d)})},setCurrentScreen:function(c,l){N9(ql,so[n],c,l).catch(function(h){return _n.error(h)})},setUserId:function(c,l){R9(ql,so[n],c,l).catch(function(h){return _n.error(h)})},setUserProperties:function(c,l){O9(ql,so[n],c,l).catch(function(h){return _n.error(h)})},setAnalyticsCollectionEnabled:function(c){k9(so[n],c).catch(function(l){return _n.error(l)})},INTERNAL:{delete:function(){return delete so[n],Promise.resolve()}}};return a}var eZ="@firebase/analytics",tZ="0.6.2",SR="analytics";function nZ(t){t.INTERNAL.registerComponent(new dr(SR,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return Z9(r,i)},"PUBLIC").setServiceProps({settings:X9,EventName:h0,isSupported:rZ})),t.INTERNAL.registerComponent(new dr("analytics-internal",e,"PRIVATE")),t.registerVersion(eZ,tZ);function e(n){try{var r=n.getProvider(SR).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Br.create("interop-component-reg-failed",{reason:i})}}}nZ(le);function rZ(){return R(this,void 0,void 0,function(){var t;return N(this,function(e){switch(e.label){case 0:if(ub())return[2,!1];if(!Gk())return[2,!1];if(!cb())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,lb()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iZ=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,oZ=(Wn={},Wn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Wn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Wn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Wn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Wn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Wn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Wn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Wn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Wn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Wn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Wn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Wn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Wn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Wn),Vr=new Ts("remoteconfig","Remote Config",oZ);function sZ(t,e){return t instanceof Pc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uZ=function(){function t(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,m,y,b,E,T,C,x,D,F;return N(this,function(X){switch(X.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=X.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:aZ()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(U,Te){e.signal.addEventListener(function(){var tt=new Error("The operation was aborted.");tt.name="AbortError",Te(tt)})}),X.label=2;case 2:return X.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return X.sent(),[4,d];case 4:return m=X.sent(),[3,6];case 5:throw y=X.sent(),b="fetch-client-network",y.name==="AbortError"&&(b="fetch-timeout"),Vr.create(b,{originalErrorMessage:y.message});case 6:if(E=m.status,T=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];D=void 0,X.label=7;case 7:return X.trys.push([7,9,,10]),[4,m.json()];case 8:return D=X.sent(),[3,10];case 9:throw F=X.sent(),Vr.create("fetch-client-parse",{originalErrorMessage:F.message});case 10:C=D.entries,x=D.state,X.label=11;case 11:if(x==="INSTANCE_STATE_UNSPECIFIED"?E=500:x==="NO_CHANGE"?E=304:(x==="NO_TEMPLATE"||x==="EMPTY_CONFIG")&&(C={}),E!==304&&E!==200)throw Vr.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:T,config:C}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cZ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lZ=!1,fZ="",AR=0,hZ=["1","true","t","yes","y","on"],Q_=function(){function t(e,n){n===void 0&&(n=fZ),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?lZ:hZ.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return AR;var e=Number(this._value);return isNaN(e)&&(e=AR),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dZ=60*1e3,pZ=12*60*60*1e3,vZ=function(){function t(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:dZ,minimumFetchIntervalMillis:pZ},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=De.DEBUG;break;case"silent":this._logger.logLevel=De.SILENT;break;default:this._logger.logLevel=De.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return R(this,void 0,void 0,function(){var e,n,r,i=this;return N(this,function(s){switch(s.label){case 0:e=new cZ,setTimeout(function(){return R(i,void 0,void 0,function(){return N(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=sZ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return gZ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new Q_("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new Q_("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Q_("static"))},t}();function gZ(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(ft(ft({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(t,e){var n=t.target.error||void 0;return Vr.create(e,{originalErrorMessage:n&&n.message})}var ea="app_namespace_store",mZ="firebase_remote_config",yZ=1;function _Z(){return new Promise(function(t,e){var n=indexedDB.open(mZ,yZ);n.onerror=function(r){e(hp(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ea,{keyPath:"compositeKey"})}}})}var wZ=function(){function t(e,n,r,i){i===void 0&&(i=_Z()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([ea],"readonly"),l=c.objectStore(ea),h=r.createCompositeKey(e);try{var d=l.get(h);d.onerror=function(v){a(hp(v,"storage-get"))},d.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(Vr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([ea],"readwrite"),h=l.objectStore(ea),d=i.createCompositeKey(e);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(m){c(hp(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){c(Vr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},t.prototype.delete=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([ea],"readwrite"),l=c.objectStore(ea),h=r.createCompositeKey(e);try{var d=l.delete(h);d.onerror=function(v){a(hp(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(Vr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bZ=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function TZ(t){if(!(t instanceof Pc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var IZ=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,EZ(e.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!TZ(a))throw a;return c={throttleEndTimeMillis:Date.now()+Sw(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(e,c)];case 7:return[2]}})})},t}(),CR="@firebase/remote-config",SZ="0.1.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(t){t.INTERNAL.registerComponent(new dr("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(CR,SZ);function e(n,r){var i=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Vr.create("registration-window");var a=i.options,c=a.projectId,l=a.apiKey,h=a.appId;if(!c)throw Vr.create("registration-project-id");if(!l)throw Vr.create("registration-api-key");if(!h)throw Vr.create("registration-app-id");r=r||"firebase";var d=new wZ(h,i.name,r),v=new bZ(d),m=new Dc(CR);m.logLevel=De.ERROR;var y=new uZ(s,t.SDK_VERSION,r,c,l,h),b=new IZ(y,d),E=new iZ(b,d,v,m),T=new vZ(i,E,v,d,m);return T.ensureInitialized(),T}}AZ(le);var CZ="firebase",NZ="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */le.registerVersion(CZ,NZ,"app");var RZ="firebase",OZ="8.2.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);le.registerVersion(RZ,OZ);const kZ={apiKey:"AIzaSyBsTEvv_k5WEyjnQy0Cdhr5ZNyZe2N00js",authDomain:"twitter-clone-inflearn-10fc8.firebaseapp.com",projectId:"twitter-clone-inflearn-10fc8",storageBucket:"twitter-clone-inflearn-10fc8.appspot.com",messagingSenderId:"325557618636",appId:"1:325557618636:web:fe74e1dad3ca4f98af3f69",measurementId:"G-NT1D3TVGPK"};le.initializeApp(kZ);const hT=le.auth(),qL=le.firestore();le.storage();const WL=qL.collection("users"),NR=qL.collection("tweets"),xZ={components:{Trends:L0,Tweet:Ok},setup(){const t=Ur(""),e=sr(()=>rc.state.user),n=Ur([]);return mp(()=>{NR.orderBy("created_at","desc").onSnapshot(i=>{i.docChanges().forEach(s=>{s.type==="added"?n.value.splice(s.newIndex,0,s.doc.data()):s.type==="modified"?n.value.splice(s.oldIndex,1,s.doc.data()):s.type==="removed"&&n.value.splice(s.oldIndex,1)})})}),{currentUser:e,tweetBody:t,tweets:n,onAddTweet:async()=>{try{const i=NR.doc();await i.set({id:i.id,tweet_body:t.value,uid:e.value.uid,created_at:Date.now(),num_comments:0,num_retweets:0,num_likes:0})}catch(i){console.log("on add tweet error on homepage:",i)}},onBeforeMount:mp}}},PZ={class:"flex-1 border-r border-gray-100 overflow-y-auto"},DZ={class:"flex flex-col"},MZ=W("div",{class:"border-b border-gray-100 px-3 py-2 font-bold text-lg"}," 홈 ",-1),LZ={class:"flex px-3 py-3 border-b-8 border-gray-100"},FZ=["src"],UZ={class:"ml-2 flex-1 flex flex-col"},jZ={class:"text-right"},VZ={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function BZ(t,e,n,r,i,s){const a=pi("Tweet"),c=pi("Trends");return Ze(),vt(Xt,null,[W("div",PZ,[W("div",DZ,[MZ,W("div",LZ,[W("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,FZ),W("div",UZ,[Bu(W("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.tweetBody=l),placeholder:"무슨 일이 일어나고 있나요?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none bg-gray-100"},null,512),[[qu,r.tweetBody]]),W("div",jZ,[r.tweetBody.length?(Ze(),vt("button",{key:1,onClick:e[1]||(e[1]=(...l)=>r.onAddTweet&&r.onAddTweet(...l)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗")):(Ze(),vt("button",VZ,"트윗"))])])]),(Ze(!0),vt(Xt,null,gs(r.tweets,l=>(Ze(),Nc(a,{currentUser:r.currentUser,tweet:l,key:l.id},null,8,["currentUser","tweet"]))),128))])]),jt(c)],64)}const Wl=Hr(xZ,[["render",BZ]]),qZ={components:{Trends:L0}},WZ={class:"flex-1 border-r border-gray-100 flex flex-col overflow-y-auto"},HZ=W("div",{class:"p-3 font-bold text-lg border-b border-gray-100"},"알림",-1),GZ=Pa('<div class="flex justify-between"><img src="http://picsum.photos/100" class="w-10 h-10 rounded-full hover:opacity-80"><i class="fas fa-ellipsis-h text-gray-500 hover:bg-blue-50 hover:text-primary p-2 rounded-full w-10 h-10 flex items-center justify-center"></i></div><div><span class="font-bold">정재웅</span> 님의 최근 트윗</div><div class="text-gray-500"> wjelifwjeiflwejfiwejfil wefiwejfiweofjweiof wefjiewjf dcivcvf </div>',3),YZ=[GZ];function $Z(t,e,n,r,i,s){const a=pi("Trends");return Ze(),vt(Xt,null,[W("div",WZ,[HZ,(Ze(),vt(Xt,null,gs(10,c=>W("div",{class:"flex flex-col hover:bg-gray-50 p-3 space-y-2 border-b border-gray-100 cursor-pointer",key:c},YZ)),64))]),jt(a)],64)}const zZ=Hr(qZ,[["render",$Z]]),KZ={},QZ={class:"flex-1 flex"},XZ={class:"w-2/5 border-r border-gray-100 overflow-y-scroll"},JZ={class:"flex flex-col"},ZZ=Pa('<div class="p-3 font-bold text-lg border-b border-gray-100 h-14">쪽지</div><div class="flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100 bg-gray-200"><img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9월 17일</div></div><div class="text-gray-500">메세지</div></div></div>',2),eee=Pa('<img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9월 17일</div></div><div class="text-gray-500">메세지</div></div>',2),tee=[eee],nee={class:"w-3/5 border-r border-gray-100"},ree={class:"flex flex-col h-screen"},iee=Pa('<div class="flex px-3 h-14 items-center border-b border-gray-100"><img src="http://picsum.photos/100" class="w-8 h-8 rounded-full mr-2 cursor-pointer"><div><div class="font-bold text-lg">jjw.com</div><div class="text-sm text-gray-500">@jaewoong</div></div></div><div class="flex flex-col justify-center items-center border-b border-gray-100 hover:bg-gray-50 py-6"><div><span class="font-bold mr-1">jjw.com</span><span class="text-gray-500">@jaewoong</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray-500">팔로우 중</span><span class="font-bold ml-3 mr-1">7</span><span class="text-gray-500">팔로워</span></div><div><span class="text-gray-500 mr-1">가입일</span><span class="text-gray-500">2021년 3월</span></div></div>',2),oee={class:"flex-1 overflow-y-scroll"},see=W("div",{class:"text-right px-3 py-3"},[W("span",{class:"bg-primary text-white px-4 py-2 rounded-full"},"메시지"),W("div",{class:"mt-2 text-xs text-gray-500"},"2023년 9월 17일 오후 7:16")],-1),aee=W("span",{class:"bg-gray-100 px-4 py-2 rounded-full"},"메시지",-1),uee=W("div",{class:"mt-2 text-xs text-gray-500"},"2023년 9월 17일 오후 7:16",-1),cee=[aee,uee],lee=W("div",{class:"flex items-center bg-white border-t border-gray-100 sticky"},[W("input",{type:"text",class:"m-2 py-1 px-4 rounded-full bg-gray-100 resize-none outline-none flex-1",placeholder:"새 쪽지 작성하기",rows:"1"}),W("button",{class:"text-center"},[W("i",{class:"far fa-paper-plane text-primary text-lg hover:bg-blue-50 p-2 rounded-full w-10 h-10"})])],-1);function fee(t,e,n,r,i,s){return Ze(),vt("div",QZ,[W("div",XZ,[W("div",JZ,[ZZ,(Ze(),vt(Xt,null,gs(5,a=>W("div",{class:"flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100",key:a},tee)),64))])]),W("div",nee,[W("div",ree,[iee,W("div",oee,[see,(Ze(),vt(Xt,null,gs(20,a=>W("div",{class:"text-left px-3 py-3",key:a},cee)),64))]),lee])])])}const hee=Hr(KZ,[["render",fee]]),dee={components:{Trends:L0,Tweet:Ok}},pee={class:"flex-1 flex"},vee={class:"flex-1 flex flex-col border-r border-color"},gee=Pa('<div class="px-3 py-1 flex border-b border-color"><button class="mr-4"><i class="fas fa-arrow-left text-primary p-3 rounded-full hover:bg-blue-50"></i></button><div><div class="font-extrabold text-lg">jjw.com</div><div class="text-xs text-gray">393 트윗</div></div></div><div class="bg-gray-300 h-40 relative flex-none"><div class="border-4 border-white bg-gray-100 w-28 h-28 rounded-full absolute -bottom-14 left-2"><img src="http://picsum.photos/200" class="rounded-full hover:opacity-90 hover:opacity-100 cursor-pointer"></div></div><div class="text-right mt-2 mr-2"><button class="border text-sm border-primary text-primary px-3 py-2 hover:bg-blue-50 font-bold rounded-full">프로필 수정</button></div><div class="mx-3 mt-2"><div class="font-extrabold text-lg">jjw.com</div><div class="text-gray">@jaewoong</div><div><span class="text-gray">가입일:</span><span class="text-gray">2011년 10월</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray mr-3">팔로우 중</span><span class="font-bold mr-1">7</span><span class="text-gray">팔로워</span></div></div><div class="flex border-b border-color mt-3"><div class="py-3 text-primary font-bold border-b border-primary text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div></div>',5),mee={class:"overflow-y-auto"};function yee(t,e,n,r,i,s){const a=pi("Tweet"),c=pi("Trends");return Ze(),vt("div",pee,[W("div",vee,[gee,W("div",mee,[(Ze(),vt(Xt,null,gs(10,l=>jt(a,{key:l})),64))])]),jt(c)])}const _ee=Hr(dee,[["render",yee]]),wee={setup(){const t=Ur(""),e=Ur(""),n=Ur(""),r=Ur(!1),i=UO();return{username:t,email:e,password:n,loading:r,onRegister:async()=>{if(!t.value||!e.value||!n.value){alert("유저네임, 이메일, 비밀번호를 모두 입력해주세요.");return}try{r.value=!0;const{user:a}=await hT.createUserWithEmailAndPassword(e.value,n.value);await WL.doc(a.uid).set({uid:a.uid,username:t.value,email:e.value,profile_image_url:"/profile.jpeg",num_tweets:0,followers:[],followings:[],created_at:Date.now()}),alert("회원 가입에 성공하셨습니다. 로그인 해 주세요."),i.push("/login")}catch(a){switch(a.code){case"auth/invalid-email":alert("이메일을 바르게 입력해주세요.");break;case"auth/weak-password":alert("비밀번호가 너무 쉬워요");break;case"auth/email-already-in-use":alert("이미 가입되어 있는 이메일 입니다.");break;default:alert("회원가입 실패");break}}finally{r.value=!1}}}}},bee={class:"flex flex-col items-center space-y-4 mt-10"},Eee=W("span",{class:"text-2xl font-bold"},"트위떠 회원가입",-1),Tee={key:0,class:"w-96 rounded bg-light text-white py-3"},Iee=W("button",{class:"text-primary"},"계정이 이미 있으신가요? 로그인 하기",-1);function See(t,e,n,r,i,s){const a=pi("router-link");return Ze(),vt("div",bee,[W("i",{class:ba(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),Eee,Bu(W("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.username=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"아이디"},null,512),[[qu,r.username]]),Bu(W("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"이메일"},null,512),[[qu,r.email]]),Bu(W("input",{onClick:e[2]||(e[2]=(...c)=>r.onRegister&&r.onRegister(...c)),"onUpdate:modelValue":e[3]||(e[3]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"비밀번호"},null,512),[[qu,r.password]]),r.loading?(Ze(),vt("button",Tee,"회원가입 중입니다.")):(Ze(),vt("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:e[4]||(e[4]=(...c)=>r.onRegister&&r.onRegister(...c))},"회원가입")),jt(a,{to:"/login"},{default:_v(()=>[Iee]),_:1})])}const Aee=Hr(wee,[["render",See]]),Cee={setup(){const t=Ur(""),e=Ur(""),n=Ur(!1),r=UO();return{email:t,password:e,loading:n,onLogin:async()=>{if(!t.value||!e.value){alert("이메일, 비밀번호를 모두 입력해주세요.");return}try{n.value=!0;const{user:s}=await hT.signInWithEmailAndPassword(t.value,e.value),a=await WL.doc(s.uid).get();rc.commit("SET_USER",a.data()),r.replace("/")}catch(s){switch(s.code){case"auth/invalid-email":alert("잘못된 이메일 형식입니다.");break;case"auth/invalid-password":alert("비밀번호가 틀립니다.");break;case"auth/user-not-found":alert("등록되지 않은 이메일입니다.");break;default:alert(s.message);break}}finally{n.value=!1}}}}},Nee={class:"flex flex-col items-center space-y-4 mt-10"},Ree=W("span",{class:"text-2xl font-bold"},"트위떠 로그인",-1),Oee={key:0,class:"w-96 rounded bg-light text-white py-3"},kee=W("button",{class:"text-primary"},"계정이 없으신가요? 회원가입 하기",-1);function xee(t,e,n,r,i,s){const a=pi("router-link");return Ze(),vt("div",Nee,[W("i",{class:ba(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),Ree,Bu(W("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"이메일"},null,512),[[qu,r.email]]),Bu(W("input",{onKeyup:e[1]||(e[1]=J4((...c)=>r.onLogin&&r.onLogin(...c),["enter"])),"onUpdate:modelValue":e[2]||(e[2]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"비밀번호"},null,544),[[qu,r.password]]),r.loading?(Ze(),vt("button",Oee,"로그인 중입니다.")):(Ze(),vt("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:e[3]||(e[3]=(...c)=>r.onLogin&&r.onLogin(...c))},"로그인")),jt(a,{to:"/register"},{default:_v(()=>[kee]),_:1})])}const Pee=Hr(Cee,[["render",xee]]),Dee=[{path:"/",name:"home",component:Wl,title:"홈",icon:"fas fa-home fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"explore",component:Wl,title:"탐색하기",icon:"fas fa-hashtag fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/notifications",name:"notifications",component:zZ,title:"알림",icon:"far fa-bell fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/Messages",name:"messages",component:hee,title:"쪽지",icon:"far fa-envelope fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"bookmarks",component:Wl,title:"북마크",icon:"far fa-bookmark fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"list",component:Wl,title:"리스트",icon:"far fa-list-alt fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/Profile",name:"profile",component:_ee,title:"프로필",icon:"far fa-user fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/",name:"more",component:Wl,title:"더보기",icon:"fas fa-ellipsis-h fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/register",name:"register",component:Aee,meta:{isMenu:!1,layout:"EmptyLayout"}},{path:"/login",name:"login",component:Pee,meta:{isMenu:!1,layout:"EmptyLayout"}}],ff=hB({history:N3(),routes:Dee});ff.beforeEach((t,e,n)=>{const r=rc.state.user;t.matched.some(s=>s.meta.requireAuth)&&!r?n("/login"):n()});const Mee={setup(){const t=Ur([]),e=Ur(!1),n=sr(()=>rc.state.user),r=async()=>{await hT.signOut(),rc.commit("SET_USER",null),await ff.replace("/login")};return mp(()=>{t.value=ff.options.routes}),{routes:t,showProfileDropdown:e,onLogout:r,currentUser:n,router:ff}}},Lee={class:"flex h-screen container mx-auto"},Fee={class:"w-20 xl:w-1/4 pt-5 xl:ml-10 flex flex-col justify-between border-r border-gray-100"},Uee={class:"flex flex-col items-center xl:items-start"},jee=W("i",{class:"fab fa-twitter text-3xl text-primary xl:ml-4 mb-3"},null,-1),Vee={class:"flex flex-col items-start space-y-1"},Bee={key:0},qee={class:"ml-5 text-xl hidden xl:inline-block"},Wee=W("div",{class:"w-full xl:pr-3 flex justify-center"},[W("button",{class:"mt-3 bg-primary text-white xl:w-full w-12 h-12 rounded-full hover:bg-dark"},[W("span",{class:"hidden xl:block"},"트윗"),W("i",{class:"fas fa-plus xl:hidden"})])],-1),Hee={class:"hidden xl:flex mt-3 px-2 py-1 w-full h-12 rounded-full hover:bg-blue-50 items-center"},Gee=["src"],Yee={class:"xl:ml-2 hidden xl:block"},$ee={class:"text-sm font-bold"},zee={class:"text-xs text-gray-500 text-left"},Kee=W("i",{class:"ml-auto fas fa-ellipsis-h fa-fw text-xs hidden xl:block"},null,-1),Qee={class:"xl:hidden flex justify-center"},Xee=["src"],Jee={class:"flex-1 flex h-screen"},Zee={class:"hover:bg-gray-50 border-b border-gray-100 flex p-3 w-full items-center"},ete=["src"],tte={class:"ml-2"},nte={class:"font-bold text-sm"},rte={class:"text-left text-gray-500 text-sm"},ite=W("i",{class:"fas fa-check text-primary ml-auto"},null,-1);function ote(t,e,n,r,i,s){const a=pi("router-link"),c=pi("router-view");return Ze(),vt("div",Lee,[W("div",Fee,[W("div",Uee,[jee,W("div",Vee,[(Ze(!0),vt(Xt,null,gs(r.routes,l=>(Ze(),Nc(a,{to:l.path,class:ba(`hover:text-primary hover:bg-blue-50 px-4 py-2 rounded-full cursor-pointer ${r.router.currentRoute.value.name==l.name?"text-primary":""}`),key:l},{default:_v(()=>[l.meta.isMenu?(Ze(),vt("div",Bee,[W("i",{class:ba(l.icon)},null,2),W("span",qee,Lr(l.title),1)])):gA("",!0)]),_:2},1032,["to","class"]))),128))]),Wee]),W("div",{class:"xl:mr-3 mb-3 relative",onClick:e[0]||(e[0]=l=>r.showProfileDropdown=!0)},[W("button",Hee,[W("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,Gee),W("div",Yee,[W("div",$ee,Lr(r.currentUser.email),1),W("div",zee,"@"+Lr(r.currentUser.username),1)]),Kee]),W("div",Qee,[W("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full cursor-pointer hover:opacity-80"},null,8,Xee)])])]),W("div",Jee,[jt(c)]),r.showProfileDropdown?(Ze(),vt("div",{key:0,class:"absolute bottom-20 left-14 shadow rounded-lg w-60 bg-white",onClick:e[2]||(e[2]=l=>r.showProfileDropdown=!1)},[W("button",Zee,[W("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,ete),W("div",tte,[W("div",nte,Lr(r.currentUser.email),1),W("div",rte,"@"+Lr(r.currentUser.username),1)]),ite]),W("button",{class:"p-3 hover:bg-gray-50 w-full text-left text-sm",onClick:e[1]||(e[1]=(...l)=>r.onLogout&&r.onLogout(...l))}," @"+Lr(r.currentUser.username)+" 계정에서 로그아웃 ",1)])):gA("",!0)])}const ste=Hr(Mee,[["render",ote]]),ate={};function ute(t,e,n,r,i,s){const a=pi("router-view");return Ze(),Nc(a)}const cte=Hr(ate,[["render",ute]]),lte={components:{DefaultLayout:ste,EmptyLayout:cte},setup(){const t=pB();return{layout:sr(()=>t.meta.layout||"DefaultLayout")}}};function fte(t,e,n,r,i,s){return Ze(),Nc(ZV(r.layout))}const hte=Hr(lte,[["render",fte]]),dte={components:{Layout:hte}};function pte(t,e,n,r,i,s){const a=pi("Layout");return Ze(),Nc(a)}const vte=Hr(dte,[["render",pte]]);t3(vte).use(ff).use(rc).mount("#app")});export default gte();
