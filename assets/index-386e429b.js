var Lj=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Let=Lj((Uet,dp)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function v0(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const ve={},Uu=[],li=()=>{},Fj=()=>!1,Uj=/^on[^a-z]/,hv=e=>Uj.test(e),g0=e=>e.startsWith("onUpdate:"),pn=Object.assign,m0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},jj=Object.prototype.hasOwnProperty,$t=(e,t)=>jj.call(e,t),At=Array.isArray,ju=e=>dv(e)==="[object Map]",OR=e=>dv(e)==="[object Set]",xt=e=>typeof e=="function",$e=e=>typeof e=="string",y0=e=>typeof e=="symbol",Ie=e=>e!==null&&typeof e=="object",kR=e=>Ie(e)&&xt(e.then)&&xt(e.catch),xR=Object.prototype.toString,dv=e=>xR.call(e),Vj=e=>dv(e).slice(8,-1),PR=e=>dv(e)==="[object Object]",_0=e=>$e(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zd=v0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Bj=/-(\w)/g,qi=pv(e=>e.replace(Bj,(t,n)=>n?n.toUpperCase():"")),qj=/\B([A-Z])/g,Ma=pv(e=>e.replace(qj,"-$1").toLowerCase()),vv=pv(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ky=pv(e=>e?`on${vv(e)}`:""),hf=(e,t)=>!Object.is(e,t),Kd=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},pp=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},J_=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let J1;const Z_=()=>J1||(J1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function w0(e){if(At(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=$e(r)?Yj(r):w0(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if($e(e))return e;if(Ie(e))return e}}const Wj=/;(?![^(]*\))/g,Hj=/:([^]+)/,Gj=/\/\*[^]*?\*\//g;function Yj(e){const t={};return e.replace(Gj,"").split(Wj).forEach(n=>{if(n){const r=n.split(Hj);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ta(e){let t="";if($e(e))t=e;else if(At(e))for(let n=0;n<e.length;n++){const r=Ta(e[n]);r&&(t+=r+" ")}else if(Ie(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const $j="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zj=v0($j);function DR(e){return!!e||e===""}const br=e=>$e(e)?e:e==null?"":At(e)||Ie(e)&&(e.toString===xR||!xt(e.toString))?JSON.stringify(e,MR,2):String(e),MR=(e,t)=>t&&t.__v_isRef?MR(e,t.value):ju(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:OR(t)?{[`Set(${t.size})`]:[...t.values()]}:Ie(t)&&!At(t)&&!PR(t)?String(t):t;let ni;class Kj{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ni,!t&&ni&&(this.index=(ni.scopes||(ni.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ni;try{return ni=this,t()}finally{ni=n}}}on(){ni=this}off(){ni=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Qj(e,t=ni){t&&t.active&&t.effects.push(e)}function Xj(){return ni}const b0=e=>{const t=new Set(e);return t.w=0,t.n=0,t},LR=e=>(e.w&vs)>0,FR=e=>(e.n&vs)>0,Jj=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=vs},Zj=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];LR(i)&&!FR(i)?i.delete(e):t[n++]=i,i.w&=~vs,i.n&=~vs}t.length=n}},tw=new WeakMap;let Hl=0,vs=1;const ew=30;let ii;const ha=Symbol(""),nw=Symbol("");class E0{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Qj(this,r)}run(){if(!this.active)return this.fn();let t=ii,n=cs;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=ii,ii=this,cs=!0,vs=1<<++Hl,Hl<=ew?Jj(this):Z1(this),this.fn()}finally{Hl<=ew&&Zj(this),vs=1<<--Hl,ii=this.parent,cs=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ii===this?this.deferStop=!0:this.active&&(Z1(this),this.onStop&&this.onStop(),this.active=!1)}}function Z1(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let cs=!0;const UR=[];function Cc(){UR.push(cs),cs=!1}function Nc(){const e=UR.pop();cs=e===void 0?!0:e}function hr(e,t,n){if(cs&&ii){let r=tw.get(e);r||tw.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=b0()),jR(i)}}function jR(e,t){let n=!1;Hl<=ew?FR(e)||(e.n|=vs,n=!LR(e)):n=!e.has(ii),n&&(e.add(ii),ii.deps.push(e))}function Eo(e,t,n,r,i,s){const a=tw.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(n==="length"&&At(e)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),t){case"add":At(e)?_0(n)&&c.push(a.get("length")):(c.push(a.get(ha)),ju(e)&&c.push(a.get(nw)));break;case"delete":At(e)||(c.push(a.get(ha)),ju(e)&&c.push(a.get(nw)));break;case"set":ju(e)&&c.push(a.get(ha));break}if(c.length===1)c[0]&&rw(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);rw(b0(l))}}function rw(e,t){const n=At(e)?e:[...e];for(const r of n)r.computed&&tA(r);for(const r of n)r.computed||tA(r)}function tA(e,t){(e!==ii||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const tV=v0("__proto__,__v_isRef,__isVue"),VR=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(y0)),eV=T0(),nV=T0(!1,!0),rV=T0(!0),eA=iV();function iV(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=te(this);for(let s=0,a=this.length;s<a;s++)hr(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(te)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Cc();const r=te(this)[t].apply(this,n);return Nc(),r}}),e}function oV(e){const t=te(this);return hr(t,"has",e),t.hasOwnProperty(e)}function T0(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?bV:GR:t?HR:WR).get(r))return r;const a=At(r);if(!e){if(a&&$t(eA,i))return Reflect.get(eA,i,s);if(i==="hasOwnProperty")return oV}const c=Reflect.get(r,i,s);return(y0(i)?VR.has(i):tV(i))||(e||hr(r,"get",i),t)?c:Nn(c)?a&&_0(i)?c:c.value:Ie(c)?e?$R(c):Qf(c):c}}const sV=BR(),aV=BR(!0);function BR(e=!1){return function(n,r,i,s){let a=n[r];if(Ju(a)&&Nn(a)&&!Nn(i))return!1;if(!e&&(!vp(i)&&!Ju(i)&&(a=te(a),i=te(i)),!At(n)&&Nn(a)&&!Nn(i)))return a.value=i,!0;const c=At(n)&&_0(r)?Number(r)<n.length:$t(n,r),l=Reflect.set(n,r,i,s);return n===te(s)&&(c?hf(i,a)&&Eo(n,"set",r,i):Eo(n,"add",r,i)),l}}function uV(e,t){const n=$t(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Eo(e,"delete",t,void 0),r}function cV(e,t){const n=Reflect.has(e,t);return(!y0(t)||!VR.has(t))&&hr(e,"has",t),n}function lV(e){return hr(e,"iterate",At(e)?"length":ha),Reflect.ownKeys(e)}const qR={get:eV,set:sV,deleteProperty:uV,has:cV,ownKeys:lV},fV={get:rV,set(e,t){return!0},deleteProperty(e,t){return!0}},hV=pn({},qR,{get:nV,set:aV}),I0=e=>e,gv=e=>Reflect.getPrototypeOf(e);function Id(e,t,n=!1,r=!1){e=e.__v_raw;const i=te(e),s=te(t);n||(t!==s&&hr(i,"get",t),hr(i,"get",s));const{has:a}=gv(i),c=r?I0:n?C0:df;if(a.call(i,t))return c(e.get(t));if(a.call(i,s))return c(e.get(s));e!==i&&e.get(t)}function Sd(e,t=!1){const n=this.__v_raw,r=te(n),i=te(e);return t||(e!==i&&hr(r,"has",e),hr(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Ad(e,t=!1){return e=e.__v_raw,!t&&hr(te(e),"iterate",ha),Reflect.get(e,"size",e)}function nA(e){e=te(e);const t=te(this);return gv(t).has.call(t,e)||(t.add(e),Eo(t,"add",e,e)),this}function rA(e,t){t=te(t);const n=te(this),{has:r,get:i}=gv(n);let s=r.call(n,e);s||(e=te(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?hf(t,a)&&Eo(n,"set",e,t):Eo(n,"add",e,t),this}function iA(e){const t=te(this),{has:n,get:r}=gv(t);let i=n.call(t,e);i||(e=te(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&Eo(t,"delete",e,void 0),s}function oA(){const e=te(this),t=e.size!==0,n=e.clear();return t&&Eo(e,"clear",void 0,void 0),n}function Cd(e,t){return function(r,i){const s=this,a=s.__v_raw,c=te(a),l=t?I0:e?C0:df;return!e&&hr(c,"iterate",ha),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function Nd(e,t,n){return function(...r){const i=this.__v_raw,s=te(i),a=ju(s),c=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,h=i[e](...r),d=n?I0:t?C0:df;return!t&&hr(s,"iterate",l?nw:ha),{next(){const{value:v,done:m}=h.next();return m?{value:v,done:m}:{value:c?[d(v[0]),d(v[1])]:d(v),done:m}},[Symbol.iterator](){return this}}}}function Ho(e){return function(...t){return e==="delete"?!1:this}}function dV(){const e={get(s){return Id(this,s)},get size(){return Ad(this)},has:Sd,add:nA,set:rA,delete:iA,clear:oA,forEach:Cd(!1,!1)},t={get(s){return Id(this,s,!1,!0)},get size(){return Ad(this)},has:Sd,add:nA,set:rA,delete:iA,clear:oA,forEach:Cd(!1,!0)},n={get(s){return Id(this,s,!0)},get size(){return Ad(this,!0)},has(s){return Sd.call(this,s,!0)},add:Ho("add"),set:Ho("set"),delete:Ho("delete"),clear:Ho("clear"),forEach:Cd(!0,!1)},r={get(s){return Id(this,s,!0,!0)},get size(){return Ad(this,!0)},has(s){return Sd.call(this,s,!0)},add:Ho("add"),set:Ho("set"),delete:Ho("delete"),clear:Ho("clear"),forEach:Cd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Nd(s,!1,!1),n[s]=Nd(s,!0,!1),t[s]=Nd(s,!1,!0),r[s]=Nd(s,!0,!0)}),[e,n,t,r]}const[pV,vV,gV,mV]=dV();function S0(e,t){const n=t?e?mV:gV:e?vV:pV;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get($t(n,i)&&i in r?n:r,i,s)}const yV={get:S0(!1,!1)},_V={get:S0(!1,!0)},wV={get:S0(!0,!1)},WR=new WeakMap,HR=new WeakMap,GR=new WeakMap,bV=new WeakMap;function EV(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TV(e){return e.__v_skip||!Object.isExtensible(e)?0:EV(Vj(e))}function Qf(e){return Ju(e)?e:A0(e,!1,qR,yV,WR)}function YR(e){return A0(e,!1,hV,_V,HR)}function $R(e){return A0(e,!0,fV,wV,GR)}function A0(e,t,n,r,i){if(!Ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=TV(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return i.set(e,c),c}function Vu(e){return Ju(e)?Vu(e.__v_raw):!!(e&&e.__v_isReactive)}function Ju(e){return!!(e&&e.__v_isReadonly)}function vp(e){return!!(e&&e.__v_isShallow)}function zR(e){return Vu(e)||Ju(e)}function te(e){const t=e&&e.__v_raw;return t?te(t):e}function KR(e){return pp(e,"__v_skip",!0),e}const df=e=>Ie(e)?Qf(e):e,C0=e=>Ie(e)?$R(e):e;function QR(e){cs&&ii&&(e=te(e),jR(e.dep||(e.dep=b0())))}function XR(e,t){e=te(e);const n=e.dep;n&&rw(n)}function Nn(e){return!!(e&&e.__v_isRef===!0)}function ur(e){return JR(e,!1)}function IV(e){return JR(e,!0)}function JR(e,t){return Nn(e)?e:new SV(e,t)}class SV{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:te(t),this._value=n?t:df(t)}get value(){return QR(this),this._value}set value(t){const n=this.__v_isShallow||vp(t)||Ju(t);t=n?t:te(t),hf(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:df(t),XR(this))}}function Bu(e){return Nn(e)?e.value:e}const AV={get:(e,t,n)=>Bu(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Nn(i)&&!Nn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function ZR(e){return Vu(e)?e:new Proxy(e,AV)}class CV{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new E0(t,()=>{this._dirty||(this._dirty=!0,XR(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=te(this);return QR(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function NV(e,t,n=!1){let r,i;const s=xt(e);return s?(r=e,i=li):(r=e.get,i=e.set),new CV(r,i,s||!i,n)}function ls(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){mv(s,t,n)}return i}function fi(e,t,n,r){if(xt(e)){const s=ls(e,t,n,r);return s&&kR(s)&&s.catch(a=>{mv(a,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(fi(e[s],t,n,r));return i}function mv(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,a,c)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){ls(l,null,10,[e,a,c]);return}}RV(e,n,i,r)}function RV(e,t,n,r=!0){console.error(e)}let pf=!1,iw=!1;const Cn=[];let Di=0;const qu=[];let uo=null,ea=0;const tO=Promise.resolve();let N0=null;function eO(e){const t=N0||tO;return e?t.then(this?e.bind(this):e):t}function OV(e){let t=Di+1,n=Cn.length;for(;t<n;){const r=t+n>>>1;vf(Cn[r])<e?t=r+1:n=r}return t}function R0(e){(!Cn.length||!Cn.includes(e,pf&&e.allowRecurse?Di+1:Di))&&(e.id==null?Cn.push(e):Cn.splice(OV(e.id),0,e),nO())}function nO(){!pf&&!iw&&(iw=!0,N0=tO.then(iO))}function kV(e){const t=Cn.indexOf(e);t>Di&&Cn.splice(t,1)}function xV(e){At(e)?qu.push(...e):(!uo||!uo.includes(e,e.allowRecurse?ea+1:ea))&&qu.push(e),nO()}function sA(e,t=pf?Di+1:0){for(;t<Cn.length;t++){const n=Cn[t];n&&n.pre&&(Cn.splice(t,1),t--,n())}}function rO(e){if(qu.length){const t=[...new Set(qu)];if(qu.length=0,uo){uo.push(...t);return}for(uo=t,uo.sort((n,r)=>vf(n)-vf(r)),ea=0;ea<uo.length;ea++)uo[ea]();uo=null,ea=0}}const vf=e=>e.id==null?1/0:e.id,PV=(e,t)=>{const n=vf(e)-vf(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function iO(e){iw=!1,pf=!0,Cn.sort(PV);const t=li;try{for(Di=0;Di<Cn.length;Di++){const n=Cn[Di];n&&n.active!==!1&&ls(n,null,14)}}finally{Di=0,Cn.length=0,rO(),pf=!1,N0=null,(Cn.length||qu.length)&&iO()}}function DV(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||ve;let i=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:m}=r[d]||ve;m&&(i=n.map(y=>$e(y)?y.trim():y)),v&&(i=n.map(J_))}let c,l=r[c=Ky(t)]||r[c=Ky(qi(t))];!l&&s&&(l=r[c=Ky(Ma(t))]),l&&fi(l,e,6,i);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,fi(h,e,6,i)}}function oO(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},c=!1;if(!xt(e)){const l=h=>{const d=oO(h,t,!0);d&&(c=!0,pn(a,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!c?(Ie(e)&&r.set(e,null),null):(At(s)?s.forEach(l=>a[l]=null):pn(a,s),Ie(e)&&r.set(e,a),a)}function yv(e,t){return!e||!hv(t)?!1:(t=t.slice(2).replace(/Once$/,""),$t(e,t[0].toLowerCase()+t.slice(1))||$t(e,Ma(t))||$t(e,t))}let Vr=null,sO=null;function gp(e){const t=Vr;return Vr=e,sO=e&&e.type.__scopeId||null,t}function _v(e,t=Vr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&mA(-1);const s=gp(t);let a;try{a=e(...i)}finally{gp(s),r._d&&mA(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Qy(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:m,setupState:y,ctx:b,inheritAttrs:E}=e;let T,C;const x=gp(e);try{if(n.shapeFlag&4){const F=i||r;T=Pi(d.call(F,F,v,s,y,m,b)),C=l}else{const F=t;T=Pi(F.length>1?F(s,{attrs:l,slots:c,emit:h}):F(s,null)),C=t.props?l:MV(l)}}catch(F){Xl.length=0,mv(F,e,1),T=je(Ia)}let D=T;if(C&&E!==!1){const F=Object.keys(C),{shapeFlag:X}=D;F.length&&X&7&&(a&&F.some(g0)&&(C=LV(C,a)),D=Zu(D,C))}return n.dirs&&(D=Zu(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),T=D,gp(x),T}const MV=e=>{let t;for(const n in e)(n==="class"||n==="style"||hv(n))&&((t||(t={}))[n]=e[n]);return t},LV=(e,t)=>{const n={};for(const r in e)(!g0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function FV(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:c,patchFlag:l}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?aA(r,a,h):!!a;if(l&8){const d=t.dynamicProps;for(let v=0;v<d.length;v++){const m=d[v];if(a[m]!==r[m]&&!yv(h,m))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?aA(r,a,h):!0:!!a;return!1}function aA(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!yv(n,s))return!0}return!1}function UV({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const jV=e=>e.__isSuspense;function VV(e,t){t&&t.pendingBranch?At(e)?t.effects.push(...e):t.effects.push(e):xV(e)}const Rd={};function Wu(e,t,n){return aO(e,t,n)}function aO(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=ve){var c;const l=Xj()===((c=wn)==null?void 0:c.scope)?wn:null;let h,d=!1,v=!1;if(Nn(e)?(h=()=>e.value,d=vp(e)):Vu(e)?(h=()=>e,r=!0):At(e)?(v=!0,d=e.some(F=>Vu(F)||vp(F)),h=()=>e.map(F=>{if(Nn(F))return F.value;if(Vu(F))return oa(F);if(xt(F))return ls(F,l,2)})):xt(e)?t?h=()=>ls(e,l,2):h=()=>{if(!(l&&l.isUnmounted))return m&&m(),fi(e,l,3,[y])}:h=li,t&&r){const F=h;h=()=>oa(F())}let m,y=F=>{m=x.onStop=()=>{ls(F,l,4)}},b;if(mf)if(y=li,t?n&&fi(t,l,3,[h(),v?[]:void 0,y]):h(),i==="sync"){const F=x4();b=F.__watcherHandles||(F.__watcherHandles=[])}else return li;let E=v?new Array(e.length).fill(Rd):Rd;const T=()=>{if(x.active)if(t){const F=x.run();(r||d||(v?F.some((X,j)=>hf(X,E[j])):hf(F,E)))&&(m&&m(),fi(t,l,3,[F,E===Rd?void 0:v&&E[0]===Rd?[]:E,y]),E=F)}else x.run()};T.allowRecurse=!!t;let C;i==="sync"?C=T:i==="post"?C=()=>ir(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),C=()=>R0(T));const x=new E0(h,C);t?n?T():E=x.run():i==="post"?ir(x.run.bind(x),l&&l.suspense):x.run();const D=()=>{x.stop(),l&&l.scope&&m0(l.scope.effects,x)};return b&&b.push(D),D}function BV(e,t,n){const r=this.proxy,i=$e(e)?e.includes(".")?uO(r,e):()=>r[e]:e.bind(r,r);let s;xt(t)?s=t:(s=t.handler,n=t);const a=wn;tc(this);const c=aO(i,s.bind(r),n);return a?tc(a):pa(),c}function uO(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function oa(e,t){if(!Ie(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Nn(e))oa(e.value,t);else if(At(e))for(let n=0;n<e.length;n++)oa(e[n],t);else if(OR(e)||ju(e))e.forEach(n=>{oa(n,t)});else if(PR(e))for(const n in e)oa(e[n],t);return e}function da(e,t){const n=Vr;if(n===null)return e;const r=Tv(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,c,l,h=ve]=t[s];a&&(xt(a)&&(a={mounted:a,updated:a}),a.deep&&oa(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return e}function Qs(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(Cc(),fi(l,n,8,[e.el,c,e,t]),Nc())}}function cO(e,t){return xt(e)?(()=>pn({name:e.name},t,{setup:e}))():e}const Qd=e=>!!e.type.__asyncLoader,lO=e=>e.type.__isKeepAlive;function qV(e,t){fO(e,"a",t)}function WV(e,t){fO(e,"da",t)}function fO(e,t,n=wn){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(wv(t,r,n),n){let i=n.parent;for(;i&&i.parent;)lO(i.parent.vnode)&&HV(r,t,n,i),i=i.parent}}function HV(e,t,n,r){const i=wv(t,e,r,!0);hO(()=>{m0(r[t],i)},n)}function wv(e,t,n=wn,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;Cc(),tc(n);const c=fi(t,n,e,a);return pa(),Nc(),c});return r?i.unshift(s):i.push(s),s}}const Ro=e=>(t,n=wn)=>(!mf||e==="sp")&&wv(e,(...r)=>t(...r),n),mp=Ro("bm"),GV=Ro("m"),YV=Ro("bu"),$V=Ro("u"),zV=Ro("bum"),hO=Ro("um"),KV=Ro("sp"),QV=Ro("rtg"),XV=Ro("rtc");function JV(e,t=wn){wv("ec",e,t)}const O0="components";function qr(e,t){return pO(O0,e,!0,t)||e}const dO=Symbol.for("v-ndc");function ZV(e){return $e(e)?pO(O0,e,!1)||e:e||dO}function pO(e,t,n=!0,r=!1){const i=Vr||wn;if(i){const s=i.type;if(e===O0){const c=R4(s,!1);if(c&&(c===t||c===qi(t)||c===vv(qi(t))))return s}const a=uA(i[e]||s[e],t)||uA(i.appContext[e],t);return!a&&r?s:a}}function uA(e,t){return e&&(e[t]||e[qi(t)]||e[vv(qi(t))])}function gs(e,t,n,r){let i;const s=n&&n[r];if(At(e)||$e(e)){i=new Array(e.length);for(let a=0,c=e.length;a<c;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(Ie(e))if(e[Symbol.iterator])i=Array.from(e,(a,c)=>t(a,c,void 0,s&&s[c]));else{const a=Object.keys(e);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=t(e[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}const ow=e=>e?SO(e)?Tv(e)||e.proxy:ow(e.parent):null,Ql=pn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ow(e.parent),$root:e=>ow(e.root),$emit:e=>e.emit,$options:e=>k0(e),$forceUpdate:e=>e.f||(e.f=()=>R0(e.update)),$nextTick:e=>e.n||(e.n=eO.bind(e.proxy)),$watch:e=>BV.bind(e)}),Xy=(e,t)=>e!==ve&&!e.__isScriptSetup&&$t(e,t),t4={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=e;let h;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Xy(r,t))return a[t]=1,r[t];if(i!==ve&&$t(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&$t(h,t))return a[t]=3,s[t];if(n!==ve&&$t(n,t))return a[t]=4,n[t];sw&&(a[t]=0)}}const d=Ql[t];let v,m;if(d)return t==="$attrs"&&hr(e,"get",t),d(e);if((v=c.__cssModules)&&(v=v[t]))return v;if(n!==ve&&$t(n,t))return a[t]=4,n[t];if(m=l.config.globalProperties,$t(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Xy(i,t)?(i[t]=n,!0):r!==ve&&$t(r,t)?(r[t]=n,!0):$t(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||e!==ve&&$t(e,a)||Xy(t,a)||(c=s[0])&&$t(c,a)||$t(r,a)||$t(Ql,a)||$t(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$t(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function cA(e){return At(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let sw=!0;function e4(e){const t=k0(e),n=e.proxy,r=e.ctx;sw=!1,t.beforeCreate&&lA(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:m,beforeUpdate:y,updated:b,activated:E,deactivated:T,beforeDestroy:C,beforeUnmount:x,destroyed:D,unmounted:F,render:X,renderTracked:j,renderTriggered:Tt,errorCaptured:ee,serverPrefetch:dt,expose:vn,inheritAttrs:O,components:bi,directives:In,filters:Rs}=t;if(h&&n4(h,r,null),a)for(const Gt in a){const Yt=a[Gt];xt(Yt)&&(r[Gt]=Yt.bind(n))}if(i){const Gt=i.call(n,n);Ie(Gt)&&(e.data=Qf(Gt))}if(sw=!0,s)for(const Gt in s){const Yt=s[Gt],Se=xt(Yt)?Yt.bind(n,n):xt(Yt.get)?Yt.get.bind(n,n):li,Pr=!xt(Yt)&&xt(Yt.set)?Yt.set.bind(n):li,gn=sr({get:Se,set:Pr});Object.defineProperty(r,Gt,{enumerable:!0,configurable:!0,get:()=>gn.value,set:sn=>gn.value=sn})}if(c)for(const Gt in c)vO(c[Gt],r,n,Gt);if(l){const Gt=xt(l)?l.call(n):l;Reflect.ownKeys(Gt).forEach(Yt=>{Xd(Yt,Gt[Yt])})}d&&lA(d,e,"c");function ye(Gt,Yt){At(Yt)?Yt.forEach(Se=>Gt(Se.bind(n))):Yt&&Gt(Yt.bind(n))}if(ye(mp,v),ye(GV,m),ye(YV,y),ye($V,b),ye(qV,E),ye(WV,T),ye(JV,ee),ye(XV,j),ye(QV,Tt),ye(zV,x),ye(hO,F),ye(KV,dt),At(vn))if(vn.length){const Gt=e.exposed||(e.exposed={});vn.forEach(Yt=>{Object.defineProperty(Gt,Yt,{get:()=>n[Yt],set:Se=>n[Yt]=Se})})}else e.exposed||(e.exposed={});X&&e.render===li&&(e.render=X),O!=null&&(e.inheritAttrs=O),bi&&(e.components=bi),In&&(e.directives=In)}function n4(e,t,n=li){At(e)&&(e=aw(e));for(const r in e){const i=e[r];let s;Ie(i)?"default"in i?s=hi(i.from||r,i.default,!0):s=hi(i.from||r):s=hi(i),Nn(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function lA(e,t,n){fi(At(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function vO(e,t,n,r){const i=r.includes(".")?uO(n,r):()=>n[r];if($e(e)){const s=t[e];xt(s)&&Wu(i,s)}else if(xt(e))Wu(i,e.bind(n));else if(Ie(e))if(At(e))e.forEach(s=>vO(s,t,n,r));else{const s=xt(e.handler)?e.handler.bind(n):t[e.handler];xt(s)&&Wu(i,s,e)}}function k0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let l;return c?l=c:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(h=>yp(l,h,a,!0)),yp(l,t,a)),Ie(t)&&s.set(t,l),l}function yp(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&yp(e,s,n,!0),i&&i.forEach(a=>yp(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const c=r4[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const r4={data:fA,props:hA,emits:hA,methods:Gl,computed:Gl,beforeCreate:Hn,created:Hn,beforeMount:Hn,mounted:Hn,beforeUpdate:Hn,updated:Hn,beforeDestroy:Hn,beforeUnmount:Hn,destroyed:Hn,unmounted:Hn,activated:Hn,deactivated:Hn,errorCaptured:Hn,serverPrefetch:Hn,components:Gl,directives:Gl,watch:o4,provide:fA,inject:i4};function fA(e,t){return t?e?function(){return pn(xt(e)?e.call(this,this):e,xt(t)?t.call(this,this):t)}:t:e}function i4(e,t){return Gl(aw(e),aw(t))}function aw(e){if(At(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Hn(e,t){return e?[...new Set([].concat(e,t))]:t}function Gl(e,t){return e?pn(Object.create(null),e,t):t}function hA(e,t){return e?At(e)&&At(t)?[...new Set([...e,...t])]:pn(Object.create(null),cA(e),cA(t??{})):t}function o4(e,t){if(!e)return t;if(!t)return e;const n=pn(Object.create(null),e);for(const r in t)n[r]=Hn(e[r],t[r]);return n}function gO(){return{app:null,config:{isNativeTag:Fj,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let s4=0;function a4(e,t){return function(r,i=null){xt(r)||(r=pn({},r)),i!=null&&!Ie(i)&&(i=null);const s=gO(),a=new Set;let c=!1;const l=s.app={_uid:s4++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:P4,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&xt(h.install)?(a.add(h),h.install(l,...d)):xt(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const m=je(r,i);return m.appContext=s,d&&t?t(m,h):e(m,h,v),c=!0,l._container=h,h.__vue_app__=l,Tv(m.component)||m.component.proxy}},unmount(){c&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){_p=l;try{return h()}finally{_p=null}}};return l}}let _p=null;function Xd(e,t){if(wn){let n=wn.provides;const r=wn.parent&&wn.parent.provides;r===n&&(n=wn.provides=Object.create(r)),n[e]=t}}function hi(e,t,n=!1){const r=wn||Vr;if(r||_p){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:_p._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&xt(t)?t.call(r&&r.proxy):t}}function u4(e,t,n,r=!1){const i={},s={};pp(s,Ev,1),e.propsDefaults=Object.create(null),mO(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:YR(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function c4(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,c=te(i),[l]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let v=0;v<d.length;v++){let m=d[v];if(yv(e.emitsOptions,m))continue;const y=t[m];if(l)if($t(s,m))y!==s[m]&&(s[m]=y,h=!0);else{const b=qi(m);i[b]=uw(l,c,b,y,e,!1)}else y!==s[m]&&(s[m]=y,h=!0)}}}else{mO(e,t,i,s)&&(h=!0);let d;for(const v in c)(!t||!$t(t,v)&&((d=Ma(v))===v||!$t(t,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=uw(l,c,v,void 0,e,!0)):delete i[v]);if(s!==c)for(const v in s)(!t||!$t(t,v))&&(delete s[v],h=!0)}h&&Eo(e,"set","$attrs")}function mO(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,c;if(t)for(let l in t){if(zd(l))continue;const h=t[l];let d;i&&$t(i,d=qi(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:yv(e.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=te(n),h=c||ve;for(let d=0;d<s.length;d++){const v=s[d];n[v]=uw(i,l,v,h[v],e,!$t(h,v))}}return a}function uw(e,t,n,r,i,s){const a=e[n];if(a!=null){const c=$t(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&xt(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(tc(i),r=h[n]=l.call(null,t),pa())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===Ma(n))&&(r=!0))}return r}function yO(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},c=[];let l=!1;if(!xt(e)){const d=v=>{l=!0;const[m,y]=yO(v,t,!0);pn(a,m),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return Ie(e)&&r.set(e,Uu),Uu;if(At(s))for(let d=0;d<s.length;d++){const v=qi(s[d]);dA(v)&&(a[v]=ve)}else if(s)for(const d in s){const v=qi(d);if(dA(v)){const m=s[d],y=a[v]=At(m)||xt(m)?{type:m}:pn({},m);if(y){const b=gA(Boolean,y.type),E=gA(String,y.type);y[0]=b>-1,y[1]=E<0||b<E,(b>-1||$t(y,"default"))&&c.push(v)}}}const h=[a,c];return Ie(e)&&r.set(e,h),h}function dA(e){return e[0]!=="$"}function pA(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function vA(e,t){return pA(e)===pA(t)}function gA(e,t){return At(t)?t.findIndex(n=>vA(n,e)):xt(t)&&vA(t,e)?0:-1}const _O=e=>e[0]==="_"||e==="$stable",x0=e=>At(e)?e.map(Pi):[Pi(e)],l4=(e,t,n)=>{if(t._n)return t;const r=_v((...i)=>x0(t(...i)),n);return r._c=!1,r},wO=(e,t,n)=>{const r=e._ctx;for(const i in e){if(_O(i))continue;const s=e[i];if(xt(s))t[i]=l4(i,s,r);else if(s!=null){const a=x0(s);t[i]=()=>a}}},bO=(e,t)=>{const n=x0(t);e.slots.default=()=>n},f4=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=te(t),pp(t,"_",n)):wO(t,e.slots={})}else e.slots={},t&&bO(e,t);pp(e.slots,Ev,1)},h4=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=ve;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(pn(i,t),!n&&c===1&&delete i._):(s=!t.$stable,wO(t,i)),a=t}else t&&(bO(e,t),a={default:1});if(s)for(const c in i)!_O(c)&&!(c in a)&&delete i[c]};function cw(e,t,n,r,i=!1){if(At(e)){e.forEach((m,y)=>cw(m,t&&(At(t)?t[y]:t),n,r,i));return}if(Qd(r)&&!i)return;const s=r.shapeFlag&4?Tv(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=e,h=t&&t.r,d=c.refs===ve?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&($e(h)?(d[h]=null,$t(v,h)&&(v[h]=null)):Nn(h)&&(h.value=null)),xt(l))ls(l,c,12,[a,d]);else{const m=$e(l),y=Nn(l);if(m||y){const b=()=>{if(e.f){const E=m?$t(v,l)?v[l]:d[l]:l.value;i?At(E)&&m0(E,s):At(E)?E.includes(s)||E.push(s):m?(d[l]=[s],$t(v,l)&&(v[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else m?(d[l]=a,$t(v,l)&&(v[l]=a)):y&&(l.value=a,e.k&&(d[e.k]=a))};a?(b.id=-1,ir(b,n)):b()}}}const ir=VV;function d4(e){return p4(e)}function p4(e,t){const n=Z_();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:m,setScopeId:y=li,insertStaticContent:b}=e,E=(S,A,k,M=null,B=null,q=null,nt=!1,z=null,Z=!!A.dynamicChildren)=>{if(S===A)return;S&&!xl(S,A)&&(M=V(S),sn(S,B,q,!0),S=null),A.patchFlag===-2&&(Z=!1,A.dynamicChildren=null);const{type:Y,ref:gt,shapeFlag:ct}=A;switch(Y){case bv:T(S,A,k,M);break;case Ia:C(S,A,k,M);break;case Jd:S==null&&x(A,k,M,nt);break;case Xe:bi(S,A,k,M,B,q,nt,z,Z);break;default:ct&1?X(S,A,k,M,B,q,nt,z,Z):ct&6?In(S,A,k,M,B,q,nt,z,Z):(ct&64||ct&128)&&Y.process(S,A,k,M,B,q,nt,z,Z,H)}gt!=null&&B&&cw(gt,S&&S.ref,q,A||S,!A)},T=(S,A,k,M)=>{if(S==null)r(A.el=c(A.children),k,M);else{const B=A.el=S.el;A.children!==S.children&&h(B,A.children)}},C=(S,A,k,M)=>{S==null?r(A.el=l(A.children||""),k,M):A.el=S.el},x=(S,A,k,M)=>{[S.el,S.anchor]=b(S.children,A,k,M,S.el,S.anchor)},D=({el:S,anchor:A},k,M)=>{let B;for(;S&&S!==A;)B=m(S),r(S,k,M),S=B;r(A,k,M)},F=({el:S,anchor:A})=>{let k;for(;S&&S!==A;)k=m(S),i(S),S=k;i(A)},X=(S,A,k,M,B,q,nt,z,Z)=>{nt=nt||A.type==="svg",S==null?j(A,k,M,B,q,nt,z,Z):dt(S,A,B,q,nt,z,Z)},j=(S,A,k,M,B,q,nt,z)=>{let Z,Y;const{type:gt,props:ct,shapeFlag:mt,transition:It,dirs:Pt}=S;if(Z=S.el=a(S.type,q,ct&&ct.is,ct),mt&8?d(Z,S.children):mt&16&&ee(S.children,Z,null,M,B,q&&gt!=="foreignObject",nt,z),Pt&&Qs(S,null,M,"created"),Tt(Z,S,S.scopeId,nt,M),ct){for(const yt in ct)yt!=="value"&&!zd(yt)&&s(Z,yt,null,ct[yt],q,S.children,M,B,an);"value"in ct&&s(Z,"value",null,ct.value),(Y=ct.onVnodeBeforeMount)&&ki(Y,M,S)}Pt&&Qs(S,null,M,"beforeMount");const se=(!B||B&&!B.pendingBranch)&&It&&!It.persisted;se&&It.beforeEnter(Z),r(Z,A,k),((Y=ct&&ct.onVnodeMounted)||se||Pt)&&ir(()=>{Y&&ki(Y,M,S),se&&It.enter(Z),Pt&&Qs(S,null,M,"mounted")},B)},Tt=(S,A,k,M,B)=>{if(k&&y(S,k),M)for(let q=0;q<M.length;q++)y(S,M[q]);if(B){let q=B.subTree;if(A===q){const nt=B.vnode;Tt(S,nt,nt.scopeId,nt.slotScopeIds,B.parent)}}},ee=(S,A,k,M,B,q,nt,z,Z=0)=>{for(let Y=Z;Y<S.length;Y++){const gt=S[Y]=z?Xo(S[Y]):Pi(S[Y]);E(null,gt,A,k,M,B,q,nt,z)}},dt=(S,A,k,M,B,q,nt)=>{const z=A.el=S.el;let{patchFlag:Z,dynamicChildren:Y,dirs:gt}=A;Z|=S.patchFlag&16;const ct=S.props||ve,mt=A.props||ve;let It;k&&Xs(k,!1),(It=mt.onVnodeBeforeUpdate)&&ki(It,k,A,S),gt&&Qs(A,S,k,"beforeUpdate"),k&&Xs(k,!0);const Pt=B&&A.type!=="foreignObject";if(Y?vn(S.dynamicChildren,Y,z,k,M,Pt,q):nt||Yt(S,A,z,null,k,M,Pt,q,!1),Z>0){if(Z&16)O(z,A,ct,mt,k,M,B);else if(Z&2&&ct.class!==mt.class&&s(z,"class",null,mt.class,B),Z&4&&s(z,"style",ct.style,mt.style,B),Z&8){const se=A.dynamicProps;for(let yt=0;yt<se.length;yt++){const _e=se[yt],un=ct[_e],Ji=mt[_e];(Ji!==un||_e==="value")&&s(z,_e,un,Ji,B,S.children,k,M,an)}}Z&1&&S.children!==A.children&&d(z,A.children)}else!nt&&Y==null&&O(z,A,ct,mt,k,M,B);((It=mt.onVnodeUpdated)||gt)&&ir(()=>{It&&ki(It,k,A,S),gt&&Qs(A,S,k,"updated")},M)},vn=(S,A,k,M,B,q,nt)=>{for(let z=0;z<A.length;z++){const Z=S[z],Y=A[z],gt=Z.el&&(Z.type===Xe||!xl(Z,Y)||Z.shapeFlag&70)?v(Z.el):k;E(Z,Y,gt,null,M,B,q,nt,!0)}},O=(S,A,k,M,B,q,nt)=>{if(k!==M){if(k!==ve)for(const z in k)!zd(z)&&!(z in M)&&s(S,z,k[z],null,nt,A.children,B,q,an);for(const z in M){if(zd(z))continue;const Z=M[z],Y=k[z];Z!==Y&&z!=="value"&&s(S,z,Y,Z,nt,A.children,B,q,an)}"value"in M&&s(S,"value",k.value,M.value)}},bi=(S,A,k,M,B,q,nt,z,Z)=>{const Y=A.el=S?S.el:c(""),gt=A.anchor=S?S.anchor:c("");let{patchFlag:ct,dynamicChildren:mt,slotScopeIds:It}=A;It&&(z=z?z.concat(It):It),S==null?(r(Y,k,M),r(gt,k,M),ee(A.children,k,gt,B,q,nt,z,Z)):ct>0&&ct&64&&mt&&S.dynamicChildren?(vn(S.dynamicChildren,mt,k,B,q,nt,z),(A.key!=null||B&&A===B.subTree)&&EO(S,A,!0)):Yt(S,A,k,gt,B,q,nt,z,Z)},In=(S,A,k,M,B,q,nt,z,Z)=>{A.slotScopeIds=z,S==null?A.shapeFlag&512?B.ctx.activate(A,k,M,nt,Z):Rs(A,k,M,B,q,nt,Z):Ei(S,A,Z)},Rs=(S,A,k,M,B,q,nt)=>{const z=S.component=I4(S,M,B);if(lO(S)&&(z.ctx.renderer=H),S4(z),z.asyncDep){if(B&&B.registerDep(z,ye),!S.el){const Z=z.subTree=je(Ia);C(null,Z,A,k)}return}ye(z,S,A,k,B,q,nt)},Ei=(S,A,k)=>{const M=A.component=S.component;if(FV(S,A,k))if(M.asyncDep&&!M.asyncResolved){Gt(M,A,k);return}else M.next=A,kV(M.update),M.update();else A.el=S.el,M.vnode=A},ye=(S,A,k,M,B,q,nt)=>{const z=()=>{if(S.isMounted){let{next:gt,bu:ct,u:mt,parent:It,vnode:Pt}=S,se=gt,yt;Xs(S,!1),gt?(gt.el=Pt.el,Gt(S,gt,nt)):gt=Pt,ct&&Kd(ct),(yt=gt.props&&gt.props.onVnodeBeforeUpdate)&&ki(yt,It,gt,Pt),Xs(S,!0);const _e=Qy(S),un=S.subTree;S.subTree=_e,E(un,_e,v(un.el),V(un),S,B,q),gt.el=_e.el,se===null&&UV(S,_e.el),mt&&ir(mt,B),(yt=gt.props&&gt.props.onVnodeUpdated)&&ir(()=>ki(yt,It,gt,Pt),B)}else{let gt;const{el:ct,props:mt}=A,{bm:It,m:Pt,parent:se}=S,yt=Qd(A);if(Xs(S,!1),It&&Kd(It),!yt&&(gt=mt&&mt.onVnodeBeforeMount)&&ki(gt,se,A),Xs(S,!0),ct&&zt){const _e=()=>{S.subTree=Qy(S),zt(ct,S.subTree,S,B,null)};yt?A.type.__asyncLoader().then(()=>!S.isUnmounted&&_e()):_e()}else{const _e=S.subTree=Qy(S);E(null,_e,k,M,S,B,q),A.el=_e.el}if(Pt&&ir(Pt,B),!yt&&(gt=mt&&mt.onVnodeMounted)){const _e=A;ir(()=>ki(gt,se,_e),B)}(A.shapeFlag&256||se&&Qd(se.vnode)&&se.vnode.shapeFlag&256)&&S.a&&ir(S.a,B),S.isMounted=!0,A=k=M=null}},Z=S.effect=new E0(z,()=>R0(Y),S.scope),Y=S.update=()=>Z.run();Y.id=S.uid,Xs(S,!0),Y()},Gt=(S,A,k)=>{A.component=S;const M=S.vnode.props;S.vnode=A,S.next=null,c4(S,A.props,M,k),h4(S,A.children,k),Cc(),sA(),Nc()},Yt=(S,A,k,M,B,q,nt,z,Z=!1)=>{const Y=S&&S.children,gt=S?S.shapeFlag:0,ct=A.children,{patchFlag:mt,shapeFlag:It}=A;if(mt>0){if(mt&128){Pr(Y,ct,k,M,B,q,nt,z,Z);return}else if(mt&256){Se(Y,ct,k,M,B,q,nt,z,Z);return}}It&8?(gt&16&&an(Y,B,q),ct!==Y&&d(k,ct)):gt&16?It&16?Pr(Y,ct,k,M,B,q,nt,z,Z):an(Y,B,q,!0):(gt&8&&d(k,""),It&16&&ee(ct,k,M,B,q,nt,z,Z))},Se=(S,A,k,M,B,q,nt,z,Z)=>{S=S||Uu,A=A||Uu;const Y=S.length,gt=A.length,ct=Math.min(Y,gt);let mt;for(mt=0;mt<ct;mt++){const It=A[mt]=Z?Xo(A[mt]):Pi(A[mt]);E(S[mt],It,k,null,B,q,nt,z,Z)}Y>gt?an(S,B,q,!0,!1,ct):ee(A,k,M,B,q,nt,z,Z,ct)},Pr=(S,A,k,M,B,q,nt,z,Z)=>{let Y=0;const gt=A.length;let ct=S.length-1,mt=gt-1;for(;Y<=ct&&Y<=mt;){const It=S[Y],Pt=A[Y]=Z?Xo(A[Y]):Pi(A[Y]);if(xl(It,Pt))E(It,Pt,k,null,B,q,nt,z,Z);else break;Y++}for(;Y<=ct&&Y<=mt;){const It=S[ct],Pt=A[mt]=Z?Xo(A[mt]):Pi(A[mt]);if(xl(It,Pt))E(It,Pt,k,null,B,q,nt,z,Z);else break;ct--,mt--}if(Y>ct){if(Y<=mt){const It=mt+1,Pt=It<gt?A[It].el:M;for(;Y<=mt;)E(null,A[Y]=Z?Xo(A[Y]):Pi(A[Y]),k,Pt,B,q,nt,z,Z),Y++}}else if(Y>mt)for(;Y<=ct;)sn(S[Y],B,q,!0),Y++;else{const It=Y,Pt=Y,se=new Map;for(Y=Pt;Y<=mt;Y++){const xe=A[Y]=Z?Xo(A[Y]):Pi(A[Y]);xe.key!=null&&se.set(xe.key,Y)}let yt,_e=0;const un=mt-Pt+1;let Ji=!1,$c=0;const de=new Array(un);for(Y=0;Y<un;Y++)de[Y]=0;for(Y=It;Y<=ct;Y++){const xe=S[Y];if(_e>=un){sn(xe,B,q,!0);continue}let ze;if(xe.key!=null)ze=se.get(xe.key);else for(yt=Pt;yt<=mt;yt++)if(de[yt-Pt]===0&&xl(xe,A[yt])){ze=yt;break}ze===void 0?sn(xe,B,q,!0):(de[ze-Pt]=Y+1,ze>=$c?$c=ze:Ji=!0,E(xe,A[ze],k,null,B,q,nt,z,Z),_e++)}const zc=Ji?v4(de):Uu;for(yt=zc.length-1,Y=un-1;Y>=0;Y--){const xe=Pt+Y,ze=A[xe],Kc=xe+1<gt?A[xe+1].el:M;de[Y]===0?E(null,ze,k,Kc,B,q,nt,z,Z):Ji&&(yt<0||Y!==zc[yt]?gn(ze,k,Kc,2):yt--)}}},gn=(S,A,k,M,B=null)=>{const{el:q,type:nt,transition:z,children:Z,shapeFlag:Y}=S;if(Y&6){gn(S.component.subTree,A,k,M);return}if(Y&128){S.suspense.move(A,k,M);return}if(Y&64){nt.move(S,A,k,H);return}if(nt===Xe){r(q,A,k);for(let ct=0;ct<Z.length;ct++)gn(Z[ct],A,k,M);r(S.anchor,A,k);return}if(nt===Jd){D(S,A,k);return}if(M!==2&&Y&1&&z)if(M===0)z.beforeEnter(q),r(q,A,k),ir(()=>z.enter(q),B);else{const{leave:ct,delayLeave:mt,afterLeave:It}=z,Pt=()=>r(q,A,k),se=()=>{ct(q,()=>{Pt(),It&&It()})};mt?mt(q,Pt,se):se()}else r(q,A,k)},sn=(S,A,k,M=!1,B=!1)=>{const{type:q,props:nt,ref:z,children:Z,dynamicChildren:Y,shapeFlag:gt,patchFlag:ct,dirs:mt}=S;if(z!=null&&cw(z,null,k,S,!0),gt&256){A.ctx.deactivate(S);return}const It=gt&1&&mt,Pt=!Qd(S);let se;if(Pt&&(se=nt&&nt.onVnodeBeforeUnmount)&&ki(se,A,S),gt&6)Os(S.component,k,M);else{if(gt&128){S.suspense.unmount(k,M);return}It&&Qs(S,null,A,"beforeUnmount"),gt&64?S.type.remove(S,A,k,B,H,M):Y&&(q!==Xe||ct>0&&ct&64)?an(Y,A,k,!1,!0):(q===Xe&&ct&384||!B&&gt&16)&&an(Z,A,k),M&&Qi(S)}(Pt&&(se=nt&&nt.onVnodeUnmounted)||It)&&ir(()=>{se&&ki(se,A,S),It&&Qs(S,null,A,"unmounted")},k)},Qi=S=>{const{type:A,el:k,anchor:M,transition:B}=S;if(A===Xe){Xi(k,M);return}if(A===Jd){F(S);return}const q=()=>{i(k),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(S.shapeFlag&1&&B&&!B.persisted){const{leave:nt,delayLeave:z}=B,Z=()=>nt(k,q);z?z(S.el,q,Z):Z()}else q()},Xi=(S,A)=>{let k;for(;S!==A;)k=m(S),i(S),S=k;i(A)},Os=(S,A,k)=>{const{bum:M,scope:B,update:q,subTree:nt,um:z}=S;M&&Kd(M),B.stop(),q&&(q.active=!1,sn(nt,S,A,k)),z&&ir(z,A),ir(()=>{S.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},an=(S,A,k,M=!1,B=!1,q=0)=>{for(let nt=q;nt<S.length;nt++)sn(S[nt],A,k,M,B)},V=S=>S.shapeFlag&6?V(S.component.subTree):S.shapeFlag&128?S.suspense.next():m(S.anchor||S.el),ot=(S,A,k)=>{S==null?A._vnode&&sn(A._vnode,null,null,!0):E(A._vnode||null,S,A,null,null,null,k),sA(),rO(),A._vnode=S},H={p:E,um:sn,m:gn,r:Qi,mt:Rs,mc:ee,pc:Yt,pbc:vn,n:V,o:e};let pt,zt;return t&&([pt,zt]=t(H)),{render:ot,hydrate:pt,createApp:a4(ot,pt)}}function Xs({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function EO(e,t,n=!1){const r=e.children,i=t.children;if(At(r)&&At(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=Xo(i[s]),c.el=a.el),n||EO(a,c)),c.type===bv&&(c.el=a.el)}}function v4(e){const t=e.slice(),n=[0];let r,i,s,a,c;const l=e.length;for(r=0;r<l;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,e[n[c]]<h?s=c+1:a=c;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const g4=e=>e.__isTeleport,Xe=Symbol.for("v-fgt"),bv=Symbol.for("v-txt"),Ia=Symbol.for("v-cmt"),Jd=Symbol.for("v-stc"),Xl=[];let oi=null;function Bt(e=!1){Xl.push(oi=e?null:[])}function m4(){Xl.pop(),oi=Xl[Xl.length-1]||null}let gf=1;function mA(e){gf+=e}function TO(e){return e.dynamicChildren=gf>0?oi||Uu:null,m4(),gf>0&&oi&&oi.push(e),e}function ue(e,t,n,r,i,s){return TO(U(e,t,n,r,i,s,!0))}function Sa(e,t,n,r,i){return TO(je(e,t,n,r,i,!0))}function lw(e){return e?e.__v_isVNode===!0:!1}function xl(e,t){return e.type===t.type&&e.key===t.key}const Ev="__vInternal",IO=({key:e})=>e??null,Zd=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?$e(e)||Nn(e)||xt(e)?{i:Vr,r:e,k:t,f:!!n}:e:null);function U(e,t=null,n=null,r=0,i=null,s=e===Xe?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&IO(t),ref:t&&Zd(t),scopeId:sO,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Vr};return c?(P0(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=$e(n)?8:16),gf>0&&!a&&oi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&oi.push(l),l}const je=y4;function y4(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===dO)&&(e=Ia),lw(e)){const c=Zu(e,t,!0);return n&&P0(c,n),gf>0&&!s&&oi&&(c.shapeFlag&6?oi[oi.indexOf(e)]=c:oi.push(c)),c.patchFlag|=-2,c}if(O4(e)&&(e=e.__vccOpts),t){t=_4(t);let{class:c,style:l}=t;c&&!$e(c)&&(t.class=Ta(c)),Ie(l)&&(zR(l)&&!At(l)&&(l=pn({},l)),t.style=w0(l))}const a=$e(e)?1:jV(e)?128:g4(e)?64:Ie(e)?4:xt(e)?2:0;return U(e,t,n,r,i,a,s,!0)}function _4(e){return e?zR(e)||Ev in e?pn({},e):e:null}function Zu(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=e,c=t?b4(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&IO(c),ref:t&&t.ref?n&&i?At(i)?i.concat(Zd(t)):[i,Zd(t)]:Zd(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zu(e.ssContent),ssFallback:e.ssFallback&&Zu(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function w4(e=" ",t=0){return je(bv,null,e,t)}function La(e,t){const n=je(Jd,null,e);return n.staticCount=t,n}function Jy(e="",t=!1){return t?(Bt(),Sa(Ia,null,e)):je(Ia,null,e)}function Pi(e){return e==null||typeof e=="boolean"?je(Ia):At(e)?je(Xe,null,e.slice()):typeof e=="object"?Xo(e):je(bv,null,String(e))}function Xo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Zu(e)}function P0(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(At(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),P0(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Ev in t)?t._ctx=Vr:i===3&&Vr&&(Vr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else xt(t)?(t={default:t,_ctx:Vr},n=32):(t=String(t),r&64?(n=16,t=[w4(t)]):n=8);e.children=t,e.shapeFlag|=n}function b4(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Ta([t.class,r.class]));else if(i==="style")t.style=w0([t.style,r.style]);else if(hv(i)){const s=t[i],a=r[i];a&&s!==a&&!(At(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function ki(e,t,n,r=null){fi(e,t,7,[n,r])}const E4=gO();let T4=0;function I4(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||E4,s={uid:T4++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Kj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yO(r,i),emitsOptions:oO(r,i),emit:null,emitted:null,propsDefaults:ve,inheritAttrs:r.inheritAttrs,ctx:ve,data:ve,props:ve,attrs:ve,slots:ve,refs:ve,setupState:ve,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=DV.bind(null,s),e.ce&&e.ce(s),s}let wn=null,D0,yu,yA="__VUE_INSTANCE_SETTERS__";(yu=Z_()[yA])||(yu=Z_()[yA]=[]),yu.push(e=>wn=e),D0=e=>{yu.length>1?yu.forEach(t=>t(e)):yu[0](e)};const tc=e=>{D0(e),e.scope.on()},pa=()=>{wn&&wn.scope.off(),D0(null)};function SO(e){return e.vnode.shapeFlag&4}let mf=!1;function S4(e,t=!1){mf=t;const{props:n,children:r}=e.vnode,i=SO(e);u4(e,n,i,t),f4(e,r);const s=i?A4(e,t):void 0;return mf=!1,s}function A4(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=KR(new Proxy(e.ctx,t4));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?N4(e):null;tc(e),Cc();const s=ls(r,e,0,[e.props,i]);if(Nc(),pa(),kR(s)){if(s.then(pa,pa),t)return s.then(a=>{_A(e,a,t)}).catch(a=>{mv(a,e,0)});e.asyncDep=s}else _A(e,s,t)}else AO(e,t)}function _A(e,t,n){xt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ie(t)&&(e.setupState=ZR(t)),AO(e,n)}let wA;function AO(e,t,n){const r=e.type;if(!e.render){if(!t&&wA&&!r.render){const i=r.template||k0(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:l}=r,h=pn(pn({isCustomElement:s,delimiters:c},a),l);r.render=wA(i,h)}}e.render=r.render||li}tc(e),Cc(),e4(e),Nc(),pa()}function C4(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return hr(e,"get","$attrs"),t[n]}}))}function N4(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return C4(e)},slots:e.slots,emit:e.emit,expose:t}}function Tv(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(ZR(KR(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ql)return Ql[n](e)},has(t,n){return n in t||n in Ql}}))}function R4(e,t=!0){return xt(e)?e.displayName||e.name:e.name||t&&e.__name}function O4(e){return xt(e)&&"__vccOpts"in e}const sr=(e,t)=>NV(e,t,mf);function CO(e,t,n){const r=arguments.length;return r===2?Ie(t)&&!At(t)?lw(t)?je(e,null,[t]):je(e,t):je(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&lw(n)&&(n=[n]),je(e,t,n))}const k4=Symbol.for("v-scx"),x4=()=>hi(k4),P4="3.3.4",D4="http://www.w3.org/2000/svg",na=typeof document<"u"?document:null,bA=na&&na.createElement("template"),M4={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?na.createElementNS(D4,e):na.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>na.createTextNode(e),createComment:e=>na.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>na.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{bA.innerHTML=r?`<svg>${e}</svg>`:e;const c=bA.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function L4(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function F4(e,t,n){const r=e.style,i=$e(n);if(n&&!i){if(t&&!$e(t))for(const s in t)n[s]==null&&fw(r,s,"");for(const s in n)fw(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const EA=/\s*!important$/;function fw(e,t,n){if(At(n))n.forEach(r=>fw(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=U4(e,t);EA.test(n)?e.setProperty(Ma(r),n.replace(EA,""),"important"):e[r]=n}}const TA=["Webkit","Moz","ms"],Zy={};function U4(e,t){const n=Zy[t];if(n)return n;let r=qi(t);if(r!=="filter"&&r in e)return Zy[t]=r;r=vv(r);for(let i=0;i<TA.length;i++){const s=TA[i]+r;if(s in e)return Zy[t]=s}return t}const IA="http://www.w3.org/1999/xlink";function j4(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(IA,t.slice(6,t.length)):e.setAttributeNS(IA,t,n);else{const s=zj(t);n==null||s&&!DR(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function V4(e,t,n,r,i,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const h=c==="OPTION"?e.getAttribute("value"):e.value,d=n??"";h!==d&&(e.value=d),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=DR(n):n==null&&h==="string"?(n="",l=!0):h==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Cu(e,t,n,r){e.addEventListener(t,n,r)}function B4(e,t,n,r){e.removeEventListener(t,n,r)}function q4(e,t,n,r,i=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[c,l]=W4(t);if(r){const h=s[t]=Y4(r,i);Cu(e,c,h,l)}else a&&(B4(e,c,a,l),s[t]=void 0)}}const SA=/(?:Once|Passive|Capture)$/;function W4(e){let t;if(SA.test(e)){t={};let r;for(;r=e.match(SA);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ma(e.slice(2)),t]}let t_=0;const H4=Promise.resolve(),G4=()=>t_||(H4.then(()=>t_=0),t_=Date.now());function Y4(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fi($4(r,n.value),t,5,[r])};return n.value=e,n.attached=G4(),n}function $4(e,t){if(At(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const AA=/^on[a-z]/,z4=(e,t,n,r,i=!1,s,a,c,l)=>{t==="class"?L4(e,r,i):t==="style"?F4(e,n,r):hv(t)?g0(t)||q4(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):K4(e,t,r,i))?V4(e,t,r,s,a,c,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),j4(e,t,r,i))};function K4(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&AA.test(t)&&xt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||AA.test(t)&&$e(n)?!1:t in e}const CA=e=>{const t=e.props["onUpdate:modelValue"]||!1;return At(t)?n=>Kd(t,n):t};function Q4(e){e.target.composing=!0}function NA(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const va={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=CA(i);const s=r||i.props&&i.props.type==="number";Cu(e,t?"change":"input",a=>{if(a.target.composing)return;let c=e.value;n&&(c=c.trim()),s&&(c=J_(c)),e._assign(c)}),n&&Cu(e,"change",()=>{e.value=e.value.trim()}),t||(Cu(e,"compositionstart",Q4),Cu(e,"compositionend",NA),Cu(e,"change",NA))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=CA(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&J_(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},X4=["ctrl","shift","alt","meta"],J4={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>X4.some(n=>e[`${n}Key`]&&!t.includes(n))},Z4=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const s=J4[t[i]];if(s&&s(n,t))return}return e(n,...r)},t3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},e3=(e,t)=>n=>{if(!("key"in n))return;const r=Ma(n.key);if(t.some(i=>i===r||t3[i]===r))return e(n)},n3=pn({patchProp:z4},M4);let RA;function r3(){return RA||(RA=d4(n3))}const i3=(...e)=>{const t=r3().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=o3(r);if(!i)return;const s=t._component;!xt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function o3(e){return $e(e)?document.querySelector(e):e}function s3(){return NO().__VUE_DEVTOOLS_GLOBAL_HOOK__}function NO(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const a3=typeof Proxy=="function",u3="devtools-plugin:setup",c3="plugin:settings:set";let _u,hw;function l3(){var e;return _u!==void 0||(typeof window<"u"&&window.performance?(_u=!0,hw=window.performance):typeof global<"u"&&(!((e=global.perf_hooks)===null||e===void 0)&&e.performance)?(_u=!0,hw=global.perf_hooks.performance):_u=!1),_u}function f3(){return l3()?hw.now():Date.now()}class h3{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const a in t.settings){const c=t.settings[a];r[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(s,c)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return f3()}},n&&n.on(c3,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:c,args:l,resolve:h})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function d3(e,t){const n=e,r=NO(),i=s3(),s=a3&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(u3,e,t);else{const a=s?new h3(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:a}),a&&t(a.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Nu=typeof window<"u";function p3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const re=Object.assign;function e_(e,t){const n={};for(const r in t){const i=t[r];n[r]=vi(i)?i.map(e):e(i)}return n}const Jl=()=>{},vi=Array.isArray,v3=/\/$/,g3=e=>e.replace(v3,"");function n_(e,t,n="/"){let r,i={},s="",a="";const c=t.indexOf("#");let l=t.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,c>-1?c:t.length),i=e(s)),c>-1&&(r=r||t.slice(0,c),a=t.slice(c,t.length)),r=w3(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function m3(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function OA(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function y3(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ec(t.matched[r],n.matched[i])&&RO(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ec(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function RO(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!_3(e[n],t[n]))return!1;return!0}function _3(e,t){return vi(e)?kA(e,t):vi(t)?kA(t,e):e===t}function kA(e,t){return vi(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function w3(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var yf;(function(e){e.pop="pop",e.push="push"})(yf||(yf={}));var Zl;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Zl||(Zl={}));function b3(e){if(!e)if(Nu){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),g3(e)}const E3=/^[^#]+#/;function T3(e,t){return e.replace(E3,"#")+t}function I3(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Iv=()=>({left:window.pageXOffset,top:window.pageYOffset});function S3(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=I3(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function xA(e,t){return(history.state?history.state.position-t:-1)+e}const dw=new Map;function A3(e,t){dw.set(e,t)}function C3(e){const t=dw.get(e);return dw.delete(e),t}let N3=()=>location.protocol+"//"+location.host;function OO(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let c=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),OA(l,"")}return OA(n,e)+r+i}function R3(e,t,n,r){let i=[],s=[],a=null;const c=({state:m})=>{const y=OO(e,location),b=n.value,E=t.value;let T=0;if(m){if(n.value=y,t.value=m,a&&a===b){a=null;return}T=E?m.position-E.position:0}else r(y);i.forEach(C=>{C(n.value,b,{delta:T,type:yf.pop,direction:T?T>0?Zl.forward:Zl.back:Zl.unknown})})};function l(){a=n.value}function h(m){i.push(m);const y=()=>{const b=i.indexOf(m);b>-1&&i.splice(b,1)};return s.push(y),y}function d(){const{history:m}=window;m.state&&m.replaceState(re({},m.state,{scroll:Iv()}),"")}function v(){for(const m of s)m();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:v}}function PA(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Iv():null}}function O3(e){const{history:t,location:n}=window,r={value:OO(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=e.indexOf("#"),m=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+l:N3()+e+l;try{t[d?"replaceState":"pushState"](h,"",m),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](m)}}function a(l,h){const d=re({},t.state,PA(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=re({},i.value,t.state,{forward:l,scroll:Iv()});s(d.current,d,!0);const v=re({},PA(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function k3(e){e=b3(e);const t=O3(e),n=R3(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=re({location:"",base:e,go:r,createHref:T3.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function x3(e){return typeof e=="string"||e&&typeof e=="object"}function kO(e){return typeof e=="string"||typeof e=="symbol"}const Go={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xO=Symbol("");var DA;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(DA||(DA={}));function nc(e,t){return re(new Error,{type:e,[xO]:!0},t)}function io(e,t){return e instanceof Error&&xO in e&&(t==null||!!(e.type&t))}const MA="[^/]+?",P3={sensitive:!1,strict:!1,start:!0,end:!0},D3=/[.+*?^${}()[\]/\\]/g;function M3(e,t){const n=re({},P3,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const m=h[v];let y=40+(n.sensitive?.25:0);if(m.type===0)v||(i+="/"),i+=m.value.replace(D3,"\\$&"),y+=40;else if(m.type===1){const{value:b,repeatable:E,optional:T,regexp:C}=m;s.push({name:b,repeatable:E,optional:T});const x=C||MA;if(x!==MA){y+=10;try{new RegExp(`(${x})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${b}" (${x}): `+F.message)}}let D=E?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;v||(D=T&&h.length<2?`(?:/${D})`:"/"+D),T&&(D+="?"),i+=D,y+=20,T&&(y+=-8),E&&(y+=-20),x===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let m=1;m<d.length;m++){const y=d[m]||"",b=s[m-1];v[b.name]=y&&b.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const m of e){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of m)if(y.type===0)d+=y.value;else if(y.type===1){const{value:b,repeatable:E,optional:T}=y,C=b in h?h[b]:"";if(vi(C)&&!E)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const x=vi(C)?C.join("/"):C;if(!x)if(T)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${b}"`);d+=x}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function L3(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function F3(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=L3(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(LA(r))return 1;if(LA(i))return-1}return i.length-r.length}function LA(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const U3={type:0,value:""},j3=/[a-zA-Z0-9_]/;function V3(e){if(!e)return[[]];if(e==="/")return[[U3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=l}for(;c<e.length;){if(l=e[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:j3.test(l)?m():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function B3(e,t,n){const r=M3(V3(e.path),n),i=re(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function q3(e,t){const n=[],r=new Map;t=jA({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function s(d,v,m){const y=!m,b=W3(d);b.aliasOf=m&&m.record;const E=jA(t,d),T=[b];if("alias"in d){const D=typeof d.alias=="string"?[d.alias]:d.alias;for(const F of D)T.push(re({},b,{components:m?m.record.components:b.components,path:F,aliasOf:m?m.record:b}))}let C,x;for(const D of T){const{path:F}=D;if(v&&F[0]!=="/"){const X=v.record.path,j=X[X.length-1]==="/"?"":"/";D.path=v.record.path+(F&&j+F)}if(C=B3(D,v,E),m?m.alias.push(C):(x=x||C,x!==C&&x.alias.push(C),y&&d.name&&!UA(C)&&a(d.name)),b.children){const X=b.children;for(let j=0;j<X.length;j++)s(X[j],C,m&&m.children[j])}m=m||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&l(C)}return x?()=>{a(x)}:Jl}function a(d){if(kO(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&F3(d,n[v])>=0&&(d.record.path!==n[v].record.path||!PO(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!UA(d)&&r.set(d.record.name,d)}function h(d,v){let m,y={},b,E;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw nc(1,{location:d});E=m.record.name,y=re(FA(v.params,m.keys.filter(x=>!x.optional).map(x=>x.name)),d.params&&FA(d.params,m.keys.map(x=>x.name))),b=m.stringify(y)}else if("path"in d)b=d.path,m=n.find(x=>x.re.test(b)),m&&(y=m.parse(b),E=m.record.name);else{if(m=v.name?r.get(v.name):n.find(x=>x.re.test(v.path)),!m)throw nc(1,{location:d,currentLocation:v});E=m.record.name,y=re({},v.params,d.params),b=m.stringify(y)}const T=[];let C=m;for(;C;)T.unshift(C.record),C=C.parent;return{name:E,path:b,params:y,matched:T,meta:G3(T)}}return e.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function FA(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function W3(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:H3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function H3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function UA(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function G3(e){return e.reduce((t,n)=>re(t,n.meta),{})}function jA(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function PO(e,t){return t.children.some(n=>n===e||PO(e,n))}const DO=/#/g,Y3=/&/g,$3=/\//g,z3=/=/g,K3=/\?/g,MO=/\+/g,Q3=/%5B/g,X3=/%5D/g,LO=/%5E/g,J3=/%60/g,FO=/%7B/g,Z3=/%7C/g,UO=/%7D/g,tB=/%20/g;function M0(e){return encodeURI(""+e).replace(Z3,"|").replace(Q3,"[").replace(X3,"]")}function eB(e){return M0(e).replace(FO,"{").replace(UO,"}").replace(LO,"^")}function pw(e){return M0(e).replace(MO,"%2B").replace(tB,"+").replace(DO,"%23").replace(Y3,"%26").replace(J3,"`").replace(FO,"{").replace(UO,"}").replace(LO,"^")}function nB(e){return pw(e).replace(z3,"%3D")}function rB(e){return M0(e).replace(DO,"%23").replace(K3,"%3F")}function iB(e){return e==null?"":rB(e).replace($3,"%2F")}function wp(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function oB(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(MO," "),a=s.indexOf("="),c=wp(a<0?s:s.slice(0,a)),l=a<0?null:wp(s.slice(a+1));if(c in t){let h=t[c];vi(h)||(h=t[c]=[h]),h.push(l)}else t[c]=l}return t}function VA(e){let t="";for(let n in e){const r=e[n];if(n=nB(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(vi(r)?r.map(s=>s&&pw(s)):[r&&pw(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function sB(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=vi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const aB=Symbol(""),BA=Symbol(""),Sv=Symbol(""),L0=Symbol(""),vw=Symbol("");function Pl(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Jo(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(nc(4,{from:n,to:t})):v instanceof Error?c(v):x3(v)?c(nc(2,{from:t,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=e.call(r&&r.instances[i],t,n,l);let d=Promise.resolve(h);e.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function r_(e,t,n,r){const i=[];for(const s of e)for(const a in s.components){let c=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(uB(c)){const h=(c.__vccOpts||c)[t];h&&i.push(Jo(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=p3(h)?h.default:h;s.components[a]=d;const m=(d.__vccOpts||d)[t];return m&&Jo(m,n,r,s,a)()}))}}return i}function uB(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function qA(e){const t=hi(Sv),n=hi(L0),r=sr(()=>t.resolve(Bu(e.to))),i=sr(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const m=v.findIndex(ec.bind(null,d));if(m>-1)return m;const y=WA(l[h-2]);return h>1&&WA(d)===y&&v[v.length-1].path!==y?v.findIndex(ec.bind(null,l[h-2])):m}),s=sr(()=>i.value>-1&&hB(n.params,r.value.params)),a=sr(()=>i.value>-1&&i.value===n.matched.length-1&&RO(n.params,r.value.params));function c(l={}){return fB(l)?t[Bu(e.replace)?"replace":"push"](Bu(e.to)).catch(Jl):Promise.resolve()}return{route:r,href:sr(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const cB=cO({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:qA,setup(e,{slots:t}){const n=Qf(qA(e)),{options:r}=hi(Sv),i=sr(()=>({[HA(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[HA(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:CO("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),lB=cB;function fB(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function hB(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!vi(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function WA(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const HA=(e,t,n)=>e??t??n,dB=cO({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=hi(vw),i=sr(()=>e.route||r.value),s=hi(BA,0),a=sr(()=>{let h=Bu(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=sr(()=>i.value.matched[a.value]);Xd(BA,sr(()=>a.value+1)),Xd(aB,c),Xd(vw,i);const l=ur();return Wu(()=>[l.value,c.value,e.name],([h,d,v],[m,y,b])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!ec(d,y)||!m)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=e.name,v=c.value,m=v&&v.components[d];if(!m)return GA(n.default,{Component:m,route:h});const y=v.props[d],b=y?y===!0?h.params:typeof y=="function"?y(h):y:null,T=CO(m,re({},b,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return GA(n.default,{Component:T,route:h})||T}}});function GA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const pB=dB;function vB(e){const t=q3(e.routes,e),n=e.parseQuery||oB,r=e.stringifyQuery||VA,i=e.history,s=Pl(),a=Pl(),c=Pl(),l=IV(Go);let h=Go;Nu&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=e_.bind(null,V=>""+V),v=e_.bind(null,iB),m=e_.bind(null,wp);function y(V,ot){let H,pt;return kO(V)?(H=t.getRecordMatcher(V),pt=ot):pt=V,t.addRoute(pt,H)}function b(V){const ot=t.getRecordMatcher(V);ot&&t.removeRoute(ot)}function E(){return t.getRoutes().map(V=>V.record)}function T(V){return!!t.getRecordMatcher(V)}function C(V,ot){if(ot=re({},ot||l.value),typeof V=="string"){const k=n_(n,V,ot.path),M=t.resolve({path:k.path},ot),B=i.createHref(k.fullPath);return re(k,M,{params:m(M.params),hash:wp(k.hash),redirectedFrom:void 0,href:B})}let H;if("path"in V)H=re({},V,{path:n_(n,V.path,ot.path).path});else{const k=re({},V.params);for(const M in k)k[M]==null&&delete k[M];H=re({},V,{params:v(k)}),ot.params=v(ot.params)}const pt=t.resolve(H,ot),zt=V.hash||"";pt.params=d(m(pt.params));const S=m3(r,re({},V,{hash:eB(zt),path:pt.path})),A=i.createHref(S);return re({fullPath:S,hash:zt,query:r===VA?sB(V.query):V.query||{}},pt,{redirectedFrom:void 0,href:A})}function x(V){return typeof V=="string"?n_(n,V,l.value.path):re({},V)}function D(V,ot){if(h!==V)return nc(8,{from:ot,to:V})}function F(V){return Tt(V)}function X(V){return F(re(x(V),{replace:!0}))}function j(V){const ot=V.matched[V.matched.length-1];if(ot&&ot.redirect){const{redirect:H}=ot;let pt=typeof H=="function"?H(V):H;return typeof pt=="string"&&(pt=pt.includes("?")||pt.includes("#")?pt=x(pt):{path:pt},pt.params={}),re({query:V.query,hash:V.hash,params:"path"in pt?{}:V.params},pt)}}function Tt(V,ot){const H=h=C(V),pt=l.value,zt=V.state,S=V.force,A=V.replace===!0,k=j(H);if(k)return Tt(re(x(k),{state:typeof k=="object"?re({},zt,k.state):zt,force:S,replace:A}),ot||H);const M=H;M.redirectedFrom=ot;let B;return!S&&y3(r,pt,H)&&(B=nc(16,{to:M,from:pt}),gn(pt,pt,!0,!1)),(B?Promise.resolve(B):vn(M,pt)).catch(q=>io(q)?io(q,2)?q:Pr(q):Yt(q,M,pt)).then(q=>{if(q){if(io(q,2))return Tt(re({replace:A},x(q.to),{state:typeof q.to=="object"?re({},zt,q.to.state):zt,force:S}),ot||M)}else q=bi(M,pt,!0,A,zt);return O(M,pt,q),q})}function ee(V,ot){const H=D(V,ot);return H?Promise.reject(H):Promise.resolve()}function dt(V){const ot=Xi.values().next().value;return ot&&typeof ot.runWithContext=="function"?ot.runWithContext(V):V()}function vn(V,ot){let H;const[pt,zt,S]=gB(V,ot);H=r_(pt.reverse(),"beforeRouteLeave",V,ot);for(const k of pt)k.leaveGuards.forEach(M=>{H.push(Jo(M,V,ot))});const A=ee.bind(null,V,ot);return H.push(A),an(H).then(()=>{H=[];for(const k of s.list())H.push(Jo(k,V,ot));return H.push(A),an(H)}).then(()=>{H=r_(zt,"beforeRouteUpdate",V,ot);for(const k of zt)k.updateGuards.forEach(M=>{H.push(Jo(M,V,ot))});return H.push(A),an(H)}).then(()=>{H=[];for(const k of S)if(k.beforeEnter)if(vi(k.beforeEnter))for(const M of k.beforeEnter)H.push(Jo(M,V,ot));else H.push(Jo(k.beforeEnter,V,ot));return H.push(A),an(H)}).then(()=>(V.matched.forEach(k=>k.enterCallbacks={}),H=r_(S,"beforeRouteEnter",V,ot),H.push(A),an(H))).then(()=>{H=[];for(const k of a.list())H.push(Jo(k,V,ot));return H.push(A),an(H)}).catch(k=>io(k,8)?k:Promise.reject(k))}function O(V,ot,H){c.list().forEach(pt=>dt(()=>pt(V,ot,H)))}function bi(V,ot,H,pt,zt){const S=D(V,ot);if(S)return S;const A=ot===Go,k=Nu?history.state:{};H&&(pt||A?i.replace(V.fullPath,re({scroll:A&&k&&k.scroll},zt)):i.push(V.fullPath,zt)),l.value=V,gn(V,ot,H,A),Pr()}let In;function Rs(){In||(In=i.listen((V,ot,H)=>{if(!Os.listening)return;const pt=C(V),zt=j(pt);if(zt){Tt(re(zt,{replace:!0}),pt).catch(Jl);return}h=pt;const S=l.value;Nu&&A3(xA(S.fullPath,H.delta),Iv()),vn(pt,S).catch(A=>io(A,12)?A:io(A,2)?(Tt(A.to,pt).then(k=>{io(k,20)&&!H.delta&&H.type===yf.pop&&i.go(-1,!1)}).catch(Jl),Promise.reject()):(H.delta&&i.go(-H.delta,!1),Yt(A,pt,S))).then(A=>{A=A||bi(pt,S,!1),A&&(H.delta&&!io(A,8)?i.go(-H.delta,!1):H.type===yf.pop&&io(A,20)&&i.go(-1,!1)),O(pt,S,A)}).catch(Jl)}))}let Ei=Pl(),ye=Pl(),Gt;function Yt(V,ot,H){Pr(V);const pt=ye.list();return pt.length?pt.forEach(zt=>zt(V,ot,H)):console.error(V),Promise.reject(V)}function Se(){return Gt&&l.value!==Go?Promise.resolve():new Promise((V,ot)=>{Ei.add([V,ot])})}function Pr(V){return Gt||(Gt=!V,Rs(),Ei.list().forEach(([ot,H])=>V?H(V):ot()),Ei.reset()),V}function gn(V,ot,H,pt){const{scrollBehavior:zt}=e;if(!Nu||!zt)return Promise.resolve();const S=!H&&C3(xA(V.fullPath,0))||(pt||!H)&&history.state&&history.state.scroll||null;return eO().then(()=>zt(V,ot,S)).then(A=>A&&S3(A)).catch(A=>Yt(A,V,ot))}const sn=V=>i.go(V);let Qi;const Xi=new Set,Os={currentRoute:l,listening:!0,addRoute:y,removeRoute:b,hasRoute:T,getRoutes:E,resolve:C,options:e,push:F,replace:X,go:sn,back:()=>sn(-1),forward:()=>sn(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:ye.add,isReady:Se,install(V){const ot=this;V.component("RouterLink",lB),V.component("RouterView",pB),V.config.globalProperties.$router=ot,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>Bu(l)}),Nu&&!Qi&&l.value===Go&&(Qi=!0,F(i.location).catch(zt=>{}));const H={};for(const zt in Go)Object.defineProperty(H,zt,{get:()=>l.value[zt],enumerable:!0});V.provide(Sv,ot),V.provide(L0,YR(H)),V.provide(vw,l);const pt=V.unmount;Xi.add(V),V.unmount=function(){Xi.delete(V),Xi.size<1&&(h=Go,In&&In(),In=null,l.value=Go,Qi=!1,Gt=!1),pt()}}};function an(V){return V.reduce((ot,H)=>ot.then(()=>dt(H)),Promise.resolve())}return Os}function gB(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const c=t.matched[a];c&&(e.matched.find(h=>ec(h,c))?r.push(c):n.push(c));const l=e.matched[a];l&&(t.matched.find(h=>ec(h,l))||i.push(l))}return[n,r,i]}function jO(){return hi(Sv)}function mB(){return hi(L0)}const kr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},yB={},_B={class:"hidden lg:block lg:w-2/5 px-4 py-2"},wB=U("div",{class:"relative mb-5"},[U("input",{placeholder:"트위터 검색",type:"text",class:"pl-10 rounded-full w-full p-2 bg-gray-100 text-sm focus:ring-1 focus:ring-primary focus:bg-white focus:outline-none"}),U("i",{class:"fas fa-search absolute left-0 mt-2 ml-3 text-sm text-light"})],-1),bB={class:"w-full rounded-lg bg-gray-50 flex flex-col"},EB=U("div",{class:"flex items-center justify-between px-3 py-1 border-b border-gray-100"},[U("span",{class:"text-lg font-bold"},"나를 위한 트렌드"),U("i",{class:"text-center fas fa-cog text-lg text-primary hover:bg-blue-50 p-2 rounded-full"})],-1),TB=La('<div class="flex"><div class="flex-1 flex flex-col"><div class="text-gray-500">대한민국에서 트렌드 중</div><div class="font-bold text-lg">하하하</div><div class="text-gray-500">3,564 트윗</div></div><i class="fas fa-ellipsis-h text-gray-500"></i></div>',1),IB=[TB],SB=U("div",{class:"px-4 py-2 hover:bg-gray-100"},[U("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"},"더 보기")],-1),AB={class:"mt-5 w-full rounded-lg bg-gray-50 flex flex-col"},CB=U("div",{class:"px-3 py-3 border-b border-gray-100"},[U("span",{class:"text-lg font-bold"},"팔로우 추천")],-1),NB=La('<div class="flex items-center"><img src="http://picsum.photos/200" class="w-12 h-12 rounded-full mr-2"><div class="flex-1 flex flex-col"><div class="font-bold">정재웅</div><div class="text-gray-500 text-sm">@jung_jaeWoong</div></div><div><button class="border-2 border-primary hover:bg-blue-100 px-2 py-1 rounded-full text-primary text-sm">팔로우</button></div></div>',1),RB=[NB],OB=U("div",{class:"px-4 py-2 hover:bg-gray-100"},[U("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"},"더 보기")],-1);function kB(e,t,n,r,i,s){return Bt(),ue("div",_B,[wB,U("div",bB,[EB,(Bt(),ue(Xe,null,gs(3,a=>U("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},IB)),64)),SB]),U("div",AB,[CB,(Bt(),ue(Xe,null,gs(3,a=>U("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},RB)),64)),OB])])}const F0=kr(yB,[["render",kB]]);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var VO;function it(){return VO.apply(null,arguments)}function xB(e){VO=e}function gi(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ga(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function U0(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Jt(e,t))return!1;return!0}function or(e){return e===void 0}function To(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Xf(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function BO(e,t){var n=[],r,i=e.length;for(r=0;r<i;++r)n.push(t(e[r],r));return n}function ss(e,t){for(var n in t)Jt(t,n)&&(e[n]=t[n]);return Jt(t,"toString")&&(e.toString=t.toString),Jt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Yi(e,t,n,r){return fk(e,t,n,r,!0).utc()}function PB(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kt(e){return e._pf==null&&(e._pf=PB()),e._pf}var gw;Array.prototype.some?gw=Array.prototype.some:gw=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function j0(e){if(e._isValid==null){var t=kt(e),n=gw.call(t.parsedDateParts,function(i){return i!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function Av(e){var t=Yi(NaN);return e!=null?ss(kt(t),e):kt(t).userInvalidated=!0,t}var YA=it.momentProperties=[],i_=!1;function V0(e,t){var n,r,i,s=YA.length;if(or(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),or(t._i)||(e._i=t._i),or(t._f)||(e._f=t._f),or(t._l)||(e._l=t._l),or(t._strict)||(e._strict=t._strict),or(t._tzm)||(e._tzm=t._tzm),or(t._isUTC)||(e._isUTC=t._isUTC),or(t._offset)||(e._offset=t._offset),or(t._pf)||(e._pf=kt(t)),or(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)r=YA[n],i=t[r],or(i)||(e[r]=i);return e}function Jf(e){V0(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),i_===!1&&(i_=!0,it.updateOffset(this),i_=!1)}function mi(e){return e instanceof Jf||e!=null&&e._isAMomentObject!=null}function qO(e){it.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Yr(e,t){var n=!0;return ss(function(){if(it.deprecationHandler!=null&&it.deprecationHandler(null,e),n){var r=[],i,s,a,c=arguments.length;for(s=0;s<c;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])Jt(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}qO(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var $A={};function WO(e,t){it.deprecationHandler!=null&&it.deprecationHandler(e,t),$A[e]||(qO(t),$A[e]=!0)}it.suppressDeprecationWarnings=!1;it.deprecationHandler=null;function $i(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function DB(e){var t,n;for(n in e)Jt(e,n)&&(t=e[n],$i(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mw(e,t){var n=ss({},e),r;for(r in t)Jt(t,r)&&(ga(e[r])&&ga(t[r])?(n[r]={},ss(n[r],e[r]),ss(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)Jt(e,r)&&!Jt(t,r)&&ga(e[r])&&(n[r]=ss({},n[r]));return n}function B0(e){e!=null&&this.set(e)}var yw;Object.keys?yw=Object.keys:yw=function(e){var t,n=[];for(t in e)Jt(e,t)&&n.push(t);return n};var MB={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function LB(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return $i(r)?r.call(t,n):r}function Wi(e,t,n){var r=""+Math.abs(e),i=t-r.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var q0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Od=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,o_={},Hu={};function _t(e,t,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),e&&(Hu[e]=i),t&&(Hu[t[0]]=function(){return Wi(i.apply(this,arguments),t[1],t[2])}),n&&(Hu[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function FB(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function UB(e){var t=e.match(q0),n,r;for(n=0,r=t.length;n<r;n++)Hu[t[n]]?t[n]=Hu[t[n]]:t[n]=FB(t[n]);return function(i){var s="",a;for(a=0;a<r;a++)s+=$i(t[a])?t[a].call(i,e):t[a];return s}}function tp(e,t){return e.isValid()?(t=HO(t,e.localeData()),o_[t]=o_[t]||UB(t),o_[t](e)):e.localeData().invalidDate()}function HO(e,t){var n=5;function r(i){return t.longDateFormat(i)||i}for(Od.lastIndex=0;n>=0&&Od.test(e);)e=e.replace(Od,r),Od.lastIndex=0,n-=1;return e}var jB={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function VB(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(q0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var BB="Invalid date";function qB(){return this._invalidDate}var WB="%d",HB=/\d{1,2}/;function GB(e){return this._ordinal.replace("%d",e)}var YB={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $B(e,t,n,r){var i=this._relativeTime[n];return $i(i)?i(e,t,n,r):i.replace(/%d/i,e)}function zB(e,t){var n=this._relativeTime[e>0?"future":"past"];return $i(n)?n(t):n.replace(/%s/i,t)}var tf={};function Ln(e,t){var n=e.toLowerCase();tf[n]=tf[n+"s"]=tf[t]=e}function $r(e){return typeof e=="string"?tf[e]||tf[e.toLowerCase()]:void 0}function W0(e){var t={},n,r;for(r in e)Jt(e,r)&&(n=$r(r),n&&(t[n]=e[r]));return t}var GO={};function Fn(e,t){GO[e]=t}function KB(e){var t=[],n;for(n in e)Jt(e,n)&&t.push({unit:n,priority:GO[n]});return t.sort(function(r,i){return r.priority-i.priority}),t}function Cv(e){return e%4===0&&e%100!==0||e%400===0}function jr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Mt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=jr(t)),n}function Rc(e,t){return function(n){return n!=null?(YO(this,e,n),it.updateOffset(this,t),this):bp(this,e)}}function bp(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function YO(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Cv(e.year())&&e.month()===1&&e.date()===29?(n=Mt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Pv(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function QB(e){return e=$r(e),$i(this[e])?this[e]():this}function XB(e,t){if(typeof e=="object"){e=W0(e);var n=KB(e),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](e[n[r].unit])}else if(e=$r(e),$i(this[e]))return this[e](t);return this}var $O=/\d/,xr=/\d\d/,zO=/\d{3}/,H0=/\d{4}/,Nv=/[+-]?\d{6}/,me=/\d\d?/,KO=/\d\d\d\d?/,QO=/\d\d\d\d\d\d?/,Rv=/\d{1,3}/,G0=/\d{1,4}/,Ov=/[+-]?\d{1,6}/,Oc=/\d+/,kv=/[+-]?\d+/,JB=/Z|[+-]\d\d:?\d\d/gi,xv=/Z|[+-]\d\d(?::?\d\d)?/gi,ZB=/[+-]?\d+(\.\d{1,3})?/,Zf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ep;Ep={};function st(e,t,n){Ep[e]=$i(t)?t:function(r,i){return r&&n?n:t}}function tq(e,t){return Jt(Ep,e)?Ep[e](t._strict,t._locale):new RegExp(eq(e))}function eq(e){return Er(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,i,s){return n||r||i||s}))}function Er(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var _w={};function fe(e,t){var n,r=t,i;for(typeof e=="string"&&(e=[e]),To(t)&&(r=function(s,a){a[t]=Mt(s)}),i=e.length,n=0;n<i;n++)_w[e[n]]=r}function th(e,t){fe(e,function(n,r,i,s){i._w=i._w||{},t(n,i._w,i,s)})}function nq(e,t,n){t!=null&&Jt(_w,e)&&_w[e](t,n._a,n,e)}var On=0,fo=1,Mi=2,tn=3,si=4,ho=5,sa=6,rq=7,iq=8;function oq(e,t){return(e%t+t)%t}var Le;Array.prototype.indexOf?Le=Array.prototype.indexOf:Le=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Pv(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=oq(t,12);return e+=(t-n)/12,n===1?Cv(e)?29:28:31-n%7%2}_t("M",["MM",2],"Mo",function(){return this.month()+1});_t("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});_t("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ln("month","M");Fn("month",8);st("M",me);st("MM",me,xr);st("MMM",function(e,t){return t.monthsShortRegex(e)});st("MMMM",function(e,t){return t.monthsRegex(e)});fe(["M","MM"],function(e,t){t[fo]=Mt(e)-1});fe(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);i!=null?t[fo]=i:kt(n).invalidMonth=e});var sq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),XO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),JO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,aq=Zf,uq=Zf;function cq(e,t){return e?gi(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||JO).test(t)?"format":"standalone"][e.month()]:gi(this._months)?this._months:this._months.standalone}function lq(e,t){return e?gi(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[JO.test(t)?"format":"standalone"][e.month()]:gi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function fq(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=Yi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?t==="MMM"?(i=Le.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Le.call(this._longMonthsParse,a),i!==-1?i:null):t==="MMM"?(i=Le.call(this._shortMonthsParse,a),i!==-1?i:(i=Le.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Le.call(this._longMonthsParse,a),i!==-1?i:(i=Le.call(this._shortMonthsParse,a),i!==-1?i:null))}function hq(e,t,n){var r,i,s;if(this._monthsParseExact)return fq.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=Yi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ZO(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Mt(t);else if(t=e.localeData().monthsParse(t),!To(t))return e}return n=Math.min(e.date(),Pv(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function tk(e){return e!=null?(ZO(this,e),it.updateOffset(this,!0),this):bp(this,"Month")}function dq(){return Pv(this.year(),this.month())}function pq(e){return this._monthsParseExact?(Jt(this,"_monthsRegex")||ek.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Jt(this,"_monthsShortRegex")||(this._monthsShortRegex=aq),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function vq(e){return this._monthsParseExact?(Jt(this,"_monthsRegex")||ek.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Jt(this,"_monthsRegex")||(this._monthsRegex=uq),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ek(){function e(a,c){return c.length-a.length}var t=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=Yi([2e3,i]),t.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(t.sort(e),n.sort(e),r.sort(e),i=0;i<12;i++)t[i]=Er(t[i]),n[i]=Er(n[i]);for(i=0;i<24;i++)r[i]=Er(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}_t("Y",0,0,function(){var e=this.year();return e<=9999?Wi(e,4):"+"+e});_t(0,["YY",2],0,function(){return this.year()%100});_t(0,["YYYY",4],0,"year");_t(0,["YYYYY",5],0,"year");_t(0,["YYYYYY",6,!0],0,"year");Ln("year","y");Fn("year",1);st("Y",kv);st("YY",me,xr);st("YYYY",G0,H0);st("YYYYY",Ov,Nv);st("YYYYYY",Ov,Nv);fe(["YYYYY","YYYYYY"],On);fe("YYYY",function(e,t){t[On]=e.length===2?it.parseTwoDigitYear(e):Mt(e)});fe("YY",function(e,t){t[On]=it.parseTwoDigitYear(e)});fe("Y",function(e,t){t[On]=parseInt(e,10)});function ef(e){return Cv(e)?366:365}it.parseTwoDigitYear=function(e){return Mt(e)+(Mt(e)>68?1900:2e3)};var nk=Rc("FullYear",!0);function gq(){return Cv(this.year())}function mq(e,t,n,r,i,s,a){var c;return e<100&&e>=0?(c=new Date(e+400,t,n,r,i,s,a),isFinite(c.getFullYear())&&c.setFullYear(e)):c=new Date(e,t,n,r,i,s,a),c}function _f(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Tp(e,t,n){var r=7+t-n,i=(7+_f(e,0,r).getUTCDay()-t)%7;return-i+r-1}function rk(e,t,n,r,i){var s=(7+n-r)%7,a=Tp(e,r,i),c=1+7*(t-1)+s+a,l,h;return c<=0?(l=e-1,h=ef(l)+c):c>ef(e)?(l=e+1,h=c-ef(e)):(l=e,h=c),{year:l,dayOfYear:h}}function wf(e,t,n){var r=Tp(e.year(),t,n),i=Math.floor((e.dayOfYear()-r-1)/7)+1,s,a;return i<1?(a=e.year()-1,s=i+mo(a,t,n)):i>mo(e.year(),t,n)?(s=i-mo(e.year(),t,n),a=e.year()+1):(a=e.year(),s=i),{week:s,year:a}}function mo(e,t,n){var r=Tp(e,t,n),i=Tp(e+1,t,n);return(ef(e)-r+i)/7}_t("w",["ww",2],"wo","week");_t("W",["WW",2],"Wo","isoWeek");Ln("week","w");Ln("isoWeek","W");Fn("week",5);Fn("isoWeek",5);st("w",me);st("ww",me,xr);st("W",me);st("WW",me,xr);th(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Mt(e)});function yq(e){return wf(e,this._week.dow,this._week.doy).week}var _q={dow:0,doy:6};function wq(){return this._week.dow}function bq(){return this._week.doy}function Eq(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Tq(e){var t=wf(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}_t("d",0,"do","day");_t("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});_t("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});_t("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});_t("e",0,0,"weekday");_t("E",0,0,"isoWeekday");Ln("day","d");Ln("weekday","e");Ln("isoWeekday","E");Fn("day",11);Fn("weekday",11);Fn("isoWeekday",11);st("d",me);st("e",me);st("E",me);st("dd",function(e,t){return t.weekdaysMinRegex(e)});st("ddd",function(e,t){return t.weekdaysShortRegex(e)});st("dddd",function(e,t){return t.weekdaysRegex(e)});th(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);i!=null?t.d=i:kt(n).invalidWeekday=e});th(["d","e","E"],function(e,t,n,r){t[r]=Mt(e)});function Iq(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Sq(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Y0(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Aq="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ik="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cq="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Nq=Zf,Rq=Zf,Oq=Zf;function kq(e,t){var n=gi(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Y0(n,this._week.dow):e?n[e.day()]:n}function xq(e){return e===!0?Y0(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Pq(e){return e===!0?Y0(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Dq(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=Yi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?t==="dddd"?(i=Le.call(this._weekdaysParse,a),i!==-1?i:null):t==="ddd"?(i=Le.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Le.call(this._minWeekdaysParse,a),i!==-1?i:null):t==="dddd"?(i=Le.call(this._weekdaysParse,a),i!==-1||(i=Le.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=Le.call(this._minWeekdaysParse,a),i!==-1?i:null)):t==="ddd"?(i=Le.call(this._shortWeekdaysParse,a),i!==-1||(i=Le.call(this._weekdaysParse,a),i!==-1)?i:(i=Le.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=Le.call(this._minWeekdaysParse,a),i!==-1||(i=Le.call(this._weekdaysParse,a),i!==-1)?i:(i=Le.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function Mq(e,t,n){var r,i,s;if(this._weekdaysParseExact)return Dq.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=Yi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Lq(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=Iq(e,this.localeData()),this.add(e-t,"d")):t}function Fq(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Uq(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Sq(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function jq(e){return this._weekdaysParseExact?(Jt(this,"_weekdaysRegex")||$0.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Jt(this,"_weekdaysRegex")||(this._weekdaysRegex=Nq),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Vq(e){return this._weekdaysParseExact?(Jt(this,"_weekdaysRegex")||$0.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Jt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Rq),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bq(e){return this._weekdaysParseExact?(Jt(this,"_weekdaysRegex")||$0.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Jt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Oq),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $0(){function e(d,v){return v.length-d.length}var t=[],n=[],r=[],i=[],s,a,c,l,h;for(s=0;s<7;s++)a=Yi([2e3,1]).day(s),c=Er(this.weekdaysMin(a,"")),l=Er(this.weekdaysShort(a,"")),h=Er(this.weekdays(a,"")),t.push(c),n.push(l),r.push(h),i.push(c),i.push(l),i.push(h);t.sort(e),n.sort(e),r.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function z0(){return this.hours()%12||12}function qq(){return this.hours()||24}_t("H",["HH",2],0,"hour");_t("h",["hh",2],0,z0);_t("k",["kk",2],0,qq);_t("hmm",0,0,function(){return""+z0.apply(this)+Wi(this.minutes(),2)});_t("hmmss",0,0,function(){return""+z0.apply(this)+Wi(this.minutes(),2)+Wi(this.seconds(),2)});_t("Hmm",0,0,function(){return""+this.hours()+Wi(this.minutes(),2)});_t("Hmmss",0,0,function(){return""+this.hours()+Wi(this.minutes(),2)+Wi(this.seconds(),2)});function ok(e,t){_t(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}ok("a",!0);ok("A",!1);Ln("hour","h");Fn("hour",13);function sk(e,t){return t._meridiemParse}st("a",sk);st("A",sk);st("H",me);st("h",me);st("k",me);st("HH",me,xr);st("hh",me,xr);st("kk",me,xr);st("hmm",KO);st("hmmss",QO);st("Hmm",KO);st("Hmmss",QO);fe(["H","HH"],tn);fe(["k","kk"],function(e,t,n){var r=Mt(e);t[tn]=r===24?0:r});fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});fe(["h","hh"],function(e,t,n){t[tn]=Mt(e),kt(n).bigHour=!0});fe("hmm",function(e,t,n){var r=e.length-2;t[tn]=Mt(e.substr(0,r)),t[si]=Mt(e.substr(r)),kt(n).bigHour=!0});fe("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[tn]=Mt(e.substr(0,r)),t[si]=Mt(e.substr(r,2)),t[ho]=Mt(e.substr(i)),kt(n).bigHour=!0});fe("Hmm",function(e,t,n){var r=e.length-2;t[tn]=Mt(e.substr(0,r)),t[si]=Mt(e.substr(r))});fe("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[tn]=Mt(e.substr(0,r)),t[si]=Mt(e.substr(r,2)),t[ho]=Mt(e.substr(i))});function Wq(e){return(e+"").toLowerCase().charAt(0)==="p"}var Hq=/[ap]\.?m?\.?/i,Gq=Rc("Hours",!0);function Yq(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var ak={calendar:MB,longDateFormat:jB,invalidDate:BB,ordinal:WB,dayOfMonthOrdinalParse:HB,relativeTime:YB,months:sq,monthsShort:XO,week:_q,weekdays:Aq,weekdaysMin:Cq,weekdaysShort:ik,meridiemParse:Hq},Ee={},Dl={},bf;function $q(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function zA(e){return e&&e.toLowerCase().replace("_","-")}function zq(e){for(var t=0,n,r,i,s;t<e.length;){for(s=zA(e[t]).split("-"),n=s.length,r=zA(e[t+1]),r=r?r.split("-"):null;n>0;){if(i=Dv(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&$q(s,r)>=n-1)break;n--}t++}return bf}function Kq(e){return e.match("^[^/\\\\]*$")!=null}function Dv(e){var t=null,n;if(Ee[e]===void 0&&typeof dp<"u"&&dp&&dp.exports&&Kq(e))try{t=bf._abbr,n=require,n("./locale/"+e),fs(t)}catch{Ee[e]=null}return Ee[e]}function fs(e,t){var n;return e&&(or(t)?n=Oo(e):n=K0(e,t),n?bf=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),bf._abbr}function K0(e,t){if(t!==null){var n,r=ak;if(t.abbr=e,Ee[e]!=null)WO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ee[e]._config;else if(t.parentLocale!=null)if(Ee[t.parentLocale]!=null)r=Ee[t.parentLocale]._config;else if(n=Dv(t.parentLocale),n!=null)r=n._config;else return Dl[t.parentLocale]||(Dl[t.parentLocale]=[]),Dl[t.parentLocale].push({name:e,config:t}),null;return Ee[e]=new B0(mw(r,t)),Dl[e]&&Dl[e].forEach(function(i){K0(i.name,i.config)}),fs(e),Ee[e]}else return delete Ee[e],null}function Qq(e,t){if(t!=null){var n,r,i=ak;Ee[e]!=null&&Ee[e].parentLocale!=null?Ee[e].set(mw(Ee[e]._config,t)):(r=Dv(e),r!=null&&(i=r._config),t=mw(i,t),r==null&&(t.abbr=e),n=new B0(t),n.parentLocale=Ee[e],Ee[e]=n),fs(e)}else Ee[e]!=null&&(Ee[e].parentLocale!=null?(Ee[e]=Ee[e].parentLocale,e===fs()&&fs(e)):Ee[e]!=null&&delete Ee[e]);return Ee[e]}function Oo(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bf;if(!gi(e)){if(t=Dv(e),t)return t;e=[e]}return zq(e)}function Xq(){return yw(Ee)}function Q0(e){var t,n=e._a;return n&&kt(e).overflow===-2&&(t=n[fo]<0||n[fo]>11?fo:n[Mi]<1||n[Mi]>Pv(n[On],n[fo])?Mi:n[tn]<0||n[tn]>24||n[tn]===24&&(n[si]!==0||n[ho]!==0||n[sa]!==0)?tn:n[si]<0||n[si]>59?si:n[ho]<0||n[ho]>59?ho:n[sa]<0||n[sa]>999?sa:-1,kt(e)._overflowDayOfYear&&(t<On||t>Mi)&&(t=Mi),kt(e)._overflowWeeks&&t===-1&&(t=rq),kt(e)._overflowWeekday&&t===-1&&(t=iq),kt(e).overflow=t),e}var Jq=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zq=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tW=/Z|[+-]\d\d(?::?\d\d)?/,kd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],s_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],eW=/^\/?Date\((-?\d+)/i,nW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,rW={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function uk(e){var t,n,r=e._i,i=Jq.exec(r)||Zq.exec(r),s,a,c,l,h=kd.length,d=s_.length;if(i){for(kt(e).iso=!0,t=0,n=h;t<n;t++)if(kd[t][1].exec(i[1])){a=kd[t][0],s=kd[t][2]!==!1;break}if(a==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(s_[t][1].exec(i[3])){c=(i[2]||" ")+s_[t][0];break}if(c==null){e._isValid=!1;return}}if(!s&&c!=null){e._isValid=!1;return}if(i[4])if(tW.exec(i[4]))l="Z";else{e._isValid=!1;return}e._f=a+(c||"")+(l||""),J0(e)}else e._isValid=!1}function iW(e,t,n,r,i,s){var a=[oW(e),XO.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function oW(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function sW(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function aW(e,t,n){if(e){var r=ik.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(r!==i)return kt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function uW(e,t,n){if(e)return rW[e];if(t)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function ck(e){var t=nW.exec(sW(e._i)),n;if(t){if(n=iW(t[4],t[3],t[2],t[5],t[6],t[7]),!aW(t[1],n,e))return;e._a=n,e._tzm=uW(t[8],t[9],t[10]),e._d=_f.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),kt(e).rfc2822=!0}else e._isValid=!1}function cW(e){var t=eW.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(uk(e),e._isValid===!1)delete e._isValid;else return;if(ck(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:it.createFromInputFallback(e)}it.createFromInputFallback=Yr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ru(e,t,n){return e??t??n}function lW(e){var t=new Date(it.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function X0(e){var t,n,r=[],i,s,a;if(!e._d){for(i=lW(e),e._w&&e._a[Mi]==null&&e._a[fo]==null&&fW(e),e._dayOfYear!=null&&(a=Ru(e._a[On],i[On]),(e._dayOfYear>ef(a)||e._dayOfYear===0)&&(kt(e)._overflowDayOfYear=!0),n=_f(a,0,e._dayOfYear),e._a[fo]=n.getUTCMonth(),e._a[Mi]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=i[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[tn]===24&&e._a[si]===0&&e._a[ho]===0&&e._a[sa]===0&&(e._nextDay=!0,e._a[tn]=0),e._d=(e._useUTC?_f:mq).apply(null,r),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[tn]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(kt(e).weekdayMismatch=!0)}}function fW(e){var t,n,r,i,s,a,c,l,h;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,a=4,n=Ru(t.GG,e._a[On],wf(ge(),1,4).year),r=Ru(t.W,1),i=Ru(t.E,1),(i<1||i>7)&&(l=!0)):(s=e._locale._week.dow,a=e._locale._week.doy,h=wf(ge(),s,a),n=Ru(t.gg,e._a[On],h.year),r=Ru(t.w,h.week),t.d!=null?(i=t.d,(i<0||i>6)&&(l=!0)):t.e!=null?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>mo(n,s,a)?kt(e)._overflowWeeks=!0:l!=null?kt(e)._overflowWeekday=!0:(c=rk(n,r,i,s,a),e._a[On]=c.year,e._dayOfYear=c.dayOfYear)}it.ISO_8601=function(){};it.RFC_2822=function(){};function J0(e){if(e._f===it.ISO_8601){uk(e);return}if(e._f===it.RFC_2822){ck(e);return}e._a=[],kt(e).empty=!0;var t=""+e._i,n,r,i,s,a,c=t.length,l=0,h,d;for(i=HO(e._f,e._locale).match(q0)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(t.match(tq(s,e))||[])[0],r&&(a=t.substr(0,t.indexOf(r)),a.length>0&&kt(e).unusedInput.push(a),t=t.slice(t.indexOf(r)+r.length),l+=r.length),Hu[s]?(r?kt(e).empty=!1:kt(e).unusedTokens.push(s),nq(s,r,e)):e._strict&&!r&&kt(e).unusedTokens.push(s);kt(e).charsLeftOver=c-l,t.length>0&&kt(e).unusedInput.push(t),e._a[tn]<=12&&kt(e).bigHour===!0&&e._a[tn]>0&&(kt(e).bigHour=void 0),kt(e).parsedDateParts=e._a.slice(0),kt(e).meridiem=e._meridiem,e._a[tn]=hW(e._locale,e._a[tn],e._meridiem),h=kt(e).era,h!==null&&(e._a[On]=e._locale.erasConvertYear(h,e._a[On])),X0(e),Q0(e)}function hW(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function dW(e){var t,n,r,i,s,a,c=!1,l=e._f.length;if(l===0){kt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,a=!1,t=V0({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],J0(t),j0(t)&&(a=!0),s+=kt(t).charsLeftOver,s+=kt(t).unusedTokens.length*10,kt(t).score=s,c?s<r&&(r=s,n=t):(r==null||s<r||a)&&(r=s,n=t,a&&(c=!0));ss(e,n||t)}function pW(e){if(!e._d){var t=W0(e._i),n=t.day===void 0?t.date:t.day;e._a=BO([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),X0(e)}}function vW(e){var t=new Jf(Q0(lk(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function lk(e){var t=e._i,n=e._f;return e._locale=e._locale||Oo(e._l),t===null||n===void 0&&t===""?Av({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),mi(t)?new Jf(Q0(t)):(Xf(t)?e._d=t:gi(n)?dW(e):n?J0(e):gW(e),j0(e)||(e._d=null),e))}function gW(e){var t=e._i;or(t)?e._d=new Date(it.now()):Xf(t)?e._d=new Date(t.valueOf()):typeof t=="string"?cW(e):gi(t)?(e._a=BO(t.slice(0),function(n){return parseInt(n,10)}),X0(e)):ga(t)?pW(e):To(t)?e._d=new Date(t):it.createFromInputFallback(e)}function fk(e,t,n,r,i){var s={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ga(e)&&U0(e)||gi(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=e,s._f=t,s._strict=r,vW(s)}function ge(e,t,n,r){return fk(e,t,n,r,!1)}var mW=Yr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ge.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Av()}),yW=Yr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ge.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Av()});function hk(e,t){var n,r;if(t.length===1&&gi(t[0])&&(t=t[0]),!t.length)return ge();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function _W(){var e=[].slice.call(arguments,0);return hk("isBefore",e)}function wW(){var e=[].slice.call(arguments,0);return hk("isAfter",e)}var bW=function(){return Date.now?Date.now():+new Date},Ml=["year","quarter","month","week","day","hour","minute","second","millisecond"];function EW(e){var t,n=!1,r,i=Ml.length;for(t in e)if(Jt(e,t)&&!(Le.call(Ml,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<i;++r)if(e[Ml[r]]){if(n)return!1;parseFloat(e[Ml[r]])!==Mt(e[Ml[r]])&&(n=!0)}return!0}function TW(){return this._isValid}function IW(){return _i(NaN)}function Mv(e){var t=W0(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,a=t.day||0,c=t.hour||0,l=t.minute||0,h=t.second||0,d=t.millisecond||0;this._isValid=EW(t),this._milliseconds=+d+h*1e3+l*6e4+c*1e3*60*60,this._days=+a+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Oo(),this._bubble()}function ep(e){return e instanceof Mv}function ww(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function SW(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,a;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&Mt(e[a])!==Mt(t[a]))&&s++;return s+i}function dk(e,t){_t(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Wi(~~(n/60),2)+t+Wi(~~n%60,2)})}dk("Z",":");dk("ZZ","");st("Z",xv);st("ZZ",xv);fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Z0(xv,e)});var AW=/([\+\-]|\d\d)/gi;function Z0(e,t){var n=(t||"").match(e),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(AW)||["-",0,0],s=+(i[1]*60)+Mt(i[2]),s===0?0:i[0]==="+"?s:-s)}function tb(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(mi(e)||Xf(e)?e.valueOf():ge(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),it.updateOffset(n,!1),n):ge(e).local()}function bw(e){return-Math.round(e._d.getTimezoneOffset())}it.updateOffset=function(){};function CW(e,t,n){var r=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Z0(xv,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=bw(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?gk(this,_i(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,it.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:bw(this)}function NW(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function RW(e){return this.utcOffset(0,e)}function OW(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(bw(this),"m")),this}function kW(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Z0(JB,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function xW(e){return this.isValid()?(e=e?ge(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function PW(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function DW(){if(!or(this._isDSTShifted))return this._isDSTShifted;var e={},t;return V0(e,this),e=lk(e),e._a?(t=e._isUTC?Yi(e._a):ge(e._a),this._isDSTShifted=this.isValid()&&SW(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function MW(){return this.isValid()?!this._isUTC:!1}function LW(){return this.isValid()?this._isUTC:!1}function pk(){return this.isValid()?this._isUTC&&this._offset===0:!1}var FW=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,UW=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _i(e,t){var n=e,r=null,i,s,a;return ep(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:To(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=FW.exec(e))?(i=r[1]==="-"?-1:1,n={y:0,d:Mt(r[Mi])*i,h:Mt(r[tn])*i,m:Mt(r[si])*i,s:Mt(r[ho])*i,ms:Mt(ww(r[sa]*1e3))*i}):(r=UW.exec(e))?(i=r[1]==="-"?-1:1,n={y:Js(r[2],i),M:Js(r[3],i),w:Js(r[4],i),d:Js(r[5],i),h:Js(r[6],i),m:Js(r[7],i),s:Js(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=jW(ge(n.from),ge(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new Mv(n),ep(e)&&Jt(e,"_locale")&&(s._locale=e._locale),ep(e)&&Jt(e,"_isValid")&&(s._isValid=e._isValid),s}_i.fn=Mv.prototype;_i.invalid=IW;function Js(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function KA(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function jW(e,t){var n;return e.isValid()&&t.isValid()?(t=tb(t,e),e.isBefore(t)?n=KA(e,t):(n=KA(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function vk(e,t){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(WO(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=_i(n,r),gk(this,i,e),this}}function gk(e,t,n,r){var i=t._milliseconds,s=ww(t._days),a=ww(t._months);e.isValid()&&(r=r??!0,a&&ZO(e,bp(e,"Month")+a*n),s&&YO(e,"Date",bp(e,"Date")+s*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&it.updateOffset(e,s||a))}var VW=vk(1,"add"),BW=vk(-1,"subtract");function mk(e){return typeof e=="string"||e instanceof String}function qW(e){return mi(e)||Xf(e)||mk(e)||To(e)||HW(e)||WW(e)||e===null||e===void 0}function WW(e){var t=ga(e)&&!U0(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=r.length;for(i=0;i<a;i+=1)s=r[i],n=n||Jt(e,s);return t&&n}function HW(e){var t=gi(e),n=!1;return t&&(n=e.filter(function(r){return!To(r)&&mk(e)}).length===0),t&&n}function GW(e){var t=ga(e)&&!U0(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Jt(e,s);return t&&n}function YW(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $W(e,t){arguments.length===1&&(arguments[0]?qW(arguments[0])?(e=arguments[0],t=void 0):GW(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ge(),r=tb(n,this).startOf("day"),i=it.calendarFormat(this,r)||"sameElse",s=t&&($i(t[i])?t[i].call(this,n):t[i]);return this.format(s||this.localeData().calendar(i,this,ge(n)))}function zW(){return new Jf(this)}function KW(e,t){var n=mi(e)?e:ge(e);return this.isValid()&&n.isValid()?(t=$r(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function QW(e,t){var n=mi(e)?e:ge(e);return this.isValid()&&n.isValid()?(t=$r(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function XW(e,t,n,r){var i=mi(e)?e:ge(e),s=mi(t)?t:ge(t);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function JW(e,t){var n=mi(e)?e:ge(e),r;return this.isValid()&&n.isValid()?(t=$r(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function ZW(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function tH(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function eH(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(r=tb(e,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,t=$r(t),t){case"year":s=np(this,r)/12;break;case"month":s=np(this,r);break;case"quarter":s=np(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:jr(s)}function np(e,t){if(e.date()<t.date())return-np(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),i,s;return t-r<0?(i=e.clone().add(n-1,"months"),s=(t-r)/(r-i)):(i=e.clone().add(n+1,"months"),s=(t-r)/(i-r)),-(n+s)||0}it.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";it.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function nH(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rH(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?tp(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$i(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",tp(n,"Z")):tp(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function iH(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,i,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(n+r+i+s)}function oH(e){e||(e=this.isUtc()?it.defaultFormatUtc:it.defaultFormat);var t=tp(this,e);return this.localeData().postformat(t)}function sH(e,t){return this.isValid()&&(mi(e)&&e.isValid()||ge(e).isValid())?_i({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function aH(e){return this.from(ge(),e)}function uH(e,t){return this.isValid()&&(mi(e)&&e.isValid()||ge(e).isValid())?_i({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cH(e){return this.to(ge(),e)}function yk(e){var t;return e===void 0?this._locale._abbr:(t=Oo(e),t!=null&&(this._locale=t),this)}var _k=Yr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function wk(){return this._locale}var Ip=1e3,Gu=60*Ip,Sp=60*Gu,bk=(365*400+97)*24*Sp;function Yu(e,t){return(e%t+t)%t}function Ek(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-bk:new Date(e,t,n).valueOf()}function Tk(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-bk:Date.UTC(e,t,n)}function lH(e){var t,n;if(e=$r(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Tk:Ek,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Yu(t+(this._isUTC?0:this.utcOffset()*Gu),Sp);break;case"minute":t=this._d.valueOf(),t-=Yu(t,Gu);break;case"second":t=this._d.valueOf(),t-=Yu(t,Ip);break}return this._d.setTime(t),it.updateOffset(this,!0),this}function fH(e){var t,n;if(e=$r(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Tk:Ek,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Sp-Yu(t+(this._isUTC?0:this.utcOffset()*Gu),Sp)-1;break;case"minute":t=this._d.valueOf(),t+=Gu-Yu(t,Gu)-1;break;case"second":t=this._d.valueOf(),t+=Ip-Yu(t,Ip)-1;break}return this._d.setTime(t),it.updateOffset(this,!0),this}function hH(){return this._d.valueOf()-(this._offset||0)*6e4}function dH(){return Math.floor(this.valueOf()/1e3)}function pH(){return new Date(this.valueOf())}function vH(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function gH(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function mH(){return this.isValid()?this.toISOString():null}function yH(){return j0(this)}function _H(){return ss({},kt(this))}function wH(){return kt(this).overflow}function bH(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_t("N",0,0,"eraAbbr");_t("NN",0,0,"eraAbbr");_t("NNN",0,0,"eraAbbr");_t("NNNN",0,0,"eraName");_t("NNNNN",0,0,"eraNarrow");_t("y",["y",1],"yo","eraYear");_t("y",["yy",2],0,"eraYear");_t("y",["yyy",3],0,"eraYear");_t("y",["yyyy",4],0,"eraYear");st("N",eb);st("NN",eb);st("NNN",eb);st("NNNN",xH);st("NNNNN",PH);fe(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?kt(n).era=i:kt(n).invalidEra=e});st("y",Oc);st("yy",Oc);st("yyy",Oc);st("yyyy",Oc);st("yo",DH);fe(["y","yy","yyy","yyyy"],On);fe(["yo"],function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[On]=n._locale.eraYearOrdinalParse(e,i):t[On]=parseInt(e,10)});function EH(e,t){var n,r,i,s=this._eras||Oo("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=it(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=it(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function TH(e,t,n){var r,i,s=this.eras(),a,c,l;for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),c=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(c===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(l===e)return s[r];break}else if([a,c,l].indexOf(e)>=0)return s[r]}function IH(e,t){var n=e.since<=e.until?1:-1;return t===void 0?it(e.since).year():it(e.since).year()+(t-e.offset)*n}function SH(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function AH(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function CH(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function NH(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-it(i[e].since).year())*n+i[e].offset;return this.year()}function RH(e){return Jt(this,"_erasNameRegex")||nb.call(this),e?this._erasNameRegex:this._erasRegex}function OH(e){return Jt(this,"_erasAbbrRegex")||nb.call(this),e?this._erasAbbrRegex:this._erasRegex}function kH(e){return Jt(this,"_erasNarrowRegex")||nb.call(this),e?this._erasNarrowRegex:this._erasRegex}function eb(e,t){return t.erasAbbrRegex(e)}function xH(e,t){return t.erasNameRegex(e)}function PH(e,t){return t.erasNarrowRegex(e)}function DH(e,t){return t._eraYearOrdinalRegex||Oc}function nb(){var e=[],t=[],n=[],r=[],i,s,a=this.eras();for(i=0,s=a.length;i<s;++i)t.push(Er(a[i].name)),e.push(Er(a[i].abbr)),n.push(Er(a[i].narrow)),r.push(Er(a[i].name)),r.push(Er(a[i].abbr)),r.push(Er(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}_t(0,["gg",2],0,function(){return this.weekYear()%100});_t(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Lv(e,t){_t(0,[e,e.length],0,t)}Lv("gggg","weekYear");Lv("ggggg","weekYear");Lv("GGGG","isoWeekYear");Lv("GGGGG","isoWeekYear");Ln("weekYear","gg");Ln("isoWeekYear","GG");Fn("weekYear",1);Fn("isoWeekYear",1);st("G",kv);st("g",kv);st("GG",me,xr);st("gg",me,xr);st("GGGG",G0,H0);st("gggg",G0,H0);st("GGGGG",Ov,Nv);st("ggggg",Ov,Nv);th(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Mt(e)});th(["gg","GG"],function(e,t,n,r){t[r]=it.parseTwoDigitYear(e)});function MH(e){return Ik.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function LH(e){return Ik.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function FH(){return mo(this.year(),1,4)}function UH(){return mo(this.isoWeekYear(),1,4)}function jH(){var e=this.localeData()._week;return mo(this.year(),e.dow,e.doy)}function VH(){var e=this.localeData()._week;return mo(this.weekYear(),e.dow,e.doy)}function Ik(e,t,n,r,i){var s;return e==null?wf(this,r,i).year:(s=mo(e,r,i),t>s&&(t=s),BH.call(this,e,t,n,r,i))}function BH(e,t,n,r,i){var s=rk(e,t,n,r,i),a=_f(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}_t("Q",0,"Qo","quarter");Ln("quarter","Q");Fn("quarter",7);st("Q",$O);fe("Q",function(e,t){t[fo]=(Mt(e)-1)*3});function qH(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}_t("D",["DD",2],"Do","date");Ln("date","D");Fn("date",9);st("D",me);st("DD",me,xr);st("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});fe(["D","DD"],Mi);fe("Do",function(e,t){t[Mi]=Mt(e.match(me)[0])});var Sk=Rc("Date",!0);_t("DDD",["DDDD",3],"DDDo","dayOfYear");Ln("dayOfYear","DDD");Fn("dayOfYear",4);st("DDD",Rv);st("DDDD",zO);fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Mt(e)});function WH(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}_t("m",["mm",2],0,"minute");Ln("minute","m");Fn("minute",14);st("m",me);st("mm",me,xr);fe(["m","mm"],si);var HH=Rc("Minutes",!1);_t("s",["ss",2],0,"second");Ln("second","s");Fn("second",15);st("s",me);st("ss",me,xr);fe(["s","ss"],ho);var GH=Rc("Seconds",!1);_t("S",0,0,function(){return~~(this.millisecond()/100)});_t(0,["SS",2],0,function(){return~~(this.millisecond()/10)});_t(0,["SSS",3],0,"millisecond");_t(0,["SSSS",4],0,function(){return this.millisecond()*10});_t(0,["SSSSS",5],0,function(){return this.millisecond()*100});_t(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});_t(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});_t(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});_t(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ln("millisecond","ms");Fn("millisecond",16);st("S",Rv,$O);st("SS",Rv,xr);st("SSS",Rv,zO);var as,Ak;for(as="SSSS";as.length<=9;as+="S")st(as,Oc);function YH(e,t){t[sa]=Mt(("0."+e)*1e3)}for(as="S";as.length<=9;as+="S")fe(as,YH);Ak=Rc("Milliseconds",!1);_t("z",0,0,"zoneAbbr");_t("zz",0,0,"zoneName");function $H(){return this._isUTC?"UTC":""}function zH(){return this._isUTC?"Coordinated Universal Time":""}var Q=Jf.prototype;Q.add=VW;Q.calendar=$W;Q.clone=zW;Q.diff=eH;Q.endOf=fH;Q.format=oH;Q.from=sH;Q.fromNow=aH;Q.to=uH;Q.toNow=cH;Q.get=QB;Q.invalidAt=wH;Q.isAfter=KW;Q.isBefore=QW;Q.isBetween=XW;Q.isSame=JW;Q.isSameOrAfter=ZW;Q.isSameOrBefore=tH;Q.isValid=yH;Q.lang=_k;Q.locale=yk;Q.localeData=wk;Q.max=yW;Q.min=mW;Q.parsingFlags=_H;Q.set=XB;Q.startOf=lH;Q.subtract=BW;Q.toArray=vH;Q.toObject=gH;Q.toDate=pH;Q.toISOString=rH;Q.inspect=iH;typeof Symbol<"u"&&Symbol.for!=null&&(Q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Q.toJSON=mH;Q.toString=nH;Q.unix=dH;Q.valueOf=hH;Q.creationData=bH;Q.eraName=SH;Q.eraNarrow=AH;Q.eraAbbr=CH;Q.eraYear=NH;Q.year=nk;Q.isLeapYear=gq;Q.weekYear=MH;Q.isoWeekYear=LH;Q.quarter=Q.quarters=qH;Q.month=tk;Q.daysInMonth=dq;Q.week=Q.weeks=Eq;Q.isoWeek=Q.isoWeeks=Tq;Q.weeksInYear=jH;Q.weeksInWeekYear=VH;Q.isoWeeksInYear=FH;Q.isoWeeksInISOWeekYear=UH;Q.date=Sk;Q.day=Q.days=Lq;Q.weekday=Fq;Q.isoWeekday=Uq;Q.dayOfYear=WH;Q.hour=Q.hours=Gq;Q.minute=Q.minutes=HH;Q.second=Q.seconds=GH;Q.millisecond=Q.milliseconds=Ak;Q.utcOffset=CW;Q.utc=RW;Q.local=OW;Q.parseZone=kW;Q.hasAlignedHourOffset=xW;Q.isDST=PW;Q.isLocal=MW;Q.isUtcOffset=LW;Q.isUtc=pk;Q.isUTC=pk;Q.zoneAbbr=$H;Q.zoneName=zH;Q.dates=Yr("dates accessor is deprecated. Use date instead.",Sk);Q.months=Yr("months accessor is deprecated. Use month instead",tk);Q.years=Yr("years accessor is deprecated. Use year instead",nk);Q.zone=Yr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",NW);Q.isDSTShifted=Yr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",DW);function KH(e){return ge(e*1e3)}function QH(){return ge.apply(null,arguments).parseZone()}function Ck(e){return e}var Zt=B0.prototype;Zt.calendar=LB;Zt.longDateFormat=VB;Zt.invalidDate=qB;Zt.ordinal=GB;Zt.preparse=Ck;Zt.postformat=Ck;Zt.relativeTime=$B;Zt.pastFuture=zB;Zt.set=DB;Zt.eras=EH;Zt.erasParse=TH;Zt.erasConvertYear=IH;Zt.erasAbbrRegex=OH;Zt.erasNameRegex=RH;Zt.erasNarrowRegex=kH;Zt.months=cq;Zt.monthsShort=lq;Zt.monthsParse=hq;Zt.monthsRegex=vq;Zt.monthsShortRegex=pq;Zt.week=yq;Zt.firstDayOfYear=bq;Zt.firstDayOfWeek=wq;Zt.weekdays=kq;Zt.weekdaysMin=Pq;Zt.weekdaysShort=xq;Zt.weekdaysParse=Mq;Zt.weekdaysRegex=jq;Zt.weekdaysShortRegex=Vq;Zt.weekdaysMinRegex=Bq;Zt.isPM=Wq;Zt.meridiem=Yq;function Ap(e,t,n,r){var i=Oo(),s=Yi().set(r,t);return i[n](s,e)}function Nk(e,t,n){if(To(e)&&(t=e,e=void 0),e=e||"",t!=null)return Ap(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Ap(e,r,n,"month");return i}function rb(e,t,n,r){typeof e=="boolean"?(To(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,To(t)&&(n=t,t=void 0),t=t||"");var i=Oo(),s=e?i._week.dow:0,a,c=[];if(n!=null)return Ap(t,(n+s)%7,r,"day");for(a=0;a<7;a++)c[a]=Ap(t,(a+s)%7,r,"day");return c}function XH(e,t){return Nk(e,t,"months")}function JH(e,t){return Nk(e,t,"monthsShort")}function ZH(e,t,n){return rb(e,t,n,"weekdays")}function tG(e,t,n){return rb(e,t,n,"weekdaysShort")}function eG(e,t,n){return rb(e,t,n,"weekdaysMin")}fs("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Mt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});it.lang=Yr("moment.lang is deprecated. Use moment.locale instead.",fs);it.langData=Yr("moment.langData is deprecated. Use moment.localeData instead.",Oo);var oo=Math.abs;function nG(){var e=this._data;return this._milliseconds=oo(this._milliseconds),this._days=oo(this._days),this._months=oo(this._months),e.milliseconds=oo(e.milliseconds),e.seconds=oo(e.seconds),e.minutes=oo(e.minutes),e.hours=oo(e.hours),e.months=oo(e.months),e.years=oo(e.years),this}function Rk(e,t,n,r){var i=_i(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function rG(e,t){return Rk(this,e,t,1)}function iG(e,t){return Rk(this,e,t,-1)}function QA(e){return e<0?Math.floor(e):Math.ceil(e)}function oG(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,a,c,l;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=QA(Ew(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,i=jr(e/1e3),r.seconds=i%60,s=jr(i/60),r.minutes=s%60,a=jr(s/60),r.hours=a%24,t+=jr(a/24),l=jr(Ok(t)),n+=l,t-=QA(Ew(l)),c=jr(n/12),n%=12,r.days=t,r.months=n,r.years=c,this}function Ok(e){return e*4800/146097}function Ew(e){return e*146097/4800}function sG(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=$r(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Ok(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ew(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function aG(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Mt(this._months/12)*31536e6:NaN}function ko(e){return function(){return this.as(e)}}var uG=ko("ms"),cG=ko("s"),lG=ko("m"),fG=ko("h"),hG=ko("d"),dG=ko("w"),pG=ko("M"),vG=ko("Q"),gG=ko("y");function mG(){return _i(this)}function yG(e){return e=$r(e),this.isValid()?this[e+"s"]():NaN}function Fa(e){return function(){return this.isValid()?this._data[e]:NaN}}var _G=Fa("milliseconds"),wG=Fa("seconds"),bG=Fa("minutes"),EG=Fa("hours"),TG=Fa("days"),IG=Fa("months"),SG=Fa("years");function AG(){return jr(this.days()/7)}var co=Math.round,Du={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function CG(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function NG(e,t,n,r){var i=_i(e).abs(),s=co(i.as("s")),a=co(i.as("m")),c=co(i.as("h")),l=co(i.as("d")),h=co(i.as("M")),d=co(i.as("w")),v=co(i.as("y")),m=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||c<=1&&["h"]||c<n.h&&["hh",c]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(m=m||d<=1&&["w"]||d<n.w&&["ww",d]),m=m||h<=1&&["M"]||h<n.M&&["MM",h]||v<=1&&["y"]||["yy",v],m[2]=t,m[3]=+e>0,m[4]=r,CG.apply(null,m)}function RG(e){return e===void 0?co:typeof e=="function"?(co=e,!0):!1}function OG(e,t){return Du[e]===void 0?!1:t===void 0?Du[e]:(Du[e]=t,e==="s"&&(Du.ss=t-1),!0)}function kG(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Du,i,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Du,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),i=this.localeData(),s=NG(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var a_=Math.abs;function wu(e){return(e>0)-(e<0)||+e}function Fv(){if(!this.isValid())return this.localeData().invalidDate();var e=a_(this._milliseconds)/1e3,t=a_(this._days),n=a_(this._months),r,i,s,a,c=this.asSeconds(),l,h,d,v;return c?(r=jr(e/60),i=jr(r/60),e%=60,r%=60,s=jr(n/12),n%=12,a=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=c<0?"-":"",h=wu(this._months)!==wu(c)?"-":"",d=wu(this._days)!==wu(c)?"-":"",v=wu(this._milliseconds)!==wu(c)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(t?d+t+"D":"")+(i||r||e?"T":"")+(i?v+i+"H":"")+(r?v+r+"M":"")+(e?v+a+"S":"")):"P0D"}var Ht=Mv.prototype;Ht.isValid=TW;Ht.abs=nG;Ht.add=rG;Ht.subtract=iG;Ht.as=sG;Ht.asMilliseconds=uG;Ht.asSeconds=cG;Ht.asMinutes=lG;Ht.asHours=fG;Ht.asDays=hG;Ht.asWeeks=dG;Ht.asMonths=pG;Ht.asQuarters=vG;Ht.asYears=gG;Ht.valueOf=aG;Ht._bubble=oG;Ht.clone=mG;Ht.get=yG;Ht.milliseconds=_G;Ht.seconds=wG;Ht.minutes=bG;Ht.hours=EG;Ht.days=TG;Ht.weeks=AG;Ht.months=IG;Ht.years=SG;Ht.humanize=kG;Ht.toISOString=Fv;Ht.toString=Fv;Ht.toJSON=Fv;Ht.locale=yk;Ht.localeData=wk;Ht.toIsoString=Yr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fv);Ht.lang=_k;_t("X",0,0,"unix");_t("x",0,0,"valueOf");st("x",kv);st("X",ZB);fe("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});fe("x",function(e,t,n){n._d=new Date(Mt(e))});//! moment.js
it.version="2.29.4";xB(ge);it.fn=Q;it.min=_W;it.max=wW;it.now=bW;it.utc=Yi;it.unix=KH;it.months=XH;it.isDate=Xf;it.locale=fs;it.invalid=Av;it.duration=_i;it.isMoment=mi;it.weekdays=ZH;it.parseZone=QH;it.localeData=Oo;it.isDuration=ep;it.monthsShort=JH;it.weekdaysMin=eG;it.defineLocale=K0;it.updateLocale=Qq;it.locales=Xq;it.weekdaysShort=tG;it.normalizeUnits=$r;it.relativeTimeRounding=RG;it.relativeTimeThreshold=OG;it.calendarFormat=YW;it.prototype=Q;it.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const xG={props:["currentUser","tweet"],setup(){return{moment:it}}},PG={class:"flex px-3 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer"},DG=["src"],MG={class:"ml-3 flex-1 flex flex-col space-y-1"},LG={class:"text-sm space-x-1"},FG={class:"font-bold"},UG={class:"text-gray-500 text-xs"},jG=U("span",null,"•",-1),VG={class:"text-gray-500 text-xs"},BG={class:"flex justify-between"},qG={class:"text-gray-500 hover:text-primary"},WG=U("i",{class:"far fa-comment hover:bg-blue-50 rounded-full p-2"},null,-1),HG={class:"ml-1 text-sm"},GG={class:"text-gray-500 hover:text-green-500"},YG=U("i",{class:"fa fa-retweet hover:bg-green-50 rounded-full p-2"},null,-1),$G={class:"ml-1 text-sm"},zG={class:"text-gray-500 hover:text-red-500"},KG=U("i",{class:"far fa-heart hover:bg-red-50 rounded-full p-2"},null,-1),QG={class:"ml-1 text-sm"},XG=U("div",{class:"text-gray-500 hover:text-primary"},[U("i",{class:"far fa-share-square hover:bg-blue-50 rounded-full p-2"})],-1);function JG(e,t,n,r,i,s){return Bt(),ue("div",PG,[U("img",{src:n.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,DG),U("div",MG,[U("div",LG,[U("span",FG,br(n.tweet.email),1),U("span",UG,"@"+br(n.tweet.username),1),jG,U("span",VG,br(r.moment(n.tweet.created_at).fromNow()),1)]),U("div",null,br(n.tweet.tweet_body),1),U("div",BG,[U("div",qG,[WG,U("span",HG,br(n.tweet.num_comments),1)]),U("div",GG,[YG,U("span",$G,br(n.tweet.num_retweets),1)]),U("div",zG,[KG,U("span",QG,br(n.tweet.num_likes),1)]),XG])])])}const kk=kr(xG,[["render",JG]]);/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var ZG="store";function kc(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function tY(e){return e!==null&&typeof e=="object"}function eY(e){return e&&typeof e.then=="function"}function nY(e,t){return function(){return e(t)}}function xk(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Pk(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Uv(e,n,[],e._modules.root,!0),ib(e,n,t)}function ib(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,s={};kc(i,function(a,c){s[c]=nY(a,e),Object.defineProperty(e.getters,c,{get:function(){return s[c]()},enumerable:!0})}),e._state=Qf({data:t}),e.strict&&aY(e),r&&n&&e._withCommit(function(){r.data=null})}function Uv(e,t,n,r,i){var s=!n.length,a=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[a],e._modulesNamespaceMap[a]=r),!s&&!i){var c=ob(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){c[l]=r.state})}var h=r.context=rY(e,a,n);r.forEachMutation(function(d,v){var m=a+v;iY(e,m,d,h)}),r.forEachAction(function(d,v){var m=d.root?v:a+v,y=d.handler||d;oY(e,m,y,h)}),r.forEachGetter(function(d,v){var m=a+v;sY(e,m,d,h)}),r.forEachChild(function(d,v){Uv(e,t,n.concat(v),d,i)})}function rY(e,t,n){var r=t==="",i={dispatch:r?e.dispatch:function(s,a,c){var l=Cp(s,a,c),h=l.payload,d=l.options,v=l.type;return(!d||!d.root)&&(v=t+v),e.dispatch(v,h)},commit:r?e.commit:function(s,a,c){var l=Cp(s,a,c),h=l.payload,d=l.options,v=l.type;(!d||!d.root)&&(v=t+v),e.commit(v,h,d)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return Dk(e,t)}},state:{get:function(){return ob(e.state,n)}}}),i}function Dk(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,r)===t){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function iY(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(a){n.call(e,r.state,a)})}function oY(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(a){var c=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},a);return eY(c)||(c=Promise.resolve(c)),e._devtoolHook?c.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):c})}function sY(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function aY(e){Wu(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function ob(e,t){return t.reduce(function(n,r){return n[r]},e)}function Cp(e,t,n){return tY(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var uY="vuex bindings",XA="vuex:mutations",u_="vuex:actions",bu="vuex",cY=0;function lY(e,t){d3({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[uY]},function(n){n.addTimelineLayer({id:XA,label:"Vuex Mutations",color:JA}),n.addTimelineLayer({id:u_,label:"Vuex Actions",color:JA}),n.addInspector({id:bu,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===bu)if(r.filter){var i=[];Uk(i,t._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[Fk(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===bu){var i=r.nodeId;Dk(t,i),r.state=dY(vY(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===bu){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),t._withCommit(function(){r.set(t._state.data,s,r.state.value)})}}),t.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(bu),n.sendInspectorState(bu),n.addTimelineEvent({layerId:XA,event:{time:Date.now(),title:r.type,data:s}})}),t.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=cY++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:u_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:u_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var JA=8702998,fY=6710886,hY=16777215,Mk={label:"namespaced",textColor:hY,backgroundColor:fY};function Lk(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Fk(e,t){return{id:t||"root",label:Lk(t),tags:e.namespaced?[Mk]:[],children:Object.keys(e._children).map(function(n){return Fk(e._children[n],t+n+"/")})}}function Uk(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[Mk]:[]}),Object.keys(t._children).forEach(function(i){Uk(e,t._children[i],n,r+i+"/")})}function dY(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map(function(a){return{key:a,editable:!0,value:e.state[a]}})};if(r.length){var s=pY(t);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?Lk(a):a,editable:!1,value:Tw(function(){return s[a]})}})}return i}function pY(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var i=t,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=Tw(function(){return e[n]})}else t[n]=Tw(function(){return e[n]})}),t}function vY(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+t+'".');return s===n.length-1?a:a._children},t==="root"?e:e.root._children)}function Tw(e){try{return e()}catch(t){return t}}var wi=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},jk={namespaced:{configurable:!0}};jk.namespaced.get=function(){return!!this._rawModule.namespaced};wi.prototype.addChild=function(t,n){this._children[t]=n};wi.prototype.removeChild=function(t){delete this._children[t]};wi.prototype.getChild=function(t){return this._children[t]};wi.prototype.hasChild=function(t){return t in this._children};wi.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};wi.prototype.forEachChild=function(t){kc(this._children,t)};wi.prototype.forEachGetter=function(t){this._rawModule.getters&&kc(this._rawModule.getters,t)};wi.prototype.forEachAction=function(t){this._rawModule.actions&&kc(this._rawModule.actions,t)};wi.prototype.forEachMutation=function(t){this._rawModule.mutations&&kc(this._rawModule.mutations,t)};Object.defineProperties(wi.prototype,jk);var Ua=function(t){this.register([],t,!1)};Ua.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Ua.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ua.prototype.update=function(t){Vk([],this.root,t)};Ua.prototype.register=function(t,n,r){var i=this;r===void 0&&(r=!0);var s=new wi(n,r);if(t.length===0)this.root=s;else{var a=this.get(t.slice(0,-1));a.addChild(t[t.length-1],s)}n.modules&&kc(n.modules,function(c,l){i.register(t.concat(l),c,r)})};Ua.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Ua.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Vk(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Vk(e.concat(r),t.getChild(r),n.modules[r])}}function gY(e){return new vr(e)}var vr=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var i=t.strict;i===void 0&&(i=!1);var s=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ua(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var a=this,c=this,l=c.dispatch,h=c.commit;this.dispatch=function(m,y){return l.call(a,m,y)},this.commit=function(m,y,b){return h.call(a,m,y,b)},this.strict=i;var d=this._modules.root.state;Uv(this,d,[],this._modules.root),ib(this,d),r.forEach(function(v){return v(n)})},sb={state:{configurable:!0}};vr.prototype.install=function(t,n){t.provide(n||ZG,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&lY(t,this)};sb.state.get=function(){return this._state.data};sb.state.set=function(e){};vr.prototype.commit=function(t,n,r){var i=this,s=Cp(t,n,r),a=s.type,c=s.payload,l={type:a,payload:c},h=this._mutations[a];h&&(this._withCommit(function(){h.forEach(function(v){v(c)})}),this._subscribers.slice().forEach(function(d){return d(l,i.state)}))};vr.prototype.dispatch=function(t,n){var r=this,i=Cp(t,n),s=i.type,a=i.payload,c={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(d){return d(a)})):l[0](a);return new Promise(function(d,v){h.then(function(m){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(c,r.state)})}catch{}d(m)},function(m){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(c,r.state,m)})}catch{}v(m)})})}};vr.prototype.subscribe=function(t,n){return xk(t,this._subscribers,n)};vr.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return xk(r,this._actionSubscribers,n)};vr.prototype.watch=function(t,n,r){var i=this;return Wu(function(){return t(i.state,i.getters)},n,Object.assign({},r))};vr.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};vr.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Uv(this,this.state,t,this._modules.get(t),r.preserveState),ib(this,this.state)};vr.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=ob(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Pk(this)};vr.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};vr.prototype.hotUpdate=function(t){this._modules.update(t),Pk(this,!0)};vr.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(vr.prototype,sb);var mY=function(e){return function(t){return!!t&&typeof t=="object"}(e)&&!function(t){var n=Object.prototype.toString.call(t);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===yY}(t)}(e)},yY=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Yl(e,t){return t.clone!==!1&&t.isMergeableObject(e)?rc(Array.isArray(e)?[]:{},e,t):e}function _Y(e,t,n){return e.concat(t).map(function(r){return Yl(r,n)})}function ZA(e){return Object.keys(e).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(n){return t.propertyIsEnumerable(n)}):[]}(e))}function tC(e,t){try{return t in e}catch{return!1}}function rc(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||_Y,n.isMergeableObject=n.isMergeableObject||mY,n.cloneUnlessOtherwiseSpecified=Yl;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(i,s,a){var c={};return a.isMergeableObject(i)&&ZA(i).forEach(function(l){c[l]=Yl(i[l],a)}),ZA(s).forEach(function(l){(function(h,d){return tC(h,d)&&!(Object.hasOwnProperty.call(h,d)&&Object.propertyIsEnumerable.call(h,d))})(i,l)||(c[l]=tC(i,l)&&a.isMergeableObject(s[l])?function(h,d){if(!d.customMerge)return rc;var v=d.customMerge(h);return typeof v=="function"?v:rc}(l,a)(i[l],s[l],a):Yl(s[l],a))}),c}(e,t,n):Yl(t,n)}rc.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,r){return rc(n,r,t)},{})};var wY=rc;function bY(e){var t=(e=e||{}).storage||window&&window.localStorage,n=e.key||"vuex";function r(d,v){var m=v.getItem(d);try{return typeof m=="string"?JSON.parse(m):typeof m=="object"?m:void 0}catch{}}function i(){return!0}function s(d,v,m){return m.setItem(d,JSON.stringify(v))}function a(d,v){return Array.isArray(v)?v.reduce(function(m,y){return function(T,C,x,D){return!/^(__proto__|constructor|prototype)$/.test(C)&&((C=C.split?C.split("."):C.slice(0)).slice(0,-1).reduce(function(F,X){return F[X]=F[X]||{}},T)[C.pop()]=x),T}(m,y,(b=d,(b=((E=y).split?E.split("."):E).reduce(function(T,C){return T&&T[C]},b))===void 0?void 0:b));var b,E},{}):d}function c(d){return function(v){return d.subscribe(v)}}(e.assertStorage||function(){t.setItem("@@",1),t.removeItem("@@")})(t);var l,h=function(){return(e.getState||r)(n,t)};return e.fetchBeforeUse&&(l=h()),function(d){e.fetchBeforeUse||(l=h()),typeof l=="object"&&l!==null&&(d.replaceState(e.overwrite?l:wY(d.state,l,{arrayMerge:e.arrayMerger||function(v,m){return m},clone:!1})),(e.rehydrated||function(){})(d)),(e.subscriber||c)(d)(function(v,m){(e.filter||i)(v)&&(e.setState||s)(n,(e.reducer||a)(m,e.paths),t)})}}const ic=gY({state(){return{user:null}},mutations:{SET_USER:(e,t)=>{e.user=t}},plugins:[bY()]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Iw=function(e,t){return Iw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Iw(e,t)};function tt(e,t){Iw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var he=function(){return he=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},he.apply(this,arguments)};function R(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(e,t||[])).next())})}function N(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Fe(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ef(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function xo(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ef(arguments[t]));return e}function Ve(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(e,t){if(!e)throw xc(t)},xc=function(e){return new Error("Firebase Database ("+Bk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qk=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},EY=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],c=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},ab={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,c=a?e[i+1]:0,l=i+2<e.length,h=l?e[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,m=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(m=64)),r.push(n[d],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qk(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):EY(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,c=a?n[e.charAt(i)]:0;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var m=s<<2|c>>4;if(r.push(m),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var b=h<<6&192|v;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},TY=function(e){var t=qk(e);return ab.encodeByteArray(t,!0)},eC=function(e){try{return ab.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(e){return Tf(void 0,e)}function Tf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!IY(r)||(e[r]=Tf(e[r],t[r]));return e}function IY(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ar=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Aa())}function SY(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AY(){return typeof self=="object"&&self.self===self}function cb(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Hk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CY(){return Aa().indexOf("Electron/")>=0}function NY(){var e=Aa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function RY(){return Aa().indexOf("MSAppHost/")>=0}function Gk(){return Bk.NODE_ADMIN===!0}function lb(){return"indexedDB"in self&&indexedDB!=null}function fb(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function Yk(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OY="FirebaseError",Pc=function(e){tt(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=OY,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ts.prototype.create),s}return t}(Error),Ts=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],c=a?kY(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Pc(s,l,i);return h},e}();function kY(e,t){return e.replace(xY,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var xY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(e){return JSON.parse(e)}function Je(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $k=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=If(eC(s[0])||""),n=If(eC(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},PY=function(e){var t=$k(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},DY=function(e){var t=$k(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ai(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Sw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Np(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MY(e){for(var t=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LY=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),m=1518500249):(v=c^l^h,m=1859775393):i<60?(v=c&l|h&(c|l),m=2400959708):(v=c^l^h,m=3395469782);var s=(a<<5|a>>>27)+v+d+m+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function FY(e,t){var n=new UY(e,t);return n.subscribe.bind(n)}var UY=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jY(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=c_),s.error===void 0&&(s.error=c_),s.complete===void 0&&(s.complete=c_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function jY(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function c_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Hr(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument ",i}function fn(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Hr(e,t,r)+"must be a valid function.")}function nC(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Hr(e,t,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VY=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,K(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},rp=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BY=1e3,qY=2,WY=4*60*60*1e3,HY=.5;function Aw(e,t,n){t===void 0&&(t=BY),n===void 0&&(n=qY);var r=t*Math.pow(n,e),i=Math.round(HY*r*(Math.random()-.5)*2);return Math.min(WY,r+i)}var pr=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ou="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zk=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=Ou);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new ar;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=he({identifier:Ou,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(c){if(i)return null;throw c}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,YY(t))try{this.getOrInitializeService(Ou)}catch{}try{for(var i=Fe(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Ef(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService(h);l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ou),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(xo(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.getOrInitializeService=function(t){var n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,GY(t)),this.instances.set(t,n)),n||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Ou:t},e}();function GY(e){return e===Ou?void 0:e}function YY(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kk=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new zk(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ei(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zs,hb=[],Dt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Dt||(Dt={}));var Qk={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},$Y=Dt.INFO,zY=(Zs={},Zs[Dt.DEBUG]="log",Zs[Dt.VERBOSE]="log",Zs[Dt.INFO]="info",Zs[Dt.WARN]="warn",Zs[Dt.ERROR]="error",Zs),KY=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=zY[t];if(s)console[s].apply(console,ei(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Dc=function(){function e(t){this.name=t,this._logLevel=$Y,this._logHandler=KY,this._userLogHandler=null,hb.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Dt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Qk[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,Dt.DEBUG],t)),this._logHandler.apply(this,ei([this,Dt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,Dt.VERBOSE],t)),this._logHandler.apply(this,ei([this,Dt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,Dt.INFO],t)),this._logHandler.apply(this,ei([this,Dt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,Dt.WARN],t)),this._logHandler.apply(this,ei([this,Dt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ei([this,Dt.ERROR],t)),this._logHandler.apply(this,ei([this,Dt.ERROR],t))},e}();function QY(e){hb.forEach(function(t){t.setLogLevel(e)})}function XY(e,t){for(var n=function(a){var c=null;t&&t.level&&(c=Qk[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var m=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&e({level:Dt[h].toLowerCase(),message:m,args:d,type:l.name})}},r=0,i=hb;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yo,JY=(Yo={},Yo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Yo["bad-app-name"]="Illegal App name: '{$appName}",Yo["duplicate-app"]="Firebase App named '{$appName}' already exists",Yo["app-deleted"]="Firebase App named '{$appName}' already deleted",Yo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Yo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Yo),ku=new Ts("app","Firebase",JY),Xk="@firebase/app",ZY="0.6.14",t$="@firebase/analytics",e$="@firebase/auth",n$="@firebase/database",r$="@firebase/functions",i$="@firebase/installations",o$="@firebase/messaging",s$="@firebase/performance",a$="@firebase/remote-config",u$="@firebase/storage",c$="@firebase/firestore",l$="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn,Rp="[DEFAULT]",f$=(Bn={},Bn[Xk]="fire-core",Bn[t$]="fire-analytics",Bn[e$]="fire-auth",Bn[n$]="fire-rtdb",Bn[r$]="fire-fn",Bn[i$]="fire-iid",Bn[o$]="fire-fcm",Bn[s$]="fire-perf",Bn[a$]="fire-rc",Bn[u$]="fire-gcs",Bn[c$]="fire-fst",Bn["fire-js"]="fire-js",Bn[l$]="fire-js-all",Bn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oc=new Dc("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ip=function(){function e(t,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=Wk(t),this.container=new Kk(n.name),this._addComponent(new pr("app",function(){return a},"PUBLIC"));try{for(var c=Fe(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Rp),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Rp),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){oc.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ku.create("app-deleted",{appName:this.name_})},e}();ip.prototype.name&&ip.prototype.options||ip.prototype.delete||console.log("dc");var h$="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:QY,onLog:d,apps:null,SDK_VERSION:h$,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(m){delete t[m]}function s(m){if(m=m||Rp,!dr(t,m))throw ku.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var E=y;E.name===void 0&&(E.name=Rp);var T=E.name;if(typeof T!="string"||!T)throw ku.create("bad-app-name",{appName:String(T)});if(dr(t,T))throw ku.create("duplicate-app",{appName:T});var C=new e(m,E,r);return t[T]=C,C}function c(){return Object.keys(t).map(function(m){return t[m]})}function l(m){var y,b,E=m.name;if(n.has(E))return oc.debug("There were multiple attempts to register component "+E+"."),m.type==="PUBLIC"?r[E]:null;if(n.set(E,m),m.type==="PUBLIC"){var T=function(F){if(F===void 0&&(F=s()),typeof F[E]!="function")throw ku.create("invalid-app-argument",{appName:E});return F[E]()};m.serviceProps!==void 0&&Tf(T,m.serviceProps),r[E]=T,e.prototype[E]=function(){for(var F=[],X=0;X<arguments.length;X++)F[X]=arguments[X];var j=this._getService.bind(this,E);return j.apply(this,m.multipleInstances?F:[])}}try{for(var C=Fe(Object.keys(t)),x=C.next();!x.done;x=C.next()){var D=x.value;t[D]._addComponent(m)}}catch(F){y={error:F}}finally{try{x&&!x.done&&(b=C.return)&&b.call(C)}finally{if(y)throw y.error}}return m.type==="PUBLIC"?r[E]:null}function h(m,y,b){var E,T=(E=f$[m])!==null&&E!==void 0?E:m;b&&(T+="-"+b);var C=T.match(/\s|\//),x=y.match(/\s|\//);if(C||x){var D=['Unable to register library "'+T+'" with version "'+y+'":'];C&&D.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),C&&x&&D.push("and"),x&&D.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),oc.warn(D.join(" "));return}l(new pr(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function d(m,y){if(m!==null&&typeof m!="function")throw ku.create("invalid-log-argument",{appName:name});XY(m,y)}function v(m,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(){var e=d$(ip);e.INTERNAL=he(he({},e.INTERNAL),{createFirebaseNamespace:Jk,extendNamespace:t,createSubscribe:FY,ErrorFactory:Ts,deepExtend:Tf});function t(n){Tf(e,n)}return e}var db=Jk();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p$=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(v$(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function v$(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(e,t){e.INTERNAL.registerComponent(new pr("platform-logger",function(n){return new p$(n)},"PRIVATE")),e.registerVersion(Xk,ZY,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(AY()&&self.firebase!==void 0){oc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var rC=self.firebase.SDK_VERSION;rC&&rC.indexOf("LITE")>=0&&oc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var m$=db.initializeApp;db.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return SY()&&oc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),m$.apply(void 0,e)};var lt=db;g$(lt);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var g=o[p];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(w){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{w(I.resolve,I.reject)}catch(L){I.reject(L)}}function f(){this.a=null}function p(w){return w instanceof u?w:new u(function(I){I(w)})}if(o)return o;f.prototype.b=function(w){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(w)};var g=r.setTimeout;f.prototype.c=function(w){g(w,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var I=0;I<w.length;++I){var L=w[I];w[I]=null;try{L()}catch(W){this.f(W)}}}this.a=null},f.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(W){return function(St){L||(L=!0,W.call(I,St))}}var I=this,L=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{t:switch(typeof w){case"object":var I=w!=null;break t;case"function":I=!0;break t;default:I=!1}I?this.v(w):this.h(w)}},u.prototype.v=function(w){var I=void 0;try{I=w.then}catch(L){this.g(L);return}typeof I=="function"?this.u(I,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,I){if(this.b!=0)throw Error("Cannot settle("+w+", "+I+"): Promise already settled in state"+this.b);this.b=w,this.c=I,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)_.b(this.a[w]);this.a=null}};var _=new f;return u.prototype.s=function(w){var I=this.f();w.Qa(I.resolve,I.reject)},u.prototype.u=function(w,I){var L=this.f();try{w.call(I,L.resolve,L.reject)}catch(W){L.reject(W)}},u.prototype.then=function(w,I){function L(Kt,cn){return typeof Kt=="function"?function(ro){try{W(Kt(ro))}catch(zy){St(zy)}}:cn}var W,St,ne=new u(function(Kt,cn){W=Kt,St=cn});return this.Qa(L(w,W),L(I,St)),ne},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Qa=function(w,I){function L(){switch(W.b){case 1:w(W.c);break;case 2:I(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?_.b(L):this.a.push(L)},u.resolve=p,u.reject=function(w){return new u(function(I,L){L(w)})},u.race=function(w){return new u(function(I,L){for(var W=a(w),St=W.next();!St.done;St=W.next())p(St.value).Qa(I,L)})},u.all=function(w){var I=a(w),L=I.next();return L.done?p([]):new u(function(W,St){function ne(ro){return function(zy){Kt[ro]=zy,cn--,cn==0&&W(Kt)}}var Kt=[],cn=0;do Kt.push(void 0),cn++,p(L.value).Qa(ne(Kt.length-1),St),L=I.next();while(!L.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function b(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function T(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function C(o){return Object.prototype.hasOwnProperty.call(o,x)&&o[x]||(o[x]=++D)}var x="closure_uid_"+(1e9*Math.random()>>>0),D=0;function F(o,u,f){return o.call.apply(o.bind,arguments)}function X(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function j(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=F:j=X,j.apply(null,arguments)}function Tt(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}var ee=Date.now;function dt(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function vn(o){return o}function O(o,u,f){this.code=In+o,this.message=u||Rs[o]||"",this.a=f||null}dt(O,Error),O.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},O.prototype.toJSON=function(){return this.w()};function bi(o){var u=o&&o.code;return u?new O(u.substring(In.length),o.message,o.serverResponse):null}var In="auth/",Rs={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ei={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ye(o){for(var u in Ei)if(Ei[u].id===o)return o=Ei[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Gt;Gt=ye("__EID__")?"__EID__":void 0;function Yt(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Se(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Se);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}dt(Se,Error),Se.prototype.name="CustomError";function Pr(o,u){o=o.split("%s");for(var f="",p=o.length-1,g=0;g<p;g++)f+=o[g]+(g<u.length?u[g]:"%s");Se.call(this,f+o[p])}dt(Pr,Se),Pr.prototype.name="AssertionError";function gn(o,u){throw new Pr("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function sn(o,u){this.c=o,this.f=u,this.b=0,this.a=null}sn.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function Qi(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Xi(){this.b=this.a=null}var Os=new sn(function(){return new V},function(o){o.reset()});Xi.prototype.add=function(o,u){var f=Os.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function an(){var o=MT,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function V(){this.next=this.b=this.a=null}V.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var ot=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},H=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in g&&u.call(f,g[_],_,o)};function pt(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var zt=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],g=0,_=typeof o=="string"?o.split(""):o,w=0;w<f;w++)if(w in _){var I=_[w];u.call(void 0,I,w,o)&&(p[g++]=I)}return p},S=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(p[_]=u.call(void 0,g[_],_,o));return p},A=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o))return!0;return!1};function k(o){t:{for(var u=v2,f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o)){u=g;break t}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function M(o,u){return 0<=ot(o,u)}function B(o,u){u=ot(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function q(o,u){var f=0;pt(o,function(p,g){u.call(void 0,p,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function nt(o){return Array.prototype.concat.apply([],arguments)}function z(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var Z=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Y=/&/g,gt=/</g,ct=/>/g,mt=/"/g,It=/'/g,Pt=/\x00/g,se=/[\x00&<>"']/;function yt(o,u){return o.indexOf(u)!=-1}function _e(o,u){return o<u?-1:o>u?1:0}var un;t:{var Ji=l.navigator;if(Ji){var $c=Ji.userAgent;if($c){un=$c;break t}}un=""}function de(o){return yt(un,o)}function zc(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function xe(o){for(var u in o)return!1;return!0}function ze(o){var u={},f;for(f in o)u[f]=o[f];return u}var Kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zn(o,u){for(var f,p,g=1;g<arguments.length;g++){p=arguments[g];for(f in p)o[f]=p[f];for(var _=0;_<Kc.length;_++)f=Kc[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function vT(o,u){t:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var g=p;break t}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(T(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;gn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Ti(o,u){this.a=o===Sh&&u||"",this.b=gT}Ti.prototype.sa=!0,Ti.prototype.ra=function(){return this.a},Ti.prototype.toString=function(){return"Const{"+this.a+"}"};function Tg(o){return o instanceof Ti&&o.constructor===Ti&&o.b===gT?o.a:(gn("expected object of type Const, got '"+o+"'"),"type_error:Const")}var gT={},Sh={},Ah;function mT(){if(Ah===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:vn,createScript:vn,createScriptURL:vn})}catch(f){l.console&&l.console.error(f.message)}Ah=o}else Ah=o}return Ah}function za(o,u){this.a=u===_T?o:""}za.prototype.sa=!0,za.prototype.ra=function(){return this.a.toString()},za.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function yT(o){return o instanceof za&&o.constructor===za?o.a:(gn("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Ig(o,u){var f=Tg(o);if(!GL.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(HL,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof Ti?Tg(p):encodeURIComponent(String(p))}),YL(o)}var HL=/%{(\w+)}/g,GL=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,_T={};function YL(o){var u=mT();return o=u?u.createScriptURL(o):o,new za(o,_T)}function tr(o,u){this.a=u===Qc?o:""}tr.prototype.sa=!0,tr.prototype.ra=function(){return this.a.toString()},tr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ch(o){return o instanceof tr&&o.constructor===tr?o.a:(gn("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var $L=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,zL=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,wT=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function bT(o){if(o instanceof tr)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),wT.test(o))o=new tr(o,Qc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(zL);o=u&&$L.test(u[1])?new tr(o,Qc):null}return o}function ET(o){return o instanceof tr?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),wT.test(o)||(o="about:invalid#zClosurez"),new tr(o,Qc))}var Qc={},TT=new tr("about:invalid#zClosurez",Qc);function Ka(o,u,f){this.a=f===IT?o:""}Ka.prototype.sa=!0,Ka.prototype.ra=function(){return this.a.toString()},Ka.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function KL(o){return o instanceof Ka&&o.constructor===Ka?o.a:(gn("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var IT={};function QL(o,u){vT(o,"HTMLScriptElement"),o.src=yT(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function ST(o,u,f,p){return o=o instanceof tr?o:ET(o),u=u||l,f=f instanceof Ti?Tg(f):f||"",u.open(Ch(o),f,p,void 0)}function AT(o,u){for(var f=o.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)p+=f.shift()+g.shift();return p+f.join("%s")}function Sg(o){return se.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(Y,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(gt,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(ct,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(mt,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(It,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Pt,"&#0;"))),o}function Ag(o){return Ag[" "](o),o}Ag[" "]=m;function XL(o,u){var f=eF;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var JL=de("Opera"),zr=de("Trident")||de("MSIE"),CT=de("Edge"),ZL=CT||zr,NT=de("Gecko")&&!(yt(un.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),tF=yt(un.toLowerCase(),"webkit")&&!de("Edge");function RT(){var o=l.document;return o?o.documentMode:void 0}var Nh;t:{var Cg="",Ng=function(){var o=un;if(NT)return/rv:([^\);]+)(\)|;)/.exec(o);if(CT)return/Edge\/([\d\.]+)/.exec(o);if(zr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(tF)return/WebKit\/(\S+)/.exec(o);if(JL)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Ng&&(Cg=Ng?Ng[1]:""),zr){var Rg=RT();if(Rg!=null&&Rg>parseFloat(Cg)){Nh=String(Rg);break t}}Nh=Cg}var eF={};function OT(o){return XL(o,function(){for(var u=0,f=Z(String(Nh)).split("."),p=Z(String(o)).split("."),g=Math.max(f.length,p.length),_=0;u==0&&_<g;_++){var w=f[_]||"",I=p[_]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],w[0].length==0&&I[0].length==0)break;u=_e(w[1].length==0?0:parseInt(w[1],10),I[1].length==0?0:parseInt(I[1],10))||_e(w[2].length==0,I[2].length==0)||_e(w[2],I[2]),w=w[3],I=I[3]}while(u==0)}return 0<=u})}var Og;if(l.document&&zr){var kT=RT();Og=kT||parseInt(Nh,10)||void 0}else Og=void 0;var Lo=Og;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var nF=!zr||9<=Number(Lo);function Xc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function xT(o,u){zc(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:PT.hasOwnProperty(p)?o.setAttribute(PT[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var PT={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function rF(o,u,f){var p=arguments,g=document,_=String(p[0]),w=p[1];if(!nF&&w&&(w.name||w.type)){if(_=["<",_],w.name&&_.push(' name="',Sg(w.name),'"'),w.type){_.push(' type="',Sg(w.type),'"');var I={};Zn(I,w),delete I.type,w=I}_.push(">"),_=_.join("")}return _=Rh(g,_),w&&(typeof w=="string"?_.className=w:Array.isArray(w)?_.className=w.join(" "):xT(_,w)),2<p.length&&iF(g,_,p),_}function iF(o,u,f){function p(I){I&&u.appendChild(typeof I=="string"?o.createTextNode(I):I)}for(var g=2;g<f.length;g++){var _=f[g];if(!b(_)||T(_)&&0<_.nodeType)p(_);else{t:{if(_&&typeof _.length=="number"){if(T(_)){var w=typeof _.item=="function"||typeof _.item=="string";break t}if(E(_)){w=typeof _.item=="function";break t}}w=!1}H(w?z(_):_,p)}}}function Rh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function DT(o){l.setTimeout(function(){throw o},0)}var kg;function oF(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!de("Presto")&&(o=function(){var g=Rh(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var w="callImmediate"+Math.random(),I=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=j(function(L){(I=="*"||L.origin==I)&&L.data==w&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(w,I)}}}),typeof o<"u"&&!de("Trident")&&!de("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Gb;f.Gb=null,g()}},function(g){p.next={Gb:g},p=p.next,u.port2.postMessage(0)}}return function(g){l.setTimeout(g,0)}}function Oh(o,u){kh||sF(),xg||(kh(),xg=!0),MT.add(o,u)}var kh;function sF(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);kh=function(){o.then(LT)}}else kh=function(){var u=LT;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!de("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(kg||(kg=oF()),kg(u)):l.setImmediate(u)}}var xg=!1,MT=new Xi;function LT(){for(var o;o=an();){try{o.a.call(o.b)}catch(u){DT(u)}Qi(Os,o)}xg=!1}function Ft(o,u){if(this.a=ks,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(p){xs(f,Jc,p)},function(p){if(!(p instanceof Qa))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}xs(f,Zi,p)})}catch(p){xs(this,Zi,p)}}var ks=0,Jc=2,Zi=3;function FT(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}FT.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var UT=new sn(function(){return new FT},function(o){o.reset()});function Pg(o,u,f){var p=UT.get();return p.g=o,p.b=u,p.f=f,p}function wt(o){if(o instanceof Ft)return o;var u=new Ft(m);return xs(u,Jc,o),u}function we(o){return new Ft(function(u,f){f(o)})}function jT(o,u,f){WT(o,u,f,null)||Oh(Tt(u,o))}function aF(o){return new Ft(function(u,f){var p=o.length,g=[];if(p)for(var _=function(W,St){p--,g[W]=St,p==0&&u(g)},w=function(W){f(W)},I=0,L;I<o.length;I++)L=o[I],jT(L,Tt(_,I),w);else u(g)})}function VT(o){return new Ft(function(u){var f=o.length,p=[];if(f)for(var g=function(I,L,W){f--,p[I]=L?{Pb:!0,value:W}:{Pb:!1,reason:W},f==0&&u(p)},_=0,w;_<o.length;_++)w=o[_],jT(w,Tt(g,_,!0),Tt(g,_,!1));else u(p)})}Ft.prototype.then=function(o,u,f){return qT(this,E(o)?o:null,E(u)?u:null,f)},Ft.prototype.$goog_Thenable=!0,e=Ft.prototype,e.oa=function(o,u){return o=Pg(o,o,u),o.c=!0,Dg(this,o),this},e.o=function(o,u){return qT(this,null,o,u)},e.cancel=function(o){if(this.a==ks){var u=new Qa(o);Oh(function(){BT(this,u)},this)}};function BT(o,u){if(o.a==ks)if(o.c){var f=o.c;if(f.b){for(var p=0,g=null,_=null,w=f.b;w&&(w.c||(p++,w.a==o&&(g=w),!(g&&1<p)));w=w.next)g||(_=w);g&&(f.a==ks&&p==1?BT(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):GT(f),YT(f,g,Zi,u)))}o.c=null}else xs(o,Zi,u)}function Dg(o,u){o.b||o.a!=Jc&&o.a!=Zi||HT(o),o.f?o.f.next=u:o.b=u,o.f=u}function qT(o,u,f,p){var g=Pg(null,null,null);return g.a=new Ft(function(_,w){g.g=u?function(I){try{var L=u.call(p,I);_(L)}catch(W){w(W)}}:_,g.b=f?function(I){try{var L=f.call(p,I);L===void 0&&I instanceof Qa?w(I):_(L)}catch(W){w(W)}}:w}),g.a.c=o,Dg(o,g),g.a}e.$c=function(o){this.a=ks,xs(this,Jc,o)},e.ad=function(o){this.a=ks,xs(this,Zi,o)};function xs(o,u,f){o.a==ks&&(o===f&&(u=Zi,f=new TypeError("Promise cannot resolve to itself")),o.a=1,WT(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,HT(o),u!=Zi||f instanceof Qa||cF(o,f)))}function WT(o,u,f,p){if(o instanceof Ft)return Dg(o,Pg(u||m,f||null,p)),!0;if(Yt(o))return o.then(u,f,p),!0;if(T(o))try{var g=o.then;if(E(g))return uF(o,g,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function uF(o,u,f,p,g){function _(L){I||(I=!0,p.call(g,L))}function w(L){I||(I=!0,f.call(g,L))}var I=!1;try{u.call(o,w,_)}catch(L){_(L)}}function HT(o){o.h||(o.h=!0,Oh(o.gc,o))}function GT(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=GT(this);)YT(this,o,this.a,this.i);this.h=!1};function YT(o,u,f,p){if(f==Zi&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,$T(u,f,p);else try{u.c?u.g.call(u.f):$T(u,f,p)}catch(g){zT.call(null,g)}Qi(UT,u)}function $T(o,u,f){u==Jc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function cF(o,u){o.g=!0,Oh(function(){o.g&&zT.call(null,u)})}var zT=DT;function Qa(o){Se.call(this,o)}dt(Qa,Se),Qa.prototype.name="cancel";function xh(){this.xa=this.xa,this.pa=this.pa}var lF=0;xh.prototype.xa=!1;function KT(o){!o.xa&&(o.xa=!0,o.Da(),lF!=0)&&C(o)}xh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var fF=Object.freeze||function(o){return o},QT=!zr||9<=Number(Lo),hF=zr&&!OT("9"),dF=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",m,u),l.removeEventListener("test",m,u)}catch{}return o}();function er(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}er.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ps(o,u){if(er.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(NT){t:{try{Ag(u.nodeName);var g=!0;break t}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pF[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}dt(Ps,er);var pF=fF({2:"touch",3:"pen",4:"mouse"});Ps.prototype.preventDefault=function(){Ps.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,hF)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Ps.prototype.g=function(){return this.a};var Zc="closure_listenable_"+(1e6*Math.random()|0),vF=0;function gF(o,u,f,p,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Va=g,this.key=++vF,this.va=this.Pa=!1}function Ph(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function Dh(o){this.src=o,this.a={},this.b=0}Dh.prototype.add=function(o,u,f,p,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var w=Lg(o,u,p,g);return-1<w?(u=o[w],f||(u.Pa=!1)):(u=new gF(u,this.src,_,!!p,g),u.Pa=f,o.push(u)),u};function Mg(o,u){var f=u.type;f in o.a&&B(o.a[f],u)&&(Ph(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Lg(o,u,f,p){for(var g=0;g<o.length;++g){var _=o[g];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==p)return g}return-1}var Fg="closure_lm_"+(1e6*Math.random()|0),Ug={};function Dr(o,u,f,p,g){if(p&&p.once)jg(o,u,f,p,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)Dr(o,u[_],f,p,g);else f=Bg(f),o&&o[Zc]?nI(o,u,f,T(p)?!!p.capture:!!p,g):XT(o,u,f,!1,p,g)}function XT(o,u,f,p,g,_){if(!u)throw Error("Invalid event type");var w=T(g)?!!g.capture:!!g,I=Mh(o);if(I||(o[Fg]=I=new Dh(o)),f=I.add(u,f,p,w,_),!f.proxy)if(p=mF(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)dF||(g=w),g===void 0&&(g=!1),o.addEventListener(u.toString(),p,g);else if(o.attachEvent)o.attachEvent(ZT(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function mF(){var o=yF,u=QT?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function jg(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)jg(o,u[_],f,p,g);else f=Bg(f),o&&o[Zc]?qg(o,u,f,T(p)?!!p.capture:!!p,g):XT(o,u,f,!0,p,g)}function mr(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)mr(o,u[_],f,p,g);else p=T(p)?!!p.capture:!!p,f=Bg(f),o&&o[Zc]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Lg(_,f,p,g),-1<f&&(Ph(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Mh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Lg(u,f,p,g)),(f=-1<o?u[o]:null)&&JT(f))}function JT(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[Zc])Mg(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(ZT(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Mh(u))?(Mg(f,o),f.b==0&&(f.src=null,u[Fg]=null)):Ph(o)}}}function ZT(o){return o in Ug?Ug[o]:Ug[o]="on"+o}function tI(o,u,f,p){var g=!0;if((o=Mh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=eI(_,p),g=g&&_!==!1)}return g}function eI(o,u){var f=o.listener,p=o.Va||o.src;return o.Pa&&JT(o),f.call(p,u)}function yF(o,u){if(o.va)return!0;if(!QT){if(!u)t:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break t}u=f}if(p=u,u=new Ps(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){t:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break t}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(o=o.type,g=p.length-1;0<=g;g--){u.b=p[g];var _=tI(p[g],o,!0,u);f=f&&_}for(g=0;g<p.length;g++)u.b=p[g],_=tI(p[g],o,!1,u),f=f&&_}return f}return eI(o,new Ps(u,this))}function Mh(o){return o=o[Fg],o instanceof Dh?o:null}var Vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bg(o){return E(o)?o:(o[Vg]||(o[Vg]=function(u){return o.handleEvent(u)}),o[Vg])}function jn(){xh.call(this),this.v=new Dh(this),this.ac=this,this.gb=null}dt(jn,xh),jn.prototype[Zc]=!0,jn.prototype.addEventListener=function(o,u,f,p){Dr(this,o,u,f,p)},jn.prototype.removeEventListener=function(o,u,f,p){mr(this,o,u,f,p)},jn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var p=o.type||o;if(typeof o=="string")o=new er(o,f);else if(o instanceof er)o.target=o.target||f;else{var g=o;o=new er(p,f),Zn(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var w=o.b=u[_];g=Lh(w,p,!0,o)&&g}if(w=o.b=f,g=Lh(w,p,!0,o)&&g,g=Lh(w,p,!1,o)&&g,u)for(_=0;_<u.length;_++)w=o.b=u[_],g=Lh(w,p,!1,o)&&g;return g},jn.prototype.Da=function(){if(jn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Ph(f[p]);delete o.a[u],o.b--}}this.gb=null};function nI(o,u,f,p,g){o.v.add(String(u),f,!1,p,g)}function qg(o,u,f,p,g){o.v.add(String(u),f,!0,p,g)}function Lh(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var w=u[_];if(w&&!w.va&&w.capture==f){var I=w.listener,L=w.Va||w.src;w.Pa&&Mg(o.v,w),g=I.call(L,p)!==!1&&g}}return g&&!p.defaultPrevented}function Wg(o,u,f){if(E(o))f&&(o=j(o,f));else if(o&&typeof o.handleEvent=="function")o=j(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Xa(o){var u=null;return new Ft(function(f,p){u=Wg(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function rI(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(b(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function iI(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(b(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function _F(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(b(o)||typeof o=="string")H(o,u,void 0);else for(var f=iI(o),p=rI(o),g=p.length,_=0;_<g;_++)u.call(void 0,p[_],f&&f[_],o)}function Ja(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Ja)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=Ja.prototype,e.W=function(){Hg(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return Hg(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Hg(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];Ds(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)p=o.a[u],Ds(g,p)||(o.a[f++]=p,g[p]=1),u++;o.a.length=f}}e.get=function(o,u){return Ds(this.b,o)?this.b[o]:u},e.set=function(o,u){Ds(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var g=f[p],_=this.get(g);o.call(u,_,g,this)}};function Ds(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var oI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wF(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),g=null;if(0<=p){var _=o[f].substring(0,p);g=o[f].substring(p+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Fo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Fo?(this.i=u!==void 0?u:o.i,tl(this,o.c),this.l=o.l,this.a=o.a,el(this,o.g),this.f=o.f,Gg(this,cI(o.b)),this.h=o.h):o&&(f=String(o).match(oI))?(this.i=!!u,tl(this,f[1]||"",!0),this.l=nl(f[2]||""),this.a=nl(f[3]||"",!0),el(this,f[4]),this.f=nl(f[5]||"",!0),Gg(this,f[6]||"",!0),this.h=nl(f[7]||"")):(this.i=!!u,this.b=new Ms(null,this.i))}Fo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(rl(u,sI,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(rl(u,sI,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(rl(f,f.charAt(0)=="/"?TF:EF,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",rl(f,SF)),o.join("")},Fo.prototype.resolve=function(o){var u=new Fo(this),f=!!o.c;f?tl(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)el(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(yt(g,"./")||yt(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],w=0;w<g.length;){var I=g[w++];I=="."?p&&w==g.length&&_.push(""):I==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&w==g.length&&_.push("")):(_.push(I),p=!0)}p=_.join("/")}else p=g}return f?u.f=p:f=o.b.toString()!=="",f?Gg(u,cI(o.b)):f=!!o.h,f&&(u.h=o.h),u};function tl(o,u,f){o.c=f?nl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function el(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Gg(o,u,f){u instanceof Ms?(o.b=u,AF(o.b,o.i)):(f||(u=rl(u,IF)),o.b=new Ms(u,o.i))}function Pe(o,u,f){o.b.set(u,f)}function Mr(o,u){return o.b.get(u)}function nr(o){return o instanceof Fo?new Fo(o):new Fo(o,void 0)}function Fh(o,u,f,p){var g=new Fo(null,void 0);return o&&tl(g,o),u&&(g.a=u),f&&el(g,f),p&&(g.f=p),g}function nl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function rl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,bF),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function bF(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var sI=/[#\/\?@]/g,EF=/[#\?:]/g,TF=/[#\?]/g,IF=/[#\?@]/g,SF=/#/g;function Ms(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Uo(o){o.a||(o.a=new Ja,o.b=0,o.c&&wF(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function aI(o){var u=iI(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Ms(null,void 0);o=rI(o);for(var p=0;p<u.length;p++){var g=u[p],_=o[p];Array.isArray(_)?uI(f,g,_):f.add(g,_)}return f}e=Ms.prototype,e.add=function(o,u){Uo(this),this.c=null,o=Za(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Ii(o,u){Uo(o),u=Za(o,u),Ds(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Ds(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Hg(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Yg(o,u){return Uo(o),u=Za(o,u),Ds(o.a.b,u)}e.forEach=function(o,u){Uo(this),this.a.forEach(function(f,p){H(f,function(g){o.call(u,g,p,this)},this)},this)},e.Y=function(){Uo(this);for(var o=this.a.W(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var g=o[p],_=0;_<g.length;_++)f.push(u[p]);return f},e.W=function(o){Uo(this);var u=[];if(typeof o=="string")Yg(this,o)&&(u=nt(u,this.a.get(Za(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=nt(u,o[f])}return u},e.set=function(o,u){return Uo(this),this.c=null,o=Za(this,o),Yg(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function uI(o,u,f){Ii(o,u),0<f.length&&(o.c=null,o.a.set(Za(o,u),z(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],g=encodeURIComponent(String(p));p=this.W(p);for(var _=0;_<p.length;_++){var w=g;p[_]!==""&&(w+="="+encodeURIComponent(String(p[_]))),o.push(w)}}return this.c=o.join("&")};function cI(o){var u=new Ms;return u.c=o.c,o.a&&(u.a=new Ja(o.a),u.b=o.b),u}function Za(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function AF(o,u){u&&!o.f&&(Uo(o),o.c=null,o.a.forEach(function(f,p){var g=p.toLowerCase();p!=g&&(Ii(this,p),uI(this,g,f))},o)),o.f=u}function lI(o){var u=[];return $g(new CF,o,u),u.join("")}function CF(){}function $g(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),$g(o,p[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(g),hI(p,f),f.push(":"),$g(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":hI(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var fI={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},NF=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hI(o,u){u.push('"',o.replace(NF,function(f){var p=fI[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),fI[f]=p),p}),'"')}function zg(){var o=mn();return zr&&!!Lo&&Lo==11||/Edge\/\d+/.test(o)}function il(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function dI(o,u){u=u||l.window;var f="about:blank";o&&(f=Ch(bT(o)||TT)),u.location.href=f}function pI(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<pI(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function RF(){var o=mn();return o=tu(o)!=yI?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!zr||!Lo||9<Lo}function vI(o){return o=(o||mn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Ls(o){o=o||l.window;try{o.close()}catch{}}function gI(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=mn().toLowerCase(),p&&(u.target=p,yt(f,"crios/")&&(u.target="_blank")),tu(mn())==Xg&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof tr?f:bT(typeof f.href<"u"?f.href:String(f))||TT,f=o.target||f.target,g=[];for(w in o)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+o[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(o[w]?1:0))}var w=g.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(w=Rh(document,"A"),vT(w,"HTMLAnchorElement"),u=u instanceof tr?u:ET(u),w.href=Ch(u),w.setAttribute("target",f),o.noreferrer&&w.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),w.dispatchEvent(o),w={}):o.noreferrer?(w=ST("",p,f,w),o=Ch(u),w&&(ZL&&yt(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),w.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Sg(o)+'">',o=(p=mT())?p.createHTML(o):o,o=new Ka(o,null,IT),p=w.document)&&(p.write(KL(o)),p.close())):(w=ST(u,p,f,w))&&o.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function OF(o){return new Ft(function(u){function f(){Xa(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var kF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xF=/^[^@]+@[^@]+$/;function Uh(){var o=null;return new Ft(function(u){l.document.readyState=="complete"?u():(o=function(){u()},jg(window,"load",o))}).o(function(u){throw mr(window,"load",o),u})}function PF(){return Kg(void 0)?Uh().then(function(){return new Ft(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):we(Error("Cordova must run in an Android or iOS file scheme."))}function Kg(o){return o=o||mn(),!(nu()!=="file:"&&nu()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Qg(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function Kr(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function Si(){return lt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":lt.INTERNAL.hasOwnProperty("node")?"Node":Kr()?"Worker":"Browser"}function mI(){var o=Si();return o==="ReactNative"||o==="Node"}function DF(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Xg="Firefox",yI="Chrome";function tu(o){var u=o.toLowerCase();if(yt(u,"opera/")||yt(u,"opr/")||yt(u,"opios/"))return"Opera";if(yt(u,"iemobile"))return"IEMobile";if(yt(u,"msie")||yt(u,"trident/"))return"IE";if(yt(u,"edge/"))return"Edge";if(yt(u,"firefox/"))return Xg;if(yt(u,"silk/"))return"Silk";if(yt(u,"blackberry"))return"Blackberry";if(yt(u,"webos"))return"Webos";if(!yt(u,"safari/")||yt(u,"chrome/")||yt(u,"crios/")||yt(u,"android"))if(!yt(u,"chrome/")&&!yt(u,"crios/")||yt(u,"edge/")){if(yt(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return yI;else return"Safari";return"Other"}var _I={md:"FirebaseCore-web",od:"FirebaseUI-web"};function eu(o,u){u=u||[];var f=[],p={},g;for(g in _I)p[_I[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Si(),f==="Browser"?(p=mn(),f=tu(p)):f==="Worker"&&(p=mn(),f=tu(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function mn(){return l.navigator&&l.navigator.userAgent||""}function be(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function Jg(){try{var o=l.localStorage,u=Us();if(o)return o.setItem(u,"1"),o.removeItem(u),zg()?!!l.indexedDB:!0}catch{return Kr()&&!!l.indexedDB}return!1}function Fs(){return(jh()||nu()==="chrome-extension:"||Kg())&&!mI()&&Jg()&&!Kr()}function jh(){return nu()==="http:"||nu()==="https:"}function nu(){return l.location&&l.location.protocol||null}function ol(o){return o=o||mn(),!(vI(o)||tu(o)==Xg)}function sl(o){return typeof o>"u"?null:lI(o)}function wI(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function ru(o){if(o!==null)return JSON.parse(o)}function Us(o){return o||Math.floor(1e9*Math.random()).toString()}function bI(o){return o=o||mn(),!(tu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function EI(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function jo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=mn(),u=Si(),this.b=vI(o)||u==="ReactNative"}jo.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(jh()||nu()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Zg(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function MF(){var o=l.document,u=null;return Zg()||!o?wt():new Ft(function(f){u=function(){Zg()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function al(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function TI(){return!(!be("fireauth.oauthhelper",l)&&!be("fireauth.iframe",l))}function LF(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function FF(){var o=l.navigator;return o&&o.serviceWorker?wt().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):wt(null)}var II={};function tm(o){II[o]||(II[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var em;try{var nm={};Object.defineProperty(nm,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(nm,"abcd",{configurable:!0,enumerable:!0,value:2}),em=nm.abcd==2}catch{em=!1}function ut(o,u,f){em?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Vn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ut(o,f,u[f])}function Ai(o){var u={};return Vn(u,o),u}function UF(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function jF(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function rm(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ut(u,f,rm(o[f]))}return u}function im(o){var u=o&&(o[um]?"phone":null);if(u&&o&&o[am]){ut(this,"uid",o[am]),ut(this,"displayName",o[SI]||null);var f=null;o[sm]&&(f=new Date(o[sm]).toUTCString()),ut(this,"enrollmentTime",f),ut(this,"factorId",u)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}im.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function om(o){try{var u=new ul(o)}catch{u=null}return u}var SI="displayName",sm="enrolledAt",am="mfaEnrollmentId",um="phoneInfo";function ul(o){im.call(this,o),ut(this,"phoneNumber",o[um])}dt(ul,im),ul.prototype.w=function(){var o=ul.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function VF(o){var u={},f=o[BF],p=o[WF],g=o[HF];if(o=om(o[qF]),!g||g!=Vh&&g!=cl&&!f||g==cl&&!p||g==cm&&!o)throw Error("Invalid checkActionCode response!");g==cl?(u[CI]=f||null,u[NI]=f||null,u[AI]=p):(u[CI]=p||null,u[NI]=p||null,u[AI]=f||null),u[GF]=o||null,ut(this,$F,g),ut(this,YF,rm(u))}var cm="REVERT_SECOND_FACTOR_ADDITION",Vh="EMAIL_SIGNIN",cl="VERIFY_AND_CHANGE_EMAIL",BF="email",qF="mfaInfo",WF="newEmail",HF="requestType",AI="email",CI="fromEmail",GF="multiFactorInfo",NI="previousEmail",YF="data",$F="operation";function lm(o){o=nr(o);var u=Mr(o,RI)||null,f=Mr(o,OI)||null,p=Mr(o,kI)||null;if(p=p&&XF[p]||null,!u||!f||!p)throw new O("argument-error",RI+", "+OI+"and "+kI+" are required in a valid action code URL.");Vn(this,{apiKey:u,operation:p,code:f,continueUrl:Mr(o,zF)||null,languageCode:Mr(o,KF)||null,tenantId:Mr(o,QF)||null})}var RI="apiKey",OI="oobCode",zF="continueUrl",KF="languageCode",kI="mode",QF="tenantId",XF={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:cm,signIn:Vh,verifyAndChangeEmail:cl,verifyEmail:"VERIFY_EMAIL"};function xI(o){try{return new lm(o)}catch{return null}}function Bh(o){var u=o[JF];if(typeof u>"u")throw new O("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new O("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[PI];if(f&&typeof f=="object"){u=f[UI];var p=f[LI];if(f=f[FI],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new O("argument-error",LI+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new O("argument-error",FI+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new O("argument-error",UI+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new O("missing-android-pkg-name")}}else if(typeof f<"u")throw new O("argument-error",PI+" property must be a non null object when specified.");if(this.f=null,(u=o[MI])&&typeof u=="object"){if(u=u[jI],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new O("argument-error",jI+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new O("argument-error",MI+" property must be a non null object when specified.");if(u=o[fm],typeof u<"u"&&typeof u!="boolean")throw new O("argument-error",fm+" property must be a boolean when specified.");if(this.c=!!u,o=o[DI],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new O("argument-error",DI+" property must be a non empty string when specified.");this.i=o||null}var PI="android",DI="dynamicLinkDomain",fm="handleCodeInApp",MI="iOS",JF="url",LI="installApp",FI="minimumVersion",UI="packageName",jI="bundleId";function qh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function ZF(o){return S(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var ll=null;function t2(o){var u=[];return e2(o,function(f){u.push(f)}),u}function e2(o,u){function f(L){for(;p<o.length;){var W=o.charAt(p++),St=ll[W];if(St!=null)return St;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return L}n2();for(var p=0;;){var g=f(-1),_=f(0),w=f(64),I=f(64);if(I===64&&g===-1)break;u(g<<2|_>>4),w!=64&&(u(_<<4&240|w>>2),I!=64&&u(w<<6&192|I))}}function n2(){if(!ll){ll={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),g=0;g<p.length;g++){var _=p[g];ll[_]===void 0&&(ll[_]=g)}}}function Wh(o){var u=VI(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Wh.prototype.T=function(){return this.f},Wh.prototype.l=function(){return this.c},Wh.prototype.toString=function(){return this.h};function Hh(o){try{return new Wh(o)}catch{return null}}function VI(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=t2(o);for(o=[],f=u=0;u<p.length;){var g=p[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=p[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=p[u++];var w=p[u++],I=p[u++],L=((g&7)<<18|(_&63)<<12|(w&63)<<6|I&63)-65536;o[f++]=String.fromCharCode(55296+(L>>10)),o[f++]=String.fromCharCode(56320+(L&1023))}else _=p[u++],w=p[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|w&63)}return JSON.parse(o.join(""))}catch{}return null}var BI="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gh=["client_id","response_type","scope","redirect_uri","state"],hm={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Gh},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Gh},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Gh},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:BI},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function dm(o){for(var u in hm)if(hm[u].fa==o)return hm[u];return null}function qI(o){var u={};u["facebook.com"]=HI,u["google.com"]=YI,u["github.com"]=GI,u["twitter.com"]=$I;var f=o&&o[WI];try{if(f)return u[f]?new u[f](o):new Ci(o);if(typeof o[pm]<"u")return new vm(o)}catch{}return null}var pm="idToken",WI="providerId";function vm(o){var u=o[WI];if(!u&&o[pm]){var f=Hh(o[pm]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ut(this,"providerId",u),ut(this,"isNewUser",f)}function Ci(o){vm.call(this,o),o=ru(o.rawUserInfo||"{}"),ut(this,"profile",rm(o||{}))}dt(Ci,vm);function HI(o){if(Ci.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}dt(HI,Ci);function GI(o){if(Ci.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ut(this,"username",this.profile&&this.profile.login||null)}dt(GI,Ci);function YI(o){if(Ci.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}dt(YI,Ci);function $I(o){if(Ci.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ut(this,"username",o.screenName||null)}dt($I,Ci);function zI(o){var u=nr(o),f=Mr(u,"link"),p=Mr(nr(f),"link");return u=Mr(u,"deep_link_id"),Mr(nr(u),"link")||u||p||f||o}function Yh(o,u){if(!o&&!u)throw new O("internal-error","Internal assert: no raw session string available");if(o&&u)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?fl:$h}var fl="enroll",$h="signin";Yh.prototype.Ha=function(){return this.a?wt(this.a):wt(this.b)},Yh.prototype.w=function(){return this.type==fl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function iu(){}iu.prototype.ka=function(){},iu.prototype.b=function(){},iu.prototype.c=function(){},iu.prototype.w=function(){};function ou(o,u){return o.then(function(f){if(f[Jr]){var p=Hh(f[Jr]);if(!p||u!=p.i)throw new O("user-mismatch");return f}throw new O("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==In+"user-not-found"?new O("user-mismatch"):f})}function js(o,u){if(u)this.a=u;else throw new O("internal-error","failed to construct a credential");ut(this,"providerId",o),ut(this,"signInMethod",o)}js.prototype.ka=function(o){return jm(o,gm(this))},js.prototype.b=function(o,u){var f=gm(this);return f.idToken=u,Vm(o,f)},js.prototype.c=function(o,u){return ou(Bm(o,gm(this)),u)};function gm(o){return{pendingToken:o.a,requestUri:"http://localhost"}}js.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function r2(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new js(o.providerId,o.pendingToken)}catch{}return null}function to(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ut(this,"idToken",u.idToken),u.accessToken&&ut(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ut(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ut(this,"accessToken",u.oauthToken),ut(this,"secret",u.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");ut(this,"providerId",o),ut(this,"signInMethod",f)}to.prototype.ka=function(o){return jm(o,mm(this))},to.prototype.b=function(o,u){var f=mm(this);return f.idToken=u,Vm(o,f)},to.prototype.c=function(o,u){var f=mm(this);return ou(Bm(o,f),u)};function mm(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:aI(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}to.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function i2(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new to(o.providerId,u,o.signInMethod)}catch{}}return null}function Vs(o,u){this.Qc=u||[],Vn(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(dm(o)||{}).Ja||null,this.ob=null}Vs.prototype.Ka=function(o){return this.Ib=ze(o),this};function KI(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');Vs.call(this,o,[])}dt(KI,Vs);function yr(o){Vs.call(this,o,Gh),this.a=[]}dt(yr,Vs),yr.prototype.Ca=function(o){return M(this.a,o)||this.a.push(o),this},yr.prototype.Qb=function(){return z(this.a)},yr.prototype.credential=function(o,u){var f;if(T(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new to(this.providerId,f,this.providerId)};function Bs(){yr.call(this,"facebook.com")}dt(Bs,yr),ut(Bs,"PROVIDER_ID","facebook.com"),ut(Bs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function QI(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Bs().credential({accessToken:u})}function qs(){yr.call(this,"github.com")}dt(qs,yr),ut(qs,"PROVIDER_ID","github.com"),ut(qs,"GITHUB_SIGN_IN_METHOD","github.com");function XI(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new qs().credential({accessToken:u})}function Ws(){yr.call(this,"google.com"),this.Ca("profile")}dt(Ws,yr),ut(Ws,"PROVIDER_ID","google.com"),ut(Ws,"GOOGLE_SIGN_IN_METHOD","google.com");function JI(o,u){var f=o;return T(o)&&(f=o.idToken,u=o.accessToken),new Ws().credential({idToken:f,accessToken:u})}function su(){Vs.call(this,"twitter.com",BI)}dt(su,Vs),ut(su,"PROVIDER_ID","twitter.com"),ut(su,"TWITTER_SIGN_IN_METHOD","twitter.com");function ZI(o,u){var f=o;if(T(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new to("twitter.com",f,"twitter.com")}function Vo(o,u,f){this.a=o,this.f=u,ut(this,"providerId","password"),ut(this,"signInMethod",f===Lr.EMAIL_LINK_SIGN_IN_METHOD?Lr.EMAIL_LINK_SIGN_IN_METHOD:Lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Vo.prototype.ka=function(o){return this.signInMethod==Lr.EMAIL_LINK_SIGN_IN_METHOD?Ut(o,q2,{email:this.a,oobCode:this.f}):Ut(o,CS,{email:this.a,password:this.f})},Vo.prototype.b=function(o,u){return this.signInMethod==Lr.EMAIL_LINK_SIGN_IN_METHOD?Ut(o,W2,{idToken:u,email:this.a,oobCode:this.f}):Ut(o,AS,{idToken:u,email:this.a,password:this.f})},Vo.prototype.c=function(o,u){return ou(this.ka(o),u)},Vo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function o2(o){return o&&o.email&&o.password?new Vo(o.email,o.password,o.signInMethod):null}function Lr(){Vn(this,{providerId:"password",isOAuthProvider:!1})}function tS(o,u){if(u=ym(u),!u)throw new O("argument-error","Invalid email link!");return new Vo(o,u.code,Lr.EMAIL_LINK_SIGN_IN_METHOD)}function ym(o){return o=zI(o),(o=xI(o))&&o.operation===Vh?o:null}Vn(Lr,{PROVIDER_ID:"password"}),Vn(Lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vn(Lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Bo(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new O("internal-error");this.a=o,ut(this,"providerId","phone"),this.fa="phone",ut(this,"signInMethod","phone")}Bo.prototype.ka=function(o){return o.fb(hl(this))},Bo.prototype.b=function(o,u){var f=hl(this);return f.idToken=u,Ut(o,cU,f)},Bo.prototype.c=function(o,u){var f=hl(this);return f.operation="REAUTH",o=Ut(o,lU,f),ou(o,u)},Bo.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function s2(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Bo(u)}return null}function hl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function eo(o){try{this.a=o||lt.auth()}catch{throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vn(this,{providerId:"phone",isOAuthProvider:!1})}eo.prototype.fb=function(o,u){var f=this.a.a;return wt(u.verify()).then(function(p){if(typeof p!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=T(o)?o.session:null,_=T(o)?o.phoneNumber:o,w;return g&&g.type==fl?w=g.Ha().then(function(I){return P2(f,{idToken:I,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):g&&g.type==$h?w=g.Ha().then(function(I){return D2(f,{mfaPendingCredential:I,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):w=x2(f,{phoneNumber:_,recaptchaToken:p}),w.then(function(I){return typeof u.reset=="function"&&u.reset(),I},function(I){throw typeof u.reset=="function"&&u.reset(),I});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function eS(o,u){if(!o)throw new O("missing-verification-id");if(!u)throw new O("missing-verification-code");return new Bo({eb:o,cb:u})}Vn(eo,{PROVIDER_ID:"phone"}),Vn(eo,{PHONE_SIGN_IN_METHOD:"phone"});function _m(o){if(o.temporaryProof&&o.phoneNumber)return new Bo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,w=o&&o.pendingToken;try{switch(u){case"google.com":return JI(_,f);case"facebook.com":return QI(f);case"github.com":return XI(f);case"twitter.com":return ZI(f,p);default:return f||p||_||w?w?u.indexOf("saml.")==0?new js(u,w):new to(u,{pendingToken:w,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new yr(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function wm(o){if(!o.isOAuthProvider)throw new O("invalid-oauth-provider")}function Qr(o,u,f,p,g,_,w){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}Qr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Qr.prototype.T=function(){return this.h},Qr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function nS(o){return o=o||{},o.type?new Qr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&bi(o.error),o.postBody,o.tenantId):null}function a2(){this.b=null,this.a=[]}var bm=null;function u2(o){var u=bm;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=be("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function Em(o){var u="unauthorized-domain",f=void 0,p=nr(o);o=p.a,p=p.c,p=="chrome-extension"?f=AT("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=AT("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",O.call(this,u,f)}dt(Em,O);function dl(o,u,f){O.call(this,o,f),o=u||{},o.Jb&&ut(this,"email",o.Jb),o.ea&&ut(this,"phoneNumber",o.ea),o.credential&&ut(this,"credential",o.credential),o.Zb&&ut(this,"tenantId",o.Zb)}dt(dl,O),dl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Zn(o,u),o},dl.prototype.toJSON=function(){return this.w()};function zh(o){if(o.code){var u=o.code||"";u.indexOf(In)==0&&(u=u.substring(In.length));var f={credential:_m(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new O(u,o.message||void 0);return new dl(u,f,o.message)}return null}function pl(){}pl.prototype.c=null;function rS(o){return o.c||(o.c=o.b())}var Tm;function Kh(){}dt(Kh,pl),Kh.prototype.a=function(){var o=iS(this);return o?new ActiveXObject(o):new XMLHttpRequest},Kh.prototype.b=function(){var o={};return iS(this)&&(o[0]=!0,o[1]=!0),o};function iS(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Tm=new Kh;function Qh(){}dt(Qh,pl),Qh.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new oS;throw Error("Unsupported browser")},Qh.prototype.b=function(){return{}};function oS(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=j(this.qc,this),this.a.onerror=j(this.Sb,this),this.a.onprogress=j(this.rc,this),this.a.ontimeout=j(this.vc,this)}e=oS.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Im(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Im(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Im(this,1)};function Im(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Sm(o,u,f){this.reset(o,u,f,void 0,void 0)}Sm.prototype.a=null,Sm.prototype.reset=function(o,u,f,p,g){delete this.a};function Am(o){this.f=o,this.b=this.c=this.a=null}function vl(o,u){this.name=o,this.value=u}vl.prototype.toString=function(){return this.name};var sS=new vl("SEVERE",1e3),Cm=new vl("WARNING",900),c2=new vl("CONFIG",700),l2=new vl("FINE",500);function aS(o){return o.c?o.c:o.a?aS(o.a):(gn("Root logger has no level set."),null)}Am.prototype.log=function(o,u,f){if(o.value>=aS(this).value)for(E(u)&&(u=u()),o=new Sm(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var Nm={},Xh=null;function Rm(o){Xh||(Xh=new Am(""),Nm[""]=Xh,Xh.c=c2);var u;if(!(u=Nm[o])){u=new Am(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=Rm(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,Nm[o]=u}return u}function Fr(o,u){o&&o.log(l2,u,void 0)}function Jh(o){this.f=o}dt(Jh,pl),Jh.prototype.a=function(){return new Zh(this.f)},Jh.prototype.b=function(o){return function(){return o}}({});function Zh(o){jn.call(this),this.u=o,this.h=void 0,this.readyState=Om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Rm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}dt(Zh,jn);var Om=0;e=Zh.prototype,e.open=function(o,u){if(this.readyState!=Om)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,ml(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,gl(this)),this.readyState=Om},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,ml(this)),this.a&&(this.readyState=3,ml(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,uS(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function uS(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?gl(this):ml(this),this.readyState==3&&uS(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,gl(this))},e.sc=function(o){this.a&&(this.response=o,gl(this))},e.Ua=function(o){var u=this.i;u&&u.log(Cm,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&gl(this)};function gl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,ml(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Cm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Cm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function ml(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Zh.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function yl(o){jn.call(this),this.headers=new Ja,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=cS,this.u=this.S=!1}dt(yl,jn);var cS="";yl.prototype.b=Rm("goog.net.XhrIo");var f2=/^https?$/i,h2=["POST","PUT"];function d2(o,u,f,p,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Tm.a(),o.C=o.D?rS(o.D):rS(Tm),o.a.onreadystatechange=j(o.Vb,o);try{Fr(o.b,no(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(w){Fr(o.b,no(o,"Error opening Xhr: "+w.message)),lS(o,w);return}u=p||"";var _=new Ja(o.headers);g&&_F(g,function(w,I){_.set(I,w)}),g=k(_.Y()),p=l.FormData&&u instanceof l.FormData,!M(h2,f)||g||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(w,I){this.a.setRequestHeader(I,w)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{dS(o),0<o.g&&(o.u=p2(o.a),Fr(o.b,no(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=j(o.Ma,o)):o.s=Wg(o.Ma,o.g,o)),Fr(o.b,no(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(w){Fr(o.b,no(o,"Send error: "+w.message)),lS(o,w)}}function p2(o){return zr&&OT(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function v2(o){return o.toLowerCase()=="content-type"}e=yl.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Fr(this.b,no(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function lS(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,fS(o),td(o)}function fS(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Fr(this.b,no(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),td(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),td(this,!0)),yl.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?hS(this):this.Jc())},e.Jc=function(){hS(this)};function hS(o){if(o.c&&typeof c<"u"){if(o.C[1]&&_l(o)==4&&ed(o)==2)Fr(o.b,no(o,"Local request error detected and ignored"));else if(o.i&&_l(o)==4)Wg(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),_l(o)==4){Fr(o.b,no(o,"Request complete")),o.c=!1;try{var u=ed(o);t:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var p;if(!(p=f)){var g;if(g=u===0){var _=String(o.l).match(oI)[1]||null;if(!_&&l.self&&l.self.location){var w=l.self.location.protocol;_=w.substr(0,w.length-1)}g=!f2.test(_?_.toLowerCase():"")}p=g}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var I=2<_l(o)?o.a.statusText:""}catch(L){Fr(o.b,"Can not get status: "+L.message),I=""}o.h=I+" ["+ed(o)+"]",fS(o)}}finally{td(o)}}}}function td(o,u){if(o.a){dS(o);var f=o.a,p=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(g){(o=o.b)&&o.log(sS,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function dS(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function _l(o){return o.a?o.a.readyState:0}function ed(o){try{return 2<_l(o)?o.a.status:-1}catch{return-1}}function g2(o){try{return o.a?o.a.responseText:""}catch(u){return Fr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case cS:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(sS,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Fr(this.b,"Can not get response: "+u.message),null}};function no(o,u){return u+" ["+o.R+" "+o.l+" "+ed(o)+"]"}function Hs(o){var u=_2;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Hs.prototype.cancel=function(o){if(this.a)this.c instanceof Hs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new bl,nd(this),wl(this,!1,o))}},Hs.prototype.m=function(o,u){this.i=!1,wl(this,o,u)};function wl(o,u,f){o.a=!0,o.c=f,o.f=!u,vS(o)}function nd(o){if(o.a){if(!o.v)throw new rd;o.v=!1}}function m2(o,u){km(o,null,u,void 0)}function km(o,u,f,p){o.g.push([u,f,p]),o.a&&vS(o)}Hs.prototype.then=function(o,u,f){var p,g,_=new Ft(function(w,I){p=w,g=I});return km(this,p,function(w){w instanceof bl?_.cancel():g(w)}),_.then(o,u,f)},Hs.prototype.$goog_Thenable=!0;function pS(o){return A(o.g,function(u){return E(u[1])})}function vS(o){if(o.h&&o.a&&pS(o)){var u=o.h,f=id[u];f&&(l.clearTimeout(f.a),delete id[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],w=g[1];if(g=g[2],_=o.f?w:_)try{var I=_.call(g||o.s,u);I!==void 0&&(o.f=o.f&&(I==u||I instanceof Error),o.c=u=I),(Yt(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(L){u=L,o.f=!0,pS(o)||(f=!0)}}o.c=u,p&&(I=j(o.m,o,!0),p=j(o.m,o,!1),u instanceof Hs?(km(u,I,p),u.C=!0):u.then(I,p)),f&&(u=new gS(u),id[u.a]=u,o.h=u.a)}function rd(){Se.call(this)}dt(rd,Se),rd.prototype.message="Deferred has already fired",rd.prototype.name="AlreadyCalledError";function bl(){Se.call(this)}dt(bl,Se),bl.prototype.message="Deferred was canceled",bl.prototype.name="CanceledError";function gS(o){this.a=l.setTimeout(j(this.c,this),0),this.b=o}gS.prototype.c=function(){throw delete id[this.a],this.b};var id={};function xm(o){var u={},f=u.document||document,p=yT(o).toString(),g=Rh(document,"SCRIPT"),_={Wb:g,Ma:void 0},w=new Hs(_),I=null,L=u.timeout!=null?u.timeout:5e3;return 0<L&&(I=window.setTimeout(function(){od(g,!0);var W=new Pm(b2,"Timeout reached for loading script "+p);nd(w),wl(w,!1,W)},L),_.Ma=I),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(od(g,u.xd||!1,I),nd(w),wl(w,!0,null))},g.onerror=function(){od(g,!0,I);var W=new Pm(w2,"Error while loading script "+p);nd(w),wl(w,!1,W)},_=u.attributes||{},Zn(_,{type:"text/javascript",charset:"UTF-8"}),xT(g,_),QL(g,o),y2(f).appendChild(g),w}function y2(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function _2(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&od(o,!0,this.Ma)}}function od(o,u,f){f!=null&&l.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var w2=0,b2=1;function Pm(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),Se.call(this,f),this.code=o}dt(Pm,Se);function sd(o){this.f=o}dt(sd,pl),sd.prototype.a=function(){return new this.f},sd.prototype.b=function(){return{}};function Xr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||E2,this.g=ze(o.secureTokenHeaders||T2),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||I2,this.a=ze(o.firebaseHeaders||S2),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Si()=="Node",f=l.XMLHttpRequest||f&&lt.INTERNAL.node&&lt.INTERNAL.node.XMLHttpRequest,!f&&!Kr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Kr()?this.f=new Jh(self):mI()?this.f=new sd(f):this.f=new Qh,this.b=null}var Dm,Jr="idToken",E2=new jo(3e4,6e4),T2={"Content-Type":"application/x-www-form-urlencoded"},I2=new jo(3e4,6e4),S2={"Content-Type":"application/json"};function mS(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function au(o,u){u&&(o.l=Mm("https://securetoken.googleapis.com/v1/token",u),o.h=Mm("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Mm("https://identitytoolkit.googleapis.com/v2/",u))}function Mm(o,u){return o=nr(o),u=nr(u.url),o.f=o.a+o.f,tl(o,u.c),o.a=u.a,el(o,u.g),o.toString()}function yS(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Xr.prototype.T=function(){return this.b};function _S(o,u,f,p,g,_,w){RF()||Kr()?o=j(o.u,o):(Dm||(Dm=new Ft(function(I,L){C2(I,L)})),o=j(o.s,o)),o(u,f,p,g,_,w)}Xr.prototype.u=function(o,u,f,p,g,_){if(Kr()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new yl(this.f);if(_){w.g=Math.max(0,_);var I=setTimeout(function(){w.dispatchEvent("timeout")},_)}nI(w,"complete",function(){I&&clearTimeout(I);var L=null;try{L=JSON.parse(g2(this))||null}catch{L=null}u&&u(L)}),qg(w,"ready",function(){I&&clearTimeout(I),KT(this)}),qg(w,"timeout",function(){I&&clearTimeout(I),KT(this),u&&u(null)}),d2(w,o,f,p,g)};var A2=new Ti(Sh,"https://apis.google.com/js/client.js?onload=%{onload}"),wS="__fcb"+Math.floor(1e6*Math.random()).toString();function C2(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[wS]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Ig(A2,{onload:wS});m2(xm(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Xr.prototype.s=function(o,u,f,p,g){var _=this;Dm.then(function(){window.gapi.client.setApiKey(_.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:g,authType:"none",callback:function(I){window.gapi.auth.setToken(w),u&&u(I)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function N2(o,u){return new Ft(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?_S(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?p(Wm(g)):g.access_token&&g.refresh_token?f(g):p(new O("internal-error")):p(new O("network-request-failed"))},"POST",aI(u).toString(),o.g,o.m.get()):p(new O("internal-error"))})}function bS(o,u,f,p,g,_,w){var I=nr(u+f);Pe(I,"key",o.c),w&&Pe(I,"cb",ee().toString());var L=p=="GET";if(L)for(var W in g)g.hasOwnProperty(W)&&Pe(I,W,g[W]);return new Ft(function(St,ne){_S(o,I.toString(),function(Kt){Kt?Kt.error?ne(Wm(Kt,_||{})):St(Kt):ne(new O("network-request-failed"))},p,L?void 0:lI(wI(g)),o.a,o.v.get())})}function Gs(o){if(o=o.email,typeof o!="string"||!xF.test(o))throw new O("invalid-email")}function ES(o){"email"in o&&Gs(o)}function R2(o,u){return Ut(o,j2,{identifier:u,continueUri:jh()?il():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function O2(o){return Ut(o,X2,{}).then(function(u){return u.authorizedDomains||[]})}function rr(o){if(!o[Jr])throw o.mfaPendingCredential?new O("multi-factor-auth-required",null,ze(o)):new O("internal-error")}function Lm(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new O("internal-error")}else{if(!o.sessionInfo)throw new O("missing-verification-id");if(!o.code)throw new O("missing-verification-code")}}Xr.prototype.zb=function(){return Ut(this,eU,{})},Xr.prototype.Bb=function(o,u){return Ut(this,SS,{idToken:o,email:u})},Xr.prototype.Cb=function(o,u){return Ut(this,AS,{idToken:o,password:u})};var k2={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Xr.prototype,e.Db=function(o,u){var f={idToken:o},p=[];return zc(k2,function(g,_){var w=u[_];w===null?p.push(g):_ in u&&(f[_]=w)}),p.length&&(f.deleteAttribute=p),Ut(this,SS,f)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Zn(o,u),Ut(this,Q2,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Zn(o,u),Ut(this,$2,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Zn(o,u),Ut(this,z2,o)},e.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Zn(o,f),Ut(this,K2,o)};function x2(o,u){return Ut(o,tU,u)}e.fb=function(o){return Ut(this,uU,o)};function P2(o,u){return Ut(o,nU,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function TS(o){if(!o.phoneVerificationInfo)throw new O("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new O("missing-verification-code")}function D2(o,u){return Ut(o,rU,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function M2(o,u,f){return Ut(o,B2,{idToken:u,deleteProvider:f})}function Fm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new O("internal-error")}function Um(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Ms(o.postBody),Yg(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function IS(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=zh(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=zh(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=zh(o)):o.errorMessage&&(u=NS(o.errorMessage)),u)throw u;rr(o)}function jm(o,u){return u.returnIdpCredential=!0,Ut(o,iU,u)}function Vm(o,u){return u.returnIdpCredential=!0,Ut(o,sU,u)}function Bm(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ut(o,oU,u)}function qm(o){if(!o.oobCode)throw new O("invalid-action-code")}e.nb=function(o,u){return Ut(this,Z2,{oobCode:o,newPassword:u})},e.Ra=function(o){return Ut(this,F2,{oobCode:o})},e.jb=function(o){return Ut(this,L2,{oobCode:o})};var L2={endpoint:"setAccountInfo",A:qm,Z:"email",B:!0},F2={endpoint:"resetPassword",A:qm,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},U2={endpoint:"signupNewUser",A:function(o){if(Gs(o),!o.password)throw new O("weak-password")},G:rr,V:!0,B:!0},j2={endpoint:"createAuthUri",B:!0},V2={endpoint:"deleteAccount",N:["idToken"]},B2={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new O("internal-error")}},q2={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Gs,G:rr,V:!0,B:!0},W2={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Gs,G:rr,V:!0},H2={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:TS,G:rr,B:!0,Na:!0},G2={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:TS,G:rr,B:!0,Na:!0},Y2={endpoint:"getAccountInfo"},$2={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new O("internal-error");Gs(o)},Z:"email",B:!0},z2={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},K2={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},Q2={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new O("internal-error");Gs(o)},Z:"email",B:!0},X2={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},J2={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new O("internal-error")}},Z2={endpoint:"resetPassword",A:qm,Z:"email",B:!0},tU={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},SS={endpoint:"setAccountInfo",N:["idToken"],A:ES,V:!0},AS={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(ES(o),!o.password)throw new O("weak-password")},G:rr,V:!0},eU={endpoint:"signupNewUser",G:rr,V:!0,B:!0},nU={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new O("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},rU={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},iU={endpoint:"verifyAssertion",A:Fm,Ya:Um,G:IS,V:!0,B:!0},oU={endpoint:"verifyAssertion",A:Fm,Ya:Um,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(o.errorMessage)throw NS(o.errorMessage);rr(o)},V:!0,B:!0},sU={endpoint:"verifyAssertion",A:function(o){if(Fm(o),!o.idToken)throw new O("internal-error")},Ya:Um,G:IS,V:!0},aU={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new O("invalid-custom-token")},G:rr,V:!0,B:!0},CS={endpoint:"verifyPassword",A:function(o){if(Gs(o),!o.password)throw new O("wrong-password")},G:rr,V:!0,B:!0},uU={endpoint:"verifyPhoneNumber",A:Lm,G:rr,B:!0},cU={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new O("internal-error");Lm(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",zh(o);rr(o)}},lU={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Lm,G:rr,B:!0},fU={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Jr]^!!o.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function Ut(o,u,f){if(!jF(f,u.N))return we(new O("internal-error"));var p=!!u.Na,g=u.Ub||"POST",_;return wt(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?bS(o,o.i,u.endpoint,g,f,u.Hb,u.lb||!1):bS(o,o.h,u.endpoint,g,f,u.Hb,u.lb||!1)}).then(function(w){return _=w,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new O("internal-error");return _[u.Z]})}function NS(o){return Wm({error:{errors:[{message:o}],code:400,message:o}})}function Wm(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new O(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Zn(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(f.indexOf(g)===0)return new O(p[g],u);return!u&&o&&(u=sl(o)),new O("internal-error",u)}function hU(o){this.b=o,this.a=null,this.rb=dU(this)}function dU(o){return _U().then(function(){return new Ft(function(u,f){be("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:be("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},yU.get());p.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function pU(o,u){return o.rb.then(function(){return new Ft(function(f){o.a.send(u.type,u,f,be("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function vU(o,u){o.rb.then(function(){o.a.register("authEvent",u,be("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var gU=new Ti(Sh,"https://apis.google.com/js/api.js?onload=%{onload}"),mU=new jo(3e4,6e4),yU=new jo(5e3,15e3),ad=null;function _U(){return ad||(ad=new Ft(function(o,u){function f(){EI(),be("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){EI(),u(Error("Network Error"))},timeout:mU.get()})}if(be("gapi.iframes.Iframe"))o();else if(be("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){be("gapi.load")?f():u(Error("Network Error"))},p=Ig(gU,{onload:p}),wt(xm(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw ad=null,o}))}function RS(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=nr(this.g.url),o=Fh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Fh("https",this.l,null,"/__/auth/iframe"),this.a=o,Pe(this.a,"apiKey",this.h),Pe(this.a,"appName",this.i),this.b=null,this.c=[]}RS.prototype.toString=function(){return this.f?Pe(this.a,"v",this.f):Ii(this.a.b,"v"),this.b?Pe(this.a,"eid",this.b):Ii(this.a.b,"eid"),this.c.length?Pe(this.a,"fw",this.c.join(",")):Ii(this.a.b,"fw"),this.a.toString()};function Hm(o,u,f,p,g,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}Hm.prototype.yb=function(o){return this.h=o,this},Hm.prototype.toString=function(){if(this.v){var o=nr(this.v.url);o=Fh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Fh("https",this.u,null,"/__/auth/handler");if(Pe(o,"apiKey",this.s),Pe(o,"appName",this.c),Pe(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=lt.app(this.c).auth().la()}catch{f=null}u.ob=f,Pe(o,"providerId",this.a.providerId),f=this.a,u=wI(f.Ib);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=ze(u);for(var g=0;g<p.length;g++){var _=p[g];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),xe(u)||Pe(o,"customParameters",sl(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&Pe(o,"scopes",f.join(","))),this.l?Pe(o,"redirectUrl",this.l):Ii(o.b,"redirectUrl"),this.g?Pe(o,"eventId",this.g):Ii(o.b,"eventId"),this.i?Pe(o,"v",this.i):Ii(o.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Mr(o,w)&&Pe(o,w,this.b[w]);return this.h?Pe(o,"tid",this.h):Ii(o.b,"tid"),this.f?Pe(o,"eid",this.f):Ii(o.b,"eid"),w=Gm(this.c),w.length&&Pe(o,"fw",w.join(",")),o.toString()};function Gm(o){try{return lt.app(o).auth().Ga()}catch{return[]}}function OS(o,u,f,p,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function kS(o){var u=il();return O2(o).then(function(f){t:{var p=nr(u),g=p.c;p=p.a;for(var _=0;_<f.length;_++){var w=f[_],I=p,L=g;if(w.indexOf("chrome-extension://")==0?I=nr(w).a==I&&L=="chrome-extension":L!="http"&&L!="https"?I=!1:kF.test(w)?I=I==w:(w=w.split(".").join("\\."),I=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(I)),I){f=!0;break t}}f=!1}if(!f)throw new Em(il())})}function xS(o){return o.m||(o.m=Uh().then(function(){if(!o.u){var u=o.c,f=o.i,p=Gm(o.b),g=new RS(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=z(p||[]),o.u=g.toString()}o.v=new hU(o.u),wU(o)})),o.m}e=OS.prototype,e.Ob=function(o,u,f){var p=new O("popup-closed-by-user"),g=new O("web-storage-unsupported"),_=this,w=!1;return this.ma().then(function(){bU(_).then(function(I){I||(o&&Ls(o),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return OF(o)}).then(function(){if(!w)return Xa(f).then(function(){u(p)})})},e.Xb=function(){var o=mn();return!ol(o)&&!bI(o)},e.Tb=function(){return!1},e.Mb=function(o,u,f,p,g,_,w,I){if(!o)return we(new O("popup-blocked"));if(w&&!ol())return this.ma().o(function(W){Ls(o),g(W)}),p(),wt();this.a||(this.a=kS(PS(this)));var L=this;return this.a.then(function(){var W=L.ma().o(function(St){throw Ls(o),g(St),St});return p(),W}).then(function(){if(wm(f),!w){var W=El(L.s,L.g,L.b,u,f,null,_,L.c,void 0,L.i,I,L.f);dI(W,o)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(L.a=null),W})};function PS(o){return o.l||(o.C=o.c?eu(o.c,Gm(o.b)):null,o.l=new Xr(o.g,ye(o.i),o.C),o.f&&au(o.l,o.f)),o.l}e.Nb=function(o,u,f,p){this.a||(this.a=kS(PS(this)));var g=this;return this.a.then(function(){wm(u);var _=El(g.s,g.g,g.b,o,u,il(),f,g.c,void 0,g.i,p,g.f);dI(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},e.ma=function(){var o=this;return xS(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new O("network-request-failed")})},e.$b=function(){return!0};function El(o,u,f,p,g,_,w,I,L,W,St,ne){return o=new Hm(o,u,f,p,g,ne),o.l=_,o.g=w,o.i=I,o.b=ze(L||null),o.f=W,o.yb(St).toString()}function wU(o){if(!o.v)throw Error("IfcHandler must be initialized!");vU(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=nS(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",wt(f)}return f.status="ERROR",wt(f)})}function bU(o){var u={type:"webStorageSupport"};return xS(o).then(function(){return pU(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){q(this.h,function(u){return u==o})};function DS(o){if(this.a=o||lt.INTERNAL.reactNative&&lt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=DS.prototype,e.get=function(o){return wt(this.a.getItem(o)).then(function(u){return u&&ru(u)})},e.set=function(o,u){return wt(this.a.setItem(o,sl(u)))},e.U=function(o){return wt(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function MS(o){this.b=o,this.a={},this.f=j(this.c,this)}var LS=[];function EU(){var o=Kr()?self:null;if(H(LS,function(f){f.b==o&&(u=f)}),!u){var u=new MS(o);LS.push(u)}return u}MS.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];H(p,function(_){g.push(wt().then(function(){return _(o.origin,o.data.data)}))}),VT(g).then(function(_){var w=[];H(_,function(I){w.push({fulfilled:I.Pb,value:I.value,reason:I.reason?I.reason.message:void 0})}),H(w,function(I){for(var L in I)typeof I[L]>"u"&&delete I[L]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:w})})}};function FS(o,u,f){xe(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function US(o){this.a=o}US.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function jS(o){this.c=o,this.b=!1,this.a=[]}function VS(o,u,f,p){var g,_=f||{},w,I,L,W=null;if(o.b)return we(Error("connection_unavailable"));var St=p?800:50,ne=typeof MessageChannel<"u"?new MessageChannel:null;return new Ft(function(Kt,cn){ne?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),ne.port1.start(),I=setTimeout(function(){cn(Error("unsupported_event"))},St),w=function(ro){ro.data.eventId===g&&(ro.data.status==="ack"?(clearTimeout(I),L=setTimeout(function(){cn(Error("timeout"))},3e3)):ro.data.status==="done"?(clearTimeout(L),typeof ro.data.response<"u"?Kt(ro.data.response):cn(Error("unknown_error"))):(clearTimeout(I),clearTimeout(L),cn(Error("invalid_response"))))},W={messageChannel:ne,onMessage:w},o.a.push(W),ne.port1.addEventListener("message",w),o.c.postMessage({eventType:u,eventId:g,data:_},[ne.port2])):cn(Error("connection_unavailable"))}).then(function(Kt){return Ym(o,W),Kt}).o(function(Kt){throw Ym(o,W),Kt})}function Ym(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),q(o.a,function(g){return g==u})}}jS.prototype.close=function(){for(;0<this.a.length;)Ym(this,this.a[0]);this.b=!0};function BS(){if(!Km())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Kr()&&self?(this.v=EU(),FS(this.v,"keyChanged",function(u,f){return HS(o).then(function(p){return 0<p.length&&H(o.a,function(g){g(p)}),{keyProcessed:M(p,f.key)}})}),FS(this.v,"ping",function(){return wt(["keyChanged"])})):FF().then(function(u){(o.h=u)&&(o.g=new jS(new US(u)),VS(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&M(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var $m;function TU(o){return new Ft(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){f(Error(g.target.error))}})}function qS(o){return new Ft(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):TU(o).then(function(){return qS(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function zm(o){return o.i||(o.i=qS(o)),o.i}function ud(o,u){function f(g,_){zm(o).then(u).then(g).o(function(w){if(3<++p)_(w);else return zm(o).then(function(I){return I.close(),o.i=void 0,f(g,_)}).o(function(I){_(I)})})}var p=0;return new Ft(f)}function Km(){try{return!!l.indexedDB}catch{return!1}}function Tl(o){return o.objectStore("firebaseLocalStorage")}function Il(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function uu(o){return new Ft(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=BS.prototype,e.set=function(o,u){var f=this,p=!1;return ud(this,function(g){return g=Tl(Il(g,!0)),uu(g.get(o))}).then(function(g){return ud(f,function(_){if(_=Tl(Il(_,!0)),g)return g.value=u,uu(_.put(g));f.b++,p=!0;var w={};return w.fbase_key=o,w.value=u,uu(_.add(w))})}).then(function(){return f.c[o]=u,WS(f,o)}).oa(function(){p&&f.b--})};function WS(o,u){return o.g&&o.h&&LF()===o.h?VS(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):wt()}e.get=function(o){return ud(this,function(u){return uu(Tl(Il(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return ud(this,function(p){return f=!0,u.b++,uu(Tl(Il(p,!0)).delete(o))}).then(function(){return delete u.c[o],WS(u,o)}).oa(function(){f&&u.b--})};function HS(o){return zm(o).then(function(u){var f=Tl(Il(u,!1));return f.getAll?uu(f.getAll()):new Ft(function(p,g){var _=[],w=f.openCursor();w.onsuccess=function(I){(I=I.target.result)?(_.push(I.value),I.continue()):p(_)},w.onerror=function(I){g(I.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=pI(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&IU(this),this.a.push(o)},e.ia=function(o){q(this.a,function(u){return u==o}),this.a.length==0&&GS(this)};function IU(o){function u(){o.f=setTimeout(function(){o.l=HS(o).then(function(f){0<f.length&&H(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}GS(o),u()}function GS(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function YS(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=wt().then(function(){if(Km()){var p=Us(),g="__sak"+p;return $m||($m=new BS),f=$m,f.set(g,p).then(function(){return f.get(g)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){H(u.a,function(_){_(g)})}),p})}e=YS.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){q(this.a,function(u){return u==o})};function Sl(){this.a={},this.type="inMemory"}e=Sl.prototype,e.get=function(o){return wt(this.a[o])},e.set=function(o,u){return this.a[o]=u,wt()},e.U=function(o){return delete this.a[o],wt()},e.ca=function(){},e.ia=function(){};function cd(){if(!SU())throw Si()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=$S()||lt.INTERNAL.node.localStorage,this.type="localStorage"}function $S(){try{var o=l.localStorage,u=Us();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function SU(){var o=Si()=="Node";if(o=$S()||o&&lt.INTERNAL.node&&lt.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=cd.prototype,e.get=function(o){var u=this;return wt().then(function(){var f=u.a.getItem(o);return ru(f)})},e.set=function(o,u){var f=this;return wt().then(function(){var p=sl(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return wt().then(function(){u.a.removeItem(o)})},e.ca=function(o){l.window&&Dr(l.window,"storage",o)},e.ia=function(o){l.window&&mr(l.window,"storage",o)};function Qm(){this.type="nullStorage"}e=Qm.prototype,e.get=function(){return wt(null)},e.set=function(){return wt()},e.U=function(){return wt()},e.ca=function(){},e.ia=function(){};function Xm(){if(!AU())throw Si()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=zS()||lt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zS(){try{var o=l.sessionStorage,u=Us();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function AU(){var o=Si()=="Node";if(o=zS()||o&&lt.INTERNAL.node&&lt.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Xm.prototype,e.get=function(o){var u=this;return wt().then(function(){var f=u.a.getItem(o);return ru(f)})},e.set=function(o,u){var f=this;return wt().then(function(){var p=sl(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return wt().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function CU(){var o={};o.Browser=NU,o.Node=RU,o.ReactNative=OU,o.Worker=kU,this.a=o[Si()]}var Jm,NU={F:cd,bb:Xm},RU={F:cd,bb:Xm},OU={F:DS,bb:Qm},kU={F:cd,bb:Qm},cu={rd:"local",NONE:"none",td:"session"};function xU(o){var u=new O("invalid-persistence-type"),f=new O("unsupported-persistence-type");t:{for(p in cu)if(cu[p]==o){var p=!0;break t}p=!1}if(!p||typeof o!="string")throw u;switch(Si()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!Km()&&o!=="none")throw f;break;default:if(!Jg()&&o!=="none")throw f}}function KS(){var o=!!(!bI(mn())&&Qg()),u=ol(),f=Jg();this.m=o,this.h=u,this.l=f,this.a={},Jm||(Jm=new CU),o=Jm;try{this.g=!zg()&&TI()||!l.indexedDB?new o.a.F:new YS(Kr()?new Sl:new o.a.F)}catch{this.g=new Sl,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new Sl}this.v=new Sl,this.f=j(this.Yb,this),this.b={}}var Zm;function Al(){return Zm||(Zm=new KS),Zm}function Ys(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function lu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function PU(o,u,f){var p=lu(u,f),g=Ys(o,u.F);return o.get(u,f).then(function(_){var w=null;try{w=ru(l.localStorage.getItem(p))}catch{}if(w&&!_)return l.localStorage.removeItem(p),o.set(u,w,f);w&&_&&g.type!="localStorage"&&l.localStorage.removeItem(p)})}e=KS.prototype,e.get=function(o,u){return Ys(this,o.F).get(lu(o,u))};function fu(o,u,f){return f=lu(u,f),u.F=="local"&&(o.b[f]=null),Ys(o,u.F).U(f)}e.set=function(o,u,f){var p=lu(o,f),g=this,_=Ys(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(w){o.F=="local"&&(g.b[p]=w)})},e.addListener=function(o,u,f){o=lu(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),xe(this.a)&&(Ys(this,"local").ca(this.f),this.h||(zg()||!TI())&&l.indexedDB||!this.l||DU(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=lu(o,u),this.a[o]&&(q(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),xe(this.a)&&(Ys(this,"local").ia(this.f),ty(this))};function DU(o){ty(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new Ps({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Yb(f))}},1e3)}function ty(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var g=l.localStorage.getItem(f);g!==p&&(this.b[f]=g,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Ys(this,"local").ia(this.f):ty(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.mb(u))},zr&&Lo&&Lo==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else H(o,j(this.mb,this))},e.mb=function(o){this.a[o]&&H(this.a[o],function(u){u()})};function MU(o){this.a=o,this.b=Al()}var ey={name:"authEvent",F:"local"};function LU(o){return o.b.get(ey,o.a).then(function(u){return nS(u)})}function FU(){this.a=Al()}function UU(){this.b=-1}function ld(o,u){this.b=QS,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),fd===void 0&&(l.Int32Array?fd=new Int32Array(ZS):fd=ZS),this.reset()}var fd;dt(ld,UU);for(var QS=64,jU=QS-1,XS=[],ny=0;ny<jU;ny++)XS[ny]=0;var JS=nt(128,XS);ld.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):z(this.h)};function ry(o){for(var u=o.f,f=o.l,p=0,g=0;g<u.length;)f[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+w|0}p=o.a[0]|0,g=o.a[1]|0;var I=o.a[2]|0,L=o.a[3]|0,W=o.a[4]|0,St=o.a[5]|0,ne=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Kt=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&I^g&I)|0;w=W&St^~W&ne,_=_+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,w=w+(fd[u]|0)|0,w=_+(w+(f[u]|0)|0)|0,_=ne,ne=St,St=W,W=L+w|0,L=I,I=g,g=p,p=w+Kt|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+I|0,o.a[3]=o.a[3]+L|0,o.a[4]=o.a[4]+W|0,o.a[5]=o.a[5]+St|0,o.a[6]=o.a[6]+ne|0,o.a[7]=o.a[7]+_|0}function iy(o,u,f){f===void 0&&(f=u.length);var p=0,g=o.c;if(typeof u=="string")for(;p<f;)o.f[g++]=u.charCodeAt(p++),g==o.b&&(ry(o),g=0);else if(b(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(ry(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var ZS=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function t1(){ld.call(this,8,VU)}dt(t1,ld);var VU=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function e1(o,u,f,p,g,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new FU,this.g=new MU(this.h),this.f=null,this.b=[],this.a=this.c=null}function hd(o){return new O("invalid-cordova-configuration",o)}e=e1.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=PF().then(function(){if(typeof be("universalLinks.subscribe",l)!="function")throw hd("cordova-universal-links-plugin-fix is not installed");if(typeof be("BuildInfo.packageName",l)>"u")throw hd("cordova-plugin-buildinfo is not installed");if(typeof be("cordova.plugins.browsertab.openUrl",l)!="function")throw hd("cordova-plugin-browsertab is not installed");if(typeof be("cordova.InAppBrowser.open",l)!="function")throw hd("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function BU(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function qU(o){var u=new t1;iy(u,o),o=[];var f=8*u.g;56>u.c?iy(u,JS,56-u.c):iy(u,JS,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(ry(u),p=f=0;p<u.i;p++)for(var g=24;0<=g;g-=8)o[f++]=u.a[p]>>g&255;return ZF(o)}e.Ob=function(o,u){return u(new O("operation-not-supported-in-this-environment")),wt()},e.Mb=function(){return we(new O("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,f,p){if(this.c)return we(new O("redirect-operation-pending"));var g=this,_=l.document,w=null,I=null,L=null,W=null;return this.c=wt().then(function(){return wm(u),r1(g)}).then(function(){return WU(g,o,u,f,p)}).then(function(){return new Ft(function(St,ne){I=function(){var Kt=be("cordova.plugins.browsertab.close",l);return St(),typeof Kt=="function"&&Kt(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(I),L=function(){w||(w=Xa(2e3).then(function(){ne(new O("redirect-cancelled-by-user"))}))},W=function(){Zg()&&L()},_.addEventListener("resume",L,!1),mn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",W,!1)}).o(function(St){return oy(g).then(function(){throw St})})}).oa(function(){L&&_.removeEventListener("resume",L,!1),W&&_.removeEventListener("visibilitychange",W,!1),w&&w.cancel(),I&&g.Sa(I),g.c=null})};function WU(o,u,f,p,g){var _=BU(),w=new Qr(u,p,null,_,new O("no-auth-event"),null,g),I=be("BuildInfo.packageName",l);if(typeof I!="string")throw new O("invalid-cordova-configuration");var L=be("BuildInfo.displayName",l),W={};if(mn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=I;else if(mn().toLowerCase().match(/android/))W.apn=I;else return we(new O("operation-not-supported-in-this-environment"));L&&(W.appDisplayName=L),_=qU(_),W.sessionId=_;var St=El(o.v,o.i,o.l,u,f,null,p,o.m,W,o.u,g,o.s);return o.ma().then(function(){var ne=o.h;return o.C.a.set(ey,w.w(),ne)}).then(function(){var ne=be("cordova.plugins.browsertab.isAvailable",l);if(typeof ne!="function")throw new O("invalid-cordova-configuration");var Kt=null;ne(function(cn){if(cn){if(Kt=be("cordova.plugins.browsertab.openUrl",l),typeof Kt!="function")throw new O("invalid-cordova-configuration");Kt(St)}else{if(Kt=be("cordova.InAppBrowser.open",l),typeof Kt!="function")throw new O("invalid-cordova-configuration");cn=mn(),o.a=Kt(St,cn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||cn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function n1(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function r1(o){return o.f||(o.f=o.ma().then(function(){return new Ft(function(u){function f(p){return u(p),o.Sa(f),!1}o.Ea(f),HU(o)})})),o.f}function oy(o){var u=null;return LU(o.g).then(function(f){return u=f,f=o.g,fu(f.b,ey,f.a)}).then(function(){return u})}function HU(o){function u(w){p=!0,g&&g.cancel(),oy(o).then(function(I){var L=f;if(I&&w&&w.url){var W=null;L=zI(w.url),L.indexOf("/__/auth/callback")!=-1&&(W=nr(L),W=ru(Mr(W,"firebaseError")||null),W=(W=typeof W=="object"?bi(W):null)?new Qr(I.c,I.b,null,null,W,null,I.T()):new Qr(I.c,I.b,L,I.f,null,null,I.T())),L=W||f}n1(o,L)})}var f=new Qr("unknown",null,null,null,new O("no-auth-event")),p=!1,g=Xa(500).then(function(){return oy(o).then(function(){p||n1(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(w){if(w.toLowerCase().indexOf(be("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:w}),typeof _=="function")try{_(w)}catch(I){console.error(I)}},bm||(bm=new a2),u2(u)}e.Ea=function(o){this.b.push(o),r1(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Qr("unknown",null,null,null,new O("no-auth-event")),o(u))})},e.Sa=function(o){q(this.b,function(u){return u==o})};function GU(o){this.a=o,this.b=Al()}var sy={name:"pendingRedirect",F:"session"};function YU(o){return o.b.set(sy,"pending",o.a)}function ay(o){return fu(o.b,sy,o.a)}function $U(o){return o.b.get(sy,o.a).then(function(u){return u=="pending"})}function dd(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=j(this.s,this),this.b=new pd,this.C=new v1,this.g=new GU(f1(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=i1(this.D,this.v,this.m,Gt,this.J)}function i1(o,u,f,p,g){var _=lt.SDK_VERSION||null;return Kg()?new e1(o,u,f,_,p,g):new OS(o,u,f,_,p,g)}dd.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=i1(this.D,this.v,this.m,null,this.J),this.i={}};function o1(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function s1(o){o.a.Xb()&&o1(o).o(function(u){var f=new Qr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));cy(u)&&o.s(f)}),o.a.Tb()||d1(o.b)}function uy(o,u){M(o.h,u)||o.h.push(u),o.f||$U(o.g).then(function(f){f?ay(o.g).then(function(){o1(o).o(function(p){var g=new Qr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));cy(p)&&o.s(g)})}):s1(o)}).o(function(){s1(o)})}function a1(o,u){q(o.h,function(f){return f==u})}dd.prototype.s=function(o){if(!o)throw new O("invalid-auth-event");if(6e5<=ee()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=ee())),u=!0;break}}return d1(this.b),u};var zU=new jo(2e3,1e4),KU=new jo(3e4,6e4);dd.prototype.qa=function(){return this.b.qa()};function u1(o,u,f,p,g,_,w){return o.a.Mb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,w)}function cy(o){return!!(o&&o.code=="auth/cordova-not-ready")}function c1(o,u,f,p,g){var _;return YU(o.g).then(function(){return o.a.Nb(u,f,p,g).o(function(w){if(cy(w))throw new O("operation-not-supported-in-this-environment");return _=w,ay(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new Ft(function(){}):ay(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function l1(o,u,f,p,g){return o.a.Ob(p,function(_){u.na(f,null,_,g)},zU.get())}var ly={};function f1(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function h1(o,u,f,p){var g=f1(u,f,p);return ly[g]||(ly[g]=new dd(o,u,f,p)),ly[g]}function pd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}pd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},pd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?($s(this,!0,null,o.a),wt()):u.Fa(f,p)?QU(this,o,u):we(new O("invalid-auth-event")):($s(this,!1,null,null),wt())}else we(new O("invalid-auth-event"))};function d1(o){o.g||(o.g=!0,$s(o,!1,null,null))}function vd(o){o.g&&!o.i&&$s(o,!1,null,null)}function QU(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,g=u.f,_=u.i,w=u.T(),I=!!u.c.match(/Redirect$/);f(p,g,w,_).then(function(L){$s(o,I,L,null)}).o(function(L){$s(o,I,null,L)})}function XU(o,u){if(o.b=function(){return we(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function p1(o,u){if(o.b=function(){return wt(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function $s(o,u,f,p){u?p?XU(o,p):p1(o,f):p1(o,{user:null}),o.f=[],o.c=[]}pd.prototype.qa=function(){var o=this;return new Ft(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),JU(o))})};function JU(o){var u=new O("timeout");o.a&&o.a.cancel(),o.a=Xa(KU.get()).then(function(){o.b||(o.g=!0,$s(o,!0,null,u))})}function v1(){}v1.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),wt()):u.Fa(f,p)?ZU(o,u):we(new O("invalid-auth-event"))}else we(new O("invalid-auth-event"))};function ZU(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(p,g,null,f)}).o(function(g){u.na(p,null,g,f)})}function g1(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function fy(o,u){this.a=u,ut(this,"verificationId",o)}fy.prototype.confirm=function(o){return o=eS(this.verificationId,o),this.a(o)};function hy(o,u,f,p){return new eo(o).fb(u,f).then(function(g){return new fy(g,p)})}function tj(o){var u=VI(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vn(this,{token:o,expirationTime:al(1e3*u.exp),authTime:al(1e3*u.auth_time),issuedAtTime:al(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function dy(o,u,f){var p=u&&u[y1];if(!p)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=ze(u),this.g=f,this.c=new Yh(null,p),this.b=[];var g=this;H(u[m1]||[],function(_){(_=om(_))&&g.b.push(_)}),ut(this,"auth",this.a),ut(this,"session",this.c),ut(this,"hints",this.b)}var m1="mfaInfo",y1="mfaPendingCredential";dy.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var p=ze(u.f);return delete p[m1],delete p[y1],Zn(p,f),u.g(p)})};function py(o,u,f,p){O.call(this,"multi-factor-auth-required",p,u),this.b=new dy(o,u,f),ut(this,"resolver",this.b)}dt(py,O);function _1(o,u,f){if(o&&T(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new py(u,o.serverResponse,f,o.message)}catch{}return null}function w1(){}w1.prototype.sb=function(o,u,f){return u.type==fl?ej(this,o,u,f):nj(this,o,u)};function ej(o,u,f,p){return f.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),Zn(g,{phoneVerificationInfo:hl(o.a)}),Ut(u,H2,g)})}function nj(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},Zn(p,{phoneVerificationInfo:hl(o.a)}),Ut(u,G2,p)})}function vy(o){ut(this,"factorId",o.fa),this.a=o}dt(vy,w1);function b1(o){if(vy.call(this,o),this.a.fa!=eo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}dt(b1,vy);function hu(o,u){er.call(this,o);for(var f in u)this[f]=u[f]}dt(hu,er);function gy(o,u){this.a=o,this.b=[],this.c=j(this.yc,this),Dr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&H(u.multiFactor.enrolledFactors,function(p){var g=null,_={};if(p){p.uid&&(_[am]=p.uid),p.displayName&&(_[SI]=p.displayName),p.enrollmentTime&&(_[sm]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[um]=p.phoneNumber);try{g=new ul(_)}catch{}p=g}else p=null;p&&f.push(p)}),gd(this,f)}function rj(o){var u=[];return H(o.mfaInfo||[],function(f){(f=om(f))&&u.push(f)}),u}e=gy.prototype,e.yc=function(o){gd(this,rj(o.hd))};function gd(o,u){o.b=u,ut(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new Yh(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Rb().then(function(g){return o.sb(p,g,u)}).then(function(g){return Ni(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(g){return Ut(p,fU,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=zt(u.b,function(w){return w.uid!=f});return gd(u,_),Ni(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:S(this.b,function(o){return o.w()})}}};function my(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}my.prototype.start=function(){this.a=this.c,yy(this,!0)};function ij(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function yy(o,u){o.stop(),o.b=Xa(ij(o,u)).then(function(){return MF()}).then(function(){return o.h()}).then(function(){yy(o,!0)}).o(function(f){o.i(f)&&yy(o,!1)})}my.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function _y(o){this.f=o,this.b=this.a=null,this.c=Date.now()}_y.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function E1(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function T1(o,u){o.b=Hh(u[Jr]||""),o.a=u.refreshToken,u=u.expiresIn,E1(o,typeof u<"u"?Number(u):void 0)}function oj(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function sj(o,u){return N2(o.f,u).then(function(f){return o.b=Hh(f.access_token),o.a=f.refresh_token,E1(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}_y.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?we(new O("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?sj(this,{grant_type:"refresh_token",refresh_token:this.a}):wt(null):wt({accessToken:this.b.toString(),refreshToken:this.a})};function md(o,u){this.a=o||null,this.b=u||null,Vn(this,{lastSignInTime:al(u||null),creationTime:al(o||null)})}function aj(o){return new md(o.a,o.b)}md.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function uj(o,u,f,p,g,_){Vn(this,{uid:o,displayName:p||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function _r(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=lt.SDK_VERSION?eu(lt.SDK_VERSION):null;this.a=new Xr(this.l,ye(Gt),p),o.emulatorConfig&&au(this.a,o.emulatorConfig),this.b=new _y(this.a),Sy(this,u[Jr]),T1(this.b,u),ut(this,"refreshToken",this.b.a),S1(this,f||{}),jn.call(this),this.R=!1,this.s&&Fs()&&(this.i=h1(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=cj(this),this.aa=j(this.hb,this);var g=this;this.ya=null,this.Oa=function(_){g.wa(_.h)},this.ja=null,this.Aa=function(_){au(g.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){Cl(g,_.f)},this.ba=null,this.O=new gy(this,f),ut(this,"multiFactor",this.O)}dt(_r,jn),_r.prototype.wa=function(o){this.ya=o,mS(this.a,o)},_r.prototype.la=function(){return this.ya};function wy(o,u){o.ja&&mr(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&Dr(u,"languageCodeChanged",o.Oa)}function by(o,u){o.X&&mr(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&Dr(u,"emulatorConfigChanged",o.Aa)}function Cl(o,u){o.$=u,yS(o.a,lt.SDK_VERSION?eu(lt.SDK_VERSION,o.$):null)}_r.prototype.Ga=function(){return z(this.$)};function Ey(o,u){o.ba&&mr(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&Dr(u,"frameworkChanged",o.Ba)}_r.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Ty(o){try{return lt.app(o.m).auth()}catch{throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function cj(o){return new my(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function I1(o){o.D||o.u.b||(o.u.start(),mr(o,"tokenChanged",o.aa),Dr(o,"tokenChanged",o.aa))}function Iy(o){mr(o,"tokenChanged",o.aa),o.u.stop()}function Sy(o,u){o.za=u,ut(o,"_lat",u)}function lj(o,u){q(o.S,function(f){return f==u})}function zs(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return VT(u).then(function(){return o})}function Nl(o){o.i&&!o.R&&(o.R=!0,uy(o.i,o))}function S1(o,u){Vn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new md(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ut(_r.prototype,"providerId","firebase");function A1(){}function Ay(o){return wt().then(function(){if(o.D)throw new O("app-deleted")})}function Cy(o){return S(o.providerData,function(u){return u.providerId})}function Ny(o,u){u&&(C1(o,u.providerId),o.providerData.push(u))}function C1(o,u){q(o.providerData,function(f){return f.providerId==u})}function qo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ut(o,u,f)}function yd(o,u){o!=u&&(Vn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ut(o,"metadata",aj(u.metadata)):ut(o,"metadata",new md),H(u.providerData,function(f){Ny(o,f)}),oj(o.b,u.b),ut(o,"refreshToken",o.b.a),gd(o.O,u.O.b))}e=_r.prototype,e.reload=function(){var o=this;return Ke(this,Ay(this).then(function(){return Ry(o).then(function(){return zs(o)}).then(A1)}))};function Ry(o){return o.I().then(function(u){var f=o.isAnonymous;return fj(o,u).then(function(){return f||qo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new tj(u)})},e.I=function(o){var u=this;return Ke(this,Ay(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new O("internal-error");return f.accessToken!=u.za&&(Sy(u,f.accessToken),u.dispatchEvent(new hu("tokenChanged"))),qo(u,"refreshToken",f.refreshToken),f.accessToken}))};function Ni(o,u){u[Jr]&&o.za!=u[Jr]&&(T1(o.b,u),o.dispatchEvent(new hu("tokenChanged")),Sy(o,u[Jr]),qo(o,"refreshToken",o.b.a))}function fj(o,u){return Ut(o.a,Y2,{idToken:u}).then(j(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new O("internal-error");o=o[0],S1(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=hj(o),f=0;f<u.length;f++)Ny(this,u[f]);qo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new hu("userReloaded",{hd:o}))};function hj(o){return(o=o.providerUserInfo)&&o.length?S(o,function(u){return new uj(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return tm("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,f=null;return Ke(this,o.c(this.a,this.uid).then(function(p){return Ni(u,p),f=Rl(u,p,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function _d(o,u){return Ry(o).then(function(){if(M(Cy(o),u))return zs(o).then(function(){throw new O("provider-already-linked")})})}e.Cc=function(o){return tm("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,f=null;return Ke(this,_d(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Rl(u,p,"link"),N1(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return Ke(this,_d(this,"phone").then(function(){return hy(Ty(f),o,u,j(f.qb,f))}))},e.Mc=function(o,u){var f=this;return Ke(this,wt().then(function(){return hy(Ty(f),o,u,j(f.tb,f))}),!0)};function Rl(o,u,f){var p=_m(u);return u=qI(u),Ai({user:o,credential:p,additionalUserInfo:u,operationType:f})}function N1(o,u){return Ni(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return Ke(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return Ni(u,f),u.reload()}))},e.ed=function(o){var u=this;return Ke(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Ni(u,f),u.reload()}))},e.Cb=function(o){var u=this;return Ke(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Ni(u,f),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Ay(this);var u=this;return Ke(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Ni(u,f),qo(u,"displayName",f.displayName||null),qo(u,"photoURL",f.photoUrl||null),H(u.providerData,function(p){p.providerId==="password"&&(ut(p,"displayName",u.displayName),ut(p,"photoURL",u.photoURL))}),zs(u)}).then(A1))},e.cd=function(o){var u=this;return Ke(this,Ry(this).then(function(f){return M(Cy(u),o)?M2(u.a,f,[o]).then(function(p){var g={};return H(p.providerUserInfo||[],function(_){g[_.providerId]=!0}),H(Cy(u),function(_){g[_]||C1(u,_)}),g[eo.PROVIDER_ID]||ut(u,"phoneNumber",null),zs(u)}):zs(u).then(function(){throw new O("no-such-provider")})}))},e.delete=function(){var o=this;return Ke(this,this.I().then(function(u){return Ut(o.a,V2,{idToken:u})}).then(function(){o.dispatchEvent(new hu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");wy(o,null),by(o,null),Ey(o,null),o.J=[],o.D=!0,Iy(o),ut(o,"refreshToken",null),o.i&&a1(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?j(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?j(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?j(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?j(this.Lb,this):null},e.Ec=function(o){var u=this;return R1(this,"linkViaPopup",o,function(){return _d(u,o.providerId).then(function(){return zs(u)})},!1)},e.Nc=function(o){return R1(this,"reauthViaPopup",o,function(){return wt()},!0)};function R1(o,u,f,p,g){if(!Fs())return we(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return we(o.h);var _=dm(f.providerId),w=Us(o.uid+":::"),I=null;(!ol()||Qg())&&o.s&&f.isOAuthProvider&&(I=El(o.s,o.l,o.m,u,f,null,w,lt.SDK_VERSION||null,null,null,o.tenantId));var L=gI(I,_&&_.ua,_&&_.ta);return p=p().then(function(){if(k1(o),!g)return o.I().then(function(){})}).then(function(){return u1(o.i,L,u,f,w,!!I,o.tenantId)}).then(function(){return new Ft(function(W,St){o.na(u,null,new O("cancelled-popup-request"),o.g||null),o.f=W,o.C=St,o.g=w,o.c=l1(o.i,o,u,L,w)})}).then(function(W){return L&&Ls(L),W?Ai(W):null}).o(function(W){throw L&&Ls(L),W}),Ke(o,p,g)}e.Fc=function(o){var u=this;return O1(this,"linkViaRedirect",o,function(){return _d(u,o.providerId)},!1)},e.Oc=function(o){return O1(this,"reauthViaRedirect",o,function(){return wt()},!0)};function O1(o,u,f,p,g){if(!Fs())return we(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return we(o.h);var _=null,w=Us(o.uid+":::");return p=p().then(function(){if(k1(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=w,zs(o)}).then(function(I){return o.ha&&(I=o.ha,I=I.b.set(Oy,o.w(),I.a)),I}).then(function(){return c1(o.i,u,f,w,o.tenantId)}).o(function(I){if(_=I,o.ha)return P1(o.ha);throw _}).then(function(){if(_)throw _}),Ke(o,p,g)}function k1(o){if(!o.i||!o.R)throw o.i&&!o.R?new O("internal-error"):new O("auth-domain-config-required")}e.Kb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(w){return Vm(g.a,{requestUri:o,postBody:p,sessionId:u,idToken:w})}).then(function(w){return _=Rl(g,w,"link"),N1(g,w)}).then(function(){return _}),Ke(this,f)},e.Lb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,w=wt().then(function(){return ou(Bm(g.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),g.uid)}).then(function(I){return _=Rl(g,I,"reauthenticate"),Ni(g,I),g.h=null,g.reload()}).then(function(){return _});return Ke(this,w,!0)},e.ub=function(o){var u=this,f=null;return Ke(this,this.I().then(function(p){return f=p,typeof o>"u"||xe(o)?{}:qh(new Bh(o))}).then(function(p){return u.a.ub(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var f=this,p=null;return Ke(this,this.I().then(function(g){return p=g,typeof u>"u"||xe(u)?{}:qh(new Bh(u))}).then(function(g){return f.a.Eb(p,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function Ke(o,u,f){var p=dj(o,u,f);return o.J.push(p),p.oa(function(){B(o.J,p)}),p.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=_1(g.w(),Ty(o),j(o.jc,o))),_||g})}e.jc=function(o){var u=null,f=this;return o=ou(wt(o),f.uid).then(function(p){return u=Rl(f,p,"reauthenticate"),Ni(f,p),f.h=null,f.reload()}).then(function(){return u}),Ke(this,o,!0)};function dj(o,u,f){return o.h&&!f?(u.cancel(),we(o.h)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new hu("userInvalidated")),o.h=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Zn(o,this.metadata.w()),H(this.providerData,function(u){o.providerData.push(UF(u))}),Zn(o,this.O.w()),o};function x1(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Jr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var g=new _r(u,f,o);return o.providerData&&H(o.providerData,function(_){_&&Ny(g,Ai(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function pj(o,u,f,p){var g=new _r(o,u);return f&&(g.ha=f),p&&Cl(g,p),g.reload().then(function(){return g})}function vj(o,u,f,p){var g=o.b,_={};return _[Jr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new _r(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&Cl(u,p),yd(u,o),u}function gj(o){this.a=o,this.b=Al()}var Oy={name:"redirectUser",F:"session"};function P1(o){return fu(o.b,Oy,o.a)}function mj(o,u){return o.b.get(Oy,o.a).then(function(f){return f&&u&&(f.authDomain=u),x1(f||{})})}function ky(o){this.a=o,this.b=Al(),this.c=null,this.f=yj(this),this.b.addListener(Ri("local"),this.a,j(this.g,this))}ky.prototype.g=function(){var o=this,u=Ri("local");du(this,function(){return wt().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return xy(o,"local").then(function(){o.c=u})})})};function xy(o,u){var f=[],p;for(p in cu)cu[p]!==u&&f.push(fu(o.b,Ri(cu[p]),o.a));return f.push(fu(o.b,Py,o.a)),aF(f)}function yj(o){var u=Ri("local"),f=Ri("session"),p=Ri("none");return PU(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(w){return w?u:o.b.get(Py,o.a).then(function(I){return I?Ri(I):u})})})}).then(function(g){return o.c=g,xy(o,g.F)}).o(function(){o.c||(o.c=u)})}var Py={name:"persistence",F:"session"};function Ri(o){return{name:"authUser",F:o}}ky.prototype.xb=function(o){var u=null,f=this;return xU(o),du(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,xy(f,o)}).then(function(){if(f.c=Ri(o),u)return f.b.set(f.c,u,f.a)}):wt()})};function _j(o){return du(o,function(){return o.b.set(Py,o.c.F,o.a)})}function D1(o,u){return du(o,function(){return o.b.set(o.c,u.w(),o.a)})}function M1(o){return du(o,function(){return fu(o.b,o.c,o.a)})}function L1(o,u,f){return du(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),x1(p||{})})})}function du(o,u){return o.f=o.f.then(u,u),o.f}function Zr(o){if(this.l=!1,ut(this,"settings",new g1),ut(this,"app",o),ae(this).options&&ae(this).options.apiKey)o=lt.SDK_VERSION?eu(lt.SDK_VERSION):null,this.a=new Xr(ae(this).options&&ae(this).options.apiKey,ye(Gt),o);else throw new O("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=lt.INTERNAL.createSubscribe(j(this.zc,this)),this.X=void 0,this.bc=lt.INTERNAL.createSubscribe(j(this.Ac,this)),pu(this,null),this.i=new ky(ae(this).options.apiKey+":"+ae(this).name),this.D=new gj(ae(this).options.apiKey+":"+ae(this).name),this.$=Oe(this,Sj(this)),this.h=Oe(this,Aj(this)),this.ba=!1,this.ja=j(this.Zc,this),this.Ba=j(this.da,this),this.ya=j(this.mc,this),this.za=j(this.wc,this),this.Aa=j(this.xc,this),this.b=null,Ej(this),this.INTERNAL={},this.INTERNAL.delete=j(this.delete,this),this.INTERNAL.logFramework=j(this.Gc,this),this.u=0,jn.call(this),bj(this),this.J=[],this.P=null}dt(Zr,jn);function F1(o){er.call(this,"languageCodeChanged"),this.h=o}dt(F1,er);function U1(o){er.call(this,"emulatorConfigChanged"),this.c=o}dt(U1,er);function j1(o){er.call(this,"frameworkChanged"),this.f=o}dt(j1,er),e=Zr.prototype,e.xb=function(o){return o=this.i.xb(o),Oe(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,mS(this.a,this.aa),this.dispatchEvent(new F1(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=l.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,wj(u),this.P={url:o,ec:u},this.settings.ib=!0,au(this.a,this.P),this.dispatchEvent(new U1(this.P))}};function wj(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&Uh().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),yS(this.a,lt.SDK_VERSION?eu(lt.SDK_VERSION,this.J):null),this.dispatchEvent(new j1(this.J))},e.Ga=function(){return z(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function bj(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=nr(this.P.url);u=Ai({protocol:u.c,host:u.a,port:u.g,options:Ai({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:ae(this).options.apiKey,authDomain:ae(this).options.authDomain,appName:ae(this).name,currentUser:Rt(this)&&Rt(this).w()}};function Dy(o){return o.Oa||we(new O("auth-domain-config-required"))}function Ej(o){var u=ae(o).options.authDomain,f=ae(o).options.apiKey;u&&Fs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=h1(u,f,ae(o).name,o.P),uy(o.b,o),Rt(o)&&Nl(Rt(o)),o.m){Nl(o.m);var p=o.m;p.wa(o.la()),wy(p,o),p=o.m,Cl(p,o.J),Ey(p,o),p=o.m,au(p.a,o.P),by(p,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?j(this.ic,this):null},e.ic=function(o,u,f,p){var g=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Ks(g,jm(g.a,_))})},e.Xc=function(o){if(!Fs())return we(new O("operation-not-supported-in-this-environment"));var u=this,f=dm(o.providerId),p=Us(),g=null;(!ol()||Qg())&&ae(this).options.authDomain&&o.isOAuthProvider&&(g=El(ae(this).options.authDomain,ae(this).options.apiKey,ae(this).name,"signInViaPopup",o,null,p,lt.SDK_VERSION||null,null,null,this.T(),this.P));var _=gI(g,f&&f.ua,f&&f.ta);return f=Dy(this).then(function(w){return u1(w,_,"signInViaPopup",o,p,!!g,u.T())}).then(function(){return new Ft(function(w,I){u.na("signInViaPopup",null,new O("cancelled-popup-request"),u.g),u.f=w,u.C=I,u.g=p,u.c=l1(u.b,u,"signInViaPopup",_,p)})}).then(function(w){return _&&Ls(_),w?Ai(w):null}).o(function(w){throw _&&Ls(_),w}),Oe(this,f)},e.Yc=function(o){if(!Fs())return we(new O("operation-not-supported-in-this-environment"));var u=this,f=Dy(this).then(function(){return _j(u.i)}).then(function(){return c1(u.b,"signInViaRedirect",o,void 0,u.T())});return Oe(this,f)};function V1(o){if(!Fs())return we(new O("operation-not-supported-in-this-environment"));var u=Dy(o).then(function(){return o.b.qa()}).then(function(f){return f?Ai(f):null});return Oe(o,u)}e.qa=function(){var o=this;return V1(this).then(function(u){return o.b&&vd(o.b.b),u}).o(function(u){throw o.b&&vd(o.b.b),u})},e.dd=function(o){if(!o)return we(new O("null-user"));if(this.S!=o.tenantId)return we(new O("tenant-id-mismatch"));var u=this,f={};f.apiKey=ae(this).options.apiKey,f.authDomain=ae(this).options.authDomain,f.appName=ae(this).name;var p=vj(o,f,u.D,u.Ga());return Oe(this,this.h.then(function(){if(ae(u).options.apiKey!=o.l)return p.reload()}).then(function(){return Rt(u)&&o.uid==Rt(u).uid?(yd(Rt(u),o),u.da(o)):(pu(u,p),Nl(p),u.da(p))}).then(function(){Ol(u)}))};function Tj(o,u){var f={};return f.apiKey=ae(o).options.apiKey,f.authDomain=ae(o).options.authDomain,f.appName=ae(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return pj(f,u,o.D,o.Ga())}).then(function(p){return Rt(o)&&p.uid==Rt(o).uid?(yd(Rt(o),p),o.da(p)):(pu(o,p),Nl(p),o.da(p))}).then(function(){Ol(o)})}function pu(o,u){Rt(o)&&(lj(Rt(o),o.Ba),mr(Rt(o),"tokenChanged",o.ya),mr(Rt(o),"userDeleted",o.za),mr(Rt(o),"userInvalidated",o.Aa),Iy(Rt(o))),u&&(u.S.push(o.Ba),Dr(u,"tokenChanged",o.ya),Dr(u,"userDeleted",o.za),Dr(u,"userInvalidated",o.Aa),0<o.u&&I1(u)),ut(o,"currentUser",u),u&&(u.wa(o.la()),wy(u,o),Cl(u,o.J),Ey(u,o),au(u.a,o.P),by(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&vd(o.b.b),Rt(o)?(pu(o,null),M1(o.i).then(function(){Ol(o)})):wt()});return Oe(this,u)};function Ij(o){var u=mj(o.D,ae(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),P1(o.D)});return Oe(o,u)}function Sj(o){var u=ae(o).options.authDomain,f=Ij(o).then(function(){return L1(o.i,u,o.P)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return D1(o.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:M1(o.i)})):null}).then(function(p){pu(o,p||null)});return Oe(o,f)}function Aj(o){return o.$.then(function(){return V1(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ri("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return L1(this.i,ae(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Rt(o)&&u){f=Rt(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return yd(Rt(o),u),Rt(o).I();(Rt(o)||u)&&(pu(o,u),u&&(Nl(u),u.ha=o.D),o.b&&uy(o.b,o),Ol(o))}})},e.da=function(o){return D1(this.i,o)},e.mc=function(){Ol(this),this.da(Rt(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Ks(o,u){var f=null,p=null;return Oe(o,u.then(function(g){return f=_m(g),p=qI(g),Tj(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=_1(g.w(),o,j(o.kc,o))),_||g}).then(function(){return Ai({user:Rt(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ks(u,wt(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Rt(u))})},e.Ac=function(o){var u=this;Cj(this,function(){o.next(Rt(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Rt(p)):typeof o.next=="function"&&o.next(Rt(p))}),this.hb(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(Rt(p)):typeof o.next=="function"&&o.next(Rt(p))}),this.bc(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return Rt(u)?Rt(u).I(o).then(function(p){return{accessToken:p}}):null});return Oe(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ks(u,Ut(u.a,aU,{token:o}))}).then(function(f){var p=f.user;return qo(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ks(f,Ut(f.a,CS,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ks(f,Ut(f.a,U2,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return Ks(u,o.ka(u.a))})},e.Sc=function(o){return tm("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=Rt(o);if(u&&u.isAnonymous){var f=Ai({providerId:null,isNewUser:!1});return Ai({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ks(o,o.a.zb()).then(function(p){var g=p.user;return qo(g,"isAnonymous",!0),o.da(g),p})})};function ae(o){return o.app}function Rt(o){return o.currentUser}e.getUid=function(){return Rt(this)&&Rt(this).uid||null};function wd(o){return Rt(o)&&Rt(o)._lat||null}function Ol(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](wd(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](wd(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Rt(this)&&I1(Rt(this))},e.Pc=function(o){var u=this;H(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Rt(this)&&Iy(Rt(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),Oe(this,this.h.then(function(){u.l||M(u.s,o)&&o(wd(u))}))},e.removeAuthTokenListener=function(o){q(this.s,function(u){return u==o})};function Cj(o,u){o.O.push(u),Oe(o,o.h.then(function(){!o.l&&M(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(wd(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Ri("local"),o.a,this.ja)),this.b&&(a1(this.b,this),vd(this.b.b)),Promise.resolve()};function Oe(o,u){return o.R.push(u),u.oa(function(){B(o.R,u)}),u}e.hc=function(o){return Oe(this,R2(this.a,o))},e.Bc=function(o){return!!ym(o)},e.wb=function(o,u){var f=this;return Oe(this,wt().then(function(){var p=new Bh(u);if(!p.c)throw new O("argument-error",fm+" must be true when sending sign in link to email");return qh(p)}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return Oe(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return Oe(this,this.a.Ra(o).then(function(u){return new VF(u)}))},e.jb=function(o){return Oe(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var f=this;return Oe(this,wt().then(function(){return typeof u>"u"||xe(u)?{}:qh(new Bh(u))}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},e.Wc=function(o,u){return Oe(this,hy(this,o,u,j(this.$a,this)))},e.Vc=function(o,u){var f=this;return Oe(this,wt().then(function(){var p=u||il(),g=tS(o,p);if(p=ym(p),!p)throw new O("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new O("tenant-id-mismatch");return f.$a(g)}))};function kl(){}kl.prototype.render=function(){},kl.prototype.reset=function(){},kl.prototype.getResponse=function(){},kl.prototype.execute=function(){};function vu(){this.a={},this.b=1e12}var My=null;vu.prototype.render=function(o,u){return this.a[this.b.toString()]=new bd(o,u),this.b++},vu.prototype.reset=function(o){var u=Ly(this,o);o=B1(o),u&&o&&(u.delete(),delete this.a[o])},vu.prototype.getResponse=function(o){return(o=Ly(this,o))?o.getResponse():null},vu.prototype.execute=function(o){(o=Ly(this,o))&&o.execute()};function Ly(o,u){return(u=B1(u))&&o.a[u]||null}function B1(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function bd(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Xc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Dr(this.f,"click",this.i)}bd.prototype.getResponse=function(){return Fy(this),this.b},bd.prototype.execute=function(){Fy(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=DF();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},bd.prototype.delete=function(){Fy(this),this.g=!0,clearTimeout(this.a),this.a=null,mr(this.f,"click",this.i)};function Fy(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function Uy(){}ut(Uy,"FACTOR_ID","phone");function jy(){}jy.prototype.g=function(){return My||(My=new vu),wt(My)},jy.prototype.c=function(){};var Vy=null;function By(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Nj=new Ti(Sh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rj=new jo(3e4,6e4);By.prototype.g=function(o){var u=this;return new Ft(function(f,p){var g=setTimeout(function(){p(new O("network-request-failed"))},Rj.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var w=l.grecaptcha.render;l.grecaptcha.render=function(I,L){return I=w(I,L),u.b++,I},clearTimeout(g),f(l.grecaptcha)}else clearTimeout(g),p(new O("internal-error"));delete l[u.a]};var _=Ig(Nj,{onload:u.a,hl:o||""});wt(xm(_)).o(function(){clearTimeout(g),p(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(l.grecaptcha)})},By.prototype.c=function(){this.b--};var qy=null;function Wy(o,u,f,p,g,_,w){if(ut(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,w?(Vy||(Vy=new jy),w=Vy):(qy||(qy=new By),w=qy),this.m=w,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[H1])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Oj]==="invisible",!l.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Xc(u)||!this.i&&Xc(u).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xr(o,_||null,g||null),this.u=p||function(){return null};var I=this;this.l=[];var L=this.a[q1];this.a[q1]=function(St){if(G1(I,St),typeof L=="function")L(St);else if(typeof L=="string"){var ne=be(L,l);typeof ne=="function"&&ne(St)}};var W=this.a[W1];this.a[W1]=function(){if(G1(I,null),typeof W=="function")W();else if(typeof W=="string"){var St=be(W,l);typeof St=="function"&&St()}}}var q1="callback",W1="expired-callback",H1="sitekey",Oj="size";function G1(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function kj(o,u){q(o.l,function(f){return f==u})}function Hy(o,u){return o.h.push(u),u.oa(function(){B(o.h,u)}),u}e=Wy.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=Hy(this,wt().then(function(){if(jh()&&!Kr())return Uh();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Ut(o.s,J2,{})}).then(function(u){o.a[H1]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Ed(this);var o=this;return Hy(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Xc(u);u=rF("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Ed(this);var o=this;return Hy(this,this.render().then(function(u){return new Ft(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var g=function(_){_&&(kj(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Ed(this),this.c!==null&&this.g.reset(this.c)};function Ed(o){if(o.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Ed(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Xc(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function Gy(o,u,f){var p=!1;try{this.b=f||lt.app()}catch{throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new O("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=lt.SDK_VERSION?eu(lt.SDK_VERSION,_):null,Wy.call(this,f,o,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},_,ye(Gt),p)}dt(Gy,Wy);function Y1(o,u,f,p){t:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,w=0;w<u.length;w++)if(u[w].optional)_=!0;else{if(_)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)p="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=$1.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");f=$1[g],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break t}p=null}}if(p)throw new O("argument-error",o+" failed: "+p)}var $1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function at(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function Yy(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function qe(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:T}}function gu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Oi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function xj(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function Pj(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Zr)}}}function Dj(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof lt.app.App)}}}function Wo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function z1(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function mu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function $y(o,u){return T(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function K1(o){return T(o)&&typeof o.uid=="string"}function Td(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function De(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(g){return o.M(g)||u.M(g)}}}function Ae(o,u){for(var f in u){var p=u[f].name;o[p]=X1(p,o[f],u[f].j)}}function Q1(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:Tt(function(g){return this[g]},f),set:Tt(function(g,_,w,I){Y1(g,[w],[I],!0),this[_]=I},p,f,u[f].kb),enumerable:!0})}}function Me(o,u,f,p){o[u]=X1(u,f,p)}function X1(o,u,f){function p(){var w=Array.prototype.slice.call(arguments);return Y1(g,f,w),u.apply(this,w)}if(!f)return u;var g=Mj(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function Mj(o){return o=o.split("."),o[o.length-1]}Ae(Zr.prototype,{jb:{name:"applyActionCode",j:[at("code")]},Ra:{name:"checkActionCode",j:[at("code")]},nb:{name:"confirmPasswordReset",j:[at("code"),at("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[at("email"),at("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[at("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[at("emailLink")]},Hc:{name:"onAuthStateChanged",j:[De(qe(),gu(),"nextOrObserver"),gu("opt_error",!0),gu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[De(qe(),gu(),"nextOrObserver"),gu("opt_error",!0),gu("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[at("email"),De(qe("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[at("email"),qe("actionCodeSettings")]},xb:{name:"setPersistence",j:[at("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Wo()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Wo()]},Tc:{name:"signInWithCustomToken",j:[at("token")]},Uc:{name:"signInWithEmailAndPassword",j:[at("email"),at("password")]},Vc:{name:"signInWithEmailLink",j:[at("email"),at("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[at("phoneNumber"),Td()]},Xc:{name:"signInWithPopup",j:[mu()]},Yc:{name:"signInWithRedirect",j:[mu()]},dd:{name:"updateCurrentUser",j:[De(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof _r)}}}(),Oi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[at(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[at("url"),qe("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[at("code")]}}),Q1(Zr.prototype,{lc:{name:"languageCode",kb:De(at(),Oi(),"languageCode")},ti:{name:"tenantId",kb:De(at(),Oi(),"tenantId")}}),Zr.Persistence=cu,Zr.Persistence.LOCAL="local",Zr.Persistence.SESSION="session",Zr.Persistence.NONE="none",Ae(_r.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Yy("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Yy("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Wo()]},qb:{name:"linkWithCredential",j:[Wo()]},Dc:{name:"linkWithPhoneNumber",j:[at("phoneNumber"),Td()]},Ec:{name:"linkWithPopup",j:[mu()]},Fc:{name:"linkWithRedirect",j:[mu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wo()]},tb:{name:"reauthenticateWithCredential",j:[Wo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[at("phoneNumber"),Td()]},Nc:{name:"reauthenticateWithPopup",j:[mu()]},Oc:{name:"reauthenticateWithRedirect",j:[mu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[De(qe("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[at(null,!0)]},cd:{name:"unlink",j:[at("provider")]},Bb:{name:"updateEmail",j:[at("email")]},Cb:{name:"updatePassword",j:[at("password")]},ed:{name:"updatePhoneNumber",j:[Wo("phone")]},Db:{name:"updateProfile",j:[qe("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[at("email"),De(qe("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]}}),Ae(vu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ae(kl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ae(Ft.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Q1(g1.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Yy("appVerificationDisabledForTesting")}}),Ae(fy.prototype,{confirm:{name:"confirm",j:[at("verificationCode")]}}),Me(iu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[i2,o2,s2,r2],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[De(at(),qe(),"json")]),Me(Lr,"credential",function(o,u){return new Vo(o,u)},[at("email"),at("password")]),Ae(Vo.prototype,{w:{name:"toJSON",j:[at(null,!0)]}}),Ae(Bs.prototype,{Ca:{name:"addScope",j:[at("scope")]},Ka:{name:"setCustomParameters",j:[qe("customOAuthParameters")]}}),Me(Bs,"credential",QI,[De(at(),qe(),"token")]),Me(Lr,"credentialWithLink",tS,[at("email"),at("emailLink")]),Ae(qs.prototype,{Ca:{name:"addScope",j:[at("scope")]},Ka:{name:"setCustomParameters",j:[qe("customOAuthParameters")]}}),Me(qs,"credential",XI,[De(at(),qe(),"token")]),Ae(Ws.prototype,{Ca:{name:"addScope",j:[at("scope")]},Ka:{name:"setCustomParameters",j:[qe("customOAuthParameters")]}}),Me(Ws,"credential",JI,[De(at(),De(qe(),Oi()),"idToken"),De(at(),Oi(),"accessToken",!0)]),Ae(su.prototype,{Ka:{name:"setCustomParameters",j:[qe("customOAuthParameters")]}}),Me(su,"credential",ZI,[De(at(),qe(),"token"),at("secret",!0)]),Ae(yr.prototype,{Ca:{name:"addScope",j:[at("scope")]},credential:{name:"credential",j:[De(at(),De(qe(),Oi()),"optionsOrIdToken"),De(at(),Oi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qe("customOAuthParameters")]}}),Ae(to.prototype,{w:{name:"toJSON",j:[at(null,!0)]}}),Ae(js.prototype,{w:{name:"toJSON",j:[at(null,!0)]}}),Me(eo,"credential",eS,[at("verificationId"),at("verificationCode")]),Ae(eo.prototype,{fb:{name:"verifyPhoneNumber",j:[De(at(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?$y(f.session,fl)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?$y(f.session,$h)&&K1(f.multiFactorHint):f.session&&f.multiFactorUid?$y(f.session,$h)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Td()]}}),Ae(Bo.prototype,{w:{name:"toJSON",j:[at(null,!0)]}}),Ae(O.prototype,{toJSON:{name:"toJSON",j:[at(null,!0)]}}),Ae(dl.prototype,{toJSON:{name:"toJSON",j:[at(null,!0)]}}),Ae(Em.prototype,{toJSON:{name:"toJSON",j:[at(null,!0)]}}),Ae(py.prototype,{toJSON:{name:"toJSON",j:[at(null,!0)]}}),Ae(dy.prototype,{Rc:{name:"resolveSignIn",j:[z1()]}}),Ae(gy.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[z1(),at("displayName",!0)]},bd:{name:"unenroll",j:[De({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:K1},at(),"multiFactorInfoIdentifier")]}}),Ae(Gy.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Me(lm,"parseLink",xI,[at("link")]),Me(Uy,"assertion",function(o){return new b1(o)},[Wo("phone")]),function(){if(typeof lt<"u"&&lt.INTERNAL&&lt.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Vh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:cm,VERIFY_AND_CHANGE_EMAIL:cl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Zr,AuthCredential:iu,Error:O};Me(o,"EmailAuthProvider",Lr,[]),Me(o,"FacebookAuthProvider",Bs,[]),Me(o,"GithubAuthProvider",qs,[]),Me(o,"GoogleAuthProvider",Ws,[]),Me(o,"TwitterAuthProvider",su,[]),Me(o,"OAuthProvider",yr,[at("providerId")]),Me(o,"SAMLAuthProvider",KI,[at("providerId")]),Me(o,"PhoneAuthProvider",eo,[Pj()]),Me(o,"RecaptchaVerifier",Gy,[De(at(),xj(),"recaptchaContainer"),qe("recaptchaParameters",!0),Dj()]),Me(o,"ActionCodeURL",lm,[]),Me(o,"PhoneMultiFactorGenerator",Uy,[]),lt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Zr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),lt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:j(u.getUid,u),getToken:j(u.nc,u),addAuthTokenListener:j(u.cc,u),removeAuthTokenListener:j(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),lt.registerVersion("@firebase/auth","0.16.3"),lt.INTERNAL.extendNamespace({User:_r})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y$=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Je(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:If(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _$=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return dr(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zk=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new y$(t)}}catch{}return new _$},aa=Zk("localStorage"),Cw=Zk("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $u=new Dc("@firebase/database"),tx=function(){var e=1;return function(){return e++}}(),ex=function(e){var t=VY(e),n=new LY;n.update(t);var r=n.digest();return ab.encodeByteArray(r)},eh=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=eh.apply(null,i):typeof i=="object"?n+=Je(i):n+=i,n+=" "}return n},ma=null,iC=!0,nx=function(e,t){K(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?($u.logLevel=Dt.VERBOSE,ma=$u.log.bind($u),t&&Cw.set("logging_enabled",!0)):typeof e=="function"?ma=e:(ma=null,Cw.remove("logging_enabled"))},bn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(iC===!0&&(iC=!1,ma===null&&Cw.get("logging_enabled")===!0&&nx(!0)),ma){var n=eh.apply(null,e);ma(n)}},nh=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];bn.apply(void 0,xo([e],t))}},Nw=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+eh.apply(void 0,xo(e));$u.error(n)},Fi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+eh.apply(void 0,xo(e));throw $u.error(n),new Error(n)},kn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+eh.apply(void 0,xo(e));$u.warn(n)},w$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&kn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},jv=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},b$=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Io="[MIN_NAME]",Hi="[MAX_NAME]",ja=function(e,t){if(e===t)return 0;if(e===Io||t===Hi)return-1;if(t===Io||e===Hi)return 1;var n=Op(e),r=Op(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},E$=function(e,t){return e===t?0:e<t?-1:1},Ll=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Je(t))},pb=function(e){if(typeof e!="object"||e===null)return Je(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Je(t[i]),r+=":",r+=pb(e[t[i]]);return r+="}",r},rx=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ze(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var ix=function(e){K(!jv(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,c,l;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,a=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},T$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},I$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},S$=function(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},A$=new RegExp("^-?(0*)\\d{1,10}$"),ox=-2147483648,vb=2147483647,Op=function(e){if(A$.test(e)){var t=Number(e);if(t>=ox&&t<=vb)return t}return null},Mu=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw kn("Exception was thrown by user callback.",n),t},Math.floor(0))}},C$=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nf=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!1,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e.prototype.toUrlEncodedString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(this.pieces_[n])));return t||"/"},e.prototype.slice=function(t){return t===void 0&&(t=0),this.pieces_.slice(this.pieceNum_+t)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(r===null)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(t,n){for(var r=t.slice(),i=n.slice(),s=0;s<r.length&&s<i.length;s++){var a=ja(r[s],i[s]);if(a!==0)return a}return r.length===i.length?0:r.length<i.length?-1:1},e.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var n=this.pieceNum_,r=t.pieceNum_;n<=this.pieces_.length;n++,r++)if(this.pieces_[n]!==t.pieces_[r])return!1;return!0},e.prototype.contains=function(t){var n=this.pieceNum_,r=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0},e}(),N$=function(){function e(t,n){this.errorPrefix_=n,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=rp(this.parts_[r]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=rp(t),this.checkValid_()},e.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=rp(t),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gb="5",sx="v",ax="s",ux="r",cx="f",lx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,fx="ls",R$="p",hx="websocket",dx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mb=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=aa.get("host:"+t)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},e.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},e.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&aa.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(t,n){K(typeof t=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");var r;if(t===hx)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(t===dx)r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);this.needsQueryParam()&&(n.ns=this.namespace);var i=[];return Ze(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")},e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function k$(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Fe(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):kn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var Rw=function(e,t){var n=x$(e),r=n.namespace;n.domain==="firebase.com"&&Fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||w$();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new mb(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new rt(n.pathString)}},x$=function(e){var t="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=O$(e.substring(d,v)));var m=k$(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var b=t.indexOf(".");r=t.substring(0,b).toLowerCase(),n=t.substring(b+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P$=/[\[\].#$\/\u0000-\u001F\u007F]/,D$=/[\[\].#$\u0000-\u001F\u007F]/,l_=10*1024*1024,Vv=function(e){return typeof e=="string"&&e.length!==0&&!P$.test(e)},px=function(e){return typeof e=="string"&&e.length!==0&&!D$.test(e)},M$=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),px(e)},Sf=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!jv(e)||e&&typeof e=="object"&&dr(e,".sv")},Li=function(e,t,n,r,i){i&&n===void 0||Af(Hr(e,t,i),n,r)},Af=function(e,t,n){var r=n instanceof rt?new N$(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+r.toErrorString());if(typeof t=="function")throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(jv(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if(typeof t=="string"&&t.length>l_/3&&rp(t)>l_)throw new Error(e+"contains a string greater than "+l_+" utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Ze(t,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Vv(a)))throw new Error(e+" contains an invalid key ("+a+") "+r.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r.push(a),Af(e,c,r),r.pop()}),i&&s)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},L$=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!Vv(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(rt.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},vx=function(e,t,n,r,i){if(!(i&&n===void 0)){var s=Hr(e,t,i);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];Ze(n,function(c,l){var h=new rt(c);if(Af(s,l,r.child(h)),h.getBack()===".priority"&&!Sf(l))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),L$(s,a)}},Ow=function(e,t,n,r){if(!(r&&n===void 0)){if(jv(n))throw new Error(Hr(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sf(n))throw new Error(Hr(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},f_=function(e,t,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Hr(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Fl=function(e,t,n,r){if(!(r&&n===void 0)&&!Vv(n))throw new Error(Hr(e,t,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Cf=function(e,t,n,r){if(!(r&&n===void 0)&&!px(n))throw new Error(Hr(e,t,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},F$=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cf(e,t,n,r)},Ur=function(e,t){if(t.getFront()===".info")throw new Error(e+" failed = Can't modify data under /.info/")},gx=function(e,t,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Vv(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!M$(r))throw new Error(Hr(e,t,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},U$=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Hr(e,t,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j$=function(){function e(t,n){this.repo_=t,this.path_=n}return e.prototype.cancel=function(t){bt("OnDisconnect.cancel",0,1,arguments.length),fn("OnDisconnect.cancel",1,t,!0);var n=new ar;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(t)),n.promise},e.prototype.remove=function(t){bt("OnDisconnect.remove",0,1,arguments.length),Ur("OnDisconnect.remove",this.path_),fn("OnDisconnect.remove",1,t,!0);var n=new ar;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(t)),n.promise},e.prototype.set=function(t,n){bt("OnDisconnect.set",1,2,arguments.length),Ur("OnDisconnect.set",this.path_),Li("OnDisconnect.set",1,t,this.path_,!1),fn("OnDisconnect.set",2,n,!0);var r=new ar;return this.repo_.onDisconnectSet(this.path_,t,r.wrapCallback(n)),r.promise},e.prototype.setWithPriority=function(t,n,r){bt("OnDisconnect.setWithPriority",2,3,arguments.length),Ur("OnDisconnect.setWithPriority",this.path_),Li("OnDisconnect.setWithPriority",1,t,this.path_,!1),Ow("OnDisconnect.setWithPriority",2,n,!1),fn("OnDisconnect.setWithPriority",3,r,!0);var i=new ar;return this.repo_.onDisconnectSetWithPriority(this.path_,t,n,i.wrapCallback(r)),i.promise},e.prototype.update=function(t,n){if(bt("OnDisconnect.update",1,2,arguments.length),Ur("OnDisconnect.update",this.path_),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,kn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vx("OnDisconnect.update",1,t,this.path_,!1),fn("OnDisconnect.update",2,n,!0);var s=new ar;return this.repo_.onDisconnectUpdate(this.path_,t,s.wrapCallback(n)),s.promise},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V$=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return bt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",kw="-",mx="z",yx=786,B$=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=sc.charAt(n%64),n=Math.floor(n/64);K(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=sc.charAt(t[i]);return K(a.length===20,"nextPushId: Length should be 20."),a}}(),oC=function(e){if(e===""+vb)return kw;var t=Op(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<yx)return n.push(kw),n.join("");for(var i=n.length-1;i>=0&&n[i]===mx;)i--;if(i===-1)return Hi;var s=n[i],a=sc.charAt(sc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},sC=function(e){if(e===""+ox)return Io;var t=Op(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===kw?n.length===1?""+vb:(delete n[n.length-1],n.join("")):(n[n.length-1]=sc.charAt(sc.indexOf(n[n.length-1])-1),n.join("")+mx.repeat(yx-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bv=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Vt(Io,t),i=new Vt(Io,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Vt.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xd,_x=function(e){tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return xd},set:function(n){xd=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return ja(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw xc("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Vt.MIN},t.prototype.maxPost=function(){return new Vt(Hi,xd)},t.prototype.makePost=function(n,r){return K(typeof n=="string","KeyIndex indexValue must always be a string."),new Vt(n,xd)},t.prototype.toString=function(){return".key"},t}(Bv),ji=new _x;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xw;function q$(e){xw=e}var wx=function(e){return typeof e=="number"?"number:"+ix(e):"string:"+e},bx=function(e){if(e.isLeafNode()){var t=e.val();K(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dr(t,".sv"),"Priority must be a string or number.")}else K(e===xw||e.isEmpty(),"priority of unexpected type.");K(e===xw||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aC,ac=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bx(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return aC},set:function(t){aC=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:t.getFront()===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||t.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+wx(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=ix(this.value_):t+=this.value_,this.lazyHash_=ex(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(K(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return K(i>=0,"Unknown leaf type: "+n),K(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ex,Tx;function W$(e){Ex=e}function H$(e){Tx=e}var G$=function(e){tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?ja(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Vt.MIN},t.prototype.maxPost=function(){return new Vt(Hi,new ac("[PRIORITY-POST]",Tx))},t.prototype.makePost=function(n,r){var i=Ex(n);return new Vt(r,new ac("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Bv),ce=new G$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),ri=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??po.EMPTY_NODE,this.right=s??po.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return po.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return po.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Y$=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new ri(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),po=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ri.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ri.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new Pd(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new Pd(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new Pd(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new Pd(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new Y$,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $$=Math.log(2),z$=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/$$,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),kp=function(e,t,n,r){e.sort(t);var i=function(l,h){var d=h-l,v,m;if(d===0)return null;if(d===1)return v=e[l],m=n?n(v):v,new ri(m,v.node,ri.BLACK,null,null);var y=parseInt(d/2,10)+l,b=i(l,y),E=i(y+1,h);return v=e[y],m=n?n(v):v,new ri(m,v.node,ri.BLACK,b,E)},s=function(l){for(var h=null,d=null,v=e.length,m=function(C,x){var D=v-C,F=v;v-=C;var X=i(D+1,F),j=e[D],Tt=n?n(j):j;y(new ri(Tt,j.node,x,null,X))},y=function(C){h?(h.left=C,h=C):(d=C,h=C)},b=0;b<l.count;++b){var E=l.nextBitIsOne(),T=Math.pow(2,l.count-(b+1));E?m(T,ri.BLACK):(m(T,ri.BLACK),m(T,ri.RED))}return d},a=new z$(e.length),c=s(a);return new po(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h_,Eu={},xp=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return K(Eu&&ce,"ChildrenNode.ts has not been loaded"),h_=h_||new e({".priority":Eu},{".priority":ce}),h_},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=ai(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof po?n:null},e.prototype.hasIndex=function(t){return dr(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){K(t!==ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Vt.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=kp(r,t.getCompare()):c=Eu;var l=t.toString(),h=he({},this.indexSet_);h[l]=t;var d=he({},this.indexes_);return d[l]=c,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Np(this.indexes_,function(s,a){var c=ai(r.indexSet_,a);if(K(c,"Missing index implementation for "+a),s===Eu)if(c.isDefinedOn(t.node)){for(var l=[],h=n.getIterator(Vt.Wrap),d=h.getNext();d;)d.name!==t.name&&l.push(d),d=h.getNext();return l.push(t),kp(l,c.getCompare())}else return Eu;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new Vt(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Np(this.indexes_,function(i){if(i===Eu)return i;var s=n.get(t.name);return s?i.remove(new Vt(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(e,t){return ja(e.name,t.name)}function yb(e,t){return ja(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ul,Ct=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&bx(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ul||(Ul=new e(new po(yb),null,xp.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ul},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Ul:n},e.prototype.getChild=function(t){var n=t.getFront();return n===null?this:this.getImmediateChild(n).getChild(t.popFront())},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(K(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Vt(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Ul:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=t.getFront();if(r===null)return n;K(t.getFront()!==".priority"||t.getLength()===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(t.popFront(),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(ce,function(l,h){n[l]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!t&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+wx(this.getPriority().val())+":"),this.forEachChild(ce,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":ex(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Vt(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Vt(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Vt(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Vt.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Vt.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===rh?-1:0},e.prototype.withIndex=function(t){if(t===ji||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===ji||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(ce),i=n.getIterator(ce),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===ji?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Q$=function(e){tt(t,e);function t(){return e.call(this,new po(yb),Ct.EMPTY_NODE,xp.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return Ct.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Ct),rh=new Q$;Object.defineProperties(Vt,{MIN:{value:new Vt(Io,Ct.EMPTY_NODE)},MAX:{value:new Vt(Hi,rh)}});_x.__EMPTY_NODE=Ct.EMPTY_NODE;ac.__childrenNodeConstructor=Ct;q$(rh);H$(rh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X$=!0;function Ce(e,t){if(t===void 0&&(t=null),e===null)return Ct.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),K(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new ac(n,Ce(t))}if(!(e instanceof Array)&&X$){var r=[],i=!1,s=e;if(Ze(s,function(h,d){if(h.substring(0,1)!=="."){var v=Ce(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Vt(h,v)))}}),r.length===0)return Ct.EMPTY_NODE;var a=kp(r,K$,function(h){return h.name},yb);if(i){var c=kp(r,ce.getCompare());return new Ct(a,Ce(t),new xp({".priority":c},{".priority":ce}))}else return new Ct(a,Ce(t),xp.Default)}else{var l=Ct.EMPTY_NODE;return Ze(e,function(h,d){if(dr(e,h)&&h.substring(0,1)!=="."){var v=Ce(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(Ce(t))}}W$(Ce);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J$=function(e){tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?ja(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Vt.MIN},t.prototype.maxPost=function(){return Vt.MAX},t.prototype.makePost=function(n,r){var i=Ce(n);return new Vt(r,i)},t.prototype.toString=function(){return".value"},t}(Bv),Pw=new J$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dw=function(e){tt(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,K(!n.isEmpty()&&n.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?ja(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=Ce(n),s=Ct.EMPTY_NODE.updateChild(this.indexPath_,i);return new Vt(r,s)},t.prototype.maxPost=function(){var n=Ct.EMPTY_NODE.updateChild(this.indexPath_,rh);return new Vt(Hi,n)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(Bv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es=function(){function e(t,n,r){this.node_=t,this.ref_=n,this.index_=r}return e.prototype.val=function(){return bt("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return bt("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return bt("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return bt("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){bt("DataSnapshot.child",0,1,arguments.length),t=String(t),Cf("DataSnapshot.child",1,t,!1);var n=new rt(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,ce)},e.prototype.hasChild=function(t){bt("DataSnapshot.hasChild",1,1,arguments.length),Cf("DataSnapshot.hasChild",1,t,!1);var n=new rt(t);return!this.node_.getChild(n).isEmpty()},e.prototype.getPriority=function(){return bt("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(bt("DataSnapshot.forEach",1,1,arguments.length),fn("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,s){return t(new e(s,n.ref_.child(i),ce))})},e.prototype.hasChildren=function(){return bt("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return bt("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return bt("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ix=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.getRef();return this.eventType==="value"?t.path:t.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Je(this.snapshot.exportVal())},e}(),Sx=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uC=function(){function e(t,n,r){this.callback_=t,this.cancelCallback_=n,this.context_=r}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n.getQueryParams().getIndex();return new Ix("value",this,new es(t.snapshotNode,n.getRef(),r))},e.prototype.getEventRunner=function(t){var n=this.context_;if(t.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,t.error)}}else{var i=this.callback_;return function(){i.call(n,t.snapshot)}}},e.prototype.createCancelEvent=function(t,n){return this.cancelCallback_?new Sx(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callback_||!this.callback_?!0:t.callback_===this.callback_&&t.context_===this.context_:!1},e.prototype.hasAnyCallback=function(){return this.callback_!==null},e}(),cC=function(){function e(t,n,r){this.callbacks_=t,this.cancelCallback_=n,this.context_=r}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,dr(this.callbacks_,n)},e.prototype.createCancelEvent=function(t,n){return this.cancelCallback_?new Sx(this,t,n):null},e.prototype.createEvent=function(t,n){K(t.childName!=null,"Child events should have a childName.");var r=n.getRef().child(t.childName),i=n.getQueryParams().getIndex();return new Ix(t.type,this,new es(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this.context_;if(t.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,t.error)}}else{var i=this.callbacks_[t.eventType];return function(){i.call(n,t.snapshot,t.prevName)}}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),s=r.length,a=i.length;if(s===a)if(s===1){var c=r[0],l=i[0];return l===c&&(!t.callbacks_[c]||!this.callbacks_[l]||t.callbacks_[c]===this.callbacks_[l])}else return i.every(function(h){return t.callbacks_[h]===n.callbacks_[h]})}}return!1},e.prototype.hasAnyCallback=function(){return this.callbacks_!==null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d_,_b=function(){function e(t,n,r,i){this.repo=t,this.path=n,this.queryParams_=r,this.orderByCalled_=i}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return K(d_,"Reference.ts has not been loaded"),d_},set:function(t){d_=t},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(t){var n=null,r=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(r=t.getIndexEndValue()),t.getIndex()===ji){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var a=t.getIndexStartName();if(a!==Io)throw new Error(i);if(typeof n!="string")throw new Error(s)}if(t.hasEnd()){var c=t.getIndexEndName();if(c!==Hi)throw new Error(i);if(typeof r!="string")throw new Error(s)}}else if(t.getIndex()===ce){if(n!=null&&!Sf(n)||r!=null&&!Sf(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(t.getIndex()instanceof Dw||t.getIndex()===Pw,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(t){if(this.orderByCalled_===!0)throw new Error(t+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return bt("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){bt("Query.on",2,4,arguments.length),f_("Query.on",1,t,!1),fn("Query.on",2,n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i);if(t==="value")this.onValueEvent(n,s.cancel,s.context);else{var a={};a[t]=n,this.onChildEvent(a,s.cancel,s.context)}return n},e.prototype.onValueEvent=function(t,n,r){var i=new uC(t,n||null,r||null);this.repo.addEventCallbackForQuery(this,i)},e.prototype.onChildEvent=function(t,n,r){var i=new cC(t,n,r);this.repo.addEventCallbackForQuery(this,i)},e.prototype.off=function(t,n,r){bt("Query.off",0,3,arguments.length),f_("Query.off",1,t,!0),fn("Query.off",2,n,!0),nC("Query.off",3,r,!0);var i=null,s=null;if(t==="value"){var a=n||null;i=new uC(a,null,r||null)}else t&&(n&&(s={},s[t]=n),i=new cC(s,null,r||null));this.repo.removeEventCallbackForQuery(this,i)},e.prototype.get=function(){return this.repo.getValue(this)},e.prototype.once=function(t,n,r,i){var s=this;bt("Query.once",1,4,arguments.length),f_("Query.once",1,t,!1),fn("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),c=!0,l=new ar;l.promise.catch(function(){});var h=function(d){c&&(c=!1,s.off(t,h),n&&n.bind(a.context)(d),l.resolve(d))};return this.on(t,h,function(d){s.off(t,h),a.cancel&&a.cancel.bind(a.context)(d),l.reject(d)}),l.promise},e.prototype.limitToFirst=function(t){if(bt("Query.limitToFirst",1,1,arguments.length),typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(bt("Query.limitToLast",1,1,arguments.length),typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(bt("Query.orderByChild",1,1,arguments.length),t==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(t==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(t==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Cf("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new rt(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Dw(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){bt("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(ji);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){bt("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(ce);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){bt("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Pw);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){t===void 0&&(t=null),bt("Query.startAt",0,2,arguments.length),Li("Query.startAt",1,t,this.path,!0),Fl("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return t===void 0&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){t===void 0&&(t=null),bt("Query.startAfter",0,2,arguments.length),Li("Query.startAfter",1,t,this.path,!1),Fl("Query.startAfter",2,n,!0);var r=this.queryParams_.startAfter(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){t===void 0&&(t=null),bt("Query.endAt",0,2,arguments.length),Li("Query.endAt",1,t,this.path,!0),Fl("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){t===void 0&&(t=null),bt("Query.endBefore",0,2,arguments.length),Li("Query.endBefore",1,t,this.path,!1),Fl("Query.endBefore",2,n,!0);var r=this.queryParams_.endBefore(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(t,n){if(bt("Query.equalTo",1,2,arguments.length),Li("Query.equalTo",1,t,this.path,!1),Fl("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,n).endAt(t,n)},e.prototype.toString=function(){return bt("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return bt("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var t=this.queryObject(),n=pb(t);return n==="{}"?"default":n},e.prototype.isEqual=function(t){if(bt("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),s=this.queryIdentifier()===t.queryIdentifier();return r&&i&&s},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:null,context:null};if(n&&r)i.cancel=n,fn(t,3,i.cancel,!0),i.context=r,nC(t,4,i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Hr(t,3,!0)+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z$=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),t6=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),e6=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},lC=function(e,t,n){if(!e||typeof e!="object")return e;if(K(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return n6(e[".sv"],t,n);if(typeof e[".sv"]=="object")return r6(e[".sv"],t);K(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},n6=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+e)}},r6=function(e,t,n){e.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);var i=t.node();if(K(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},fC=function(e,t,n,r){return wb(t,new t6(n,e),r)},p_=function(e,t,n){return wb(e,new Z$(t),n)};function wb(e,t,n){var r=e.getPriority().val(),i=lC(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,c=lC(a.getValue(),t,n);return c!==a.getValue()||i!==a.getPriority().val()?new ac(c,Ce(i)):e}else{var l=e;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new ac(i))),l.forEachChild(ce,function(h,d){var v=wb(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v_=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(t){if(this.value!=null)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var n=t.getFront();if(t=t.popFront(),this.children.has(n)){var r=this.children.get(n);return r.find(t)}else return null}else return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var r=this;return n.forEachChild(ce,function(a,c){r.remember(new rt(a),c)}),this.forget(t)}else if(this.children.size>0){var i=t.getFront();if(t=t.popFront(),this.children.has(i)){var s=this.children.get(i).forget(t);s&&this.children.delete(i)}return this.children.size===0}else return!0},e.prototype.forEachTree=function(t,n){this.value!==null?n(t,this.value):this.forEachChild(function(r,i){var s=new rt(t.toString()+"/"+r);i.forEachTree(s,n)})},e.prototype.forEachChild=function(t){this.children.forEach(function(n,r){t(r,n)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ui||(ui={}));var ao=function(){function e(t,n,r,i){this.fromUser=t,this.fromServer=n,this.queryId=r,this.tagged=i,K(!i||n,"Tagged queries must be from server.")}return e.user=function(){return new e(!0,!1,null,!1)},e.server=function(){return new e(!1,!0,null,!1)},e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i6=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ui.ACK_USER_WRITE,this.source=ao.user()}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new rt(t));return new e(rt.Empty,n,this.revert)}else return K(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g_,o6=function(){return g_||(g_=new po(E$)),g_},Sr=function(){function e(t,n){n===void 0&&(n=o6()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Ze(t,function(r,i){n=n.set(new rt(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:rt.Empty,value:this.value};if(t.isEmpty())return null;var r=t.getFront(),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(t.popFront(),n);if(s!=null){var a=new rt(r).child(s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return r!==null?r.subtree(t.popFront()):new e(null)},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=this.children.get(r)||new e(null),s=i.set(t.popFront(),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?new e(null):new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(t.isEmpty())return this.value;var n=t.getFront(),r=this.children.get(n);return r?r.get(t.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=this.children.get(r)||new e(null),s=i.setTree(t.popFront(),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(rt.Empty,t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(t.child(i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,rt.Empty,n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(t.isEmpty())return null;var s=t.getFront(),a=this.children.get(s);return a?a.findOnPath_(t.popFront(),n.child(s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,rt.Empty,n)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),s=this.children.get(i);return s?s.foreachOnPath_(t.popFront(),n.child(i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(rt.Empty,t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(t.child(r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hC=function(){function e(t,n){this.source=t,this.path=n,this.type=ui.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,rt.Empty):new e(this.source,this.path.popFront())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ui.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,rt.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m_=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ui.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new rt(t));return n.isEmpty()?null:n.value?new op(this.source,rt.Empty,n.value):new e(this.source,rt.Empty,n)}else return K(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=t.getFront();return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ax=function(){function e(t,n){this.eventCache_=t,this.serverCache_=n}return e.prototype.updateEventSnap=function(t,n,r){return new e(new ms(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new ms(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(e){return{type:"value",snapshotNode:e}}function uc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Nf(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Rf(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function s6(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bb=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){K(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=t.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Nf(n,c)):K(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(uc(n,r)):a.trackChildChange(Rf(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ce,function(i,s){n.hasChild(i)||r.trackChildChange(Nf(i,s))}),n.isLeafNode()||n.forEachChild(ce,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Rf(i,s,a))}else r.trackChildChange(uc(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?Ct.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a6=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Rf(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Nf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,uc(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Rf(r,t.snapshotNode,i.oldSnap));else throw xc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u6=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),dC=new u6,y_=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new ms(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),s=this.writes_.calcIndexedSlice(i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c6=function(){function e(t,n){this.viewCache=t,this.changes=n}return e}(),l6=function(){function e(t){this.filter_=t}return e.prototype.assertIndexed=function(t){K(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),K(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var s=new a6,a,c;if(n.type===ui.OVERWRITE){var l=n;l.source.fromUser?a=this.applyUserOverwrite_(t,l.path,l.snap,r,i,s):(K(l.source.fromServer,"Unknown source."),c=l.source.tagged||t.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(t,l.path,l.snap,r,i,c,s))}else if(n.type===ui.MERGE){var h=n;h.source.fromUser?a=this.applyUserMerge_(t,h.path,h.children,r,i,s):(K(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.getServerCache().isFiltered(),a=this.applyServerMerge_(t,h.path,h.children,r,i,c,s))}else if(n.type===ui.ACK_USER_WRITE){var d=n;d.revert?a=this.revertUserWrite_(t,d.path,r,i,s):a=this.ackUserWrite_(t,d.path,d.affectedTree,r,i,s)}else if(n.type===ui.LISTEN_COMPLETE)a=this.listenComplete_(t,n.path,r,s);else throw xc("Unknown operation type: "+n.type);var v=s.getChanges();return e.maybeAddValueEvent_(t,a,v),new c6(a,v)},e.maybeAddValueEvent_=function(t,n,r){var i=n.getEventCache();if(i.isFullyInitialized()){var s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=t.getCompleteEventSnap();(r.length>0||!t.getEventCache().isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&r.push(Cx(n.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(t,n,r,i,s){var a=t.getEventCache();if(r.shadowingWrite(n)!=null)return t;var c=void 0,l=void 0;if(n.isEmpty())if(K(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var h=t.getCompleteServerSnap(),d=h instanceof Ct?h:Ct.EMPTY_NODE,v=r.calcCompleteEventChildren(d);c=this.filter_.updateFullNode(t.getEventCache().getNode(),v,s)}else{var m=r.calcCompleteEventCache(t.getCompleteServerSnap());c=this.filter_.updateFullNode(t.getEventCache().getNode(),m,s)}else{var y=n.getFront();if(y===".priority"){K(n.getLength()===1,"Can't have a priority with additional path components");var b=a.getNode();l=t.getServerCache().getNode();var E=r.calcEventCacheAfterServerOverwrite(n,b,l);E!=null?c=this.filter_.updatePriority(b,E):c=a.getNode()}else{var T=n.popFront(),C=void 0;if(a.isCompleteForChild(y)){l=t.getServerCache().getNode();var x=r.calcEventCacheAfterServerOverwrite(n,a.getNode(),l);x!=null?C=a.getNode().getImmediateChild(y).updateChild(T,x):C=a.getNode().getImmediateChild(y)}else C=r.calcCompleteChild(y,t.getServerCache());C!=null?c=this.filter_.updateChild(a.getNode(),y,C,T,i,s):c=a.getNode()}}return t.updateEventSnap(c,a.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(t,n,r,i,s,a,c){var l=t.getServerCache(),h,d=a?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var m=n.getFront();if(!l.isCompleteForPath(n)&&n.getLength()>1)return t;var y=n.popFront(),b=l.getNode().getImmediateChild(m),E=b.updateChild(y,r);m===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),m,E,y,dC,null)}var T=t.updateServerSnap(h,l.isFullyInitialized()||n.isEmpty(),d.filtersNodes()),C=new y_(i,T,s);return this.generateEventCacheAfterServerEvent_(T,n,i,C,c)},e.prototype.applyUserOverwrite_=function(t,n,r,i,s,a){var c=t.getEventCache(),l,h,d=new y_(i,t,s);if(n.isEmpty())h=this.filter_.updateFullNode(t.getEventCache().getNode(),r,a),l=t.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var v=n.getFront();if(v===".priority")h=this.filter_.updatePriority(t.getEventCache().getNode(),r),l=t.updateEventSnap(h,c.isFullyInitialized(),c.isFiltered());else{var m=n.popFront(),y=c.getNode().getImmediateChild(v),b=void 0;if(m.isEmpty())b=r;else{var E=d.getCompleteChild(v);E!=null?m.getBack()===".priority"&&E.getChild(m.parent()).isEmpty()?b=E:b=E.updateChild(m,r):b=Ct.EMPTY_NODE}if(y.equals(b))l=t;else{var T=this.filter_.updateChild(c.getNode(),v,b,m,d,a);l=t.updateEventSnap(T,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},e.cacheHasChild_=function(t,n){return t.getEventCache().isCompleteForChild(n)},e.prototype.applyUserMerge_=function(t,n,r,i,s,a){var c=this,l=t;return r.foreach(function(h,d){var v=n.child(h);e.cacheHasChild_(t,v.getFront())&&(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),r.foreach(function(h,d){var v=n.child(h);e.cacheHasChild_(t,v.getFront())||(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),l},e.prototype.applyMerge_=function(t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t},e.prototype.applyServerMerge_=function(t,n,r,i,s,a,c){var l=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h=t,d;n.isEmpty()?d=r:d=new Sr(null).setTree(n,r);var v=t.getServerCache().getNode();return d.children.inorderTraversal(function(m,y){if(v.hasChild(m)){var b=t.getServerCache().getNode().getImmediateChild(m),E=l.applyMerge_(b,y);h=l.applyServerOverwrite_(h,new rt(m),E,i,s,a,c)}}),d.children.inorderTraversal(function(m,y){var b=!t.getServerCache().isCompleteForChild(m)&&y.value==null;if(!v.hasChild(m)&&!b){var E=t.getServerCache().getNode().getImmediateChild(m),T=l.applyMerge_(E,y);h=l.applyServerOverwrite_(h,new rt(m),T,i,s,a,c)}}),h},e.prototype.ackUserWrite_=function(t,n,r,i,s,a){if(i.shadowingWrite(n)!=null)return t;var c=t.getServerCache().isFiltered(),l=t.getServerCache();if(r.value!=null){if(n.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(n))return this.applyServerOverwrite_(t,n,l.getNode().getChild(n),i,s,c,a);if(n.isEmpty()){var h=new Sr(null);return l.getNode().forEachChild(ji,function(v,m){h=h.set(new rt(v),m)}),this.applyServerMerge_(t,n,h,i,s,c,a)}else return t}else{var d=new Sr(null);return r.foreach(function(v,m){var y=n.child(v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),this.applyServerMerge_(t,n,d,i,s,c,a)}},e.prototype.listenComplete_=function(t,n,r,i){var s=t.getServerCache(),a=t.updateServerSnap(s.getNode(),s.isFullyInitialized()||n.isEmpty(),s.isFiltered());return this.generateEventCacheAfterServerEvent_(a,n,r,dC,i)},e.prototype.revertUserWrite_=function(t,n,r,i,s){var a;if(r.shadowingWrite(n)!=null)return t;var c=new y_(r,t,i),l=t.getEventCache().getNode(),h=void 0;if(n.isEmpty()||n.getFront()===".priority"){var d=void 0;if(t.getServerCache().isFullyInitialized())d=r.calcCompleteEventCache(t.getCompleteServerSnap());else{var v=t.getServerCache().getNode();K(v instanceof Ct,"serverChildren would be complete if leaf node"),d=r.calcCompleteEventChildren(v)}d=d,h=this.filter_.updateFullNode(l,d,s)}else{var m=n.getFront(),y=r.calcCompleteChild(m,t.getServerCache());y==null&&t.getServerCache().isCompleteForChild(m)&&(y=l.getImmediateChild(m)),y!=null?h=this.filter_.updateChild(l,m,y,n.popFront(),c,s):t.getEventCache().getNode().hasChild(m)?h=this.filter_.updateChild(l,m,Ct.EMPTY_NODE,n.popFront(),c,s):h=l,h.isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=r.calcCompleteEventCache(t.getCompleteServerSnap()),a.isLeafNode()&&(h=this.filter_.updateFullNode(h,a,s)))}return a=t.getServerCache().isFullyInitialized()||r.shadowingWrite(rt.Empty)!=null,t.updateEventSnap(h,a,this.filter_.filtersNodes())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f6=function(){function e(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(t,n,r){var i=this,s=[],a=[];return t.forEach(function(c){c.type==="child_changed"&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(s6(c.childName,c.snapshotNode))}),this.generateEventsForType_(s,"child_removed",t,r,n),this.generateEventsForType_(s,"child_added",t,r,n),this.generateEventsForType_(s,"child_moved",a,r,n),this.generateEventsForType_(s,"child_changed",t,r,n),this.generateEventsForType_(s,"value",t,r,n),s},e.prototype.generateEventsForType_=function(t,n,r,i,s){var a=this,c=r.filter(function(l){return l.type===n});c.sort(this.compareChanges_.bind(this)),c.forEach(function(l){var h=a.materializeSingleChange_(l,s);i.forEach(function(d){d.respondsTo(l.type)&&t.push(d.createEvent(h,a.query_))})})},e.prototype.materializeSingleChange_=function(t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},e.prototype.compareChanges_=function(t,n){if(t.childName==null||n.childName==null)throw xc("Should only compare child_ events.");var r=new Vt(t.childName,t.snapshotNode),i=new Vt(n.childName,n.snapshotNode);return this.index_.compare(r,i)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h6=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),i=new bb(r.getIndex()),s=r.getNodeFilter();this.processor_=new l6(s);var a=n.getServerCache(),c=n.getEventCache(),l=i.updateFullNode(Ct.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(Ct.EMPTY_NODE,c.getNode(),null),d=new ms(l,a.isFullyInitialized(),i.filtersNodes()),v=new ms(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=new Ax(v,d),this.eventGenerator_=new f6(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},e.prototype.getCompleteServerCache=function(t){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!n.getImmediateChild(t.getFront()).isEmpty())?n.getChild(t):null},e.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},e.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},e.prototype.removeEventRegistration=function(t,n){var r=[];if(n){K(t==null,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<this.eventRegistrations_.length;++a){var c=this.eventRegistrations_[a];if(!c.matches(t))s.push(c);else if(t.hasAnyCallback()){s=s.concat(this.eventRegistrations_.slice(a+1));break}}this.eventRegistrations_=s}else this.eventRegistrations_=[];return r},e.prototype.applyOperation=function(t,n,r){t.type===ui.MERGE&&t.source.queryId!==null&&(K(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),K(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,s=this.processor_.applyOperation(i,t,n,r);return this.processor_.assertIndexed(s.viewCache),K(s.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=s.viewCache,this.generateEventsForChanges_(s.changes,s.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(t){var n=this.viewCache_.getEventCache(),r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(ce,function(s,a){r.push(uc(s,a))})}return n.isFullyInitialized()&&r.push(Cx(n.getNode())),this.generateEventsForChanges_(r,n.getNode(),t)},e.prototype.generateEventsForChanges_=function(t,n,r){var i=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,n,i)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dd,Mw=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return K(Dd,"Reference.ts has not been loaded"),Dd},set:function(t){K(!Dd,"__referenceConstructor has already been defined"),Dd=t},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.views.size===0},e.prototype.applyOperation=function(t,n,r){var i,s,a=t.source.queryId;if(a!==null){var c=this.views.get(a);return K(c!=null,"SyncTree gave us an op for an invalid query."),c.applyOperation(t,n,r)}else{var l=[];try{for(var h=Fe(this.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(c.applyOperation(t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}},e.prototype.getView=function(t,n,r,i){var s=t.queryIdentifier(),a=this.views.get(s);if(!a){var c=n.calcCompleteEventCache(i?r:null),l=!1;c?l=!0:r instanceof Ct?(c=n.calcCompleteEventChildren(r),l=!1):(c=Ct.EMPTY_NODE,l=!1);var h=new Ax(new ms(c,l,!1),new ms(r,i,!1));return new h6(t,h)}return a},e.prototype.addEventRegistration=function(t,n,r,i,s){var a=this.getView(t,r,i,s);return this.views.has(t.queryIdentifier())||this.views.set(t.queryIdentifier(),a),a.addEventRegistration(n),a.getInitialEvents(n)},e.prototype.removeEventRegistration=function(t,n,r){var i,s,a=t.queryIdentifier(),c=[],l=[],h=this.hasCompleteView();if(a==="default")try{for(var d=Fe(this.views.entries()),v=d.next();!v.done;v=d.next()){var m=Ef(v.value,2),y=m[0],b=m[1];l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(y),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery()))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var b=this.views.get(a);b&&(l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(a),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery())))}return h&&!this.hasCompleteView()&&c.push(new e.__referenceConstructor(t.repo,t.path)),{removed:c,events:l}},e.prototype.getQueryViews=function(){var t,n,r=[];try{for(var i=Fe(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.getCompleteServerCache=function(t){var n,r,i=null;try{for(var s=Fe(this.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||c.getCompleteServerCache(t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},e.prototype.viewForQuery=function(t){var n=t.getQueryParams();if(n.loadsAllData())return this.getCompleteView();var r=t.queryIdentifier();return this.views.get(r)},e.prototype.viewExistsForQuery=function(t){return this.viewForQuery(t)!=null},e.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},e.prototype.getCompleteView=function(){var t,n;try{for(var r=Fe(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new Sr(null))},e}();function $l(e,t,n){if(t.isEmpty())return new yo(new Sr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=rt.relativePath(i,t);return s=s.updateChild(a,n),new yo(e.writeTree_.set(i,s))}else{var c=new Sr(n),l=e.writeTree_.setTree(t,c);return new yo(l)}}function __(e,t,n){var r=e;return Ze(n,function(i,s){r=$l(r,t.child(i),s)}),r}function pC(e,t){if(t.isEmpty())return yo.empty();var n=e.writeTree_.setTree(t,new Sr(null));return new yo(n)}function w_(e,t){return Zo(e,t)!=null}function Zo(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(rt.relativePath(n.path,t)):null}function vC(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,function(r,i){t.push(new Vt(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Vt(r,i.value))}),t}function $o(e,t){if(t.isEmpty())return e;var n=Zo(e,t);return n!=null?new yo(new Sr(n)):new yo(e.writeTree_.subtree(t))}function b_(e){return e.writeTree_.isEmpty()}function Tu(e,t){return Nx(rt.Empty,e.writeTree_,t)}function Nx(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(K(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Nx(e.child(i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(e.child(".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var d6=function(){function e(){this.visibleWrites_=yo.empty(),this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(t){return new p6(t,this)},e.prototype.addOverwrite=function(t,n,r,i){K(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),this.allWrites_.push({path:t,snap:n,writeId:r,visible:i}),i&&(this.visibleWrites_=$l(this.visibleWrites_,t,n)),this.lastWriteId_=r},e.prototype.addMerge=function(t,n,r){K(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:n,writeId:r,visible:!0}),this.visibleWrites_=__(this.visibleWrites_,t,n),this.lastWriteId_=r},e.prototype.getWrite=function(t){for(var n=0;n<this.allWrites_.length;n++){var r=this.allWrites_[n];if(r.writeId===t)return r}return null},e.prototype.removeWrite=function(t){var n=this,r=this.allWrites_.findIndex(function(d){return d.writeId===t});K(r>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[r];this.allWrites_.splice(r,1);for(var s=i.visible,a=!1,c=this.allWrites_.length-1;s&&c>=0;){var l=this.allWrites_[c];l.visible&&(c>=r&&this.recordContainsPath_(l,i.path)?s=!1:i.path.contains(l.path)&&(a=!0)),c--}if(s){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=pC(this.visibleWrites_,i.path);else{var h=i.children;Ze(h,function(d){n.visibleWrites_=pC(n.visibleWrites_,i.path.child(d))})}return!0}else return!1},e.prototype.getCompleteWriteData=function(t){return Zo(this.visibleWrites_,t)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(!r&&!i){var s=Zo(this.visibleWrites_,t);if(s!=null)return s;var a=$o(this.visibleWrites_,t);if(b_(a))return n;if(n==null&&!w_(a,rt.Empty))return null;var c=n||Ct.EMPTY_NODE;return Tu(a,c)}else{var l=$o(this.visibleWrites_,t);if(!i&&b_(l))return n;if(!i&&n==null&&!w_(l,rt.Empty))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(m.path.contains(t)||t.contains(m.path))},d=e.layerTree_(this.allWrites_,h,t),c=n||Ct.EMPTY_NODE;return Tu(d,c)}},e.prototype.calcCompleteEventChildren=function(t,n){var r=Ct.EMPTY_NODE,i=Zo(this.visibleWrites_,t);if(i)return i.isLeafNode()||i.forEachChild(ce,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=$o(this.visibleWrites_,t);return n.forEachChild(ce,function(c,l){var h=Tu($o(s,new rt(c)),l);r=r.updateImmediateChild(c,h)}),vC(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=$o(this.visibleWrites_,t);return vC(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}},e.prototype.calcEventCacheAfterServerOverwrite=function(t,n,r,i){K(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=t.child(n);if(w_(this.visibleWrites_,s))return null;var a=$o(this.visibleWrites_,s);return b_(a)?i.getChild(n):Tu(a,i.getChild(n))},e.prototype.calcCompleteChild=function(t,n,r){var i=t.child(n),s=Zo(this.visibleWrites_,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=$o(this.visibleWrites_,i);return Tu(a,r.getNode().getImmediateChild(n))}else return null},e.prototype.shadowingWrite=function(t){return Zo(this.visibleWrites_,t)},e.prototype.calcIndexedSlice=function(t,n,r,i,s,a){var c,l=$o(this.visibleWrites_,t),h=Zo(l,rt.Empty);if(h!=null)c=h;else if(n!=null)c=Tu(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),m=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=m.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=m.getNext();return d}else return[]},e.prototype.recordContainsPath_=function(t,n){if(t.snap)return t.path.contains(n);for(var r in t.children)if(t.children.hasOwnProperty(r)&&t.path.child(r).contains(n))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,rt.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(t){return t.visible},e.layerTree_=function(t,n,r){for(var i=yo.empty(),s=0;s<t.length;++s){var a=t[s];if(n(a)){var c=a.path,l=void 0;if(a.snap)r.contains(c)?(l=rt.relativePath(r,c),i=$l(i,l,a.snap)):c.contains(r)&&(l=rt.relativePath(c,r),i=$l(i,rt.Empty,a.snap.getChild(l)));else if(a.children){if(r.contains(c))l=rt.relativePath(r,c),i=__(i,l,a.children);else if(c.contains(r))if(l=rt.relativePath(c,r),l.isEmpty())i=__(i,rt.Empty,a.children);else{var h=ai(a.children,l.getFront());if(h){var d=h.getChild(l.popFront());i=$l(i,rt.Empty,d)}}}else throw xc("WriteRecord should have .snap or .children")}}return i},e}(),p6=function(){function e(t,n){this.treePath_=t,this.writeTree_=n}return e.prototype.calcCompleteEventCache=function(t,n,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,n,r)},e.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},e.prototype.calcEventCacheAfterServerOverwrite=function(t,n,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,n,r)},e.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},e.prototype.calcIndexedSlice=function(t,n,r,i,s){return this.writeTree_.calcIndexedSlice(this.treePath_,t,n,r,i,s)},e.prototype.calcCompleteChild=function(t,n){return this.writeTree_.calcCompleteChild(this.treePath_,t,n)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gC=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new Sr(null),this.pendingWriteTree_=new d6,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(t,n,r,i){return this.pendingWriteTree_.addOverwrite(t,n,r,i),i?this.applyOperationToSyncPoints_(new op(ao.user(),t,n)):[]},e.prototype.applyUserMerge=function(t,n,r){this.pendingWriteTree_.addMerge(t,n,r);var i=Sr.fromObject(n);return this.applyOperationToSyncPoints_(new m_(ao.user(),t,i))},e.prototype.ackUserWrite=function(t,n){n===void 0&&(n=!1);var r=this.pendingWriteTree_.getWrite(t),i=this.pendingWriteTree_.removeWrite(t);if(i){var s=new Sr(null);return r.snap!=null?s=s.set(rt.Empty,!0):Ze(r.children,function(a){s=s.set(new rt(a),!0)}),this.applyOperationToSyncPoints_(new i6(r.path,s,n))}else return[]},e.prototype.applyServerOverwrite=function(t,n){return this.applyOperationToSyncPoints_(new op(ao.server(),t,n))},e.prototype.applyServerMerge=function(t,n){var r=Sr.fromObject(n);return this.applyOperationToSyncPoints_(new m_(ao.server(),t,r))},e.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new hC(ao.server(),t))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(i!=null){var s=e.parseQueryKey_(i),a=s.path,c=s.queryId,l=rt.relativePath(a,t),h=new op(ao.forServerTaggedQuery(c),l,n);return this.applyTaggedOperation_(a,h)}else return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var s=e.parseQueryKey_(i),a=s.path,c=s.queryId,l=rt.relativePath(a,t),h=Sr.fromObject(n),d=new m_(ao.forServerTaggedQuery(c),l,h);return this.applyTaggedOperation_(a,d)}else return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),s=i.path,a=i.queryId,c=rt.relativePath(s,t),l=new hC(ao.forServerTaggedQuery(a),c);return this.applyTaggedOperation_(s,l)}else return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(E,T){var C=rt.relativePath(E,r);i=i||T.getCompleteServerCache(C),s=s||T.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(s=s||a.hasCompleteView(),i=i||a.getCompleteServerCache(rt.Empty)):(a=new Mw,this.syncPointTree_=this.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=Ct.EMPTY_NODE;var l=this.syncPointTree_.subtree(r);l.foreachChild(function(E,T){var C=T.getCompleteServerCache(rt.Empty);C&&(i=i.updateImmediateChild(E,C))})}var h=a.viewExistsForQuery(t);if(!h&&!t.getQueryParams().loadsAllData()){var d=e.makeQueryKey_(t);K(!this.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=e.getNextQueryTag_();this.queryToTagMap.set(d,v),this.tagToQueryMap.set(v,d)}var m=this.pendingWriteTree_.childWrites(r),y=a.addEventRegistration(t,n,m,i,c);if(!h&&!s){var b=a.viewForQuery(t);y=y.concat(this.setupListener_(t,b))}return y},e.prototype.removeEventRegistration=function(t,n,r){var i=this,s=t.path,a=this.syncPointTree_.get(s),c=[];if(a&&(t.queryIdentifier()==="default"||a.viewExistsForQuery(t))){var l=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var h=l.removed;c=l.events;var d=h.findIndex(function(D){return D.getQueryParams().loadsAllData()})!==-1,v=this.syncPointTree_.findOnPath(s,function(D,F){return F.hasCompleteView()});if(d&&!v){var m=this.syncPointTree_.subtree(s);if(!m.isEmpty())for(var y=this.collectDistinctViewsForSubTree_(m),b=0;b<y.length;++b){var E=y[b],T=E.getQuery(),C=this.createListenerForView_(E);this.listenProvider_.startListening(e.queryForListening_(T),this.tagForQuery_(T),C.hashFn,C.onComplete)}}if(!v&&h.length>0&&!r)if(d){var x=null;this.listenProvider_.stopListening(e.queryForListening_(t),x)}else h.forEach(function(D){var F=i.queryToTagMap.get(e.makeQueryKey_(D));i.listenProvider_.stopListening(e.queryForListening_(D),F)});this.removeTags_(h)}return c},e.prototype.calcCompleteEventCache=function(t,n){var r=!0,i=this.pendingWriteTree_,s=this.syncPointTree_.findOnPath(t,function(a,c){var l=rt.relativePath(a,t),h=c.getCompleteServerCache(l);if(h)return h});return i.calcCompleteEventCache(t,s,n,r)},e.prototype.getServerValue=function(t){var n=t.path,r=null;this.syncPointTree_.foreachOnPath(n,function(h,d){var v=rt.relativePath(h,n);r=r||d.getCompleteServerCache(v)});var i=this.syncPointTree_.get(n);i?r=r||i.getCompleteServerCache(rt.Empty):(i=new Mw,this.syncPointTree_=this.syncPointTree_.set(n,i));var s=r!=null,a=s?new ms(r,!0,!1):null,c=this.pendingWriteTree_.childWrites(t.path),l=i.getView(t,c,s?a.getNode():Ct.EMPTY_NODE,s);return l.getCompleteNode()},e.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(n,r,i){if(r&&r.hasCompleteView()){var s=r.getCompleteView();return[s]}else{var a=[];return r&&(a=r.getQueryViews()),Ze(i,function(c,l){a=a.concat(l)}),a}})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),s=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(s)}}},e.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)K(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,m,y){if(!v.isEmpty()&&m&&m.hasCompleteView())return[m.getCompleteView().getQuery()];var b=[];return m&&(b=b.concat(m.getQueryViews().map(function(E){return E.getQuery()}))),Ze(y,function(E,T){b=b.concat(T)}),b}),h=0;h<l.length;++h){var d=l[h];this.listenProvider_.stopListening(e.queryForListening_(d),this.tagForQuery_(d))}return a},e.prototype.createListenerForView_=function(t){var n=this,r=t.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){var s=t.getServerCache()||Ct.EMPTY_NODE;return s.hash()},onComplete:function(s){if(s==="ok")return i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path);var a=S$(s,r);return n.removeEventRegistration(r,null,a)}}},e.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},e.parseQueryKey_=function(t){var n=t.indexOf("$");return K(n!==-1&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new rt(t.substr(0,n))}},e.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(t,n){var r=this.syncPointTree_.get(t);K(r,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return r.applyOperation(n,i,null)},e.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(rt.Empty))},e.prototype.applyOperationHelper_=function(t,n,r,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,n,r,i);var s=n.get(rt.Empty);r==null&&s!=null&&(r=s.getCompleteServerCache(rt.Empty));var a=[],c=t.path.getFront(),l=t.operationForChild(c),h=n.children.get(c);if(h&&l){var d=r?r.getImmediateChild(c):null,v=i.child(c);a=a.concat(this.applyOperationHelper_(l,h,d,v))}return s&&(a=a.concat(s.applyOperation(t,i,r))),a},e.prototype.applyOperationDescendantsHelper_=function(t,n,r,i){var s=this,a=n.get(rt.Empty);r==null&&a!=null&&(r=a.getCompleteServerCache(rt.Empty));var c=[];return n.children.inorderTraversal(function(l,h){var d=r?r.getImmediateChild(l):null,v=i.child(l),m=t.operationForChild(l);m&&(c=c.concat(s.applyOperationDescendantsHelper_(m,h,d,v)))}),a&&(c=c.concat(a.applyOperation(t,i,r))),c},e.nextQueryTag_=1,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v6=function(){function e(){this.rootNode_=Ct.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g6=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),dr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return Wk(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pp=function(){function e(){}return e.getCollection=function(t){var n=t.toString();return this.collections_[n]||(this.collections_[n]=new g6),this.collections_[n]},e.getOrCreateReporter=function(t,n){var r=t.toString();return this.reporters_[r]||(this.reporters_[r]=n()),this.reporters_[r]},e.collections_={},e.reporters_={},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rx=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=he({},t);return this.last_&&Ze(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mC=10*1e3,m6=30*1e3,y6=5*60*1e3,_6=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Rx(t);var r=mC+(m6-mC)*Math.random();nf(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.includeStat=function(t){this.statsToReport_[t]=!0},e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Ze(n,function(s,a){a>0&&dr(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),nf(this.reportStats_.bind(this),Math.floor(Math.random()*2*y6))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w6=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!s.equals(n.getPath())&&(this.eventLists_.push(n),n=null),n===null&&(n=new b6(s)),n.add(i)}n&&this.eventLists_.push(n)},e.prototype.raiseEventsAtPath=function(t,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.equals(t)})},e.prototype.raiseEventsForChangedPath=function(t,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.contains(t)||t.contains(r)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var n=!0,r=0;r<this.eventLists_.length;r++){var i=this.eventLists_[r];if(i){var s=i.getPath();t(s)?(this.eventLists_[r].raise(),this.eventLists_[r]=null):n=!1}}n&&(this.eventLists_=[]),this.recursionDepth_--},e}(),b6=function(){function e(t){this.path_=t,this.events_=[]}return e.prototype.add=function(t){this.events_.push(t)},e.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var n=this.events_[t];if(n!==null){this.events_[t]=null;var r=n.getEventRunner();ma&&bn("event: "+n.toString()),Mu(r)}}},e.prototype.getPath=function(){return this.path_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ox=function(){function e(t){this.allowedEvents_=t,this.listeners_={},K(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=xo(this.listeners_[t]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){K(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E6=function(e){tt(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return K(n==="visible","Unknown event type: "+n),[this.visible_]},t}(Ox);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yC=function(e){tt(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ub()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return K(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Ox);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T6=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&Mu(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _C="start",I6="close",S6="pLPCommand",A6="pRTLPCB",kx="id",xx="pw",Px="ser",C6="cb",N6="seg",R6="ts",O6="d",k6="dframe",Dx=1870,Mx=30,x6=Dx-Mx,P6=25e3,D6=3e4,Eb=function(){function e(t,n,r,i,s){this.connId=t,this.repoInfo=n,this.applicationId=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nh(t),this.stats_=Pp.getCollection(n),this.urlFn=function(a){return n.connectionURL(dx,a)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new T6(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(D6)),b$(function(){if(!r.isClosed_){r.scriptTagHolder=new M6(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Ef(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===_C)r.id=d,r.password=v;else if(h===I6)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Ef(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[_C]="t",i[Px]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[C6]=r.scriptTagHolder.uniqueCallbackIdentifier),i[sx]=gb,r.transportSessionId&&(i[ax]=r.transportSessionId),r.lastSessionId&&(i[fx]=r.lastSessionId),r.applicationId&&(i[R$]=r.applicationId),typeof location<"u"&&location.hostname&&lx.test(location.hostname)&&(i[ux]=cx);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!T$()&&!I$()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Je(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=TY(n),i=rx(r,x6),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[k6]="t",r[kx]=t,r[xx]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Je(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),M6=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tx(),window[S6+this.uniqueCallbackIdentifier]=t,window[A6+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){bn("frame writing exception"),l.stack&&bn(l.stack),bn(l)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||bn("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[kx]=this.myID,t[xx]=this.myPW,t[Px]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+Mx+r.length<=Dx){var a=this.pendingSegs.shift();r=r+"&"+N6+i+"="+a.seg+"&"+R6+i+"="+a.ts+"&"+O6+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(P6)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){bn("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lx="";function Fx(e){Lx=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L6=16384,F6=45e3,Dp=null;typeof MozWebSocket<"u"?Dp=MozWebSocket:typeof WebSocket<"u"&&(Dp=WebSocket);var ra=function(){function e(t,n,r,i,s){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nh(this.connId),this.stats_=Pp.getCollection(n),this.connURL=e.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r){var i={};return i[sx]=gb,typeof location<"u"&&location.hostname&&lx.test(location.hostname)&&(i[ux]=cx),n&&(i[ax]=n),r&&(i[fx]=r),t.connectionURL(hx,i)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,aa.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!Gk()){var s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Dp(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Dp!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return aa.isInMemoryStorage||aa.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){aa.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=If(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(K(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Je(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=rx(n,L6);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(F6))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U6=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[Eb,ra]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ra&&ra.isAvailable(),s=i&&!ra.previouslyFailed();if(t.webSocketOnly&&(i||kn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ra];else{var a=this.transports_=[];try{for(var c=Fe(e.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j6=6e4,V6=5e3,B6=10*1024,q6=100*1024,E_="t",wC="d",W6="s",bC="r",H6="e",EC="o",TC="a",IC="n",SC="p",G6="h",Ux=function(){function e(t,n,r,i,s,a,c,l){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nh("c:"+this.id+":"),this.transportManager_=new U6(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=nf(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>q6?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>B6?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(E_ in t){var n=t[E_];n===TC?this.upgradeIfSecondaryHealthy_():n===bC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===EC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=Ll("t",t),r=Ll("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:SC,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:IC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=Ll("t",t),r=Ll("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=Ll(E_,t);if(wC in t){var r=t[wC];if(n===G6)this.onHandshake_(r);else if(n===IC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===W6?this.onConnectionShutdown_(r):n===bC?this.onReset_(r):n===H6?Nw("Server Error: "+r):n===EC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nw("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),gb!==r&&kn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),nf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(j6))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(V6))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:SC,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(aa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jx=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jl=1e3,Y6=60*5*1e3,$6=3*1e3,AC=30*1e3,z6=1.3,K6=3e4,Q6="server_kill",X6=3,ya=function(e){tt(t,e);function t(n,r,i,s,a,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=nh("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=jl,h.maxReconnectDelay_=Y6,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Gk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),E6.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&yC.getInstance().on("online",h.onOnline_,h),h}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Je(a)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this,i=new ar,s={p:n.path.toString(),q:n.queryObject()},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},$6),this.connected_&&this.sendGet_(c),i.promise},t.prototype.listen=function(n,r,i,s){var a=n.queryIdentifier(),c=n.path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i.path.toString(),a=i.queryIdentifier();this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i.queryObject(),c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&dr(n,"w")){var i=ai(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',a=r.path.toString();kn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||DY(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=AC)},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=PY(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},t.prototype.unlisten=function(n,r){var i=n.path.toString(),s=n.queryIdentifier();this.log_("Unlisten called for "+i+" "+s),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n.queryObject(),r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},t.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Je(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Nw("Unrecognized action received from server: "+Je(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>K6&&(this.reconnectDelay_=jl),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*z6)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,c=this,l=this.lastSessionId,h=!1,d=null,v=function(){d?d.close():(h=!0,s())},m=function(b){K(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:v,sendRequest:m};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(b){h?bn("getToken() completed but was canceled"):(bn("getToken() completed. Creating connection."),c.authToken_=b&&b.accessToken,d=new Ux(a,c.repoInfo_,c.applicationId_,r,i,s,function(E){kn(E+" ("+c.repoInfo_.toString()+")"),c.interrupt(Q6)},l))}).then(null,function(b){c.log_("Failed to get token: "+b),h||(n.repoInfo_.nodeAdmin&&kn(b),v())})}},t.prototype.interrupt=function(n){bn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){bn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Sw(this.interruptReasons_)&&(this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return pb(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new rt(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){bn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=X6&&(this.reconnectDelay_=AC,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth();try{for(var a=Fe(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,Fe(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+Lx.replace(/\./g,"-")]=1,ub()?n["framework.cordova"]=1:Hk()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=yC.getInstance().currentlyOnline();return Sw(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(jx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J6=function(e){tt(t,e);function t(n,r,i){var s=e.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.log_=nh("p:rest:"),s.listens_={},s}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(K(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,c=n.path.toString();this.log_("Listen called for "+c+" "+n.queryIdentifier());var l=t.getListenId_(n,i),h={};this.listens_[l]=h;var d=n.getQueryParams().toRestQueryStringParameters();this.restRequest_(c+".json",d,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),ai(a.listens_,l)===h){var b;v?v===401?b="permission_denied":b="rest_error:"+v:b="ok",s(b,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=n.getQueryParams().toRestQueryStringParameters(),s=n.path.toString(),a=new ar;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var c=a&&a.accessToken;c&&(r.auth=c);var l=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+MY(r);s.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){s.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var d=null;if(h.status>=200&&h.status<300){try{d=If(h.responseText)}catch{kn("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&kn("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})},t}(jx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CC=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}(),Z6=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r=new CC),this.name_=t,this.parent_=n,this.node_=r}return e.prototype.subTree=function(t){for(var n=t instanceof rt?t:new rt(t),r=this,i=n.getFront();i!==null;){var s=ai(r.node_.children,i)||new CC;r=new e(i,r,s),n=n.popFront(),i=n.getFront()}return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(t){K(typeof t<"u","Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;Ze(this.node_.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(t,n,r){n&&!r&&t(this),this.forEachChild(function(i){i.forEachDescendant(t,!0,r)}),n&&r&&t(this)},e.prototype.forEachAncestor=function(t,n){for(var r=n?this:this.parent();r!==null;){if(t(r))return!0;r=r.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(n){n.getValue()!==null?t(n):n.forEachImmediateDescendantWithValue(t)})},e.prototype.path=function(){return new rt(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(t,n){var r=n.isEmpty(),i=dr(this.node_.children,t);r&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):!r&&!i&&(this.node_.children[t]=n.node_,this.node_.childCount++,this.updateParents_())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NC="repo_interrupt",tz=25,We;(function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"})(We||(We={}));var Tb=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.app=r,this.authTokenProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new w6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new v_,this.transactionQueueTree_=new Z6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.start=function(){var t=this;if(this.stats_=Pp.getCollection(this.repoInfo_),this.forceRestClient_||C$())this.server_=new J6(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var n=this.app.options.databaseAuthVariableOverride;if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}this.persistentConnection_=new ya(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,n),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),this.statsReporter_=Pp.getOrCreateReporter(this.repoInfo_,function(){return new _6(t.stats_,t.server_)}),this.infoData_=new v6,this.infoSyncTree_=new gC({startListening:function(r,i,s,a){var c=[],l=t.infoData_.getNode(r.path);return l.isEmpty()||(c=t.infoSyncTree_.applyServerOverwrite(r.path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new gC({startListening:function(r,i,s,a){return t.server_.listen(r,s,i,function(c,l){var h=a(c,l);t.eventQueue_.raiseEventsForChangedPath(r.path,h)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})},e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var t=this.infoData_.getNode(new rt(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n},e.prototype.generateServerValues=function(){return e6({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(t,n,r,i){this.dataUpdateCount++;var s=new rt(t);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var c=Np(n,function(m){return Ce(m)});a=this.serverSyncTree_.applyTaggedQueryMerge(s,c,i)}else{var l=Ce(n);a=this.serverSyncTree_.applyTaggedQueryOverwrite(s,l,i)}else if(r){var h=Np(n,function(m){return Ce(m)});a=this.serverSyncTree_.applyServerMerge(s,h)}else{var d=Ce(n);a=this.serverSyncTree_.applyServerOverwrite(s,d)}var v=s;a.length>0&&(v=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(v,a)},e.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},e.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),t===!1&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(t){var n=this;Ze(t,function(r,i){n.updateInfo_(r,i)})},e.prototype.updateInfo_=function(t,n){var r=new rt("/.info/"+t),i=Ce(n);this.infoData_.updateSnapshot(r,i);var s=this.infoSyncTree_.applyServerOverwrite(r,i);this.eventQueue_.raiseEventsForChangedPath(r,s)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.getValue=function(t){var n=this,r=this.serverSyncTree_.getServerValue(t);return r!=null?Promise.resolve(new es(r,t.getRef(),t.getQueryParams().getIndex())):this.server_.get(t).then(function(i){var s=Ce(i),a=n.serverSyncTree_.applyServerOverwrite(t.path,s);return n.eventQueue_.raiseEventsAtPath(t.path,a),Promise.resolve(new es(s,t.getRef(),t.getQueryParams().getIndex()))},function(i){return n.log_("get for query "+Je(t)+" failed: "+i),Promise.reject(new Error(i))})},e.prototype.setWithPriority=function(t,n,r,i){var s=this;this.log_("set",{path:t.toString(),value:n,priority:r});var a=this.generateServerValues(),c=Ce(n,r),l=this.serverSyncTree_.calcCompleteEventCache(t),h=p_(c,l,a),d=this.getNextWriteId_(),v=this.serverSyncTree_.applyUserOverwrite(t,h,d,!0);this.eventQueue_.queueEvents(v),this.server_.put(t.toString(),c.val(!0),function(y,b){var E=y==="ok";E||kn("set at "+t+" failed: "+y);var T=s.serverSyncTree_.ackUserWrite(d,!E);s.eventQueue_.raiseEventsForChangedPath(t,T),s.callOnCompleteCallback(i,y,b)});var m=this.abortTransactions_(t);this.rerunTransactions_(m),this.eventQueue_.raiseEventsForChangedPath(m,[])},e.prototype.update=function(t,n,r){var i=this;this.log_("update",{path:t.toString(),value:n});var s=!0,a=this.generateServerValues(),c={};if(Ze(n,function(d,v){s=!1,c[d]=fC(t.child(d),Ce(v),i.serverSyncTree_,a)}),s)bn("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,c,l);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),n,function(d,v){var m=d==="ok";m||kn("update at "+t+" failed: "+d);var y=i.serverSyncTree_.ackUserWrite(l,!m),b=y.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(b,y),i.callOnCompleteCallback(r,d,v)}),Ze(n,function(d){var v=i.abortTransactions_(t.child(d));i.rerunTransactions_(v)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},e.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),r=new v_;this.onDisconnect_.forEachTree(rt.Empty,function(s,a){var c=fC(s,a,t.serverSyncTree_,n);r.remember(s,c)});var i=[];r.forEachTree(rt.Empty,function(s,a){i=i.concat(t.serverSyncTree_.applyServerOverwrite(s,a));var c=t.abortTransactions_(s);t.rerunTransactions_(c)}),this.onDisconnect_=new v_,this.eventQueue_.raiseEventsForChangedPath(rt.Empty,i)},e.prototype.onDisconnectCancel=function(t,n){var r=this;this.server_.onDisconnectCancel(t.toString(),function(i,s){i==="ok"&&r.onDisconnect_.forget(t),r.callOnCompleteCallback(n,i,s)})},e.prototype.onDisconnectSet=function(t,n,r){var i=this,s=Ce(n);this.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,c){a==="ok"&&i.onDisconnect_.remember(t,s),i.callOnCompleteCallback(r,a,c)})},e.prototype.onDisconnectSetWithPriority=function(t,n,r,i){var s=this,a=Ce(n,r);this.server_.onDisconnectPut(t.toString(),a.val(!0),function(c,l){c==="ok"&&s.onDisconnect_.remember(t,a),s.callOnCompleteCallback(i,c,l)})},e.prototype.onDisconnectUpdate=function(t,n,r){var i=this;if(Sw(n)){bn("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(t.toString(),n,function(s,a){s==="ok"&&Ze(n,function(c,l){var h=Ce(l);i.onDisconnect_.remember(t.child(c),h)}),i.callOnCompleteCallback(r,s,a)})},e.prototype.addEventCallbackForQuery=function(t,n){var r;t.path.getFront()===".info"?r=this.infoSyncTree_.addEventRegistration(t,n):r=this.serverSyncTree_.addEventRegistration(t,n),this.eventQueue_.raiseEventsAtPath(t.path,r)},e.prototype.removeEventCallbackForQuery=function(t,n){var r;t.path.getFront()===".info"?r=this.infoSyncTree_.removeEventRegistration(t,n):r=this.serverSyncTree_.removeEventRegistration(t,n),this.eventQueue_.raiseEventsAtPath(t.path,r)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(NC)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(NC)},e.prototype.stats=function(t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(this.statsListener_||(this.statsListener_=new Rx(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Ze(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}},e.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},e.prototype.log_=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),bn.apply(void 0,xo([r],t))},e.prototype.callOnCompleteCallback=function(t,n,r){t&&Mu(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new Ib(this))},enumerable:!1,configurable:!0}),e.prototype.startTransaction=function(t,n,r,i){this.log_("transaction on "+t);var s=function(){},a=new vo(this,t);a.on("value",s);var c=function(){a.off("value",s)},l={path:t,update:n,onComplete:r,status:null,order:tx(),applyLocally:i,retryCount:0,unwatcher:c,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(t);l.currentInputSnapshot=h;var d=l.update(h.val());if(d===void 0){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var v=new es(l.currentInputSnapshot,new vo(this,l.path),ce);l.onComplete(null,!1,v)}}else{Af("transaction failed: Data returned ",d,l.path),l.status=We.RUN;var m=this.transactionQueueTree_.subTree(t),y=m.getValue()||[];y.push(l),m.setValue(y);var b=void 0;if(typeof d=="object"&&d!==null&&dr(d,".priority"))b=ai(d,".priority"),K(Sf(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var E=this.serverSyncTree_.calcCompleteEventCache(t)||Ct.EMPTY_NODE;b=E.getPriority().val()}var T=this.generateServerValues(),C=Ce(d,b),x=p_(C,h,T);l.currentOutputSnapshotRaw=C,l.currentOutputSnapshotResolved=x,l.currentWriteId=this.getNextWriteId_();var D=this.serverSyncTree_.applyUserOverwrite(t,x,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,D),this.sendReadyTransactions_()}},e.prototype.getLatestState_=function(t,n){return this.serverSyncTree_.calcCompleteEventCache(t,n)||Ct.EMPTY_NODE},e.prototype.sendReadyTransactions_=function(t){var n=this;if(t===void 0&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),t.getValue()!==null){var r=this.buildTransactionQueue_(t);K(r.length>0,"Sending zero length transaction queue");var i=r.every(function(s){return s.status===We.RUN});i&&this.sendTransactionQueue_(t.path(),r)}else t.hasChildren()&&t.forEachChild(function(s){n.sendReadyTransactions_(s)})},e.prototype.sendTransactionQueue_=function(t,n){for(var r=this,i=n.map(function(y){return y.currentWriteId}),s=this.getLatestState_(t,i),a=s,c=s.hash(),l=0;l<n.length;l++){var h=n[l];K(h.status===We.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=We.SENT,h.retryCount++;var d=rt.relativePath(t,h.path);a=a.updateChild(d,h.currentOutputSnapshotRaw)}var v=a.val(!0),m=t;this.server_.put(m.toString(),v,function(y){r.log_("transaction put response",{path:m.toString(),status:y});var b=[];if(y==="ok"){for(var E=[],T=0;T<n.length;T++){if(n[T].status=We.COMPLETED,b=b.concat(r.serverSyncTree_.ackUserWrite(n[T].currentWriteId)),n[T].onComplete){var C=n[T].currentOutputSnapshotResolved,x=new vo(r,n[T].path),D=new es(C,x,ce);E.push(n[T].onComplete.bind(null,null,!0,D))}n[T].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(t)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(t,b);for(var T=0;T<E.length;T++)Mu(E[T])}else{if(y==="datastale")for(var T=0;T<n.length;T++)n[T].status===We.SENT_NEEDS_ABORT?n[T].status=We.NEEDS_ABORT:n[T].status=We.RUN;else{kn("transaction at "+m.toString()+" failed: "+y);for(var T=0;T<n.length;T++)n[T].status=We.NEEDS_ABORT,n[T].abortReason=y}r.rerunTransactions_(t)}},c)},e.prototype.rerunTransactions_=function(t){var n=this.getAncestorTransactionNode_(t),r=n.path(),i=this.buildTransactionQueue_(n);return this.rerunTransactionQueue_(i,r),r},e.prototype.rerunTransactionQueue_=function(t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(j){return j.status===We.RUN}),a=s.map(function(j){return j.currentWriteId}),c=0;c<t.length;c++){var l=t[c],h=rt.relativePath(n,l.path),d=!1,v=void 0;if(K(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===We.NEEDS_ABORT)d=!0,v=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===We.RUN)if(l.retryCount>=tz)d=!0,v="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var m=this.getLatestState_(l.path,a);l.currentInputSnapshot=m;var y=t[c].update(m.val());if(y!==void 0){Af("transaction failed: Data returned ",y,l.path);var b=Ce(y),E=typeof y=="object"&&y!=null&&dr(y,".priority");E||(b=b.updatePriority(m.getPriority()));var T=l.currentWriteId,C=this.generateServerValues(),x=p_(b,m,C);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=x,l.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(T),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(T,!0))}else d=!0,v="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(n,i),i=[],d&&(t[c].status=We.COMPLETED,function(j){setTimeout(j,Math.floor(0))}(t[c].unwatcher),t[c].onComplete))if(v==="nodata"){var D=new vo(this,t[c].path),F=t[c].currentInputSnapshot,X=new es(F,D,ce);r.push(t[c].onComplete.bind(null,null,!1,X))}else r.push(t[c].onComplete.bind(null,new Error(v),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var c=0;c<r.length;c++)Mu(r[c]);this.sendReadyTransactions_()}},e.prototype.getAncestorTransactionNode_=function(t){var n,r=this.transactionQueueTree_;for(n=t.getFront();n!==null&&r.getValue()===null;)r=r.subTree(n),t=t.popFront(),n=t.getFront();return r},e.prototype.buildTransactionQueue_=function(t){var n=[];return this.aggregateTransactionQueuesForNode_(t,n),n.sort(function(r,i){return r.order-i.order}),n},e.prototype.aggregateTransactionQueuesForNode_=function(t,n){var r=this,i=t.getValue();if(i!==null)for(var s=0;s<i.length;s++)n.push(i[s]);t.forEachChild(function(a){r.aggregateTransactionQueuesForNode_(a,n)})},e.prototype.pruneCompletedTransactionsBelowNode_=function(t){var n=this,r=t.getValue();if(r){for(var i=0,s=0;s<r.length;s++)r[s].status!==We.COMPLETED&&(r[i]=r[s],i++);r.length=i,t.setValue(r.length>0?r:null)}t.forEachChild(function(a){n.pruneCompletedTransactionsBelowNode_(a)})},e.prototype.abortTransactions_=function(t){var n=this,r=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor(function(s){n.abortTransactionsOnNode_(s)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(s){n.abortTransactionsOnNode_(s)}),r},e.prototype.abortTransactionsOnNode_=function(t){var n=t.getValue();if(n!==null){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)if(n[a].status!==We.SENT_NEEDS_ABORT){if(n[a].status===We.SENT)K(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=We.SENT_NEEDS_ABORT,n[a].abortReason="set";else if(K(n[a].status===We.RUN,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(n[a].currentWriteId,!0)),n[a].onComplete){var c=null;r.push(n[a].onComplete.bind(null,new Error("set"),!1,c))}}s===-1?t.setValue(null):n.length=s+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i);for(var a=0;a<r.length;a++)Mu(r[a])}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vx=function(){function e(t){this.indexedFilter_=new bb(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Vt(n,r))||(r=Ct.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=Ct.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Ct.EMPTY_NODE);var s=this;return n.forEachChild(ce,function(a,c){s.matches(new Vt(a,c))||(i=i.updateImmediateChild(a,Ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ez=function(){function e(t){this.rangedFilter_=new Vx(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Vt(n,r))||(r=Ct.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Ct.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ct.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ct.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(T,C){return m(C,T)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,Ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(x,D){return c(D,x)}}else a=this.index_.getCompare();var l=t;K(l.numChildren()===this.limit_,"");var h=new Vt(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var m=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var b=y==null?1:a(y,h),E=v&&!r.isEmpty()&&b>=0;if(E)return s!=null&&s.trackChildChange(Rf(n,r,m)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Nf(n,m));var T=l.updateImmediateChild(n,Ct.EMPTY_NODE),C=y!=null&&this.rangedFilter_.matches(y);return C?(s!=null&&s.trackChildChange(uc(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Nf(d.name,d.node)),s.trackChildChange(uc(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,Ct.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nz=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Io},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="",n},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(t,n){var r=this.copy_();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r},e.prototype.startAfter=function(t,n){var r;if(this.index_===ji)typeof t=="string"&&(t=oC(t)),r=this.startAt(t,n);else{var i=void 0;n==null?i=Hi:i=oC(n),r=this.startAt(t,i)}return r.startAfterSet_=!0,r},e.prototype.endAt=function(t,n){var r=this.copy_();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r},e.prototype.endBefore=function(t,n){var r,i;return this.index_===ji?(typeof t=="string"&&(t=sC(t)),i=this.endAt(t,n)):(n==null?r=Io:r=sC(n),i=this.endAt(t,r)),i.endBeforeSet_=!0,i},e.prototype.orderBy=function(t){var n=this.copy_();return n.index_=t,n},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;r===""&&(this.isViewFromLeft()?r=t.VIEW_FROM_LEFT:r=t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==ce&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ce},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new bb(this.getIndex()):this.hasLimit()?new ez(this):new Vx(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===ce?r=t.PRIORITY_INDEX:this.index_===Pw?r=t.VALUE_INDEX:this.index_===ji?r=t.KEY_INDEX:(K(this.index_ instanceof Dw,"Unrecognized index type!"),r=this.index_.toString()),n[t.ORDER_BY]=Je(r),this.startSet_&&(n[t.START_AT]=Je(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+Je(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=Je(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+Je(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_),n},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=function(e){tt(t,e);function t(n,r){var i=this;if(!(n instanceof Tb))throw new Error("new Reference() no longer supported - use app.database().");return i=e.call(this,n,r,new nz,!1)||this,i}return t.prototype.getKey=function(){return bt("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(n){return bt("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof rt||(this.path.getFront()===null?F$("Reference.child",1,n,!1):Cf("Reference.child",1,n,!1)),new t(this.repo,this.path.child(n))},t.prototype.getParent=function(){bt("Reference.parent",0,0,arguments.length);var n=this.path.parent();return n===null?null:new t(this.repo,n)},t.prototype.getRoot=function(){bt("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(n,r){bt("Reference.set",1,2,arguments.length),Ur("Reference.set",this.path),Li("Reference.set",1,n,this.path,!1),fn("Reference.set",2,r,!0);var i=new ar;return this.repo.setWithPriority(this.path,n,null,i.wrapCallback(r)),i.promise},t.prototype.update=function(n,r){if(bt("Reference.update",1,2,arguments.length),Ur("Reference.update",this.path),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,kn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}vx("Reference.update",1,n,this.path,!1),fn("Reference.update",2,r,!0);var a=new ar;return this.repo.update(this.path,n,a.wrapCallback(r)),a.promise},t.prototype.setWithPriority=function(n,r,i){if(bt("Reference.setWithPriority",2,3,arguments.length),Ur("Reference.setWithPriority",this.path),Li("Reference.setWithPriority",1,n,this.path,!1),Ow("Reference.setWithPriority",2,r,!1),fn("Reference.setWithPriority",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var s=new ar;return this.repo.setWithPriority(this.path,n,r,s.wrapCallback(i)),s.promise},t.prototype.remove=function(n){return bt("Reference.remove",0,1,arguments.length),Ur("Reference.remove",this.path),fn("Reference.remove",1,n,!0),this.set(null,n)},t.prototype.transaction=function(n,r,i){if(bt("Reference.transaction",1,3,arguments.length),Ur("Reference.transaction",this.path),fn("Reference.transaction",1,n,!1),fn("Reference.transaction",2,r,!0),U$("Reference.transaction",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";i===void 0&&(i=!0);var s=new ar;typeof r=="function"&&s.promise.catch(function(){});var a=function(c,l,h){c?s.reject(c):s.resolve(new V$(l,h)),typeof r=="function"&&r(c,l,h)};return this.repo.startTransaction(this.path,n,a,i),s.promise},t.prototype.setPriority=function(n,r){bt("Reference.setPriority",1,2,arguments.length),Ur("Reference.setPriority",this.path),Ow("Reference.setPriority",1,n,!1),fn("Reference.setPriority",2,r,!0);var i=new ar;return this.repo.setWithPriority(this.path.child(".priority"),n,null,i.wrapCallback(r)),i.promise},t.prototype.push=function(n,r){bt("Reference.push",0,2,arguments.length),Ur("Reference.push",this.path),Li("Reference.push",1,n,this.path,!0),fn("Reference.push",2,r,!0);var i=this.repo.serverTime(),s=B$(i),a=this.child(s),c=this.child(s),l;return n!=null?l=a.set(n,r).then(function(){return c}):l=Promise.resolve(c),a.then=l.then.bind(l),a.catch=l.then.bind(l,void 0),typeof r=="function"&&l.catch(function(){}),a},t.prototype.onDisconnect=function(){return Ur("Reference.onDisconnect",this.path),new j$(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(_b);_b.__referenceConstructor=vo;Mw.__referenceConstructor=vo;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rz=function(){function e(t,n){var r=this;this.app_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(i){return r.auth_=i})}return e.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)}))},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kn(t)},e}(),RC=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iz="FIREBASE_DATABASE_EMULATOR_HOST",T_,Of=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return T_||(T_=new e),T_},e.prototype.interrupt=function(){var t,n,r,i;try{for(var s=Fe(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Fe(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].interrupt()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){t={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.resume=function(){var t,n,r,i;try{for(var s=Fe(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Fe(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].resume()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){t={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.applyEmulatorSettings=function(t,n,r){t.repoInfo_=new mb(n+":"+r,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new RC)},e.prototype.databaseFromApp=function(t,n,r,i){var s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bn("Using default host for project ",t.options.projectId),s=t.options.projectId+"-default-rtdb.firebaseio.com");var a=Rw(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=process.env[iz]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=Rw(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new RC:new rz(t,n);gx("Invalid Firebase Database URL",1,a),a.path.isEmpty()||Fi("Database URL must point to the root of a Firebase Database (not including a child path).");var v=this.createRepo(c,t,d);return v.database},e.prototype.deleteRepo=function(t){var n=ai(this.repos_,t.app.name);(!n||ai(n,t.key)!==t)&&Fi("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete n[t.key]},e.prototype.createRepo=function(t,n,r){var i=ai(this.repos_,n.name);i||(i={},this.repos_[n.name]=i);var s=ai(i,t.toURLString());return s&&Fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Tb(t,this.useRestClient_,n,r),i[t.toURLString()]=s,s},e.prototype.forceRestClient=function(t){this.useRestClient_=t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ib=function(){function e(t){var n=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return R(n,void 0,void 0,function(){return N(this,function(r){return this.checkDeleted_("delete"),Of.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof Tb||Fi("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new vo(this.repo_,rt.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(t,n){if(this.checkDeleted_("useEmulator"),this.instanceStarted_){Fi("Cannot call useEmulator() after instance has already been initialized.");return}Of.getInstance().applyEmulatorSettings(this.repoInternal_,t,n)},e.prototype.ref=function(t){return this.checkDeleted_("ref"),bt("database.ref",0,1,arguments.length),t instanceof vo?this.refFromURL(t.toString()):t!==void 0?this.root_.child(t):this.root_},e.prototype.refFromURL=function(t){var n="database.refFromURL";this.checkDeleted_(n),bt(n,1,1,arguments.length);var r=Rw(t,this.repo_.repoInfo_.nodeAdmin);gx(n,1,r);var i=r.repoInfo;return!this.repo_.repoInfo_.isCustomHost()&&i.host!==this.repo_.repoInfo_.host&&Fi(n+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},e.prototype.checkDeleted_=function(t){this.repoInternal_===null&&Fi("Cannot call "+t+" on a deleted database.")},e.prototype.goOffline=function(){bt("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){bt("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oz=function(){ra.forceDisallow(),Eb.forceAllow()},sz=function(){Eb.forceDisallow()},az=function(){return ra.isAvailable()},uz=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},cz=function(e,t){e.repo.stats(t)},lz=function(e,t){e.repo.statsIncrementCounter(t)},fz=function(e){return e.repo.dataUpdateCount},hz=function(e,t){return e.repo.interceptServerData_(t)};function dz(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,c=a===void 0?!1:a;Fx(r);var l=new zk("auth-internal",new Kk("database-standalone"));return l.setComponent(new pr("auth-internal",function(){return i},"PRIVATE")),{instance:Of.getInstance().databaseFromApp(t,l,n,c),namespace:s}}var pz=Object.freeze({__proto__:null,forceLongPolling:oz,forceWebSockets:sz,isWebSocketsAvailable:az,setSecurityDebugCallback:uz,stats:cz,statsIncrementCounter:lz,dataUpdateCount:fz,interceptServerData:hz,initStandalone:dz});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vz=ya;ya.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ya.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var gz=Ux,mz=function(e){var t=ya.prototype.put;return ya.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){ya.prototype.put=t}},yz=mb,_z=function(e){return e.queryIdentifier()},wz=function(e){Of.getInstance().forceRestClient(e)},bz=Object.freeze({__proto__:null,DataConnection:vz,RealTimeConnection:gz,hijackHash:mz,ConnectionTarget:yz,queryIdentifier:_z,forceRestClient:wz}),Ez="@firebase/database",Tz="0.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iz=Ib.ServerValue;function Sz(e){Fx(e.SDK_VERSION),e.INTERNAL.registerComponent(new pr("database",function(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return Of.getInstance().databaseFromApp(r,i,n)},"PUBLIC").setServiceProps({Reference:vo,Query:_b,Database:Ib,DataSnapshot:es,enableLogging:nx,INTERNAL:pz,ServerValue:Iz,TEST_ACCESS:bz}).setMultipleInstances(!0)),e.registerVersion(Ez,Tz)}Sz(lt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lw=function(e,t){return Lw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Lw(e,t)};function Az(e,t){Lw(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Bx(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Cz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ht,Sb=Sb||{},Nt=Cz||self;function Mp(){}function Fw(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function ih(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Nz(e){return Object.prototype.hasOwnProperty.call(e,I_)&&e[I_]||(e[I_]=++Rz)}var I_="closure_uid_"+(1e9*Math.random()>>>0),Rz=0;function Oz(e,t,n){return e.call.apply(e.bind,arguments)}function kz(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function xn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xn=Oz:xn=kz,xn.apply(null,arguments)}function Md(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function zi(){return Date.now()}function Jn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[i].apply(r,a)}}function Is(){this.j=this.j,this.i=this.i}var xz=0;Is.prototype.j=!1;Is.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),xz!=0)&&Nz(this)};Is.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var qx=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Wx=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function Pz(e){t:{for(var t=EK,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break t}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function OC(e){return Array.prototype.concat.apply([],arguments)}function Ab(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Lp(e){return/^[\s\xa0]*$/.test(e)}var kC=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $n(e,t){return e.indexOf(t)!=-1}function S_(e,t){return e<t?-1:e>t?1:0}var zn;t:{var xC=Nt.navigator;if(xC){var PC=xC.userAgent;if(PC){zn=PC;break t}}zn=""}function Cb(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Hx(e){var t={};for(var n in e)t[n]=e[n];return t}var DC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gx(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<DC.length;s++)n=DC[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Nb(e){return Nb[" "](e),e}Nb[" "]=Mp;function Dz(e,t){var n=Fz;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Mz=$n(zn,"Opera"),ys=$n(zn,"Trident")||$n(zn,"MSIE"),Yx=$n(zn,"Edge"),Uw=Yx||ys,$x=$n(zn,"Gecko")&&!($n(zn.toLowerCase(),"webkit")&&!$n(zn,"Edge"))&&!($n(zn,"Trident")||$n(zn,"MSIE"))&&!$n(zn,"Edge"),Lz=$n(zn.toLowerCase(),"webkit")&&!$n(zn,"Edge");function zx(){var e=Nt.document;return e?e.documentMode:void 0}var Fp;t:{var A_="",C_=function(){var e=zn;if($x)return/rv:([^\);]+)(\)|;)/.exec(e);if(Yx)return/Edge\/([\d\.]+)/.exec(e);if(ys)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Lz)return/WebKit\/(\S+)/.exec(e);if(Mz)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(C_&&(A_=C_?C_[1]:""),ys){var N_=zx();if(N_!=null&&N_>parseFloat(A_)){Fp=String(N_);break t}}Fp=A_}var Fz={};function Kx(e){return Dz(e,function(){for(var t=0,n=kC(String(Fp)).split("."),r=kC(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",c=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],a[0].length==0&&c[0].length==0)break;t=S_(a[1].length==0?0:parseInt(a[1],10),c[1].length==0?0:parseInt(c[1],10))||S_(a[2].length==0,c[2].length==0)||S_(a[2],c[2]),a=a[3],c=c[3]}while(t==0)}return 0<=t})}var jw;if(Nt.document&&ys){var MC=zx();jw=MC||parseInt(Fp,10)||void 0}else jw=void 0;var Qx=jw,Rb=!ys||9<=Number(Qx),Uz=ys&&!Kx("9"),jz=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Nt.addEventListener("test",Mp,t),Nt.removeEventListener("test",Mp,t)}catch{}return e}();function Pn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Pn.prototype.b=function(){this.defaultPrevented=!0};function kf(e,t){if(Pn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if($x){t:{try{Nb(t.nodeName);var i=!0;break t}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:Vz[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Jn(kf,Pn);var Vz={2:"touch",3:"pen",4:"mouse"};kf.prototype.b=function(){kf.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Uz)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var oh="closure_listenable_"+(1e6*Math.random()|0),Bz=0;function qz(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++Bz,this.Y=this.Z=!1}function qv(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Wv(e){this.src=e,this.a={},this.b=0}Wv.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=Bw(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new qz(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function Vw(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=qx(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(qv(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function Bw(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var Ob="closure_lm_"+(1e6*Math.random()|0),R_={};function kb(e,t,n,r,i){if(r&&r.once)return Jx(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)kb(e,t[s],n,r,i);return null}return n=Db(n),e&&e[oh]?e.va(t,n,ih(r)?!!r.capture:!!r,i):Xx(e,t,n,!1,r,i)}function Xx(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=ih(i)?!!i.capture:!!i;if(a&&!Rb)return null;var c=Pb(e);if(c||(e[Ob]=c=new Wv(e)),n=c.add(t,n,r,a,s),n.proxy)return n;if(r=Wz(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)jz||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(tP(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Wz(){var e=Hz,t=Rb?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function Jx(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Jx(e,t[s],n,r,i);return null}return n=Db(n),e&&e[oh]?e.wa(t,n,ih(r)?!!r.capture:!!r,i):Xx(e,t,n,!0,r,i)}function Zx(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Zx(e,t[s],n,r,i);else r=ih(r)?!!r.capture:!!r,n=Db(n),e&&e[oh]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=Bw(s,n,r,i),-1<n&&(qv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=Pb(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Bw(t,n,r,i)),(n=-1<e?t[e]:null)&&xb(n))}function xb(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[oh])Vw(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tP(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pb(t))?(Vw(n,e),n.b==0&&(n.src=null,t[Ob]=null)):qv(e)}}}function tP(e){return e in R_?R_[e]:R_[e]="on"+e}function LC(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&xb(e),n.call(r,t)}function Hz(e,t){if(e.Y)return!0;if(!Rb){if(!t)t:{t=["window","event"];for(var n=Nt,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break t}t=n}return t=new kf(t,this),LC(e,t)}return LC(e,new kf(t,this))}function Pb(e){return e=e[Ob],e instanceof Wv?e:null}var O_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Db(e){return typeof e=="function"?e:(e[O_]||(e[O_]=function(t){return e.handleEvent(t)}),e[O_])}function Rr(){Is.call(this),this.c=new Wv(this),this.J=this,this.C=null}Jn(Rr,Is);Rr.prototype[oh]=!0;ht=Rr.prototype;ht.addEventListener=function(e,t,n,r){kb(this,e,t,n,r)};ht.removeEventListener=function(e,t,n,r){Zx(this,e,t,n,r)};function Tn(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Pn(t,e);else if(t instanceof Pn)t.target=t.target||e;else{var i=t;t=new Pn(r,e),Gx(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=Ld(a,r,!0,t)&&i}if(a=t.a=e,i=Ld(a,r,!0,t)&&i,i=Ld(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=Ld(a,r,!1,t)&&i}ht.G=function(){if(Rr.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)qv(n[r]);delete e.a[t],e.b--}}this.C=null};ht.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};ht.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function Ld(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var c=a.listener,l=a.ca||a.src;a.Z&&Vw(e.c,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Mb=Nt.JSON.stringify;function eP(){this.b=this.a=null}var nP=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new Lb},function(e){e.reset()});eP.prototype.add=function(e,t){var n=nP.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function Gz(){var e=iP,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Lb(){this.next=this.b=this.a=null}Lb.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};Lb.prototype.reset=function(){this.next=this.b=this.a=null};function Yz(e){Nt.setTimeout(function(){throw e},0)}function rP(e,t){qw||$z(),Ww||(qw(),Ww=!0),iP.add(e,t)}var qw;function $z(){var e=Nt.Promise.resolve(void 0);qw=function(){e.then(zz)}}var Ww=!1,iP=new eP;function zz(){for(var e;e=Gz();){try{e.a.call(e.b)}catch(n){Yz(n)}var t=nP;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Ww=!1}function Hv(e,t){Rr.call(this),this.b=e||1,this.a=t||Nt,this.f=xn(this.Za,this),this.g=zi()}Jn(Hv,Rr);ht=Hv.prototype;ht.aa=!1;ht.M=null;ht.Za=function(){if(this.aa){var e=zi()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tn(this,"tick"),this.aa&&(Fb(this),this.start()))}};ht.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=zi())};function Fb(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}ht.G=function(){Hv.X.G.call(this),Fb(this),delete this.a};function Ub(e,t,n){if(typeof e=="function")n&&(e=xn(e,n));else if(e&&typeof e.handleEvent=="function")e=xn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Nt.setTimeout(e,t||0)}function oP(e){e.a=Ub(function(){e.a=null,e.c&&(e.c=!1,oP(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var Kz=function(e){Az(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:oP(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(Nt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Is);function xf(e){Is.call(this),this.b=e,this.a={}}Jn(xf,Is);var FC=[];function sP(e,t,n,r){Array.isArray(n)||(n&&(FC[0]=n.toString()),n=FC);for(var i=0;i<n.length;i++){var s=kb(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function aP(e){Cb(e.a,function(t,n){this.a.hasOwnProperty(n)&&xb(t)},e),e.a={}}xf.prototype.G=function(){xf.X.G.call(this),aP(this)};xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function jb(){this.a=!0}function Qz(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function Xz(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Lu(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Zz(e,n)+(r?" "+r:"")})}function Jz(e,t){e.info(function(){return"TIMEOUT: "+t})}jb.prototype.info=function(){};function Zz(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Mb(n)}catch{return t}}var Va={},UC=null;function Gv(){return UC=UC||new Rr}Va.Fa="serverreachability";function uP(e){Pn.call(this,Va.Fa,e)}Jn(uP,Pn);function Pf(e){var t=Gv();Tn(t,new uP(t))}Va.STAT_EVENT="statevent";function cP(e,t){Pn.call(this,Va.STAT_EVENT,e),this.stat=t}Jn(cP,Pn);function Kn(e){var t=Gv();Tn(t,new cP(t,e))}Va.Ga="timingevent";function lP(e){Pn.call(this,Va.Ga,e)}Jn(lP,Pn);function sh(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){e()},t)}var Yv={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},fP={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function hP(){}hP.prototype.a=null;function jC(e){var t;return(t=e.a)||(t=e.a={}),t}function dP(){}var ah={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Vb(){Pn.call(this,"d")}Jn(Vb,Pn);function Bb(){Pn.call(this,"c")}Jn(Bb,Pn);var pP;function vP(){}Jn(vP,hP);pP=new vP;function uh(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new xf(this),this.P=tK,e=Uw?125:void 0,this.R=new Hv(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var tK=45e3,gP={},Hw={};ht=uh.prototype;ht.setTimeout=function(e){this.P=e};function Gw(e,t,n){e.H=1,e.i=zv(So(t)),e.j=n,e.I=!0,mP(e,null)}function mP(e,t){e.u=zi(),ch(e),e.l=So(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),TP(n.b,"t",r),e.D=0,e.a=BP(e.g,e.g.C?t:null),0<e.O&&(e.F=new Kz(xn(e.Ca,e,e.a),e.O)),sP(e.J,e.a,"readystatechange",e.Xa),t=e.B?Hx(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),Pf(),Qz(e.c,e.m,e.l,e.f,e.S,e.j)}ht.Xa=function(e){e=e.target;var t=this.F;t&&us(e)==3?t.f():this.Ca(e)};ht.Ca=function(e){try{if(e==this.a)t:{var t=us(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!Uw&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?Pf(3):Pf(2)),$v(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,Xz(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,c=this.a;if((a=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lp(a)){var l=a;break e}}l=null}if(l)Lu(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Yw(this,l);else{this.b=!1,this.h=3,Kn(12),zu(this),Up(this);break t}}this.I?(yP(this,t,s),Uw&&this.b&&t==3&&(sP(this.J,this.R,"tick",this.Wa),this.R.start())):(Lu(this.c,this.f,s,null),Yw(this,s)),t==4&&zu(this),this.b&&!this.A&&(t==4?FP(this.g,this):(this.b=!1,ch(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,Kn(12)):(this.h=0,Kn(13)),zu(this),Up(this)}}}catch{}finally{}};function yP(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=eK(e,n);if(i==Hw){t==4&&(e.h=4,Kn(14),r=!1),Lu(e.c,e.f,null,"[Incomplete Response]");break}else if(i==gP){e.h=4,Kn(15),Lu(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Lu(e.c,e.f,i,null),Yw(e,i)}t==4&&n.length==0&&(e.h=1,Kn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kb(t),t.F=!0,Kn(11))):(Lu(e.c,e.f,n,"[Invalid Chunked Response]"),zu(e),Up(e))}ht.Wa=function(){if(this.a){var e=us(this.a),t=this.a.$();this.D<t.length&&($v(this),yP(this,e,t),this.b&&e!=4&&ch(this))}};function eK(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?Hw:(n=Number(t.substring(n,r)),isNaN(n)?gP:(r+=1,r+n>t.length?Hw:(t=t.substr(r,n),e.D=r+n,t)))}ht.cancel=function(){this.A=!0,zu(this)};function ch(e){e.T=zi()+e.P,_P(e,e.P)}function _P(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=sh(xn(e.Va,e),t)}function $v(e){e.o&&(Nt.clearTimeout(e.o),e.o=null)}ht.Va=function(){this.o=null;var e=zi();0<=e-this.T?(Jz(this.c,this.l),this.H!=2&&(Pf(),Kn(17)),zu(this),this.h=2,Up(this)):_P(this,this.T-e)};function Up(e){e.g.v==0||e.A||FP(e.g,e)}function zu(e){$v(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,Fb(e.R),aP(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Yw(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||$w(n.b,e))){if(n.I=e.N,!e.C&&$w(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){t:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)qp(n),Qv(n);else break t;zb(n),Kn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=sh(xn(n.Sa,n),6e3));if(1>=AP(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else ua(n,11)}else if((e.C||n.a==e)&&qp(n),!Lp(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var c=i[5];if(c!=null&&typeof c=="number"&&0<c){var l=1.5*c;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var h=e.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=l.b;!v.a&&($n(d,"spdy")||$n(d,"quic")||$n(d,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&(Hb(v,v.b),v.b=null))}if(l.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(l.na=m,Te(l.B,l.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=zi()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),l=n;var y=e;if(l.la=VP(l,l.C?l.ga:null,l.fa),y.C){CP(l.b,y);var b=y,E=l.D;E&&b.setTimeout(E),b.o&&($v(b),ch(b)),l.a=y}else MP(l);0<n.g.length&&Xv(n)}else i[0]!="stop"&&i[0]!="close"||ua(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?ua(n,7):$b(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Pf(4)}catch{}}function nK(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(Fw(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function qb(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Fw(e)||typeof e=="string")Wx(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(Fw(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=nK(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Mc(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mc)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ht=Mc.prototype;ht.K=function(){Wb(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};ht.L=function(){return Wb(this),this.a.concat()};function Wb(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ca(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Ca(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}ht.get=function(e,t){return Ca(this.b,e)?this.b[e]:t};ht.set=function(e,t){Ca(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};ht.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Ca(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var wP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rK(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Na(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Na){this.a=t!==void 0?t:e.a,jp(this,e.f),this.j=e.j,Vp(this,e.c),Bp(this,e.h),this.g=e.g,t=e.b;var n=new Df;n.c=t.c,t.a&&(n.a=new Mc(t.a),n.b=t.b),VC(this,n),this.i=e.i}else e&&(n=String(e).match(wP))?(this.a=!!t,jp(this,n[1]||"",!0),this.j=rf(n[2]||""),Vp(this,n[3]||"",!0),Bp(this,n[4]),this.g=rf(n[5]||"",!0),VC(this,n[6]||"",!0),this.i=rf(n[7]||"")):(this.a=!!t,this.b=new Df(null,this.a))}Na.prototype.toString=function(){var e=[],t=this.f;t&&e.push(zl(t,BC,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(zl(t,BC,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(zl(n,n.charAt(0)=="/"?uK:aK,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",zl(n,lK)),e.join("")};function So(e){return new Na(e)}function jp(e,t,n){e.f=n?rf(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Vp(e,t,n){e.c=n?rf(t,!0):t}function Bp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function VC(e,t,n){t instanceof Df?(e.b=t,fK(e.b,e.a)):(n||(t=zl(t,cK)),e.b=new Df(t,e.a))}function Te(e,t,n){e.b.set(t,n)}function zv(e){return Te(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^zi()).toString(36)),e}function iK(e){return e instanceof Na?So(e):new Na(e,void 0)}function oK(e,t,n,r){var i=new Na(null,void 0);return e&&jp(i,e),t&&Vp(i,t),n&&Bp(i,n),r&&(i.g=r),i}function rf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zl(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,sK),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sK(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var BC=/[#\/\?@]/g,aK=/[#\?:]/g,uK=/[#\?]/g,cK=/[#\?@]/g,lK=/#/g;function Df(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Ss(e){e.a||(e.a=new Mc,e.b=0,e.c&&rK(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ht=Df.prototype;ht.add=function(e,t){Ss(this),this.c=null,e=Lc(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function bP(e,t){Ss(e),t=Lc(e,t),Ca(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Ca(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Wb(e)))}function EP(e,t){return Ss(e),t=Lc(e,t),Ca(e.a.b,t)}ht.forEach=function(e,t){Ss(this),this.a.forEach(function(n,r){Wx(n,function(i){e.call(t,i,r,this)},this)},this)};ht.L=function(){Ss(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};ht.K=function(e){Ss(this);var t=[];if(typeof e=="string")EP(this,e)&&(t=OC(t,this.a.get(Lc(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=OC(t,e[n])}return t};ht.set=function(e,t){return Ss(this),this.c=null,e=Lc(this,e),EP(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};ht.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function TP(e,t,n){bP(e,t),0<n.length&&(e.c=null,e.a.set(Lc(e,t),Ab(n)),e.b+=n.length)}ht.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function Lc(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function fK(e,t){t&&!e.f&&(Ss(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(bP(this,r),TP(this,i,n))},e)),e.f=t}var hK=function(){function e(t,n){this.b=t,this.a=n}return e}();function IP(e){this.g=e||dK,Nt.PerformanceNavigationTiming?(e=Nt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Nt.ia&&Nt.ia.ya&&Nt.ia.ya()&&Nt.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var dK=10;function SP(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function AP(e){return e.b?1:e.a?e.a.size:0}function $w(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function Hb(e,t){e.a?e.a.add(t):e.b=t}function CP(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}IP.prototype.cancel=function(){var e,t;if(this.c=NP(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=Bx(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function NP(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=Bx(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return Ab(e.c)}function Gb(){}Gb.prototype.stringify=function(e){return Nt.JSON.stringify(e,void 0)};Gb.prototype.parse=function(e){return Nt.JSON.parse(e,void 0)};function pK(){this.a=new Gb}function vK(e,t,n){var r=n||"";try{qb(e,function(i,s){var a=i;ih(i)&&(a=Mb(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function gK(e,t){var n=new jb;if(Nt.Image){var r=new Image;r.onload=Md(Fd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Md(Fd,n,r,"TestLoadImage: error",!1,t),r.onabort=Md(Fd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Md(Fd,n,r,"TestLoadImage: timeout",!1,t),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Fd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var mK=Nt.JSON.parse;function on(e){Rr.call(this),this.headers=new Mc,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=yK,this.D=this.F=!1}Jn(on,Rr);var yK="",_K=/^https?$/i,wK=["POST","PUT"];ht=on.prototype;ht.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?jC(this.H):jC(pP),this.a.onreadystatechange=xn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){qC(this,s);return}e=n||"";var i=new Mc(this.headers);r&&qb(r,function(s,a){i.set(a,s)}),r=Pz(i.L()),n=Nt.FormData&&e instanceof Nt.FormData,!(0<=qx(wK,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{kP(this),0<this.o&&((this.D=bK(this.a))?(this.a.timeout=this.o,this.a.ontimeout=xn(this.xa,this)):this.m=Ub(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){qC(this,s)}};function bK(e){return ys&&Kx(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function EK(e){return e.toLowerCase()=="content-type"}ht.xa=function(){typeof Sb<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tn(this,"timeout"),this.abort(8))};function qC(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,RP(e),Kv(e)}function RP(e){e.u||(e.u=!0,Tn(e,"complete"),Tn(e,"error"))}ht.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Tn(this,"complete"),Tn(this,"abort"),Kv(this))};ht.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Kv(this,!0)),on.X.G.call(this)};ht.za=function(){this.j||(this.A||this.l||this.g?OP(this):this.Ua())};ht.Ua=function(){OP(this)};function OP(e){if(e.b&&typeof Sb<"u"&&(!e.s[1]||us(e)!=4||e.W()!=2)){if(e.l&&us(e)==4)Ub(e.za,0,e);else if(Tn(e,"readystatechange"),us(e)==4){e.b=!1;try{{var t=e.W();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(wP)[1]||null;if(!s&&Nt.self&&Nt.self.location){var a=Nt.self.location.protocol;s=a.substr(0,a.length-1)}i=!_K.test(s?s.toLowerCase():"")}r=i}var c=r}if(c)Tn(e,"complete"),Tn(e,"success");else{e.h=6;try{var l=2<us(e)?e.a.statusText:""}catch{l=""}e.f=l+" ["+e.W()+"]",RP(e)}}finally{Kv(e)}}}}function Kv(e,t){if(e.a){kP(e);var n=e.a,r=e.s[0]?Mp:null;e.a=null,e.s=null,t||Tn(e,"ready");try{n.onreadystatechange=r}catch{}}}function kP(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Nt.clearTimeout(e.m),e.m=null)}function us(e){return e.a?e.a.readyState:0}ht.W=function(){try{return 2<us(this)?this.a.status:-1}catch{return-1}};ht.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};ht.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),mK(t)}};ht.ua=function(){return this.h};ht.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function TK(e){var t="";return Cb(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Yb(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=TK(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Te(e,t,n))}function Vl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xP(e){this.pa=0,this.g=[],this.c=new jb,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vl("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vl("baseRetryDelayMs",5e3,e),this.Ra=Vl("retryDelaySeedMs",1e4,e),this.Ma=Vl("forwardChannelMaxRetries",2,e),this.ma=Vl("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new IP(e&&e.concurrentRequestLimit),this.ka=new pK,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}ht=xP.prototype;ht.ha=8;ht.v=1;function $b(e){if(PP(e),e.v==3){var t=e.R++,n=So(e.B);Te(n,"SID",e.J),Te(n,"RID",t),Te(n,"TYPE","terminate"),lh(e,n),t=new uh(e,e.c,t,void 0),t.H=2,t.i=zv(So(n)),n=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(n=Nt.navigator.sendBeacon(t.i.toString(),"")),!n&&Nt.Image&&(new Image().src=t.i,n=!0),n||(t.a=BP(t.g,null),t.a.ba(t.i)),t.u=zi(),ch(t)}jP(e)}function Qv(e){e.a&&(Kb(e),e.a.cancel(),e.a=null)}function PP(e){Qv(e),e.j&&(Nt.clearTimeout(e.j),e.j=null),qp(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&Nt.clearTimeout(e.h),e.h=null)}function k_(e,t){e.g.push(new hK(e.Oa++,t)),e.v==3&&Xv(e)}function Xv(e){SP(e.b)||e.h||(e.h=!0,rP(e.Ba,e),e.u=0)}function IK(e,t){return AP(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=sh(xn(e.Ba,e,t),UP(e,e.u)),e.u++,!0)}ht.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new uh(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=Hx(n),Gx(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)t:{for(var i=r=0;i<this.g.length;i++){e:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break t}if(r===4096||i===this.g.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=DP(this,t,r),i=So(this.B),Te(i,"RID",e),Te(i,"CVER",22),this.A&&Te(i,"X-HTTP-Session-Id",this.A),lh(this,i),this.i&&n&&Yb(i,this.i,n),Hb(this.b,t),this.Ia&&Te(i,"TYPE","init"),this.da?(Te(i,"$req",r),Te(i,"SID","null"),t.U=!0,Gw(t,i,null)):Gw(t,i,r),this.v=2}}else this.v==3&&(e?WC(this,e):this.g.length==0||SP(this.b)||WC(this))};function WC(e,t){var n;t?n=t.f:n=e.R++;var r=So(e.B);Te(r,"SID",e.J),Te(r,"RID",n),Te(r,"AID",e.P),lh(e,r),e.i&&e.l&&Yb(r,e.i,e.l),n=new uh(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=DP(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),Hb(e.b,n),Gw(n,r,t)}function lh(e,t){e.f&&qb({},function(n,r){Te(t,r,n)})}function DP(e,t,n){n=Math.min(e.g.length,n);var r=e.f?xn(e.f.Ja,e.f,e):null;t:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].b,d=i[l].a;if(h-=s,0>h)s=Math.max(0,i[l].b-100),c=!1;else try{vK(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break t}}return e=e.g.splice(0,n),t.s=e,r}function MP(e){e.a||e.j||(e.T=1,rP(e.Aa,e),e.o=0)}function zb(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=sh(xn(e.Aa,e),UP(e,e.o)),e.o++,!0)}ht.Aa=function(){if(this.j=null,LP(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=sh(xn(this.Ta,this),e)}};ht.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Kn(10),Qv(this),LP(this))};function Kb(e){e.s!=null&&(Nt.clearTimeout(e.s),e.s=null)}function LP(e){e.a=new uh(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=So(e.la);Te(t,"RID","rpc"),Te(t,"SID",e.J),Te(t,"CI",e.H?"0":"1"),Te(t,"AID",e.P),lh(e,t),Te(t,"TYPE","xmlhttp"),e.i&&e.l&&Yb(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=zv(So(t)),n.j=null,n.I=!0,mP(n,e)}ht.Sa=function(){this.m!=null&&(this.m=null,Qv(this),zb(this),Kn(19))};function qp(e){e.m!=null&&(Nt.clearTimeout(e.m),e.m=null)}function FP(e,t){var n=null;if(e.a==t){qp(e),Kb(e),e.a=null;var r=2}else if($w(e.b,t))n=t.s,CP(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=zi()-t.u;var i=e.u;r=Gv(),Tn(r,new lP(r)),Xv(e)}else MP(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&IK(e,t)||r==2&&zb(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:ua(e,5);break;case 4:ua(e,10);break;case 3:ua(e,6);break;default:ua(e,2)}}}function UP(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ua(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=xn(e.Ya,e);n||(n=new Na("//www.google.com/images/cleardot.gif"),Nt.location&&Nt.location.protocol=="http"||jp(n,"https"),zv(n)),gK(n.toString(),r)}else Kn(2);e.v=0,e.f&&e.f.ra(t),jP(e),PP(e)}ht.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Kn(2)):(this.c.info("Failed to ping google.com"),Kn(1))};function jP(e){e.v=0,e.I=-1,e.f&&((NP(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,Ab(e.g),e.g.length=0),e.f.qa())}function VP(e,t,n){var r=iK(n);if(r.c!="")t&&Vp(r,t+"."+r.c),Bp(r,r.h);else{var i=Nt.location;r=oK(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Cb(e.V,function(s,a){Te(r,a,s)}),t=e.A,n=e.na,t&&n&&Te(r,t,n),Te(r,"VER",e.ha),lh(e,r),r}function BP(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new on(e.Na),t.F=e.C,t}function qP(){}ht=qP.prototype;ht.ta=function(){};ht.sa=function(){};ht.ra=function(){};ht.qa=function(){};ht.Ja=function(){};function Wp(){if(ys&&!(10<=Number(Qx)))throw Error("Environmental error: no available transport.")}Wp.prototype.a=function(e,t){return new Or(e,t)};function Or(e,t){Rr.call(this),this.a=new xP(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Lp(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Lp(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new Fc(this)}Jn(Or,Rr);Or.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Kn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=VP(e,null,e.fa),Xv(e)};Or.prototype.close=function(){$b(this.a)};Or.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,k_(this.a,t)}else this.l?(t={},t.__data__=Mb(e),k_(this.a,t)):k_(this.a,e)};Or.prototype.G=function(){this.a.f=null,delete this.f,$b(this.a),delete this.a,Or.X.G.call(this)};function WP(e){Vb.call(this);var t=e.__sm__;if(t){t:{for(var n in t){e=n;break t}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}Jn(WP,Vb);function HP(){Bb.call(this),this.status=1}Jn(HP,Bb);function Fc(e){this.a=e}Jn(Fc,qP);Fc.prototype.ta=function(){Tn(this.a,"a")};Fc.prototype.sa=function(e){Tn(this.a,new WP(e))};Fc.prototype.ra=function(e){Tn(this.a,new HP)};Fc.prototype.qa=function(){Tn(this.a,"b")};Wp.prototype.createWebChannel=Wp.prototype.a;Or.prototype.send=Or.prototype.h;Or.prototype.open=Or.prototype.g;Or.prototype.close=Or.prototype.close;Yv.NO_ERROR=0;Yv.TIMEOUT=8;Yv.HTTP_ERROR=6;fP.COMPLETE="complete";dP.EventType=ah;ah.OPEN="a";ah.CLOSE="b";ah.ERROR="c";ah.MESSAGE="d";Rr.prototype.listen=Rr.prototype.va;on.prototype.listenOnce=on.prototype.wa;on.prototype.getLastError=on.prototype.Qa;on.prototype.getLastErrorCode=on.prototype.ua;on.prototype.getStatus=on.prototype.W;on.prototype.getResponseJson=on.prototype.Pa;on.prototype.getResponseText=on.prototype.$;on.prototype.send=on.prototype.ba;var SK=function(){return new Wp},AK=function(){return Gv()},x_=Yv,CK=fP,NK=Va,HC={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Ud=dP,RK=on;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OK=function(e,t,n,r,i,s){this.t=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Hp=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),di=new Dc("@firebase/firestore");function zw(){return di.logLevel}function J(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(di.logLevel<=Dt.DEBUG){var r=t.map(Qb);di.debug.apply(di,Ve(["Firestore (8.2.7): "+e],r))}}function Ye(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(di.logLevel<=Dt.ERROR){var r=t.map(Qb);di.error.apply(di,Ve(["Firestore (8.2.7): "+e],r))}}function Gp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(di.logLevel<=Dt.WARN){var r=t.map(Qb);di.warn.apply(di,Ve(["Firestore (8.2.7): "+e],r))}}function Qb(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+e;throw Ye(t),new Error(t)}function Et(e,t){e||ft()}function et(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kK(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GP=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=kK(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function jt(e,t){return e<t?-1:e>t?1:0}function cc(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function YP(e){return e+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(t){this.h=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.h,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.h)},e.prototype.l=function(){return 2*this.h.length},e.prototype._=function(t){return jt(this.h,t.h)},e.prototype.isEqual=function(t){return this.h===t.h},e}();Qn.T=new Qn("");var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return tt(t,e),t}(Error),Ra=function(){function e(t){this.I=t}return e.fromBase64String=function(t){try{return new e(Qn.fromBase64String(t))}catch(n){throw new G(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Qn.fromUint8Array(t))},e.prototype.toBase64=function(){return this.I.toBase64()},e.prototype.toUint8Array=function(){return this.I.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this.I.isEqual(t.I)},e}(),Tr=function(){function e(t){this.uid=t}return e.prototype.m=function(){return this.uid!=null},e.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();Tr.UNAUTHENTICATED=new Tr(null),Tr.R=new Tr("google-credentials-uid"),Tr.P=new Tr("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xK=function(e,t){this.user=t,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+e},GC=function(){function e(){this.V=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.p=function(){},e.prototype.v=function(t){this.V=t,t(Tr.UNAUTHENTICATED)},e.prototype.S=function(){this.V=null},e}(),PK=function(){function e(t){var n=this;this.D=null,this.currentUser=Tr.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.N!==n?(J("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(Et(typeof i.accessToken=="string"),new xK(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.p=function(){this.forceRefresh=!0},e.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},e.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},e.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Et(t===null||typeof t=="string"),new Tr(t)},e}(),DK=function(){function e(t,n){this.F=t,this.O=n,this.type="FirstParty",this.user=Tr.P}return Object.defineProperty(e.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),t},enumerable:!1,configurable:!0}),e}(),MK=function(){function e(t,n){this.F=t,this.O=n}return e.prototype.getToken=function(){return Promise.resolve(new DK(this.F,this.O))},e.prototype.v=function(t){t(Tr.P)},e.prototype.S=function(){},e.prototype.p=function(){},e}(),Ar=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return e.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},e}();Ar.q=-1;var lr=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new G(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new G(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new G(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.U=function(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Lt=function(){function e(t){this.timestamp=t}return e.K=function(t){return new e(t)},e.min=function(){return new e(new lr(0,0))},e.prototype._=function(t){return this.timestamp.U(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.j=function(){return this.timestamp},e}(),$P=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&ft(),r===void 0?r=t.length-n:r>t.length-n&&ft(),this.segments=t,this.offset=n,this.G=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.H(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.J(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.Y=function(t){return t=t===void 0?1:t,this.J(this.segments,this.offset+t,this.length-t)},e.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},e.prototype.Z=function(){return this.segments[this.offset]},e.prototype.tt=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.et=function(){return this.length===0},e.prototype.nt=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},e.H=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Xt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.prototype.rt=function(){return this.it().join("/")},t.prototype.toString=function(){return this.rt()},t.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new G(P.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new t(i)},t.ct=function(){return new t([])},t}($P),LK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yi=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.at=function(n){return LK.test(n)},t.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.at(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.rt()},t.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},t.ht=function(){return new t(["__name__"])},t.lt=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new G(P.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new G(P.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new G(P.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.ct=function(){return new t([])},t}($P),vt=function(){function e(t){this.path=t}return e._t=function(t){return new e(Xt.ot(t))},e.ft=function(t){return new e(Xt.ot(t).Y(5))},e.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Xt.H(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.H=function(t,n){return Xt.H(t.path,n.path)},e.wt=function(t){return t.length%2==0},e.Et=function(t){return new e(new Xt(t.slice()))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fh(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function zP(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc=function(){function e(t){this.fields=t,t.sort(yi.H)}return e.prototype.Tt=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(t))return!0;return!1},e.prototype.isEqual=function(t){return cc(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),FK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(e){if(Et(!!e),typeof e=="string"){var t=0,n=FK.exec(e);if(Et(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ge(e.seconds),nanos:Ge(e.nanos)}}function Ge(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function fc(e){return typeof e=="string"?Qn.fromBase64String(e):Qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function KP(e){var t=e.mapValue.fields.__previous_value__;return Xb(t)?KP(t):t}function Mf(e){var t=_s(e.mapValue.fields.__local_write_time__.timestampValue);return new lr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(e){return e==null}function Yp(e){return e===0&&1/e==-1/0}function QP(e){return typeof e=="number"&&Number.isInteger(e)&&!Yp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Xb(e)?4:10:ft()}function Gi(e,t){var n=ws(e);if(n!==ws(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mf(e).isEqual(Mf(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=_s(r.timestampValue),a=_s(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return fc(r.bytesValue).isEqual(fc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Ge(r.doubleValue),a=Ge(i.doubleValue);return s===a?Yp(s)===Yp(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return cc(e.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(YC(s)!==YC(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Gi(s[c],a[c])))return!1;return!0}(e,t);default:return ft()}}function Lf(e,t){return(e.values||[]).find(function(n){return Gi(n,t)})!==void 0}function hc(e,t){var n=ws(e),r=ws(t);if(n!==r)return jt(n,r);switch(n){case 0:return 0;case 1:return jt(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=Ge(i.integerValue||i.doubleValue),c=Ge(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return $C(e.timestampValue,t.timestampValue);case 4:return $C(Mf(e),Mf(t));case 5:return jt(e.stringValue,t.stringValue);case 6:return function(i,s){var a=fc(i),c=fc(s);return a._(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=jt(a[l],c[l]);if(h!==0)return h}return jt(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=jt(Ge(i.latitude),Ge(s.latitude));return a!==0?a:jt(Ge(i.longitude),Ge(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=hc(a[l],c[l]);if(h)return h}return jt(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=jt(c[d],h[d]);if(v!==0)return v;var m=hc(a[c[d]],l[h[d]]);if(m!==0)return m}return jt(c.length,h.length)}(e.mapValue,t.mapValue);default:throw ft()}}function $C(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return jt(e,t);var n=_s(e),r=_s(t),i=jt(n.seconds,r.seconds);return i!==0?i:jt(n.nanos,r.nanos)}function Jb(e){return Kw(e)}function Kw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=_s(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?fc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,vt.ft(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=Kw(c[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+Kw(r.fields[l])}return i+"}"}(e.mapValue):ft();var t,n}function $p(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.rt()}}function Qw(e){return!!e&&"integerValue"in e}function Zb(e){return!!e&&"arrayValue"in e}function zC(e){return!!e&&"nullValue"in e}function KC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function tE(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bs=function(){function e(t){this.proto=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.et())return this.proto;for(var n=this.proto,r=0;r<t.length-1;++r)if(!n.mapValue.fields||!tE(n=n.mapValue.fields[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.tt()])||null},e.prototype.isEqual=function(t){return Gi(this.proto,t.proto)},e}(),hh=function(){function e(t){t===void 0&&(t=bs.empty()),this.It=t,this.At=new Map}return e.prototype.set=function(t,n){return this.Rt(t,n),this},e.prototype.delete=function(t){return this.Rt(t,null),this},e.prototype.Rt=function(t,n){for(var r=this.At,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&ws(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.tt(),n)},e.prototype.Pt=function(){var t=this.yt(yi.ct(),this.At);return t!=null?new bs(t):this.It},e.prototype.yt=function(t,n){var r=this,i=!1,s=this.It.field(t),a=tE(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,l){if(c instanceof Map){var h=r.yt(t.child(l),c);h!=null&&(a[l]=h,i=!0)}else c!==null?(a[l]=c,i=!0):a.hasOwnProperty(l)&&(delete a[l],i=!0)}),i?{mapValue:{fields:a}}:null},e}();function XP(e){var t=[];return fh(e.fields||{},function(n,r){var i=new yi([n]);if(tE(r)){var s=XP(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];t.push(i.child(l))}}else t.push(i)}),new lc(t)}var eE=function(e,t){this.key=e,this.version=t},le=function(e){function t(n,r,i,s){var a=this;return(a=e.call(this,n,r)||this).gt=i,a.Vt=!!s.Vt,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return tt(t,e),t.prototype.field=function(n){return this.gt.field(n)},t.prototype.data=function(){return this.gt},t.prototype.bt=function(){return this.gt.proto},t.prototype.isEqual=function(n){return n instanceof t&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(eE),nn=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return tt(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(eE),nE=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(eE),UK=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.vt=null};function QC(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new UK(e,t,n,r,i,s,a)}function dh(e){var t=et(e);if(t.vt===null){var n=t.path.rt();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+Jb(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),Ba(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Kp(t.startAt)),t.endAt&&(n+="|ub:",n+=Kp(t.endAt)),t.vt=n}return t.vt}function Jv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!YK(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Gi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!JC(e.startAt,t.startAt)&&JC(e.endAt,t.endAt)}function zp(e){return vt.wt(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Cr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return tt(t,e),t.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new jK(n,r,i):r==="array-contains"?new qK(n,i):r==="in"?new WK(n,i):r==="not-in"?new HK(n,i):r==="array-contains-any"?new GK(n,i):new t(n,r,i)},t.St=function(n,r,i){return r==="in"?new VK(n,i):new BK(n,i)},t.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(hc(r,this.value)):r!==null&&ws(this.value)===ws(r)&&this.Dt(hc(r,this.value))},t.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ft()}},t.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),jK=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=vt.ft(i.referenceValue),s}return tt(t,e),t.prototype.matches=function(n){var r=vt.H(n.key,this.key);return this.Dt(r)},t}(Cr),VK=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=JP("in",r),i}return tt(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Cr),BK=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=JP("not-in",r),i}return tt(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Cr);function JP(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return vt.ft(r.referenceValue)})}var qK=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return tt(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return Zb(r)&&Lf(r.arrayValue,this.value)},t}(Cr),WK=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return tt(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&Lf(this.value.arrayValue,r)},t}(Cr),HK=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return tt(t,e),t.prototype.matches=function(n){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!Lf(this.value.arrayValue,r)},t}(Cr),GK=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return tt(t,e),t.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!Zb(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return Lf(r.value.arrayValue,s)})},t}(Cr),Ff=function(e,t){this.position=e,this.before=t};function Kp(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Jb(t)}).join(",")}var Ku=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function YK(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function XC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.ut()?vt.H(vt.ft(a.referenceValue),n.key):hc(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function JC(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Gi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po=function(e,t,n,r,i,s,a,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.Nt=null,this.$t=null,this.startAt,this.endAt};function ZP(e,t,n,r,i,s,a,c){return new Po(e,t,n,r,i,s,a,c)}function Uc(e){return new Po(e)}function sp(e){return!Ba(e.limit)&&e.limitType==="F"}function Qp(e){return!Ba(e.limit)&&e.limitType==="L"}function rE(e){return e.xt.length>0?e.xt[0].field:null}function iE(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.Ct())return r.field}return null}function oE(e){return e.collectionGroup!==null}function dc(e){var t=et(e);if(t.Nt===null){t.Nt=[];var n=iE(t),r=rE(t);if(n!==null&&r===null)n.ut()||t.Nt.push(new Ku(n)),t.Nt.push(new Ku(yi.ht(),"asc"));else{for(var i=!1,s=0,a=t.xt;s<a.length;s++){var c=a[s];t.Nt.push(c),c.field.ut()&&(i=!0)}if(!i){var l=t.xt.length>0?t.xt[t.xt.length-1].dir:"asc";t.Nt.push(new Ku(yi.ht(),l))}}}return t.Nt}function Gr(e){var t=et(e);if(!t.$t)if(t.limitType==="F")t.$t=QC(t.path,t.collectionGroup,dc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=dc(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Ku(s.field,a))}var c=t.endAt?new Ff(t.endAt.position,!t.endAt.before):null,l=t.startAt?new Ff(t.startAt.position,!t.startAt.before):null;t.$t=QC(t.path,t.collectionGroup,n,t.filters,t.limit,c,l)}return t.$t}function tD(e,t,n){return new Po(e.path,e.collectionGroup,e.xt.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ph(e,t){return Jv(Gr(e),Gr(t))&&e.limitType===t.limitType}function eD(e){return dh(Gr(e))+"|lt:"+e.limitType}function Xw(e){return"Query(target="+function(t){var n=t.path.rt();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+Jb(i.value);var i}).join(", ")+"]"),Ba(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Kp(t.startAt)),t.endAt&&(n+=", endAt: "+Kp(t.endAt)),"Target("+n+")"}(Gr(e))+"; limitType="+e.limitType+")"}function vh(e,t){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):vt.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(e,t)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var a=s[i];if(!a.field.ut()&&r.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!XC(n.startAt,dc(n),r))&&(!n.endAt||!XC(n.endAt,dc(n),r))}(e,t)}function nD(e){return function(t,n){for(var r=!1,i=0,s=dc(e);i<s.length;i++){var a=s[i],c=$K(a,t,n);if(c!==0)return c;r=r||a.field.ut()}return 0}}function $K(e,t,n){var r=e.field.ut()?vt.H(t.key,n.key):function(i,s,a){var c=s.field(i),l=a.field(i);return c!==null&&l!==null?hc(c,l):ft()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zv=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=Lt.min()),a===void 0&&(a=Lt.min()),c===void 0&&(c=Qn.T),this.target=t,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return e.prototype.kt=function(t){return new e(this.target,this.targetId,this.Ft,t,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.Mt=function(t,n){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.Lt=function(t){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,t,this.resumeToken)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(e,t){if(e.Bt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yp(t)?"-0":t}}function iD(e){return{integerValue:""+e}}function oD(e,t){return QP(t)?iD(t):rD(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tg=function(){this.qt=void 0};function zK(e,t,n){return e instanceof pc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Oa?aD(e,t):e instanceof ka?uD(e,t):function(r,i){var s=sD(r,i),a=ZC(s)+ZC(r.Ut);return Qw(s)&&Qw(r.Ut)?iD(a):rD(r.Qt,a)}(e,t)}function KK(e,t,n){return e instanceof Oa?aD(e,t):e instanceof ka?uD(e,t):n}function sD(e,t){return e instanceof vc?Qw(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var pc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t}(tg),Oa=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return tt(t,e),t}(tg);function aD(e,t){for(var n=cD(t),r=function(a){n.some(function(c){return Gi(c,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ka=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return tt(t,e),t}(tg);function uD(e,t){for(var n=cD(t),r=function(a){n=n.filter(function(c){return!Gi(c,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var vc=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qt=n,i.Ut=r,i}return tt(t,e),t}(tg);function ZC(e){return Ge(e.integerValue||e.doubleValue)}function cD(e){return Zb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=function(e,t){this.field=e,this.transform=t},QK=function(e,t){this.version=e,this.transformResults=t},Rn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.Kt=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function ap(e,t){return e.updateTime!==void 0?t instanceof le&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t instanceof le}var eg=function(){};function XK(e,t,n){return e instanceof mh?function(r,i,s){var a=r.value;if(s.transformResults){var c=nN(r.fieldTransforms,i,s.transformResults);a=sE(r.fieldTransforms,a,c)}return new le(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):e instanceof As?function(r,i,s){if(!ap(r.jt,i))return new nE(r.key,s.version);var a=lD(r,i,s.transformResults?nN(r.fieldTransforms,i,s.transformResults):[]);return new le(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):function(r,i,s){return new nn(r.key,s.version,{hasCommittedMutations:!0})}(e,0,n)}function Jw(e,t,n){return e instanceof mh?function(r,i,s){if(!ap(r.jt,i))return i;var a=r.value,c=rN(r.fieldTransforms,s,i);a=sE(r.fieldTransforms,a,c);var l=eN(i);return new le(r.key,l,a,{Vt:!0})}(e,t,n):e instanceof As?function(r,i,s){if(!ap(r.jt,i))return i;var a=eN(i),c=lD(r,i,rN(r.fieldTransforms,s,i));return new le(r.key,a,c,{Vt:!0})}(e,t,n):function(r,i){return ap(r.jt,i)?new nn(r.key,Lt.min()):i}(e,t)}function JK(e,t){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var c=a[s],l=r instanceof le?r.field(c.field):void 0,h=sD(c.transform,l||null);h!=null&&(i=i==null?new hh().set(c.field,h):i.set(c.field,h))}return i?i.Pt():null}(e.fieldTransforms,t)}function tN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.jt.isEqual(t.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&cc(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof Oa&&h instanceof Oa||l instanceof ka&&h instanceof ka?cc(l.elements,h.elements,Gi):l instanceof vc&&h instanceof vc?Gi(l.Ut,h.Ut):l instanceof pc&&h instanceof pc}(a.transform,c.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.Gt.isEqual(t.Gt))}function eN(e){return e instanceof le?e.version:Lt.min()}var mh=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.jt=i,a.fieldTransforms=s,a.type=0,a}return tt(t,e),t}(eg),As=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.Gt=i,c.jt=s,c.fieldTransforms=a,c.type=1,c}return tt(t,e),t}(eg);function lD(e,t,n){var r;return r=function(i,s){var a=new hh(s);return i.Gt.fields.forEach(function(c){if(!c.et()){var l=i.data.field(c);l!==null?a.set(c,l):a.delete(c)}}),a.Pt()}(e,r=t instanceof le?t.data():bs.empty()),r=sE(e.fieldTransforms,r,n)}function nN(e,t,n){var r=[];Et(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,c=null;t instanceof le&&(c=t.field(s.field)),r.push(KK(a,c,n[i]))}return r}function rN(e,t,n){for(var r=[],i=0,s=e;i<s.length;i++){var a=s[i],c=a.transform,l=null;n instanceof le&&(l=n.field(a.field)),r.push(zK(c,l,t))}return r}function sE(e,t,n){for(var r=new hh(t),i=0;i<e.length;i++){var s=e[i];r.set(s.field,n[i])}return r.Pt()}var He,qt,yh=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return tt(t,e),t}(eg),aE=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return tt(t,e),t}(eg),ZK=function(e){this.count=e};function fD(e){switch(e){case P.OK:return ft();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return ft()}}function hD(e){if(e===void 0)return Ye("GRPC error has no .code"),P.UNKNOWN;switch(e){case He.OK:return P.OK;case He.CANCELLED:return P.CANCELLED;case He.UNKNOWN:return P.UNKNOWN;case He.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case He.INTERNAL:return P.INTERNAL;case He.UNAVAILABLE:return P.UNAVAILABLE;case He.UNAUTHENTICATED:return P.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case He.NOT_FOUND:return P.NOT_FOUND;case He.ALREADY_EXISTS:return P.ALREADY_EXISTS;case He.PERMISSION_DENIED:return P.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case He.ABORTED:return P.ABORTED;case He.OUT_OF_RANGE:return P.OUT_OF_RANGE;case He.UNIMPLEMENTED:return P.UNIMPLEMENTED;case He.DATA_LOSS:return P.DATA_LOSS;default:return ft()}}(qt=He||(He={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function e(t,n){this.H=t,this.root=n||ns.EMPTY}return e.prototype.zt=function(t,n){return new e(this.H,this.root.zt(t,n,this.H).copy(null,null,ns.Ht,null,null))},e.prototype.remove=function(t){return new e(this.H,this.root.remove(t,this.H).copy(null,null,ns.Ht,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.et();){var r=this.H(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.et();){var i=this.H(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.et=function(){return this.root.et()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.Jt=function(){return this.root.Jt()},e.prototype.Yt=function(){return this.root.Yt()},e.prototype.Xt=function(t){return this.root.Xt(t)},e.prototype.forEach=function(t){this.Xt(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.Xt(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.Zt=function(t){return this.root.Zt(t)},e.prototype.te=function(){return new jd(this.root,null,this.H,!1)},e.prototype.ee=function(t){return new jd(this.root,t,this.H,!1)},e.prototype.ne=function(){return new jd(this.root,null,this.H,!0)},e.prototype.se=function(t){return new jd(this.root,t,this.H,!0)},e}(),jd=function(){function e(t,n,r,i){this.ie=i,this.re=[];for(var s=1;!t.et();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.ie?t.left:t.right;else{if(s===0){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return e.prototype.oe=function(){var t=this.re.pop(),n={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return n},e.prototype.ce=function(){return this.re.length>0},e.prototype.ae=function(){if(this.re.length===0)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},e}(),ns=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.et=function(){return!1},e.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},e.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},e.prototype.min=function(){return this.left.et()?this:this.left.min()},e.prototype.Jt=function(){return this.min().key},e.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},e.prototype.zt=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(t,n,r))).ue()},e.prototype.he=function(){if(this.left.et())return e.EMPTY;var t=this;return t.left.le()||t.left.left.le()||(t=t._e()),(t=t.copy(null,null,null,t.left.he(),null)).ue()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(t,i.key)===0){if(i.right.et())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.ue()},e.prototype.le=function(){return this.color},e.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},e.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},e.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},e.prototype.we=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.fe=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},e.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw ft();var t=this.left.Ie();if(t!==this.right.Ie())throw ft();return t+(this.le()?0:1)},e}();ns.EMPTY=null,ns.RED=!0,ns.Ht=!1,ns.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ft()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ft()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ft()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ft()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ft()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.zt=function(t,n,r){return new ns(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.et=function(){return!0},e.prototype.Xt=function(t){return!1},e.prototype.Zt=function(t){return!1},e.prototype.Jt=function(){return null},e.prototype.Yt=function(){return null},e.prototype.le=function(){return!1},e.prototype.Te=function(){return!0},e.prototype.Ie=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=function(){function e(t){this.H=t,this.data=new Un(this.H)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.Jt()},e.prototype.last=function(){return this.data.Yt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.Xt(function(n,r){return t(n),!1})},e.prototype.me=function(t,n){for(var r=this.data.ee(t[0]);r.ce();){var i=r.oe();if(this.H(i.key,t[1])>=0)return;n(i.key)}},e.prototype.Ae=function(t,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!t(r.oe().key))return},e.prototype.Re=function(t){var n=this.data.ee(t);return n.ce()?n.oe().key:null},e.prototype.te=function(){return new iN(this.data.te())},e.prototype.ee=function(t){return new iN(this.data.ee(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.et=function(){return this.data.et()},e.prototype.Pe=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.te(),r=t.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},e.prototype.it=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.H);return n.data=t,n},e}(),iN=function(){function e(t){this.ye=t}return e.prototype.oe=function(){return this.ye.oe().key},e.prototype.ce=function(){return this.ye.ce()},e}(),t5=new Un(vt.H);function Ao(){return t5}function Xp(){return Ao()}var e5=new Un(vt.H);function Uf(){return e5}var n5=new Un(vt.H);function dD(){return n5}var r5=new rn(vt.H);function oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=r5,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var i5=new rn(jt);function ng(){return i5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pD=function(){function e(t){this.H=t?function(n,r){return t(n,r)||vt.H(n.key,r.key)}:function(n,r){return vt.H(n.key,r.key)},this.ge=Uf(),this.Ve=new Un(this.H)}return e.pe=function(t){return new e(t.H)},e.prototype.has=function(t){return this.ge.get(t)!=null},e.prototype.get=function(t){return this.ge.get(t)},e.prototype.first=function(){return this.Ve.Jt()},e.prototype.last=function(){return this.Ve.Yt()},e.prototype.et=function(){return this.Ve.et()},e.prototype.indexOf=function(t){var n=this.ge.get(t);return n?this.Ve.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.Ve.Xt(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.ge.zt(t.key,t),n.Ve.zt(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.ge.remove(t),this.Ve.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.Ve.te(),r=t.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.H=this.H,r.ge=t,r.Ve=n,r},e}(),oN=function(){function e(){this.be=new Un(vt.H)}return e.prototype.track=function(t){var n=t.doc.key,r=this.be.get(n);r?t.type!==0&&r.type===3?this.be=this.be.zt(n,t):t.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.be=this.be.remove(n):t.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:t.doc}):ft():this.be=this.be.zt(n,t)},e.prototype.ve=function(){var t=[];return this.be.Xt(function(n,r){t.push(r)}),t},e}(),Jp=function(){function e(t,n,r,i,s,a,c,l){this.query=t,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=a,this.Ce=c,this.xe=l}return e.Ne=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,pD.pe(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&ph(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),uE=function(){function e(t,n,r,i,s){this.Ot=t,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return e.Me=function(t,n){var r=new Map;return r.set(t,cE.Le(t,n)),new e(Lt.min(),r,ng(),Ao(),oe())},e}(),cE=function(){function e(t,n,r,i,s){this.resumeToken=t,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return e.Le=function(t,n){return new e(Qn.T,n,oe(),oe(),oe())},e}(),up=function(e,t,n,r){this.Ke=e,this.removedTargetIds=t,this.key=n,this.We=r},vD=function(e,t){this.targetId=e,this.je=t},gD=function(e,t,n,r){n===void 0&&(n=Qn.T),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},sN=function(){function e(){this.Ge=0,this.ze=uN(),this.He=Qn.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(e.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),e.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},e.prototype.en=function(){var t=oe(),n=oe(),r=oe();return this.ze.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new cE(this.He,this.Je,t,n,r)},e.prototype.nn=function(){this.Ye=!1,this.ze=uN()},e.prototype.sn=function(t,n){this.Ye=!0,this.ze=this.ze.zt(t,n)},e.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},e.prototype.on=function(){this.Ge+=1},e.prototype.cn=function(){this.Ge-=1},e.prototype.an=function(){this.Ye=!0,this.Je=!0},e}(),o5=function(){function e(t){this.un=t,this.hn=new Map,this.ln=Ao(),this._n=aN(),this.fn=new rn(jt)}return e.prototype.dn=function(t){for(var n=0,r=t.Ke;n<r.length;n++){var i=r[n];t.We instanceof le?this.wn(i,t.We):t.We instanceof nn&&this.En(i,t.key,t.We)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.En(i,t.key,t.We)},e.prototype.Tn=function(t){var n=this;this.In(t,function(r){var i=n.mn(r);switch(t.state){case 0:n.An(r)&&i.tn(t.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(t.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(t.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(t.resumeToken));break;default:ft()}})},e.prototype.In=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},e.prototype.Pn=function(t){var n=t.targetId,r=t.je.count,i=this.yn(n);if(i){var s=i.target;if(zp(s))if(r===0){var a=new vt(s.path);this.En(n,a,new nn(a,Lt.min()))}else Et(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},e.prototype.Vn=function(t){var n=this,r=new Map;this.hn.forEach(function(a,c){var l=n.yn(c);if(l){if(a.Be&&zp(l.target)){var h=new vt(l.target.path);n.ln.get(h)!==null||n.pn(c,h)||n.En(c,h,new nn(h,t))}a.Ze&&(r.set(c,a.en()),a.nn())}});var i=oe();this._n.forEach(function(a,c){var l=!0;c.Ae(function(h){var d=n.yn(h);return!d||d.Ft===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new uE(t,r,this.fn,this.ln,i);return this.ln=Ao(),this._n=aN(),this.fn=new rn(jt),s},e.prototype.wn=function(t,n){if(this.An(t)){var r=this.pn(t,n.key)?2:0;this.mn(t).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(t))}},e.prototype.En=function(t,n,r){if(this.An(t)){var i=this.mn(t);this.pn(t,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(t)),r&&(this.ln=this.ln.zt(n,r))}},e.prototype.removeTarget=function(t){this.hn.delete(t)},e.prototype.gn=function(t){var n=this.mn(t).en();return this.un.vn(t).size+n.qe.size-n.Qe.size},e.prototype.on=function(t){this.mn(t).on()},e.prototype.mn=function(t){var n=this.hn.get(t);return n||(n=new sN,this.hn.set(t,n)),n},e.prototype.bn=function(t){var n=this._n.get(t);return n||(n=new rn(jt),this._n=this._n.zt(t,n)),n},e.prototype.An=function(t){var n=this.yn(t)!==null;return n||J("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.yn=function(t){var n=this.hn.get(t);return n&&n.Xe?null:this.un.Sn(t)},e.prototype.Rn=function(t){var n=this;this.hn.set(t,new sN),this.un.vn(t).forEach(function(r){n.En(t,r,null)})},e.prototype.pn=function(t,n){return this.un.vn(t).has(n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return new Un(vt.H)}function uN(){return new Un(vt.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s5={asc:"ASCENDING",desc:"DESCENDING"},a5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u5=function(e,t){this.t=e,this.Bt=t};function jf(e,t){return e.Bt?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function mD(e,t){return e.Bt?t.toBase64():t.toUint8Array()}function c5(e,t){return jf(e,t.j())}function dn(e){return Et(!!e),Lt.K(function(t){var n=_s(t);return new lr(n.seconds,n.nanos)}(e))}function lE(e,t){return function(n){return new Xt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).rt()}function yD(e){var t=Xt.ot(e);return Et(AD(t)),t}function Vf(e,t){return lE(e.t,t.path)}function Vi(e,t){var n=yD(t);if(n.get(1)!==e.t.projectId)throw new G(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.t.projectId);if(n.get(3)!==e.t.database)throw new G(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.t.database);return new vt(wD(n))}function Zw(e,t){return lE(e.t,t)}function _D(e){var t=yD(e);return t.length===4?Xt.ct():wD(t)}function Bf(e){return new Xt(["projects",e.t.projectId,"databases",e.t.database]).rt()}function wD(e){return Et(e.length>4&&e.get(4)==="documents"),e.Y(5)}function cN(e,t,n){return{name:Vf(e,t),fields:n.proto.mapValue.fields}}function bD(e,t,n){var r=Vi(e,t.name),i=dn(t.updateTime),s=new bs({mapValue:{fields:t.fields}});return new le(r,i,s,{hasCommittedMutations:!!n})}function Zp(e,t){var n;if(t instanceof mh)n={update:cN(e,t.key,t.value)};else if(t instanceof yh)n={delete:Vf(e,t.key)};else if(t instanceof As)n={update:cN(e,t.key,t.data),updateMask:p5(t.Gt)};else{if(!(t instanceof aE))return ft();n={verify:Vf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof pc)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oa)return{fieldPath:s.field.rt(),appendMissingElements:{values:a.elements}};if(a instanceof ka)return{fieldPath:s.field.rt(),removeAllFromArray:{values:a.elements}};if(a instanceof vc)return{fieldPath:s.field.rt(),increment:a.Ut};throw ft()}(0,r)})),t.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:c5(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ft()}(e,t.jt)),n}function lN(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?Rn.updateTime(dn(h.updateTime)):h.exists!==void 0?Rn.exists(h.exists):Rn.Kt()}(t.currentDocument):Rn.Kt(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var m=null;if("setToServerValue"in v)Et(v.setToServerValue==="REQUEST_TIME"),m=new pc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new Oa(y)}else if("removeAllFromArray"in v){var b=v.removeAllFromArray.values||[];m=new ka(b)}else"increment"in v?m=new vc(d,v.increment):ft();var E=yi.lt(v.fieldPath);return new gh(E,m)}(e,h)}):[];if(t.update){t.update.name;var i=Vi(e,t.update.name),s=new bs({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new lc(d.map(function(v){return yi.lt(v)}))}(t.updateMask);return new As(i,s,a,n,r)}return new mh(i,s,n,r)}if(t.delete){var c=Vi(e,t.delete);return new yh(c,n)}if(t.verify){var l=Vi(e,t.verify);return new aE(l,n)}return ft()}function ED(e,t){return{documents:[Zw(e,t.path)]}}function TD(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Zw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zw(e,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(KC(d.value))return{unaryFilter:{field:Iu(d.field),op:"IS_NAN"}};if(zC(d.value))return{unaryFilter:{field:Iu(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(KC(d.value))return{unaryFilter:{field:Iu(d.field),op:"IS_NOT_NAN"}};if(zC(d.value))return{unaryFilter:{field:Iu(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(d.field),op:f5(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Iu(h.field),direction:l5(h.dir)}}(l)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.Bt||Ba(l)?l:{value:l}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=fN(t.startAt)),t.endAt&&(n.structuredQuery.endAt=fN(t.endAt)),n}function ID(e){var t=_D(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Et(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=SD(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(m){return new Ku(Fu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var l=null;n.limit&&(l=function(v){var m;return Ba(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=hN(n.startAt));var d=null;return n.endAt&&(d=hN(n.endAt)),ZP(t,i,c,a,l,"F",h,d)}function SD(e){return e?e.unaryFilter!==void 0?[d5(e)]:e.fieldFilter!==void 0?[h5(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return SD(t)}).reduce(function(t,n){return t.concat(n)}):ft():[]}function fN(e){return{before:e.before,values:e.position}}function hN(e){var t=!!e.before,n=e.values||[];return new Ff(n,t)}function l5(e){return s5[e]}function f5(e){return a5[e]}function Iu(e){return{fieldPath:e.rt()}}function Fu(e){return yi.lt(e.fieldPath)}function h5(e){return Cr.create(Fu(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value)}function d5(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Fu(e.unaryFilter.field);return Cr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Fu(e.unaryFilter.field);return Cr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Fu(e.unaryFilter.field);return Cr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Fu(e.unaryFilter.field);return Cr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ft()}}function p5(e){var t=[];return e.fields.forEach(function(n){return t.push(n.rt())}),{fieldPaths:t}}function AD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},$=function(){function e(t){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.Nn&&ft(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(t,this.result):new e(function(i,s){r.Dn=function(a){r.Fn(t,a).next(i,s)},r.Cn=function(a){r.$n(n,a).next(i,s)}})},e.prototype.On=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.kn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.Fn=function(t,n){return t?this.kn(function(){return t(n)}):e.resolve(n)},e.prototype.$n=function(t,n){return t?this.kn(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.Mn=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},e.Ln=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(c){return c?e.resolve(c):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.Mn(i)},e}(),CD=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.Bn=new Xn,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new of(t,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=fE(i.target.error);r.Bn.reject(new of(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new of(n,s)}},Object.defineProperty(e.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(J("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new g5(n)},e}(),gc=function(){function e(t,n,r){this.name=t,this.version=n,this.Un=r,e.Qn(Aa())===12.2&&Ye("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return J("SimpleDb","Removing database:",t),ia(window.indexedDB.deleteDatabase(t)).On()},e.Kn=function(){if(typeof indexedDB>"u")return!1;if(e.Wn())return!0;var t=Aa(),n=e.Qn(t),r=0<n&&n<10,i=e.jn(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.Wn=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Gn)==="YES"},e.zn=function(t,n){return t.store(n)},e.Qn=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.jn=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.Hn=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(J("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new of(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new G(P.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new of(t,h))},c.onupgradeneeded=function(l){J("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.Un.Jn(h,c.transaction,l.oldVersion,r.version).next(function(){J("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},e.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,m,y,b,E;return N(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,l.Hn(t)];case 2:return l.db=T.sent(),v=CD.open(l.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(C){return v.abort(C),$.reject(C)}).On(),y={},m.catch(function(){}),[4,v.qn];case 3:return[2,(y.value=(T.sent(),m),y)];case 4:return b=T.sent(),E=b.name!=="FirebaseError"&&a<3,J("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),v5=function(){function e(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(e.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.ts=!0},e.prototype.ss=function(t){this.es=t},e.prototype.delete=function(){return ia(this.Zn.delete())},e}(),of=function(e){function t(n,r){var i=this;return(i=e.call(this,P.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return tt(t,e),t}(G);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(e){return e.name==="IndexedDbTransactionError"}var g5=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ia(r)},e.prototype.add=function(t){return J("SimpleDb","ADD",this.store.name,t,t),ia(this.store.add(t))},e.prototype.get=function(t){var n=this;return ia(this.store.get(t)).next(function(r){return r===void 0&&(r=null),J("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return J("SimpleDb","DELETE",this.store.name,t),ia(this.store.delete(t))},e.prototype.count=function(){return J("SimpleDb","COUNT",this.store.name),ia(this.store.count())},e.prototype.rs=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.os(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.cs=function(t,n){J("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,a,c){return c.delete()})},e.prototype.hs=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.os(i,n)},e.prototype.ls=function(t){var n=this.cursor({});return new $(function(r,i){n.onerror=function(s){var a=fE(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},e.prototype.os=function(t,n){var r=[];return new $(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var c=a.target.result;if(c){var l=new v5(c),h=n(c.primaryKey,c.value,l);if(h instanceof $){var d=h.catch(function(v){return l.done(),$.reject(v)});r.push(d)}l.xn?i():l.ns===null?c.continue():c.continue(l.ns)}else i()}}).next(function(){return $.Mn(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.us?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ia(e){return new $(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=fE(r.target.error);n(i)}})}var dN=!1;function fE(e){var t=gc.Qn(Aa());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return dN||(dN=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m5=function(){function e(t,n,r,i,s){this._s=t,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new Xn,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(a){})}return e.Ts=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.Is=setTimeout(function(){return n.As()},t)},e.prototype.Rs=function(){return this.As()},e.prototype.cancel=function(t){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new G(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.As=function(){var t=this;this._s.Ps(function(){return t.Is!==null?(t.clearTimeout(),t.op().then(function(n){return t.Es.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},e}();function jc(e,t){if(Ye("AsyncQueue",t+": "+e),qa(e))return new G(P.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ND="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",RD=function(){function e(){this.ys=[]}return e.prototype.gs=function(t){this.ys.push(t)},e.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=pN(t)),t=y5(e.get(n),t);return pN(t)}function y5(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function pN(e){return e+""}function go(e){var t=e.length;if(Et(t>=2),t===2)return Et(e.charAt(0)===""&&e.charAt(1)===""),Xt.ct();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ft(),e.charAt(a+1)){case"":var c=e.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:ft()}s=a+2}return new Xt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _5=function(e,t){this.seconds=e,this.nanoseconds=t},wr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};wr.store="owner",wr.key="owner";var hs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};hs.store="mutationQueues",hs.keyPath="userId";var pe=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};pe.store="mutations",pe.keyPath="batchId",pe.userMutationsIndex="userMutationsIndex",pe.userMutationsKeyPath=["userId","batchId"];var An=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,pi(n)]},e.key=function(t,n,r){return[t,pi(n),r]},e}();An.store="documentMutations",An.PLACEHOLDER=new An;var w5=function(e,t){this.path=e,this.readTime=t},b5=function(e,t){this.path=e,this.version=t},ke=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};ke.store="remoteDocuments",ke.readTimeIndex="readTimeIndex",ke.readTimeIndexPath="readTime",ke.collectionReadTimeIndex="collectionReadTimeIndex",ke.collectionReadTimeIndexPath=["parentPath","readTime"];var Ui=function(e){this.byteSize=e};Ui.store="remoteDocumentGlobal",Ui.key="remoteDocumentGlobalKey";var cr=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};cr.store="targets",cr.keyPath="targetId",cr.queryTargetsIndexName="queryTargetsIndex",cr.queryTargetsKeyPath=["canonicalId","targetId"];var En=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};En.store="targetDocuments",En.keyPath=["targetId","path"],En.documentTargetsIndex="documentTargetsIndex",En.documentTargetsKeyPath=["path","targetId"];var Ir=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ir.key="targetGlobalKey",Ir.store="targetGlobal";var _a=function(e,t){this.collectionId=e,this.parent=t};_a.store="collectionParents",_a.keyPath=["collectionId","parent"];var _o=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};_o.store="clientMetadata",_o.keyPath="clientId";var mc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};mc.store="bundles",mc.keyPath="bundleId";var yc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};yc.store="namedQueries",yc.keyPath="name";var E5=Ve(Ve(Ve(Ve([hs.store,pe.store,An.store,ke.store,cr.store,wr.store,Ir.store,En.store],[_o.store]),[Ui.store]),[_a.store]),[mc.store,yc.store]),vN=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ps=n,i.bs=r,i}return tt(t,e),t}(RD);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e,t){var n=et(e);return gc.zn(n.ps,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hE=function(){function e(t,n,r,i){this.batchId=t,this.vs=n,this.baseMutations=r,this.mutations=i}return e.prototype.Ss=function(t,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(t)&&(n=XK(a,n,i[s]))}return n},e.prototype.Cs=function(t,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(c=i[r]).key.isEqual(t)&&(n=Jw(c,n,this.vs));for(var s=0,a=this.mutations;s<a.length;s++){var c;(c=a[s]).key.isEqual(t)&&(n=Jw(c,n,this.vs))}return n},e.prototype.xs=function(t){var n=this,r=t;return this.mutations.forEach(function(i){var s=n.Cs(i.key,t.get(i.key));s&&(r=r.zt(i.key,s))}),r},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},oe())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&cc(this.mutations,t.mutations,function(n,r){return tN(n,r)})&&cc(this.baseMutations,t.baseMutations,function(n,r){return tN(n,r)})},e}(),T5=function(){function e(t,n,r,i){this.batch=t,this.Ns=n,this.Ds=r,this.$s=i}return e.from=function(t,n,r){Et(t.mutations.length===r.length);for(var i=dD(),s=t.mutations,a=0;a<s.length;a++)i=i.zt(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),OD=function(e){this.Fs=e};function t0(e,t){if(t.document)return bD(e.Fs,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=vt.Et(t.noDocument.path),r=wc(t.noDocument.readTime);return new nn(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=vt.Et(t.unknownDocument.path);return r=wc(t.unknownDocument.version),new nE(i,r)}return ft()}function gN(e,t,n){var r=dE(n),i=t.key.path.X().it();if(t instanceof le){var s=function(v,m){return{name:Vf(v,m.key),fields:m.bt().mapValue.fields,updateTime:jf(v,m.version.j())}}(e.Fs,t),a=t.hasCommittedMutations;return new ke(null,null,s,a,r,i)}if(t instanceof nn){var c=t.key.path.it(),l=_c(t.version);return a=t.hasCommittedMutations,new ke(null,new w5(c,l),null,a,r,i)}if(t instanceof nE){var h=t.key.path.it(),d=_c(t.version);return new ke(new b5(h,d),null,null,!0,r,i)}return ft()}function dE(e){var t=e.j();return[t.seconds,t.nanoseconds]}function kD(e){var t=new lr(e[0],e[1]);return Lt.K(t)}function _c(e){var t=e.j();return new _5(t.seconds,t.nanoseconds)}function wc(e){var t=new lr(e.seconds,e.nanoseconds);return Lt.K(t)}function xu(e,t){for(var n=(t.baseMutations||[]).map(function(l){return lN(e.Fs,l)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(l){return lN(e.Fs,l)}),c=lr.fromMillis(t.localWriteTimeMs);return new hE(t.batchId,c,n,a)}function Kl(e){var t,n,r=wc(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?wc(e.lastLimboFreeSnapshotVersion):Lt.min();return e.query.documents!==void 0?(Et((n=e.query).documents.length===1),t=Gr(Uc(_D(n.documents[0])))):t=function(s){return Gr(ID(s))}(e.query),new Zv(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Qn.fromBase64String(e.resumeToken))}function xD(e,t){var n,r=_c(t.Ot),i=_c(t.lastLimboFreeSnapshotVersion);n=zp(t.target)?ED(e.Fs,t.target):TD(e.Fs,t.target);var s=t.resumeToken.toBase64();return new cr(t.targetId,dh(t.target),r,s,t.sequenceNumber,i,n)}function pE(e){var t=ID({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?tD(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I5=function(){function e(){}return e.prototype.Os=function(t,n){return mN(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:wc(i.createTime),version:i.version};var i})},e.prototype.ks=function(t,n){return mN(t).put({bundleId:(r=n).id,createTime:_c(dn(r.createTime)),version:r.version});var r},e.prototype.Ms=function(t,n){return yN(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:pE(i.bundledQuery),readTime:wc(i.readTime)};var i})},e.prototype.Ls=function(t,n){return yN(t).put(function(r){return{name:r.name,readTime:_c(dn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function mN(e){return gr(e,mc.store)}function yN(e){return gr(e,yc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S5=function(){function e(){this.Bs=new vE}return e.prototype.qs=function(t,n){return this.Bs.add(n),$.resolve()},e.prototype.Us=function(t,n){return $.resolve(this.Bs.getEntries(n))},e}(),vE=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.tt(),r=t.X(),i=this.index[n]||new rn(Xt.H),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.tt(),r=t.X(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new rn(Xt.H)).it()},e}(),A5=function(){function e(){this.Qs=new vE}return e.prototype.qs=function(t,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();t.gs(function(){r.Qs.add(n)});var a={collectionId:i,parent:pi(s)};return _N(t).put(a)}return $.resolve()},e.prototype.Us=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[YP(n),""],!1,!0);return _N(t).rs(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(go(l.parent))}return r})},e}();function _N(e){return gr(e,_a.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wN={Ks:!1,Ws:0,js:0,Gs:0},xi=function(){function e(t,n,r){this.zs=t,this.Hs=n,this.Js=r}return e.Ys=function(t){return new e(t,e.Xs,e.Zs)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(e){return R(this,void 0,void 0,function(){return N(this,function(t){if(e.code!==P.FAILED_PRECONDITION||e.message!==ND)throw e;return J("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi.Xs=10,xi.Zs=1e3,xi.ti=new xi(41943040,xi.Xs,xi.Zs),xi.ei=new xi(-1,0,0);var Vc=function(){function e(t,n){this.ni=t,this.si=n,this.ii={}}return e.prototype.get=function(t){var n=this.ni(t),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.si(c,t))return l}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.ni(t),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.ii[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.ni(t),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){fh(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];t(c,l)}})},e.prototype.et=function(){return zP(this.ii)},e}(),PD=function(){function e(){this.ri=new Vc(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.oi=!1}return e.prototype.ci=function(t){var n=this.ri.get(t);return n?n.readTime:Lt.min()},e.prototype.ai=function(t,n){this.ui(),this.ri.set(t.key,{hi:t,readTime:n})},e.prototype.li=function(t,n){n===void 0&&(n=null),this.ui(),this.ri.set(t,{hi:null,readTime:n})},e.prototype._i=function(t,n){this.ui();var r=this.ri.get(n);return r!==void 0?$.resolve(r.hi):this.fi(t,n)},e.prototype.getEntries=function(t,n){return this.di(t,n)},e.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},e.prototype.ui=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(e,t,n){var r=e.store(pe.store),i=e.store(An.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.hs({range:a},function(b,E,T){return c++,T.delete()});s.push(l.next(function(){Et(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var m=v[d],y=An.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return $.Mn(s).next(function(){return h})}function tv(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ft();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C5=function(){function e(t,n,r,i){this.userId=t,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return e.mi=function(t,n,r,i){return Et(t.uid!==""),new e(t.m()?t.uid:"",n,r,i)},e.prototype.Ai=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zo(t).hs({index:pe.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.Ri=function(t,n,r,i){var s=this,a=Pu(t),c=zo(t);return c.add({}).next(function(l){Et(typeof l=="number");for(var h=new hE(l,n,r,i),d=function(C,x,D){var F=D.baseMutations.map(function(j){return Zp(C.Fs,j)}),X=D.mutations.map(function(j){return Zp(C.Fs,j)});return new pe(x,D.batchId,D.vs.toMillis(),F,X)}(s.Qt,s.userId,h),v=[],m=new rn(function(C,x){return jt(C.rt(),x.rt())}),y=0,b=i;y<b.length;y++){var E=b[y],T=An.key(s.userId,E.key.path,l);m=m.add(E.key.path.X()),v.push(c.put(d)),v.push(a.put(T,An.PLACEHOLDER))}return m.forEach(function(C){v.push(s.Ei.qs(t,C))}),t.gs(function(){s.Ii[l]=h.keys()}),$.Mn(v).next(function(){return h})})},e.prototype.Pi=function(t,n){var r=this;return zo(t).get(n).next(function(i){return i?(Et(i.userId===r.userId),xu(r.Qt,i)):null})},e.prototype.yi=function(t,n){var r=this;return this.Ii[n]?$.resolve(this.Ii[n]):this.Pi(t,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},e.prototype.gi=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return zo(t).hs({index:pe.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(Et(l.batchId>=i),a=xu(r.Qt,l)),h.done()}).next(function(){return a})},e.prototype.Vi=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return zo(t).hs({index:pe.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.pi=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return zo(t).rs(pe.userMutationsIndex,r).next(function(i){return i.map(function(s){return xu(n.Qt,s)})})},e.prototype.bi=function(t,n){var r=this,i=An.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Pu(t).hs({range:s},function(c,l,h){var d=c[0],v=c[1],m=c[2],y=go(v);if(d===r.userId&&n.path.isEqual(y))return zo(t).get(m).next(function(b){if(!b)throw ft();Et(b.userId===r.userId),a.push(xu(r.Qt,b))});h.done()}).next(function(){return a})},e.prototype.vi=function(t,n){var r=this,i=new rn(jt),s=[];return n.forEach(function(a){var c=An.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Pu(t).hs({range:l},function(d,v,m){var y=d[0],b=d[1],E=d[2],T=go(b);y===r.userId&&a.path.isEqual(T)?i=i.add(E):m.done()});s.push(h)}),$.Mn(s).next(function(){return r.Si(t,i)})},e.prototype.Di=function(t,n){var r=this,i=n.path,s=i.length+1,a=An.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new rn(jt);return Pu(t).hs({range:c},function(h,d,v){var m=h[0],y=h[1],b=h[2],E=go(y);m===r.userId&&i.nt(E)?E.length===s&&(l=l.add(b)):v.done()}).next(function(){return r.Si(t,l)})},e.prototype.Si=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(zo(t).get(a).next(function(c){if(c===null)throw ft();Et(c.userId===r.userId),i.push(xu(r.Qt,c))}))}),$.Mn(s).next(function(){return i})},e.prototype.Ci=function(t,n){var r=this;return DD(t.ps,this.userId,n).next(function(i){return t.gs(function(){r.xi(n.batchId)}),$.forEach(i,function(s){return r.Ti.Ni(t,s)})})},e.prototype.xi=function(t){delete this.Ii[t]},e.prototype.$i=function(t){var n=this;return this.Ai(t).next(function(r){if(!r)return $.resolve();var i=IDBKeyRange.lowerBound(An.prefixForUser(n.userId)),s=[];return Pu(t).hs({range:i},function(a,c,l){if(a[0]===n.userId){var h=go(a[1]);s.push(h)}else l.done()}).next(function(){Et(s.length===0)})})},e.prototype.Fi=function(t,n){return MD(t,this.userId,n)},e.prototype.Oi=function(t){var n=this;return LD(t).get(this.userId).next(function(r){return r||new hs(n.userId,-1,"")})},e}();function MD(e,t,n){var r=An.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Pu(e).hs({range:s,us:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function zo(e){return gr(e,pe.store)}function Pu(e){return gr(e,An.store)}function LD(e){return gr(e,hs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ev=function(){function e(t){this.ki=t}return e.prototype.next=function(){return this.ki+=2,this.ki},e.Mi=function(){return new e(0)},e.Li=function(){return new e(-1)},e}(),N5=function(){function e(t,n){this.Ti=t,this.Qt=n}return e.prototype.Bi=function(t){var n=this;return this.qi(t).next(function(r){var i=new ev(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(t,r).next(function(){return r.highestTargetId})})},e.prototype.Qi=function(t){return this.qi(t).next(function(n){return Lt.K(new lr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.Ki=function(t){return this.qi(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.Wi=function(t,n,r){var i=this;return this.qi(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(t,s)})},e.prototype.ji=function(t,n){var r=this;return this.Gi(t,n).next(function(){return r.qi(t).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(t,i)})})},e.prototype.Hi=function(t,n){return this.Gi(t,n)},e.prototype.Ji=function(t,n){var r=this;return this.Yi(t,n.targetId).next(function(){return Su(t).delete(n.targetId)}).next(function(){return r.qi(t)}).next(function(i){return Et(i.targetCount>0),i.targetCount-=1,r.Ui(t,i)})},e.prototype.Xi=function(t,n,r){var i=this,s=0,a=[];return Su(t).hs(function(c,l){var h=Kl(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Ji(t,h)))}).next(function(){return $.Mn(a)}).next(function(){return s})},e.prototype.In=function(t,n){return Su(t).hs(function(r,i){var s=Kl(i);n(s)})},e.prototype.qi=function(t){return bN(t).get(Ir.key).next(function(n){return Et(n!==null),n})},e.prototype.Ui=function(t,n){return bN(t).put(Ir.key,n)},e.prototype.Gi=function(t,n){return Su(t).put(xD(this.Qt,n))},e.prototype.zi=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.Zi=function(t){return this.qi(t).next(function(n){return n.targetCount})},e.prototype.tr=function(t,n){var r=dh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Su(t).hs({range:i,index:cr.queryTargetsIndexName},function(a,c,l){var h=Kl(c);Jv(n,h.target)&&(s=h,l.done())}).next(function(){return s})},e.prototype.er=function(t,n,r){var i=this,s=[],a=rs(t);return n.forEach(function(c){var l=pi(c.path);s.push(a.put(new En(r,l))),s.push(i.Ti.nr(t,r,c))}),$.Mn(s)},e.prototype.sr=function(t,n,r){var i=this,s=rs(t);return $.forEach(n,function(a){var c=pi(a.path);return $.Mn([s.delete([r,c]),i.Ti.ir(t,r,a)])})},e.prototype.Yi=function(t,n){var r=rs(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.rr=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=rs(t),s=oe();return i.hs({range:r,us:!0},function(a,c,l){var h=go(a[1]),d=new vt(h);s=s.add(d)}).next(function(){return s})},e.prototype.Fi=function(t,n){var r=pi(n.path),i=IDBKeyRange.bound([r],[YP(r)],!1,!0),s=0;return rs(t).hs({index:En.documentTargetsIndex,us:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},e.prototype.Sn=function(t,n){return Su(t).get(n).next(function(r){return r?Kl(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(e){return gr(e,cr.store)}function bN(e){return gr(e,Ir.store)}function rs(e){return gr(e,En.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=jt(n,i);return a===0?jt(r,s):a}var R5=function(){function e(t){this.cr=t,this.buffer=new rn(EN),this.ar=0}return e.prototype.ur=function(){return++this.ar},e.prototype.hr=function(t){var n=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();EN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),O5=function(){function e(t,n){this.lr=t,this._s=n,this._r=!1,this.dr=null}return e.prototype.start=function(t){this.lr.params.zs!==-1&&this.wr(t)},e.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(e.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),e.prototype.wr=function(t){var n=this,r=this._r?3e5:6e4;J("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return qa(i=s.sent())?(J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Wa(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return s.sent(),[2]}})})})},e}(),k5=function(){function e(t,n){this.mr=t,this.params=n}return e.prototype.Ar=function(t,n){return this.mr.Rr(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.Pr=function(t,n){var r=this;if(n===0)return $.resolve(Ar.q);var i=new R5(n);return this.mr.In(t,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(t,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},e.prototype.Xi=function(t,n,r){return this.mr.Xi(t,n,r)},e.prototype.gr=function(t,n){return this.mr.gr(t,n)},e.prototype.Vr=function(t,n){var r=this;return this.params.zs===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(wN)):this.pr(t).next(function(i){return i<r.params.zs?(J("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),wN):r.br(t,n)})},e.prototype.pr=function(t){return this.mr.pr(t)},e.prototype.br=function(t,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.Ar(t,this.params.Hs).next(function(m){return m>d.params.Js?(J("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.Js+" from "+m),i=d.params.Js):i=m,a=Date.now(),d.Pr(t,i)}).next(function(m){return r=m,c=Date.now(),d.Xi(t,r,n)}).next(function(m){return s=m,l=Date.now(),d.gr(t,r)}).next(function(m){return h=Date.now(),zw()<=Dt.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+m+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),$.resolve({Ks:!0,Ws:i,js:s,Gs:m})})},e}(),x5=function(){function e(t,n){this.db=t,this.lr=function(r,i){return new k5(r,i)}(this,n)}return e.prototype.Rr=function(t){var n=this.vr(t);return this.db.Sr().Zi(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.vr=function(t){var n=0;return this.yr(t,function(r){n++}).next(function(){return n})},e.prototype.In=function(t,n){return this.db.Sr().In(t,n)},e.prototype.yr=function(t,n){return this.Dr(t,function(r,i){return n(i)})},e.prototype.nr=function(t,n,r){return Vd(t,r)},e.prototype.ir=function(t,n,r){return Vd(t,r)},e.prototype.Xi=function(t,n,r){return this.db.Sr().Xi(t,n,r)},e.prototype.Ni=function(t,n){return Vd(t,n)},e.prototype.Cr=function(t,n){return function(r,i){var s=!1;return LD(r).ls(function(a){return MD(r,a,i).next(function(c){return c&&(s=!0),$.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.gr=function(t,n){var r=this,i=this.db.$r().Nr(),s=[],a=0;return this.Dr(t,function(c,l){if(l<=n){var h=r.Cr(t,c).next(function(d){if(!d)return a++,i._i(t,c).next(function(){return i.li(c),rs(t).delete([0,pi(c.path)])})});s.push(h)}}).next(function(){return $.Mn(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.kt(t.bs);return this.db.Sr().Hi(t,r)},e.prototype.Fr=function(t,n){return Vd(t,n)},e.prototype.Dr=function(t,n){var r,i=rs(t),s=Ar.q;return i.hs({index:En.documentTargetsIndex},function(a,c){var l=a[0],h=(a[1],c.path),d=c.sequenceNumber;l===0?(s!==Ar.q&&n(new vt(go(r)),s),s=d,r=h):s=Ar.q}).next(function(){s!==Ar.q&&n(new vt(go(r)),s)})},e.prototype.pr=function(t){return this.db.$r().Or(t)},e}();function Vd(e,t){return rs(e).put(function(n,r){return new En(0,pi(n.path),r)}(t,e.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P5=function(){function e(t,n){this.Qt=t,this.Ei=n}return e.prototype.ai=function(t,n,r){return ts(t).put(Bd(n),r)},e.prototype.li=function(t,n){var r=ts(t),i=Bd(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.kr(t,i)})},e.prototype._i=function(t,n){var r=this;return ts(t).get(Bd(n)).next(function(i){return r.Mr(i)})},e.prototype.Lr=function(t,n){var r=this;return ts(t).get(Bd(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:tv(i)}:null})},e.prototype.getEntries=function(t,n){var r=this,i=Xp();return this.Br(t,n,function(s,a){var c=r.Mr(a);i=i.zt(s,c)}).next(function(){return i})},e.prototype.qr=function(t,n){var r=this,i=Xp(),s=new Un(vt.H);return this.Br(t,n,function(a,c){var l=r.Mr(c);l?(i=i.zt(a,l),s=s.zt(a,tv(c))):(i=i.zt(a,null),s=s.zt(a,0))}).next(function(){return{Ur:i,Qr:s}})},e.prototype.Br=function(t,n,r){if(n.et())return $.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),a=s.oe();return ts(t).hs({range:i},function(c,l,h){for(var d=vt.Et(c);a&&vt.H(a,d)<0;)r(a,null),a=s.oe();a&&a.isEqual(d)&&(r(a,l),a=s.ce()?s.oe():null),a?h.ss(a.path.it()):h.done()}).next(function(){for(;a;)r(a,null),a=s.ce()?s.oe():null})},e.prototype.Kr=function(t,n,r){var i=this,s=Uf(),a=n.path.length+1,c={};if(r.isEqual(Lt.min())){var l=n.path.it();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.it(),d=dE(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=ke.collectionReadTimeIndex}return ts(t).hs(c,function(v,m,y){if(v.length===a){var b=t0(i.Qt,m);n.path.nt(b.key.path)?b instanceof le&&vh(n,b)&&(s=s.zt(b.key,b)):y.done()}}).next(function(){return s})},e.prototype.Nr=function(t){return new D5(this,!!t&&t.Wr)},e.prototype.Or=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return TN(t).get(Ui.key).next(function(n){return Et(!!n),n})},e.prototype.kr=function(t,n){return TN(t).put(Ui.key,n)},e.prototype.Mr=function(t){if(t){var n=t0(this.Qt,t);return n instanceof nn&&n.version.isEqual(Lt.min())?null:n}return null},e}(),D5=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jr=n,i.Wr=r,i.Gr=new Vc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return tt(t,e),t.prototype.wi=function(n){var r=this,i=[],s=0,a=new rn(function(c,l){return jt(c.rt(),l.rt())});return this.ri.forEach(function(c,l){var h=r.Gr.get(c);if(l.hi){var d=gN(r.jr.Qt,l.hi,r.ci(c));a=a.add(c.path.X());var v=tv(d);s+=v-h,i.push(r.jr.ai(n,c,d))}else if(s-=h,r.Wr){var m=gN(r.jr.Qt,new nn(c,Lt.min()),r.ci(c));i.push(r.jr.ai(n,c,m))}else i.push(r.jr.li(n,c))}),a.forEach(function(c){i.push(r.jr.Ei.qs(n,c))}),i.push(this.jr.updateMetadata(n,s)),$.Mn(i)},t.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},t.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var a=s.Ur;return s.Qr.forEach(function(c,l){i.Gr.set(c,l)}),a})},t}(PD);function TN(e){return gr(e,Ui.store)}function ts(e){return gr(e,ke.store)}function Bd(e){return e.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M5=function(){function e(t){this.Qt=t}return e.prototype.Jn=function(t,n,r,i){var s=this;Et(r<i&&r>=0&&i<=11);var a=new CD("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(wr.store)}(t),function(l){l.createObjectStore(hs.store,{keyPath:hs.keyPath}),l.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0}),l.createObjectStore(An.store)}(t),IN(t),function(l){l.createObjectStore(ke.store)}(t));var c=$.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(En.store),l.deleteObjectStore(cr.store),l.deleteObjectStore(Ir.store)}(t),IN(t)),c=c.next(function(){return function(l){var h=l.store(Ir.store),d=new Ir(0,0,Lt.min().j(),0);return h.put(Ir.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(pe.store).rs().next(function(d){l.deleteObjectStore(pe.store),l.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0});var v=h.store(pe.store),m=d.map(function(y){return v.put(y)});return $.Mn(m)})}(t,a)})),c=c.next(function(){(function(l){l.createObjectStore(_o.store,{keyPath:_o.keyPath})})(t)})),r<5&&i>=5&&(c=c.next(function(){return s.zr(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(Ui.store)}(t),s.Hr(a)})),r<7&&i>=7&&(c=c.next(function(){return s.Jr(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Yr(t,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t),function(l){var h=l.objectStore(ke.store);h.createIndex(ke.readTimeIndex,ke.readTimeIndexPath,{unique:!1}),h.createIndex(ke.collectionReadTimeIndex,ke.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Xr(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(mc.store,{keyPath:mc.keyPath})})(t),function(l){l.createObjectStore(yc.store,{keyPath:yc.keyPath})}(t)})),c},e.prototype.Hr=function(t){var n=0;return t.store(ke.store).hs(function(r,i){n+=tv(i)}).next(function(){var r=new Ui(n);return t.store(Ui.store).put(Ui.key,r)})},e.prototype.zr=function(t){var n=this,r=t.store(hs.store),i=t.store(pe.store);return r.rs().next(function(s){return $.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.rs(pe.userMutationsIndex,c).next(function(l){return $.forEach(l,function(h){Et(h.userId===a.userId);var d=xu(n.Qt,h);return DD(t,a.userId,d).next(function(){})})})})})},e.prototype.Jr=function(t){var n=t.store(En.store),r=t.store(ke.store);return t.store(Ir.store).get(Ir.key).next(function(i){var s=[];return r.hs(function(a,c){var l=new Xt(a),h=function(d){return[0,pi(d)]}(l);s.push(n.get(h).next(function(d){return d?$.resolve():function(v){return n.put(new En(0,pi(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return $.Mn(s)})})},e.prototype.Yr=function(t,n){t.createObjectStore(_a.store,{keyPath:_a.keyPath});var r=n.store(_a.store),i=new vE,s=function(a){if(i.add(a)){var c=a.tt(),l=a.X();return r.put({collectionId:c,parent:pi(l)})}};return n.store(ke.store).hs({us:!0},function(a,c){var l=new Xt(a);return s(l.X())}).next(function(){return n.store(An.store).hs({us:!0},function(a,c){a[0];var l=a[1],h=(a[2],go(l));return s(h.X())})})},e.prototype.Xr=function(t){var n=this,r=t.store(cr.store);return r.hs(function(i,s){var a=Kl(s),c=xD(n.Qt,a);return r.put(c)})},e}();function IN(e){e.createObjectStore(En.store,{keyPath:En.keyPath}).createIndex(En.documentTargetsIndex,En.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(cr.store,{keyPath:cr.keyPath}).createIndex(cr.queryTargetsIndexName,cr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ir.store)}var P_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",L5=function(){function e(t,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=a,this.document=c,this.eo=h,this.no=d,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(v){return Promise.resolve()},!e.Kn())throw new G(P.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new x5(this,i),this.ho=n+"main",this.Qt=new OD(l),this.lo=new gc(this.ho,11,new M5(this.Qt)),this._o=new N5(this.Ti,this.Qt),this.Ei=new A5,this.fo=function(v,m){return new P5(v,m)}(this.Qt,this.Ei),this.wo=new I5,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,d===!1&&Ye("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new G(P.FAILED_PRECONDITION,P_);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t._o.Ki(n)})}).then(function(n){t.so=new Ar(n,t.eo)}).then(function(){t.io=!0}).catch(function(n){return t.lo&&t.lo.close(),Promise.reject(n)})},e.prototype.Ro=function(t){var n=this;return this.uo=function(r){return R(n,void 0,void 0,function(){return N(this,function(i){return this.Er?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.Po=function(t){var n=this;this.lo.Xn(function(r){return R(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.yo=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return R(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return qd(n).put(new _o(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(n).next(function(r){r||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(n)}).next(function(r){return t.isPrimary&&!r?t.vo(n).next(function(){return!1}):!!r&&t.So(n).next(function(){return!0})})}).catch(function(n){if(qa(n))return J("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Zr.po(function(){return t.uo(n)}),t.isPrimary=n})},e.prototype.Vo=function(t){var n=this;return Bl(t).get(wr.key).next(function(r){return $.resolve(n.Do(r))})},e.prototype.Co=function(t){return qd(t).delete(this.clientId)},e.prototype.xo=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=gr(c,_o.store);return l.rs().next(function(h){var d=s.$o(h,18e5),v=h.filter(function(m){return d.indexOf(m)===-1});return $.forEach(v,function(m){return l.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Eo)for(n=0,r=t;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},e.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.bo=function(t){var n=this;return this.no?$.resolve(!0):Bl(t).get(wr.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new G(P.FAILED_PRECONDITION,P_);return!1}}return!(!n.networkEnabled||!n.inForeground)||qd(t).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&J("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.ko=function(){return R(this,void 0,void 0,function(){var t=this;return N(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[wr.store,_o.store],function(r){var i=new vN(r,Ar.q);return t.vo(i).next(function(){return t.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},e.prototype.$o=function(t,n){var r=this;return t.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},e.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return qd(n).rs().next(function(r){return t.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Qo=function(t){return C5.mi(t,this.Qt,this.Ei,this.Ti)},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Ko=function(){return this.Ei},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;J("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(t,a,E5,function(c){return s=new vN(c,i.so?i.so.next():Ar.q),n==="readwrite-primary"?i.Vo(s).next(function(l){return!!l||i.bo(s)}).next(function(l){if(!l)throw Ye("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new G(P.FAILED_PRECONDITION,ND);return r(s)}).next(function(l){return i.So(s).next(function(){return l})}):i.jo(s).next(function(){return r(s)})}).then(function(c){return s.Vs(),c})},e.prototype.jo=function(t){var n=this;return Bl(t).get(wr.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new G(P.FAILED_PRECONDITION,P_)})},e.prototype.So=function(t){var n=new wr(this.clientId,this.allowTabSynchronization,Date.now());return Bl(t).put(wr.key,n)},e.Kn=function(){return gc.Kn()},e.prototype.vo=function(t){var n=this,r=Bl(t);return r.get(wr.key).next(function(i){return n.Do(i)?(J("IndexedDbPersistence","Releasing primary lease."),r.delete(wr.key)):$.resolve()})},e.prototype.No=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Ye("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.Io=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground=t.document.visibilityState==="visible",t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},e.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},e.prototype.mo=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},e.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},e.prototype.Oo=function(t){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(t)))!==null;return J("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Ye("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Ye("Failed to set zombie client id.",t)}},e.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},e.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Bl(e){return gr(e,wr.store)}function qd(e){return gr(e,_o.store)}function gE(e,t){var n=e.projectId;return e.o||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var F5=function(e,t){this.progress=e,this.Go=t},FD=function(){function e(t,n,r){this.fo=t,this.zo=n,this.Ei=r}return e.prototype.Ho=function(t,n){var r=this;return this.zo.bi(t,n).next(function(i){return r.Jo(t,n,i)})},e.prototype.Jo=function(t,n,r){return this.fo._i(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].Cs(n,i);return i})},e.prototype.Yo=function(t,n,r){var i=Xp();return n.forEach(function(s,a){for(var c=0,l=r;c<l.length;c++)a=l[c].Cs(s,a);i=i.zt(s,a)}),i},e.prototype.Xo=function(t,n){var r=this;return this.fo.getEntries(t,n).next(function(i){return r.Zo(t,i)})},e.prototype.Zo=function(t,n){var r=this;return this.zo.vi(t,n).next(function(i){var s=r.Yo(t,n,i),a=Ao();return s.forEach(function(c,l){l||(l=new nn(c,Lt.min())),a=a.zt(c,l)}),a})},e.prototype.Kr=function(t,n,r){return function(i){return vt.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(t,n.path):oE(n)?this.ec(t,n,r):this.nc(t,n,r)},e.prototype.tc=function(t,n){return this.Ho(t,new vt(n)).next(function(r){var i=Uf();return r instanceof le&&(i=i.zt(r.key,r)),i})},e.prototype.ec=function(t,n,r){var i=this,s=n.collectionGroup,a=Uf();return this.Ei.Us(t,s).next(function(c){return $.forEach(c,function(l){var h=function(d,v){return new Po(v,null,d.xt.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.nc(t,h,r).next(function(d){d.forEach(function(v,m){a=a.zt(v,m)})})}).next(function(){return a})})},e.prototype.nc=function(t,n,r){var i,s,a=this;return this.fo.Kr(t,n,r).next(function(c){return i=c,a.zo.Di(t,n)}).next(function(c){return s=c,a.sc(t,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],m=0,y=v.mutations;m<y.length;m++){var b=y[m],E=b.key,T=Jw(b,i.get(E),v.vs);i=T instanceof le?i.zt(E,T):i.remove(E)}})}).next(function(){return i.forEach(function(c,l){vh(n,l)||(i=i.remove(c))}),i})},e.prototype.sc=function(t,n,r){for(var i=oe(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof As&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.fo.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y!==null&&y instanceof le&&(d=d.zt(m,y))}),d})},e}(),U5=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.ic=r,this.rc=i}return e.oc=function(t,n){for(var r=oe(),i=oe(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),UD=function(){function e(){}return e.prototype.cc=function(t){this.ac=t},e.prototype.Kr=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.xt.length===0||a.xt.length===1&&a.xt[0].field.ut())}(n)||r.isEqual(Lt.min())?this.uc(t,n):this.ac.Xo(t,i).next(function(a){var c=s.hc(n,a);return(sp(n)||Qp(n))&&s.lc(n.limitType,c,i,r)?s.uc(t,n):(zw()<=Dt.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xw(n)),s.ac.Kr(t,n,r).next(function(l){return c.forEach(function(h){l=l.zt(h.key,h)}),l}))})},e.prototype.hc=function(t,n){var r=new rn(nD(t));return n.forEach(function(i,s){s instanceof le&&vh(t,s)&&(r=r.add(s))}),r},e.prototype.lc=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},e.prototype.uc=function(t,n){return zw()<=Dt.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Xw(n)),this.ac.Kr(t,n,Lt.min())},e}(),j5=function(){function e(t,n,r,i){this.persistence=t,this._c=n,this.Qt=i,this.fc=new Un(jt),this.dc=new Vc(function(s){return dh(s)},Jv),this.wc=Lt.min(),this.zo=t.Qo(r),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new FD(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return e.prototype.Ir=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.Vr(r,n.fc)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(e,t,n,r){return new j5(e,t,n,r)}function VD(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=et(e),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n.zo.pi(c).next(function(h){return l=h,r=n.persistence.Qo(t),i=new FD(n.Ec,r,n.persistence.Ko()),r.pi(c)}).next(function(h){for(var d=[],v=[],m=oe(),y=0,b=l;y<b.length;y++){var E=b[y];d.push(E.batchId);for(var T=0,C=E.mutations;T<C.length;T++){var x=C[T];m=m.add(x.key)}}for(var D=0,F=h;D<F.length;D++){var X=F[D];v.push(X.batchId);for(var j=0,Tt=X.mutations;j<Tt.length;j++){var ee=Tt[j];m=m.add(ee.key)}}return i.Xo(c,m).next(function(dt){return{Ic:dt,mc:d,Ac:v}})})})];case 1:return s=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function V5(e,t){var n=et(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),m=$.resolve();return v.forEach(function(y){m=m.next(function(){return h._i(c,y)}).next(function(b){var E=b,T=l.$s.get(y);Et(T!==null),(!E||E.version._(T)<0)&&(E=d.Ss(y,E,l))&&h.ai(E,l.Ns)})}),m.next(function(){return a.zo.Ci(c,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function BD(e){var t=et(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t._o.Qi(n)})}function B5(e,t){var n=et(e),r=t.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Ec.Nr({Wr:!0});i=n.fc;var c=[];t.$e.forEach(function(d,v){var m=i.get(v);if(m){c.push(n._o.sr(s,d.Qe,v).next(function(){return n._o.er(s,d.qe,v)}));var y=d.resumeToken;if(y.l()>0){var b=m.Mt(y,r).kt(s.bs);i=i.zt(v,b),function(E,T,C){return Et(T.resumeToken.l()>0),E.resumeToken.l()===0||T.Ot.W()-E.Ot.W()>=3e8||C.qe.size+C.Ue.size+C.Qe.size>0}(m,b,d)&&c.push(n._o.Hi(s,b))}}});var l=Ao();if(t.Oe.forEach(function(d,v){t.ke.has(d)&&c.push(n.persistence.Ti.Fr(s,d))}),c.push(qD(s,a,t.Oe,r,void 0).next(function(d){l=d})),!r.isEqual(Lt.min())){var h=n._o.Qi(s).next(function(d){return n._o.Wi(s,s.bs,r)});c.push(h)}return $.Mn(c).next(function(){return a.apply(s)}).next(function(){return n.Tc.Zo(s,l)})}).then(function(s){return n.fc=i,s})}function qD(e,t,n,r,i){var s=oe();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var c=Ao();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h instanceof nn&&h.version.isEqual(Lt.min())?(t.li(l,v),c=c.zt(l,h)):d==null||h.version._(d.version)>0||h.version._(d.version)===0&&d.hasPendingWrites?(t.ai(h,v),c=c.zt(l,h)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function q5(e,t){var n=et(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n.zo.gi(r,t)})}function bc(e,t){var n=et(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,t).next(function(s){return s?(i=s,$.resolve(i)):n._o.Bi(r).next(function(a){return i=new Zv(t,a,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(t,r.targetId)),r})}function Ec(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=et(e),i=r.fc.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.Ti.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!qa(a=c.sent()))throw a;return J("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.fc=r.fc.remove(t),r.dc.delete(i.target),[2]}})})}function nv(e,t,n){var r=et(e),i=Lt.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=et(c),v=d.dc.get(h);return v!==void 0?$.resolve(d.fc.get(v)):d._o.tr(l,h)}(r,a,Gr(t)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r._o.rr(a,c.targetId).next(function(l){s=l})}).next(function(){return r._c.Kr(a,t,n?i:Lt.min(),n?s:oe())}).next(function(c){return{documents:c,Rc:s}})})}function WD(e,t){var n=et(e),r=et(n._o),i=n.fc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,t).next(function(a){return a?a.target:null})})}function HD(e){var t=et(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=et(r),c=Ao(),l=dE(s),h=ts(i),d=IDBKeyRange.lowerBound(l,!0);return h.hs({index:ke.readTimeIndex,range:d},function(v,m){var y=t0(a.Qt,m);c=c.zt(y.key,y),l=m.readTime}).next(function(){return{Go:c,readTime:kD(l)}})}(t.Ec,n,t.wc)}).then(function(n){var r=n.Go,i=n.readTime;return t.wc=i,r})}function W5(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,(t=et(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=ts(i),a=Lt.min();return s.hs({index:ke.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=kD(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.wc=r})]})})}function H5(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y;return N(this,function(b){switch(b.label){case 0:for(i=et(e),s=oe(),a=Ao(),c=dD(),l=0,h=n;l<h.length;l++)d=h[l],v=t.Pc(d.metadata.name),d.document&&(s=s.add(v)),a=a.zt(v,t.yc(d)),c=c.zt(v,t.gc(d.metadata.readTime));return m=i.Ec.Nr({Wr:!0}),[4,bc(i,function(E){return Gr(Uc(Xt.ot("__bundle__/docs/"+E)))}(r))];case 1:return y=b.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return qD(E,m,a,Lt.min(),c).next(function(T){return m.apply(E),T}).next(function(T){return i._o.Yi(E,y.targetId).next(function(){return i._o.er(E,s,y.targetId)}).next(function(){return i.Tc.Zo(E,T)})})})]}})})}function G5(e,t,n){return n===void 0&&(n=oe()),R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,bc(e,Gr(pE(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=et(e)).persistence.runTransaction("Save named query","readwrite",function(a){var c=dn(t.readTime);if(r.Ot._(c)>=0)return i.wo.Ls(a,t);var l=r.Mt(Qn.T,c);return i.fc=i.fc.zt(l.targetId,l),i._o.Hi(a,l).next(function(){return i._o.Yi(a,r.targetId)}).next(function(){return i._o.er(a,n,r.targetId)}).next(function(){return i.wo.Ls(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y5=function(){function e(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return e.prototype.Os=function(t,n){return $.resolve(this.Vc.get(n))},e.prototype.ks=function(t,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:dn(r.createTime)}),$.resolve()},e.prototype.Ms=function(t,n){return $.resolve(this.bc.get(n))},e.prototype.Ls=function(t,n){return this.bc.set(n.name,function(r){return{name:r.name,query:pE(r.bundledQuery),readTime:dn(r.readTime)}}(n)),$.resolve()},e}(),mE=function(){function e(){this.vc=new rn(ln.Sc),this.Dc=new rn(ln.Cc)}return e.prototype.et=function(){return this.vc.et()},e.prototype.nr=function(t,n){var r=new ln(t,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},e.prototype.xc=function(t,n){var r=this;t.forEach(function(i){return r.nr(i,n)})},e.prototype.ir=function(t,n){this.Nc(new ln(t,n))},e.prototype.$c=function(t,n){var r=this;t.forEach(function(i){return r.ir(i,n)})},e.prototype.Fc=function(t){var n=this,r=new vt(new Xt([])),i=new ln(r,t),s=new ln(r,t+1),a=[];return this.Dc.me([i,s],function(c){n.Nc(c),a.push(c.key)}),a},e.prototype.Oc=function(){var t=this;this.vc.forEach(function(n){return t.Nc(n)})},e.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},e.prototype.kc=function(t){var n=new vt(new Xt([])),r=new ln(n,t),i=new ln(n,t+1),s=oe();return this.Dc.me([r,i],function(a){s=s.add(a.key)}),s},e.prototype.Fi=function(t){var n=new ln(t,0),r=this.vc.Re(n);return r!==null&&t.isEqual(r.key)},e}(),ln=function(){function e(t,n){this.key=t,this.Mc=n}return e.Sc=function(t,n){return vt.H(t.key,n.key)||jt(t.Mc,n.Mc)},e.Cc=function(t,n){return jt(t.Mc,n.Mc)||vt.H(t.key,n.key)},e}(),$5=function(){function e(t,n){this.Ei=t,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new rn(ln.Sc)}return e.prototype.Ai=function(t){return $.resolve(this.zo.length===0)},e.prototype.Ri=function(t,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var a=new hE(s,n,r,i);this.zo.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.Bc=this.Bc.add(new ln(h.key,s)),this.Ei.qs(t,h.key.path.X())}return $.resolve(a)},e.prototype.Pi=function(t,n){return $.resolve(this.qc(n))},e.prototype.gi=function(t,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return $.resolve(this.zo.length>s?this.zo[s]:null)},e.prototype.Vi=function(){return $.resolve(this.zo.length===0?-1:this.Lc-1)},e.prototype.pi=function(t){return $.resolve(this.zo.slice())},e.prototype.bi=function(t,n){var r=this,i=new ln(n,0),s=new ln(n,Number.POSITIVE_INFINITY),a=[];return this.Bc.me([i,s],function(c){var l=r.qc(c.Mc);a.push(l)}),$.resolve(a)},e.prototype.vi=function(t,n){var r=this,i=new rn(jt);return n.forEach(function(s){var a=new ln(s,0),c=new ln(s,Number.POSITIVE_INFINITY);r.Bc.me([a,c],function(l){i=i.add(l.Mc)})}),$.resolve(this.Qc(i))},e.prototype.Di=function(t,n){var r=n.path,i=r.length+1,s=r;vt.wt(s)||(s=s.child(""));var a=new ln(new vt(s),0),c=new rn(jt);return this.Bc.Ae(function(l){var h=l.key.path;return!!r.nt(h)&&(h.length===i&&(c=c.add(l.Mc)),!0)},a),$.resolve(this.Qc(c))},e.prototype.Qc=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},e.prototype.Ci=function(t,n){var r=this;Et(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return $.forEach(n.mutations,function(s){var a=new ln(s.key,n.batchId);return i=i.delete(a),r.Ti.Ni(t,s.key)}).next(function(){r.Bc=i})},e.prototype.xi=function(t){},e.prototype.Fi=function(t,n){var r=new ln(n,0),i=this.Bc.Re(r);return $.resolve(n.isEqual(i&&i.key))},e.prototype.$i=function(t){return this.zo.length,$.resolve()},e.prototype.Kc=function(t,n){return this.Uc(t)},e.prototype.Uc=function(t){return this.zo.length===0?0:t-this.zo[0].batchId},e.prototype.qc=function(t){var n=this.Uc(t);return n<0||n>=this.zo.length?null:this.zo[n]},e}(),z5=function(){function e(t,n){this.Ei=t,this.Wc=n,this.docs=new Un(vt.H),this.size=0}return e.prototype.ai=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:c,readTime:r}),this.size+=c-a,this.Ei.qs(t,i.path.X())},e.prototype.li=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype._i=function(t,n){var r=this.docs.get(n);return $.resolve(r?r.hi:null)},e.prototype.getEntries=function(t,n){var r=this,i=Xp();return n.forEach(function(s){var a=r.docs.get(s);i=i.zt(s,a?a.hi:null)}),$.resolve(i)},e.prototype.Kr=function(t,n,r){for(var i=Uf(),s=new vt(n.path.child("")),a=this.docs.ee(s);a.ce();){var c=a.oe(),l=c.key,h=c.value,d=h.hi,v=h.readTime;if(!n.path.nt(l.path))break;v._(r)<=0||d instanceof le&&vh(n,d)&&(i=i.zt(d.key,d))}return $.resolve(i)},e.prototype.jc=function(t,n){return $.forEach(this.docs,function(r){return n(r)})},e.prototype.Nr=function(t){return new K5(this)},e.prototype.Or=function(t){return $.resolve(this.size)},e}(),K5=function(e){function t(n){var r=this;return(r=e.call(this)||this).jr=n,r}return tt(t,e),t.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,a){a&&a.hi?i.push(r.jr.ai(n,a.hi,r.ci(s))):r.jr.li(s)}),$.Mn(i)},t.prototype.fi=function(n,r){return this.jr._i(n,r)},t.prototype.di=function(n,r){return this.jr.getEntries(n,r)},t}(PD),Q5=function(){function e(t){this.persistence=t,this.Gc=new Vc(function(n){return dh(n)},Jv),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.zc=0,this.Hc=new mE,this.targetCount=0,this.Jc=ev.Mi()}return e.prototype.In=function(t,n){return this.Gc.forEach(function(r,i){return n(i)}),$.resolve()},e.prototype.Qi=function(t){return $.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Ki=function(t){return $.resolve(this.zc)},e.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),$.resolve(this.highestTargetId)},e.prototype.Wi=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),$.resolve()},e.prototype.Gi=function(t){this.Gc.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.Jc=new ev(n),this.highestTargetId=n),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},e.prototype.ji=function(t,n){return this.Gi(n),this.targetCount+=1,$.resolve()},e.prototype.Hi=function(t,n){return this.Gi(n),$.resolve()},e.prototype.Ji=function(t,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,$.resolve()},e.prototype.Xi=function(t,n,r){var i=this,s=0,a=[];return this.Gc.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.Gc.delete(c),a.push(i.Yi(t,l.targetId)),s++)}),$.Mn(a).next(function(){return s})},e.prototype.Zi=function(t){return $.resolve(this.targetCount)},e.prototype.tr=function(t,n){var r=this.Gc.get(n)||null;return $.resolve(r)},e.prototype.er=function(t,n,r){return this.Hc.xc(n,r),$.resolve()},e.prototype.sr=function(t,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(a){s.push(i.Ni(t,a))}),$.Mn(s)},e.prototype.Yi=function(t,n){return this.Hc.Fc(n),$.resolve()},e.prototype.rr=function(t,n){var r=this.Hc.kc(n);return $.resolve(r)},e.prototype.Fi=function(t,n){return $.resolve(this.Hc.Fi(n))},e}(),X5=function(){function e(t,n){var r=this;this.Yc={},this.so=new Ar(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new Q5(this),this.Ei=new S5,this.fo=function(i,s){return new z5(i,function(a){return r.Ti.Xc(a)})}(this.Ei),this.Qt=new OD(n),this.wo=new Y5(this.Qt)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Po=function(){},e.prototype.yo=function(){},e.prototype.Ko=function(){return this.Ei},e.prototype.Qo=function(t){var n=this.Yc[t.A()];return n||(n=new $5(this.Ei,this.Ti),this.Yc[t.A()]=n),n},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;J("MemoryPersistence","Starting transaction:",t);var s=new J5(this.so.next());return this.Ti.Zc(),r(s).next(function(a){return i.Ti.ta(s).next(function(){return a})}).On().then(function(a){return s.Vs(),a})},e.prototype.ea=function(t,n){return $.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(t,n)}}))},e}(),J5=function(e){function t(n){var r=this;return(r=e.call(this)||this).bs=n,r}return tt(t,e),t}(RD),Z5=function(){function e(t){this.persistence=t,this.na=new mE,this.sa=null}return e.ia=function(t){return new e(t)},Object.defineProperty(e.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw ft()},enumerable:!1,configurable:!0}),e.prototype.nr=function(t,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),$.resolve()},e.prototype.ir=function(t,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),$.resolve()},e.prototype.Ni=function(t,n){return this.ra.add(n.toString()),$.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(t,n.targetId).next(function(s){s.forEach(function(a){return r.ra.add(a.toString())})}).next(function(){return i.Ji(t,n)})},e.prototype.Zc=function(){this.sa=new Set},e.prototype.ta=function(t){var n=this,r=this.persistence.$r().Nr();return $.forEach(this.ra,function(i){var s=vt._t(i);return n.oa(t,s).next(function(a){a||r.li(s)})}).next(function(){return n.sa=null,r.apply(t)})},e.prototype.Fr=function(t,n){var r=this;return this.oa(t,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},e.prototype.Xc=function(t){return 0},e.prototype.oa=function(t,n){var r=this;return $.Ln([function(){return $.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(t,n)},function(){return r.persistence.ea(t,n)}])},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(e,t){return"firestore_clients_"+e+"_"+t}function AN(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.m()&&(r+="_"+t.uid),r}function D_(e,t){return"firestore_targets_"+e+"_"+t}var CN=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.ca=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new G(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(Ye("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),M_=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.ca=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new G(i.error.code,i.error.message)),s?new e(t,i.state,r):(Ye("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),NN=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.ca=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=ng(),a=0;i&&a<r.activeTargetIds.length;++a)i=QP(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(Ye("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),tQ=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.ca=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Ye("SharedClientState","Failed to parse online state: "+t),null)},e}(),e0=function(){function e(){this.activeTargetIds=ng()}return e.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),L_=function(){function e(t,n,r,i,s){this.window=t,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Un(jt),this.Er=!1,this.Ta=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=SN(this.persistenceKey,this.la),this.ma=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new e0),this.Aa=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ya=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.ga=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return e.Kn=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,c,l,h,d,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this._a.Uo()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(SN(this.persistenceKey,i)))&&(a=NN.ca(i,s))&&(this.Ea=this.Ea.zt(a.clientId,a));for(this.Va(),(c=this.storage.getItem(this.ya))&&(l=this.pa(c))&&this.ba(l),h=0,d=this.Ta;h<d.length;h++)v=d[h],this.wa(v);return this.Ta=[],this.window.addEventListener("unload",function(){return m.ko()}),this.Er=!0,[2]}})})},e.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},e.prototype.va=function(){return this.Sa(this.Ea)},e.prototype.Da=function(t){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.Ca=function(t){this.xa(t,"pending")},e.prototype.Na=function(t,n,r){this.xa(t,n,r),this.$a(t)},e.prototype.Fa=function(t){var n="not-current";if(this.Da(t)){var r=this.storage.getItem(D_(this.persistenceKey,t));if(r){var i=M_.ca(t,r);i&&(n=i.state)}}return this.Oa.ua(t),this.Va(),n},e.prototype.ka=function(t){this.Oa.ha(t),this.Va()},e.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},e.prototype.La=function(t){this.removeItem(D_(this.persistenceKey,t))},e.prototype.Ba=function(t,n,r){this.qa(t,n,r)},e.prototype.Ua=function(t,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=t,r.forEach(function(s){i.Ca(s)})},e.prototype.Qa=function(t){this.Ka(t)},e.prototype.Wa=function(){this.ja()},e.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return J("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){J("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){J("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.wa=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(J("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void Ye("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return R(n,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(d){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(a=this.Ja(r.key,r.newValue)))return[2,this.Ya(a)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(c=this.Xa(r.key,r.newValue)))return[2,this.Za(c)]}else if(r.key===this.ya){if(r.newValue!==null&&(l=this.pa(r.newValue)))return[2,this.ba(l)]}else if(r.key===this.ma)(h=function(v){var m=Ar.q;if(v!=null)try{var y=JSON.parse(v);Et(typeof y=="number"),m=y}catch(b){Ye("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(r.newValue))!==Ar.q&&this.k(h);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),e.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},e.prototype.xa=function(t,n,r){var i=new CN(this.currentUser,t,n,r),s=AN(this.persistenceKey,this.currentUser,t);this.setItem(s,i.aa())},e.prototype.$a=function(t){var n=AN(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Ka=function(t){var n={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(n))},e.prototype.qa=function(t,n,r){var i=D_(this.persistenceKey,t),s=new M_(t,n,r);this.setItem(i,s.aa())},e.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},e.prototype.Ga=function(t){var n=this.Aa.exec(t);return n?n[1]:null},e.prototype.Ha=function(t,n){var r=this.Ga(t);return NN.ca(r,n)},e.prototype.Ja=function(t,n){var r=this.Ra.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return CN.ca(new Tr(s),i,n)},e.prototype.Xa=function(t,n){var r=this.Pa.exec(t),i=Number(r[1]);return M_.ca(i,n)},e.prototype.pa=function(t){return tQ.ca(t)},e.prototype.Ya=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(J("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},e.prototype.za=function(t,n){var r=this,i=n?this.Ea.zt(t,n):this.Ea.remove(t),s=this.Sa(this.Ea),a=this.Sa(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this._a.su(c,l).then(function(){r.Ea=i})},e.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},e.prototype.Sa=function(t){var n=ng();return t.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},e}(),GD=function(){function e(){this.iu=new e0,this.ru={},this.fa=null,this.k=null}return e.prototype.Ca=function(t){},e.prototype.Na=function(t,n,r){},e.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},e.prototype.Ba=function(t,n,r){this.ru[t]=n},e.prototype.ka=function(t){this.iu.ha(t)},e.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.La=function(t){delete this.ru[t]},e.prototype.va=function(){return this.iu.activeTargetIds},e.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.start=function(){return this.iu=new e0,Promise.resolve()},e.prototype.Ua=function(t,n,r){},e.prototype.Qa=function(t){},e.prototype.ko=function(){},e.prototype.B=function(t){},e.prototype.Wa=function(){},e}(),eQ=function(){function e(){}return e.prototype.ou=function(t){},e.prototype.ko=function(){},e}(),RN=function(){function e(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return e.prototype.ou=function(t){this.lu.push(t)},e.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},e.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},e.prototype.au=function(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(0)},e.prototype.hu=function(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(1)},e.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),nQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},rQ=function(){function e(t){this.fu=t.fu,this.du=t.du}return e.prototype.wu=function(t){this.Eu=t},e.prototype.Tu=function(t){this.Iu=t},e.prototype.onMessage=function(t){this.mu=t},e.prototype.close=function(){this.du()},e.prototype.send=function(t){this.fu(t)},e.prototype.Au=function(){this.Eu()},e.prototype.Ru=function(t){this.Iu(t)},e.prototype.Pu=function(t){this.mu(t)},e}(),iQ=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return tt(t,e),t.prototype.Su=function(n,r,i,s){return new Promise(function(a,c){var l=new RK;l.listenOnce(CK.COMPLETE,function(){try{switch(l.getLastErrorCode()){case x_.NO_ERROR:var d=l.getResponseJson();J("Connection","XHR received:",JSON.stringify(d)),a(d);break;case x_.TIMEOUT:J("Connection",'RPC "'+n+'" timed out'),c(new G(P.DEADLINE_EXCEEDED,"Request time out"));break;case x_.HTTP_ERROR:var v=l.getStatus();if(J("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var m=l.getResponseJson().error;if(m&&m.status&&m.message){var y=function(b){var E=b.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(E)>=0?E:P.UNKNOWN}(m.status);c(new G(y,m.message))}else c(new G(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new G(P.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{J("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},t.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=SK(),a=AK(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(c.initMessageHeaders,r),ub()||Hk()||CY()||NY()||RY()||cb()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");J("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,m=new rQ({fu:function(b){v?J("Connection","Not sending because WebChannel is closed:",b):(d||(J("Connection","Opening WebChannel transport."),h.open(),d=!0),J("Connection","WebChannel sending:",b),h.send(b))},du:function(){return h.close()}}),y=function(b,E,T){b.listen(E,function(C){try{T(C)}catch(x){setTimeout(function(){throw x},0)}})};return y(h,Ud.EventType.OPEN,function(){v||J("Connection","WebChannel transport opened.")}),y(h,Ud.EventType.CLOSE,function(){v||(v=!0,J("Connection","WebChannel transport closed"),m.Ru())}),y(h,Ud.EventType.ERROR,function(b){v||(v=!0,Gp("Connection","WebChannel transport errored:",b),m.Ru(new G(P.UNAVAILABLE,"The operation could not be completed")))}),y(h,Ud.EventType.MESSAGE,function(b){var E;if(!v){var T=b.data[0];Et(!!T);var C=T,x=C.error||((E=C[0])===null||E===void 0?void 0:E.error);if(x){J("Connection","WebChannel received error:",x);var D=x.status,F=function(j){var Tt=He[j];if(Tt!==void 0)return hD(Tt)}(D),X=x.message;F===void 0&&(F=P.INTERNAL,X="Unknown error status: "+D+" with message "+x.message),v=!0,m.Ru(new G(F,X)),h.close()}else J("Connection","WebChannel received:",T),m.Pu(T)}}),y(a,NK.STAT_EVENT,function(b){b.stat===HC.PROXY?J("Connection","Detected buffering proxy"):b.stat===HC.NOPROXY&&J("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Au()},0),m},t}(function(){function e(t){this.yu=t,this.t=t.t;var n=t.ssl?"https":"http";this.gu=n+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return e.prototype.pu=function(t,n,r,i){var s=this.bu(t,n);J("RestConnection","Sending: ",s,r);var a={};return this.vu(a,i),this.Su(t,s,a,r).then(function(c){return J("RestConnection","Received: ",c),c},function(c){throw Gp("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.Du=function(t,n,r,i){return this.pu(t,n,r,i)},e.prototype.vu=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",t["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(t[r]=n.g[r])},e.prototype.bu=function(t,n){var r=nQ[t];return this.gu+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(){return typeof window<"u"?window:null}function cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(e){return new u5(e,!0)}var yE=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=t,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return e.prototype.reset=function(){this.Fu=0},e.prototype.Mu=function(){this.Fu=this.$u},e.prototype.Lu=function(t){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&J("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},e.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},e.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},e.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},e}(),$D=function(){function e(t,n,r,i,s,a){this.Zr=t,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=a,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new yE(t,n)}return e.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},e.prototype.Hu=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.Ju()},e.prototype.stop=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.Yu=function(){this.state=0,this.Gu.reset()},e.prototype.Xu=function(){var t=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},e.prototype.th=function(t){this.eh(),this.stream.send(t)},e.prototype.Zu=function(){return R(this,void 0,void 0,function(){return N(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},e.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},e.prototype.close=function(t,n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,t!==3?this.Gu.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(Ye(n.toString()),Ye("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===P.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},e.prototype.nh=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){t.Wu===r&&t.ih(i)},function(i){n(function(){var s=new G(P.UNKNOWN,"Fetching auth token failed: "+i.message);return t.rh(s)})})},e.prototype.ih=function(t){var n=this,r=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return R(t,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.rh=function(t){return J("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.sh=function(t){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===t?r():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),oQ=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).Qt=s,c}return tt(t,e),t.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},t.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:ft()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(T,C){return T.Bt?(Et(C===void 0||typeof C=="string"),Qn.fromBase64String(C||"")):(Et(C===void 0||C instanceof Uint8Array),Qn.fromUint8Array(C||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(T){var C=T.code===void 0?P.UNKNOWN:hD(T.code);return new G(C,T.message||"")}(m);c=new gD(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=Vi(s,l.document.name),d=dn(l.document.updateTime);var m=new bs({mapValue:{fields:l.document.fields}}),y=(v=new le(h,d,m,{}),l.targetIds||[]),b=l.removedTargetIds||[];c=new up(y,b,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=Vi(s,l.document),d=l.readTime?dn(l.readTime):Lt.min(),m=new nn(h,d),v=l.removedTargetIds||[],c=new up([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=Vi(s,l.document),d=l.removedTargetIds||[],c=new up([],d,h,null);else{if(!("filter"in a))return ft();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new ZK(l),d=E.targetId,c=new vD(d,h)}return c}(this.Qt,n),i=function(s){if(!("targetChange"in s))return Lt.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Lt.min():a.readTime?dn(a.readTime):Lt.min()}(n);return this.listener.ah(r,i)},t.prototype.uh=function(n){var r={};r.database=Bf(this.Qt),r.addTarget=function(s,a){var c,l=a.target;return(c=zp(l)?{documents:ED(s,l)}:{query:TD(s,l)}).targetId=a.targetId,a.resumeToken.l()>0?c.resumeToken=mD(s,a.resumeToken):a.Ot._(Lt.min())>0&&(c.readTime=jf(s,a.Ot.j())),c}(this.Qt,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,a.Ft);return c==null?null:{"goog-listen-tags":c}}(this.Qt,n);i&&(r.labels=i),this.th(r)},t.prototype.hh=function(n){var r={};r.database=Bf(this.Qt),r.removeTarget=n,this.th(r)},t}($D),sQ=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).Qt=s,c.lh=!1,c}return tt(t,e),Object.defineProperty(t.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.nh=function(){this.lh&&this.fh([])},t.prototype.oh=function(n){return this.Qu.Cu("Write",n)},t.prototype.onMessage=function(n){if(Et(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,a){return s&&s.length>0?(Et(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?dn(l.updateTime):dn(h);d.isEqual(Lt.min())&&(d=dn(h));var v=null;return l.transformResults&&l.transformResults.length>0&&(v=l.transformResults),new QK(d,v)}(c,a)})):[]}(n.writeResults,n.commitTime),i=dn(n.commitTime);return this.listener.dh(i,r)}return Et(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},t.prototype.Eh=function(){var n={};n.database=Bf(this.Qt),this.th(n)},t.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return Zp(r.Qt,s)})};this.th(i)},t}($D),aQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return tt(t,e),t.prototype.Ih=function(){if(this.Th)throw new G(P.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.pu(n,r,i,a)}).catch(function(a){throw a.code===P.UNAUTHENTICATED&&s.credentials.p(),a})},t.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.Du(n,r,i,a)}).catch(function(a){throw a.code===P.UNAUTHENTICATED&&s.credentials.p(),a})},t.prototype.terminate=function(){this.Th=!1},t}(function(){}),uQ=function(){function e(t,n){this._s=t,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return e.prototype.Ph=function(){var t=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},e.prototype.Vh=function(t){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},e.prototype.set=function(t){this.ph(),this.mh=0,t==="Online"&&(this.Rh=!1),this.yh(t)},e.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},e.prototype.gh=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?(Ye(n),this.Rh=!1):J("OnlineStateTracker",n)},e.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},e}(),cQ=function(e,t,n,r,i){var s=this;this.bh=e,this.Sh=t,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(a){n.Ps(function(){return R(s,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return Cs(this)?(J("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return R(this,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return(h=et(l)).Nh.add(4),[4,Bc(h)];case 1:return d.sent(),h.Oh.set("Unknown"),h.Nh.delete(4),[4,wh(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Oh=new uQ(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:if(!Cs(e))return[3,4];t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Bc(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function rg(e,t){var n=et(e);n.xh.has(t.targetId)||(n.xh.set(t.targetId,t),bE(n)?wE(n):Wc(n).Hu()&&_E(n,t))}function qf(e,t){var n=et(e),r=Wc(n);n.xh.delete(t),r.Hu()&&zD(n,t),n.xh.size===0&&(r.Hu()?r.Xu():Cs(n)&&n.Oh.set("Unknown"))}function _E(e,t){e.kh.on(t.targetId),Wc(e).uh(t)}function zD(e,t){e.kh.on(t),Wc(e).hh(t)}function wE(e){e.kh=new o5({vn:function(t){return e.Dh.vn(t)},Sn:function(t){return e.xh.get(t)||null}}),Wc(e).start(),e.Oh.Ph()}function bE(e){return Cs(e)&&!Wc(e).zu()&&e.xh.size>0}function Cs(e){return et(e).Nh.size===0}function KD(e){e.kh=void 0}function lQ(e){return R(this,void 0,void 0,function(){return N(this,function(t){return e.xh.forEach(function(n,r){_E(e,n)}),[2]})})}function fQ(e,t){return R(this,void 0,void 0,function(){return N(this,function(n){return KD(e),bE(e)?(e.Oh.Vh(t),wE(e)):e.Oh.set("Unknown"),[2]})})}function hQ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(e.Oh.set("Online"),!(t instanceof gD&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return R(this,void 0,void 0,function(){var h,d,v,m;return N(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(m=v[d],c.xh.has(m)?[4,c.Dh.Mh(m,h)]:[3,3]):[3,5];case 2:y.sent(),c.xh.delete(m),c.kh.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),J("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,rv(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof up?e.kh.dn(t):t instanceof vD?e.kh.Pn(t):e.kh.Tn(t),n.isEqual(Lt.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,BD(e.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(c,l){var h=c.kh.Vn(l);return h.$e.forEach(function(d,v){if(d.resumeToken.l()>0){var m=c.xh.get(v);m&&c.xh.set(v,m.Mt(d.resumeToken,l))}}),h.Fe.forEach(function(d){var v=c.xh.get(d);if(v){c.xh.set(d,v.Mt(Qn.T,v.Ot)),zD(c,d);var m=new Zv(v.target,d,1,v.sequenceNumber);_E(c,m)}}),c.Dh.Lh(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return J("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,rv(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function rv(e,t,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!qa(t))throw t;return e.Nh.add(1),[4,Bc(e)];case 1:return i.sent(),e.Oh.set("Offline"),n||(n=function(){return BD(e.bh)}),e._s.po(function(){return R(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return J("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Nh.delete(1),[4,wh(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function QD(e,t){return t().catch(function(n){return rv(e,n,t)})}function qc(e){return R(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:t=et(e),n=Es(t),r=t.Ch.length>0?t.Ch[t.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return Cs(c)&&c.Ch.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,q5(t.bh,r)];case 3:return(i=a.sent())===null?(t.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(c,l){c.Ch.push(l);var h=Es(c);h.Hu()&&h._h&&h.fh(l.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,rv(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return XD(t)&&JD(t),[2]}})})}function XD(e){return Cs(e)&&!Es(e).zu()&&e.Ch.length>0}function JD(e){Es(e).start()}function dQ(e){return R(this,void 0,void 0,function(){return N(this,function(t){return Es(e).Eh(),[2]})})}function pQ(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){for(t=Es(e),n=0,r=e.Ch;n<r.length;n++)i=r[n],t.fh(i.mutations);return[2]})})}function vQ(e,t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=e.Ch.shift(),i=T5.from(r,t,n),[4,QD(e,function(){return e.Dh.Bh(i)})];case 1:return s.sent(),[4,qc(e)];case 2:return s.sent(),[2]}})})}function gQ(e,t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return t&&Es(e)._h?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return fD(a=i.code)&&a!==P.ABORTED?(s=r.Ch.shift(),Es(r).Yu(),[4,QD(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,qc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return XD(e)&&JD(e),[2]}})})}function n0(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=et(e),t?(n.Nh.delete(2),[4,wh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Nh.add(2),[4,Bc(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Wc(e){var t=this;return e.Uh||(e.Uh=function(n,r,i){var s=et(n);return s.Ih(),new oQ(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:lQ.bind(null,e),Tu:fQ.bind(null,e),ah:hQ.bind(null,e)}),e.$h.push(function(n){return R(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Uh.Yu(),bE(e)?wE(e):e.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Uh.stop()];case 2:r.sent(),KD(e),r.label=3;case 3:return[2]}})})})),e.Uh}function Es(e){var t=this;return e.Qh||(e.Qh=function(n,r,i){var s=et(n);return s.Ih(),new sQ(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:dQ.bind(null,e),Tu:gQ.bind(null,e),wh:pQ.bind(null,e),dh:vQ.bind(null,e)}),e.$h.push(function(n){return R(t,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(e.Qh.Yu(),[4,qc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qh.stop()];case 3:r.sent(),e.Ch.length>0&&(J("RemoteStore","Stopping write stream with "+e.Ch.length+" pending writes"),e.Ch=[]),r.label=4;case 4:return[2]}})})})),e.Qh}var mQ=function(){this.Kh=void 0,this.listeners=[]},yQ=function(){this.queries=new Vc(function(e){return eD(e)},ph),this.onlineState="Unknown",this.Wh=new Set};function EE(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(n=et(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new mQ),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.jh(r)];case 2:return a.Kh=h.sent(),[3,4];case 3:return c=h.sent(),l=jc(c,"Initialization of query '"+Xw(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.Gh(n.onlineState),s.Kh&&t.zh(s.Kh)&&IE(n),[2]}})})}function TE(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){return n=et(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function _Q(e,t){for(var n=et(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].zh(a)&&(r=!0);l.Kh=a}}r&&IE(n)}function wQ(e,t,n){var r=et(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function IE(e){e.Wh.forEach(function(t){t.next()})}var SE=function(){function e(t,n,r){this.query=t,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new Jp(t.query,t.docs,t.Se,n,t.De,t.fromCache,t.Ce,!0)}var a=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),a=!0):this.tl(t,this.onlineState)&&(this.el(t),a=!0),this.Xh=t,a},e.prototype.onError=function(t){this.Jh.error(t)},e.prototype.Gh=function(t){this.onlineState=t;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),n=!0),n},e.prototype.tl=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||t.docs.et()&&n!=="Offline")},e.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.el=function(t){t=Jp.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},e}(),bQ=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.sl=function(){return"metadata"in this.payload},e}(),ON=function(){function e(t){this.Qt=t}return e.prototype.Pc=function(t){return Vi(this.Qt,t)},e.prototype.yc=function(t){return t.metadata.exists?bD(this.Qt,t.document,!1):new nn(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},e.prototype.gc=function(t){return dn(t)},e}(),EQ=function(){function e(t,n,r){this.il=t,this.bh=n,this.Qt=r,this.queries=[],this.documents=[],this.progress=ZD(t)}return e.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.ol=function(t){for(var n=new Map,r=new ON(this.Qt),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.Pc(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||oe()).add(c);n.set(d,v)}}return n},e.prototype.complete=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,H5(this.bh,new ON(this.Qt),this.documents,this.il.id)];case 1:t=a.sent(),n=this.ol(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,G5(this.bh,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new F5(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tM=function(e){this.key=e},eM=function(e){this.key=e},nM=function(){function e(t,n){this.query=t,this.cl=n,this.al=null,this.Be=!1,this.ul=oe(),this.De=oe(),this.hl=nD(t),this.ll=new pD(this.hl)}return Object.defineProperty(e.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),e.prototype.fl=function(t,n){var r=this,i=n?n.dl:new oN,s=n?n.ll:this.ll,a=n?n.De:this.De,c=s,l=!1,h=sp(this.query)&&s.size===this.query.limit?s.last():null,d=Qp(this.query)&&s.size===this.query.limit?s.first():null;if(t.Xt(function(m,y){var b=s.get(m),E=y instanceof le?y:null;E&&(E=vh(r.query,E)?E:null);var T=!!b&&r.De.has(b.key),C=!!E&&(E.Vt||r.De.has(E.key)&&E.hasCommittedMutations),x=!1;b&&E?b.data().isEqual(E.data())?T!==C&&(i.track({type:3,doc:E}),x=!0):r.wl(b,E)||(i.track({type:2,doc:E}),x=!0,(h&&r.hl(E,h)>0||d&&r.hl(E,d)<0)&&(l=!0)):!b&&E?(i.track({type:0,doc:E}),x=!0):b&&!E&&(i.track({type:1,doc:b}),x=!0,(h||d)&&(l=!0)),x&&(E?(c=c.add(E),a=C?a.add(m):a.delete(m)):(c=c.delete(m),a=a.delete(m)))}),sp(this.query)||Qp(this.query))for(;c.size>this.query.limit;){var v=sp(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ll:c,dl:i,lc:l,De:a}},e.prototype.wl=function(t,n){return t.Vt&&n.hasCommittedMutations&&!n.Vt},e.prototype.wi=function(t,n,r){var i=this,s=this.ll;this.ll=t.ll,this.De=t.De;var a=t.dl.ve();a.sort(function(d,v){return function(m,y){var b=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return b(m)-b(y)}(d.type,v.type)||i.hl(d.doc,v.doc)}),this.El(r);var c=n?this.Tl():[],l=this.ul.size===0&&this.Be?1:0,h=l!==this.al;return this.al=l,a.length!==0||h?{snapshot:new Jp(this.query,t.ll,s,a,t.De,l===0,h,!1),Il:c}:{Il:c}},e.prototype.Gh=function(t){return this.Be&&t==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new oN,De:this.De,lc:!1},!1)):{Il:[]}},e.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},e.prototype.El=function(t){var n=this;t&&(t.qe.forEach(function(r){return n.cl=n.cl.add(r)}),t.Ue.forEach(function(r){}),t.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=t.Be)},e.prototype.Tl=function(){var t=this;if(!this.Be)return[];var n=this.ul;this.ul=oe(),this.ll.forEach(function(i){t.ml(i.key)&&(t.ul=t.ul.add(i.key))});var r=[];return n.forEach(function(i){t.ul.has(i)||r.push(new eM(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new tM(i))}),r},e.prototype.Al=function(t){this.cl=t.Rc,this.ul=oe();var n=this.fl(t.documents);return this.wi(n,!0)},e.prototype.Rl=function(){return Jp.Ne(this.query,this.ll,this.De,this.al===0)},e}(),TQ=function(e,t,n){this.query=e,this.targetId=t,this.view=n},IQ=function(e){this.key=e,this.Pl=!1},SQ=function(){function e(t,n,r,i,s,a){this.bh=t,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=a,this.bl={},this.vl=new Vc(function(c){return eD(c)},ph),this.Sl=new Map,this.Dl=new Set,this.Cl=new Un(vt.H),this.xl=new Map,this.Nl=new mE,this.$l={},this.Fl=new Map,this.Ol=ev.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(e.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),e}();function AQ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=OE(e),(s=n.vl.get(t))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,bc(n.bh,Gr(t))];case 2:return a=l.sent(),c=n.Vl.Fa(a.targetId),r=a.targetId,[4,AE(n,t,r,c==="current")];case 3:i=l.sent(),n.Ml&&rg(n.yl,a),l.label=4;case 4:return[2,i]}})})}function AE(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return e.Ll=function(v,m,y){return function(b,E,T,C){return R(this,void 0,void 0,function(){var x,D,F;return N(this,function(X){switch(X.label){case 0:return x=E.view.fl(T),x.lc?[4,nv(b.bh,E.query,!1).then(function(j){var Tt=j.documents;return E.view.fl(Tt,x)})]:[3,2];case 1:x=X.sent(),X.label=2;case 2:return D=C&&C.$e.get(E.targetId),F=E.view.wi(x,b.Ml,D),[2,(r0(b,E.targetId,F.Il),F.snapshot)]}})})}(e,v,m,y)},[4,nv(e.bh,t,!0)];case 1:return i=d.sent(),s=new nM(t,i.Rc),a=s.fl(i.documents),c=cE.Le(n,r&&e.onlineState!=="Offline"),l=s.wi(a,e.Ml,c),r0(e,n,l.Il),h=new TQ(t,n,s),[2,(e.vl.set(t,h),e.Sl.has(n)?e.Sl.get(n).push(t):e.Sl.set(n,[t]),l.snapshot)]}})})}function CQ(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=et(e),r=n.vl.get(t),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(a){return!ph(a,t)})),void n.vl.delete(t))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Ec(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),qf(n.yl,r.targetId),Tc(n,r.targetId)}).catch(Wa)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Tc(n,r.targetId),[4,Ec(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function NQ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=kE(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=et(l),m=lr.now(),y=h.reduce(function(b,E){return b.add(E.key)},oe());return v.persistence.runTransaction("Locally write mutations","readwrite",function(b){return v.Tc.Xo(b,y).next(function(E){d=E;for(var T=[],C=0,x=h;C<x.length;C++){var D=x[C],F=JK(D,d.get(D.key));F!=null&&T.push(new As(D.key,F,XP(F.proto.mapValue),Rn.exists(!0)))}return v.zo.Ri(b,m,T,h)})}).then(function(b){var E=b.xs(d);return{batchId:b.batchId,ri:E}})}(r.bh,t)];case 2:return i=c.sent(),r.Vl.Ca(i.batchId),function(l,h,d){var v=l.$l[l.currentUser.A()];v||(v=new Un(jt)),v=v.zt(h,d),l.$l[l.currentUser.A()]=v}(r,i.batchId,n),[4,Do(r,i.ri)];case 3:return c.sent(),[4,qc(r.yl)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=jc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function rM(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=et(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,B5(n.bh,t)];case 2:return r=i.sent(),t.$e.forEach(function(s,a){var c=n.xl.get(a);c&&(Et(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?c.Pl=!0:s.Ue.size>0?Et(c.Pl):s.Qe.size>0&&(Et(c.Pl),c.Pl=!1))}),[4,Do(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Wa(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function kN(e,t,n){var r=et(e);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,a){var c=a.view.Gh(t);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=et(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,m=d.listeners;v<m.length;v++)m[v].Gh(a)&&(l=!0)}),l&&IE(c)}(r.gl,t),i.length&&r.bl.ah(i),r.onlineState=t,r.Ml&&r.Vl.Qa(t)}}function RQ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return(r=et(e)).Vl.Ba(t,"rejected",n),i=r.xl.get(t),(s=i&&i.key)?(a=(a=new Un(vt.H)).zt(s,new nn(s,Lt.min())),c=oe().add(s),l=new uE(Lt.min(),new Map,new rn(jt),a,c),[4,rM(r,l)]):[3,2];case 1:return h.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(t),RE(r),[3,4];case 2:return[4,Ec(r.bh,t,!1).then(function(){return Tc(r,t,n)}).catch(Wa)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function OQ(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=et(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,V5(n.bh,t)];case 2:return i=s.sent(),NE(n,r,null),CE(n,r),n.Vl.Na(r,"acknowledged"),[4,Do(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Wa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function kQ(e,t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=et(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=et(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l.zo.Pi(h,c).next(function(v){return Et(v!==null),d=v.keys(),l.zo.Ci(h,v)}).next(function(){return l.zo.$i(h)}).next(function(){return l.Tc.Xo(h,d)})})}(r.bh,t)];case 2:return i=s.sent(),NE(r,t,n),CE(r,t),r.Vl.Na(t,"rejected",n),[4,Do(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Wa(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function xQ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:Cs((n=et(e)).yl)||J("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=et(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h.zo.Vi(d)})}(n.bh)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((i=n.Fl.get(r)||[]).push(t),n.Fl.set(r,i),[3,4]);case 3:return s=c.sent(),a=jc(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function CE(e,t){(e.Fl.get(t)||[]).forEach(function(n){n.resolve()}),e.Fl.delete(t)}function NE(e,t,n){var r=et(e),i=r.$l[r.currentUser.A()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.$l[r.currentUser.A()]=i}}function Tc(e,t,n){n===void 0&&(n=null),e.Vl.ka(t);for(var r=0,i=e.Sl.get(t);r<i.length;r++){var s=i[r];e.vl.delete(s),n&&e.bl.Bl(s,n)}e.Sl.delete(t),e.Ml&&e.Nl.Fc(t).forEach(function(a){e.Nl.Fi(a)||iM(e,a)})}function iM(e,t){e.Dl.delete(t.path.rt());var n=e.Cl.get(t);n!==null&&(qf(e.yl,n),e.Cl=e.Cl.remove(t),e.xl.delete(n),RE(e))}function r0(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof tM?(e.Nl.nr(s.key,t),PQ(e,s)):s instanceof eM?(J("SyncEngine","Document no longer in limbo: "+s.key),e.Nl.ir(s.key,t),e.Nl.Fi(s.key)||iM(e,s.key)):ft()}}function PQ(e,t){var n=t.key,r=n.path.rt();e.Cl.get(n)||e.Dl.has(r)||(J("SyncEngine","New document in limbo: "+n),e.Dl.add(r),RE(e))}function RE(e){for(;e.Dl.size>0&&e.Cl.size<e.pl;){var t=e.Dl.values().next().value;e.Dl.delete(t);var n=new vt(Xt.ot(t)),r=e.Ol.next();e.xl.set(r,new IQ(n)),e.Cl=e.Cl.zt(n,r),rg(e.yl,new Zv(Gr(Uc(n.path)),r,2,Ar.q))}}function Do(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r=et(e),i=[],s=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(l,h){a.push(r.Ll(h,t,n).then(function(d){if(d){r.Ml&&r.Vl.Ba(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=U5.oc(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.bl.ah(i),[4,function(l,h){return R(this,void 0,void 0,function(){var d,v,m,y,b,E,T,C,x;return N(this,function(D){switch(D.label){case 0:d=et(l),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(F){return $.forEach(h,function(X){return $.forEach(X.ic,function(j){return d.persistence.Ti.nr(F,X.targetId,j)}).next(function(){return $.forEach(X.rc,function(j){return d.persistence.Ti.ir(F,X.targetId,j)})})})})];case 2:return D.sent(),[3,4];case 3:if(!qa(v=D.sent()))throw v;return J("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)b=y[m],E=b.targetId,b.fromCache||(T=d.fc.get(E),C=T.Ot,x=T.Lt(C),d.fc=d.fc.zt(E,x));return[2]}})})}(r.bh,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function DQ(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=et(e)).currentUser.isEqual(t)?[3,3]:(J("SyncEngine","User change. New user:",t.A()),[4,VD(n.bh,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fl.forEach(function(c){c.forEach(function(l){l.reject(new G(P.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(t,r.mc,r.Ac),[4,Do(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function MQ(e,t){var n=et(e),r=n.xl.get(t);if(r&&r.Pl)return oe().add(r.key);var i=oe(),s=n.Sl.get(t);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.vl.get(l);i=i.Pe(h.view._l)}return i}function LQ(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,nv((n=et(e)).bh,t.query,!0)];case 1:return r=s.sent(),i=t.view.Al(r),[2,(n.Ml&&r0(n,t.targetId,i.Il),i)]}})})}function FQ(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){return[2,HD((t=et(e)).bh).then(function(r){return Do(t,r)})]})})}function UQ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=et(c),d=et(h.zo);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.yi(v,l).next(function(m){return m?h.Tc.Xo(v,m):$.resolve(null)})})}((i=et(e)).bh,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,qc(i.yl)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(NE(i,t,r||null),CE(i,t),function(c,l){et(et(c).zo).xi(l)}(i.bh,t)):ft(),a.label=4;case 4:return[4,Do(i,s)];case 5:return a.sent(),[3,7];case 6:J("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function jQ(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return OE(n=et(e)),kE(n),t!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,xN(n,r.it())]);case 1:return i=d.sent(),n.kl=!0,[4,n0(n.yl,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],rg(n.yl,c);return[3,7];case 3:return t!==!1||n.kl===!1?[3,7]:(l=[],h=Promise.resolve(),n.Sl.forEach(function(v,m){n.Vl.Ma(m)?l.push(m):h=h.then(function(){return Tc(n,m),Ec(n.bh,m,!0)}),qf(n.yl,m)}),[4,h]);case 4:return d.sent(),[4,xN(n,l)];case 5:return d.sent(),function(v){var m=et(v);m.xl.forEach(function(y,b){qf(m.yl,b)}),m.Nl.Oc(),m.xl=new Map,m.Cl=new Un(vt.H)}(n),n.kl=!1,[4,n0(n.yl,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function xN(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m,y,b,E,T;return N(this,function(C){switch(C.label){case 0:r=et(e),i=[],s=[],a=0,c=t,C.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Sl.get(l))&&d.length!==0?[4,bc(r.bh,Gr(d[0]))]:[3,7]):[3,13];case 2:h=C.sent(),v=0,m=d,C.label=3;case 3:return v<m.length?(y=m[v],b=r.vl.get(y),[4,LQ(r,b)]):[3,6];case 4:(E=C.sent()).snapshot&&s.push(E.snapshot),C.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,WD(r.bh,l)];case 8:return T=C.sent(),[4,bc(r.bh,T)];case 9:return h=C.sent(),[4,AE(r,oM(T),l,!1)];case 10:C.sent(),C.label=11;case 11:i.push(h),C.label=12;case 12:return a++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function oM(e){return ZP(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function VQ(e){var t=et(e);return et(et(t.bh).persistence).Uo()}function BQ(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a;return N(this,function(c){switch(c.label){case 0:return(i=et(e)).kl?(J("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,HD(i.bh)];case 3:return s=c.sent(),a=uE.Me(t,n==="current"),[4,Do(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,Ec(i.bh,t,!0)];case 6:return c.sent(),Tc(i,t,r),[3,8];case 7:ft(),c.label=8;case 8:return[2]}})})}function qQ(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=OE(e)).kl)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Sl.has(a)?(J("SyncEngine","Adding an already active target "+a),[3,5]):[4,WD(r.bh,a)]):[3,6];case 2:return c=y.sent(),[4,bc(r.bh,c)];case 3:return l=y.sent(),[4,AE(r,oM(c),l.targetId,!1)];case 4:y.sent(),rg(r.yl,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(b){return N(this,function(E){switch(E.label){case 0:return r.Sl.has(b)?[4,Ec(r.bh,b,!1).then(function(){qf(r.yl,b),Tc(r,b)}).catch(Wa)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(m=v[d],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function OE(e){var t=et(e);return t.yl.Dh.Lh=rM.bind(null,t),t.yl.Dh.vn=MQ.bind(null,t),t.yl.Dh.Mh=RQ.bind(null,t),t.bl.ah=_Q.bind(null,t.gl),t.bl.Bl=wQ.bind(null,t.gl),t}function kE(e){var t=et(e);return t.yl.Dh.Bh=OQ.bind(null,t),t.yl.Dh.qh=kQ.bind(null,t),t}function WQ(e,t,n){var r=et(e);(function(i,s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(b,E){var T=et(b),C=dn(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",function(x){return T.wo.Os(x,E.id)}).then(function(x){return!!x&&x.createTime._(C)>=0})}(i.bh,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a.ql(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(c)))];case 4:return a.Ul(ZD(c)),l=new EQ(c,i.bh,s.Qt),[4,s.Ql()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.rl(h)]:[3,10];case 7:return(d=y.sent())&&a.Ul(d),[4,s.Ql()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,Do(i,v.Go,void 0)];case 12:return y.sent(),[4,function(b,E){var T=et(b);return T.persistence.runTransaction("Save bundle","readwrite",function(C){return T.wo.ks(C,E)})}(i.bh,c)];case 13:return y.sent(),a.ql(v.progress),[3,15];case 14:return Gp("SyncEngine","Loading bundle failed with "+(m=y.sent())),a.Kl(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.Vl.Wa()})}var sM=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.Qt=_h(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},e.prototype.zl=function(t){return null},e.prototype.Hl=function(t){return jD(this.persistence,new UD,t.Jl,this.Qt)},e.prototype.jl=function(t){return new X5(Z5.ia,this.Qt)},e.prototype.Wl=function(t){return new GD},e.prototype.terminate=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},e}(),aM=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return tt(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,W5(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,kE(this.Yl._a)];case 4:return r.sent(),[4,qc(this.Yl.yl)];case 5:return r.sent(),[2]}})})},t.prototype.Hl=function(n){return jD(this.persistence,new UD,n.Jl,this.Qt)},t.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new O5(r,n._s)},t.prototype.jl=function(n){var r=gE(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?xi.Ys(this.cacheSizeBytes):xi.ti;return new L5(this.synchronizeTabs,r,n.clientId,i,n._s,YD(),cp(),this.Qt,this.Vl,!!this.forceOwnership)},t.prototype.Wl=function(n){return new GD},t}(sM),HQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return tt(t,e),t.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof L_?(this.Vl._a={eu:UQ.bind(null,r),nu:BQ.bind(null,r),su:qQ.bind(null,r),Uo:VQ.bind(null,r),tu:FQ.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(a){return R(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,jQ(this.Yl._a,a)];case 1:return c.sent(),this.Gl&&(a&&!this.Gl.Er?this.Gl.start(this.bh):a||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Wl=function(n){var r=YD();if(!L_.Kn(r))throw new G(P.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=gE(n.yu.t,n.yu.persistenceKey);return new L_(r,n._s,i,n.clientId,n.Jl)},t}(aM),i0=function(){function e(){}return e.prototype.initialize=function(t,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!t.synchronizeTabs),this.Vl.fa=function(s){return kN(r._a,s,1)},this.yl.Dh.n_=DQ.bind(null,this._a),[4,n0(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.t_=function(t){return new yQ},e.prototype.Xl=function(t){var n,r=_h(t.yu.t),i=(n=t.yu,new iQ(n));return function(s,a,c){return new aQ(s,a,c)}(t.credentials,i,r)},e.prototype.Zl=function(t){var n,r,i,s,a,c=this;return n=this.bh,r=this.Sh,i=t._s,s=function(l){return kN(c._a,l,0)},a=RN.Kn()?new RN:new eQ,new cQ(n,r,i,s,a)},e.prototype.e_=function(t,n){return function(r,i,s,a,c,l,h){var d=new SQ(r,i,s,a,c,l);return h&&(d.kl=!0),d}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,n)},e.prototype.terminate=function(){return function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=et(t),J("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,Bc(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return N(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ig=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.i_=function(){this.muted=!0},e.prototype.s_=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),GQ=function(){function e(t,n){var r=this;this.r_=t,this.Qt=n,this.metadata=new Xn,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(i){i&&i.sl()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.r_.cancel()},e.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return N(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Ql=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},e.prototype.c_=function(){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.a_()];case 1:return(t=s.sent())===null?[2,null]:(n=this.o_.decode(t),r=Number(n),isNaN(r)&&this.u_("length string ("+n+") is not valid number"),[4,this.h_(r)]);case 2:return i=s.sent(),[2,new bQ(JSON.parse(i),t.length+r)]}})})},e.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.a_=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.h_=function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:r.sent()&&this.u_("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.__=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.r_.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),wo=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new G(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new yi(t)}return e.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},e}(),Ha=function(e){this._methodName=e},Wt=function(e){this.d_=e};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(e,t,n){if(!n)throw new G(P.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function PE(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new G(P.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function uM(e,t,n,r){if(t===!0&&r===!0)throw new G(P.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function DN(e){if(!vt.wt(e))throw new G(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function MN(e){if(vt.wt(e))throw new G(P.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function og(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ft()}function Qt(e,t){if("_delegate"in e&&(e=e.d_),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=og(e);throw new G(P.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function LN(e,t){if(t<=0)throw new G(P.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FN=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new G(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new G(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,uM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),UN=new Map,Wf=function(){function e(t,n){this.w_="(lite)",this.E_=new FN({}),this.T_=!1,t instanceof Hp?(this.I_=t,this.m_=new GC):(this.A_=t,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new G(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hp(r.options.projectId)}(t),this.m_=new PK(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this.A_)throw new G(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),e.prototype.g_=function(t){if(this.T_)throw new G(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new FN(t),t.credentials!==void 0&&(this.m_=function(n){if(!n)return new GC;switch(n.type){case"gapi":var r=n.client;return Et(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new MK(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new G(P.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.V_=function(){return this.E_},e.prototype.p_=function(){return this.T_=!0,this.E_},e.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},e.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},e.prototype.b_=function(){return t=this,(n=UN.get(t))&&(J("ComponentProvider","Removing Datastore"),UN.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ne=function(){function e(t,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new ds(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.S_)},e}(),fr=function(){function e(t,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this.C_)},e}(),ds=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Uc(i))||this).firestore=n,s.D_=i,s.type="collection",s}return tt(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new Ne(this.firestore,null,new vt(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this.D_)},t}(fr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Wt&&(e=e.d_),xE("collection","path",t),e instanceof Wf)return MN(n=Xt.ot.apply(Xt,Ve([t],r))),new ds(e,null,n);if(!(e instanceof Ne||e instanceof ds))throw new G(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return MN(n=Xt.ot.apply(Xt,Ve([e.path],r)).child(Xt.ot(t))),new ds(e.firestore,null,n)}function lp(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Wt&&(e=e.d_),arguments.length===1&&(t=GP.u()),xE("doc","path",t),e instanceof Wf)return DN(n=Xt.ot.apply(Xt,Ve([t],r))),new Ne(e,null,new vt(n));if(!(e instanceof Ne||e instanceof ds))throw new G(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return DN(n=e.D_.child(Xt.ot.apply(Xt,Ve([t],r)))),new Ne(e.firestore,e instanceof ds?e.v_:null,new vt(n))}function lM(e,t){return e instanceof Wt&&(e=e.d_),t instanceof Wt&&(t=t.d_),(e instanceof Ne||e instanceof ds)&&(t instanceof Ne||t instanceof ds)&&e.firestore===t.firestore&&e.path===t.path&&e.v_===t.v_}function fM(e,t){return e instanceof Wt&&(e=e.d_),t instanceof Wt&&(t=t.d_),e instanceof fr&&t instanceof fr&&e.firestore===t.firestore&&ph(e.C_,t.C_)&&e.v_===t.v_}var sg=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new G(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new G(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=t,this.N_=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},e.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},e.prototype.U=function(t){return jt(this.x_,t.x_)||jt(this.N_,t.N_)},e}(),YQ=/^__.*__$/,$Q=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return this.Gt!==null?new As(t,this.data,this.Gt,n,this.fieldTransforms):new mh(t,this.data,n,this.fieldTransforms)},e}(),hM=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return new As(t,this.data,this.Gt,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}var pM=function(){function e(t,n,r,i,s,a){this.settings=t,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),e.prototype.M_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},e.prototype.L_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.q_(t),i},e.prototype.U_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.O_(),i},e.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},e.prototype.K_=function(t){return iv(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},e.prototype.contains=function(t){return this.Gt.find(function(n){return t.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return t.nt(n.field)})!==void 0},e.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},e.prototype.q_=function(t){if(t.length===0)throw this.K_("Document fields must not be empty");if(dM(this.k_)&&YQ.test(t))throw this.K_('Document fields cannot begin and end with "__"')},e}(),zQ=function(){function e(t,n,r){this.t=t,this.ignoreUndefinedProperties=n,this.Qt=r||_h(t)}return e.prototype.G_=function(t,n,r,i){return i===void 0&&(i=!1),new pM({k_:t,methodName:n,j_:r,path:yi.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},e}();function Ga(e){var t=e.p_(),n=_h(e.I_);return new zQ(e.I_,!!t.ignoreUndefinedProperties,n)}function ag(e,t,n,r,i,s){s===void 0&&(s={});var a=e.G_(s.merge||s.mergeFields?2:0,t,n,i);FE("Data must be an object, but it was:",a,r);var c,l,h=mM(r,a);if(s.merge)c=new lc(a.Gt),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,m=s.mergeFields;v<m.length;v++){var y=o0(t,m[v],n);if(!a.contains(y))throw new G(P.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");_M(d,y)||d.push(y)}c=new lc(d),l=a.fieldTransforms.filter(function(b){return c.Tt(b.field)})}else c=null,l=a.fieldTransforms;return new $Q(new bs(h),c,l)}var DE=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ha);function vM(e,t,n){return new pM({k_:3,j_:t.settings.j_,methodName:e._methodName,B_:n},t.t,t.Qt,t.ignoreUndefinedProperties)}var KQ=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.z_=function(n){return new gh(n.path,new pc)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ha),QQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return tt(t,e),t.prototype.z_=function(n){var r=vM(this,n,!0),i=this.H_.map(function(a){return Ya(a,r)}),s=new Oa(i);return new gh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ha),XQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return tt(t,e),t.prototype.z_=function(n){var r=vM(this,n,!0),i=this.H_.map(function(a){return Ya(a,r)}),s=new ka(i);return new gh(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ha),JQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).J_=r,i}return tt(t,e),t.prototype.z_=function(n){var r=new vc(n.Qt,oD(n.Qt,this.J_));return new gh(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ha);function ME(e,t,n,r){var i=e.G_(1,t,n);FE("Data must be an object, but it was:",i,r);var s=[],a=new hh;fh(r,function(l,h){var d=UE(t,l,n);h instanceof Wt&&(h=h.d_);var v=i.U_(d);if(h instanceof DE)s.push(d);else{var m=Ya(h,v);m!=null&&(s.push(d),a.set(d,m))}});var c=new lc(s);return new hM(a.Pt(),c,i.fieldTransforms)}function LE(e,t,n,r,i,s){var a=e.G_(1,t,n),c=[o0(t,r,n)],l=[i];if(s.length%2!=0)throw new G(P.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(o0(t,s[h])),l.push(s[h+1]);for(var d=[],v=new hh,m=c.length-1;m>=0;--m)if(!_M(d,c[m])){var y=c[m],b=l[m];b instanceof Wt&&(b=b.d_);var E=a.U_(y);if(b instanceof DE)d.push(y);else{var T=Ya(b,E);T!=null&&(d.push(y),v.set(y,T))}}var C=new lc(d);return new hM(v.Pt(),C,a.fieldTransforms)}function gM(e,t,n,r){return r===void 0&&(r=!1),Ya(n,e.G_(r?4:3,t))}function Ya(e,t){if(e instanceof Wt&&(e=e.d_),yM(e))return FE("Unsupported field value:",t,e),mM(e,t);if(e instanceof Ha)return function(n,r){if(!dM(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.Gt.push(t.path),e instanceof Array){if(t.settings.B_&&t.k_!==4)throw t.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Ya(c[a],r.Q_(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if(n instanceof Wt&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return oD(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=lr.fromDate(n);return{timestampValue:jf(r.Qt,i)}}if(n instanceof lr)return i=new lr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:jf(r.Qt,i)};if(n instanceof sg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ra)return{bytesValue:mD(r.Qt,n.I)};if(n instanceof Ne){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:lE(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+og(n))}(e,t)}function mM(e,t){var n={};return zP(e)?t.path&&t.path.length>0&&t.Gt.push(t.path):fh(e,function(r,i){var s=Ya(i,t.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function yM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof lr||e instanceof sg||e instanceof Ra||e instanceof Ne||e instanceof Ha)}function FE(e,t,n){if(!yM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=og(n);throw r==="an object"?t.K_(e+" a custom object"):t.K_(e+" "+r)}}function o0(e,t,n){if(t instanceof Wt&&(t=t.d_),t instanceof wo)return t.f_;if(typeof t=="string")return UE(e,t);throw iv("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var ZQ=new RegExp("[~\\*/\\[\\]]");function UE(e,t,n){if(t.search(ZQ)>=0)throw iv("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(wo.bind.apply(wo,Ve([void 0],t.split("."))))().f_}catch{throw iv("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function iv(e,t,n,r,i){var s=r&&!r.et(),a=i!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new G(P.INVALID_ARGUMENT,(c+=". ")+e+l)}function _M(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tX=function(){function e(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return e.prototype.ef=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new G(P.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:return c=et(s),l=Bf(c.Qt)+"/documents",h={documents:a.map(function(b){return Vf(c.Qt,b)})},[4,c.Du("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(b){var E=function(T,C){return"found"in C?function(x,D){Et(!!D.found),D.found.name,D.found.updateTime;var F=Vi(x,D.found.name),X=dn(D.found.updateTime),j=new bs({mapValue:{fields:D.found.fields}});return new le(F,X,j,{})}(T,C):"missing"in C?function(x,D){Et(!!D.missing),Et(!!D.readTime);var F=Vi(x,D.missing),X=dn(D.readTime);return new nn(F,X)}(T,C):ft()}(c.Qt,b);v.set(E.key.toString(),E)}),m=[],[2,(a.forEach(function(b){var E=v.get(b.toString());Et(!!E),m.push(E)}),m)]}})})}(this.Sh,t)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof nn||s instanceof le?r.sf(s):ft()}),n)]}})})},e.prototype.set=function(t,n){this.write(n.F_(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.F_(t,this.rf(t)))}catch(r){this.Z_=r}this.tf.add(t.toString())},e.prototype.delete=function(t){this.write(new yh(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.commit=function(){return R(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=vt._t(s);n.mutations.push(new aE(a,n.jt(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,c,l;return N(this,function(h){switch(h.label){case 0:return a=et(i),c=Bf(a.Qt)+"/documents",l={writes:s.map(function(d){return Zp(a.Qt,d)})},[4,a.pu("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},e.prototype.sf=function(t){var n;if(t instanceof le)n=t.version;else{if(!(t instanceof nn))throw ft();n=Lt.min()}var r=this.Y_.get(t.key.toString());if(r){if(!n.isEqual(r))throw new G(P.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),n)},e.prototype.jt=function(t){var n=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&n?Rn.updateTime(n):Rn.Kt()},e.prototype.rf=function(t){var n=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&n){if(n.isEqual(Lt.min()))throw new G(P.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Rn.updateTime(n)}return Rn.exists(!0)},e.prototype.write=function(t){this.nf(),this.mutations.push(t)},e.prototype.nf=function(){},e}(),eX=function(){function e(t,n,r,i){this._s=t,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new yE(this._s,"transaction_retry")}return e.prototype.run=function(){this.af()},e.prototype.af=function(){var t=this;this.Gu.Lu(function(){return R(t,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new tX(this.Sh),(r=this.uf(n))&&r.then(function(a){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(a)}).catch(function(c){i.hf(c)})})}).catch(function(a){i.hf(a)}),[2]})})})},e.prototype.uf=function(t){try{var n=this.updateFunction(t);return!Ba(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},e.prototype.hf=function(t){var n=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(t)},e.prototype.lf=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!fD(n)}return!1},e}(),nX=function(){function e(t,n,r){var i=this;this.credentials=t,this._s=n,this.yu=r,this.user=Tr.UNAUTHENTICATED,this.clientId=GP.u(),this._f=function(){},this.C=new Xn,this.credentials.v(function(s){J("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return e.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},e.prototype.ff=function(t){var n=this;this._f=t,this.C.promise.then(function(){return n._f(n.user)})},e.prototype.df=function(){if(this._s.wf)throw new G(P.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this._s.Ef();var n=new Xn;return this._s.Tf(function(){return R(t,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=jc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(e,t){return R(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return e._s.Af(),J("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.Jl,e.ff(function(a){r.isEqual(a)||(r=a,e._s.po(function(){return R(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,VD(t.bh,a)];case 1:return c.sent(),[2]}})})}))}),t.persistence.Po(function(){return e.terminate()}),e.mf=t,[2]}})})}function bM(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e._s.Af(),[4,jE(e)];case 1:return n=i.sent(),J("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.ff(function(s){return e._s.po(function(){return function(a,c){return R(this,void 0,void 0,function(){var l,h;return N(this,function(d){switch(d.label){case 0:return(l=et(a))._s.Af(),J("RemoteStore","RemoteStore received new credentials"),h=Cs(l),l.Nh.add(3),[4,Bc(l)];case 1:return d.sent(),h&&l.Oh.set("Unknown"),[4,l.Dh.n_(c)];case 2:return d.sent(),l.Nh.delete(3),[4,wh(l)];case 3:return d.sent(),[2]}})})}(t.yl,s)})}),e.If=t,[2]}})})}function jE(e){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.mf?[3,2]:(J("FirestoreClient","Using default OfflineComponentProvider"),[4,wM(e,new sM)]);case 1:t.sent(),t.label=2;case 2:return[2,e.mf]}})})}function ug(e){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return e.If?[3,2]:(J("FirestoreClient","Using default OnlineComponentProvider"),[4,bM(e,new i0)]);case 1:t.sent(),t.label=2;case 2:return[2,e.If]}})})}function jN(e){return jE(e).then(function(t){return t.persistence})}function VE(e){return jE(e).then(function(t){return t.bh})}function VN(e){return ug(e).then(function(t){return t.yl})}function BE(e){return ug(e).then(function(t){return t._a})}function Ic(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,ug(e)];case 1:return t=r.sent(),[2,((n=t.gl).jh=AQ.bind(null,t._a),n.Hh=CQ.bind(null,t._a),n)]}})})}function BN(e,t,n){var r=this;n===void 0&&(n={});var i=new Xn;return e._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new ig({next:function(b){l.Ps(function(){return TE(c,y)});var E=b.docs.has(h);!E&&b.fromCache?v.reject(new G(P.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&d&&d.source==="server"?v.reject(new G(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new SE(Uc(h.path),m,{includeMetadataChanges:!0,nl:!0});return EE(c,y)},[4,Ic(e)];case 1:return[2,s.apply(void 0,[a.sent(),e._s,t,n,i])]}})})}),i.promise}function qN(e,t,n){var r=this;n===void 0&&(n={});var i=new Xn;return e._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new ig({next:function(b){l.Ps(function(){return TE(c,y)}),b.fromCache&&d.source==="server"?v.reject(new G(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new SE(h,m,{includeMetadataChanges:!0,nl:!0});return EE(c,y)},[4,Ic(e)];case 1:return[2,s.apply(void 0,[a.sent(),e._s,t,n,i])]}})})}),i.promise}var rX=function(){function e(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new yE(this,"async_queue_retry"),this.vf=function(){var r=cp();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Gu.qu()};var n=cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(e.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),e.prototype.Ps=function(t){this.enqueue(t)},e.prototype.Tf=function(t){this.Sf(),this.Df(t)},e.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=cp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.vf)}},e.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(t)},e.prototype.po=function(t){var n=this;this.Ps(function(){return n.Pf.push(t),n.Cf()})},e.prototype.Cf=function(){return R(this,void 0,void 0,function(){var t,n=this;return N(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!qa(t=r.sent()))throw t;return J("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},e.prototype.Df=function(t){var n=this,r=this.Rf.then(function(){return n.pf=!0,t().catch(function(i){throw n.Vf=i,n.pf=!1,Ye("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},e.prototype.Tr=function(t,n,r){var i=this;this.Sf(),this.bf.indexOf(t)>-1&&(n=0);var s=m5.Ts(this,t,n,r,function(a){return i.xf(a)});return this.gf.push(s),s},e.prototype.Sf=function(){this.Vf&&ft()},e.prototype.Af=function(){},e.prototype.Nf=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,t=this.Rf];case 1:n.sent(),n.label=2;case 2:if(t!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.$f=function(t){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===t)return!0;return!1},e.prototype.Ff=function(t){var n=this;return this.Nf().then(function(){n.gf.sort(function(a,c){return a.ds-c.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),t!=="all"&&s.fs===t)break}return n.Nf()})},e.prototype.Of=function(t){this.bf.push(t)},e.prototype.xf=function(t){var n=this.gf.indexOf(t);this.gf.splice(n,1)},e}();function Sc(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var iX=function(){function e(){this.kf={},this.Mf=new Xn,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this.kf={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this.Mf.promise.catch(t)},e.prototype.then=function(t,n){return this.Mf.promise.then(t,n)},e.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},e.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},e.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)},e}(),oX=-1,Ue=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Bf=new rX,i.w_="name"in n?n.name:"[DEFAULT]",i}return tt(t,e),t.prototype.b_=function(){return this.qf||EM(this),this.qf.terminate()},t}(Wf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(e){return e.qf||EM(e),e.qf.df(),e.qf}function EM(e){var t=e.p_(),n=function(r,i,s){return new OK(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(e.I_,e.w_,t);e.qf=new nX(e.m_,e.Bf,n)}function WN(e,t,n){var r=this,i=new Xn;return e._s.enqueue(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,wM(e,n)];case 1:return a.sent(),[4,bM(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===P.FAILED_PRECONDITION||c.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function HN(e){if(e.R_||e.P_)throw new G(P.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qE=function(){function e(){}return e.prototype.Uf=function(t,n){switch(n===void 0&&(n="none"),ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ge(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,n);case 5:return t.stringValue;case 6:return this.Wf(fc(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,n);case 10:return this.Hf(t.mapValue,n);default:throw ft()}},e.prototype.Hf=function(t,n){var r=this,i={};return fh(t.fields||{},function(s,a){i[s]=r.Uf(a,n)}),i},e.prototype.Gf=function(t){return new sg(Ge(t.latitude),Ge(t.longitude))},e.prototype.zf=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.Uf(i,n)})},e.prototype.Kf=function(t,n){switch(n){case"previous":var r=KP(t);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(Mf(t));default:return null}},e.prototype.Qf=function(t){var n=_s(t);return new lr(n.seconds,n.nanos)},e.prototype.Jf=function(t,n){var r=Xt.ot(t);Et(AD(r));var i=new Hp(r.get(1),r.get(3)),s=new vt(r.Y(5));return i.isEqual(n)||Ye("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}(),Hf=function(){function e(t,n,r,i,s){this.Yf=t,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ne(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this.Zf!==null},e.prototype.data=function(){if(this.Zf){if(this.v_){var t=new sX(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},e.prototype.get=function(t){if(this.Zf){var n=this.Zf.data().field(ov("DocumentSnapshot.get",t));if(n!==null)return this.Xf.Uf(n)}},e}(),sX=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Hf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(e,t){return typeof t=="string"?UE(e,t):t instanceof Wt?t.d_.f_:t.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(e){if(Qp(e)&&e.xt.length===0)throw new G(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bh=function(){};function Ko(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s.td(e)}return e}var aX=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return tt(t,e),t.prototype.td=function(n){var r=Ga(n.firestore),i=function(s,a,c,l,h,d,v){var m;if(h.ut()){if(d==="array-contains"||d==="array-contains-any")throw new G(P.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){KN(v,d);for(var y=[],b=0,E=v;b<E.length;b++){var T=E[b];y.push(zN(l,s,T))}m={arrayValue:{values:y}}}else m=zN(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||KN(v,d),m=gM(c,"where",v,d==="in"||d==="not-in");var C=Cr.create(h,d,m);return function(x,D){if(D.Ct()){var F=iE(x);if(F!==null&&!F.isEqual(D.field))throw new G(P.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+F.toString()+"' and '"+D.field.toString()+"'");var X=rE(x);X!==null&&SM(x,D.field,X)}var j=function(Tt,ee){for(var dt=0,vn=Tt.filters;dt<vn.length;dt++){var O=vn[dt];if(ee.indexOf(O.op)>=0)return O.op}return null}(x,function(Tt){switch(Tt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(j!==null)throw j===D.op?new G(P.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+D.op.toString()+"' filter."):new G(P.INVALID_ARGUMENT,"Invalid query. You cannot use '"+D.op.toString()+"' filters with '"+j.toString()+"' filters.")}(s,C),C}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new fr(n.firestore,n.v_,function(s,a){var c=s.filters.concat([a]);return new Po(s.path,s.collectionGroup,s.xt.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},t}(bh),uX=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return tt(t,e),t.prototype.td=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new G(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Ku(s,a);return function(l,h){if(rE(l)===null){var d=iE(l);d!==null&&SM(l,d,h.field)}}(i,c),c}(n.C_,this.ed,this.rd);return new fr(n.firestore,n.v_,function(i,s){var a=i.xt.concat([s]);return new Po(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},t}(bh),GN=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.od=r,s.ad=i,s}return tt(t,e),t.prototype.td=function(n){return new fr(n.firestore,n.v_,tD(n.C_,this.od,this.ad))},t}(bh),YN=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return tt(t,e),t.prototype.td=function(n){var r=IM(n,this.type,this.ud,this.hd);return new fr(n.firestore,n.v_,function(i,s){return new Po(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},t}(bh),$N=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return tt(t,e),t.prototype.td=function(n){var r=IM(n,this.type,this.ud,this.hd);return new fr(n.firestore,n.v_,function(i,s){return new Po(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},t}(bh);function IM(e,t,n,r){if(n[0]instanceof Wt&&(n[0]=n[0].d_),n[0]instanceof Hf)return function(s,a,c,l,h){if(!l)throw new G(P.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,m=dc(s);v<m.length;v++){var y=m[v];if(y.field.ut())d.push($p(a,l.key));else{var b=l.field(y.field);if(Xb(b))throw new G(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var E=y.field.rt();throw new G(P.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(b)}}return new Ff(d,h)}(e.C_,e.firestore.I_,t,n[0].Zf,r);var i=Ga(e.firestore);return function(s,a,c,l,h,d){var v=s.xt;if(h.length>v.length)throw new G(P.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var b=h[y];if(v[y].field.ut()){if(typeof b!="string")throw new G(P.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof b);if(!oE(s)&&b.indexOf("/")!==-1)throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+b+"' contains a slash.");var E=s.path.child(Xt.ot(b));if(!vt.wt(E))throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var T=new vt(E);m.push($p(a,T))}else{var C=gM(c,l,b);m.push(C)}}return new Ff(m,d)}(e.C_,e.firestore.I_,i,t,n,r)}function zN(e,t,n){if(n instanceof Wt&&(n=n.d_),typeof n=="string"){if(n==="")throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!oE(t)&&n.indexOf("/")!==-1)throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Xt.ot(n));if(!vt.wt(r))throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $p(e,new vt(r))}if(n instanceof Ne)return $p(e,n.S_);throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+og(n)+".")}function KN(e,t){if(!Array.isArray(e)||e.length===0)throw new G(P.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new G(P.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function SM(e,t,n){if(!n.isEqual(t))throw new G(P.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cX=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return tt(t,e),t.prototype.Wf=function(n){return new Ra(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Ne(this.firestore,null,r)},t}(qE),ca=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),bo=function(e){function t(n,r,i,s,a,c){var l=this;return(l=e.call(this,n,r,i,s,c)||this).Yf=n,l.ld=n,l.metadata=a,l}return tt(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new sf(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(ov("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},t}(Hf),sf=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(bo),is=function(){function e(t,n,r,i){this.Yf=t,this.Xf=n,this._d=i,this.metadata=new ca(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._d.docs.forEach(function(i){t.call(n,new sf(r.Yf,r.Xf,i.key,i,new ca(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._d.xe)throw new G(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(c){var l=new sf(r.Yf,r.Xf,c.doc.key,c.doc,new ca(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}var a=r._d.Se;return r._d.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new sf(r.Yf,r.Xf,c.doc.key,c.doc,new ca(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:lX(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this.dd=n),this.fd},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function AM(e,t){return e instanceof bo&&t instanceof bo?e.Yf===t.Yf&&e.S_.isEqual(t.S_)&&(e.Zf===null?t.Zf===null:e.Zf.isEqual(t.Zf))&&e.v_===t.v_:e instanceof is&&t instanceof is&&e.Yf===t.Yf&&fM(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._d.isEqual(t._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wa=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return tt(t,e),t.prototype.Wf=function(n){return new Ra(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Ne(this.firestore,null,r)},t}(qE);function QN(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Qt(e,Ne);var s=Qt(e.firestore,Ue),a=Ga(s);return t instanceof Wt&&(t=t.d_),Gf(s,[(typeof t=="string"||t instanceof wo?LE(a,"updateDoc",e.S_,t,n,r):ME(a,"updateDoc",e.S_,t)).F_(e.S_,Rn.exists(!0))])}function CM(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e instanceof Wt&&(e=e.d_);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||Sc(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Sc(i[c])){var m=i[c];i[c]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[c+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[c+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Ne)h=Qt(e.firestore,Ue),d=Uc(e.S_.path),l={next:function(E){i[c]&&i[c](s0(h,e,E))},error:i[c+1],complete:i[c+2]};else{var y=Qt(e,fr);h=Qt(y.firestore,Ue),d=y.C_;var b=new wa(h);l={next:function(E){i[c]&&i[c](new is(h,b,y,E))},error:i[c+1],complete:i[c+2]},TM(e.C_)}return function(E,T,C,x){var D=this,F=new ig(x),X=new SE(T,F,C);return E._s.Ps(function(){return R(D,void 0,void 0,function(){var j;return N(this,function(Tt){switch(Tt.label){case 0:return j=EE,[4,Ic(E)];case 1:return[2,j.apply(void 0,[Tt.sent(),X])]}})})}),function(){F.i_(),E._s.Ps(function(){return R(D,void 0,void 0,function(){var j;return N(this,function(Tt){switch(Tt.label){case 0:return j=TE,[4,Ic(E)];case 1:return[2,j.apply(void 0,[Tt.sent(),X])]}})})})}}(hn(h),d,v,l)}function Gf(e,t){return function(n,r){var i=this,s=new Xn;return n._s.Ps(function(){return R(i,void 0,void 0,function(){var a;return N(this,function(c){switch(c.label){case 0:return a=NQ,[4,BE(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(hn(e),t)}function s0(e,t,n){var r=n.docs.get(t.S_),i=new wa(e);return new bo(e,i,t.S_,r,new ca(n.hasPendingWrites,n.fromCache),t.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fX=function(){function e(t,n){this.Yf=t,this.wd=n,this.Ed=[],this.Td=!1,this.Id=Ga(t)}return e.prototype.set=function(t,n,r){this.md();var i=os(t,this.Yf),s=cg(i.v_,n,r),a=ag(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(a.F_(i.S_,Rn.Kt())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var a,c=os(t,this.Yf);return n instanceof Wt&&(n=n.d_),a=typeof n=="string"||n instanceof wo?LE(this.Id,"WriteBatch.update",c.S_,n,r,i):ME(this.Id,"WriteBatch.update",c.S_,n),this.Ed.push(a.F_(c.S_,Rn.exists(!0))),this},e.prototype.delete=function(t){this.md();var n=os(t,this.Yf);return this.Ed=this.Ed.concat(new yh(n.S_,Rn.Kt())),this},e.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},e.prototype.md=function(){if(this.Td)throw new G(P.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function os(e,t){if(e instanceof Wt&&(e=e.d_),e.firestore!==t)throw new G(P.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hX=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Yf=n,i}return tt(t,e),t.prototype.get=function(n){var r=this,i=os(n,this.Yf),s=new wa(this.Yf);return e.prototype.get.call(this,n).then(function(a){return new bo(r.Yf,s,i.S_,a.Zf,new ca(!1,!1),i.v_)})},t}(function(){function e(t,n){this.Yf=t,this.Ad=n,this.Id=Ga(t)}return e.prototype.get=function(t){var n=this,r=os(t,this.Yf),i=new cX(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return ft();var a=s[0];if(a instanceof nn)return new Hf(n.Yf,i,r.S_,null,r.v_);if(a instanceof le)return new Hf(n.Yf,i,a.key,a,r.v_);throw ft()})},e.prototype.set=function(t,n,r){var i=os(t,this.Yf),s=cg(i.v_,n,r),a=ag(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=os(t,this.Yf);return n instanceof Wt&&(n=n.d_),a=typeof n=="string"||n instanceof wo?LE(this.Id,"Transaction.update",c.S_,n,r,i):ME(this.Id,"Transaction.update",c.S_,n),this.Ad.update(c.S_,a),this},e.prototype.delete=function(t){var n=os(t,this.Yf);return this.Ad.delete(n.S_),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){if(typeof Uint8Array>"u")throw new G(P.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function JN(){if(typeof atob>"u")throw new G(P.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var NM=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.fromBase64String=function(n){return JN(),new t(Ra.fromBase64String(n))},t.fromUint8Array=function(n){return XN(),new t(Ra.fromUint8Array(n))},t.prototype.toBase64=function(){return JN(),this.d_.toBase64()},t.prototype.toUint8Array=function(){return XN(),this.d_.toUint8Array()},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(Wt),dX=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){HN(r=Qt(r,Ue));var s=hn(r),a=r.p_(),c=new i0;return WN(s,c,new aM(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t.d_,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){HN(n=Qt(n,Ue));var r=hn(n),i=n.p_(),s=new i0;return WN(r,s,new HQ(s,i.cacheSizeBytes))}(t.d_)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n.R_&&!n.P_)throw new G(P.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Xn;return n.Bf.Tf(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return gc.Kn()?(l=c+"main",[4,gc.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(gE(n.I_,n.w_))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t.d_)},e}(),WE=function(e){function t(n,r,i){var s=this;return(s=e.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof Hp||(s.Pd=n),s}return tt(t,e),Object.defineProperty(t.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),t.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},t.prototype.useEmulator=function(n,r){(function(i,s,a){var c=(i=Qt(i,Wf)).V_();c.host!=="firestore.googleapis.com"&&c.host!==s&&Gp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1}))})(this.d_,n,r)},t.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return R(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,jN(n)];case 1:return i=a.sent(),[4,VN(n)];case 2:return s=a.sent(),[2,(i.yo(!0),function(c){var l=et(c);return l.Nh.delete(0),wh(l)}(s))]}})})})}(hn(Qt(this.d_,Ue)))},t.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return R(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,jN(n)];case 1:return i=a.sent(),[4,VN(n)];case 2:return s=a.sent(),[2,(i.yo(!1),function(c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return(l=et(c)).Nh.add(0),[4,Bc(l)];case 1:return h.sent(),l.Oh.set("Offline"),[2]}})})}(s))]}})})})}(hn(Qt(this.d_,Ue)))},t.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&uM("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},t.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new Xn;return n._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=xQ,[4,BE(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(hn(Qt(this.d_,Ue)))},t.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var c=this,l=new ig(a);return s._s.Ps(function(){return R(c,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return h=function(v,m){et(v).Wh.add(m),m.next()},[4,Ic(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})}),function(){l.i_(),s._s.Ps(function(){return R(c,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return h=function(v,m){et(v).Wh.delete(m)},[4,Ic(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})})}}(hn(r=Qt(r,Ue)),Sc(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Pd)throw new G(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new sv(this,cM(this.d_,n))}catch(r){throw Gn(r,"collection()","Firestore.collection()")}},t.prototype.doc=function(n){try{return new ba(this,lp(this.d_,n))}catch(r){throw Gn(r,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(n){try{return new Eh(this,function(r,i){if(r=Qt(r,Wf),xE("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new G(P.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new fr(r,null,function(s){return new Po(Xt.ct(),s)}(i))}(this.d_,n))}catch(r){throw Gn(r,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,c){var l=this,h=new Xn;return a._s.Ps(function(){return R(l,void 0,void 0,function(){var d;return N(this,function(v){switch(v.label){case 0:return[4,function(m){return ug(m).then(function(y){return y.Sh})}(a)];case 1:return d=v.sent(),new eX(a._s,d,c,h).run(),[2]}})})}),h.promise}(hn(i),function(a){return s(new hX(i,a))})}(this.d_,function(i){return n(new RM(r,i))})},t.prototype.batch=function(){var n=this;return hn(this.d_),new OM(new fX(this.d_,function(r){return Gf(n.d_,r)}))},t.prototype.loadBundle=function(n){throw new G(P.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(n){throw new G(P.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(Wt),lg=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return tt(t,e),t.prototype.Wf=function(n){return new NM(new Ra(n))},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return ba.yd(r,this.firestore,null)},t}(qE);function pX(e){var t;t=e,di.setLogLevel(t)}var RM=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i.Xf=new lg(n),i}return tt(t,e),t.prototype.get=function(n){var r=this,i=la(n);return this.d_.get(i).then(function(s){return new Yf(r.Yf,new bo(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},t.prototype.set=function(n,r,i){var s=la(n);return i?(PE("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=la(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Ve([l,r,i],a)),this},t.prototype.delete=function(n){var r=la(n);return this.d_.delete(r),this},t}(Wt),OM=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.set=function(n,r,i){var s=la(n);return i?(PE("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=la(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Ve([l,r,i],a)),this},t.prototype.delete=function(n){var r=la(n);return this.d_.delete(r),this},t.prototype.commit=function(){return this.d_.commit()},t}(Wt),fg=function(e){function t(n,r,i){var s=this;return(s=e.call(this,i)||this).Yf=n,s.Xf=r,s}return tt(t,e),t.prototype.fromFirestore=function(n,r){var i=new sf(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new $f(this.Yf,i),r??{})},t.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},t.gd=function(n,r){var i=t.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new t(n,new lg(n),r),s.set(r,a)),a},t}(Wt);fg.Vd=new WeakMap;var ba=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new lg(n),i}return tt(t,e),t.pd=function(n,r,i){if(n.length%2!=0)throw new G(P.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new t(r,new Ne(r.d_,i,new vt(n)))},t.yd=function(n,r,i){return new t(r,new Ne(r.d_,i,n))},Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new sv(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new sv(this.firestore,cM(this.d_,n))}catch(r){throw Gn(r,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(n){return n instanceof Wt&&(n=n.d_),n instanceof Ne&&lM(this.d_,n)},t.prototype.set=function(n,r){r=PE("DocumentReference.set",r);try{return function(i,s,a){i=Qt(i,Ne);var c=Qt(i.firestore,Ue),l=cg(i.v_,s,a);return Gf(c,[ag(Ga(c),"setDoc",i.S_,l,i.v_!==null,a).F_(i.S_,Rn.Kt())])}(this.d_,n,r)}catch(i){throw Gn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?QN(this.d_,n):QN.apply(void 0,Ve([this.d_,n,r],i))}catch(a){throw Gn(a,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Gf(Qt((n=this.d_).firestore,Ue),[new yh(n.S_,Rn.Kt())]);var n},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=kM(r),a=xM(r,function(c){return new Yf(n.firestore,new bo(n.firestore.d_,n.Xf,c.S_,c.Zf,c.metadata,n.d_.v_))});return CM(this.d_,s,a)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Qt(i,Ne);var s=Qt(i.firestore,Ue),a=hn(s),c=new wa(s);return function(l,h){var d=this,v=new Xn;return l._s.Ps(function(){return R(d,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(b,E,T){return R(this,void 0,void 0,function(){var C,x;return N(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,function(F,X){var j=et(F);return j.persistence.runTransaction("read document","readonly",function(Tt){return j.Tc.Ho(Tt,X)})}(b,E)];case 1:return(x=D.sent())instanceof le?T.resolve(x):x instanceof nn?T.resolve(null):T.reject(new G(P.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return C=D.sent(),x=jc(C,"Failed to get document '"+E+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,VE(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.S_).then(function(l){return new bo(s,c,i.S_,l,new ca(l instanceof le&&l.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Qt(i,Ne);var s=Qt(i.firestore,Ue);return BN(hn(s),i.S_,{source:"server"}).then(function(a){return s0(s,i,a)})}(this.d_):function(i){i=Qt(i,Ne);var s=Qt(i.firestore,Ue);return BN(hn(s),i.S_).then(function(a){return s0(s,i,a)})}(this.d_)).then(function(i){return new Yf(r.firestore,new bo(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(fg.gd(this.firestore,n)))},t}(Wt);function Gn(e,t,n){return e.message=e.message.replace(t,n),e}function kM(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Sc(r))return r}return{}}function xM(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=Sc(e[0])?e[0]:Sc(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Yf=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return tt(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new ba(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(n){return this.d_.data(n)},t.prototype.get=function(n,r){return this.d_.get(n,r)},t.prototype.isEqual=function(n){return AM(this.d_,n.d_)},t}(Wt),$f=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.prototype.data=function(n){return this.d_.data(n)},t}(Yf),Eh=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new lg(n),i}return tt(t,e),t.prototype.where=function(n,r,i){try{return new t(this.firestore,Ko(this.d_,function(s,a,c){var l=a,h=ov("where",s);return new aX(h,l,c)}(n,r,i)))}catch(s){throw Gn(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(n,r){try{return new t(this.firestore,Ko(this.d_,function(i,s){s===void 0&&(s="asc");var a=s,c=ov("orderBy",i);return new uX(c,a)}(n,r)))}catch(i){throw Gn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(n){try{return new t(this.firestore,Ko(this.d_,function(r){return LN("limit",r),new GN("limit",r,"F")}(n)))}catch(r){throw Gn(r,"limit()","Query.limit()")}},t.prototype.limitToLast=function(n){try{return new t(this.firestore,Ko(this.d_,function(r){return LN("limitToLast",r),new GN("limitToLast",r,"L")}(n)))}catch(r){throw Gn(r,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,Ko(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new YN("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw Gn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,Ko(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new YN("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw Gn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,Ko(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new $N("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw Gn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,Ko(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new $N("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw Gn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(n){return fM(this.d_,n.d_)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Qt(i,fr);var s=Qt(i.firestore,Ue),a=hn(s),c=new wa(s);return function(l,h){var d=this,v=new Xn;return l._s.Ps(function(){return R(d,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(b,E,T){return R(this,void 0,void 0,function(){var C,x,D,F,X;return N(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,nv(b,E,!0)];case 1:return X=j.sent(),C=new nM(E,X.Rc),x=C.fl(X.documents),D=C.wi(x,!1),T.resolve(D.snapshot),[3,3];case 2:return F=j.sent(),X=jc(F,"Failed to execute query '"+E+" against cache"),T.reject(X),[3,3];case 3:return[2]}})})},[4,VE(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.C_).then(function(l){return new is(s,c,i,l)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Qt(i,fr);var s=Qt(i.firestore,Ue),a=hn(s),c=new wa(s);return qN(a,i.C_,{source:"server"}).then(function(l){return new is(s,c,i,l)})}(this.d_):function(i){i=Qt(i,fr);var s=Qt(i.firestore,Ue),a=hn(s),c=new wa(s);return TM(i.C_),qN(a,i.C_).then(function(l){return new is(s,c,i,l)})}(this.d_)).then(function(i){return new a0(r.firestore,new is(r.firestore.d_,r.Xf,r.d_,i._d))})},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=kM(r),a=xM(r,function(c){return new a0(n.firestore,new is(n.firestore.d_,n.Xf,n.d_,c._d))});return CM(this.d_,s,a)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(fg.gd(this.firestore,n)))},t}(Wt),vX=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return tt(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new $f(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),t}(Wt),a0=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return tt(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new Eh(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new $f(n.Yf,r)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new vX(r.Yf,i)})},t.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new $f(i.Yf,s))})},t.prototype.isEqual=function(n){return AM(this.d_,n.d_)},t}(Wt),sv=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i.d_=r,i}return tt(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new ba(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ba(this.firestore,n===void 0?lp(this.d_):lp(this.d_,n))}catch(r){throw Gn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Qt(i.firestore,Ue),c=lp(i),l=cg(i.v_,s);return Gf(a,[ag(Ga(i.firestore),"addDoc",c.S_,l,i.v_!==null,{}).F_(c.S_,Rn.exists(!1))]).then(function(){return c})}(this.d_,n).then(function(i){return new ba(r.firestore,i)})},t.prototype.isEqual=function(n){return lM(this.d_,n.d_)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(fg.gd(this.firestore,n)))},t}(Eh);function la(e){return e instanceof Wt&&(e=e.d_),Qt(e,Ne)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gX=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call(this,new(wo.bind.apply(wo,Ve([void 0],n))))||this}return tt(t,e),t.documentId=function(){return new t(yi.ht().rt())},t.prototype.isEqual=function(n){return n instanceof Wt&&(n=n.d_),n instanceof wo&&this.d_.f_.isEqual(n.f_)},t}(Wt),mX=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return tt(t,e),t.serverTimestamp=function(){var n=new KQ("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new t(n)},t.delete=function(){var n=new DE("deleteField");return n._methodName="FieldValue.delete",new t(n)},t.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new QQ("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new XQ("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(n){var r=function(i){return new JQ("increment",i)}(n);return r._methodName="FieldValue.increment",new t(r)},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t}(Wt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yX(e){return function(t,n){var r=hn(t=Qt(t,Ue)),i=new iX;return function(s,a,c,l){var h=this,d=function(v,m){return function(y,b){return new GQ(y,b)}(function(y,b){if(y instanceof Uint8Array)return PN(y,b);if(y instanceof ArrayBuffer)return PN(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(c,_h(a));s._s.Ps(function(){return R(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=WQ,[4,BE(s)];case 1:return v.apply(void 0,[m.sent(),d,l]),[2]}})})})}(r,t.I_,n,i),i}(this.d_,e)}function _X(e){var t,n,r=this;return(t=this.d_,n=e,function(i,s){var a=this;return i._s.enqueue(function(){return R(a,void 0,void 0,function(){var c;return N(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=et(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.wo.Ms(m,d)})},[4,VE(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(hn(t=Qt(t,Ue)),n).then(function(i){return i?new fr(t,null,i.query):null})).then(function(i){return i?new Eh(r,i):null})}var wX={Firestore:WE,GeoPoint:sg,Timestamp:lr,Blob:NM,Transaction:RM,WriteBatch:OM,DocumentReference:ba,DocumentSnapshot:Yf,Query:Eh,QueryDocumentSnapshot:$f,QuerySnapshot:a0,CollectionReference:sv,FieldPath:gX,FieldValue:mX,setLogLevel:pX,CACHE_SIZE_UNLIMITED:oX};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(e){(function(t,n){t.INTERNAL.registerComponent(new pr("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},wX)))})(e,function(t,n){return new WE(t,new Ue(t,n),new dX)}),e.registerVersion("@firebase/firestore","2.1.6")}bX(lt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(e){e.prototype.loadBundle=yX,e.prototype.namedQuery=_X}EX(WE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZN={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qu=function(e){tt(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function TX(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function IX(e,t,n){var r=TX(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var c=a.status;if(typeof c=="string"){if(!ZN[c])return new Qu("internal","internal");r=ZN[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Qu(r,i,s)}var SX=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return N(this,function(t){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},e.prototype.getContext=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AX="type.googleapis.com/google.protobuf.Int64Value",CX="type.googleapis.com/google.protobuf.UInt64Value";function tR(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var NX=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return tR(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case AX:case CX:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?tR(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RX(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Qu("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var eR=function(){function e(t,n,r,i,s){var a=this;i===void 0&&(i="us-central1"),this.app_=t,this.fetchImpl=s,this.serializer=new NX,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new SX(n,r),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return l()}});try{var c=new URL(i);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:r["Content-Type"]="application/json",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),[2,{status:0,json:null}];case 4:s=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i.json()];case 6:return s=a.sent(),[3,8];case 7:return a.sent(),[3,8];case 8:return[2,{status:i.status,json:s}]}})})},e.prototype.call=function(t,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y,b,E;return N(this,function(T){switch(T.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=T.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=RX(l),d=h.timer,v=h.promise,[4,Promise.race([nR(d,this.postJSON(i,s,a)),v,nR(d,this.cancelAllRequests)])];case 2:if(m=T.sent(),!m)throw new Qu("cancelled","Firebase Functions instance was deleted.");if(y=IX(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Qu("internal","Response is not valid JSON object.");if(b=m.json.data,typeof b>"u"&&(b=m.json.result),typeof b>"u")throw new Qu("internal","Response is missing data field.");return E=this.serializer.decode(b),[2,{data:E}]}})})},e}();function nR(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OX="functions";function kX(e,t){var n={Functions:eR};function r(i,s){var a=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),l=i.getProvider("messaging");return new eR(a,c,l,s,t)}e.INTERNAL.registerComponent(new pr(OX,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var xX="@firebase/functions",PX="0.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kX(lt,fetch.bind(self));lt.registerVersion(xX,PX);function DX(e){return Array.prototype.slice.call(e)}function PM(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function hg(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),PM(r).then(s,a)});return i.request=r,i}function MX(e,t,n){var r=hg(e,t,n);return r.then(function(i){if(i)return new zf(i,r.request)})}function Hc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function HE(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return hg(this[t],i,arguments)})})}function dg(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function DM(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return MX(this[t],i,arguments)})})}function $a(e){this._index=e}Hc($a,"_index",["name","keyPath","multiEntry","unique"]);HE($a,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);DM($a,"_index",IDBIndex,["openCursor","openKeyCursor"]);function zf(e,t){this._cursor=e,this._request=t}Hc(zf,"_cursor",["direction","key","primaryKey","value"]);HE(zf,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(zf.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),PM(t._request).then(function(r){if(r)return new zf(r,t._request)})})})});function Ki(e){this._store=e}Ki.prototype.createIndex=function(){return new $a(this._store.createIndex.apply(this._store,arguments))};Ki.prototype.index=function(){return new $a(this._store.index.apply(this._store,arguments))};Hc(Ki,"_store",["name","keyPath","indexNames","autoIncrement"]);HE(Ki,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);DM(Ki,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);dg(Ki,"_store",IDBObjectStore,["deleteIndex"]);function Th(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Th.prototype.objectStore=function(){return new Ki(this._tx.objectStore.apply(this._tx,arguments))};Hc(Th,"_tx",["objectStoreNames","mode"]);dg(Th,"_tx",IDBTransaction,["abort"]);function pg(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Th(n)}pg.prototype.createObjectStore=function(){return new Ki(this._db.createObjectStore.apply(this._db,arguments))};Hc(pg,"_db",["name","version","objectStoreNames"]);dg(pg,"_db",IDBDatabase,["deleteObjectStore","close"]);function vg(e){this._db=e}vg.prototype.transaction=function(){return new Th(this._db.transaction.apply(this._db,arguments))};Hc(vg,"_db",["name","version","objectStoreNames"]);dg(vg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[Ki,$a].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=DX(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[$a,Ki].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function GE(e,t,n){var r=hg(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new pg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new vg(s)})}function F_(e){return hg(indexedDB,"deleteDatabase",[e])}var LX="@firebase/installations",MM="0.4.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LM=1e4,FM="w:"+MM,UM="FIS_v2",FX="https://firebaseinstallations.googleapis.com/v1",UX=60*60*1e3,jX="installations",VX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo,BX=(Qo={},Qo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Qo["not-registered"]="Firebase Installation is not registered.",Qo["installation-not-found"]="Firebase Installation not found.",Qo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Qo["app-offline"]="Could not process request. Application offline.",Qo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Qo),Co=new Ts(jX,VX,BX);function jM(e){return e instanceof Pc&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(e){var t=e.projectId;return FX+"/projects/"+t+"/installations"}function VM(e){return{token:e.token,requestStatus:2,expiresIn:qX(e.expiresIn),creationTime:Date.now()}}function $E(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Co.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function BM(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function qM(e,t){var n=t.refreshToken,r=BM(e);return r.append("Authorization",WX(n)),r}function zE(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function qX(e){return Number(e.replace("s","000"))}function WX(e){return UM+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HX(e,t){var n=t.fid;return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return r=YE(e),i=BM(e),s={fid:n,authVersion:UM,appId:e.appId,sdkVersion:FM},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,zE(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:VM(l.authToken)},[2,h];case 3:return[4,$E("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(e){var t=btoa(String.fromCharCode.apply(String,xo(e)));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YX=/^[cdef][\w-]{21}$/,u0="";function $X(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=zX(e);return YX.test(n)?n:u0}catch{return u0}}function zX(e){var t=GX(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ac=new Map;function HM(e,t){var n=Gc(e);GM(n,t),XX(n,t)}function KX(e,t){YM();var n=Gc(e),r=Ac.get(n);r||(r=new Set,Ac.set(n,r)),r.add(t)}function QX(e,t){var n=Gc(e),r=Ac.get(n);r&&(r.delete(t),r.size===0&&Ac.delete(n),$M())}function GM(e,t){var n,r,i=Ac.get(e);if(i)try{for(var s=Fe(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function XX(e,t){var n=YM();n&&n.postMessage({key:e,fid:t}),$M()}var fa=null;function YM(){return!fa&&"BroadcastChannel"in self&&(fa=new BroadcastChannel("[Firebase] FID Change"),fa.onmessage=function(e){GM(e.data.key,e.data.fid)}),fa}function $M(){Ac.size===0&&fa&&(fa.close(),fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JX="firebase-installations-database",ZX=1,xa="firebase-installations-store",U_=null;function KE(){return U_||(U_=GE(JX,ZX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(xa)}})),U_}function av(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return n=Gc(e),[4,KE()];case 1:return r=c.sent(),i=r.transaction(xa,"readwrite"),s=i.objectStore(xa),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(t,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==t.fid)&&HM(e,t.fid),[2,t]}})})}function QE(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=Gc(e),[4,KE()];case 1:return n=i.sent(),r=n.transaction(xa,"readwrite"),[4,r.objectStore(xa).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Ih(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=Gc(e),[4,KE()];case 1:return r=l.sent(),i=r.transaction(xa,"readwrite"),s=i.objectStore(xa),[4,s.get(n)];case 2:return a=l.sent(),c=t(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&HM(e,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Ih(e,function(s){var a=t8(s),c=e8(e,a);return t=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==u0?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function t8(e){var t=e||{fid:$X(),registrationStatus:0};return zM(t)}function e8(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Co.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=n8(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:r8(e)}:{installationEntry:t}}function n8(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,HX(e,t)];case 1:return n=i.sent(),[2,av(e,n)];case 2:return r=i.sent(),jM(r)&&r.customData.serverCode===409?[4,QE(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,av(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function r8(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,rR(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,WM(100)];case 3:return s.sent(),[4,rR(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,XE(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function rR(e){return Ih(e,function(t){if(!t)throw Co.create("installation-not-found");return zM(t)})}function zM(e){return i8(e)?{fid:e.fid,registrationStatus:0}:e}function i8(e){return e.registrationStatus===1&&e.registrationTime+LM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return N(this,function(m){switch(m.label){case 0:return i=s8(n,t),s=qM(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:FM}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,zE(function(){return fetch(i,l)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=m.sent(),v=VM(d),[2,v];case 3:return[4,$E("Generate Auth Token",h)];case 4:throw m.sent()}})})}function s8(e,t){var n=t.fid;return YE(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,Ih(e.appConfig,function(c){if(!KM(c))throw Co.create("not-registered");var l=c.authToken;if(!t&&c8(l))return c;if(l.requestStatus===1)return n=a8(e,t),c;if(!navigator.onLine)throw Co.create("app-offline");var h=f8(c);return n=u8(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function a8(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,iR(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,WM(100)];case 3:return i.sent(),[4,iR(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,JE(e,t)]:[2,r]}})})}function iR(e){return Ih(e,function(t){if(!KM(t))throw Co.create("not-registered");var n=t.authToken;return h8(n)?he(he({},t),{authToken:{requestStatus:0}}):t})}function u8(e,t){return R(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,o8(e,t)];case 1:return n=s.sent(),i=he(he({},t),{authToken:n}),[4,av(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),jM(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,QE(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=he(he({},t),{authToken:{requestStatus:0}}),[4,av(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function KM(e){return e!==void 0&&e.registrationStatus===2}function c8(e){return e.requestStatus===2&&!l8(e)}function l8(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+UX}function f8(e){var t={requestStatus:1,requestTime:Date.now()};return he(he({},e),{authToken:t})}function h8(e){return e.requestStatus===1&&e.requestTime+LM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,XE(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):JE(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(e,t){return t===void 0&&(t=!1),R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,v8(e.appConfig)];case 1:return r.sent(),[4,JE(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function v8(e){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return[4,XE(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(e,t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=m8(e,t),r=qM(e,t),i={method:"DELETE",headers:r},[4,zE(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,$E("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function m8(e,t){var n=t.fid;return YE(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Ih(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Co.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Co.create("app-offline");case 3:return[4,g8(t,n)];case 4:return r.sent(),[4,QE(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _8(e,t){var n=e.appConfig;return KX(n,t),function(){QX(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(e){var t,n;if(!e||!e.options)throw j_("App Configuration");if(!e.name)throw j_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Fe(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw j_(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function j_(e){return Co.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(e){var t="installations";e.INTERNAL.registerComponent(new pr(t,function(n){var r=n.getProvider("app").getImmediate(),i=w8(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return d8(a)},getToken:function(l){return p8(a,l)},delete:function(){return y8(a)},onIdChange:function(l){return _8(a,l)}};return c},"PUBLIC")),e.registerVersion(LX,MM)}b8(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,E8=(Qe={},Qe["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Qe["only-available-in-window"]="This method is available in a Window context.",Qe["only-available-in-sw"]="This method is available in a service worker context.",Qe["permission-default"]="The notification permission was not granted and dismissed instead.",Qe["permission-blocked"]="The notification permission was not granted and blocked instead.",Qe["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Qe["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Qe["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Qe["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Qe["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Qe["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Qe["token-update-no-token"]="FCM returned no token when updating the user to push.",Qe["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Qe["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Qe["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Qe["invalid-vapid-key"]="The public VAPID key must be a string.",Qe["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Qe),ie=new Ts("messaging","Messaging",E8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T8="/firebase-messaging-sw.js",I8="/firebase-cloud-messaging-push-scope",uv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",S8="https://fcmregistrations.googleapis.com/v1",QM="FCM_MSG",A8="FirebaseMessaging: ",C8="google.c.a.e",XM="google.c.a.c_id",N8="google.c.a.ts",R8="google.c.a.c_l",O8=1e3,k8=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Pa;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Pa||(Pa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,xo(t)));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function x8(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V_="fcm_token_details_db",P8=5,oR="fcm_token_object_Store";function D8(e){return R(this,void 0,void 0,function(){var t,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(c){return c.name}),!n.includes(V_))return[2,null];a.label=2;case 2:return r=null,[4,GE(V_,P8,function(c){return R(s,void 0,void 0,function(){var l,h,d,d,d,v;return N(this,function(m){switch(m.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(oR)?(l=c.transaction.objectStore(oR),[4,l.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,l.clear()];case 2:if(m.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:lo(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:lo(d.auth),p256dh:lo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:lo(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:lo(d.auth),p256dh:lo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:lo(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,F_(V_)];case 4:return a.sent(),[4,F_("fcm_vapid_details_db")];case 5:return a.sent(),[4,F_("undefined")];case 6:return a.sent(),[2,M8(r)?r:null]}})})}function M8(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L8="firebase-messaging-database",F8=1,Da="firebase-messaging-store",B_=null;function ZE(){return B_||(B_=GE(L8,F8,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Da)}})),B_}function cv(e){return R(this,void 0,void 0,function(){var t,n,r,i;return N(this,function(s){switch(s.label){case 0:return t=eT(e),[4,ZE()];case 1:return n=s.sent(),[4,n.transaction(Da).objectStore(Da).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,D8(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,tT(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function tT(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=eT(e),[4,ZE()];case 1:return r=s.sent(),i=r.transaction(Da,"readwrite"),[4,i.objectStore(Da).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function U8(e){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return t=eT(e),[4,ZE()];case 1:return n=i.sent(),r=n.transaction(Da,"readwrite"),[4,r.objectStore(Da).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function eT(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,rT(e)];case 1:n=h.sent(),r=ZM(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(nT(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),ie.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,ie.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw ie.create("token-subscribe-no-token");return[2,s.token]}})})}function V8(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,rT(e)];case 1:n=h.sent(),r=ZM(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(nT(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),ie.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,ie.create("token-update-failed",{errorInfo:l});if(!s.token)throw ie.create("token-update-no-token");return[2,s.token]}})})}function JM(e,t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,rT(e)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(nT(e.appConfig)+"/"+t,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,ie.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),ie.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function nT(e){var t=e.projectId;return S8+"/projects/"+t+"/registrations"}function rT(e){var t=e.appConfig,n=e.installations;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function ZM(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==uv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B8=7*24*60*60*1e3;function c0(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw ie.create("permission-blocked");return[4,W8(t,n)];case 1:return r=c.sent(),[4,cv(e)];case 2:return i=c.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:lo(r.getKey("auth")),p256dh:lo(r.getKey("p256dh"))},i?[3,3]:[2,sR(e,s)];case 3:if(H8(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,JM(e,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,sR(e,s)];case 8:return Date.now()>=i.createTime+B8?[2,q8({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function af(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,cv(e)];case 1:return n=i.sent(),n?[4,JM(e,n.token)]:[3,4];case 2:return i.sent(),[4,U8(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function q8(e,t,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,V8(t,e)];case 1:return r=a.sent(),i=he(he({},e),{token:r,createTime:Date.now()}),[4,tT(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,af(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function sR(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,j8(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,tT(e,r)];case 2:return i.sent(),[2,r.token]}})})}function W8(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:x8(t)})]}})})}function H8(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(e){var t={from:e.from,collapseKey:e.collapse_key};return Y8(t,e),$8(t,e),z8(t,e),t}function Y8(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function $8(e,t){t.data&&(e.data=t.data)}function z8(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(e){return typeof e=="object"&&!!e&&XM in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K8=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw ie.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,cv(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:uv,i.label=2;case 2:return[2,c0(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return af(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw ie.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw ie.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw ie.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw ie.create("only-available-in-window")},e.prototype.onMessage=function(){throw ie.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw ie.create("only-available-in-window")},e.prototype.onPush=function(t){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=X8(t),n?[4,eL()]:(console.debug(A8+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),Z8(r)?[2,t7(r,n)]:(i=!1,n.notification?[4,e7(Q8(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=G8(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,aR(O8)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,af(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,cv(this.firebaseDependencies)];case 3:return s=a.sent(),[4,af(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,c0(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:uv)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return R(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[QM],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=n7(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,J8(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,aR(k8)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=Pa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},e}();function Q8(e){var t,n=he({},e.notification);return n.data=(t={},t[QM]=e,t),n}function X8(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function J8(e){return R(this,void 0,void 0,function(){var t,n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,eL()];case 1:t=l.sent();try{for(n=Fe(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function Z8(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function t7(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Pa.PUSH_RECEIVED;try{for(var i=Fe(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function eL(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function e7(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function n7(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(tL(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r7=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Pa.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(o7(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,tL(r)&&r[C8]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw ie.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,c0(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=uv),[2]})})},e.prototype.updateSwReg=function(t){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw ie.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(T8,{scope:I8})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),ie.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,af(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var t;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?ie.create("permission-blocked"):ie.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw ie.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw ie.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw ie.create("invalid-sw-registration");if(this.swRegistration)throw ie.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw ie.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw ie.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=i7(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[XM],message_name:n[R8],message_time:n[N8],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function i7(e){switch(e){case Pa.NOTIFICATION_CLICKED:return"notification_open";case Pa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function o7(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(e){var t,n;if(!e||!e.options)throw q_("App Configuration Object");if(!e.name)throw q_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Fe(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw q_(c)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function q_(e){return ie.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a7="messaging";function u7(e){var t=e.getProvider("app").getImmediate(),n=s7(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!nL())throw ie.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new K8(s):new r7(s)}var c7={isSupported:nL};lt.INTERNAL.registerComponent(new pr(a7,u7,"PUBLIC").setServiceProps(c7));function nL(){return self&&"ServiceWorkerGlobalScope"in self?f7():l7()}function l7(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function f7(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rL="firebasestorage.googleapis.com",iL="storageBucket",h7=2*60*1e3,d7=10*60*1e3,Be=function(e){tt(t,e);function t(n,r){var i=e.call(this,W_(n),"Firebase Storage: "+r+" ("+W_(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return t.prototype.codeEquals=function(n){return W_(n)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),t}(Pc),Re={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function W_(e){return"storage/"+e}function iT(){var e="An unknown error occurred, please check the error payload for server response.";return new Be(Re.UNKNOWN,e)}function p7(e){return new Be(Re.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function v7(e){return new Be(Re.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g7(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Be(Re.UNAUTHENTICATED,e)}function m7(e){return new Be(Re.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function y7(){return new Be(Re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oL(){return new Be(Re.CANCELED,"User canceled the upload/download.")}function _7(e){return new Be(Re.INVALID_URL,"Invalid URL '"+e+"'.")}function w7(e){return new Be(Re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function b7(){return new Be(Re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+iL+"' property when initializing the app?")}function sL(){return new Be(Re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function E7(){return new Be(Re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function T7(){return new Be(Re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uf(e){return new Be(Re.INVALID_ARGUMENT,e)}function aL(){return new Be(Re.APP_DELETED,"The Firebase app was deleted.")}function uL(e){return new Be(Re.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cf(e,t){return new Be(Re.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Wd(e){throw new Be(Re.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},H_=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function cL(e,t){switch(e){case Nr.RAW:return new H_(lL(t));case Nr.BASE64:case Nr.BASE64URL:return new H_(fL(e,t));case Nr.DATA_URL:return new H_(S7(t),A7(t))}throw iT()}function lL(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function I7(e){var t;try{t=decodeURIComponent(e)}catch{throw cf(Nr.DATA_URL,"Malformed data URL.")}return lL(t)}function fL(e,t){switch(e){case Nr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw cf(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Nr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw cf(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(t)}catch{throw cf(e,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var hL=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw cf(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=C7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function S7(e){var t=new hL(e);return t.base64?fL(Nr.BASE64,t.rest):I7(t.rest)}function A7(e){var t=new hL(e);return t.contentType}function C7(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N7={STATE_CHANGED:"state_changed"},Ot={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function G_(e){switch(e){case Ot.RUNNING:case Ot.PAUSING:case Ot.CANCELING:return Yn.RUNNING;case Ot.PAUSED:return Yn.PAUSED;case Ot.SUCCESS:return Yn.SUCCESS;case Ot.CANCELED:return Yn.CANCELED;case Ot.ERROR:return Yn.ERROR;default:return Yn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ea||(Ea={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R7=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ea.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ea.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ea.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Wd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Wd("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Wd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Wd("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O7=function(){function e(){}return e.prototype.createXhrIo=function(){return new R7},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(e){return e!==void 0}function x7(e){return typeof e=="function"}function P7(e){return typeof e=="object"&&!Array.isArray(e)}function gg(e){return typeof e=="string"||e instanceof String}function uR(e){return oT()&&e instanceof Blob}function oT(){return typeof Blob<"u"}function l0(e,t,n,r){if(r<t)throw new Be(Re.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw new Be(Re.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function M7(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=D7();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(oT())return new Blob(e);throw new Be(Re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function L7(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sT=function(){function e(t,n){var r=0,i="";uR(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(uR(this.data_)){var r=this.data_,i=L7(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(oT()){var r=t.map(function(l){return l instanceof e?l.data_:l});return new e(M7.apply(null,r))}else{var i=t.map(function(l){return gg(l)?cL(Nr.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch{return new e(t,"")}if(n.path==="")return n;throw w7(t)},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(ee){ee.path.charAt(ee.path.length-1)==="/"&&(ee.path_=ee.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(ee){ee.path_=decodeURIComponent(ee.path)}for(var h="v[A-Za-z0-9_]+",d=rL.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp("^https?://"+d+"/"+h+"/b/"+r+"/o"+v,"i"),y={bucket:1,path:3},b="(?:storage.googleapis.com|storage.cloud.google.com)",E="([^?#]*)",T=new RegExp("^https?://"+b+"/"+r+"/"+E,"i"),C={bucket:1,path:2},x=[{regex:a,indices:c,postModify:i},{regex:m,indices:y,postModify:l},{regex:T,indices:C,postModify:l}],D=0;D<x.length;D++){var F=x[D],X=F.regex.exec(t);if(X){var j=X[F.indices.bucket],Tt=X[F.indices.path];Tt||(Tt=""),n=new e(j,Tt),F.postModify(n);break}}if(n==null)throw _7(t);return n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(e){var t;try{t=JSON.parse(e)}catch{return null}return P7(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function U7(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function dL(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(e){return"https://"+rL+"/v0"+e}function pL(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(e,t){return t}var qn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||j7}return e}(),Hd=null;function V7(e){return!gg(e)||e.length<2?e:dL(e)}function mg(){if(Hd)return Hd;var e=[];e.push(new qn("bucket")),e.push(new qn("generation")),e.push(new qn("metageneration")),e.push(new qn("name","fullPath",!0));function t(s,a){return V7(a)}var n=new qn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new qn("size");return i.xform=r,e.push(i),e.push(new qn("timeCreated")),e.push(new qn("updated")),e.push(new qn("md5Hash",null,!0)),e.push(new qn("cacheControl",null,!0)),e.push(new qn("contentDisposition",null,!0)),e.push(new qn("contentEncoding",null,!0)),e.push(new qn("contentLanguage",null,!0)),e.push(new qn("contentType",null,!0)),e.push(new qn("metadata","customMetadata",!0)),Hd=e,Hd}function B7(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new ci(r,i);return t.makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function q7(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return B7(r,e),r}function vL(e,t,n){var r=aT(t);if(r===null)return null;var i=r;return q7(e,i,n)}function W7(e,t){var n=aT(t);if(n===null||!gg(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(c){var l=e.bucket,h=e.fullPath,d="/b/"+i(l)+"/o/"+i(h),v=Ns(d),m=pL({alt:"media",token:c});return v+m});return a[0]}function uT(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cR="prefixes",lR="items";function H7(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[cR])for(var i=0,s=n[cR];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=e.makeStorageReference(new ci(t,c));r.prefixes.push(l)}if(n[lR])for(var h=0,d=n[lR];h<d.length;h++){var v=d[h],l=e.makeStorageReference(new ci(t,v.name));r.items.push(l)}return r}function G7(e,t,n){var r=aT(n);if(r===null)return null;var i=r;return H7(e,t,i)}var Mo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(e){if(!e)throw iT()}function yg(e,t){function n(r,i){var s=vL(e,i,t);return Bi(s!==null),s}return n}function Y7(e,t){function n(r,i){var s=G7(e,t,i);return Bi(s!==null),s}return n}function $7(e,t){function n(r,i){var s=vL(e,i,t);return Bi(s!==null),W7(s,i)}return n}function Yc(e){function t(n,r){var i;return n.getStatus()===401?i=g7():n.getStatus()===402?i=v7(e.bucket):n.getStatus()===403?i=m7(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function _g(e){var t=Yc(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=p7(e.path)),s.serverResponse=i.serverResponse,s}return n}function gL(e,t,n){var r=t.fullServerUrl(),i=Ns(r),s="GET",a=e.maxOperationRetryTime,c=new Mo(i,s,yg(e,n),a);return c.errorHandler=_g(t),c}function z7(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),c=Ns(a),l="GET",h=e.maxOperationRetryTime,d=new Mo(c,l,Y7(e,t.bucket),h);return d.urlParams=s,d.errorHandler=Yc(t),d}function K7(e,t,n){var r=t.fullServerUrl(),i=Ns(r),s="GET",a=e.maxOperationRetryTime,c=new Mo(i,s,$7(e,n),a);return c.errorHandler=_g(t),c}function Q7(e,t,n,r){var i=t.fullServerUrl(),s=Ns(i),a="PATCH",c=uT(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new Mo(s,a,yg(e,r),h);return d.headers=l,d.body=c,d.errorHandler=_g(t),d}function X7(e,t){var n=t.fullServerUrl(),r=Ns(n),i="DELETE",s=e.maxOperationRetryTime;function a(l,h){}var c=new Mo(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=_g(t),c}function J7(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function mL(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=J7(null,t)),r}function Z7(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var D="",F=0;F<2;F++)D=D+Math.random().toString().slice(2);return D}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=mL(t,r,i),d=uT(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+l+"--",y=sT.getBlob(v,r,m);if(y===null)throw sL();var b={name:h.fullPath},E=Ns(s),T="POST",C=e.maxUploadRetryTime,x=new Mo(E,T,yg(e,n),C);return x.urlParams=b,x.headers=a,x.body=y.uploadData(),x.errorHandler=Yc(t),x}var lv=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function cT(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Bi(!1)}var r=t||["active"];return Bi(!!n&&r.indexOf(n)!==-1),n}function tJ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=mL(t,r,i),c={name:a.fullPath},l=Ns(s),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=uT(a,n),m=e.maxUploadRetryTime;function y(E){cT(E);var T;try{T=E.getResponseHeader("X-Goog-Upload-URL")}catch{Bi(!1)}return Bi(gg(T)),T}var b=new Mo(l,h,y,m);return b.urlParams=c,b.headers=d,b.body=v,b.errorHandler=Yc(t),b}function eJ(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=cT(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bi(!1)}v||Bi(!1);var m=Number(v);return Bi(!isNaN(m)),new lv(m,r.size(),d==="final")}var a="POST",c=e.maxUploadRetryTime,l=new Mo(n,a,s,c);return l.headers=i,l.errorHandler=Yc(t),l}var fR=256*1024;function nJ(e,t,n,r,i,s,a,c){var l=new lv(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw E7();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,m=v+d,y=d===h?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":l.current},E=r.slice(v,m);if(E===null)throw sL();function T(F,X){var j=cT(F,["active","final"]),Tt=l.current+d,ee=r.size(),dt;return j==="final"?dt=yg(t,s)(F,X):dt=null,new lv(Tt,ee,j==="final",dt)}var C="POST",x=t.maxUploadRetryTime,D=new Mo(n,C,T,x);return D.headers=b,D.body=E.uploadData(),D.progressCallback=c||null,D.errorHandler=Yc(e),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rJ=function(){function e(t,n,r){var i=x7(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}(),iJ=function(){function e(t,n,r,i,s,a){this.bytesTransferred=t,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yL=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=mg(),this._resumable=this._shouldDoResumable(this._blob),this._state=Ot.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(Re.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(Ot.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(Re.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(Ot.ERROR))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state===Ot.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case Ot.RUNNING:t(r);break;case Ot.CANCELING:n._transition(Ot.CANCELED);break;case Ot.PAUSING:n._transition(Ot.PAUSED);break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n){var r=tJ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r){var i=eJ(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage.makeRequest(i,r);t._request=s,s.getPromise().then(function(a){a=a,t._request=void 0,t._updateProgress(a.current),t._needToFetchStatus=!1,a.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=fR*this._chunkMultiplier,r=new lv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=nJ(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(l){t._error=l,t._transition(Ot.ERROR);return}var c=t._ref.storage.makeRequest(a,s);t._request=c,c.getPromise().then(function(l){t._increaseMultiplier(),t._request=void 0,t._updateProgress(l.current),l.finalized?(t._metadata=l.metadata,t._transition(Ot.SUCCESS)):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=fR*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n){var r=gL(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition(Ot.SUCCESS)},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n){var r=Z7(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition(Ot.SUCCESS)},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case Ot.CANCELING:this._state=t,this._request!==void 0&&this._request.cancel();break;case Ot.PAUSING:this._state=t,this._request!==void 0&&this._request.cancel();break;case Ot.RUNNING:var n=this._state===Ot.PAUSED;this._state=t,n&&(this._notifyObservers(),this._start());break;case Ot.PAUSED:this._state=t,this._notifyObservers();break;case Ot.CANCELED:this._error=oL(),this._state=t,this._notifyObservers();break;case Ot.ERROR:this._state=t,this._notifyObservers();break;case Ot.SUCCESS:this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case Ot.PAUSING:this._transition(Ot.PAUSED);break;case Ot.CANCELING:this._transition(Ot.CANCELED);break;case Ot.RUNNING:this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=G_(this._state);return new iJ(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new rJ(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(G_(this._state)){case Yn.SUCCESS:Au(this._resolve.bind(null,this.snapshot))();break;case Yn.CANCELED:case Yn.ERROR:var n=this._reject;Au(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=G_(this._state);switch(n){case Yn.RUNNING:case Yn.PAUSED:t.next&&Au(t.next.bind(t,this.snapshot))();break;case Yn.SUCCESS:t.complete&&Au(t.complete.bind(t))();break;case Yn.CANCELED:case Yn.ERROR:t.error&&Au(t.error.bind(t,this._error))();break;default:t.error&&Au(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state===Ot.PAUSED||this._state===Ot.PAUSING;return t&&this._transition(Ot.RUNNING),t},e.prototype.pause=function(){var t=this._state===Ot.RUNNING;return t&&this._transition(Ot.PAUSING),t},e.prototype.cancel=function(){var t=this._state===Ot.RUNNING||this._state===Ot.PAUSING;return t&&this._transition(Ot.CANCELING),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wg=function(){function e(t,n){this._service=t,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype.newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new ci(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return dL(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=F7(this._location.path);if(t===null)return null;var n=new ci(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw uL(t)},e}();function oJ(e,t,n){return n===void 0&&(n=null),e._throwIfRoot("uploadBytesResumable"),new yL(e,new sT(t),n)}function sJ(e,t,n,r){n===void 0&&(n=Nr.RAW),e._throwIfRoot("putString");var i=cL(n,t),s=he({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new yL(e,new sT(i.data,!0),s)}function aJ(e){var t={prefixes:[],items:[]};return _L(e,t).then(function(){return t})}function _L(e,t,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,wL(e,r)];case 1:return i=c.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,_L(e,t,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function wL(e,t){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&l0("options.maxResults",1,1e3,t.maxResults),[4,e.storage.getAuthToken()];case 1:return n=s.sent(),r=t||{},i=z7(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage.makeRequest(i,n).getPromise()]}})})}function uJ(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=gL(e.storage,e._location,mg()),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function cJ(e,t){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage.getAuthToken()];case 1:return n=i.sent(),r=Q7(e.storage,e._location,t,mg()),[2,e.storage.makeRequest(r,n).getPromise()]}})})}function lJ(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=K7(e.storage,e._location,mg()),[2,e.storage.makeRequest(n,t).getPromise().then(function(i){if(i===null)throw T7();return i})]}})})}function fJ(e){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=X7(e.storage,e._location),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function bL(e,t){var n=U7(e._location.path,t),r=new ci(e._location.bucket,n);return new wg(e.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gd=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Gd(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new Gd(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new Gd(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new Gd(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dR=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Kf(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Kf(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kf=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=bL(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new hR(oJ(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){return n===void 0&&(n=Nr.RAW),this._throwIfRoot("putString"),new hR(sJ(this._delegate,t,n,r),this)},e.prototype.listAll=function(){var t=this;return aJ(this._delegate).then(function(n){return new dR(n,t.storage)})},e.prototype.list=function(t){var n=this;return wL(this._delegate,t).then(function(r){return new dR(r,n.storage)})},e.prototype.getMetadata=function(){return uJ(this._delegate)},e.prototype.updateMetadata=function(t){return cJ(this._delegate,t)},e.prototype.getDownloadURL=function(){return lJ(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),fJ(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw uL(t)},e}(),hJ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(e,t,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];l||(l=!0,t.apply(null,b))}function d(b){i=setTimeout(function(){i=null,e(v,c())},b)}function v(b){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];if(!l){if(b){h.call.apply(h,Ve([null,b],E));return}var C=c()||s;if(C){h.call.apply(h,Ve([null,b],E));return}r<64&&(r*=2);var x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}}var m=!1;function y(b){m||(m=!0,!l&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function pJ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vJ=function(){function e(t,n,r,i,s,a,c,l,h,d,v){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,b){m.resolve_=y,m.reject_=b,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Yd(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(l){t.progressCallback_!==null&&l.removeUploadProgressListener(c),t.pendingXhr_=null,l=l;var h=l.getErrorCode()===Ea.NO_ERROR,d=l.getStatus();if(!h||t.isRetryStatusCode_(d)){var v=l.getErrorCode()===Ea.ABORT;i(!1,new Yd(!1,null,v));return}var m=t.successCodes_.indexOf(d)!==-1;i(!0,new Yd(m,l))})}function r(i,s){var a=t.resolve_,c=t.reject_,l=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(l,l.getResponseText());k7(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=iT();d.serverResponse=l.getResponseText(),t.errorCallback_?c(t.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=t.appDelete_?aL():oL();c(d)}else{var d=y7();c(d)}}this.canceled_?r(!1,new Yd(!1,null,!0)):this.backoffId_=dJ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&pJ(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Yd=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function gJ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function mJ(e){var t=typeof lt<"u"?lt.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function yJ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function _J(e,t,n,r){var i=pL(e.urlParams),s=e.url+i,a=Object.assign({},e.headers);return yJ(a,t),gJ(a,n),mJ(a),new vJ(s,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(e){return/^[A-Za-z]+:\/\//.test(e)}function wJ(e,t){return new wg(e,t)}function EL(e,t){if(e instanceof bg){var n=e;if(n._bucket==null)throw b7();var r=new wg(n,n._bucket);return t!=null?EL(r,t):r}else if(t!==void 0){if(t.includes(".."))throw uf('`path` param cannot contain ".."');return bL(e,t)}else return e}function pR(e,t){if(t&&f0(t)){if(e instanceof bg)return wJ(e,t);throw uf("To use ref(service, url), the first argument must be a Storage instance.")}else return EL(e,t)}function bJ(e){var t=e==null?void 0:e[iL];return t==null?null:ci.makeFromBucketSpec(t)}var bg=function(){function e(t,n,r,i){this.app=t,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h7,this._maxUploadRetryTime=d7,this._requests=new Set,i!=null?this._bucket=ci.makeFromBucketSpec(i):this._bucket=bJ(this.app.options)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){l0("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){l0("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var t,n;return N(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype.makeStorageReference=function(t){return new wg(this,t)},e.prototype.makeRequest=function(t,n){var r=this;if(this._deleted)return new hJ(aL());var i=_J(t,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EJ=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(f0(t))throw uf("ref() expected a child path but got a URL, use refFromURL instead.");return new Kf(pR(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!f0(t))throw uf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ci.makeFromUrl(t)}catch{throw uf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Kf(pR(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e}(),TJ="@firebase/storage",IJ="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SJ="storage";function AJ(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=new EJ(n,new bg(n,r,new O7,t));return i}function CJ(e){var t={TaskState:Yn,TaskEvent:N7,StringFormat:Nr,Storage:bg,Reference:Kf};e.INTERNAL.registerComponent(new pr(SJ,AJ,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(TJ,IJ)}CJ(lt);var NJ="@firebase/performance",TL="0.4.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IL=TL,RJ="FB-PERF-TRACE-START",OJ="FB-PERF-TRACE-STOP",h0="FB-PERF-TRACE-MEASURE",SL="_wt_",AL="_fp",CL="_fcp",NL="_fid",RL="@firebase/performance/config",OL="@firebase/performance/configexpire",kJ="performance",kL="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,xJ=(yn={},yn["trace started"]="Trace {$traceName} was started before.",yn["trace stopped"]="Trace {$traceName} is not running.",yn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",yn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",yn["no window"]="Window is not available.",yn["no app id"]="App id is not available.",yn["no project id"]="Project id is not available.",yn["no api key"]="Api key is not available.",yn["invalid cc log"]="Attempted to queue invalid cc event",yn["FB not default"]="Performance can only start when Firebase app instance is the default one.",yn["RC response not ok"]="RC response is not ok",yn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",yn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",yn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",yn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",yn),Sn=new Ts(kJ,kL,xJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=new Dc(kL);No.logLevel=Dt.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y_,xL,Dn=function(){function e(t){if(this.window=t,!t)throw Sn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(No.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):lb()?!0:(No.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return Y_===void 0&&(Y_=new e(xL)),Y_},e}();function PJ(e){xL=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(e,t){var n=e.length-t.length;if(n<0||n>1)throw Sn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $_,en=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=vR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=vR("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Sn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Sn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Sn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return $_===void 0&&($_=new e),$_},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PL;function DJ(){var e=en.getInstance().installationsService.getId();return e.then(function(t){PL=t}),e}function lT(){return PL}function MJ(){var e=en.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xu;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Xu||(Xu={}));var LJ=["firebase_","google_","ga_"],FJ=new RegExp("^[a-zA-Z]\\w*$"),UJ=40,jJ=100;function VJ(){var e=Dn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function DL(){var e=Dn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Xu.VISIBLE;case"hidden":return Xu.HIDDEN;default:return Xu.UNKNOWN}}function BJ(){var e=Dn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function qJ(e){if(e.length===0||e.length>UJ)return!1;var t=LJ.some(function(n){return e.startsWith(n)});return!t&&!!e.match(FJ)}function WJ(e){return e.length!==0&&e.length<=jJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HJ="0.0.1",GJ={loggingEnabled:!0},YJ="FIREBASE_INSTALLATIONS_AUTH";function $J(e){var t=zJ();return t?(gR(t),Promise.resolve()):XJ(e).then(gR).then(function(n){return KJ(n)},function(){})}function zJ(){var e=Dn.getInstance().localStorage;if(e){var t=e.getItem(OL);if(!(!t||!JJ(t))){var n=e.getItem(RL);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function KJ(e){var t=Dn.getInstance().localStorage;!e||!t||(t.setItem(RL,JSON.stringify(e)),t.setItem(OL,String(Date.now()+en.getInstance().configTimeToLive*60*60*1e3)))}var QJ="Could not fetch config, will use default configs";function XJ(e){return MJ().then(function(t){var n=en.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+en.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:YJ+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:en.getInstance().getAppId(),app_version:IL,sdk_version:HJ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Sn.create("RC response not ok")})}).catch(function(){No.info(QJ)})}function gR(e){if(!e)return e;var t=en.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=GJ.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=mR(t.tracesSamplingRate),t.logNetworkAfterSampling=mR(t.networkRequestsSamplingRate),e}function JJ(e){return Number(e)>Date.now()}function mR(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fT=1,z_;function ML(){return fT=2,z_=z_||t9(),z_}function ZJ(){return fT===3}function t9(){return e9().then(function(){return DJ()}).then(function(e){return $J(e)}).then(function(){return yR()},function(){return yR()})}function e9(){var e=Dn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function yR(){fT=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hT=10*1e3,n9=5.5*1e3,LL=3,r9=1e3,fv=LL,ps=[],_R=!1;function i9(){_R||(Eg(n9),_R=!0)}function Eg(e){setTimeout(function(){if(fv!==0){if(!ps.length)return Eg(hT);o9()}},e)}function o9(){var e=ps.splice(0,r9),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:en.getInstance().logSource,log_event:t};s9(n,e).catch(function(){ps=Ve(e,ps),fv--,No.info("Tries left: "+fv+"."),Eg(hT)})}function s9(e,t){return a9(e).then(function(n){return n.ok||No.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=hT;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ps=Ve(t,ps),No.info("Retry transport request later.")),fv=LL,Eg(i)})}function a9(e){var t=en.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function u9(e){if(!e.eventTime||!e.message)throw Sn.create("invalid cc log");ps=Ve(ps,[e])}function c9(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);u9({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K_;function FL(e,t){K_||(K_=c9(f9)),K_(e,t)}function $d(e){var t=en.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||Dn.getInstance().requiredApisAvailable()&&(e.isAuto&&DL()!==Xu.VISIBLE||(ZJ()?Q_(e):ML().then(function(){return Q_(e)},function(){return Q_(e)})))}function Q_(e){if(lT()){var t=en.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return FL(e,1)},0)}}function l9(e){var t=en.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return FL(e,0)},0)}}function f9(e,t){return t===0?h9(e):d9(e)}function h9(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:UL(),network_request_metric:t};return JSON.stringify(n)}function d9(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:UL(),trace_metric:t};return JSON.stringify(r)}function UL(){return{google_app_id:en.getInstance().getAppId(),app_instance_id:lT(),web_app_info:{sdk_version:IL,page_url:Dn.getInstance().getUrl(),service_worker_status:VJ(),visibility_state:DL(),effective_connection_type:BJ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p9=100,v9="_",g9=[AL,CL,NL];function m9(e,t){return e.length===0||e.length>p9?!1:t&&t.startsWith(SL)&&g9.indexOf(e)>-1||!e.startsWith(v9)}function y9(e){var t=Math.floor(e);return t<e&&No.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Dn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=RJ+"-"+this.randomId+"-"+this.name,this.traceStopMark=OJ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||h0+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw Sn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw Sn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$d(this)},e.prototype.record=function(t,n,r){if(t<=0)throw Sn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Sn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=he({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}$d(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(m9(t,this.name))this.counters[t]=y9(n);else throw Sn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=qJ(t),i=WJ(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw Sn.create("invalid attribute name",{attributeName:t});if(!i)throw Sn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return he({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=Dn.getInstance().getUrl();if(i){var s=new e(SL+i,!0),a=Math.floor(Dn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(AL,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(CL,Math.floor(d.startTime*1e3)),r&&s.putMetric(NL,Math.floor(r*1e3))}$d(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);$d(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=Dn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],c={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};l9(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _9=5e3;function bR(){lT()&&(setTimeout(function(){return b9()},0),setTimeout(function(){return w9()},0),setTimeout(function(){return E9()},0))}function w9(){for(var e=Dn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];wR(i)}e.setupObserver("resource",wR)}function b9(){var e=Dn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){lf.createOobTrace(t,n),r=void 0},_9);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),lf.createOobTrace(t,n,i))})}else lf.createOobTrace(t,n)}function E9(){for(var e=Dn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];ER(i)}e.setupObserver("measure",ER)}function ER(e){var t=e.name;t.substring(0,h0.length)!==h0&&lf.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T9=function(){function e(t){this.app=t,Dn.getInstance().requiredApisAvailable()&&fb().then(function(n){n&&(i9(),ML().then(bR,bR))}).catch(function(n){No.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new lf(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return en.getInstance().instrumentationEnabled},set:function(t){en.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return en.getInstance().dataCollectionEnabled},set:function(t){en.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I9="[DEFAULT]";function S9(e){var t=function(n,r){if(n.name!==I9)throw Sn.create("FB not default");if(typeof window>"u")throw Sn.create("no window");return PJ(window),en.getInstance().firebaseAppInstance=n,en.getInstance().installationsService=r,new T9(n)};e.INTERNAL.registerComponent(new pr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(NJ,TL)}S9(lt);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A9="firebase_id",C9="origin",N9=60*1e3,R9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jL="https://www.googletagmanager.com/gtag/js",Mn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(Mn||(Mn={}));var d0;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(d0||(d0={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return i&&i.global?(e(Mn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=c.sent(),a=he(he({},r),{send_to:s}),e(Mn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function k9(e,t,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Mn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Mn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function x9(e,t,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Mn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Mn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function P9(e,t,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return e(Mn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:l=h.sent(),e(Mn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function D9(e,t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n=new Dc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(e){var t=document.createElement("script");t.src=jL+"?l="+e,t.async=!0,document.head.appendChild(t)}function L9(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function F9(e,t,n,r,i,s){return R(this,void 0,void 0,function(){var a,c,l,h;return N(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,t[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),_n.error(h),[3,8];case 8:return e(Mn.CONFIG,i,s),[2]}})})}function U9(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v,m,y;return N(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=b.sent(),l=function(E){var T=c.find(function(x){return x.measurementId===E}),C=T&&t[T.appId];if(C)s.push(C);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],m=l(v),m!=="break");h++);b.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return b.sent(),e(Mn.EVENT,r,i||{}),[3,5];case 4:return y=b.sent(),_n.error(y),[3,5];case 5:return[2]}})})}function j9(e,t,n,r){function i(s,a,c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Mn.EVENT?[3,2]:[4,U9(e,t,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==Mn.CONFIG?[3,4]:[4,F9(e,t,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:e(Mn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),_n.error(l),[3,7];case 7:return[2]}})})}return i}function V9(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=j9(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function B9(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(jL))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti,q9=(ti={},ti["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ti["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ti["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ti["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ti["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ti["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ti["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ti["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ti["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ti),Wr=new Ts("analytics","Analytics",q9);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W9=30,H9=1e3,G9=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=H9),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),VL=new G9;function Y9(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function $9(e){var t;return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Y9(r)},s=R9.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Wr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function z9(e,t,n){return t===void 0&&(t=VL),R(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return N(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Wr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Wr.create("no-api-key")}return c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new X9,setTimeout(function(){return R(h,void 0,void 0,function(){return N(this,function(v){return l.abort(),[2]})})},n!==void 0?n:N9),[2,BL({appId:i,apiKey:s,measurementId:a},c,l,t)]})})}function BL(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=VL),R(this,void 0,void 0,function(){var a,c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:a=e.appId,c=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,K9(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return _n.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,$9(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!Q9(d)){if(r.deleteThrottleMetadata(a),c)return _n.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?Aw(s,r.intervalMillis,W9):Aw(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),_n.debug("Calling attemptFetch again in "+v+" millis"),[2,BL(e,m,n,r)];case 7:return[2]}})})}function K9(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Q9(e){if(!(e instanceof Pc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var X9=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(){return R(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:return lb()?[3,1]:(_n.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,fb()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),_n.warn(Wr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function Z9(e,t,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v;return N(this,function(m){switch(m.label){case 0:return s=z9(e),s.then(function(y){n[y.measurementId]=y.appId,e.options.measurementId&&y.measurementId!==e.options.measurementId&&_n.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return _n.error(y)}),t.push(s),a=J9().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return c=m.sent(),l=c[0],h=c[1],i("js",new Date),d=(v={},v[C9]="firebase",v.update=!0,v),h!=null&&(d[A9]=h),i(Mn.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var so={},TR=[],IR={},fp="dataLayer",qL="gtag",SR,ql,p0=!1;function tZ(e){if(p0)throw Wr.create("already-initialized");e.dataLayerName&&(fp=e.dataLayerName),e.gtagName&&(qL=e.gtagName)}function eZ(){var e=[];if(cb()&&e.push("This is a browser extension environment."),Yk()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Wr.create("invalid-analytics-context",{errorInfo:t});_n.warn(n.message)}}function nZ(e,t){eZ();var n=e.options.appId;if(!n)throw Wr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)_n.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Wr.create("no-api-key");if(so[n]!=null)throw Wr.create("already-exists",{id:n});if(!p0){B9()||M9(fp),L9(fp);var r=V9(so,TR,IR,fp,qL),i=r.wrappedGtag,s=r.gtagCore;ql=i,SR=s,p0=!0}so[n]=Z9(e,TR,IR,t,SR);var a={app:e,logEvent:function(c,l,h){O9(ql,so[n],c,l,h).catch(function(d){return _n.error(d)})},setCurrentScreen:function(c,l){k9(ql,so[n],c,l).catch(function(h){return _n.error(h)})},setUserId:function(c,l){x9(ql,so[n],c,l).catch(function(h){return _n.error(h)})},setUserProperties:function(c,l){P9(ql,so[n],c,l).catch(function(h){return _n.error(h)})},setAnalyticsCollectionEnabled:function(c){D9(so[n],c).catch(function(l){return _n.error(l)})},INTERNAL:{delete:function(){return delete so[n],Promise.resolve()}}};return a}var rZ="@firebase/analytics",iZ="0.6.2",AR="analytics";function oZ(e){e.INTERNAL.registerComponent(new pr(AR,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return nZ(r,i)},"PUBLIC").setServiceProps({settings:tZ,EventName:d0,isSupported:sZ})),e.INTERNAL.registerComponent(new pr("analytics-internal",t,"PRIVATE")),e.registerVersion(rZ,iZ);function t(n){try{var r=n.getProvider(AR).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Wr.create("interop-component-reg-failed",{reason:i})}}}oZ(lt);function sZ(){return R(this,void 0,void 0,function(){var e;return N(this,function(t){switch(t.label){case 0:if(cb())return[2,!1];if(!Yk())return[2,!1];if(!lb())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,fb()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aZ=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,uZ=(Wn={},Wn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Wn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Wn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Wn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Wn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Wn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Wn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Wn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Wn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Wn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Wn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Wn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Wn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Wn),Br=new Ts("remoteconfig","Remote Config",uZ);function cZ(e,t){return e instanceof Pc&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fZ=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,m,y,b,E,T,C,x,D,F;return N(this,function(X){switch(X.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=X.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:lZ()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(j,Tt){t.signal.addEventListener(function(){var ee=new Error("The operation was aborted.");ee.name="AbortError",Tt(ee)})}),X.label=2;case 2:return X.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return X.sent(),[4,d];case 4:return m=X.sent(),[3,6];case 5:throw y=X.sent(),b="fetch-client-network",y.name==="AbortError"&&(b="fetch-timeout"),Br.create(b,{originalErrorMessage:y.message});case 6:if(E=m.status,T=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];D=void 0,X.label=7;case 7:return X.trys.push([7,9,,10]),[4,m.json()];case 8:return D=X.sent(),[3,10];case 9:throw F=X.sent(),Br.create("fetch-client-parse",{originalErrorMessage:F.message});case 10:C=D.entries,x=D.state,X.label=11;case 11:if(x==="INSTANCE_STATE_UNSPECIFIED"?E=500:x==="NO_CHANGE"?E=304:(x==="NO_TEMPLATE"||x==="EMPTY_CONFIG")&&(C={}),E!==304&&E!==200)throw Br.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:T,config:C}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hZ=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dZ=!1,pZ="",CR=0,vZ=["1","true","t","yes","y","on"],X_=function(){function e(t,n){n===void 0&&(n=pZ),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?dZ:vZ.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return CR;var t=Number(this._value);return isNaN(t)&&(t=CR),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gZ=60*1e3,mZ=12*60*60*1e3,yZ=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:gZ,minimumFetchIntervalMillis:mZ},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Dt.DEBUG;break;case"silent":this._logger.logLevel=Dt.SILENT;break;default:this._logger.logLevel=Dt.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return R(this,void 0,void 0,function(){var t,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return R(this,void 0,void 0,function(){var t,n,r,i=this;return N(this,function(s){switch(s.label){case 0:t=new hZ,setTimeout(function(){return R(i,void 0,void 0,function(){return N(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=cZ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return N(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return _Z(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new X_("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new X_("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new X_("static"))},e}();function _Z(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(he(he({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(e,t){var n=e.target.error||void 0;return Br.create(t,{originalErrorMessage:n&&n.message})}var ta="app_namespace_store",wZ="firebase_remote_config",bZ=1;function EZ(){return new Promise(function(e,t){var n=indexedDB.open(wZ,bZ);n.onerror=function(r){t(hp(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ta,{keyPath:"compositeKey"})}}})}var TZ=function(){function e(t,n,r,i){i===void 0&&(i=EZ()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([ta],"readonly"),l=c.objectStore(ta),h=r.createCompositeKey(t);try{var d=l.get(h);d.onerror=function(v){a(hp(v,"storage-get"))},d.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(Br.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([ta],"readwrite"),h=l.objectStore(ta),d=i.createCompositeKey(t);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(m){c(hp(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){c(Br.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([ta],"readwrite"),l=c.objectStore(ta),h=r.createCompositeKey(t);try{var d=l.delete(h);d.onerror=function(v){a(hp(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(Br.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IZ=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var t,n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SZ(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(Br.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function AZ(e){if(!(e instanceof Pc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var CZ=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,SZ(t.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!AZ(a))throw a;return c={throttleEndTimeMillis:Date.now()+Aw(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(t,c)];case 7:return[2]}})})},e}(),NR="@firebase/remote-config",NZ="0.1.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(e){e.INTERNAL.registerComponent(new pr("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(NR,NZ);function t(n,r){var i=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Br.create("registration-window");var a=i.options,c=a.projectId,l=a.apiKey,h=a.appId;if(!c)throw Br.create("registration-project-id");if(!l)throw Br.create("registration-api-key");if(!h)throw Br.create("registration-app-id");r=r||"firebase";var d=new TZ(h,i.name,r),v=new IZ(d),m=new Dc(NR);m.logLevel=Dt.ERROR;var y=new fZ(s,e.SDK_VERSION,r,c,l,h),b=new CZ(y,d),E=new aZ(b,d,v,m),T=new yZ(i,E,v,d,m);return T.ensureInitialized(),T}}RZ(lt);var OZ="firebase",kZ="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lt.registerVersion(OZ,kZ,"app");var xZ="firebase",PZ="8.2.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);lt.registerVersion(xZ,PZ);const DZ={apiKey:"AIzaSyBsTEvv_k5WEyjnQy0Cdhr5ZNyZe2N00js",authDomain:"twitter-clone-inflearn-10fc8.firebaseapp.com",projectId:"twitter-clone-inflearn-10fc8",storageBucket:"twitter-clone-inflearn-10fc8.appspot.com",messagingSenderId:"325557618636",appId:"1:325557618636:web:fe74e1dad3ca4f98af3f69",measurementId:"G-NT1D3TVGPK"};lt.initializeApp(DZ);const dT=lt.auth(),WL=lt.firestore();lt.storage();const pT=WL.collection("users"),RR=WL.collection("tweets"),MZ={components:{Trends:F0,Tweet:kk},setup(){const e=ur(""),t=sr(()=>ic.state.user),n=ur([]);mp(()=>{RR.orderBy("created_at","desc").onSnapshot(s=>{s.docChanges().forEach(async a=>{let c=await r(a.doc.data());a.type==="added"?n.value.splice(a.newIndex,0,c):a.type==="modified"?n.value.splice(a.oldIndex,1,c):a.type==="removed"&&n.value.splice(a.oldIndex,1)})})});const r=async s=>{const a=await pT.doc(s.uid).get();return s.profile_image_url=a.data().profile_image_url,s.email=a.data().email,s.username=a.data().username,s};return{currentUser:t,tweetBody:e,tweets:n,onAddTweet:async()=>{try{const s=RR.doc();await s.set({id:s.id,tweet_body:e.value,uid:t.value.uid,created_at:Date.now(),num_comments:0,num_retweets:0,num_likes:0})}catch(s){console.log("on add tweet error on homepage:",s)}},onBeforeMount:mp}}},LZ={class:"flex-1 border-r border-gray-100 overflow-y-auto"},FZ={class:"flex flex-col"},UZ=U("div",{class:"border-b border-gray-100 px-3 py-2 font-bold text-lg"}," 홈 ",-1),jZ={class:"flex px-3 py-3 border-b-8 border-gray-100"},VZ=["src"],BZ={class:"ml-2 flex-1 flex flex-col"},qZ={class:"text-right"},WZ={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function HZ(e,t,n,r,i,s){const a=qr("Tweet"),c=qr("Trends");return Bt(),ue(Xe,null,[U("div",LZ,[U("div",FZ,[UZ,U("div",jZ,[U("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,VZ),U("div",BZ,[da(U("textarea",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.tweetBody=l),placeholder:"무슨 일이 일어나고 있나요?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none bg-gray-100"},null,512),[[va,r.tweetBody]]),U("div",qZ,[r.tweetBody.length?(Bt(),ue("button",{key:1,onClick:t[1]||(t[1]=(...l)=>r.onAddTweet&&r.onAddTweet(...l)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗")):(Bt(),ue("button",WZ,"트윗"))])])]),(Bt(!0),ue(Xe,null,gs(r.tweets,l=>(Bt(),Sa(a,{currentUser:r.currentUser,tweet:l,key:l.id},null,8,["currentUser","tweet"]))),128))])]),je(c)],64)}const Wl=kr(MZ,[["render",HZ]]),GZ={components:{Trends:F0}},YZ={class:"flex-1 border-r border-gray-100 flex flex-col overflow-y-auto"},$Z=U("div",{class:"p-3 font-bold text-lg border-b border-gray-100"},"알림",-1),zZ=La('<div class="flex justify-between"><img src="http://picsum.photos/100" class="w-10 h-10 rounded-full hover:opacity-80"><i class="fas fa-ellipsis-h text-gray-500 hover:bg-blue-50 hover:text-primary p-2 rounded-full w-10 h-10 flex items-center justify-center"></i></div><div><span class="font-bold">정재웅</span> 님의 최근 트윗</div><div class="text-gray-500"> wjelifwjeiflwejfiwejfil wefiwejfiweofjweiof wefjiewjf dcivcvf </div>',3),KZ=[zZ];function QZ(e,t,n,r,i,s){const a=qr("Trends");return Bt(),ue(Xe,null,[U("div",YZ,[$Z,(Bt(),ue(Xe,null,gs(10,c=>U("div",{class:"flex flex-col hover:bg-gray-50 p-3 space-y-2 border-b border-gray-100 cursor-pointer",key:c},KZ)),64))]),je(a)],64)}const XZ=kr(GZ,[["render",QZ]]),JZ={},ZZ={class:"flex-1 flex"},ttt={class:"w-2/5 border-r border-gray-100 overflow-y-scroll"},ett={class:"flex flex-col"},ntt=La('<div class="p-3 font-bold text-lg border-b border-gray-100 h-14">쪽지</div><div class="flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100 bg-gray-200"><img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9월 17일</div></div><div class="text-gray-500">메세지</div></div></div>',2),rtt=La('<img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9월 17일</div></div><div class="text-gray-500">메세지</div></div>',2),itt=[rtt],ott={class:"w-3/5 border-r border-gray-100"},stt={class:"flex flex-col h-screen"},att=La('<div class="flex px-3 h-14 items-center border-b border-gray-100"><img src="http://picsum.photos/100" class="w-8 h-8 rounded-full mr-2 cursor-pointer"><div><div class="font-bold text-lg">jjw.com</div><div class="text-sm text-gray-500">@jaewoong</div></div></div><div class="flex flex-col justify-center items-center border-b border-gray-100 hover:bg-gray-50 py-6"><div><span class="font-bold mr-1">jjw.com</span><span class="text-gray-500">@jaewoong</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray-500">팔로우 중</span><span class="font-bold ml-3 mr-1">7</span><span class="text-gray-500">팔로워</span></div><div><span class="text-gray-500 mr-1">가입일</span><span class="text-gray-500">2021년 3월</span></div></div>',2),utt={class:"flex-1 overflow-y-scroll"},ctt=U("div",{class:"text-right px-3 py-3"},[U("span",{class:"bg-primary text-white px-4 py-2 rounded-full"},"메시지"),U("div",{class:"mt-2 text-xs text-gray-500"},"2023년 9월 17일 오후 7:16")],-1),ltt=U("span",{class:"bg-gray-100 px-4 py-2 rounded-full"},"메시지",-1),ftt=U("div",{class:"mt-2 text-xs text-gray-500"},"2023년 9월 17일 오후 7:16",-1),htt=[ltt,ftt],dtt=U("div",{class:"flex items-center bg-white border-t border-gray-100 sticky"},[U("input",{type:"text",class:"m-2 py-1 px-4 rounded-full bg-gray-100 resize-none outline-none flex-1",placeholder:"새 쪽지 작성하기",rows:"1"}),U("button",{class:"text-center"},[U("i",{class:"far fa-paper-plane text-primary text-lg hover:bg-blue-50 p-2 rounded-full w-10 h-10"})])],-1);function ptt(e,t,n,r,i,s){return Bt(),ue("div",ZZ,[U("div",ttt,[U("div",ett,[ntt,(Bt(),ue(Xe,null,gs(5,a=>U("div",{class:"flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100",key:a},itt)),64))])]),U("div",ott,[U("div",stt,[att,U("div",utt,[ctt,(Bt(),ue(Xe,null,gs(20,a=>U("div",{class:"text-left px-3 py-3",key:a},htt)),64))]),dtt])])])}const vtt=kr(JZ,[["render",ptt]]),gtt={components:{Trends:F0,Tweet:kk}},mtt={class:"flex-1 flex"},ytt={class:"flex-1 flex flex-col border-r border-color"},_tt=La('<div class="px-3 py-1 flex border-b border-color"><button class="mr-4"><i class="fas fa-arrow-left text-primary p-3 rounded-full hover:bg-blue-50"></i></button><div><div class="font-extrabold text-lg">jjw.com</div><div class="text-xs text-gray">393 트윗</div></div></div><div class="bg-gray-300 h-40 relative flex-none"><div class="border-4 border-white bg-gray-100 w-28 h-28 rounded-full absolute -bottom-14 left-2"><img src="http://picsum.photos/200" class="rounded-full hover:opacity-90 hover:opacity-100 cursor-pointer"></div></div><div class="text-right mt-2 mr-2"><button class="border text-sm border-primary text-primary px-3 py-2 hover:bg-blue-50 font-bold rounded-full">프로필 수정</button></div><div class="mx-3 mt-2"><div class="font-extrabold text-lg">jjw.com</div><div class="text-gray">@jaewoong</div><div><span class="text-gray">가입일:</span><span class="text-gray">2011년 10월</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray mr-3">팔로우 중</span><span class="font-bold mr-1">7</span><span class="text-gray">팔로워</span></div></div><div class="flex border-b border-color mt-3"><div class="py-3 text-primary font-bold border-b border-primary text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div></div>',5),wtt={class:"overflow-y-auto"};function btt(e,t,n,r,i,s){const a=qr("Tweet"),c=qr("Trends");return Bt(),ue("div",mtt,[U("div",ytt,[_tt,U("div",wtt,[(Bt(),ue(Xe,null,gs(10,l=>je(a,{key:l})),64))])]),je(c)])}const Ett=kr(gtt,[["render",btt]]),Ttt={setup(){const e=ur(""),t=ur(""),n=ur(""),r=ur(!1),i=jO();return{username:e,email:t,password:n,loading:r,onRegister:async()=>{if(!e.value||!t.value||!n.value){alert("유저네임, 이메일, 비밀번호를 모두 입력해주세요.");return}try{r.value=!0;const{user:a}=await dT.createUserWithEmailAndPassword(t.value,n.value);await pT.doc(a.uid).set({uid:a.uid,username:e.value,email:t.value,profile_image_url:"/profile.jpeg",num_tweets:0,followers:[],followings:[],created_at:Date.now()}),alert("회원 가입에 성공하셨습니다. 로그인 해 주세요."),i.push("/login")}catch(a){switch(a.code){case"auth/invalid-email":alert("이메일을 바르게 입력해주세요.");break;case"auth/weak-password":alert("비밀번호가 너무 쉬워요");break;case"auth/email-already-in-use":alert("이미 가입되어 있는 이메일 입니다.");break;default:alert("회원가입 실패");break}}finally{r.value=!1}}}}},Itt={class:"flex flex-col items-center space-y-4 mt-10"},Stt=U("span",{class:"text-2xl font-bold"},"트위떠 회원가입",-1),Att={key:0,class:"w-96 rounded bg-light text-white py-3"},Ctt=U("button",{class:"text-primary"},"계정이 이미 있으신가요? 로그인 하기",-1);function Ntt(e,t,n,r,i,s){const a=qr("router-link");return Bt(),ue("div",Itt,[U("i",{class:Ta(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),Stt,da(U("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>r.username=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"아이디"},null,512),[[va,r.username]]),da(U("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"이메일"},null,512),[[va,r.email]]),da(U("input",{onClick:t[2]||(t[2]=(...c)=>r.onRegister&&r.onRegister(...c)),"onUpdate:modelValue":t[3]||(t[3]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"비밀번호"},null,512),[[va,r.password]]),r.loading?(Bt(),ue("button",Att,"회원가입 중입니다.")):(Bt(),ue("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:t[4]||(t[4]=(...c)=>r.onRegister&&r.onRegister(...c))},"회원가입")),je(a,{to:"/login"},{default:_v(()=>[Ctt]),_:1})])}const Rtt=kr(Ttt,[["render",Ntt]]),Ott={setup(){const e=ur(""),t=ur(""),n=ur(!1),r=jO();return{email:e,password:t,loading:n,onLogin:async()=>{if(!e.value||!t.value){alert("이메일, 비밀번호를 모두 입력해주세요.");return}try{n.value=!0;const{user:s}=await dT.signInWithEmailAndPassword(e.value,t.value),a=await pT.doc(s.uid).get();ic.commit("SET_USER",a.data()),r.replace("/")}catch(s){switch(s.code){case"auth/invalid-email":alert("잘못된 이메일 형식입니다.");break;case"auth/invalid-password":alert("비밀번호가 틀립니다.");break;case"auth/user-not-found":alert("등록되지 않은 이메일입니다.");break;default:alert(s.message);break}}finally{n.value=!1}}}}},ktt={class:"flex flex-col items-center space-y-4 mt-10"},xtt=U("span",{class:"text-2xl font-bold"},"트위떠 로그인",-1),Ptt={key:0,class:"w-96 rounded bg-light text-white py-3"},Dtt=U("button",{class:"text-primary"},"계정이 없으신가요? 회원가입 하기",-1);function Mtt(e,t,n,r,i,s){const a=qr("router-link");return Bt(),ue("div",ktt,[U("i",{class:Ta(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),xtt,da(U("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"이메일"},null,512),[[va,r.email]]),da(U("input",{onKeyup:t[1]||(t[1]=e3((...c)=>r.onLogin&&r.onLogin(...c),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"비밀번호"},null,544),[[va,r.password]]),r.loading?(Bt(),ue("button",Ptt,"로그인 중입니다.")):(Bt(),ue("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:t[3]||(t[3]=(...c)=>r.onLogin&&r.onLogin(...c))},"로그인")),je(a,{to:"/register"},{default:_v(()=>[Dtt]),_:1})])}const Ltt=kr(Ott,[["render",Mtt]]),Ftt=[{path:"/",name:"home",component:Wl,title:"홈",icon:"fas fa-home fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"explore",component:Wl,title:"탐색하기",icon:"fas fa-hashtag fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/notifications",name:"notifications",component:XZ,title:"알림",icon:"far fa-bell fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/Messages",name:"messages",component:vtt,title:"쪽지",icon:"far fa-envelope fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"bookmarks",component:Wl,title:"북마크",icon:"far fa-bookmark fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"list",component:Wl,title:"리스트",icon:"far fa-list-alt fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/Profile",name:"profile",component:Ett,title:"프로필",icon:"far fa-user fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/",name:"more",component:Wl,title:"더보기",icon:"fas fa-ellipsis-h fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/register",name:"register",component:Rtt,meta:{isMenu:!1,layout:"EmptyLayout"}},{path:"/login",name:"login",component:Ltt,meta:{isMenu:!1,layout:"EmptyLayout"}}],ff=vB({history:k3(),routes:Ftt});ff.beforeEach((e,t,n)=>{const r=ic.state.user;e.matched.some(s=>s.meta.requireAuth)&&!r?n("/login"):n()});const Utt={setup(){return{tweetBody:ur("")}}},jtt={class:"flex justify-center min-h-screen sm:pt-6 sm:px-4 sm:pb-20 text-center sm:block sm:p-0"},Vtt=U("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[U("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),Btt={class:"border-b border-gray-100 p-2 flex items-center justify-between"},qtt=U("div",{class:"text-right sm:hidden mr-2"},[U("button",{class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗"),U("button",{class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗")],-1),Wtt={class:"flex p-4"},Htt=U("img",{src:"http://picsum.photos/100",class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,-1),Gtt={class:"ml-2 flex-1 flex flex-col"},Ytt={class:"text-right hidden sm:block"},$tt={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function ztt(e,t,n,r,i,s){return Bt(),ue("div",{class:"fixed z-10 inset-0 overflow-y-auto",onClick:t[4]||(t[4]=a=>e.$emit("close-modal"))},[U("div",jtt,[Vtt,U("div",{onClick:t[3]||(t[3]=Z4(()=>{},["stop"])),class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},[U("div",Btt,[U("button",{onClick:t[0]||(t[0]=a=>e.$emit("close-modal")),class:"fas fa-times text-primary text-lg p-2 h-10 w-10 hover:bg-blue-50 rounded-full"}),qtt]),U("div",Wtt,[Htt,U("div",Gtt,[da(U("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>r.tweetBody=a),rows:"5",placeholder:"무슨 일이 일어나고 있나요?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none"},null,512),[[va,r.tweetBody]]),U("div",Ytt,[r.tweetBody.length?(Bt(),ue("button",{key:1,onClick:t[2]||(t[2]=(...a)=>e.onAddTweet&&e.onAddTweet(...a)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗")):(Bt(),ue("button",$tt,"트윗"))])])])])])])}const Ktt=kr(Utt,[["render",ztt]]),Qtt={components:{TweetModal:Ktt},setup(){const e=ur([]),t=ur(!1),n=ur(!1),r=sr(()=>ic.state.user),i=async()=>{await dT.signOut(),ic.commit("SET_USER",null),await ff.replace("/login")};return mp(()=>{e.value=ff.options.routes.filter(s=>s.meta.isMenu==!0)}),{routes:e,showProfileDropdown:t,onLogout:i,currentUser:r,router:ff,showTweetModal:n}}},Xtt={class:"flex h-screen container mx-auto"},Jtt={class:"w-20 xl:w-1/4 pt-5 xl:ml-10 flex flex-col justify-between border-r border-gray-100"},Ztt={class:"flex flex-col items-center xl:items-start"},tet=U("i",{class:"fab fa-twitter text-3xl text-primary xl:ml-4 mb-3"},null,-1),eet={class:"flex flex-col items-start space-y-1"},net={key:0},ret={class:"ml-5 text-xl hidden xl:inline-block"},iet={class:"w-full xl:pr-3 flex justify-center"},oet=U("span",{class:"hidden xl:block"},"트윗",-1),set=U("i",{class:"fas fa-plus xl:hidden"},null,-1),aet=[oet,set],uet={class:"hidden xl:flex mt-3 px-2 py-1 w-full h-12 rounded-full hover:bg-blue-50 items-center"},cet=["src"],fet={class:"xl:ml-2 hidden xl:block"},het={class:"text-sm font-bold"},det={class:"text-xs text-gray-500 text-left"},pet=U("i",{class:"ml-auto fas fa-ellipsis-h fa-fw text-xs hidden xl:block"},null,-1),vet={class:"xl:hidden flex justify-center"},get=["src"],met={class:"flex-1 flex h-screen"},yet={class:"hover:bg-gray-50 border-b border-gray-100 flex p-3 w-full items-center"},_et=["src"],wet={class:"ml-2"},bet={class:"font-bold text-sm"},Eet={class:"text-left text-gray-500 text-sm"},Tet=U("i",{class:"fas fa-check text-primary ml-auto"},null,-1);function Iet(e,t,n,r,i,s){const a=qr("router-link"),c=qr("router-view"),l=qr("tweet-modal");return Bt(),ue("div",Xtt,[U("div",Jtt,[U("div",Ztt,[tet,U("div",eet,[(Bt(!0),ue(Xe,null,gs(r.routes,h=>(Bt(),Sa(a,{to:h.path,class:Ta(`hover:text-primary hover:bg-blue-50 p-2 xl:px-4 xl:py-2 rounded-full cursor-pointer ${r.router.currentRoute.value.name==h.name?"text-primary":""}`),key:h},{default:_v(()=>[h.meta.isMenu?(Bt(),ue("div",net,[U("i",{class:Ta(h.icon)},null,2),U("span",ret,br(h.title),1)])):Jy("",!0)]),_:2},1032,["to","class"]))),128))]),U("div",iet,[U("button",{onClick:t[0]||(t[0]=h=>r.showTweetModal=!0),class:"mt-3 bg-primary text-white xl:w-full w-12 h-12 rounded-full hover:bg-dark"},aet)])]),U("div",{class:"xl:mr-3 mb-3 relative",onClick:t[1]||(t[1]=h=>r.showProfileDropdown=!0)},[U("button",uet,[U("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,cet),U("div",fet,[U("div",het,br(r.currentUser.email),1),U("div",det,"@"+br(r.currentUser.username),1)]),pet]),U("div",vet,[U("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full cursor-pointer hover:opacity-80"},null,8,get)])])]),U("div",met,[je(c)]),r.showProfileDropdown?(Bt(),ue("div",{key:0,class:"absolute bottom-20 left-14 shadow rounded-lg w-60 bg-white",onClick:t[3]||(t[3]=h=>r.showProfileDropdown=!1)},[U("button",yet,[U("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,_et),U("div",wet,[U("div",bet,br(r.currentUser.email),1),U("div",Eet,"@"+br(r.currentUser.username),1)]),Tet]),U("button",{class:"p-3 hover:bg-gray-50 w-full text-left text-sm",onClick:t[2]||(t[2]=(...h)=>r.onLogout&&r.onLogout(...h))}," @"+br(r.currentUser.username)+" 계정에서 로그아웃 ",1)])):Jy("",!0),r.showTweetModal?(Bt(),Sa(l,{key:1,onCloseModal:t[4]||(t[4]=h=>r.showTweetModal=!1)})):Jy("",!0)])}const Aet=kr(Qtt,[["render",Iet]]),Cet={};function Net(e,t,n,r,i,s){const a=qr("router-view");return Bt(),Sa(a)}const Ret=kr(Cet,[["render",Net]]),Oet={components:{DefaultLayout:Aet,EmptyLayout:Ret},setup(){const e=mB();return{layout:sr(()=>e.meta.layout||"DefaultLayout")}}};function ket(e,t,n,r,i,s){return Bt(),Sa(ZV(r.layout))}const xet=kr(Oet,[["render",ket]]),Pet={components:{Layout:xet}};function Det(e,t,n,r,i,s){const a=qr("Layout");return Bt(),Sa(a)}const Met=kr(Pet,[["render",Det]]);i3(Met).use(ff).use(ic).mount("#app")});export default Let();
