(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function r_(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const re={},xa=[],Lr=()=>{},GM=()=>!1,$M=/^on[^a-z]/,Cp=e=>$M.test(e),i_=e=>e.startsWith("onUpdate:"),Je=Object.assign,o_=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},zM=Object.prototype.hasOwnProperty,jt=(e,t)=>zM.call(e,t),Et=Array.isArray,Pa=e=>Np(e)==="[object Map]",VC=e=>Np(e)==="[object Set]",Ct=e=>typeof e=="function",Pe=e=>typeof e=="string",s_=e=>typeof e=="symbol",ce=e=>e!==null&&typeof e=="object",BC=e=>ce(e)&&Ct(e.then)&&Ct(e.catch),qC=Object.prototype.toString,Np=e=>qC.call(e),KM=e=>Np(e).slice(8,-1),HC=e=>Np(e)==="[object Object]",a_=e=>Pe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,wh=r_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},QM=/-(\w)/g,li=Rp(e=>e.replace(QM,(t,n)=>n?n.toUpperCase():"")),YM=/\B([A-Z])/g,du=Rp(e=>e.replace(YM,"-$1").toLowerCase()),Op=Rp(e=>e.charAt(0).toUpperCase()+e.slice(1)),Xg=Rp(e=>e?`on${Op(e)}`:""),$c=(e,t)=>!Object.is(e,t),bh=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Fh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Qm=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let gT;const Ym=()=>gT||(gT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function u_(e){if(Et(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Pe(r)?tF(r):u_(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(Pe(e))return e;if(ce(e))return e}}const XM=/;(?![^(]*\))/g,JM=/:([^]+)/,ZM=/\/\*[^]*?\*\//g;function tF(e){const t={};return e.replace(ZM,"").split(XM).forEach(n=>{if(n){const r=n.split(JM);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function vu(e){let t="";if(Pe(e))t=e;else if(Et(e))for(let n=0;n<e.length;n++){const r=vu(e[n]);r&&(t+=r+" ")}else if(ce(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const eF="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",nF=r_(eF);function WC(e){return!!e||e===""}const rF=e=>Pe(e)?e:e==null?"":Et(e)||ce(e)&&(e.toString===qC||!Ct(e.toString))?JSON.stringify(e,GC,2):String(e),GC=(e,t)=>t&&t.__v_isRef?GC(e,t.value):Pa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:VC(t)?{[`Set(${t.size})`]:[...t.values()]}:ce(t)&&!Et(t)&&!HC(t)?String(t):t;let Nr;class iF{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Nr,!t&&Nr&&(this.index=(Nr.scopes||(Nr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Nr;try{return Nr=this,t()}finally{Nr=n}}}on(){Nr=this}off(){Nr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function oF(e,t=Nr){t&&t.active&&t.effects.push(e)}function sF(){return Nr}const c_=e=>{const t=new Set(e);return t.w=0,t.n=0,t},$C=e=>(e.w&To)>0,zC=e=>(e.n&To)>0,aF=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=To},uF=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];$C(i)&&!zC(i)?i.delete(e):t[n++]=i,i.w&=~To,i.n&=~To}t.length=n}},Xm=new WeakMap;let Cc=0,To=1;const Jm=30;let Or;const _s=Symbol(""),Zm=Symbol("");class l_{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,oF(this,r)}run(){if(!this.active)return this.fn();let t=Or,n=_o;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Or,Or=this,_o=!0,To=1<<++Cc,Cc<=Jm?aF(this):mT(this),this.fn()}finally{Cc<=Jm&&uF(this),To=1<<--Cc,Or=this.parent,_o=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Or===this?this.deferStop=!0:this.active&&(mT(this),this.onStop&&this.onStop(),this.active=!1)}}function mT(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let _o=!0;const KC=[];function gu(){KC.push(_o),_o=!1}function mu(){const e=KC.pop();_o=e===void 0?!0:e}function Gn(e,t,n){if(_o&&Or){let r=Xm.get(e);r||Xm.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=c_()),QC(i)}}function QC(e,t){let n=!1;Cc<=Jm?zC(e)||(e.n|=To,n=!$C(e)):n=!e.has(Or),n&&(e.add(Or),Or.deps.push(e))}function Mi(e,t,n,r,i,s){const a=Xm.get(e);if(!a)return;let c=[];if(t==="clear")c=[...a.values()];else if(n==="length"&&Et(e)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),t){case"add":Et(e)?a_(n)&&c.push(a.get("length")):(c.push(a.get(_s)),Pa(e)&&c.push(a.get(Zm)));break;case"delete":Et(e)||(c.push(a.get(_s)),Pa(e)&&c.push(a.get(Zm)));break;case"set":Pa(e)&&c.push(a.get(_s));break}if(c.length===1)c[0]&&ty(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);ty(c_(l))}}function ty(e,t){const n=Et(e)?e:[...e];for(const r of n)r.computed&&yT(r);for(const r of n)r.computed||yT(r)}function yT(e,t){(e!==Or||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const cF=r_("__proto__,__v_isRef,__isVue"),YC=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(s_)),lF=f_(),fF=f_(!1,!0),hF=f_(!0),_T=pF();function pF(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Wt(this);for(let s=0,a=this.length;s<a;s++)Gn(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Wt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){gu();const r=Wt(this)[t].apply(this,n);return mu(),r}}),e}function dF(e){const t=Wt(this);return Gn(t,"has",e),t.hasOwnProperty(e)}function f_(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?OF:e1:t?t1:ZC).get(r))return r;const a=Et(r);if(!e){if(a&&jt(_T,i))return Reflect.get(_T,i,s);if(i==="hasOwnProperty")return dF}const c=Reflect.get(r,i,s);return(s_(i)?YC.has(i):cF(i))||(e||Gn(r,"get",i),t)?c:pn(c)?a&&a_(i)?c:c.value:ce(c)?e?r1(c):Pp(c):c}}const vF=XC(),gF=XC(!0);function XC(e=!1){return function(n,r,i,s){let a=n[r];if(Ba(a)&&pn(a)&&!pn(i))return!1;if(!e&&(!Uh(i)&&!Ba(i)&&(a=Wt(a),i=Wt(i)),!Et(n)&&pn(a)&&!pn(i)))return a.value=i,!0;const c=Et(n)&&a_(r)?Number(r)<n.length:jt(n,r),l=Reflect.set(n,r,i,s);return n===Wt(s)&&(c?$c(i,a)&&Mi(n,"set",r,i):Mi(n,"add",r,i)),l}}function mF(e,t){const n=jt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Mi(e,"delete",t,void 0),r}function yF(e,t){const n=Reflect.has(e,t);return(!s_(t)||!YC.has(t))&&Gn(e,"has",t),n}function _F(e){return Gn(e,"iterate",Et(e)?"length":_s),Reflect.ownKeys(e)}const JC={get:lF,set:vF,deleteProperty:mF,has:yF,ownKeys:_F},wF={get:hF,set(e,t){return!0},deleteProperty(e,t){return!0}},bF=Je({},JC,{get:fF,set:gF}),h_=e=>e,xp=e=>Reflect.getPrototypeOf(e);function Jf(e,t,n=!1,r=!1){e=e.__v_raw;const i=Wt(e),s=Wt(t);n||(t!==s&&Gn(i,"get",t),Gn(i,"get",s));const{has:a}=xp(i),c=r?h_:n?v_:zc;if(a.call(i,t))return c(e.get(t));if(a.call(i,s))return c(e.get(s));e!==i&&e.get(t)}function Zf(e,t=!1){const n=this.__v_raw,r=Wt(n),i=Wt(e);return t||(e!==i&&Gn(r,"has",e),Gn(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function th(e,t=!1){return e=e.__v_raw,!t&&Gn(Wt(e),"iterate",_s),Reflect.get(e,"size",e)}function wT(e){e=Wt(e);const t=Wt(this);return xp(t).has.call(t,e)||(t.add(e),Mi(t,"add",e,e)),this}function bT(e,t){t=Wt(t);const n=Wt(this),{has:r,get:i}=xp(n);let s=r.call(n,e);s||(e=Wt(e),s=r.call(n,e));const a=i.call(n,e);return n.set(e,t),s?$c(t,a)&&Mi(n,"set",e,t):Mi(n,"add",e,t),this}function ET(e){const t=Wt(this),{has:n,get:r}=xp(t);let i=n.call(t,e);i||(e=Wt(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&Mi(t,"delete",e,void 0),s}function IT(){const e=Wt(this),t=e.size!==0,n=e.clear();return t&&Mi(e,"clear",void 0,void 0),n}function eh(e,t){return function(r,i){const s=this,a=s.__v_raw,c=Wt(a),l=t?h_:e?v_:zc;return!e&&Gn(c,"iterate",_s),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function nh(e,t,n){return function(...r){const i=this.__v_raw,s=Wt(i),a=Pa(s),c=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,h=i[e](...r),d=n?h_:t?v_:zc;return!t&&Gn(s,"iterate",l?Zm:_s),{next(){const{value:v,done:m}=h.next();return m?{value:v,done:m}:{value:c?[d(v[0]),d(v[1])]:d(v),done:m}},[Symbol.iterator](){return this}}}}function eo(e){return function(...t){return e==="delete"?!1:this}}function EF(){const e={get(s){return Jf(this,s)},get size(){return th(this)},has:Zf,add:wT,set:bT,delete:ET,clear:IT,forEach:eh(!1,!1)},t={get(s){return Jf(this,s,!1,!0)},get size(){return th(this)},has:Zf,add:wT,set:bT,delete:ET,clear:IT,forEach:eh(!1,!0)},n={get(s){return Jf(this,s,!0)},get size(){return th(this,!0)},has(s){return Zf.call(this,s,!0)},add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear"),forEach:eh(!0,!1)},r={get(s){return Jf(this,s,!0,!0)},get size(){return th(this,!0)},has(s){return Zf.call(this,s,!0)},add:eo("add"),set:eo("set"),delete:eo("delete"),clear:eo("clear"),forEach:eh(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=nh(s,!1,!1),n[s]=nh(s,!0,!1),t[s]=nh(s,!1,!0),r[s]=nh(s,!0,!0)}),[e,n,t,r]}const[IF,TF,SF,AF]=EF();function p_(e,t){const n=t?e?AF:SF:e?TF:IF;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(jt(n,i)&&i in r?n:r,i,s)}const CF={get:p_(!1,!1)},NF={get:p_(!1,!0)},RF={get:p_(!0,!1)},ZC=new WeakMap,t1=new WeakMap,e1=new WeakMap,OF=new WeakMap;function xF(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function PF(e){return e.__v_skip||!Object.isExtensible(e)?0:xF(KM(e))}function Pp(e){return Ba(e)?e:d_(e,!1,JC,CF,ZC)}function n1(e){return d_(e,!1,bF,NF,t1)}function r1(e){return d_(e,!0,wF,RF,e1)}function d_(e,t,n,r,i){if(!ce(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const a=PF(e);if(a===0)return e;const c=new Proxy(e,a===2?r:n);return i.set(e,c),c}function ka(e){return Ba(e)?ka(e.__v_raw):!!(e&&e.__v_isReactive)}function Ba(e){return!!(e&&e.__v_isReadonly)}function Uh(e){return!!(e&&e.__v_isShallow)}function i1(e){return ka(e)||Ba(e)}function Wt(e){const t=e&&e.__v_raw;return t?Wt(t):e}function o1(e){return Fh(e,"__v_skip",!0),e}const zc=e=>ce(e)?Pp(e):e,v_=e=>ce(e)?r1(e):e;function s1(e){_o&&Or&&(e=Wt(e),QC(e.dep||(e.dep=c_())))}function a1(e,t){e=Wt(e);const n=e.dep;n&&ty(n)}function pn(e){return!!(e&&e.__v_isRef===!0)}function ri(e){return u1(e,!1)}function kF(e){return u1(e,!0)}function u1(e,t){return pn(e)?e:new DF(e,t)}class DF{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Wt(t),this._value=n?t:zc(t)}get value(){return s1(this),this._value}set value(t){const n=this.__v_isShallow||Uh(t)||Ba(t);t=n?t:Wt(t),$c(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:zc(t),a1(this))}}function Da(e){return pn(e)?e.value:e}const LF={get:(e,t,n)=>Da(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return pn(i)&&!pn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function c1(e){return ka(e)?e:new Proxy(e,LF)}class MF{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new l_(t,()=>{this._dirty||(this._dirty=!0,a1(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Wt(this);return s1(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function FF(e,t,n=!1){let r,i;const s=Ct(e);return s?(r=e,i=Lr):(r=e.get,i=e.set),new MF(r,i,s||!i,n)}function wo(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){kp(s,t,n)}return i}function Mr(e,t,n,r){if(Ct(e)){const s=wo(e,t,n,r);return s&&BC(s)&&s.catch(a=>{kp(a,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(Mr(e[s],t,n,r));return i}function kp(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const a=t.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](e,a,c)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){wo(l,null,10,[e,a,c]);return}}UF(e,n,i,r)}function UF(e,t,n,r=!0){console.error(e)}let Kc=!1,ey=!1;const hn=[];let ei=0;const La=[];let Ci=null,cs=0;const l1=Promise.resolve();let g_=null;function f1(e){const t=g_||l1;return e?t.then(this?e.bind(this):e):t}function jF(e){let t=ei+1,n=hn.length;for(;t<n;){const r=t+n>>>1;Qc(hn[r])<e?t=r+1:n=r}return t}function m_(e){(!hn.length||!hn.includes(e,Kc&&e.allowRecurse?ei+1:ei))&&(e.id==null?hn.push(e):hn.splice(jF(e.id),0,e),h1())}function h1(){!Kc&&!ey&&(ey=!0,g_=l1.then(d1))}function VF(e){const t=hn.indexOf(e);t>ei&&hn.splice(t,1)}function BF(e){Et(e)?La.push(...e):(!Ci||!Ci.includes(e,e.allowRecurse?cs+1:cs))&&La.push(e),h1()}function TT(e,t=Kc?ei+1:0){for(;t<hn.length;t++){const n=hn[t];n&&n.pre&&(hn.splice(t,1),t--,n())}}function p1(e){if(La.length){const t=[...new Set(La)];if(La.length=0,Ci){Ci.push(...t);return}for(Ci=t,Ci.sort((n,r)=>Qc(n)-Qc(r)),cs=0;cs<Ci.length;cs++)Ci[cs]();Ci=null,cs=0}}const Qc=e=>e.id==null?1/0:e.id,qF=(e,t)=>{const n=Qc(e)-Qc(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function d1(e){ey=!1,Kc=!0,hn.sort(qF);const t=Lr;try{for(ei=0;ei<hn.length;ei++){const n=hn[ei];n&&n.active!==!1&&wo(n,null,14)}}finally{ei=0,hn.length=0,p1(),Kc=!1,g_=null,(hn.length||La.length)&&d1()}}function HF(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||re;let i=n;const s=t.startsWith("update:"),a=s&&t.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:m}=r[d]||re;m&&(i=n.map(y=>Pe(y)?y.trim():y)),v&&(i=n.map(Qm))}let c,l=r[c=Xg(t)]||r[c=Xg(li(t))];!l&&s&&(l=r[c=Xg(du(t))]),l&&Mr(l,e,6,i);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Mr(h,e,6,i)}}function v1(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let a={},c=!1;if(!Ct(e)){const l=h=>{const d=v1(h,t,!0);d&&(c=!0,Je(a,d))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!c?(ce(e)&&r.set(e,null),null):(Et(s)?s.forEach(l=>a[l]=null):Je(a,s),ce(e)&&r.set(e,a),a)}function Dp(e,t){return!e||!Cp(t)?!1:(t=t.slice(2).replace(/Once$/,""),jt(e,t[0].toLowerCase()+t.slice(1))||jt(e,du(t))||jt(e,t))}let dr=null,g1=null;function jh(e){const t=dr;return dr=e,g1=e&&e.type.__scopeId||null,t}function Lp(e,t=dr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&LT(-1);const s=jh(t);let a;try{a=e(...i)}finally{jh(s),r._d&&LT(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Jg(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:m,setupState:y,ctx:b,inheritAttrs:E}=e;let I,R;const P=jh(e);try{if(n.shapeFlag&4){const F=i||r;I=ti(d.call(F,F,v,s,y,m,b)),R=l}else{const F=t;I=ti(F.length>1?F(s,{attrs:l,slots:c,emit:h}):F(s,null)),R=t.props?l:WF(l)}}catch(F){Dc.length=0,kp(F,e,1),I=ye(Cs)}let D=I;if(R&&E!==!1){const F=Object.keys(R),{shapeFlag:Y}=D;F.length&&Y&7&&(a&&F.some(i_)&&(R=GF(R,a)),D=qa(D,R))}return n.dirs&&(D=qa(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),I=D,jh(P),I}const WF=e=>{let t;for(const n in e)(n==="class"||n==="style"||Cp(n))&&((t||(t={}))[n]=e[n]);return t},GF=(e,t)=>{const n={};for(const r in e)(!i_(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function $F(e,t,n){const{props:r,children:i,component:s}=e,{props:a,children:c,patchFlag:l}=t,h=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?ST(r,a,h):!!a;if(l&8){const d=t.dynamicProps;for(let v=0;v<d.length;v++){const m=d[v];if(a[m]!==r[m]&&!Dp(h,m))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?ST(r,a,h):!0:!!a;return!1}function ST(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!Dp(n,s))return!0}return!1}function zF({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const KF=e=>e.__isSuspense;function QF(e,t){t&&t.pendingBranch?Et(e)?t.effects.push(...e):t.effects.push(e):BF(e)}const rh={};function Eh(e,t,n){return m1(e,t,n)}function m1(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=re){var c;const l=sF()===((c=on)==null?void 0:c.scope)?on:null;let h,d=!1,v=!1;if(pn(e)?(h=()=>e.value,d=Uh(e)):ka(e)?(h=()=>e,r=!0):Et(e)?(v=!0,d=e.some(F=>ka(F)||Uh(F)),h=()=>e.map(F=>{if(pn(F))return F.value;if(ka(F))return ps(F);if(Ct(F))return wo(F,l,2)})):Ct(e)?t?h=()=>wo(e,l,2):h=()=>{if(!(l&&l.isUnmounted))return m&&m(),Mr(e,l,3,[y])}:h=Lr,t&&r){const F=h;h=()=>ps(F())}let m,y=F=>{m=P.onStop=()=>{wo(F,l,4)}},b;if(Xc)if(y=Lr,t?n&&Mr(t,l,3,[h(),v?[]:void 0,y]):h(),i==="sync"){const F=q2();b=F.__watcherHandles||(F.__watcherHandles=[])}else return Lr;let E=v?new Array(e.length).fill(rh):rh;const I=()=>{if(P.active)if(t){const F=P.run();(r||d||(v?F.some((Y,U)=>$c(Y,E[U])):$c(F,E)))&&(m&&m(),Mr(t,l,3,[F,E===rh?void 0:v&&E[0]===rh?[]:E,y]),E=F)}else P.run()};I.allowRecurse=!!t;let R;i==="sync"?R=I:i==="post"?R=()=>Vn(I,l&&l.suspense):(I.pre=!0,l&&(I.id=l.uid),R=()=>m_(I));const P=new l_(h,R);t?n?I():E=P.run():i==="post"?Vn(P.run.bind(P),l&&l.suspense):P.run();const D=()=>{P.stop(),l&&l.scope&&o_(l.scope.effects,P)};return b&&b.push(D),D}function YF(e,t,n){const r=this.proxy,i=Pe(e)?e.includes(".")?y1(r,e):()=>r[e]:e.bind(r,r);let s;Ct(t)?s=t:(s=t.handler,n=t);const a=on;Ha(this);const c=m1(i,s.bind(r),n);return a?Ha(a):ws(),c}function y1(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function ps(e,t){if(!ce(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),pn(e))ps(e.value,t);else if(Et(e))for(let n=0;n<e.length;n++)ps(e[n],t);else if(VC(e)||Pa(e))e.forEach(n=>{ps(n,t)});else if(HC(e))for(const n in e)ps(e[n],t);return e}function Pc(e,t){const n=dr;if(n===null)return e;const r=jp(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[a,c,l,h=re]=t[s];a&&(Ct(a)&&(a={mounted:a,updated:a}),a.deep&&ps(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return e}function os(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(gu(),Mr(l,n,8,[e.el,c,e,t]),mu())}}function _1(e,t){return Ct(e)?(()=>Je({name:e.name},t,{setup:e}))():e}const Ih=e=>!!e.type.__asyncLoader,w1=e=>e.type.__isKeepAlive;function XF(e,t){b1(e,"a",t)}function JF(e,t){b1(e,"da",t)}function b1(e,t,n=on){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Mp(t,r,n),n){let i=n.parent;for(;i&&i.parent;)w1(i.parent.vnode)&&ZF(r,t,n,i),i=i.parent}}function ZF(e,t,n,r){const i=Mp(t,e,r,!0);I1(()=>{o_(r[t],i)},n)}function Mp(e,t,n=on,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;gu(),Ha(n);const c=Mr(t,n,e,a);return ws(),mu(),c});return r?i.unshift(s):i.push(s),s}}const qi=e=>(t,n=on)=>(!Xc||e==="sp")&&Mp(e,(...r)=>t(...r),n),E1=qi("bm"),t2=qi("m"),e2=qi("bu"),n2=qi("u"),r2=qi("bum"),I1=qi("um"),i2=qi("sp"),o2=qi("rtg"),s2=qi("rtc");function a2(e,t=on){Mp("ec",e,t)}const y_="components";function jr(e,t){return S1(y_,e,!0,t)||e}const T1=Symbol.for("v-ndc");function u2(e){return Pe(e)?S1(y_,e,!1)||e:e||T1}function S1(e,t,n=!0,r=!1){const i=dr||on;if(i){const s=i.type;if(e===y_){const c=j2(s,!1);if(c&&(c===t||c===li(t)||c===Op(li(t))))return s}const a=AT(i[e]||s[e],t)||AT(i.appContext[e],t);return!a&&r?s:a}}function AT(e,t){return e&&(e[t]||e[li(t)]||e[Op(li(t))])}function So(e,t,n,r){let i;const s=n&&n[r];if(Et(e)||Pe(e)){i=new Array(e.length);for(let a=0,c=e.length;a<c;a++)i[a]=t(e[a],a,void 0,s&&s[a])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,s&&s[a])}else if(ce(e))if(e[Symbol.iterator])i=Array.from(e,(a,c)=>t(a,c,void 0,s&&s[c]));else{const a=Object.keys(e);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=t(e[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}const ny=e=>e?M1(e)?jp(e)||e.proxy:ny(e.parent):null,kc=Je(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ny(e.parent),$root:e=>ny(e.root),$emit:e=>e.emit,$options:e=>__(e),$forceUpdate:e=>e.f||(e.f=()=>m_(e.update)),$nextTick:e=>e.n||(e.n=f1.bind(e.proxy)),$watch:e=>YF.bind(e)}),Zg=(e,t)=>e!==re&&!e.__isScriptSetup&&jt(e,t),c2={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=e;let h;if(t[0]!=="$"){const y=a[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(Zg(r,t))return a[t]=1,r[t];if(i!==re&&jt(i,t))return a[t]=2,i[t];if((h=e.propsOptions[0])&&jt(h,t))return a[t]=3,s[t];if(n!==re&&jt(n,t))return a[t]=4,n[t];ry&&(a[t]=0)}}const d=kc[t];let v,m;if(d)return t==="$attrs"&&Gn(e,"get",t),d(e);if((v=c.__cssModules)&&(v=v[t]))return v;if(n!==re&&jt(n,t))return a[t]=4,n[t];if(m=l.config.globalProperties,jt(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return Zg(i,t)?(i[t]=n,!0):r!==re&&jt(r,t)?(r[t]=n,!0):jt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||e!==re&&jt(e,a)||Zg(t,a)||(c=s[0])&&jt(c,a)||jt(r,a)||jt(kc,a)||jt(i.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:jt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function CT(e){return Et(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ry=!0;function l2(e){const t=__(e),n=e.proxy,r=e.ctx;ry=!1,t.beforeCreate&&NT(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:m,beforeUpdate:y,updated:b,activated:E,deactivated:I,beforeDestroy:R,beforeUnmount:P,destroyed:D,unmounted:F,render:Y,renderTracked:U,renderTriggered:_t,errorCaptured:Gt,serverPrefetch:lt,expose:Ze,inheritAttrs:O,components:qr,directives:cn,filters:Uo}=t;if(h&&f2(h,r,null),a)for(const Ft in a){const Ut=a[Ft];Ct(Ut)&&(r[Ft]=Ut.bind(n))}if(i){const Ft=i.call(n,n);ce(Ft)&&(e.data=Pp(Ft))}if(ry=!0,s)for(const Ft in s){const Ut=s[Ft],le=Ct(Ut)?Ut.bind(n,n):Ct(Ut.get)?Ut.get.bind(n,n):Lr,ar=!Ct(Ut)&&Ct(Ut.set)?Ut.set.bind(n):Lr,tn=pr({get:le,set:ar});Object.defineProperty(r,Ft,{enumerable:!0,configurable:!0,get:()=>tn.value,set:He=>tn.value=He})}if(c)for(const Ft in c)A1(c[Ft],r,n,Ft);if(l){const Ft=Ct(l)?l.call(n):l;Reflect.ownKeys(Ft).forEach(Ut=>{Th(Ut,Ft[Ut])})}d&&NT(d,e,"c");function ie(Ft,Ut){Et(Ut)?Ut.forEach(le=>Ft(le.bind(n))):Ut&&Ft(Ut.bind(n))}if(ie(E1,v),ie(t2,m),ie(e2,y),ie(n2,b),ie(XF,E),ie(JF,I),ie(a2,Gt),ie(s2,U),ie(o2,_t),ie(r2,P),ie(I1,F),ie(i2,lt),Et(Ze))if(Ze.length){const Ft=e.exposed||(e.exposed={});Ze.forEach(Ut=>{Object.defineProperty(Ft,Ut,{get:()=>n[Ut],set:le=>n[Ut]=le})})}else e.exposed||(e.exposed={});Y&&e.render===Lr&&(e.render=Y),O!=null&&(e.inheritAttrs=O),qr&&(e.components=qr),cn&&(e.directives=cn)}function f2(e,t,n=Lr){Et(e)&&(e=iy(e));for(const r in e){const i=e[r];let s;ce(i)?"default"in i?s=si(i.from||r,i.default,!0):s=si(i.from||r):s=si(i),pn(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function NT(e,t,n){Mr(Et(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function A1(e,t,n,r){const i=r.includes(".")?y1(n,r):()=>n[r];if(Pe(e)){const s=t[e];Ct(s)&&Eh(i,s)}else if(Ct(e))Eh(i,e.bind(n));else if(ce(e))if(Et(e))e.forEach(s=>A1(s,t,n,r));else{const s=Ct(e.handler)?e.handler.bind(n):t[e.handler];Ct(s)&&Eh(i,s,e)}}function __(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,c=s.get(t);let l;return c?l=c:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(h=>Vh(l,h,a,!0)),Vh(l,t,a)),ce(t)&&s.set(t,l),l}function Vh(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Vh(e,s,n,!0),i&&i.forEach(a=>Vh(e,a,n,!0));for(const a in t)if(!(r&&a==="expose")){const c=h2[a]||n&&n[a];e[a]=c?c(e[a],t[a]):t[a]}return e}const h2={data:RT,props:OT,emits:OT,methods:Nc,computed:Nc,beforeCreate:An,created:An,beforeMount:An,mounted:An,beforeUpdate:An,updated:An,beforeDestroy:An,beforeUnmount:An,destroyed:An,unmounted:An,activated:An,deactivated:An,errorCaptured:An,serverPrefetch:An,components:Nc,directives:Nc,watch:d2,provide:RT,inject:p2};function RT(e,t){return t?e?function(){return Je(Ct(e)?e.call(this,this):e,Ct(t)?t.call(this,this):t)}:t:e}function p2(e,t){return Nc(iy(e),iy(t))}function iy(e){if(Et(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function An(e,t){return e?[...new Set([].concat(e,t))]:t}function Nc(e,t){return e?Je(Object.create(null),e,t):t}function OT(e,t){return e?Et(e)&&Et(t)?[...new Set([...e,...t])]:Je(Object.create(null),CT(e),CT(t??{})):t}function d2(e,t){if(!e)return t;if(!t)return e;const n=Je(Object.create(null),e);for(const r in t)n[r]=An(e[r],t[r]);return n}function C1(){return{app:null,config:{isNativeTag:GM,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let v2=0;function g2(e,t){return function(r,i=null){Ct(r)||(r=Je({},r)),i!=null&&!ce(i)&&(i=null);const s=C1(),a=new Set;let c=!1;const l=s.app={_uid:v2++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:H2,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&Ct(h.install)?(a.add(h),h.install(l,...d)):Ct(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const m=ye(r,i);return m.appContext=s,d&&t?t(m,h):e(m,h,v),c=!0,l._container=h,h.__vue_app__=l,jp(m.component)||m.component.proxy}},unmount(){c&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){Bh=l;try{return h()}finally{Bh=null}}};return l}}let Bh=null;function Th(e,t){if(on){let n=on.provides;const r=on.parent&&on.parent.provides;r===n&&(n=on.provides=Object.create(r)),n[e]=t}}function si(e,t,n=!1){const r=on||dr;if(r||Bh){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Bh._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&Ct(t)?t.call(r&&r.proxy):t}}function m2(e,t,n,r=!1){const i={},s={};Fh(s,Up,1),e.propsDefaults=Object.create(null),N1(e,t,i,s);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:n1(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function y2(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=e,c=Wt(i),[l]=e.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=e.vnode.dynamicProps;for(let v=0;v<d.length;v++){let m=d[v];if(Dp(e.emitsOptions,m))continue;const y=t[m];if(l)if(jt(s,m))y!==s[m]&&(s[m]=y,h=!0);else{const b=li(m);i[b]=oy(l,c,b,y,e,!1)}else y!==s[m]&&(s[m]=y,h=!0)}}}else{N1(e,t,i,s)&&(h=!0);let d;for(const v in c)(!t||!jt(t,v)&&((d=du(v))===v||!jt(t,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=oy(l,c,v,void 0,e,!0)):delete i[v]);if(s!==c)for(const v in s)(!t||!jt(t,v))&&(delete s[v],h=!0)}h&&Mi(e,"set","$attrs")}function N1(e,t,n,r){const[i,s]=e.propsOptions;let a=!1,c;if(t)for(let l in t){if(wh(l))continue;const h=t[l];let d;i&&jt(i,d=li(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:Dp(e.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=Wt(n),h=c||re;for(let d=0;d<s.length;d++){const v=s[d];n[v]=oy(i,l,v,h[v],e,!jt(h,v))}}return a}function oy(e,t,n,r,i,s){const a=e[n];if(a!=null){const c=jt(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Ct(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(Ha(i),r=h[n]=l.call(null,t),ws())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===du(n))&&(r=!0))}return r}function R1(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,a={},c=[];let l=!1;if(!Ct(e)){const d=v=>{l=!0;const[m,y]=R1(v,t,!0);Je(a,m),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!s&&!l)return ce(e)&&r.set(e,xa),xa;if(Et(s))for(let d=0;d<s.length;d++){const v=li(s[d]);xT(v)&&(a[v]=re)}else if(s)for(const d in s){const v=li(d);if(xT(v)){const m=s[d],y=a[v]=Et(m)||Ct(m)?{type:m}:Je({},m);if(y){const b=DT(Boolean,y.type),E=DT(String,y.type);y[0]=b>-1,y[1]=E<0||b<E,(b>-1||jt(y,"default"))&&c.push(v)}}}const h=[a,c];return ce(e)&&r.set(e,h),h}function xT(e){return e[0]!=="$"}function PT(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function kT(e,t){return PT(e)===PT(t)}function DT(e,t){return Et(t)?t.findIndex(n=>kT(n,e)):Ct(t)&&kT(t,e)?0:-1}const O1=e=>e[0]==="_"||e==="$stable",w_=e=>Et(e)?e.map(ti):[ti(e)],_2=(e,t,n)=>{if(t._n)return t;const r=Lp((...i)=>w_(t(...i)),n);return r._c=!1,r},x1=(e,t,n)=>{const r=e._ctx;for(const i in e){if(O1(i))continue;const s=e[i];if(Ct(s))t[i]=_2(i,s,r);else if(s!=null){const a=w_(s);t[i]=()=>a}}},P1=(e,t)=>{const n=w_(t);e.slots.default=()=>n},w2=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Wt(t),Fh(t,"_",n)):x1(t,e.slots={})}else e.slots={},t&&P1(e,t);Fh(e.slots,Up,1)},b2=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,a=re;if(r.shapeFlag&32){const c=t._;c?n&&c===1?s=!1:(Je(i,t),!n&&c===1&&delete i._):(s=!t.$stable,x1(t,i)),a=t}else t&&(P1(e,t),a={default:1});if(s)for(const c in i)!O1(c)&&!(c in a)&&delete i[c]};function sy(e,t,n,r,i=!1){if(Et(e)){e.forEach((m,y)=>sy(m,t&&(Et(t)?t[y]:t),n,r,i));return}if(Ih(r)&&!i)return;const s=r.shapeFlag&4?jp(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=e,h=t&&t.r,d=c.refs===re?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&(Pe(h)?(d[h]=null,jt(v,h)&&(v[h]=null)):pn(h)&&(h.value=null)),Ct(l))wo(l,c,12,[a,d]);else{const m=Pe(l),y=pn(l);if(m||y){const b=()=>{if(e.f){const E=m?jt(v,l)?v[l]:d[l]:l.value;i?Et(E)&&o_(E,s):Et(E)?E.includes(s)||E.push(s):m?(d[l]=[s],jt(v,l)&&(v[l]=d[l])):(l.value=[s],e.k&&(d[e.k]=l.value))}else m?(d[l]=a,jt(v,l)&&(v[l]=a)):y&&(l.value=a,e.k&&(d[e.k]=a))};a?(b.id=-1,Vn(b,n)):b()}}}const Vn=QF;function E2(e){return I2(e)}function I2(e,t){const n=Ym();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:m,setScopeId:y=Lr,insertStaticContent:b}=e,E=(S,A,x,L=null,V=null,B=null,tt=!1,z=null,X=!!A.dynamicChildren)=>{if(S===A)return;S&&!yc(S,A)&&(L=j(S),He(S,V,B,!0),S=null),A.patchFlag===-2&&(X=!1,A.dynamicChildren=null);const{type:G,ref:pt,shapeFlag:st}=A;switch(G){case Fp:I(S,A,x,L);break;case Cs:R(S,A,x,L);break;case Sh:S==null&&P(A,x,L,tt);break;case Me:qr(S,A,x,L,V,B,tt,z,X);break;default:st&1?Y(S,A,x,L,V,B,tt,z,X):st&6?cn(S,A,x,L,V,B,tt,z,X):(st&64||st&128)&&G.process(S,A,x,L,V,B,tt,z,X,H)}pt!=null&&V&&sy(pt,S&&S.ref,B,A||S,!A)},I=(S,A,x,L)=>{if(S==null)r(A.el=c(A.children),x,L);else{const V=A.el=S.el;A.children!==S.children&&h(V,A.children)}},R=(S,A,x,L)=>{S==null?r(A.el=l(A.children||""),x,L):A.el=S.el},P=(S,A,x,L)=>{[S.el,S.anchor]=b(S.children,A,x,L,S.el,S.anchor)},D=({el:S,anchor:A},x,L)=>{let V;for(;S&&S!==A;)V=m(S),r(S,x,L),S=V;r(A,x,L)},F=({el:S,anchor:A})=>{let x;for(;S&&S!==A;)x=m(S),i(S),S=x;i(A)},Y=(S,A,x,L,V,B,tt,z,X)=>{tt=tt||A.type==="svg",S==null?U(A,x,L,V,B,tt,z,X):lt(S,A,V,B,tt,z,X)},U=(S,A,x,L,V,B,tt,z)=>{let X,G;const{type:pt,props:st,shapeFlag:dt,transition:wt,dirs:Nt}=S;if(X=S.el=a(S.type,B,st&&st.is,st),dt&8?d(X,S.children):dt&16&&Gt(S.children,X,null,L,V,B&&pt!=="foreignObject",tt,z),Nt&&os(S,null,L,"created"),_t(X,S,S.scopeId,tt,L),st){for(const vt in st)vt!=="value"&&!wh(vt)&&s(X,vt,null,st[vt],B,S.children,L,V,We);"value"in st&&s(X,"value",null,st.value),(G=st.onVnodeBeforeMount)&&Jr(G,L,S)}Nt&&os(S,null,L,"beforeMount");const Yt=(!V||V&&!V.pendingBranch)&&wt&&!wt.persisted;Yt&&wt.beforeEnter(X),r(X,A,x),((G=st&&st.onVnodeMounted)||Yt||Nt)&&Vn(()=>{G&&Jr(G,L,S),Yt&&wt.enter(X),Nt&&os(S,null,L,"mounted")},V)},_t=(S,A,x,L,V)=>{if(x&&y(S,x),L)for(let B=0;B<L.length;B++)y(S,L[B]);if(V){let B=V.subTree;if(A===B){const tt=V.vnode;_t(S,tt,tt.scopeId,tt.slotScopeIds,V.parent)}}},Gt=(S,A,x,L,V,B,tt,z,X=0)=>{for(let G=X;G<S.length;G++){const pt=S[G]=z?uo(S[G]):ti(S[G]);E(null,pt,A,x,L,V,B,tt,z)}},lt=(S,A,x,L,V,B,tt)=>{const z=A.el=S.el;let{patchFlag:X,dynamicChildren:G,dirs:pt}=A;X|=S.patchFlag&16;const st=S.props||re,dt=A.props||re;let wt;x&&ss(x,!1),(wt=dt.onVnodeBeforeUpdate)&&Jr(wt,x,A,S),pt&&os(A,S,x,"beforeUpdate"),x&&ss(x,!0);const Nt=V&&A.type!=="foreignObject";if(G?Ze(S.dynamicChildren,G,z,x,L,Nt,B):tt||Ut(S,A,z,null,x,L,Nt,B,!1),X>0){if(X&16)O(z,A,st,dt,x,L,V);else if(X&2&&st.class!==dt.class&&s(z,"class",null,dt.class,V),X&4&&s(z,"style",st.style,dt.style,V),X&8){const Yt=A.dynamicProps;for(let vt=0;vt<Yt.length;vt++){const oe=Yt[vt],Ge=st[oe],yi=dt[oe];(yi!==Ge||oe==="value")&&s(z,oe,Ge,yi,V,S.children,x,L,We)}}X&1&&S.children!==A.children&&d(z,A.children)}else!tt&&G==null&&O(z,A,st,dt,x,L,V);((wt=dt.onVnodeUpdated)||pt)&&Vn(()=>{wt&&Jr(wt,x,A,S),pt&&os(A,S,x,"updated")},L)},Ze=(S,A,x,L,V,B,tt)=>{for(let z=0;z<A.length;z++){const X=S[z],G=A[z],pt=X.el&&(X.type===Me||!yc(X,G)||X.shapeFlag&70)?v(X.el):x;E(X,G,pt,null,L,V,B,tt,!0)}},O=(S,A,x,L,V,B,tt)=>{if(x!==L){if(x!==re)for(const z in x)!wh(z)&&!(z in L)&&s(S,z,x[z],null,tt,A.children,V,B,We);for(const z in L){if(wh(z))continue;const X=L[z],G=x[z];X!==G&&z!=="value"&&s(S,z,G,X,tt,A.children,V,B,We)}"value"in L&&s(S,"value",x.value,L.value)}},qr=(S,A,x,L,V,B,tt,z,X)=>{const G=A.el=S?S.el:c(""),pt=A.anchor=S?S.anchor:c("");let{patchFlag:st,dynamicChildren:dt,slotScopeIds:wt}=A;wt&&(z=z?z.concat(wt):wt),S==null?(r(G,x,L),r(pt,x,L),Gt(A.children,x,pt,V,B,tt,z,X)):st>0&&st&64&&dt&&S.dynamicChildren?(Ze(S.dynamicChildren,dt,x,V,B,tt,z),(A.key!=null||V&&A===V.subTree)&&k1(S,A,!0)):Ut(S,A,x,pt,V,B,tt,z,X)},cn=(S,A,x,L,V,B,tt,z,X)=>{A.slotScopeIds=z,S==null?A.shapeFlag&512?V.ctx.activate(A,x,L,tt,X):Uo(A,x,L,V,B,tt,X):Hr(S,A,X)},Uo=(S,A,x,L,V,B,tt)=>{const z=S.component=D2(S,L,V);if(w1(S)&&(z.ctx.renderer=H),L2(z),z.asyncDep){if(V&&V.registerDep(z,ie),!S.el){const X=z.subTree=ye(Cs);R(null,X,A,x)}return}ie(z,S,A,x,V,B,tt)},Hr=(S,A,x)=>{const L=A.component=S.component;if($F(S,A,x))if(L.asyncDep&&!L.asyncResolved){Ft(L,A,x);return}else L.next=A,VF(L.update),L.update();else A.el=S.el,L.vnode=A},ie=(S,A,x,L,V,B,tt)=>{const z=()=>{if(S.isMounted){let{next:pt,bu:st,u:dt,parent:wt,vnode:Nt}=S,Yt=pt,vt;ss(S,!1),pt?(pt.el=Nt.el,Ft(S,pt,tt)):pt=Nt,st&&bh(st),(vt=pt.props&&pt.props.onVnodeBeforeUpdate)&&Jr(vt,wt,pt,Nt),ss(S,!0);const oe=Jg(S),Ge=S.subTree;S.subTree=oe,E(Ge,oe,v(Ge.el),j(Ge),S,V,B),pt.el=oe.el,Yt===null&&zF(S,oe.el),dt&&Vn(dt,V),(vt=pt.props&&pt.props.onVnodeUpdated)&&Vn(()=>Jr(vt,wt,pt,Nt),V)}else{let pt;const{el:st,props:dt}=A,{bm:wt,m:Nt,parent:Yt}=S,vt=Ih(A);if(ss(S,!1),wt&&bh(wt),!vt&&(pt=dt&&dt.onVnodeBeforeMount)&&Jr(pt,Yt,A),ss(S,!0),st&&Vt){const oe=()=>{S.subTree=Jg(S),Vt(st,S.subTree,S,V,null)};vt?A.type.__asyncLoader().then(()=>!S.isUnmounted&&oe()):oe()}else{const oe=S.subTree=Jg(S);E(null,oe,x,L,S,V,B),A.el=oe.el}if(Nt&&Vn(Nt,V),!vt&&(pt=dt&&dt.onVnodeMounted)){const oe=A;Vn(()=>Jr(pt,Yt,oe),V)}(A.shapeFlag&256||Yt&&Ih(Yt.vnode)&&Yt.vnode.shapeFlag&256)&&S.a&&Vn(S.a,V),S.isMounted=!0,A=x=L=null}},X=S.effect=new l_(z,()=>m_(G),S.scope),G=S.update=()=>X.run();G.id=S.uid,ss(S,!0),G()},Ft=(S,A,x)=>{A.component=S;const L=S.vnode.props;S.vnode=A,S.next=null,y2(S,A.props,L,x),b2(S,A.children,x),gu(),TT(),mu()},Ut=(S,A,x,L,V,B,tt,z,X=!1)=>{const G=S&&S.children,pt=S?S.shapeFlag:0,st=A.children,{patchFlag:dt,shapeFlag:wt}=A;if(dt>0){if(dt&128){ar(G,st,x,L,V,B,tt,z,X);return}else if(dt&256){le(G,st,x,L,V,B,tt,z,X);return}}wt&8?(pt&16&&We(G,V,B),st!==G&&d(x,st)):pt&16?wt&16?ar(G,st,x,L,V,B,tt,z,X):We(G,V,B,!0):(pt&8&&d(x,""),wt&16&&Gt(st,x,L,V,B,tt,z,X))},le=(S,A,x,L,V,B,tt,z,X)=>{S=S||xa,A=A||xa;const G=S.length,pt=A.length,st=Math.min(G,pt);let dt;for(dt=0;dt<st;dt++){const wt=A[dt]=X?uo(A[dt]):ti(A[dt]);E(S[dt],wt,x,null,V,B,tt,z,X)}G>pt?We(S,V,B,!0,!1,st):Gt(A,x,L,V,B,tt,z,X,st)},ar=(S,A,x,L,V,B,tt,z,X)=>{let G=0;const pt=A.length;let st=S.length-1,dt=pt-1;for(;G<=st&&G<=dt;){const wt=S[G],Nt=A[G]=X?uo(A[G]):ti(A[G]);if(yc(wt,Nt))E(wt,Nt,x,null,V,B,tt,z,X);else break;G++}for(;G<=st&&G<=dt;){const wt=S[st],Nt=A[dt]=X?uo(A[dt]):ti(A[dt]);if(yc(wt,Nt))E(wt,Nt,x,null,V,B,tt,z,X);else break;st--,dt--}if(G>st){if(G<=dt){const wt=dt+1,Nt=wt<pt?A[wt].el:L;for(;G<=dt;)E(null,A[G]=X?uo(A[G]):ti(A[G]),x,Nt,V,B,tt,z,X),G++}}else if(G>dt)for(;G<=st;)He(S[G],V,B,!0),G++;else{const wt=G,Nt=G,Yt=new Map;for(G=Nt;G<=dt;G++){const _e=A[G]=X?uo(A[G]):ti(A[G]);_e.key!=null&&Yt.set(_e.key,G)}let vt,oe=0;const Ge=dt-Nt+1;let yi=!1,ku=0;const ee=new Array(Ge);for(G=0;G<Ge;G++)ee[G]=0;for(G=wt;G<=st;G++){const _e=S[G];if(oe>=Ge){He(_e,V,B,!0);continue}let ke;if(_e.key!=null)ke=Yt.get(_e.key);else for(vt=Nt;vt<=dt;vt++)if(ee[vt-Nt]===0&&yc(_e,A[vt])){ke=vt;break}ke===void 0?He(_e,V,B,!0):(ee[ke-Nt]=G+1,ke>=ku?ku=ke:yi=!0,E(_e,A[ke],x,null,V,B,tt,z,X),oe++)}const Du=yi?T2(ee):xa;for(vt=Du.length-1,G=Ge-1;G>=0;G--){const _e=Nt+G,ke=A[_e],Lu=_e+1<pt?A[_e+1].el:L;ee[G]===0?E(null,ke,x,Lu,V,B,tt,z,X):yi&&(vt<0||G!==Du[vt]?tn(ke,x,Lu,2):vt--)}}},tn=(S,A,x,L,V=null)=>{const{el:B,type:tt,transition:z,children:X,shapeFlag:G}=S;if(G&6){tn(S.component.subTree,A,x,L);return}if(G&128){S.suspense.move(A,x,L);return}if(G&64){tt.move(S,A,x,H);return}if(tt===Me){r(B,A,x);for(let st=0;st<X.length;st++)tn(X[st],A,x,L);r(S.anchor,A,x);return}if(tt===Sh){D(S,A,x);return}if(L!==2&&G&1&&z)if(L===0)z.beforeEnter(B),r(B,A,x),Vn(()=>z.enter(B),V);else{const{leave:st,delayLeave:dt,afterLeave:wt}=z,Nt=()=>r(B,A,x),Yt=()=>{st(B,()=>{Nt(),wt&&wt()})};dt?dt(B,Nt,Yt):Yt()}else r(B,A,x)},He=(S,A,x,L=!1,V=!1)=>{const{type:B,props:tt,ref:z,children:X,dynamicChildren:G,shapeFlag:pt,patchFlag:st,dirs:dt}=S;if(z!=null&&sy(z,null,x,S,!0),pt&256){A.ctx.deactivate(S);return}const wt=pt&1&&dt,Nt=!Ih(S);let Yt;if(Nt&&(Yt=tt&&tt.onVnodeBeforeUnmount)&&Jr(Yt,A,S),pt&6)jo(S.component,x,L);else{if(pt&128){S.suspense.unmount(x,L);return}wt&&os(S,null,A,"beforeUnmount"),pt&64?S.type.remove(S,A,x,V,H,L):G&&(B!==Me||st>0&&st&64)?We(G,A,x,!1,!0):(B===Me&&st&384||!V&&pt&16)&&We(X,A,x),L&&gi(S)}(Nt&&(Yt=tt&&tt.onVnodeUnmounted)||wt)&&Vn(()=>{Yt&&Jr(Yt,A,S),wt&&os(S,null,A,"unmounted")},x)},gi=S=>{const{type:A,el:x,anchor:L,transition:V}=S;if(A===Me){mi(x,L);return}if(A===Sh){F(S);return}const B=()=>{i(x),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(S.shapeFlag&1&&V&&!V.persisted){const{leave:tt,delayLeave:z}=V,X=()=>tt(x,B);z?z(S.el,B,X):X()}else B()},mi=(S,A)=>{let x;for(;S!==A;)x=m(S),i(S),S=x;i(A)},jo=(S,A,x)=>{const{bum:L,scope:V,update:B,subTree:tt,um:z}=S;L&&bh(L),V.stop(),B&&(B.active=!1,He(tt,S,A,x)),z&&Vn(z,A),Vn(()=>{S.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},We=(S,A,x,L=!1,V=!1,B=0)=>{for(let tt=B;tt<S.length;tt++)He(S[tt],A,x,L,V)},j=S=>S.shapeFlag&6?j(S.component.subTree):S.shapeFlag&128?S.suspense.next():m(S.anchor||S.el),nt=(S,A,x)=>{S==null?A._vnode&&He(A._vnode,null,null,!0):E(A._vnode||null,S,A,null,null,null,x),TT(),p1(),A._vnode=S},H={p:E,um:He,m:tn,r:gi,mt:Uo,mc:Gt,pc:Ut,pbc:Ze,n:j,o:e};let ft,Vt;return t&&([ft,Vt]=t(H)),{render:nt,hydrate:ft,createApp:g2(nt,ft)}}function ss({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function k1(e,t,n=!1){const r=e.children,i=t.children;if(Et(r)&&Et(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=uo(i[s]),c.el=a.el),n||k1(a,c)),c.type===Fp&&(c.el=a.el)}}function T2(e){const t=e.slice(),n=[0];let r,i,s,a,c;const l=e.length;for(r=0;r<l;r++){const h=e[r];if(h!==0){if(i=n[n.length-1],e[i]<h){t[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,e[n[c]]<h?s=c+1:a=c;h<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}const S2=e=>e.__isTeleport,Me=Symbol.for("v-fgt"),Fp=Symbol.for("v-txt"),Cs=Symbol.for("v-cmt"),Sh=Symbol.for("v-stc"),Dc=[];let xr=null;function de(e=!1){Dc.push(xr=e?null:[])}function A2(){Dc.pop(),xr=Dc[Dc.length-1]||null}let Yc=1;function LT(e){Yc+=e}function D1(e){return e.dynamicChildren=Yc>0?xr||xa:null,A2(),Yc>0&&xr&&xr.push(e),e}function Xe(e,t,n,r,i,s){return D1(rt(e,t,n,r,i,s,!0))}function Cl(e,t,n,r,i){return D1(ye(e,t,n,r,i,!0))}function ay(e){return e?e.__v_isVNode===!0:!1}function yc(e,t){return e.type===t.type&&e.key===t.key}const Up="__vInternal",L1=({key:e})=>e??null,Ah=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Pe(e)||pn(e)||Ct(e)?{i:dr,r:e,k:t,f:!!n}:e:null);function rt(e,t=null,n=null,r=0,i=null,s=e===Me?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&L1(t),ref:t&&Ah(t),scopeId:g1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:dr};return c?(b_(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Pe(n)?8:16),Yc>0&&!a&&xr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&xr.push(l),l}const ye=C2;function C2(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===T1)&&(e=Cs),ay(e)){const c=qa(e,t,!0);return n&&b_(c,n),Yc>0&&!s&&xr&&(c.shapeFlag&6?xr[xr.indexOf(e)]=c:xr.push(c)),c.patchFlag|=-2,c}if(V2(e)&&(e=e.__vccOpts),t){t=N2(t);let{class:c,style:l}=t;c&&!Pe(c)&&(t.class=vu(c)),ce(l)&&(i1(l)&&!Et(l)&&(l=Je({},l)),t.style=u_(l))}const a=Pe(e)?1:KF(e)?128:S2(e)?64:ce(e)?4:Ct(e)?2:0;return rt(e,t,n,r,i,a,s,!0)}function N2(e){return e?i1(e)||Up in e?Je({},e):e:null}function qa(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=e,c=t?x2(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&L1(c),ref:t&&t.ref?n&&i?Et(i)?i.concat(Ah(t)):[i,Ah(t)]:Ah(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qa(e.ssContent),ssFallback:e.ssFallback&&qa(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function R2(e=" ",t=0){return ye(Fp,null,e,t)}function pi(e,t){const n=ye(Sh,null,e);return n.staticCount=t,n}function O2(e="",t=!1){return t?(de(),Cl(Cs,null,e)):ye(Cs,null,e)}function ti(e){return e==null||typeof e=="boolean"?ye(Cs):Et(e)?ye(Me,null,e.slice()):typeof e=="object"?uo(e):ye(Fp,null,String(e))}function uo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qa(e)}function b_(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Et(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),b_(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Up in t)?t._ctx=dr:i===3&&dr&&(dr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ct(t)?(t={default:t,_ctx:dr},n=32):(t=String(t),r&64?(n=16,t=[R2(t)]):n=8);e.children=t,e.shapeFlag|=n}function x2(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=vu([t.class,r.class]));else if(i==="style")t.style=u_([t.style,r.style]);else if(Cp(i)){const s=t[i],a=r[i];a&&s!==a&&!(Et(s)&&s.includes(a))&&(t[i]=s?[].concat(s,a):a)}else i!==""&&(t[i]=r[i])}return t}function Jr(e,t,n,r=null){Mr(e,t,7,[n,r])}const P2=C1();let k2=0;function D2(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||P2,s={uid:k2++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new iF(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:R1(r,i),emitsOptions:v1(r,i),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=HF.bind(null,s),e.ce&&e.ce(s),s}let on=null,E_,ga,MT="__VUE_INSTANCE_SETTERS__";(ga=Ym()[MT])||(ga=Ym()[MT]=[]),ga.push(e=>on=e),E_=e=>{ga.length>1?ga.forEach(t=>t(e)):ga[0](e)};const Ha=e=>{E_(e),e.scope.on()},ws=()=>{on&&on.scope.off(),E_(null)};function M1(e){return e.vnode.shapeFlag&4}let Xc=!1;function L2(e,t=!1){Xc=t;const{props:n,children:r}=e.vnode,i=M1(e);m2(e,n,i,t),w2(e,r);const s=i?M2(e,t):void 0;return Xc=!1,s}function M2(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=o1(new Proxy(e.ctx,c2));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?U2(e):null;Ha(e),gu();const s=wo(r,e,0,[e.props,i]);if(mu(),ws(),BC(s)){if(s.then(ws,ws),t)return s.then(a=>{FT(e,a,t)}).catch(a=>{kp(a,e,0)});e.asyncDep=s}else FT(e,s,t)}else F1(e,t)}function FT(e,t,n){Ct(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ce(t)&&(e.setupState=c1(t)),F1(e,n)}let UT;function F1(e,t,n){const r=e.type;if(!e.render){if(!t&&UT&&!r.render){const i=r.template||__(e).template;if(i){const{isCustomElement:s,compilerOptions:a}=e.appContext.config,{delimiters:c,compilerOptions:l}=r,h=Je(Je({isCustomElement:s,delimiters:c},a),l);r.render=UT(i,h)}}e.render=r.render||Lr}Ha(e),gu(),l2(e),mu(),ws()}function F2(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Gn(e,"get","$attrs"),t[n]}}))}function U2(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return F2(e)},slots:e.slots,emit:e.emit,expose:t}}function jp(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(c1(o1(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in kc)return kc[n](e)},has(t,n){return n in t||n in kc}}))}function j2(e,t=!0){return Ct(e)?e.displayName||e.name:e.name||t&&e.__name}function V2(e){return Ct(e)&&"__vccOpts"in e}const pr=(e,t)=>FF(e,t,Xc);function U1(e,t,n){const r=arguments.length;return r===2?ce(t)&&!Et(t)?ay(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ay(n)&&(n=[n]),ye(e,t,n))}const B2=Symbol.for("v-scx"),q2=()=>si(B2),H2="3.3.4",W2="http://www.w3.org/2000/svg",ls=typeof document<"u"?document:null,jT=ls&&ls.createElement("template"),G2={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?ls.createElementNS(W2,e):ls.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>ls.createTextNode(e),createComment:e=>ls.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ls.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const a=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{jT.innerHTML=r?`<svg>${e}</svg>`:e;const c=jT.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}t.insertBefore(c,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function $2(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function z2(e,t,n){const r=e.style,i=Pe(n);if(n&&!i){if(t&&!Pe(t))for(const s in t)n[s]==null&&uy(r,s,"");for(const s in n)uy(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const VT=/\s*!important$/;function uy(e,t,n){if(Et(n))n.forEach(r=>uy(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=K2(e,t);VT.test(n)?e.setProperty(du(r),n.replace(VT,""),"important"):e[r]=n}}const BT=["Webkit","Moz","ms"],tm={};function K2(e,t){const n=tm[t];if(n)return n;let r=li(t);if(r!=="filter"&&r in e)return tm[t]=r;r=Op(r);for(let i=0;i<BT.length;i++){const s=BT[i]+r;if(s in e)return tm[t]=s}return t}const qT="http://www.w3.org/1999/xlink";function Q2(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(qT,t.slice(6,t.length)):e.setAttributeNS(qT,t,n);else{const s=nF(t);n==null||s&&!WC(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function Y2(e,t,n,r,i,s,a){if(t==="innerHTML"||t==="textContent"){r&&a(r,i,s),e[t]=n??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=n;const h=c==="OPTION"?e.getAttribute("value"):e.value,d=n??"";h!==d&&(e.value=d),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=WC(n):n==null&&h==="string"?(n="",l=!0):h==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Ea(e,t,n,r){e.addEventListener(t,n,r)}function X2(e,t,n,r){e.removeEventListener(t,n,r)}function J2(e,t,n,r,i=null){const s=e._vei||(e._vei={}),a=s[t];if(r&&a)a.value=r;else{const[c,l]=Z2(t);if(r){const h=s[t]=nU(r,i);Ea(e,c,h,l)}else a&&(X2(e,c,a,l),s[t]=void 0)}}const HT=/(?:Once|Passive|Capture)$/;function Z2(e){let t;if(HT.test(e)){t={};let r;for(;r=e.match(HT);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):du(e.slice(2)),t]}let em=0;const tU=Promise.resolve(),eU=()=>em||(tU.then(()=>em=0),em=Date.now());function nU(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Mr(rU(r,n.value),t,5,[r])};return n.value=e,n.attached=eU(),n}function rU(e,t){if(Et(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const WT=/^on[a-z]/,iU=(e,t,n,r,i=!1,s,a,c,l)=>{t==="class"?$2(e,r,i):t==="style"?z2(e,n,r):Cp(t)?i_(t)||J2(e,t,n,r,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):oU(e,t,r,i))?Y2(e,t,r,s,a,c,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Q2(e,t,r,i))};function oU(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&WT.test(t)&&Ct(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||WT.test(t)&&Pe(n)?!1:t in e}const GT=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Et(t)?n=>bh(t,n):t};function sU(e){e.target.composing=!0}function $T(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Lc={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=GT(i);const s=r||i.props&&i.props.type==="number";Ea(e,t?"change":"input",a=>{if(a.target.composing)return;let c=e.value;n&&(c=c.trim()),s&&(c=Qm(c)),e._assign(c)}),n&&Ea(e,"change",()=>{e.value=e.value.trim()}),t||(Ea(e,"compositionstart",sU),Ea(e,"compositionend",$T),Ea(e,"change",$T))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=GT(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&Qm(e.value)===t))return;const a=t??"";e.value!==a&&(e.value=a)}},aU=Je({patchProp:iU},G2);let zT;function uU(){return zT||(zT=E2(aU))}const cU=(...e)=>{const t=uU().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=lU(r);if(!i)return;const s=t._component;!Ct(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function lU(e){return Pe(e)?document.querySelector(e):e}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ia=typeof window<"u";function fU(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const zt=Object.assign;function nm(e,t){const n={};for(const r in t){const i=t[r];n[r]=Vr(i)?i.map(e):e(i)}return n}const Mc=()=>{},Vr=Array.isArray,hU=/\/$/,pU=e=>e.replace(hU,"");function rm(e,t,n="/"){let r,i={},s="",a="";const c=t.indexOf("#");let l=t.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,c>-1?c:t.length),i=e(s)),c>-1&&(r=r||t.slice(0,c),a=t.slice(c,t.length)),r=mU(r??t,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function dU(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function KT(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function vU(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Wa(t.matched[r],n.matched[i])&&j1(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Wa(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function j1(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!gU(e[n],t[n]))return!1;return!0}function gU(e,t){return Vr(e)?QT(e,t):Vr(t)?QT(t,e):e===t}function QT(e,t){return Vr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function mU(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var Jc;(function(e){e.pop="pop",e.push="push"})(Jc||(Jc={}));var Fc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Fc||(Fc={}));function yU(e){if(!e)if(Ia){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),pU(e)}const _U=/^[^#]+#/;function wU(e,t){return e.replace(_U,"#")+t}function bU(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Vp=()=>({left:window.pageXOffset,top:window.pageYOffset});function EU(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=bU(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function YT(e,t){return(history.state?history.state.position-t:-1)+e}const cy=new Map;function IU(e,t){cy.set(e,t)}function TU(e){const t=cy.get(e);return cy.delete(e),t}let SU=()=>location.protocol+"//"+location.host;function V1(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let c=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),KT(l,"")}return KT(n,e)+r+i}function AU(e,t,n,r){let i=[],s=[],a=null;const c=({state:m})=>{const y=V1(e,location),b=n.value,E=t.value;let I=0;if(m){if(n.value=y,t.value=m,a&&a===b){a=null;return}I=E?m.position-E.position:0}else r(y);i.forEach(R=>{R(n.value,b,{delta:I,type:Jc.pop,direction:I?I>0?Fc.forward:Fc.back:Fc.unknown})})};function l(){a=n.value}function h(m){i.push(m);const y=()=>{const b=i.indexOf(m);b>-1&&i.splice(b,1)};return s.push(y),y}function d(){const{history:m}=window;m.state&&m.replaceState(zt({},m.state,{scroll:Vp()}),"")}function v(){for(const m of s)m();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:v}}function XT(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Vp():null}}function CU(e){const{history:t,location:n}=window,r={value:V1(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=e.indexOf("#"),m=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+l:SU()+e+l;try{t[d?"replaceState":"pushState"](h,"",m),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](m)}}function a(l,h){const d=zt({},t.state,XT(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=zt({},i.value,t.state,{forward:l,scroll:Vp()});s(d.current,d,!0);const v=zt({},XT(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function NU(e){e=yU(e);const t=CU(e),n=AU(e,t.state,t.location,t.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=zt({location:"",base:e,go:r,createHref:wU.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function RU(e){return typeof e=="string"||e&&typeof e=="object"}function B1(e){return typeof e=="string"||typeof e=="symbol"}const no={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},q1=Symbol("");var JT;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(JT||(JT={}));function Ga(e,t){return zt(new Error,{type:e,[q1]:!0},t)}function Ti(e,t){return e instanceof Error&&q1 in e&&(t==null||!!(e.type&t))}const ZT="[^/]+?",OU={sensitive:!1,strict:!1,start:!0,end:!0},xU=/[.+*?^${}()[\]/\\]/g;function PU(e,t){const n=zt({},OU,t),r=[];let i=n.start?"^":"";const s=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const m=h[v];let y=40+(n.sensitive?.25:0);if(m.type===0)v||(i+="/"),i+=m.value.replace(xU,"\\$&"),y+=40;else if(m.type===1){const{value:b,repeatable:E,optional:I,regexp:R}=m;s.push({name:b,repeatable:E,optional:I});const P=R||ZT;if(P!==ZT){y+=10;try{new RegExp(`(${P})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${b}" (${P}): `+F.message)}}let D=E?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(D=I&&h.length<2?`(?:/${D})`:"/"+D),I&&(D+="?"),i+=D,y+=20,I&&(y+=-8),E&&(y+=-20),P===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let m=1;m<d.length;m++){const y=d[m]||"",b=s[m-1];v[b.name]=y&&b.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const m of e){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of m)if(y.type===0)d+=y.value;else if(y.type===1){const{value:b,repeatable:E,optional:I}=y,R=b in h?h[b]:"";if(Vr(R)&&!E)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const P=Vr(R)?R.join("/"):R;if(!P)if(I)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${b}"`);d+=P}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function kU(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function DU(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=kU(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(tS(r))return 1;if(tS(i))return-1}return i.length-r.length}function tS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const LU={type:0,value:""},MU=/[a-zA-Z0-9_]/;function FU(e){if(!e)return[[]];if(e==="/")return[[LU]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=l}for(;c<e.length;){if(l=e[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:MU.test(l)?m():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function UU(e,t,n){const r=PU(FU(e.path),n),i=zt(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function jU(e,t){const n=[],r=new Map;t=rS({strict:!1,end:!0,sensitive:!1},t);function i(d){return r.get(d)}function s(d,v,m){const y=!m,b=VU(d);b.aliasOf=m&&m.record;const E=rS(t,d),I=[b];if("alias"in d){const D=typeof d.alias=="string"?[d.alias]:d.alias;for(const F of D)I.push(zt({},b,{components:m?m.record.components:b.components,path:F,aliasOf:m?m.record:b}))}let R,P;for(const D of I){const{path:F}=D;if(v&&F[0]!=="/"){const Y=v.record.path,U=Y[Y.length-1]==="/"?"":"/";D.path=v.record.path+(F&&U+F)}if(R=UU(D,v,E),m?m.alias.push(R):(P=P||R,P!==R&&P.alias.push(R),y&&d.name&&!nS(R)&&a(d.name)),b.children){const Y=b.children;for(let U=0;U<Y.length;U++)s(Y[U],R,m&&m.children[U])}m=m||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&l(R)}return P?()=>{a(P)}:Mc}function a(d){if(B1(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&DU(d,n[v])>=0&&(d.record.path!==n[v].record.path||!H1(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!nS(d)&&r.set(d.record.name,d)}function h(d,v){let m,y={},b,E;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw Ga(1,{location:d});E=m.record.name,y=zt(eS(v.params,m.keys.filter(P=>!P.optional).map(P=>P.name)),d.params&&eS(d.params,m.keys.map(P=>P.name))),b=m.stringify(y)}else if("path"in d)b=d.path,m=n.find(P=>P.re.test(b)),m&&(y=m.parse(b),E=m.record.name);else{if(m=v.name?r.get(v.name):n.find(P=>P.re.test(v.path)),!m)throw Ga(1,{location:d,currentLocation:v});E=m.record.name,y=zt({},v.params,d.params),b=m.stringify(y)}const I=[];let R=m;for(;R;)I.unshift(R.record),R=R.parent;return{name:E,path:b,params:y,matched:I,meta:qU(I)}}return e.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function eS(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function VU(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:BU(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function BU(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function nS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function qU(e){return e.reduce((t,n)=>zt(t,n.meta),{})}function rS(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function H1(e,t){return t.children.some(n=>n===e||H1(e,n))}const W1=/#/g,HU=/&/g,WU=/\//g,GU=/=/g,$U=/\?/g,G1=/\+/g,zU=/%5B/g,KU=/%5D/g,$1=/%5E/g,QU=/%60/g,z1=/%7B/g,YU=/%7C/g,K1=/%7D/g,XU=/%20/g;function I_(e){return encodeURI(""+e).replace(YU,"|").replace(zU,"[").replace(KU,"]")}function JU(e){return I_(e).replace(z1,"{").replace(K1,"}").replace($1,"^")}function ly(e){return I_(e).replace(G1,"%2B").replace(XU,"+").replace(W1,"%23").replace(HU,"%26").replace(QU,"`").replace(z1,"{").replace(K1,"}").replace($1,"^")}function ZU(e){return ly(e).replace(GU,"%3D")}function tj(e){return I_(e).replace(W1,"%23").replace($U,"%3F")}function ej(e){return e==null?"":tj(e).replace(WU,"%2F")}function qh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function nj(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(G1," "),a=s.indexOf("="),c=qh(a<0?s:s.slice(0,a)),l=a<0?null:qh(s.slice(a+1));if(c in t){let h=t[c];Vr(h)||(h=t[c]=[h]),h.push(l)}else t[c]=l}return t}function iS(e){let t="";for(let n in e){const r=e[n];if(n=ZU(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Vr(r)?r.map(s=>s&&ly(s)):[r&&ly(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function rj(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Vr(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const ij=Symbol(""),oS=Symbol(""),T_=Symbol(""),S_=Symbol(""),fy=Symbol("");function _c(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function co(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(Ga(4,{from:n,to:t})):v instanceof Error?c(v):RU(v)?c(Ga(2,{from:t,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=e.call(r&&r.instances[i],t,n,l);let d=Promise.resolve(h);e.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function im(e,t,n,r){const i=[];for(const s of e)for(const a in s.components){let c=s.components[a];if(!(t!=="beforeRouteEnter"&&!s.instances[a]))if(oj(c)){const h=(c.__vccOpts||c)[t];h&&i.push(co(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=fU(h)?h.default:h;s.components[a]=d;const m=(d.__vccOpts||d)[t];return m&&co(m,n,r,s,a)()}))}}return i}function oj(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function sS(e){const t=si(T_),n=si(S_),r=pr(()=>t.resolve(Da(e.to))),i=pr(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const m=v.findIndex(Wa.bind(null,d));if(m>-1)return m;const y=aS(l[h-2]);return h>1&&aS(d)===y&&v[v.length-1].path!==y?v.findIndex(Wa.bind(null,l[h-2])):m}),s=pr(()=>i.value>-1&&cj(n.params,r.value.params)),a=pr(()=>i.value>-1&&i.value===n.matched.length-1&&j1(n.params,r.value.params));function c(l={}){return uj(l)?t[Da(e.replace)?"replace":"push"](Da(e.to)).catch(Mc):Promise.resolve()}return{route:r,href:pr(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const sj=_1({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sS,setup(e,{slots:t}){const n=Pp(sS(e)),{options:r}=si(T_),i=pr(()=>({[uS(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[uS(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:U1("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),aj=sj;function uj(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function cj(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Vr(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function aS(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const uS=(e,t,n)=>e??t??n,lj=_1({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=si(fy),i=pr(()=>e.route||r.value),s=si(oS,0),a=pr(()=>{let h=Da(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=pr(()=>i.value.matched[a.value]);Th(oS,pr(()=>a.value+1)),Th(ij,c),Th(fy,i);const l=ri();return Eh(()=>[l.value,c.value,e.name],([h,d,v],[m,y,b])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!Wa(d,y)||!m)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=e.name,v=c.value,m=v&&v.components[d];if(!m)return cS(n.default,{Component:m,route:h});const y=v.props[d],b=y?y===!0?h.params:typeof y=="function"?y(h):y:null,I=U1(m,zt({},b,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return cS(n.default,{Component:I,route:h})||I}}});function cS(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const fj=lj;function hj(e){const t=jU(e.routes,e),n=e.parseQuery||nj,r=e.stringifyQuery||iS,i=e.history,s=_c(),a=_c(),c=_c(),l=kF(no);let h=no;Ia&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=nm.bind(null,j=>""+j),v=nm.bind(null,ej),m=nm.bind(null,qh);function y(j,nt){let H,ft;return B1(j)?(H=t.getRecordMatcher(j),ft=nt):ft=j,t.addRoute(ft,H)}function b(j){const nt=t.getRecordMatcher(j);nt&&t.removeRoute(nt)}function E(){return t.getRoutes().map(j=>j.record)}function I(j){return!!t.getRecordMatcher(j)}function R(j,nt){if(nt=zt({},nt||l.value),typeof j=="string"){const x=rm(n,j,nt.path),L=t.resolve({path:x.path},nt),V=i.createHref(x.fullPath);return zt(x,L,{params:m(L.params),hash:qh(x.hash),redirectedFrom:void 0,href:V})}let H;if("path"in j)H=zt({},j,{path:rm(n,j.path,nt.path).path});else{const x=zt({},j.params);for(const L in x)x[L]==null&&delete x[L];H=zt({},j,{params:v(x)}),nt.params=v(nt.params)}const ft=t.resolve(H,nt),Vt=j.hash||"";ft.params=d(m(ft.params));const S=dU(r,zt({},j,{hash:JU(Vt),path:ft.path})),A=i.createHref(S);return zt({fullPath:S,hash:Vt,query:r===iS?rj(j.query):j.query||{}},ft,{redirectedFrom:void 0,href:A})}function P(j){return typeof j=="string"?rm(n,j,l.value.path):zt({},j)}function D(j,nt){if(h!==j)return Ga(8,{from:nt,to:j})}function F(j){return _t(j)}function Y(j){return F(zt(P(j),{replace:!0}))}function U(j){const nt=j.matched[j.matched.length-1];if(nt&&nt.redirect){const{redirect:H}=nt;let ft=typeof H=="function"?H(j):H;return typeof ft=="string"&&(ft=ft.includes("?")||ft.includes("#")?ft=P(ft):{path:ft},ft.params={}),zt({query:j.query,hash:j.hash,params:"path"in ft?{}:j.params},ft)}}function _t(j,nt){const H=h=R(j),ft=l.value,Vt=j.state,S=j.force,A=j.replace===!0,x=U(H);if(x)return _t(zt(P(x),{state:typeof x=="object"?zt({},Vt,x.state):Vt,force:S,replace:A}),nt||H);const L=H;L.redirectedFrom=nt;let V;return!S&&vU(r,ft,H)&&(V=Ga(16,{to:L,from:ft}),tn(ft,ft,!0,!1)),(V?Promise.resolve(V):Ze(L,ft)).catch(B=>Ti(B)?Ti(B,2)?B:ar(B):Ut(B,L,ft)).then(B=>{if(B){if(Ti(B,2))return _t(zt({replace:A},P(B.to),{state:typeof B.to=="object"?zt({},Vt,B.to.state):Vt,force:S}),nt||L)}else B=qr(L,ft,!0,A,Vt);return O(L,ft,B),B})}function Gt(j,nt){const H=D(j,nt);return H?Promise.reject(H):Promise.resolve()}function lt(j){const nt=mi.values().next().value;return nt&&typeof nt.runWithContext=="function"?nt.runWithContext(j):j()}function Ze(j,nt){let H;const[ft,Vt,S]=pj(j,nt);H=im(ft.reverse(),"beforeRouteLeave",j,nt);for(const x of ft)x.leaveGuards.forEach(L=>{H.push(co(L,j,nt))});const A=Gt.bind(null,j,nt);return H.push(A),We(H).then(()=>{H=[];for(const x of s.list())H.push(co(x,j,nt));return H.push(A),We(H)}).then(()=>{H=im(Vt,"beforeRouteUpdate",j,nt);for(const x of Vt)x.updateGuards.forEach(L=>{H.push(co(L,j,nt))});return H.push(A),We(H)}).then(()=>{H=[];for(const x of S)if(x.beforeEnter)if(Vr(x.beforeEnter))for(const L of x.beforeEnter)H.push(co(L,j,nt));else H.push(co(x.beforeEnter,j,nt));return H.push(A),We(H)}).then(()=>(j.matched.forEach(x=>x.enterCallbacks={}),H=im(S,"beforeRouteEnter",j,nt),H.push(A),We(H))).then(()=>{H=[];for(const x of a.list())H.push(co(x,j,nt));return H.push(A),We(H)}).catch(x=>Ti(x,8)?x:Promise.reject(x))}function O(j,nt,H){c.list().forEach(ft=>lt(()=>ft(j,nt,H)))}function qr(j,nt,H,ft,Vt){const S=D(j,nt);if(S)return S;const A=nt===no,x=Ia?history.state:{};H&&(ft||A?i.replace(j.fullPath,zt({scroll:A&&x&&x.scroll},Vt)):i.push(j.fullPath,Vt)),l.value=j,tn(j,nt,H,A),ar()}let cn;function Uo(){cn||(cn=i.listen((j,nt,H)=>{if(!jo.listening)return;const ft=R(j),Vt=U(ft);if(Vt){_t(zt(Vt,{replace:!0}),ft).catch(Mc);return}h=ft;const S=l.value;Ia&&IU(YT(S.fullPath,H.delta),Vp()),Ze(ft,S).catch(A=>Ti(A,12)?A:Ti(A,2)?(_t(A.to,ft).then(x=>{Ti(x,20)&&!H.delta&&H.type===Jc.pop&&i.go(-1,!1)}).catch(Mc),Promise.reject()):(H.delta&&i.go(-H.delta,!1),Ut(A,ft,S))).then(A=>{A=A||qr(ft,S,!1),A&&(H.delta&&!Ti(A,8)?i.go(-H.delta,!1):H.type===Jc.pop&&Ti(A,20)&&i.go(-1,!1)),O(ft,S,A)}).catch(Mc)}))}let Hr=_c(),ie=_c(),Ft;function Ut(j,nt,H){ar(j);const ft=ie.list();return ft.length?ft.forEach(Vt=>Vt(j,nt,H)):console.error(j),Promise.reject(j)}function le(){return Ft&&l.value!==no?Promise.resolve():new Promise((j,nt)=>{Hr.add([j,nt])})}function ar(j){return Ft||(Ft=!j,Uo(),Hr.list().forEach(([nt,H])=>j?H(j):nt()),Hr.reset()),j}function tn(j,nt,H,ft){const{scrollBehavior:Vt}=e;if(!Ia||!Vt)return Promise.resolve();const S=!H&&TU(YT(j.fullPath,0))||(ft||!H)&&history.state&&history.state.scroll||null;return f1().then(()=>Vt(j,nt,S)).then(A=>A&&EU(A)).catch(A=>Ut(A,j,nt))}const He=j=>i.go(j);let gi;const mi=new Set,jo={currentRoute:l,listening:!0,addRoute:y,removeRoute:b,hasRoute:I,getRoutes:E,resolve:R,options:e,push:F,replace:Y,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:ie.add,isReady:le,install(j){const nt=this;j.component("RouterLink",aj),j.component("RouterView",fj),j.config.globalProperties.$router=nt,Object.defineProperty(j.config.globalProperties,"$route",{enumerable:!0,get:()=>Da(l)}),Ia&&!gi&&l.value===no&&(gi=!0,F(i.location).catch(Vt=>{}));const H={};for(const Vt in no)Object.defineProperty(H,Vt,{get:()=>l.value[Vt],enumerable:!0});j.provide(T_,nt),j.provide(S_,n1(H)),j.provide(fy,l);const ft=j.unmount;mi.add(j),j.unmount=function(){mi.delete(j),mi.size<1&&(h=no,cn&&cn(),cn=null,l.value=no,gi=!1,Ft=!1),ft()}}};function We(j){return j.reduce((nt,H)=>nt.then(()=>lt(H)),Promise.resolve())}return jo}function pj(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const c=t.matched[a];c&&(e.matched.find(h=>Wa(h,c))?r.push(c):n.push(c));const l=e.matched[a];l&&(t.matched.find(h=>Wa(h,l))||i.push(l))}return[n,r,i]}function dj(){return si(S_)}const _r=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},vj={},gj={class:"hidden lg:block lg:w-2/5 px-4 py-2"},mj=rt("div",{class:"relative mb-5"},[rt("input",{placeholder:" ",type:"text",class:"pl-10 rounded-full w-full p-2 bg-gray-100 text-sm focus:ring-1 focus:ring-primary focus:bg-white focus:outline-none"}),rt("i",{class:"fas fa-search absolute left-0 mt-2 ml-3 text-sm text-light"})],-1),yj={class:"w-full rounded-lg bg-gray-50 flex flex-col"},_j=rt("div",{class:"flex items-center justify-between px-3 py-1 border-b border-gray-100"},[rt("span",{class:"text-lg font-bold"},"  "),rt("i",{class:"text-center fas fa-cog text-lg text-primary hover:bg-blue-50 p-2 rounded-full"})],-1),wj=pi('<div class="flex"><div class="flex-1 flex flex-col"><div class="text-gray-500">  </div><div class="font-bold text-lg"></div><div class="text-gray-500">3,564 </div></div><i class="fas fa-ellipsis-h text-gray-500"></i></div>',1),bj=[wj],Ej=rt("div",{class:"px-4 py-2 hover:bg-gray-100"},[rt("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"}," ")],-1),Ij={class:"mt-5 w-full rounded-lg bg-gray-50 flex flex-col"},Tj=rt("div",{class:"px-3 py-3 border-b border-gray-100"},[rt("span",{class:"text-lg font-bold"}," ")],-1),Sj=pi('<div class="flex items-center"><img src="http://picsum.photos/200" class="w-12 h-12 rounded-full mr-2"><div class="flex-1 flex flex-col"><div class="font-bold"></div><div class="text-gray-500 text-sm">@jung_jaeWoong</div></div><div><button class="border-2 border-primary hover:bg-blue-100 px-2 py-1 rounded-full text-primary text-sm"></button></div></div>',1),Aj=[Sj],Cj=rt("div",{class:"px-4 py-2 hover:bg-gray-100"},[rt("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"}," ")],-1);function Nj(e,t,n,r,i,s){return de(),Xe("div",gj,[mj,rt("div",yj,[_j,(de(),Xe(Me,null,So(3,a=>rt("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},bj)),64)),Ej]),rt("div",Ij,[Tj,(de(),Xe(Me,null,So(3,a=>rt("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},Aj)),64)),Cj])])}const A_=_r(vj,[["render",Nj]]),Rj={},Oj={class:"flex px-3 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer"},xj=pi('<img src="http://picsum.photos/200" class="w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"><div class="ml-3 flex-1 flex flex-col space-y-1"><div class="text-sm space-x-1"><span class="font-bold"></span><span class="text-gray-500 text-xs">@jjw</span><span></span><span class="text-gray-500 text-xs">7</span></div><div> ..... ..... ..... </div><div class="flex justify-between"><div class="text-gray-500 hover:text-primary"><i class="far fa-comment hover:bg-blue-50 rounded-full p-2"></i><span class="ml-1 text-gray-500 text-sm">1</span></div><div class="text-gray-500 hover:text-green-500"><i class="fa fa-retweet hover:bg-green-50 rounded-full p-2"></i><span class="ml-1 text-gray-500 text-sm">1</span></div><div class="text-gray-500 hover:text-red-500"><i class="far fa-heart hover:bg-red-50 rounded-full p-2"></i><span class="ml-1 text-gray-500 text-sm">1</span></div><div class="text-gray-500 hover:text-primary"><i class="far fa-share-square hover:bg-blue-50 rounded-full p-2"></i></div></div></div>',2),Pj=[xj];function kj(e,t,n,r,i,s){return de(),Xe("div",Oj,Pj)}const Q1=_r(Rj,[["render",kj]]),Dj={components:{Trends:A_,Tweet:Q1},setup(){}},Lj={class:"flex-1 border-r border-gray-100 overflow-y-auto"},Mj={class:"flex flex-col"},Fj=pi('<div class="border-b border-gray-100 px-3 py-2 font-bold text-lg">  </div><div class="flex px-3 py-3 border-b-8 border-gray-100"><img src="http://picsum.photos/200" class="w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"><div class="ml-2 flex-1 flex flex-col"><textarea placeholder="   ?" class="w-full text-lg font-bold focus:outline-none mb-3 resize-none bg-gray-100"></textarea><div class="text-right"><button class="bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"></button></div></div></div>',2);function Uj(e,t,n,r,i,s){const a=jr("Tweet"),c=jr("Trends");return de(),Xe(Me,null,[rt("div",Lj,[rt("div",Mj,[Fj,(de(),Xe(Me,null,So(5,l=>ye(a,{key:l})),64))])]),ye(c)],64)}const lS=_r(Dj,[["render",Uj]]),jj={components:{Trends:A_}},Vj={class:"flex-1 border-r border-gray-100 flex flex-col overflow-y-auto"},Bj=rt("div",{class:"p-3 font-bold text-lg border-b border-gray-100"},"",-1),qj=pi('<div class="flex justify-between"><img src="http://picsum.photos/100" class="w-10 h-10 rounded-full hover:opacity-80"><i class="fas fa-ellipsis-h text-gray-500 hover:bg-blue-50 hover:text-primary p-2 rounded-full w-10 h-10 flex items-center justify-center"></i></div><div><span class="font-bold"></span>   </div><div class="text-gray-500"> wjelifwjeiflwejfiwejfil wefiwejfiweofjweiof wefjiewjf dcivcvf </div>',3),Hj=[qj];function Wj(e,t,n,r,i,s){const a=jr("Trends");return de(),Xe(Me,null,[rt("div",Vj,[Bj,(de(),Xe(Me,null,So(10,c=>rt("div",{class:"flex flex-col hover:bg-gray-50 p-3 space-y-2 border-b border-gray-100 cursor-pointer",key:c},Hj)),64))]),ye(a)],64)}const Gj=_r(jj,[["render",Wj]]),$j={},zj={class:"flex-1 flex"},Kj={class:"w-2/5 border-r border-gray-100 overflow-y-scroll"},Qj={class:"flex flex-col"},Yj=pi('<div class="p-3 font-bold text-lg border-b border-gray-100 h-14"></div><div class="flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100 bg-gray-200"><img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9 17</div></div><div class="text-gray-500"></div></div></div>',2),Xj=pi('<img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9 17</div></div><div class="text-gray-500"></div></div>',2),Jj=[Xj],Zj={class:"w-3/5 border-r border-gray-100"},tV={class:"flex flex-col h-screen"},eV=pi('<div class="flex px-3 h-14 items-center border-b border-gray-100"><img src="http://picsum.photos/100" class="w-8 h-8 rounded-full mr-2 cursor-pointer"><div><div class="font-bold text-lg">jjw.com</div><div class="text-sm text-gray-500">@jaewoong</div></div></div><div class="flex flex-col justify-center items-center border-b border-gray-100 hover:bg-gray-50 py-6"><div><span class="font-bold mr-1">jjw.com</span><span class="text-gray-500">@jaewoong</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray-500"> </span><span class="font-bold ml-3 mr-1">7</span><span class="text-gray-500"></span></div><div><span class="text-gray-500 mr-1"></span><span class="text-gray-500">2021 3</span></div></div>',2),nV={class:"flex-1 overflow-y-scroll"},rV=rt("div",{class:"text-right px-3 py-3"},[rt("span",{class:"bg-primary text-white px-4 py-2 rounded-full"},""),rt("div",{class:"mt-2 text-xs text-gray-500"},"2023 9 17  7:16")],-1),iV=rt("span",{class:"bg-gray-100 px-4 py-2 rounded-full"},"",-1),oV=rt("div",{class:"mt-2 text-xs text-gray-500"},"2023 9 17  7:16",-1),sV=[iV,oV],aV=rt("div",{class:"flex items-center bg-white border-t border-gray-100 sticky"},[rt("input",{type:"text",class:"m-2 py-1 px-4 rounded-full bg-gray-100 resize-none outline-none flex-1",placeholder:"  ",rows:"1"}),rt("button",{class:"text-center"},[rt("i",{class:"far fa-paper-plane text-primary text-lg hover:bg-blue-50 p-2 rounded-full w-10 h-10"})])],-1);function uV(e,t,n,r,i,s){return de(),Xe("div",zj,[rt("div",Kj,[rt("div",Qj,[Yj,(de(),Xe(Me,null,So(5,a=>rt("div",{class:"flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100",key:a},Jj)),64))])]),rt("div",Zj,[rt("div",tV,[eV,rt("div",nV,[rV,(de(),Xe(Me,null,So(20,a=>rt("div",{class:"text-left px-3 py-3",key:a},sV)),64))]),aV])])])}const om=_r($j,[["render",uV]]),cV={components:{Trends:A_,Tweet:Q1}},lV={class:"flex-1 flex"},fV={class:"flex-1 flex flex-col border-r border-color"},hV=pi('<div class="px-3 py-1 flex border-b border-color"><button class="mr-4"><i class="fas fa-arrow-left text-primary p-3 rounded-full hover:bg-blue-50"></i></button><div><div class="font-extrabold text-lg">jjw.com</div><div class="text-xs text-gray">393 </div></div></div><div class="bg-gray-300 h-40 relative flex-none"><div class="border-4 border-white bg-gray-100 w-28 h-28 rounded-full absolute -bottom-14 left-2"><img src="http://picsum.photos/200" class="rounded-full hover:opacity-90 hover:opacity-100 cursor-pointer"></div></div><div class="text-right mt-2 mr-2"><button class="border text-sm border-primary text-primary px-3 py-2 hover:bg-blue-50 font-bold rounded-full"> </button></div><div class="mx-3 mt-2"><div class="font-extrabold text-lg">jjw.com</div><div class="text-gray">@jaewoong</div><div><span class="text-gray">:</span><span class="text-gray">2011 10</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray mr-3"> </span><span class="font-bold mr-1">7</span><span class="text-gray"></span></div></div><div class="flex border-b border-color mt-3"><div class="py-3 text-primary font-bold border-b border-primary text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary">  </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary">  </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary">  </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary">  </div></div>',5),pV={class:"overflow-y-auto"};function dV(e,t,n,r,i,s){const a=jr("Tweet"),c=jr("Trends");return de(),Xe("div",lV,[rt("div",fV,[hV,rt("div",pV,[(de(),Xe(Me,null,So(10,l=>ye(a,{key:l})),64))])]),ye(c)])}const fS=_r(cV,[["render",dV]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hy=function(e,t){return hy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},hy(e,t)};function J(e,t){hy(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var te=function(){return te=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},te.apply(this,arguments)};function N(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(e,t||[])).next())})}function C(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ie(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zc(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Hi(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Zc(arguments[t]));return e}function Se(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(e,t){if(!e)throw yu(t)},yu=function(e){return new Error("Firebase Database ("+Y1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X1=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},vV=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],c=e[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},C_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,c=a?e[i+1]:0,l=i+2<e.length,h=l?e[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,m=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(m=64)),r.push(n[d],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(X1(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):vV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,c=a?n[e.charAt(i)]:0;++i;var l=i<e.length,h=l?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var m=s<<2|c>>4;if(r.push(m),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var b=h<<6&192|v;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},gV=function(e){var t=X1(e);return C_.encodeByteArray(t,!0)},hS=function(e){try{return C_.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(e){return tl(void 0,e)}function tl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!mV(r)||(e[r]=tl(e[r],t[r]));return e}function mV(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function N_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ns())}function yV(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _V(){return typeof self=="object"&&self.self===self}function R_(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Z1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wV(){return Ns().indexOf("Electron/")>=0}function bV(){var e=Ns();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function EV(){return Ns().indexOf("MSAppHost/")>=0}function tN(){return Y1.NODE_ADMIN===!0}function O_(){return"indexedDB"in self&&indexedDB!=null}function x_(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function eN(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IV="FirebaseError",_u=function(e){J(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=IV,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Po.prototype.create),s}return t}(Error),Po=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],c=a?TV(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new _u(s,l,i);return h},e}();function TV(e,t){return e.replace(SV,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var SV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(e){return JSON.parse(e)}function Fe(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nN=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=el(hS(s[0])||""),n=el(hS(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},AV=function(e){var t=nN(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},CV=function(e){var t=nN(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Pr(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function py(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Hh(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(e){for(var t=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RV=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),m=1518500249):(v=c^l^h,m=1859775393):i<60?(v=c&l|h&(c|l),m=2400959708):(v=c^l^h,m=3395469782);var s=(a<<5|a>>>27)+v+d+m+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function OV(e,t){var n=new xV(e,t);return n.subscribe.bind(n)}var xV=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PV(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=sm),s.error===void 0&&(s.error=sm),s.complete===void 0&&(s.complete=sm);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function PV(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function sm(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function mr(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument ",i}function Ke(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(mr(e,t,r)+"must be a valid function.")}function pS(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(mr(e,t,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kV=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,K(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Ch=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DV=1e3,LV=2,MV=4*60*60*1e3,FV=.5;function dy(e,t,n){t===void 0&&(t=DV),n===void 0&&(n=LV);var r=t*Math.pow(n,e),i=Math.round(FV*r*(Math.random()-.5)*2);return Math.min(MV,r+i)}var zn=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rN=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(t){t===void 0&&(t=Ta);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new Bn;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=te({identifier:Ta,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(c){if(i)return null;throw c}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,jV(t))try{this.getOrInitializeService(Ta)}catch{}try{for(var i=Ie(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Zc(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService(h);l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Ta),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return N(this,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Hi(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.getOrInitializeService=function(t){var n=this.instances.get(t);return!n&&this.component&&(n=this.component.instanceFactory(this.container,UV(t)),this.instances.set(t,n)),n||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:Ta:t},e}();function UV(e){return e===Ta?void 0:e}function jV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iN=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new rN(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Cr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var as,P_=[],Rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Rt||(Rt={}));var oN={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},VV=Rt.INFO,BV=(as={},as[Rt.DEBUG]="log",as[Rt.VERBOSE]="log",as[Rt.INFO]="info",as[Rt.WARN]="warn",as[Rt.ERROR]="error",as),qV=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=BV[t];if(s)console[s].apply(console,Cr(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},wu=function(){function e(t){this.name=t,this._logLevel=VV,this._logHandler=qV,this._userLogHandler=null,P_.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Rt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?oN[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,Rt.DEBUG],t)),this._logHandler.apply(this,Cr([this,Rt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,Rt.VERBOSE],t)),this._logHandler.apply(this,Cr([this,Rt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,Rt.INFO],t)),this._logHandler.apply(this,Cr([this,Rt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,Rt.WARN],t)),this._logHandler.apply(this,Cr([this,Rt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Cr([this,Rt.ERROR],t)),this._logHandler.apply(this,Cr([this,Rt.ERROR],t))},e}();function HV(e){P_.forEach(function(t){t.setLogLevel(e)})}function WV(e,t){for(var n=function(a){var c=null;t&&t.level&&(c=oN[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var m=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&e({level:Rt[h].toLowerCase(),message:m,args:d,type:l.name})}},r=0,i=P_;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro,GV=(ro={},ro["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ro["bad-app-name"]="Illegal App name: '{$appName}",ro["duplicate-app"]="Firebase App named '{$appName}' already exists",ro["app-deleted"]="Firebase App named '{$appName}' already deleted",ro["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ro["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ro),Sa=new Po("app","Firebase",GV),sN="@firebase/app",$V="0.6.14",zV="@firebase/analytics",KV="@firebase/auth",QV="@firebase/database",YV="@firebase/functions",XV="@firebase/installations",JV="@firebase/messaging",ZV="@firebase/performance",t4="@firebase/remote-config",e4="@firebase/storage",n4="@firebase/firestore",r4="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,Wh="[DEFAULT]",i4=(In={},In[sN]="fire-core",In[zV]="fire-analytics",In[KV]="fire-auth",In[QV]="fire-rtdb",In[YV]="fire-fn",In[XV]="fire-iid",In[JV]="fire-fcm",In[ZV]="fire-perf",In[t4]="fire-rc",In[e4]="fire-gcs",In[n4]="fire-fst",In["fire-js"]="fire-js",In[r4]="fire-js-all",In);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $a=new wu("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nh=function(){function e(t,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=J1(t),this.container=new iN(n.name),this._addComponent(new zn("app",function(){return a},"PUBLIC"));try{for(var c=Ie(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Wh),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Wh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){$a.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Sa.create("app-deleted",{appName:this.name_})},e}();Nh.prototype.name&&Nh.prototype.options||Nh.prototype.delete||console.log("dc");var o4="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:HV,onLog:d,apps:null,SDK_VERSION:o4,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(m){delete t[m]}function s(m){if(m=m||Wh,!$n(t,m))throw Sa.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var E=y;E.name===void 0&&(E.name=Wh);var I=E.name;if(typeof I!="string"||!I)throw Sa.create("bad-app-name",{appName:String(I)});if($n(t,I))throw Sa.create("duplicate-app",{appName:I});var R=new e(m,E,r);return t[I]=R,R}function c(){return Object.keys(t).map(function(m){return t[m]})}function l(m){var y,b,E=m.name;if(n.has(E))return $a.debug("There were multiple attempts to register component "+E+"."),m.type==="PUBLIC"?r[E]:null;if(n.set(E,m),m.type==="PUBLIC"){var I=function(F){if(F===void 0&&(F=s()),typeof F[E]!="function")throw Sa.create("invalid-app-argument",{appName:E});return F[E]()};m.serviceProps!==void 0&&tl(I,m.serviceProps),r[E]=I,e.prototype[E]=function(){for(var F=[],Y=0;Y<arguments.length;Y++)F[Y]=arguments[Y];var U=this._getService.bind(this,E);return U.apply(this,m.multipleInstances?F:[])}}try{for(var R=Ie(Object.keys(t)),P=R.next();!P.done;P=R.next()){var D=P.value;t[D]._addComponent(m)}}catch(F){y={error:F}}finally{try{P&&!P.done&&(b=R.return)&&b.call(R)}finally{if(y)throw y.error}}return m.type==="PUBLIC"?r[E]:null}function h(m,y,b){var E,I=(E=i4[m])!==null&&E!==void 0?E:m;b&&(I+="-"+b);var R=I.match(/\s|\//),P=y.match(/\s|\//);if(R||P){var D=['Unable to register library "'+I+'" with version "'+y+'":'];R&&D.push('library name "'+I+'" contains illegal characters (whitespace or "/")'),R&&P&&D.push("and"),P&&D.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),$a.warn(D.join(" "));return}l(new zn(I+"-version",function(){return{library:I,version:y}},"VERSION"))}function d(m,y){if(m!==null&&typeof m!="function")throw Sa.create("invalid-log-argument",{appName:name});WV(m,y)}function v(m,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){var e=s4(Nh);e.INTERNAL=te(te({},e.INTERNAL),{createFirebaseNamespace:aN,extendNamespace:t,createSubscribe:OV,ErrorFactory:Po,deepExtend:tl});function t(n){tl(e,n)}return e}var k_=aN();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a4=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(u4(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function u4(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(e,t){e.INTERNAL.registerComponent(new zn("platform-logger",function(n){return new a4(n)},"PRIVATE")),e.registerVersion(sN,$V,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(_V()&&self.firebase!==void 0){$a.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var dS=self.firebase.SDK_VERSION;dS&&dS.indexOf("LITE")>=0&&$a.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var l4=k_.initializeApp;k_.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return yV()&&$a.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),l4.apply(void 0,e)};var at=k_;c4(at);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var g=o[p];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(w){this.b=0,this.c=void 0,this.a=[];var T=this.f();try{w(T.resolve,T.reject)}catch(M){T.reject(M)}}function f(){this.a=null}function p(w){return w instanceof u?w:new u(function(T){T(w)})}if(o)return o;f.prototype.b=function(w){if(this.a==null){this.a=[];var T=this;this.c(function(){T.g()})}this.a.push(w)};var g=r.setTimeout;f.prototype.c=function(w){g(w,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var T=0;T<w.length;++T){var M=w[T];w[T]=null;try{M()}catch(q){this.f(q)}}}this.a=null},f.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(q){return function(bt){M||(M=!0,q.call(T,bt))}}var T=this,M=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{t:switch(typeof w){case"object":var T=w!=null;break t;case"function":T=!0;break t;default:T=!1}T?this.v(w):this.h(w)}},u.prototype.v=function(w){var T=void 0;try{T=w.then}catch(M){this.g(M);return}typeof T=="function"?this.u(T,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,T){if(this.b!=0)throw Error("Cannot settle("+w+", "+T+"): Promise already settled in state"+this.b);this.b=w,this.c=T,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)_.b(this.a[w]);this.a=null}};var _=new f;return u.prototype.s=function(w){var T=this.f();w.Qa(T.resolve,T.reject)},u.prototype.u=function(w,T){var M=this.f();try{w.call(T,M.resolve,M.reject)}catch(q){M.reject(q)}},u.prototype.then=function(w,T){function M(Bt,$e){return typeof Bt=="function"?function(Ii){try{q(Bt(Ii))}catch(Yg){bt(Yg)}}:$e}var q,bt,$t=new u(function(Bt,$e){q=Bt,bt=$e});return this.Qa(M(w,q),M(T,bt)),$t},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Qa=function(w,T){function M(){switch(q.b){case 1:w(q.c);break;case 2:T(q.c);break;default:throw Error("Unexpected state: "+q.b)}}var q=this;this.a==null?_.b(M):this.a.push(M)},u.resolve=p,u.reject=function(w){return new u(function(T,M){M(w)})},u.race=function(w){return new u(function(T,M){for(var q=a(w),bt=q.next();!bt.done;bt=q.next())p(bt.value).Qa(T,M)})},u.all=function(w){var T=a(w),M=T.next();return M.done?p([]):new u(function(q,bt){function $t(Ii){return function(Yg){Bt[Ii]=Yg,$e--,$e==0&&q(Bt)}}var Bt=[],$e=0;do Bt.push(void 0),$e++,p(M.value).Qa($t(Bt.length-1),bt),M=T.next();while(!M.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function b(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function I(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function R(o){return Object.prototype.hasOwnProperty.call(o,P)&&o[P]||(o[P]=++D)}var P="closure_uid_"+(1e9*Math.random()>>>0),D=0;function F(o,u,f){return o.call.apply(o.bind,arguments)}function Y(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function U(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=F:U=Y,U.apply(null,arguments)}function _t(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}var Gt=Date.now;function lt(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function Ze(o){return o}function O(o,u,f){this.code=cn+o,this.message=u||Uo[o]||"",this.a=f||null}lt(O,Error),O.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},O.prototype.toJSON=function(){return this.w()};function qr(o){var u=o&&o.code;return u?new O(u.substring(cn.length),o.message,o.serverResponse):null}var cn="auth/",Uo={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Hr={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ie(o){for(var u in Hr)if(Hr[u].id===o)return o=Hr[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Ft;Ft=ie("__EID__")?"__EID__":void 0;function Ut(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function le(o){if(Error.captureStackTrace)Error.captureStackTrace(this,le);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}lt(le,Error),le.prototype.name="CustomError";function ar(o,u){o=o.split("%s");for(var f="",p=o.length-1,g=0;g<p;g++)f+=o[g]+(g<u.length?u[g]:"%s");le.call(this,f+o[p])}lt(ar,le),ar.prototype.name="AssertionError";function tn(o,u){throw new ar("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function He(o,u){this.c=o,this.f=u,this.b=0,this.a=null}He.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function gi(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function mi(){this.b=this.a=null}var jo=new He(function(){return new j},function(o){o.reset()});mi.prototype.add=function(o,u){var f=jo.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function We(){var o=Z0,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function j(){this.next=this.b=this.a=null}j.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var nt=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},H=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in g&&u.call(f,g[_],_,o)};function ft(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var Vt=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],g=0,_=typeof o=="string"?o.split(""):o,w=0;w<f;w++)if(w in _){var T=_[w];u.call(void 0,T,w,o)&&(p[g++]=T)}return p},S=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(p[_]=u.call(void 0,g[_],_,o));return p},A=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o))return!0;return!1};function x(o){t:{for(var u=TD,f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o)){u=g;break t}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function L(o,u){return 0<=nt(o,u)}function V(o,u){u=nt(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function B(o,u){var f=0;ft(o,function(p,g){u.call(void 0,p,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function tt(o){return Array.prototype.concat.apply([],arguments)}function z(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var X=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},G=/&/g,pt=/</g,st=/>/g,dt=/"/g,wt=/'/g,Nt=/\x00/g,Yt=/[\x00&<>"']/;function vt(o,u){return o.indexOf(u)!=-1}function oe(o,u){return o<u?-1:o>u?1:0}var Ge;t:{var yi=l.navigator;if(yi){var ku=yi.userAgent;if(ku){Ge=ku;break t}}Ge=""}function ee(o){return vt(Ge,o)}function Du(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function _e(o){for(var u in o)return!1;return!0}function ke(o){var u={},f;for(f in o)u[f]=o[f];return u}var Lu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ln(o,u){for(var f,p,g=1;g<arguments.length;g++){p=arguments[g];for(f in p)o[f]=p[f];for(var _=0;_<Lu.length;_++)f=Lu[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function k0(o,u){t:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var g=p;break t}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(I(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;tn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Wr(o,u){this.a=o===Jl&&u||"",this.b=D0}Wr.prototype.sa=!0,Wr.prototype.ra=function(){return this.a},Wr.prototype.toString=function(){return"Const{"+this.a+"}"};function Sd(o){return o instanceof Wr&&o.constructor===Wr&&o.b===D0?o.a:(tn("expected object of type Const, got '"+o+"'"),"type_error:Const")}var D0={},Jl={},Zl;function L0(){if(Zl===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:Ze,createScript:Ze,createScriptURL:Ze})}catch(f){l.console&&l.console.error(f.message)}Zl=o}else Zl=o}return Zl}function $s(o,u){this.a=u===F0?o:""}$s.prototype.sa=!0,$s.prototype.ra=function(){return this.a.toString()},$s.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function M0(o){return o instanceof $s&&o.constructor===$s?o.a:(tn("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Ad(o,u){var f=Sd(o);if(!tk.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(ZP,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof Wr?Sd(p):encodeURIComponent(String(p))}),ek(o)}var ZP=/%{(\w+)}/g,tk=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,F0={};function ek(o){var u=L0();return o=u?u.createScriptURL(o):o,new $s(o,F0)}function Mn(o,u){this.a=u===Mu?o:""}Mn.prototype.sa=!0,Mn.prototype.ra=function(){return this.a.toString()},Mn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function tf(o){return o instanceof Mn&&o.constructor===Mn?o.a:(tn("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var nk=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,rk=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,U0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function j0(o){if(o instanceof Mn)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),U0.test(o))o=new Mn(o,Mu);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(rk);o=u&&nk.test(u[1])?new Mn(o,Mu):null}return o}function V0(o){return o instanceof Mn?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),U0.test(o)||(o="about:invalid#zClosurez"),new Mn(o,Mu))}var Mu={},B0=new Mn("about:invalid#zClosurez",Mu);function zs(o,u,f){this.a=f===q0?o:""}zs.prototype.sa=!0,zs.prototype.ra=function(){return this.a.toString()},zs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ik(o){return o instanceof zs&&o.constructor===zs?o.a:(tn("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var q0={};function ok(o,u){k0(o,"HTMLScriptElement"),o.src=M0(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function H0(o,u,f,p){return o=o instanceof Mn?o:V0(o),u=u||l,f=f instanceof Wr?Sd(f):f||"",u.open(tf(o),f,p,void 0)}function W0(o,u){for(var f=o.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)p+=f.shift()+g.shift();return p+f.join("%s")}function Cd(o){return Yt.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(G,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(pt,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(st,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(dt,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(wt,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Nt,"&#0;"))),o}function Nd(o){return Nd[" "](o),o}Nd[" "]=m;function sk(o,u){var f=lk;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var ak=ee("Opera"),wr=ee("Trident")||ee("MSIE"),G0=ee("Edge"),uk=G0||wr,$0=ee("Gecko")&&!(vt(Ge.toLowerCase(),"webkit")&&!ee("Edge"))&&!(ee("Trident")||ee("MSIE"))&&!ee("Edge"),ck=vt(Ge.toLowerCase(),"webkit")&&!ee("Edge");function z0(){var o=l.document;return o?o.documentMode:void 0}var ef;t:{var Rd="",Od=function(){var o=Ge;if($0)return/rv:([^\);]+)(\)|;)/.exec(o);if(G0)return/Edge\/([\d\.]+)/.exec(o);if(wr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(ck)return/WebKit\/(\S+)/.exec(o);if(ak)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Od&&(Rd=Od?Od[1]:""),wr){var xd=z0();if(xd!=null&&xd>parseFloat(Rd)){ef=String(xd);break t}}ef=Rd}var lk={};function K0(o){return sk(o,function(){for(var u=0,f=X(String(ef)).split("."),p=X(String(o)).split("."),g=Math.max(f.length,p.length),_=0;u==0&&_<g;_++){var w=f[_]||"",T=p[_]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],w[0].length==0&&T[0].length==0)break;u=oe(w[1].length==0?0:parseInt(w[1],10),T[1].length==0?0:parseInt(T[1],10))||oe(w[2].length==0,T[2].length==0)||oe(w[2],T[2]),w=w[3],T=T[3]}while(u==0)}return 0<=u})}var Pd;if(l.document&&wr){var Q0=z0();Pd=Q0||parseInt(ef,10)||void 0}else Pd=void 0;var zi=Pd;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var fk=!wr||9<=Number(zi);function Fu(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function Y0(o,u){Du(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:X0.hasOwnProperty(p)?o.setAttribute(X0[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var X0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function hk(o,u,f){var p=arguments,g=document,_=String(p[0]),w=p[1];if(!fk&&w&&(w.name||w.type)){if(_=["<",_],w.name&&_.push(' name="',Cd(w.name),'"'),w.type){_.push(' type="',Cd(w.type),'"');var T={};Ln(T,w),delete T.type,w=T}_.push(">"),_=_.join("")}return _=nf(g,_),w&&(typeof w=="string"?_.className=w:Array.isArray(w)?_.className=w.join(" "):Y0(_,w)),2<p.length&&pk(g,_,p),_}function pk(o,u,f){function p(T){T&&u.appendChild(typeof T=="string"?o.createTextNode(T):T)}for(var g=2;g<f.length;g++){var _=f[g];if(!b(_)||I(_)&&0<_.nodeType)p(_);else{t:{if(_&&typeof _.length=="number"){if(I(_)){var w=typeof _.item=="function"||typeof _.item=="string";break t}if(E(_)){w=typeof _.item=="function";break t}}w=!1}H(w?z(_):_,p)}}}function nf(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function J0(o){l.setTimeout(function(){throw o},0)}var kd;function dk(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ee("Presto")&&(o=function(){var g=nf(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var w="callImmediate"+Math.random(),T=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=U(function(M){(T=="*"||M.origin==T)&&M.data==w&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(w,T)}}}),typeof o<"u"&&!ee("Trident")&&!ee("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Gb;f.Gb=null,g()}},function(g){p.next={Gb:g},p=p.next,u.port2.postMessage(0)}}return function(g){l.setTimeout(g,0)}}function rf(o,u){of||vk(),Dd||(of(),Dd=!0),Z0.add(o,u)}var of;function vk(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);of=function(){o.then(tb)}}else of=function(){var u=tb;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!ee("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(kd||(kd=dk()),kd(u)):l.setImmediate(u)}}var Dd=!1,Z0=new mi;function tb(){for(var o;o=We();){try{o.a.call(o.b)}catch(u){J0(u)}gi(jo,o)}Dd=!1}function xt(o,u){if(this.a=Vo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(p){Bo(f,Uu,p)},function(p){if(!(p instanceof Ks))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}Bo(f,_i,p)})}catch(p){Bo(this,_i,p)}}var Vo=0,Uu=2,_i=3;function eb(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}eb.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var nb=new He(function(){return new eb},function(o){o.reset()});function Ld(o,u,f){var p=nb.get();return p.g=o,p.b=u,p.f=f,p}function gt(o){if(o instanceof xt)return o;var u=new xt(m);return Bo(u,Uu,o),u}function se(o){return new xt(function(u,f){f(o)})}function rb(o,u,f){ab(o,u,f,null)||rf(_t(u,o))}function gk(o){return new xt(function(u,f){var p=o.length,g=[];if(p)for(var _=function(q,bt){p--,g[q]=bt,p==0&&u(g)},w=function(q){f(q)},T=0,M;T<o.length;T++)M=o[T],rb(M,_t(_,T),w);else u(g)})}function ib(o){return new xt(function(u){var f=o.length,p=[];if(f)for(var g=function(T,M,q){f--,p[T]=M?{Pb:!0,value:q}:{Pb:!1,reason:q},f==0&&u(p)},_=0,w;_<o.length;_++)w=o[_],rb(w,_t(g,_,!0),_t(g,_,!1));else u(p)})}xt.prototype.then=function(o,u,f){return sb(this,E(o)?o:null,E(u)?u:null,f)},xt.prototype.$goog_Thenable=!0,e=xt.prototype,e.oa=function(o,u){return o=Ld(o,o,u),o.c=!0,Md(this,o),this},e.o=function(o,u){return sb(this,null,o,u)},e.cancel=function(o){if(this.a==Vo){var u=new Ks(o);rf(function(){ob(this,u)},this)}};function ob(o,u){if(o.a==Vo)if(o.c){var f=o.c;if(f.b){for(var p=0,g=null,_=null,w=f.b;w&&(w.c||(p++,w.a==o&&(g=w),!(g&&1<p)));w=w.next)g||(_=w);g&&(f.a==Vo&&p==1?ob(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):cb(f),lb(f,g,_i,u)))}o.c=null}else Bo(o,_i,u)}function Md(o,u){o.b||o.a!=Uu&&o.a!=_i||ub(o),o.f?o.f.next=u:o.b=u,o.f=u}function sb(o,u,f,p){var g=Ld(null,null,null);return g.a=new xt(function(_,w){g.g=u?function(T){try{var M=u.call(p,T);_(M)}catch(q){w(q)}}:_,g.b=f?function(T){try{var M=f.call(p,T);M===void 0&&T instanceof Ks?w(T):_(M)}catch(q){w(q)}}:w}),g.a.c=o,Md(o,g),g.a}e.$c=function(o){this.a=Vo,Bo(this,Uu,o)},e.ad=function(o){this.a=Vo,Bo(this,_i,o)};function Bo(o,u,f){o.a==Vo&&(o===f&&(u=_i,f=new TypeError("Promise cannot resolve to itself")),o.a=1,ab(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,ub(o),u!=_i||f instanceof Ks||yk(o,f)))}function ab(o,u,f,p){if(o instanceof xt)return Md(o,Ld(u||m,f||null,p)),!0;if(Ut(o))return o.then(u,f,p),!0;if(I(o))try{var g=o.then;if(E(g))return mk(o,g,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function mk(o,u,f,p,g){function _(M){T||(T=!0,p.call(g,M))}function w(M){T||(T=!0,f.call(g,M))}var T=!1;try{u.call(o,w,_)}catch(M){_(M)}}function ub(o){o.h||(o.h=!0,rf(o.gc,o))}function cb(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=cb(this);)lb(this,o,this.a,this.i);this.h=!1};function lb(o,u,f,p){if(f==_i&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,fb(u,f,p);else try{u.c?u.g.call(u.f):fb(u,f,p)}catch(g){hb.call(null,g)}gi(nb,u)}function fb(o,u,f){u==Uu?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function yk(o,u){o.g=!0,rf(function(){o.g&&hb.call(null,u)})}var hb=J0;function Ks(o){le.call(this,o)}lt(Ks,le),Ks.prototype.name="cancel";function sf(){this.xa=this.xa,this.pa=this.pa}var _k=0;sf.prototype.xa=!1;function pb(o){!o.xa&&(o.xa=!0,o.Da(),_k!=0)&&R(o)}sf.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var wk=Object.freeze||function(o){return o},db=!wr||9<=Number(zi),bk=wr&&!K0("9"),Ek=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",m,u),l.removeEventListener("test",m,u)}catch{}return o}();function Fn(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}Fn.prototype.preventDefault=function(){this.defaultPrevented=!0};function qo(o,u){if(Fn.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if($0){t:{try{Nd(u.nodeName);var g=!0;break t}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ik[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}lt(qo,Fn);var Ik=wk({2:"touch",3:"pen",4:"mouse"});qo.prototype.preventDefault=function(){qo.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,bk)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},qo.prototype.g=function(){return this.a};var ju="closure_listenable_"+(1e6*Math.random()|0),Tk=0;function Sk(o,u,f,p,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Va=g,this.key=++Tk,this.va=this.Pa=!1}function af(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function uf(o){this.src=o,this.a={},this.b=0}uf.prototype.add=function(o,u,f,p,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var w=Ud(o,u,p,g);return-1<w?(u=o[w],f||(u.Pa=!1)):(u=new Sk(u,this.src,_,!!p,g),u.Pa=f,o.push(u)),u};function Fd(o,u){var f=u.type;f in o.a&&V(o.a[f],u)&&(af(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Ud(o,u,f,p){for(var g=0;g<o.length;++g){var _=o[g];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==p)return g}return-1}var jd="closure_lm_"+(1e6*Math.random()|0),Vd={};function ur(o,u,f,p,g){if(p&&p.once)Bd(o,u,f,p,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)ur(o,u[_],f,p,g);else f=Hd(f),o&&o[ju]?wb(o,u,f,I(p)?!!p.capture:!!p,g):vb(o,u,f,!1,p,g)}function vb(o,u,f,p,g,_){if(!u)throw Error("Invalid event type");var w=I(g)?!!g.capture:!!g,T=cf(o);if(T||(o[jd]=T=new uf(o)),f=T.add(u,f,p,w,_),!f.proxy)if(p=Ak(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Ek||(g=w),g===void 0&&(g=!1),o.addEventListener(u.toString(),p,g);else if(o.attachEvent)o.attachEvent(mb(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function Ak(){var o=Ck,u=db?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Bd(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Bd(o,u[_],f,p,g);else f=Hd(f),o&&o[ju]?Wd(o,u,f,I(p)?!!p.capture:!!p,g):vb(o,u,f,!0,p,g)}function Qn(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Qn(o,u[_],f,p,g);else p=I(p)?!!p.capture:!!p,f=Hd(f),o&&o[ju]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Ud(_,f,p,g),-1<f&&(af(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=cf(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Ud(u,f,p,g)),(f=-1<o?u[o]:null)&&gb(f))}function gb(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[ju])Fd(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(mb(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=cf(u))?(Fd(f,o),f.b==0&&(f.src=null,u[jd]=null)):af(o)}}}function mb(o){return o in Vd?Vd[o]:Vd[o]="on"+o}function yb(o,u,f,p){var g=!0;if((o=cf(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=_b(_,p),g=g&&_!==!1)}return g}function _b(o,u){var f=o.listener,p=o.Va||o.src;return o.Pa&&gb(o),f.call(p,u)}function Ck(o,u){if(o.va)return!0;if(!db){if(!u)t:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break t}u=f}if(p=u,u=new qo(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){t:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break t}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(o=o.type,g=p.length-1;0<=g;g--){u.b=p[g];var _=yb(p[g],o,!0,u);f=f&&_}for(g=0;g<p.length;g++)u.b=p[g],_=yb(p[g],o,!1,u),f=f&&_}return f}return _b(o,new qo(u,this))}function cf(o){return o=o[jd],o instanceof uf?o:null}var qd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hd(o){return E(o)?o:(o[qd]||(o[qd]=function(u){return o.handleEvent(u)}),o[qd])}function bn(){sf.call(this),this.v=new uf(this),this.ac=this,this.gb=null}lt(bn,sf),bn.prototype[ju]=!0,bn.prototype.addEventListener=function(o,u,f,p){ur(this,o,u,f,p)},bn.prototype.removeEventListener=function(o,u,f,p){Qn(this,o,u,f,p)},bn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var p=o.type||o;if(typeof o=="string")o=new Fn(o,f);else if(o instanceof Fn)o.target=o.target||f;else{var g=o;o=new Fn(p,f),Ln(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var w=o.b=u[_];g=lf(w,p,!0,o)&&g}if(w=o.b=f,g=lf(w,p,!0,o)&&g,g=lf(w,p,!1,o)&&g,u)for(_=0;_<u.length;_++)w=o.b=u[_],g=lf(w,p,!1,o)&&g;return g},bn.prototype.Da=function(){if(bn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)af(f[p]);delete o.a[u],o.b--}}this.gb=null};function wb(o,u,f,p,g){o.v.add(String(u),f,!1,p,g)}function Wd(o,u,f,p,g){o.v.add(String(u),f,!0,p,g)}function lf(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var w=u[_];if(w&&!w.va&&w.capture==f){var T=w.listener,M=w.Va||w.src;w.Pa&&Fd(o.v,w),g=T.call(M,p)!==!1&&g}}return g&&!p.defaultPrevented}function Gd(o,u,f){if(E(o))f&&(o=U(o,f));else if(o&&typeof o.handleEvent=="function")o=U(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Qs(o){var u=null;return new xt(function(f,p){u=Gd(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function bb(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(b(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function Eb(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(b(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function Nk(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(b(o)||typeof o=="string")H(o,u,void 0);else for(var f=Eb(o),p=bb(o),g=p.length,_=0;_<g;_++)u.call(void 0,p[_],f&&f[_],o)}function Ys(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Ys)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=Ys.prototype,e.W=function(){$d(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return $d(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function $d(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];Ho(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)p=o.a[u],Ho(g,p)||(o.a[f++]=p,g[p]=1),u++;o.a.length=f}}e.get=function(o,u){return Ho(this.b,o)?this.b[o]:u},e.set=function(o,u){Ho(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var g=f[p],_=this.get(g);o.call(u,_,g,this)}};function Ho(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var Ib=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rk(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),g=null;if(0<=p){var _=o[f].substring(0,p);g=o[f].substring(p+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Ki(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Ki?(this.i=u!==void 0?u:o.i,Vu(this,o.c),this.l=o.l,this.a=o.a,Bu(this,o.g),this.f=o.f,zd(this,Cb(o.b)),this.h=o.h):o&&(f=String(o).match(Ib))?(this.i=!!u,Vu(this,f[1]||"",!0),this.l=qu(f[2]||""),this.a=qu(f[3]||"",!0),Bu(this,f[4]),this.f=qu(f[5]||"",!0),zd(this,f[6]||"",!0),this.h=qu(f[7]||"")):(this.i=!!u,this.b=new Wo(null,this.i))}Ki.prototype.toString=function(){var o=[],u=this.c;u&&o.push(Hu(u,Tb,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(Hu(u,Tb,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(Hu(f,f.charAt(0)=="/"?Pk:xk,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",Hu(f,Dk)),o.join("")},Ki.prototype.resolve=function(o){var u=new Ki(this),f=!!o.c;f?Vu(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)Bu(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(vt(g,"./")||vt(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],w=0;w<g.length;){var T=g[w++];T=="."?p&&w==g.length&&_.push(""):T==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&w==g.length&&_.push("")):(_.push(T),p=!0)}p=_.join("/")}else p=g}return f?u.f=p:f=o.b.toString()!=="",f?zd(u,Cb(o.b)):f=!!o.h,f&&(u.h=o.h),u};function Vu(o,u,f){o.c=f?qu(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function Bu(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function zd(o,u,f){u instanceof Wo?(o.b=u,Lk(o.b,o.i)):(f||(u=Hu(u,kk)),o.b=new Wo(u,o.i))}function we(o,u,f){o.b.set(u,f)}function cr(o,u){return o.b.get(u)}function Un(o){return o instanceof Ki?new Ki(o):new Ki(o,void 0)}function ff(o,u,f,p){var g=new Ki(null,void 0);return o&&Vu(g,o),u&&(g.a=u),f&&Bu(g,f),p&&(g.f=p),g}function qu(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Hu(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,Ok),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ok(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Tb=/[#\/\?@]/g,xk=/[#\?:]/g,Pk=/[#\?]/g,kk=/[#\?@]/g,Dk=/#/g;function Wo(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Qi(o){o.a||(o.a=new Ys,o.b=0,o.c&&Rk(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function Sb(o){var u=Eb(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Wo(null,void 0);o=bb(o);for(var p=0;p<u.length;p++){var g=u[p],_=o[p];Array.isArray(_)?Ab(f,g,_):f.add(g,_)}return f}e=Wo.prototype,e.add=function(o,u){Qi(this),this.c=null,o=Xs(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Gr(o,u){Qi(o),u=Xs(o,u),Ho(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Ho(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&$d(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function Kd(o,u){return Qi(o),u=Xs(o,u),Ho(o.a.b,u)}e.forEach=function(o,u){Qi(this),this.a.forEach(function(f,p){H(f,function(g){o.call(u,g,p,this)},this)},this)},e.Y=function(){Qi(this);for(var o=this.a.W(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var g=o[p],_=0;_<g.length;_++)f.push(u[p]);return f},e.W=function(o){Qi(this);var u=[];if(typeof o=="string")Kd(this,o)&&(u=tt(u,this.a.get(Xs(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=tt(u,o[f])}return u},e.set=function(o,u){return Qi(this),this.c=null,o=Xs(this,o),Kd(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function Ab(o,u,f){Gr(o,u),0<f.length&&(o.c=null,o.a.set(Xs(o,u),z(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],g=encodeURIComponent(String(p));p=this.W(p);for(var _=0;_<p.length;_++){var w=g;p[_]!==""&&(w+="="+encodeURIComponent(String(p[_]))),o.push(w)}}return this.c=o.join("&")};function Cb(o){var u=new Wo;return u.c=o.c,o.a&&(u.a=new Ys(o.a),u.b=o.b),u}function Xs(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function Lk(o,u){u&&!o.f&&(Qi(o),o.c=null,o.a.forEach(function(f,p){var g=p.toLowerCase();p!=g&&(Gr(this,p),Ab(this,g,f))},o)),o.f=u}function Nb(o){var u=[];return Qd(new Mk,o,u),u.join("")}function Mk(){}function Qd(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),Qd(o,p[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(g),Ob(p,f),f.push(":"),Qd(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":Ob(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var Rb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Fk=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ob(o,u){u.push('"',o.replace(Fk,function(f){var p=Rb[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),Rb[f]=p),p}),'"')}function Yd(){var o=en();return wr&&!!zi&&zi==11||/Edge\/\d+/.test(o)}function Wu(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function xb(o,u){u=u||l.window;var f="about:blank";o&&(f=tf(j0(o)||B0)),u.location.href=f}function Pb(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<Pb(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function Uk(){var o=en();return o=Js(o)!=Mb?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!wr||!zi||9<zi}function kb(o){return o=(o||en()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Go(o){o=o||l.window;try{o.close()}catch{}}function Db(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=en().toLowerCase(),p&&(u.target=p,vt(f,"crios/")&&(u.target="_blank")),Js(en())==Zd&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof Mn?f:j0(typeof f.href<"u"?f.href:String(f))||B0,f=o.target||f.target,g=[];for(w in o)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+o[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(o[w]?1:0))}var w=g.join(",");if((ee("iPhone")&&!ee("iPod")&&!ee("iPad")||ee("iPad")||ee("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(w=nf(document,"A"),k0(w,"HTMLAnchorElement"),u=u instanceof Mn?u:V0(u),w.href=tf(u),w.setAttribute("target",f),o.noreferrer&&w.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),w.dispatchEvent(o),w={}):o.noreferrer?(w=H0("",p,f,w),o=tf(u),w&&(uk&&vt(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),w.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Cd(o)+'">',o=(p=L0())?p.createHTML(o):o,o=new zs(o,null,q0),p=w.document)&&(p.write(ik(o)),p.close())):(w=H0(u,p,f,w))&&o.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function jk(o){return new xt(function(u){function f(){Qs(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var Vk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bk=/^[^@]+@[^@]+$/;function hf(){var o=null;return new xt(function(u){l.document.readyState=="complete"?u():(o=function(){u()},Bd(window,"load",o))}).o(function(u){throw Qn(window,"load",o),u})}function qk(){return Xd(void 0)?hf().then(function(){return new xt(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):se(Error("Cordova must run in an Android or iOS file scheme."))}function Xd(o){return o=o||en(),!(ta()!=="file:"&&ta()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jd(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function br(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function $r(){return at.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":at.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function Lb(){var o=$r();return o==="ReactNative"||o==="Node"}function Hk(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var Zd="Firefox",Mb="Chrome";function Js(o){var u=o.toLowerCase();if(vt(u,"opera/")||vt(u,"opr/")||vt(u,"opios/"))return"Opera";if(vt(u,"iemobile"))return"IEMobile";if(vt(u,"msie")||vt(u,"trident/"))return"IE";if(vt(u,"edge/"))return"Edge";if(vt(u,"firefox/"))return Zd;if(vt(u,"silk/"))return"Silk";if(vt(u,"blackberry"))return"Blackberry";if(vt(u,"webos"))return"Webos";if(!vt(u,"safari/")||vt(u,"chrome/")||vt(u,"crios/")||vt(u,"android"))if(!vt(u,"chrome/")&&!vt(u,"crios/")||vt(u,"edge/")){if(vt(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return Mb;else return"Safari";return"Other"}var Fb={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Zs(o,u){u=u||[];var f=[],p={},g;for(g in Fb)p[Fb[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=$r(),f==="Browser"?(p=en(),f=Js(p)):f==="Worker"&&(p=en(),f=Js(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function en(){return l.navigator&&l.navigator.userAgent||""}function ae(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function tv(){try{var o=l.localStorage,u=zo();if(o)return o.setItem(u,"1"),o.removeItem(u),Yd()?!!l.indexedDB:!0}catch{return br()&&!!l.indexedDB}return!1}function $o(){return(pf()||ta()==="chrome-extension:"||Xd())&&!Lb()&&tv()&&!br()}function pf(){return ta()==="http:"||ta()==="https:"}function ta(){return l.location&&l.location.protocol||null}function Gu(o){return o=o||en(),!(kb(o)||Js(o)==Zd)}function $u(o){return typeof o>"u"?null:Nb(o)}function Ub(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function ea(o){if(o!==null)return JSON.parse(o)}function zo(o){return o||Math.floor(1e9*Math.random()).toString()}function jb(o){return o=o||en(),!(Js(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function Vb(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function Yi(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=en(),u=$r(),this.b=kb(o)||u==="ReactNative"}Yi.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(pf()||ta()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function ev(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function Wk(){var o=l.document,u=null;return ev()||!o?gt():new xt(function(f){u=function(){ev()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function zu(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function Bb(){return!(!ae("fireauth.oauthhelper",l)&&!ae("fireauth.iframe",l))}function Gk(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function $k(){var o=l.navigator;return o&&o.serviceWorker?gt().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):gt(null)}var qb={};function nv(o){qb[o]||(qb[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var rv;try{var iv={};Object.defineProperty(iv,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(iv,"abcd",{configurable:!0,enumerable:!0,value:2}),rv=iv.abcd==2}catch{rv=!1}function ot(o,u,f){rv?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function En(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ot(o,f,u[f])}function zr(o){var u={};return En(u,o),u}function zk(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function Kk(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function ov(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ot(u,f,ov(o[f]))}return u}function sv(o){var u=o&&(o[lv]?"phone":null);if(u&&o&&o[cv]){ot(this,"uid",o[cv]),ot(this,"displayName",o[Hb]||null);var f=null;o[uv]&&(f=new Date(o[uv]).toUTCString()),ot(this,"enrollmentTime",f),ot(this,"factorId",u)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}sv.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function av(o){try{var u=new Ku(o)}catch{u=null}return u}var Hb="displayName",uv="enrolledAt",cv="mfaEnrollmentId",lv="phoneInfo";function Ku(o){sv.call(this,o),ot(this,"phoneNumber",o[lv])}lt(Ku,sv),Ku.prototype.w=function(){var o=Ku.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function Qk(o){var u={},f=o[Yk],p=o[Jk],g=o[Zk];if(o=av(o[Xk]),!g||g!=df&&g!=Qu&&!f||g==Qu&&!p||g==fv&&!o)throw Error("Invalid checkActionCode response!");g==Qu?(u[Gb]=f||null,u[$b]=f||null,u[Wb]=p):(u[Gb]=p||null,u[$b]=p||null,u[Wb]=f||null),u[tD]=o||null,ot(this,nD,g),ot(this,eD,ov(u))}var fv="REVERT_SECOND_FACTOR_ADDITION",df="EMAIL_SIGNIN",Qu="VERIFY_AND_CHANGE_EMAIL",Yk="email",Xk="mfaInfo",Jk="newEmail",Zk="requestType",Wb="email",Gb="fromEmail",tD="multiFactorInfo",$b="previousEmail",eD="data",nD="operation";function hv(o){o=Un(o);var u=cr(o,zb)||null,f=cr(o,Kb)||null,p=cr(o,Qb)||null;if(p=p&&sD[p]||null,!u||!f||!p)throw new O("argument-error",zb+", "+Kb+"and "+Qb+" are required in a valid action code URL.");En(this,{apiKey:u,operation:p,code:f,continueUrl:cr(o,rD)||null,languageCode:cr(o,iD)||null,tenantId:cr(o,oD)||null})}var zb="apiKey",Kb="oobCode",rD="continueUrl",iD="languageCode",Qb="mode",oD="tenantId",sD={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fv,signIn:df,verifyAndChangeEmail:Qu,verifyEmail:"VERIFY_EMAIL"};function Yb(o){try{return new hv(o)}catch{return null}}function vf(o){var u=o[aD];if(typeof u>"u")throw new O("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new O("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[Xb];if(f&&typeof f=="object"){u=f[nE];var p=f[tE];if(f=f[eE],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new O("argument-error",tE+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new O("argument-error",eE+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new O("argument-error",nE+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new O("missing-android-pkg-name")}}else if(typeof f<"u")throw new O("argument-error",Xb+" property must be a non null object when specified.");if(this.f=null,(u=o[Zb])&&typeof u=="object"){if(u=u[rE],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new O("argument-error",rE+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new O("argument-error",Zb+" property must be a non null object when specified.");if(u=o[pv],typeof u<"u"&&typeof u!="boolean")throw new O("argument-error",pv+" property must be a boolean when specified.");if(this.c=!!u,o=o[Jb],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new O("argument-error",Jb+" property must be a non empty string when specified.");this.i=o||null}var Xb="android",Jb="dynamicLinkDomain",pv="handleCodeInApp",Zb="iOS",aD="url",tE="installApp",eE="minimumVersion",nE="packageName",rE="bundleId";function gf(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function uD(o){return S(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var Yu=null;function cD(o){var u=[];return lD(o,function(f){u.push(f)}),u}function lD(o,u){function f(M){for(;p<o.length;){var q=o.charAt(p++),bt=Yu[q];if(bt!=null)return bt;if(!/^[\s\xa0]*$/.test(q))throw Error("Unknown base64 encoding at char: "+q)}return M}fD();for(var p=0;;){var g=f(-1),_=f(0),w=f(64),T=f(64);if(T===64&&g===-1)break;u(g<<2|_>>4),w!=64&&(u(_<<4&240|w>>2),T!=64&&u(w<<6&192|T))}}function fD(){if(!Yu){Yu={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),g=0;g<p.length;g++){var _=p[g];Yu[_]===void 0&&(Yu[_]=g)}}}function mf(o){var u=iE(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}mf.prototype.T=function(){return this.f},mf.prototype.l=function(){return this.c},mf.prototype.toString=function(){return this.h};function yf(o){try{return new mf(o)}catch{return null}}function iE(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=cD(o);for(o=[],f=u=0;u<p.length;){var g=p[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=p[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=p[u++];var w=p[u++],T=p[u++],M=((g&7)<<18|(_&63)<<12|(w&63)<<6|T&63)-65536;o[f++]=String.fromCharCode(55296+(M>>10)),o[f++]=String.fromCharCode(56320+(M&1023))}else _=p[u++],w=p[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|w&63)}return JSON.parse(o.join(""))}catch{}return null}var oE="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),_f=["client_id","response_type","scope","redirect_uri","state"],dv={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:_f},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:_f},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:_f},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:oE},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function vv(o){for(var u in dv)if(dv[u].fa==o)return dv[u];return null}function sE(o){var u={};u["facebook.com"]=uE,u["google.com"]=lE,u["github.com"]=cE,u["twitter.com"]=fE;var f=o&&o[aE];try{if(f)return u[f]?new u[f](o):new Kr(o);if(typeof o[gv]<"u")return new mv(o)}catch{}return null}var gv="idToken",aE="providerId";function mv(o){var u=o[aE];if(!u&&o[gv]){var f=yf(o[gv]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ot(this,"providerId",u),ot(this,"isNewUser",f)}function Kr(o){mv.call(this,o),o=ea(o.rawUserInfo||"{}"),ot(this,"profile",ov(o||{}))}lt(Kr,mv);function uE(o){if(Kr.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}lt(uE,Kr);function cE(o){if(Kr.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ot(this,"username",this.profile&&this.profile.login||null)}lt(cE,Kr);function lE(o){if(Kr.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}lt(lE,Kr);function fE(o){if(Kr.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ot(this,"username",o.screenName||null)}lt(fE,Kr);function hE(o){var u=Un(o),f=cr(u,"link"),p=cr(Un(f),"link");return u=cr(u,"deep_link_id"),cr(Un(u),"link")||u||p||f||o}function wf(o,u){if(!o&&!u)throw new O("internal-error","Internal assert: no raw session string available");if(o&&u)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?Xu:bf}var Xu="enroll",bf="signin";wf.prototype.Ha=function(){return this.a?gt(this.a):gt(this.b)},wf.prototype.w=function(){return this.type==Xu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function na(){}na.prototype.ka=function(){},na.prototype.b=function(){},na.prototype.c=function(){},na.prototype.w=function(){};function ra(o,u){return o.then(function(f){if(f[Tr]){var p=yf(f[Tr]);if(!p||u!=p.i)throw new O("user-mismatch");return f}throw new O("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==cn+"user-not-found"?new O("user-mismatch"):f})}function Ko(o,u){if(u)this.a=u;else throw new O("internal-error","failed to construct a credential");ot(this,"providerId",o),ot(this,"signInMethod",o)}Ko.prototype.ka=function(o){return Bv(o,yv(this))},Ko.prototype.b=function(o,u){var f=yv(this);return f.idToken=u,qv(o,f)},Ko.prototype.c=function(o,u){return ra(Hv(o,yv(this)),u)};function yv(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ko.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function hD(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ko(o.providerId,o.pendingToken)}catch{}return null}function wi(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ot(this,"idToken",u.idToken),u.accessToken&&ot(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ot(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ot(this,"accessToken",u.oauthToken),ot(this,"secret",u.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");ot(this,"providerId",o),ot(this,"signInMethod",f)}wi.prototype.ka=function(o){return Bv(o,_v(this))},wi.prototype.b=function(o,u){var f=_v(this);return f.idToken=u,qv(o,f)},wi.prototype.c=function(o,u){var f=_v(this);return ra(Hv(o,f),u)};function _v(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:Sb(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}wi.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function pD(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new wi(o.providerId,u,o.signInMethod)}catch{}}return null}function Qo(o,u){this.Qc=u||[],En(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(vv(o)||{}).Ja||null,this.ob=null}Qo.prototype.Ka=function(o){return this.Ib=ke(o),this};function pE(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');Qo.call(this,o,[])}lt(pE,Qo);function Yn(o){Qo.call(this,o,_f),this.a=[]}lt(Yn,Qo),Yn.prototype.Ca=function(o){return L(this.a,o)||this.a.push(o),this},Yn.prototype.Qb=function(){return z(this.a)},Yn.prototype.credential=function(o,u){var f;if(I(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new wi(this.providerId,f,this.providerId)};function Yo(){Yn.call(this,"facebook.com")}lt(Yo,Yn),ot(Yo,"PROVIDER_ID","facebook.com"),ot(Yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function dE(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return I(o)&&(u=o.accessToken),new Yo().credential({accessToken:u})}function Xo(){Yn.call(this,"github.com")}lt(Xo,Yn),ot(Xo,"PROVIDER_ID","github.com"),ot(Xo,"GITHUB_SIGN_IN_METHOD","github.com");function vE(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return I(o)&&(u=o.accessToken),new Xo().credential({accessToken:u})}function Jo(){Yn.call(this,"google.com"),this.Ca("profile")}lt(Jo,Yn),ot(Jo,"PROVIDER_ID","google.com"),ot(Jo,"GOOGLE_SIGN_IN_METHOD","google.com");function gE(o,u){var f=o;return I(o)&&(f=o.idToken,u=o.accessToken),new Jo().credential({idToken:f,accessToken:u})}function ia(){Qo.call(this,"twitter.com",oE)}lt(ia,Qo),ot(ia,"PROVIDER_ID","twitter.com"),ot(ia,"TWITTER_SIGN_IN_METHOD","twitter.com");function mE(o,u){var f=o;if(I(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new wi("twitter.com",f,"twitter.com")}function Xi(o,u,f){this.a=o,this.f=u,ot(this,"providerId","password"),ot(this,"signInMethod",f===lr.EMAIL_LINK_SIGN_IN_METHOD?lr.EMAIL_LINK_SIGN_IN_METHOD:lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Xi.prototype.ka=function(o){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?Pt(o,XD,{email:this.a,oobCode:this.f}):Pt(o,GE,{email:this.a,password:this.f})},Xi.prototype.b=function(o,u){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?Pt(o,JD,{idToken:u,email:this.a,oobCode:this.f}):Pt(o,WE,{idToken:u,email:this.a,password:this.f})},Xi.prototype.c=function(o,u){return ra(this.ka(o),u)},Xi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function dD(o){return o&&o.email&&o.password?new Xi(o.email,o.password,o.signInMethod):null}function lr(){En(this,{providerId:"password",isOAuthProvider:!1})}function yE(o,u){if(u=wv(u),!u)throw new O("argument-error","Invalid email link!");return new Xi(o,u.code,lr.EMAIL_LINK_SIGN_IN_METHOD)}function wv(o){return o=hE(o),(o=Yb(o))&&o.operation===df?o:null}En(lr,{PROVIDER_ID:"password"}),En(lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),En(lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ji(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new O("internal-error");this.a=o,ot(this,"providerId","phone"),this.fa="phone",ot(this,"signInMethod","phone")}Ji.prototype.ka=function(o){return o.fb(Ju(this))},Ji.prototype.b=function(o,u){var f=Ju(this);return f.idToken=u,Pt(o,yL,f)},Ji.prototype.c=function(o,u){var f=Ju(this);return f.operation="REAUTH",o=Pt(o,_L,f),ra(o,u)},Ji.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function vD(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Ji(u)}return null}function Ju(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function bi(o){try{this.a=o||at.auth()}catch{throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}En(this,{providerId:"phone",isOAuthProvider:!1})}bi.prototype.fb=function(o,u){var f=this.a.a;return gt(u.verify()).then(function(p){if(typeof p!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=I(o)?o.session:null,_=I(o)?o.phoneNumber:o,w;return g&&g.type==Xu?w=g.Ha().then(function(T){return qD(f,{idToken:T,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):g&&g.type==bf?w=g.Ha().then(function(T){return HD(f,{mfaPendingCredential:T,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):w=BD(f,{phoneNumber:_,recaptchaToken:p}),w.then(function(T){return typeof u.reset=="function"&&u.reset(),T},function(T){throw typeof u.reset=="function"&&u.reset(),T});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function _E(o,u){if(!o)throw new O("missing-verification-id");if(!u)throw new O("missing-verification-code");return new Ji({eb:o,cb:u})}En(bi,{PROVIDER_ID:"phone"}),En(bi,{PHONE_SIGN_IN_METHOD:"phone"});function bv(o){if(o.temporaryProof&&o.phoneNumber)return new Ji({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,w=o&&o.pendingToken;try{switch(u){case"google.com":return gE(_,f);case"facebook.com":return dE(f);case"github.com":return vE(f);case"twitter.com":return mE(f,p);default:return f||p||_||w?w?u.indexOf("saml.")==0?new Ko(u,w):new wi(u,{pendingToken:w,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Yn(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function Ev(o){if(!o.isOAuthProvider)throw new O("invalid-oauth-provider")}function Er(o,u,f,p,g,_,w){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}Er.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Er.prototype.T=function(){return this.h},Er.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function wE(o){return o=o||{},o.type?new Er(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&qr(o.error),o.postBody,o.tenantId):null}function gD(){this.b=null,this.a=[]}var Iv=null;function mD(o){var u=Iv;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=ae("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function Tv(o){var u="unauthorized-domain",f=void 0,p=Un(o);o=p.a,p=p.c,p=="chrome-extension"?f=W0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=W0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",O.call(this,u,f)}lt(Tv,O);function Zu(o,u,f){O.call(this,o,f),o=u||{},o.Jb&&ot(this,"email",o.Jb),o.ea&&ot(this,"phoneNumber",o.ea),o.credential&&ot(this,"credential",o.credential),o.Zb&&ot(this,"tenantId",o.Zb)}lt(Zu,O),Zu.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Ln(o,u),o},Zu.prototype.toJSON=function(){return this.w()};function Ef(o){if(o.code){var u=o.code||"";u.indexOf(cn)==0&&(u=u.substring(cn.length));var f={credential:bv(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new O(u,o.message||void 0);return new Zu(u,f,o.message)}return null}function tc(){}tc.prototype.c=null;function bE(o){return o.c||(o.c=o.b())}var Sv;function If(){}lt(If,tc),If.prototype.a=function(){var o=EE(this);return o?new ActiveXObject(o):new XMLHttpRequest},If.prototype.b=function(){var o={};return EE(this)&&(o[0]=!0,o[1]=!0),o};function EE(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Sv=new If;function Tf(){}lt(Tf,tc),Tf.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new IE;throw Error("Unsupported browser")},Tf.prototype.b=function(){return{}};function IE(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.qc,this),this.a.onerror=U(this.Sb,this),this.a.onprogress=U(this.rc,this),this.a.ontimeout=U(this.vc,this)}e=IE.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Av(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",Av(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,Av(this,1)};function Av(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Cv(o,u,f){this.reset(o,u,f,void 0,void 0)}Cv.prototype.a=null,Cv.prototype.reset=function(o,u,f,p,g){delete this.a};function Nv(o){this.f=o,this.b=this.c=this.a=null}function ec(o,u){this.name=o,this.value=u}ec.prototype.toString=function(){return this.name};var TE=new ec("SEVERE",1e3),Rv=new ec("WARNING",900),yD=new ec("CONFIG",700),_D=new ec("FINE",500);function SE(o){return o.c?o.c:o.a?SE(o.a):(tn("Root logger has no level set."),null)}Nv.prototype.log=function(o,u,f){if(o.value>=SE(this).value)for(E(u)&&(u=u()),o=new Cv(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var Ov={},Sf=null;function xv(o){Sf||(Sf=new Nv(""),Ov[""]=Sf,Sf.c=yD);var u;if(!(u=Ov[o])){u=new Nv(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=xv(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,Ov[o]=u}return u}function fr(o,u){o&&o.log(_D,u,void 0)}function Af(o){this.f=o}lt(Af,tc),Af.prototype.a=function(){return new Cf(this.f)},Af.prototype.b=function(o){return function(){return o}}({});function Cf(o){bn.call(this),this.u=o,this.h=void 0,this.readyState=Pv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=xv("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}lt(Cf,bn);var Pv=0;e=Cf.prototype,e.open=function(o,u){if(this.readyState!=Pv)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,rc(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,nc(this)),this.readyState=Pv},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,rc(this)),this.a&&(this.readyState=3,rc(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,AE(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function AE(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?nc(this):rc(this),this.readyState==3&&AE(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,nc(this))},e.sc=function(o){this.a&&(this.response=o,nc(this))},e.Ua=function(o){var u=this.i;u&&u.log(Rv,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&nc(this)};function nc(o){o.readyState=4,o.g=null,o.c=null,o.m=null,rc(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Rv,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Rv,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function rc(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Cf.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function ic(o){bn.call(this),this.headers=new Ys,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=CE,this.u=this.S=!1}lt(ic,bn);var CE="";ic.prototype.b=xv("goog.net.XhrIo");var wD=/^https?$/i,bD=["POST","PUT"];function ED(o,u,f,p,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Sv.a(),o.C=o.D?bE(o.D):bE(Sv),o.a.onreadystatechange=U(o.Vb,o);try{fr(o.b,Ei(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(w){fr(o.b,Ei(o,"Error opening Xhr: "+w.message)),NE(o,w);return}u=p||"";var _=new Ys(o.headers);g&&Nk(g,function(w,T){_.set(T,w)}),g=x(_.Y()),p=l.FormData&&u instanceof l.FormData,!L(bD,f)||g||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(w,T){this.a.setRequestHeader(T,w)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{xE(o),0<o.g&&(o.u=ID(o.a),fr(o.b,Ei(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=U(o.Ma,o)):o.s=Gd(o.Ma,o.g,o)),fr(o.b,Ei(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(w){fr(o.b,Ei(o,"Send error: "+w.message)),NE(o,w)}}function ID(o){return wr&&K0(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function TD(o){return o.toLowerCase()=="content-type"}e=ic.prototype,e.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fr(this.b,Ei(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function NE(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,RE(o),Nf(o)}function RE(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(fr(this.b,Ei(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nf(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Nf(this,!0)),ic.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?OE(this):this.Jc())},e.Jc=function(){OE(this)};function OE(o){if(o.c&&typeof c<"u"){if(o.C[1]&&oc(o)==4&&Rf(o)==2)fr(o.b,Ei(o,"Local request error detected and ignored"));else if(o.i&&oc(o)==4)Gd(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),oc(o)==4){fr(o.b,Ei(o,"Request complete")),o.c=!1;try{var u=Rf(o);t:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var p;if(!(p=f)){var g;if(g=u===0){var _=String(o.l).match(Ib)[1]||null;if(!_&&l.self&&l.self.location){var w=l.self.location.protocol;_=w.substr(0,w.length-1)}g=!wD.test(_?_.toLowerCase():"")}p=g}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var T=2<oc(o)?o.a.statusText:""}catch(M){fr(o.b,"Can not get status: "+M.message),T=""}o.h=T+" ["+Rf(o)+"]",RE(o)}}finally{Nf(o)}}}}function Nf(o,u){if(o.a){xE(o);var f=o.a,p=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(g){(o=o.b)&&o.log(TE,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function xE(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function oc(o){return o.a?o.a.readyState:0}function Rf(o){try{return 2<oc(o)?o.a.status:-1}catch{return-1}}function SD(o){try{return o.a?o.a.responseText:""}catch(u){return fr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case CE:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(TE,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return fr(this.b,"Can not get response: "+u.message),null}};function Ei(o,u){return u+" ["+o.R+" "+o.l+" "+Rf(o)+"]"}function Zo(o){var u=ND;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Zo.prototype.cancel=function(o){if(this.a)this.c instanceof Zo&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new ac,Of(this),sc(this,!1,o))}},Zo.prototype.m=function(o,u){this.i=!1,sc(this,o,u)};function sc(o,u,f){o.a=!0,o.c=f,o.f=!u,kE(o)}function Of(o){if(o.a){if(!o.v)throw new xf;o.v=!1}}function AD(o,u){kv(o,null,u,void 0)}function kv(o,u,f,p){o.g.push([u,f,p]),o.a&&kE(o)}Zo.prototype.then=function(o,u,f){var p,g,_=new xt(function(w,T){p=w,g=T});return kv(this,p,function(w){w instanceof ac?_.cancel():g(w)}),_.then(o,u,f)},Zo.prototype.$goog_Thenable=!0;function PE(o){return A(o.g,function(u){return E(u[1])})}function kE(o){if(o.h&&o.a&&PE(o)){var u=o.h,f=Pf[u];f&&(l.clearTimeout(f.a),delete Pf[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],w=g[1];if(g=g[2],_=o.f?w:_)try{var T=_.call(g||o.s,u);T!==void 0&&(o.f=o.f&&(T==u||T instanceof Error),o.c=u=T),(Ut(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(M){u=M,o.f=!0,PE(o)||(f=!0)}}o.c=u,p&&(T=U(o.m,o,!0),p=U(o.m,o,!1),u instanceof Zo?(kv(u,T,p),u.C=!0):u.then(T,p)),f&&(u=new DE(u),Pf[u.a]=u,o.h=u.a)}function xf(){le.call(this)}lt(xf,le),xf.prototype.message="Deferred has already fired",xf.prototype.name="AlreadyCalledError";function ac(){le.call(this)}lt(ac,le),ac.prototype.message="Deferred was canceled",ac.prototype.name="CanceledError";function DE(o){this.a=l.setTimeout(U(this.c,this),0),this.b=o}DE.prototype.c=function(){throw delete Pf[this.a],this.b};var Pf={};function Dv(o){var u={},f=u.document||document,p=M0(o).toString(),g=nf(document,"SCRIPT"),_={Wb:g,Ma:void 0},w=new Zo(_),T=null,M=u.timeout!=null?u.timeout:5e3;return 0<M&&(T=window.setTimeout(function(){kf(g,!0);var q=new Lv(OD,"Timeout reached for loading script "+p);Of(w),sc(w,!1,q)},M),_.Ma=T),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(kf(g,u.xd||!1,T),Of(w),sc(w,!0,null))},g.onerror=function(){kf(g,!0,T);var q=new Lv(RD,"Error while loading script "+p);Of(w),sc(w,!1,q)},_=u.attributes||{},Ln(_,{type:"text/javascript",charset:"UTF-8"}),Y0(g,_),ok(g,o),CD(f).appendChild(g),w}function CD(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function ND(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&kf(o,!0,this.Ma)}}function kf(o,u,f){f!=null&&l.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var RD=0,OD=1;function Lv(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),le.call(this,f),this.code=o}lt(Lv,le);function Df(o){this.f=o}lt(Df,tc),Df.prototype.a=function(){return new this.f},Df.prototype.b=function(){return{}};function Ir(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||xD,this.g=ke(o.secureTokenHeaders||PD),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||kD,this.a=ke(o.firebaseHeaders||DD),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=$r()=="Node",f=l.XMLHttpRequest||f&&at.INTERNAL.node&&at.INTERNAL.node.XMLHttpRequest,!f&&!br())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,br()?this.f=new Af(self):Lb()?this.f=new Df(f):this.f=new Tf,this.b=null}var Mv,Tr="idToken",xD=new Yi(3e4,6e4),PD={"Content-Type":"application/x-www-form-urlencoded"},kD=new Yi(3e4,6e4),DD={"Content-Type":"application/json"};function LE(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function oa(o,u){u&&(o.l=Fv("https://securetoken.googleapis.com/v1/token",u),o.h=Fv("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Fv("https://identitytoolkit.googleapis.com/v2/",u))}function Fv(o,u){return o=Un(o),u=Un(u.url),o.f=o.a+o.f,Vu(o,u.c),o.a=u.a,Bu(o,u.g),o.toString()}function ME(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Ir.prototype.T=function(){return this.b};function FE(o,u,f,p,g,_,w){Uk()||br()?o=U(o.u,o):(Mv||(Mv=new xt(function(T,M){MD(T,M)})),o=U(o.s,o)),o(u,f,p,g,_,w)}Ir.prototype.u=function(o,u,f,p,g,_){if(br()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new ic(this.f);if(_){w.g=Math.max(0,_);var T=setTimeout(function(){w.dispatchEvent("timeout")},_)}wb(w,"complete",function(){T&&clearTimeout(T);var M=null;try{M=JSON.parse(SD(this))||null}catch{M=null}u&&u(M)}),Wd(w,"ready",function(){T&&clearTimeout(T),pb(this)}),Wd(w,"timeout",function(){T&&clearTimeout(T),pb(this),u&&u(null)}),ED(w,o,f,p,g)};var LD=new Wr(Jl,"https://apis.google.com/js/client.js?onload=%{onload}"),UE="__fcb"+Math.floor(1e6*Math.random()).toString();function MD(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[UE]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Ad(LD,{onload:UE});AD(Dv(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Ir.prototype.s=function(o,u,f,p,g){var _=this;Mv.then(function(){window.gapi.client.setApiKey(_.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:g,authType:"none",callback:function(T){window.gapi.auth.setToken(w),u&&u(T)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function FD(o,u){return new xt(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?FE(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?p(Gv(g)):g.access_token&&g.refresh_token?f(g):p(new O("internal-error")):p(new O("network-request-failed"))},"POST",Sb(u).toString(),o.g,o.m.get()):p(new O("internal-error"))})}function jE(o,u,f,p,g,_,w){var T=Un(u+f);we(T,"key",o.c),w&&we(T,"cb",Gt().toString());var M=p=="GET";if(M)for(var q in g)g.hasOwnProperty(q)&&we(T,q,g[q]);return new xt(function(bt,$t){FE(o,T.toString(),function(Bt){Bt?Bt.error?$t(Gv(Bt,_||{})):bt(Bt):$t(new O("network-request-failed"))},p,M?void 0:Nb(Ub(g)),o.a,o.v.get())})}function ts(o){if(o=o.email,typeof o!="string"||!Bk.test(o))throw new O("invalid-email")}function VE(o){"email"in o&&ts(o)}function UD(o,u){return Pt(o,KD,{identifier:u,continueUri:pf()?Wu():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function jD(o){return Pt(o,sL,{}).then(function(u){return u.authorizedDomains||[]})}function jn(o){if(!o[Tr])throw o.mfaPendingCredential?new O("multi-factor-auth-required",null,ke(o)):new O("internal-error")}function Uv(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new O("internal-error")}else{if(!o.sessionInfo)throw new O("missing-verification-id");if(!o.code)throw new O("missing-verification-code")}}Ir.prototype.zb=function(){return Pt(this,lL,{})},Ir.prototype.Bb=function(o,u){return Pt(this,HE,{idToken:o,email:u})},Ir.prototype.Cb=function(o,u){return Pt(this,WE,{idToken:o,password:u})};var VD={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Ir.prototype,e.Db=function(o,u){var f={idToken:o},p=[];return Du(VD,function(g,_){var w=u[_];w===null?p.push(g):_ in u&&(f[_]=w)}),p.length&&(f.deleteAttribute=p),Pt(this,HE,f)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Ln(o,u),Pt(this,oL,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Ln(o,u),Pt(this,nL,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Ln(o,u),Pt(this,rL,o)},e.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Ln(o,f),Pt(this,iL,o)};function BD(o,u){return Pt(o,cL,u)}e.fb=function(o){return Pt(this,mL,o)};function qD(o,u){return Pt(o,fL,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function BE(o){if(!o.phoneVerificationInfo)throw new O("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new O("missing-verification-code")}function HD(o,u){return Pt(o,hL,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function WD(o,u,f){return Pt(o,YD,{idToken:u,deleteProvider:f})}function jv(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new O("internal-error")}function Vv(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Wo(o.postBody),Kd(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function qE(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Ef(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Ef(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Ef(o)):o.errorMessage&&(u=$E(o.errorMessage)),u)throw u;jn(o)}function Bv(o,u){return u.returnIdpCredential=!0,Pt(o,pL,u)}function qv(o,u){return u.returnIdpCredential=!0,Pt(o,vL,u)}function Hv(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Pt(o,dL,u)}function Wv(o){if(!o.oobCode)throw new O("invalid-action-code")}e.nb=function(o,u){return Pt(this,uL,{oobCode:o,newPassword:u})},e.Ra=function(o){return Pt(this,$D,{oobCode:o})},e.jb=function(o){return Pt(this,GD,{oobCode:o})};var GD={endpoint:"setAccountInfo",A:Wv,Z:"email",B:!0},$D={endpoint:"resetPassword",A:Wv,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},zD={endpoint:"signupNewUser",A:function(o){if(ts(o),!o.password)throw new O("weak-password")},G:jn,V:!0,B:!0},KD={endpoint:"createAuthUri",B:!0},QD={endpoint:"deleteAccount",N:["idToken"]},YD={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new O("internal-error")}},XD={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ts,G:jn,V:!0,B:!0},JD={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ts,G:jn,V:!0},ZD={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:BE,G:jn,B:!0,Na:!0},tL={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:BE,G:jn,B:!0,Na:!0},eL={endpoint:"getAccountInfo"},nL={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new O("internal-error");ts(o)},Z:"email",B:!0},rL={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},iL={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},oL={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new O("internal-error");ts(o)},Z:"email",B:!0},sL={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},aL={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new O("internal-error")}},uL={endpoint:"resetPassword",A:Wv,Z:"email",B:!0},cL={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},HE={endpoint:"setAccountInfo",N:["idToken"],A:VE,V:!0},WE={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(VE(o),!o.password)throw new O("weak-password")},G:jn,V:!0},lL={endpoint:"signupNewUser",G:jn,V:!0,B:!0},fL={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new O("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},hL={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},pL={endpoint:"verifyAssertion",A:jv,Ya:Vv,G:qE,V:!0,B:!0},dL={endpoint:"verifyAssertion",A:jv,Ya:Vv,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(o.errorMessage)throw $E(o.errorMessage);jn(o)},V:!0,B:!0},vL={endpoint:"verifyAssertion",A:function(o){if(jv(o),!o.idToken)throw new O("internal-error")},Ya:Vv,G:qE,V:!0},gL={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new O("invalid-custom-token")},G:jn,V:!0,B:!0},GE={endpoint:"verifyPassword",A:function(o){if(ts(o),!o.password)throw new O("wrong-password")},G:jn,V:!0,B:!0},mL={endpoint:"verifyPhoneNumber",A:Uv,G:jn,B:!0},yL={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new O("internal-error");Uv(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Ef(o);jn(o)}},_L={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Uv,G:jn,B:!0},wL={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Tr]^!!o.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function Pt(o,u,f){if(!Kk(f,u.N))return se(new O("internal-error"));var p=!!u.Na,g=u.Ub||"POST",_;return gt(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?jE(o,o.i,u.endpoint,g,f,u.Hb,u.lb||!1):jE(o,o.h,u.endpoint,g,f,u.Hb,u.lb||!1)}).then(function(w){return _=w,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new O("internal-error");return _[u.Z]})}function $E(o){return Gv({error:{errors:[{message:o}],code:400,message:o}})}function Gv(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new O(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ln(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(f.indexOf(g)===0)return new O(p[g],u);return!u&&o&&(u=$u(o)),new O("internal-error",u)}function bL(o){this.b=o,this.a=null,this.rb=EL(this)}function EL(o){return NL().then(function(){return new xt(function(u,f){ae("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:ae("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},CL.get());p.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function IL(o,u){return o.rb.then(function(){return new xt(function(f){o.a.send(u.type,u,f,ae("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function TL(o,u){o.rb.then(function(){o.a.register("authEvent",u,ae("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var SL=new Wr(Jl,"https://apis.google.com/js/api.js?onload=%{onload}"),AL=new Yi(3e4,6e4),CL=new Yi(5e3,15e3),Lf=null;function NL(){return Lf||(Lf=new xt(function(o,u){function f(){Vb(),ae("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){Vb(),u(Error("Network Error"))},timeout:AL.get()})}if(ae("gapi.iframes.Iframe"))o();else if(ae("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){ae("gapi.load")?f():u(Error("Network Error"))},p=Ad(SL,{onload:p}),gt(Dv(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Lf=null,o}))}function zE(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=Un(this.g.url),o=ff(o.c,o.a,o.g,"/emulator/auth/iframe")):o=ff("https",this.l,null,"/__/auth/iframe"),this.a=o,we(this.a,"apiKey",this.h),we(this.a,"appName",this.i),this.b=null,this.c=[]}zE.prototype.toString=function(){return this.f?we(this.a,"v",this.f):Gr(this.a.b,"v"),this.b?we(this.a,"eid",this.b):Gr(this.a.b,"eid"),this.c.length?we(this.a,"fw",this.c.join(",")):Gr(this.a.b,"fw"),this.a.toString()};function $v(o,u,f,p,g,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}$v.prototype.yb=function(o){return this.h=o,this},$v.prototype.toString=function(){if(this.v){var o=Un(this.v.url);o=ff(o.c,o.a,o.g,"/emulator/auth/handler")}else o=ff("https",this.u,null,"/__/auth/handler");if(we(o,"apiKey",this.s),we(o,"appName",this.c),we(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=at.app(this.c).auth().la()}catch{f=null}u.ob=f,we(o,"providerId",this.a.providerId),f=this.a,u=Ub(f.Ib);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=ke(u);for(var g=0;g<p.length;g++){var _=p[g];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),_e(u)||we(o,"customParameters",$u(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&we(o,"scopes",f.join(","))),this.l?we(o,"redirectUrl",this.l):Gr(o.b,"redirectUrl"),this.g?we(o,"eventId",this.g):Gr(o.b,"eventId"),this.i?we(o,"v",this.i):Gr(o.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!cr(o,w)&&we(o,w,this.b[w]);return this.h?we(o,"tid",this.h):Gr(o.b,"tid"),this.f?we(o,"eid",this.f):Gr(o.b,"eid"),w=zv(this.c),w.length&&we(o,"fw",w.join(",")),o.toString()};function zv(o){try{return at.app(o).auth().Ga()}catch{return[]}}function KE(o,u,f,p,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function QE(o){var u=Wu();return jD(o).then(function(f){t:{var p=Un(u),g=p.c;p=p.a;for(var _=0;_<f.length;_++){var w=f[_],T=p,M=g;if(w.indexOf("chrome-extension://")==0?T=Un(w).a==T&&M=="chrome-extension":M!="http"&&M!="https"?T=!1:Vk.test(w)?T=T==w:(w=w.split(".").join("\\."),T=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(T)),T){f=!0;break t}}f=!1}if(!f)throw new Tv(Wu())})}function YE(o){return o.m||(o.m=hf().then(function(){if(!o.u){var u=o.c,f=o.i,p=zv(o.b),g=new zE(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=z(p||[]),o.u=g.toString()}o.v=new bL(o.u),RL(o)})),o.m}e=KE.prototype,e.Ob=function(o,u,f){var p=new O("popup-closed-by-user"),g=new O("web-storage-unsupported"),_=this,w=!1;return this.ma().then(function(){OL(_).then(function(T){T||(o&&Go(o),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return jk(o)}).then(function(){if(!w)return Qs(f).then(function(){u(p)})})},e.Xb=function(){var o=en();return!Gu(o)&&!jb(o)},e.Tb=function(){return!1},e.Mb=function(o,u,f,p,g,_,w,T){if(!o)return se(new O("popup-blocked"));if(w&&!Gu())return this.ma().o(function(q){Go(o),g(q)}),p(),gt();this.a||(this.a=QE(XE(this)));var M=this;return this.a.then(function(){var q=M.ma().o(function(bt){throw Go(o),g(bt),bt});return p(),q}).then(function(){if(Ev(f),!w){var q=uc(M.s,M.g,M.b,u,f,null,_,M.c,void 0,M.i,T,M.f);xb(q,o)}}).o(function(q){throw q.code=="auth/network-request-failed"&&(M.a=null),q})};function XE(o){return o.l||(o.C=o.c?Zs(o.c,zv(o.b)):null,o.l=new Ir(o.g,ie(o.i),o.C),o.f&&oa(o.l,o.f)),o.l}e.Nb=function(o,u,f,p){this.a||(this.a=QE(XE(this)));var g=this;return this.a.then(function(){Ev(u);var _=uc(g.s,g.g,g.b,o,u,Wu(),f,g.c,void 0,g.i,p,g.f);xb(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},e.ma=function(){var o=this;return YE(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new O("network-request-failed")})},e.$b=function(){return!0};function uc(o,u,f,p,g,_,w,T,M,q,bt,$t){return o=new $v(o,u,f,p,g,$t),o.l=_,o.g=w,o.i=T,o.b=ke(M||null),o.f=q,o.yb(bt).toString()}function RL(o){if(!o.v)throw Error("IfcHandler must be initialized!");TL(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=wE(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",gt(f)}return f.status="ERROR",gt(f)})}function OL(o){var u={type:"webStorageSupport"};return YE(o).then(function(){return IL(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){B(this.h,function(u){return u==o})};function JE(o){if(this.a=o||at.INTERNAL.reactNative&&at.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=JE.prototype,e.get=function(o){return gt(this.a.getItem(o)).then(function(u){return u&&ea(u)})},e.set=function(o,u){return gt(this.a.setItem(o,$u(u)))},e.U=function(o){return gt(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function ZE(o){this.b=o,this.a={},this.f=U(this.c,this)}var tI=[];function xL(){var o=br()?self:null;if(H(tI,function(f){f.b==o&&(u=f)}),!u){var u=new ZE(o);tI.push(u)}return u}ZE.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];H(p,function(_){g.push(gt().then(function(){return _(o.origin,o.data.data)}))}),ib(g).then(function(_){var w=[];H(_,function(T){w.push({fulfilled:T.Pb,value:T.value,reason:T.reason?T.reason.message:void 0})}),H(w,function(T){for(var M in T)typeof T[M]>"u"&&delete T[M]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:w})})}};function eI(o,u,f){_e(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function nI(o){this.a=o}nI.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function rI(o){this.c=o,this.b=!1,this.a=[]}function iI(o,u,f,p){var g,_=f||{},w,T,M,q=null;if(o.b)return se(Error("connection_unavailable"));var bt=p?800:50,$t=typeof MessageChannel<"u"?new MessageChannel:null;return new xt(function(Bt,$e){$t?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),$t.port1.start(),T=setTimeout(function(){$e(Error("unsupported_event"))},bt),w=function(Ii){Ii.data.eventId===g&&(Ii.data.status==="ack"?(clearTimeout(T),M=setTimeout(function(){$e(Error("timeout"))},3e3)):Ii.data.status==="done"?(clearTimeout(M),typeof Ii.data.response<"u"?Bt(Ii.data.response):$e(Error("unknown_error"))):(clearTimeout(T),clearTimeout(M),$e(Error("invalid_response"))))},q={messageChannel:$t,onMessage:w},o.a.push(q),$t.port1.addEventListener("message",w),o.c.postMessage({eventType:u,eventId:g,data:_},[$t.port2])):$e(Error("connection_unavailable"))}).then(function(Bt){return Kv(o,q),Bt}).o(function(Bt){throw Kv(o,q),Bt})}function Kv(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),B(o.a,function(g){return g==u})}}rI.prototype.close=function(){for(;0<this.a.length;)Kv(this,this.a[0]);this.b=!0};function oI(){if(!Xv())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;br()&&self?(this.v=xL(),eI(this.v,"keyChanged",function(u,f){return uI(o).then(function(p){return 0<p.length&&H(o.a,function(g){g(p)}),{keyProcessed:L(p,f.key)}})}),eI(this.v,"ping",function(){return gt(["keyChanged"])})):$k().then(function(u){(o.h=u)&&(o.g=new rI(new nI(u)),iI(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&L(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Qv;function PL(o){return new xt(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){f(Error(g.target.error))}})}function sI(o){return new xt(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):PL(o).then(function(){return sI(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function Yv(o){return o.i||(o.i=sI(o)),o.i}function Mf(o,u){function f(g,_){Yv(o).then(u).then(g).o(function(w){if(3<++p)_(w);else return Yv(o).then(function(T){return T.close(),o.i=void 0,f(g,_)}).o(function(T){_(T)})})}var p=0;return new xt(f)}function Xv(){try{return!!l.indexedDB}catch{return!1}}function cc(o){return o.objectStore("firebaseLocalStorage")}function lc(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function sa(o){return new xt(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=oI.prototype,e.set=function(o,u){var f=this,p=!1;return Mf(this,function(g){return g=cc(lc(g,!0)),sa(g.get(o))}).then(function(g){return Mf(f,function(_){if(_=cc(lc(_,!0)),g)return g.value=u,sa(_.put(g));f.b++,p=!0;var w={};return w.fbase_key=o,w.value=u,sa(_.add(w))})}).then(function(){return f.c[o]=u,aI(f,o)}).oa(function(){p&&f.b--})};function aI(o,u){return o.g&&o.h&&Gk()===o.h?iI(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):gt()}e.get=function(o){return Mf(this,function(u){return sa(cc(lc(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return Mf(this,function(p){return f=!0,u.b++,sa(cc(lc(p,!0)).delete(o))}).then(function(){return delete u.c[o],aI(u,o)}).oa(function(){f&&u.b--})};function uI(o){return Yv(o).then(function(u){var f=cc(lc(u,!1));return f.getAll?sa(f.getAll()):new xt(function(p,g){var _=[],w=f.openCursor();w.onsuccess=function(T){(T=T.target.result)?(_.push(T.value),T.continue()):p(_)},w.onerror=function(T){g(T.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=Pb(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&kL(this),this.a.push(o)},e.ia=function(o){B(this.a,function(u){return u==o}),this.a.length==0&&cI(this)};function kL(o){function u(){o.f=setTimeout(function(){o.l=uI(o).then(function(f){0<f.length&&H(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}cI(o),u()}function cI(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function lI(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=gt().then(function(){if(Xv()){var p=zo(),g="__sak"+p;return Qv||(Qv=new oI),f=Qv,f.set(g,p).then(function(){return f.get(g)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){H(u.a,function(_){_(g)})}),p})}e=lI.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){B(this.a,function(u){return u==o})};function fc(){this.a={},this.type="inMemory"}e=fc.prototype,e.get=function(o){return gt(this.a[o])},e.set=function(o,u){return this.a[o]=u,gt()},e.U=function(o){return delete this.a[o],gt()},e.ca=function(){},e.ia=function(){};function Ff(){if(!DL())throw $r()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=fI()||at.INTERNAL.node.localStorage,this.type="localStorage"}function fI(){try{var o=l.localStorage,u=zo();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function DL(){var o=$r()=="Node";if(o=fI()||o&&at.INTERNAL.node&&at.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Ff.prototype,e.get=function(o){var u=this;return gt().then(function(){var f=u.a.getItem(o);return ea(f)})},e.set=function(o,u){var f=this;return gt().then(function(){var p=$u(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return gt().then(function(){u.a.removeItem(o)})},e.ca=function(o){l.window&&ur(l.window,"storage",o)},e.ia=function(o){l.window&&Qn(l.window,"storage",o)};function Jv(){this.type="nullStorage"}e=Jv.prototype,e.get=function(){return gt(null)},e.set=function(){return gt()},e.U=function(){return gt()},e.ca=function(){},e.ia=function(){};function Zv(){if(!LL())throw $r()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=hI()||at.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function hI(){try{var o=l.sessionStorage,u=zo();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function LL(){var o=$r()=="Node";if(o=hI()||o&&at.INTERNAL.node&&at.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Zv.prototype,e.get=function(o){var u=this;return gt().then(function(){var f=u.a.getItem(o);return ea(f)})},e.set=function(o,u){var f=this;return gt().then(function(){var p=$u(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return gt().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function ML(){var o={};o.Browser=FL,o.Node=UL,o.ReactNative=jL,o.Worker=VL,this.a=o[$r()]}var tg,FL={F:Ff,bb:Zv},UL={F:Ff,bb:Zv},jL={F:JE,bb:Jv},VL={F:Ff,bb:Jv},aa={rd:"local",NONE:"none",td:"session"};function BL(o){var u=new O("invalid-persistence-type"),f=new O("unsupported-persistence-type");t:{for(p in aa)if(aa[p]==o){var p=!0;break t}p=!1}if(!p||typeof o!="string")throw u;switch($r()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!Xv()&&o!=="none")throw f;break;default:if(!tv()&&o!=="none")throw f}}function pI(){var o=!!(!jb(en())&&Jd()),u=Gu(),f=tv();this.m=o,this.h=u,this.l=f,this.a={},tg||(tg=new ML),o=tg;try{this.g=!Yd()&&Bb()||!l.indexedDB?new o.a.F:new lI(br()?new fc:new o.a.F)}catch{this.g=new fc,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new fc}this.v=new fc,this.f=U(this.Yb,this),this.b={}}var eg;function hc(){return eg||(eg=new pI),eg}function es(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function ua(o,u){return"firebase:"+o.name+(u?":"+u:"")}function qL(o,u,f){var p=ua(u,f),g=es(o,u.F);return o.get(u,f).then(function(_){var w=null;try{w=ea(l.localStorage.getItem(p))}catch{}if(w&&!_)return l.localStorage.removeItem(p),o.set(u,w,f);w&&_&&g.type!="localStorage"&&l.localStorage.removeItem(p)})}e=pI.prototype,e.get=function(o,u){return es(this,o.F).get(ua(o,u))};function ca(o,u,f){return f=ua(u,f),u.F=="local"&&(o.b[f]=null),es(o,u.F).U(f)}e.set=function(o,u,f){var p=ua(o,f),g=this,_=es(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(w){o.F=="local"&&(g.b[p]=w)})},e.addListener=function(o,u,f){o=ua(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),_e(this.a)&&(es(this,"local").ca(this.f),this.h||(Yd()||!Bb())&&l.indexedDB||!this.l||HL(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=ua(o,u),this.a[o]&&(B(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),_e(this.a)&&(es(this,"local").ia(this.f),ng(this))};function HL(o){ng(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new qo({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Yb(f))}},1e3)}function ng(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var g=l.localStorage.getItem(f);g!==p&&(this.b[f]=g,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?es(this,"local").ia(this.f):ng(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.mb(u))},wr&&zi&&zi==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else H(o,U(this.mb,this))},e.mb=function(o){this.a[o]&&H(this.a[o],function(u){u()})};function WL(o){this.a=o,this.b=hc()}var rg={name:"authEvent",F:"local"};function GL(o){return o.b.get(rg,o.a).then(function(u){return wE(u)})}function $L(){this.a=hc()}function zL(){this.b=-1}function Uf(o,u){this.b=dI,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),jf===void 0&&(l.Int32Array?jf=new Int32Array(mI):jf=mI),this.reset()}var jf;lt(Uf,zL);for(var dI=64,KL=dI-1,vI=[],ig=0;ig<KL;ig++)vI[ig]=0;var gI=tt(128,vI);Uf.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):z(this.h)};function og(o){for(var u=o.f,f=o.l,p=0,g=0;g<u.length;)f[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+w|0}p=o.a[0]|0,g=o.a[1]|0;var T=o.a[2]|0,M=o.a[3]|0,q=o.a[4]|0,bt=o.a[5]|0,$t=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Bt=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&T^g&T)|0;w=q&bt^~q&$t,_=_+((q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7))|0,w=w+(jf[u]|0)|0,w=_+(w+(f[u]|0)|0)|0,_=$t,$t=bt,bt=q,q=M+w|0,M=T,T=g,g=p,p=w+Bt|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+T|0,o.a[3]=o.a[3]+M|0,o.a[4]=o.a[4]+q|0,o.a[5]=o.a[5]+bt|0,o.a[6]=o.a[6]+$t|0,o.a[7]=o.a[7]+_|0}function sg(o,u,f){f===void 0&&(f=u.length);var p=0,g=o.c;if(typeof u=="string")for(;p<f;)o.f[g++]=u.charCodeAt(p++),g==o.b&&(og(o),g=0);else if(b(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(og(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var mI=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function yI(){Uf.call(this,8,QL)}lt(yI,Uf);var QL=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function _I(o,u,f,p,g,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new $L,this.g=new WL(this.h),this.f=null,this.b=[],this.a=this.c=null}function Vf(o){return new O("invalid-cordova-configuration",o)}e=_I.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=qk().then(function(){if(typeof ae("universalLinks.subscribe",l)!="function")throw Vf("cordova-universal-links-plugin-fix is not installed");if(typeof ae("BuildInfo.packageName",l)>"u")throw Vf("cordova-plugin-buildinfo is not installed");if(typeof ae("cordova.plugins.browsertab.openUrl",l)!="function")throw Vf("cordova-plugin-browsertab is not installed");if(typeof ae("cordova.InAppBrowser.open",l)!="function")throw Vf("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function YL(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function XL(o){var u=new yI;sg(u,o),o=[];var f=8*u.g;56>u.c?sg(u,gI,56-u.c):sg(u,gI,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(og(u),p=f=0;p<u.i;p++)for(var g=24;0<=g;g-=8)o[f++]=u.a[p]>>g&255;return uD(o)}e.Ob=function(o,u){return u(new O("operation-not-supported-in-this-environment")),gt()},e.Mb=function(){return se(new O("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,f,p){if(this.c)return se(new O("redirect-operation-pending"));var g=this,_=l.document,w=null,T=null,M=null,q=null;return this.c=gt().then(function(){return Ev(u),bI(g)}).then(function(){return JL(g,o,u,f,p)}).then(function(){return new xt(function(bt,$t){T=function(){var Bt=ae("cordova.plugins.browsertab.close",l);return bt(),typeof Bt=="function"&&Bt(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(T),M=function(){w||(w=Qs(2e3).then(function(){$t(new O("redirect-cancelled-by-user"))}))},q=function(){ev()&&M()},_.addEventListener("resume",M,!1),en().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",q,!1)}).o(function(bt){return ag(g).then(function(){throw bt})})}).oa(function(){M&&_.removeEventListener("resume",M,!1),q&&_.removeEventListener("visibilitychange",q,!1),w&&w.cancel(),T&&g.Sa(T),g.c=null})};function JL(o,u,f,p,g){var _=YL(),w=new Er(u,p,null,_,new O("no-auth-event"),null,g),T=ae("BuildInfo.packageName",l);if(typeof T!="string")throw new O("invalid-cordova-configuration");var M=ae("BuildInfo.displayName",l),q={};if(en().toLowerCase().match(/iphone|ipad|ipod/))q.ibi=T;else if(en().toLowerCase().match(/android/))q.apn=T;else return se(new O("operation-not-supported-in-this-environment"));M&&(q.appDisplayName=M),_=XL(_),q.sessionId=_;var bt=uc(o.v,o.i,o.l,u,f,null,p,o.m,q,o.u,g,o.s);return o.ma().then(function(){var $t=o.h;return o.C.a.set(rg,w.w(),$t)}).then(function(){var $t=ae("cordova.plugins.browsertab.isAvailable",l);if(typeof $t!="function")throw new O("invalid-cordova-configuration");var Bt=null;$t(function($e){if($e){if(Bt=ae("cordova.plugins.browsertab.openUrl",l),typeof Bt!="function")throw new O("invalid-cordova-configuration");Bt(bt)}else{if(Bt=ae("cordova.InAppBrowser.open",l),typeof Bt!="function")throw new O("invalid-cordova-configuration");$e=en(),o.a=Bt(bt,$e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||$e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function wI(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function bI(o){return o.f||(o.f=o.ma().then(function(){return new xt(function(u){function f(p){return u(p),o.Sa(f),!1}o.Ea(f),ZL(o)})})),o.f}function ag(o){var u=null;return GL(o.g).then(function(f){return u=f,f=o.g,ca(f.b,rg,f.a)}).then(function(){return u})}function ZL(o){function u(w){p=!0,g&&g.cancel(),ag(o).then(function(T){var M=f;if(T&&w&&w.url){var q=null;M=hE(w.url),M.indexOf("/__/auth/callback")!=-1&&(q=Un(M),q=ea(cr(q,"firebaseError")||null),q=(q=typeof q=="object"?qr(q):null)?new Er(T.c,T.b,null,null,q,null,T.T()):new Er(T.c,T.b,M,T.f,null,null,T.T())),M=q||f}wI(o,M)})}var f=new Er("unknown",null,null,null,new O("no-auth-event")),p=!1,g=Qs(500).then(function(){return ag(o).then(function(){p||wI(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(w){if(w.toLowerCase().indexOf(ae("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:w}),typeof _=="function")try{_(w)}catch(T){console.error(T)}},Iv||(Iv=new gD),mD(u)}e.Ea=function(o){this.b.push(o),bI(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Er("unknown",null,null,null,new O("no-auth-event")),o(u))})},e.Sa=function(o){B(this.b,function(u){return u==o})};function tM(o){this.a=o,this.b=hc()}var ug={name:"pendingRedirect",F:"session"};function eM(o){return o.b.set(ug,"pending",o.a)}function cg(o){return ca(o.b,ug,o.a)}function nM(o){return o.b.get(ug,o.a).then(function(u){return u=="pending"})}function Bf(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=U(this.s,this),this.b=new qf,this.C=new kI,this.g=new tM(RI(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=EI(this.D,this.v,this.m,Ft,this.J)}function EI(o,u,f,p,g){var _=at.SDK_VERSION||null;return Xd()?new _I(o,u,f,_,p,g):new KE(o,u,f,_,p,g)}Bf.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=EI(this.D,this.v,this.m,null,this.J),this.i={}};function II(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function TI(o){o.a.Xb()&&II(o).o(function(u){var f=new Er("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));fg(u)&&o.s(f)}),o.a.Tb()||xI(o.b)}function lg(o,u){L(o.h,u)||o.h.push(u),o.f||nM(o.g).then(function(f){f?cg(o.g).then(function(){II(o).o(function(p){var g=new Er("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));fg(p)&&o.s(g)})}):TI(o)}).o(function(){TI(o)})}function SI(o,u){B(o.h,function(f){return f==u})}Bf.prototype.s=function(o){if(!o)throw new O("invalid-auth-event");if(6e5<=Gt()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Gt())),u=!0;break}}return xI(this.b),u};var rM=new Yi(2e3,1e4),iM=new Yi(3e4,6e4);Bf.prototype.qa=function(){return this.b.qa()};function AI(o,u,f,p,g,_,w){return o.a.Mb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,w)}function fg(o){return!!(o&&o.code=="auth/cordova-not-ready")}function CI(o,u,f,p,g){var _;return eM(o.g).then(function(){return o.a.Nb(u,f,p,g).o(function(w){if(fg(w))throw new O("operation-not-supported-in-this-environment");return _=w,cg(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new xt(function(){}):cg(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function NI(o,u,f,p,g){return o.a.Ob(p,function(_){u.na(f,null,_,g)},rM.get())}var hg={};function RI(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function OI(o,u,f,p){var g=RI(u,f,p);return hg[g]||(hg[g]=new Bf(o,u,f,p)),hg[g]}function qf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}qf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qf.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?(ns(this,!0,null,o.a),gt()):u.Fa(f,p)?oM(this,o,u):se(new O("invalid-auth-event")):(ns(this,!1,null,null),gt())}else se(new O("invalid-auth-event"))};function xI(o){o.g||(o.g=!0,ns(o,!1,null,null))}function Hf(o){o.g&&!o.i&&ns(o,!1,null,null)}function oM(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,g=u.f,_=u.i,w=u.T(),T=!!u.c.match(/Redirect$/);f(p,g,w,_).then(function(M){ns(o,T,M,null)}).o(function(M){ns(o,T,null,M)})}function sM(o,u){if(o.b=function(){return se(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function PI(o,u){if(o.b=function(){return gt(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function ns(o,u,f,p){u?p?sM(o,p):PI(o,f):PI(o,{user:null}),o.f=[],o.c=[]}qf.prototype.qa=function(){var o=this;return new xt(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),aM(o))})};function aM(o){var u=new O("timeout");o.a&&o.a.cancel(),o.a=Qs(iM.get()).then(function(){o.b||(o.g=!0,ns(o,!0,null,u))})}function kI(){}kI.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),gt()):u.Fa(f,p)?uM(o,u):se(new O("invalid-auth-event"))}else se(new O("invalid-auth-event"))};function uM(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(p,g,null,f)}).o(function(g){u.na(p,null,g,f)})}function DI(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function pg(o,u){this.a=u,ot(this,"verificationId",o)}pg.prototype.confirm=function(o){return o=_E(this.verificationId,o),this.a(o)};function dg(o,u,f,p){return new bi(o).fb(u,f).then(function(g){return new pg(g,p)})}function cM(o){var u=iE(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");En(this,{token:o,expirationTime:zu(1e3*u.exp),authTime:zu(1e3*u.auth_time),issuedAtTime:zu(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function vg(o,u,f){var p=u&&u[MI];if(!p)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=ke(u),this.g=f,this.c=new wf(null,p),this.b=[];var g=this;H(u[LI]||[],function(_){(_=av(_))&&g.b.push(_)}),ot(this,"auth",this.a),ot(this,"session",this.c),ot(this,"hints",this.b)}var LI="mfaInfo",MI="mfaPendingCredential";vg.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var p=ke(u.f);return delete p[LI],delete p[MI],Ln(p,f),u.g(p)})};function gg(o,u,f,p){O.call(this,"multi-factor-auth-required",p,u),this.b=new vg(o,u,f),ot(this,"resolver",this.b)}lt(gg,O);function FI(o,u,f){if(o&&I(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new gg(u,o.serverResponse,f,o.message)}catch{}return null}function UI(){}UI.prototype.sb=function(o,u,f){return u.type==Xu?lM(this,o,u,f):fM(this,o,u)};function lM(o,u,f,p){return f.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),Ln(g,{phoneVerificationInfo:Ju(o.a)}),Pt(u,ZD,g)})}function fM(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},Ln(p,{phoneVerificationInfo:Ju(o.a)}),Pt(u,tL,p)})}function mg(o){ot(this,"factorId",o.fa),this.a=o}lt(mg,UI);function jI(o){if(mg.call(this,o),this.a.fa!=bi.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}lt(jI,mg);function la(o,u){Fn.call(this,o);for(var f in u)this[f]=u[f]}lt(la,Fn);function yg(o,u){this.a=o,this.b=[],this.c=U(this.yc,this),ur(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&H(u.multiFactor.enrolledFactors,function(p){var g=null,_={};if(p){p.uid&&(_[cv]=p.uid),p.displayName&&(_[Hb]=p.displayName),p.enrollmentTime&&(_[uv]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[lv]=p.phoneNumber);try{g=new Ku(_)}catch{}p=g}else p=null;p&&f.push(p)}),Wf(this,f)}function hM(o){var u=[];return H(o.mfaInfo||[],function(f){(f=av(f))&&u.push(f)}),u}e=yg.prototype,e.yc=function(o){Wf(this,hM(o.hd))};function Wf(o,u){o.b=u,ot(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new wf(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Rb().then(function(g){return o.sb(p,g,u)}).then(function(g){return Qr(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(g){return Pt(p,wL,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=Vt(u.b,function(w){return w.uid!=f});return Wf(u,_),Qr(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:S(this.b,function(o){return o.w()})}}};function _g(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}_g.prototype.start=function(){this.a=this.c,wg(this,!0)};function pM(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function wg(o,u){o.stop(),o.b=Qs(pM(o,u)).then(function(){return Wk()}).then(function(){return o.h()}).then(function(){wg(o,!0)}).o(function(f){o.i(f)&&wg(o,!1)})}_g.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function bg(o){this.f=o,this.b=this.a=null,this.c=Date.now()}bg.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function VI(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function BI(o,u){o.b=yf(u[Tr]||""),o.a=u.refreshToken,u=u.expiresIn,VI(o,typeof u<"u"?Number(u):void 0)}function dM(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function vM(o,u){return FD(o.f,u).then(function(f){return o.b=yf(f.access_token),o.a=f.refresh_token,VI(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}bg.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?se(new O("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?vM(this,{grant_type:"refresh_token",refresh_token:this.a}):gt(null):gt({accessToken:this.b.toString(),refreshToken:this.a})};function Gf(o,u){this.a=o||null,this.b=u||null,En(this,{lastSignInTime:zu(u||null),creationTime:zu(o||null)})}function gM(o){return new Gf(o.a,o.b)}Gf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function mM(o,u,f,p,g,_){En(this,{uid:o,displayName:p||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function Xn(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=at.SDK_VERSION?Zs(at.SDK_VERSION):null;this.a=new Ir(this.l,ie(Ft),p),o.emulatorConfig&&oa(this.a,o.emulatorConfig),this.b=new bg(this.a),Cg(this,u[Tr]),BI(this.b,u),ot(this,"refreshToken",this.b.a),HI(this,f||{}),bn.call(this),this.R=!1,this.s&&$o()&&(this.i=OI(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=yM(this),this.aa=U(this.hb,this);var g=this;this.ya=null,this.Oa=function(_){g.wa(_.h)},this.ja=null,this.Aa=function(_){oa(g.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){pc(g,_.f)},this.ba=null,this.O=new yg(this,f),ot(this,"multiFactor",this.O)}lt(Xn,bn),Xn.prototype.wa=function(o){this.ya=o,LE(this.a,o)},Xn.prototype.la=function(){return this.ya};function Eg(o,u){o.ja&&Qn(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&ur(u,"languageCodeChanged",o.Oa)}function Ig(o,u){o.X&&Qn(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&ur(u,"emulatorConfigChanged",o.Aa)}function pc(o,u){o.$=u,ME(o.a,at.SDK_VERSION?Zs(at.SDK_VERSION,o.$):null)}Xn.prototype.Ga=function(){return z(this.$)};function Tg(o,u){o.ba&&Qn(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&ur(u,"frameworkChanged",o.Ba)}Xn.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Sg(o){try{return at.app(o.m).auth()}catch{throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function yM(o){return new _g(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function qI(o){o.D||o.u.b||(o.u.start(),Qn(o,"tokenChanged",o.aa),ur(o,"tokenChanged",o.aa))}function Ag(o){Qn(o,"tokenChanged",o.aa),o.u.stop()}function Cg(o,u){o.za=u,ot(o,"_lat",u)}function _M(o,u){B(o.S,function(f){return f==u})}function rs(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return ib(u).then(function(){return o})}function dc(o){o.i&&!o.R&&(o.R=!0,lg(o.i,o))}function HI(o,u){En(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Gf(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ot(Xn.prototype,"providerId","firebase");function WI(){}function Ng(o){return gt().then(function(){if(o.D)throw new O("app-deleted")})}function Rg(o){return S(o.providerData,function(u){return u.providerId})}function Og(o,u){u&&(GI(o,u.providerId),o.providerData.push(u))}function GI(o,u){B(o.providerData,function(f){return f.providerId==u})}function Zi(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ot(o,u,f)}function $f(o,u){o!=u&&(En(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ot(o,"metadata",gM(u.metadata)):ot(o,"metadata",new Gf),H(u.providerData,function(f){Og(o,f)}),dM(o.b,u.b),ot(o,"refreshToken",o.b.a),Wf(o.O,u.O.b))}e=Xn.prototype,e.reload=function(){var o=this;return De(this,Ng(this).then(function(){return xg(o).then(function(){return rs(o)}).then(WI)}))};function xg(o){return o.I().then(function(u){var f=o.isAnonymous;return wM(o,u).then(function(){return f||Zi(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new cM(u)})},e.I=function(o){var u=this;return De(this,Ng(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new O("internal-error");return f.accessToken!=u.za&&(Cg(u,f.accessToken),u.dispatchEvent(new la("tokenChanged"))),Zi(u,"refreshToken",f.refreshToken),f.accessToken}))};function Qr(o,u){u[Tr]&&o.za!=u[Tr]&&(BI(o.b,u),o.dispatchEvent(new la("tokenChanged")),Cg(o,u[Tr]),Zi(o,"refreshToken",o.b.a))}function wM(o,u){return Pt(o.a,eL,{idToken:u}).then(U(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new O("internal-error");o=o[0],HI(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=bM(o),f=0;f<u.length;f++)Og(this,u[f]);Zi(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new la("userReloaded",{hd:o}))};function bM(o){return(o=o.providerUserInfo)&&o.length?S(o,function(u){return new mM(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return nv("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,f=null;return De(this,o.c(this.a,this.uid).then(function(p){return Qr(u,p),f=vc(u,p,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function zf(o,u){return xg(o).then(function(){if(L(Rg(o),u))return rs(o).then(function(){throw new O("provider-already-linked")})})}e.Cc=function(o){return nv("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,f=null;return De(this,zf(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=vc(u,p,"link"),$I(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return De(this,zf(this,"phone").then(function(){return dg(Sg(f),o,u,U(f.qb,f))}))},e.Mc=function(o,u){var f=this;return De(this,gt().then(function(){return dg(Sg(f),o,u,U(f.tb,f))}),!0)};function vc(o,u,f){var p=bv(u);return u=sE(u),zr({user:o,credential:p,additionalUserInfo:u,operationType:f})}function $I(o,u){return Qr(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return De(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return Qr(u,f),u.reload()}))},e.ed=function(o){var u=this;return De(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Qr(u,f),u.reload()}))},e.Cb=function(o){var u=this;return De(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Qr(u,f),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Ng(this);var u=this;return De(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Qr(u,f),Zi(u,"displayName",f.displayName||null),Zi(u,"photoURL",f.photoUrl||null),H(u.providerData,function(p){p.providerId==="password"&&(ot(p,"displayName",u.displayName),ot(p,"photoURL",u.photoURL))}),rs(u)}).then(WI))},e.cd=function(o){var u=this;return De(this,xg(this).then(function(f){return L(Rg(u),o)?WD(u.a,f,[o]).then(function(p){var g={};return H(p.providerUserInfo||[],function(_){g[_.providerId]=!0}),H(Rg(u),function(_){g[_]||GI(u,_)}),g[bi.PROVIDER_ID]||ot(u,"phoneNumber",null),rs(u)}):rs(u).then(function(){throw new O("no-such-provider")})}))},e.delete=function(){var o=this;return De(this,this.I().then(function(u){return Pt(o.a,QD,{idToken:u})}).then(function(){o.dispatchEvent(new la("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");Eg(o,null),Ig(o,null),Tg(o,null),o.J=[],o.D=!0,Ag(o),ot(o,"refreshToken",null),o.i&&SI(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?U(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?U(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?U(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?U(this.Lb,this):null},e.Ec=function(o){var u=this;return zI(this,"linkViaPopup",o,function(){return zf(u,o.providerId).then(function(){return rs(u)})},!1)},e.Nc=function(o){return zI(this,"reauthViaPopup",o,function(){return gt()},!0)};function zI(o,u,f,p,g){if(!$o())return se(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return se(o.h);var _=vv(f.providerId),w=zo(o.uid+":::"),T=null;(!Gu()||Jd())&&o.s&&f.isOAuthProvider&&(T=uc(o.s,o.l,o.m,u,f,null,w,at.SDK_VERSION||null,null,null,o.tenantId));var M=Db(T,_&&_.ua,_&&_.ta);return p=p().then(function(){if(QI(o),!g)return o.I().then(function(){})}).then(function(){return AI(o.i,M,u,f,w,!!T,o.tenantId)}).then(function(){return new xt(function(q,bt){o.na(u,null,new O("cancelled-popup-request"),o.g||null),o.f=q,o.C=bt,o.g=w,o.c=NI(o.i,o,u,M,w)})}).then(function(q){return M&&Go(M),q?zr(q):null}).o(function(q){throw M&&Go(M),q}),De(o,p,g)}e.Fc=function(o){var u=this;return KI(this,"linkViaRedirect",o,function(){return zf(u,o.providerId)},!1)},e.Oc=function(o){return KI(this,"reauthViaRedirect",o,function(){return gt()},!0)};function KI(o,u,f,p,g){if(!$o())return se(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return se(o.h);var _=null,w=zo(o.uid+":::");return p=p().then(function(){if(QI(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=w,rs(o)}).then(function(T){return o.ha&&(T=o.ha,T=T.b.set(Pg,o.w(),T.a)),T}).then(function(){return CI(o.i,u,f,w,o.tenantId)}).o(function(T){if(_=T,o.ha)return XI(o.ha);throw _}).then(function(){if(_)throw _}),De(o,p,g)}function QI(o){if(!o.i||!o.R)throw o.i&&!o.R?new O("internal-error"):new O("auth-domain-config-required")}e.Kb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(w){return qv(g.a,{requestUri:o,postBody:p,sessionId:u,idToken:w})}).then(function(w){return _=vc(g,w,"link"),$I(g,w)}).then(function(){return _}),De(this,f)},e.Lb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,w=gt().then(function(){return ra(Hv(g.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),g.uid)}).then(function(T){return _=vc(g,T,"reauthenticate"),Qr(g,T),g.h=null,g.reload()}).then(function(){return _});return De(this,w,!0)},e.ub=function(o){var u=this,f=null;return De(this,this.I().then(function(p){return f=p,typeof o>"u"||_e(o)?{}:gf(new vf(o))}).then(function(p){return u.a.ub(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var f=this,p=null;return De(this,this.I().then(function(g){return p=g,typeof u>"u"||_e(u)?{}:gf(new vf(u))}).then(function(g){return f.a.Eb(p,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function De(o,u,f){var p=EM(o,u,f);return o.J.push(p),p.oa(function(){V(o.J,p)}),p.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=FI(g.w(),Sg(o),U(o.jc,o))),_||g})}e.jc=function(o){var u=null,f=this;return o=ra(gt(o),f.uid).then(function(p){return u=vc(f,p,"reauthenticate"),Qr(f,p),f.h=null,f.reload()}).then(function(){return u}),De(this,o,!0)};function EM(o,u,f){return o.h&&!f?(u.cancel(),se(o.h)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new la("userInvalidated")),o.h=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Ln(o,this.metadata.w()),H(this.providerData,function(u){o.providerData.push(zk(u))}),Ln(o,this.O.w()),o};function YI(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Tr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var g=new Xn(u,f,o);return o.providerData&&H(o.providerData,function(_){_&&Og(g,zr(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function IM(o,u,f,p){var g=new Xn(o,u);return f&&(g.ha=f),p&&pc(g,p),g.reload().then(function(){return g})}function TM(o,u,f,p){var g=o.b,_={};return _[Tr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new Xn(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&pc(u,p),$f(u,o),u}function SM(o){this.a=o,this.b=hc()}var Pg={name:"redirectUser",F:"session"};function XI(o){return ca(o.b,Pg,o.a)}function AM(o,u){return o.b.get(Pg,o.a).then(function(f){return f&&u&&(f.authDomain=u),YI(f||{})})}function kg(o){this.a=o,this.b=hc(),this.c=null,this.f=CM(this),this.b.addListener(Yr("local"),this.a,U(this.g,this))}kg.prototype.g=function(){var o=this,u=Yr("local");fa(this,function(){return gt().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return Dg(o,"local").then(function(){o.c=u})})})};function Dg(o,u){var f=[],p;for(p in aa)aa[p]!==u&&f.push(ca(o.b,Yr(aa[p]),o.a));return f.push(ca(o.b,Lg,o.a)),gk(f)}function CM(o){var u=Yr("local"),f=Yr("session"),p=Yr("none");return qL(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(w){return w?u:o.b.get(Lg,o.a).then(function(T){return T?Yr(T):u})})})}).then(function(g){return o.c=g,Dg(o,g.F)}).o(function(){o.c||(o.c=u)})}var Lg={name:"persistence",F:"session"};function Yr(o){return{name:"authUser",F:o}}kg.prototype.xb=function(o){var u=null,f=this;return BL(o),fa(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,Dg(f,o)}).then(function(){if(f.c=Yr(o),u)return f.b.set(f.c,u,f.a)}):gt()})};function NM(o){return fa(o,function(){return o.b.set(Lg,o.c.F,o.a)})}function JI(o,u){return fa(o,function(){return o.b.set(o.c,u.w(),o.a)})}function ZI(o){return fa(o,function(){return ca(o.b,o.c,o.a)})}function tT(o,u,f){return fa(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),YI(p||{})})})}function fa(o,u){return o.f=o.f.then(u,u),o.f}function Sr(o){if(this.l=!1,ot(this,"settings",new DI),ot(this,"app",o),Xt(this).options&&Xt(this).options.apiKey)o=at.SDK_VERSION?Zs(at.SDK_VERSION):null,this.a=new Ir(Xt(this).options&&Xt(this).options.apiKey,ie(Ft),o);else throw new O("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=at.INTERNAL.createSubscribe(U(this.zc,this)),this.X=void 0,this.bc=at.INTERNAL.createSubscribe(U(this.Ac,this)),ha(this,null),this.i=new kg(Xt(this).options.apiKey+":"+Xt(this).name),this.D=new SM(Xt(this).options.apiKey+":"+Xt(this).name),this.$=ge(this,DM(this)),this.h=ge(this,LM(this)),this.ba=!1,this.ja=U(this.Zc,this),this.Ba=U(this.da,this),this.ya=U(this.mc,this),this.za=U(this.wc,this),this.Aa=U(this.xc,this),this.b=null,xM(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Gc,this),this.u=0,bn.call(this),OM(this),this.J=[],this.P=null}lt(Sr,bn);function eT(o){Fn.call(this,"languageCodeChanged"),this.h=o}lt(eT,Fn);function nT(o){Fn.call(this,"emulatorConfigChanged"),this.c=o}lt(nT,Fn);function rT(o){Fn.call(this,"frameworkChanged"),this.f=o}lt(rT,Fn),e=Sr.prototype,e.xb=function(o){return o=this.i.xb(o),ge(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,LE(this.a,this.aa),this.dispatchEvent(new eT(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=l.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,RM(u),this.P={url:o,ec:u},this.settings.ib=!0,oa(this.a,this.P),this.dispatchEvent(new nT(this.P))}};function RM(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&hf().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),ME(this.a,at.SDK_VERSION?Zs(at.SDK_VERSION,this.J):null),this.dispatchEvent(new rT(this.J))},e.Ga=function(){return z(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function OM(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=Un(this.P.url);u=zr({protocol:u.c,host:u.a,port:u.g,options:zr({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Xt(this).options.apiKey,authDomain:Xt(this).options.authDomain,appName:Xt(this).name,currentUser:St(this)&&St(this).w()}};function Mg(o){return o.Oa||se(new O("auth-domain-config-required"))}function xM(o){var u=Xt(o).options.authDomain,f=Xt(o).options.apiKey;u&&$o()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=OI(u,f,Xt(o).name,o.P),lg(o.b,o),St(o)&&dc(St(o)),o.m){dc(o.m);var p=o.m;p.wa(o.la()),Eg(p,o),p=o.m,pc(p,o.J),Tg(p,o),p=o.m,oa(p.a,o.P),Ig(p,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?U(this.ic,this):null},e.ic=function(o,u,f,p){var g=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return is(g,Bv(g.a,_))})},e.Xc=function(o){if(!$o())return se(new O("operation-not-supported-in-this-environment"));var u=this,f=vv(o.providerId),p=zo(),g=null;(!Gu()||Jd())&&Xt(this).options.authDomain&&o.isOAuthProvider&&(g=uc(Xt(this).options.authDomain,Xt(this).options.apiKey,Xt(this).name,"signInViaPopup",o,null,p,at.SDK_VERSION||null,null,null,this.T(),this.P));var _=Db(g,f&&f.ua,f&&f.ta);return f=Mg(this).then(function(w){return AI(w,_,"signInViaPopup",o,p,!!g,u.T())}).then(function(){return new xt(function(w,T){u.na("signInViaPopup",null,new O("cancelled-popup-request"),u.g),u.f=w,u.C=T,u.g=p,u.c=NI(u.b,u,"signInViaPopup",_,p)})}).then(function(w){return _&&Go(_),w?zr(w):null}).o(function(w){throw _&&Go(_),w}),ge(this,f)},e.Yc=function(o){if(!$o())return se(new O("operation-not-supported-in-this-environment"));var u=this,f=Mg(this).then(function(){return NM(u.i)}).then(function(){return CI(u.b,"signInViaRedirect",o,void 0,u.T())});return ge(this,f)};function iT(o){if(!$o())return se(new O("operation-not-supported-in-this-environment"));var u=Mg(o).then(function(){return o.b.qa()}).then(function(f){return f?zr(f):null});return ge(o,u)}e.qa=function(){var o=this;return iT(this).then(function(u){return o.b&&Hf(o.b.b),u}).o(function(u){throw o.b&&Hf(o.b.b),u})},e.dd=function(o){if(!o)return se(new O("null-user"));if(this.S!=o.tenantId)return se(new O("tenant-id-mismatch"));var u=this,f={};f.apiKey=Xt(this).options.apiKey,f.authDomain=Xt(this).options.authDomain,f.appName=Xt(this).name;var p=TM(o,f,u.D,u.Ga());return ge(this,this.h.then(function(){if(Xt(u).options.apiKey!=o.l)return p.reload()}).then(function(){return St(u)&&o.uid==St(u).uid?($f(St(u),o),u.da(o)):(ha(u,p),dc(p),u.da(p))}).then(function(){gc(u)}))};function PM(o,u){var f={};return f.apiKey=Xt(o).options.apiKey,f.authDomain=Xt(o).options.authDomain,f.appName=Xt(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return IM(f,u,o.D,o.Ga())}).then(function(p){return St(o)&&p.uid==St(o).uid?($f(St(o),p),o.da(p)):(ha(o,p),dc(p),o.da(p))}).then(function(){gc(o)})}function ha(o,u){St(o)&&(_M(St(o),o.Ba),Qn(St(o),"tokenChanged",o.ya),Qn(St(o),"userDeleted",o.za),Qn(St(o),"userInvalidated",o.Aa),Ag(St(o))),u&&(u.S.push(o.Ba),ur(u,"tokenChanged",o.ya),ur(u,"userDeleted",o.za),ur(u,"userInvalidated",o.Aa),0<o.u&&qI(u)),ot(o,"currentUser",u),u&&(u.wa(o.la()),Eg(u,o),pc(u,o.J),Tg(u,o),oa(u.a,o.P),Ig(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&Hf(o.b.b),St(o)?(ha(o,null),ZI(o.i).then(function(){gc(o)})):gt()});return ge(this,u)};function kM(o){var u=AM(o.D,Xt(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),XI(o.D)});return ge(o,u)}function DM(o){var u=Xt(o).options.authDomain,f=kM(o).then(function(){return tT(o.i,u,o.P)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return JI(o.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:ZI(o.i)})):null}).then(function(p){ha(o,p||null)});return ge(o,f)}function LM(o){return o.$.then(function(){return iT(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Yr("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return tT(this.i,Xt(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=St(o)&&u){f=St(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return $f(St(o),u),St(o).I();(St(o)||u)&&(ha(o,u),u&&(dc(u),u.ha=o.D),o.b&&lg(o.b,o),gc(o))}})},e.da=function(o){return JI(this.i,o)},e.mc=function(){gc(this),this.da(St(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function is(o,u){var f=null,p=null;return ge(o,u.then(function(g){return f=bv(g),p=sE(g),PM(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=FI(g.w(),o,U(o.kc,o))),_||g}).then(function(){return zr({user:St(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return is(u,gt(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(St(u))})},e.Ac=function(o){var u=this;MM(this,function(){o.next(St(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(St(p)):typeof o.next=="function"&&o.next(St(p))}),this.hb(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(St(p)):typeof o.next=="function"&&o.next(St(p))}),this.bc(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return St(u)?St(u).I(o).then(function(p){return{accessToken:p}}):null});return ge(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return is(u,Pt(u.a,gL,{token:o}))}).then(function(f){var p=f.user;return Zi(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return is(f,Pt(f.a,GE,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return is(f,Pt(f.a,zD,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return is(u,o.ka(u.a))})},e.Sc=function(o){return nv("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=St(o);if(u&&u.isAnonymous){var f=zr({providerId:null,isNewUser:!1});return zr({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return is(o,o.a.zb()).then(function(p){var g=p.user;return Zi(g,"isAnonymous",!0),o.da(g),p})})};function Xt(o){return o.app}function St(o){return o.currentUser}e.getUid=function(){return St(this)&&St(this).uid||null};function Kf(o){return St(o)&&St(o)._lat||null}function gc(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Kf(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](Kf(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&St(this)&&qI(St(this))},e.Pc=function(o){var u=this;H(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&St(this)&&Ag(St(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),ge(this,this.h.then(function(){u.l||L(u.s,o)&&o(Kf(u))}))},e.removeAuthTokenListener=function(o){B(this.s,function(u){return u==o})};function MM(o,u){o.O.push(u),ge(o,o.h.then(function(){!o.l&&L(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(Kf(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Yr("local"),o.a,this.ja)),this.b&&(SI(this.b,this),Hf(this.b.b)),Promise.resolve()};function ge(o,u){return o.R.push(u),u.oa(function(){V(o.R,u)}),u}e.hc=function(o){return ge(this,UD(this.a,o))},e.Bc=function(o){return!!wv(o)},e.wb=function(o,u){var f=this;return ge(this,gt().then(function(){var p=new vf(u);if(!p.c)throw new O("argument-error",pv+" must be true when sending sign in link to email");return gf(p)}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return ge(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return ge(this,this.a.Ra(o).then(function(u){return new Qk(u)}))},e.jb=function(o){return ge(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var f=this;return ge(this,gt().then(function(){return typeof u>"u"||_e(u)?{}:gf(new vf(u))}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},e.Wc=function(o,u){return ge(this,dg(this,o,u,U(this.$a,this)))},e.Vc=function(o,u){var f=this;return ge(this,gt().then(function(){var p=u||Wu(),g=yE(o,p);if(p=wv(p),!p)throw new O("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new O("tenant-id-mismatch");return f.$a(g)}))};function mc(){}mc.prototype.render=function(){},mc.prototype.reset=function(){},mc.prototype.getResponse=function(){},mc.prototype.execute=function(){};function pa(){this.a={},this.b=1e12}var Fg=null;pa.prototype.render=function(o,u){return this.a[this.b.toString()]=new Qf(o,u),this.b++},pa.prototype.reset=function(o){var u=Ug(this,o);o=oT(o),u&&o&&(u.delete(),delete this.a[o])},pa.prototype.getResponse=function(o){return(o=Ug(this,o))?o.getResponse():null},pa.prototype.execute=function(o){(o=Ug(this,o))&&o.execute()};function Ug(o,u){return(u=oT(u))&&o.a[u]||null}function oT(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Qf(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Fu(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():ur(this.f,"click",this.i)}Qf.prototype.getResponse=function(){return jg(this),this.b},Qf.prototype.execute=function(){jg(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=Hk();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Qf.prototype.delete=function(){jg(this),this.g=!0,clearTimeout(this.a),this.a=null,Qn(this.f,"click",this.i)};function jg(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function Vg(){}ot(Vg,"FACTOR_ID","phone");function Bg(){}Bg.prototype.g=function(){return Fg||(Fg=new pa),gt(Fg)},Bg.prototype.c=function(){};var qg=null;function Hg(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var FM=new Wr(Jl,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),UM=new Yi(3e4,6e4);Hg.prototype.g=function(o){var u=this;return new xt(function(f,p){var g=setTimeout(function(){p(new O("network-request-failed"))},UM.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var w=l.grecaptcha.render;l.grecaptcha.render=function(T,M){return T=w(T,M),u.b++,T},clearTimeout(g),f(l.grecaptcha)}else clearTimeout(g),p(new O("internal-error"));delete l[u.a]};var _=Ad(FM,{onload:u.a,hl:o||""});gt(Dv(_)).o(function(){clearTimeout(g),p(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(l.grecaptcha)})},Hg.prototype.c=function(){this.b--};var Wg=null;function Gg(o,u,f,p,g,_,w){if(ot(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,w?(qg||(qg=new Bg),w=qg):(Wg||(Wg=new Hg),w=Wg),this.m=w,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[uT])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[jM]==="invisible",!l.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Fu(u)||!this.i&&Fu(u).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ir(o,_||null,g||null),this.u=p||function(){return null};var T=this;this.l=[];var M=this.a[sT];this.a[sT]=function(bt){if(cT(T,bt),typeof M=="function")M(bt);else if(typeof M=="string"){var $t=ae(M,l);typeof $t=="function"&&$t(bt)}};var q=this.a[aT];this.a[aT]=function(){if(cT(T,null),typeof q=="function")q();else if(typeof q=="string"){var bt=ae(q,l);typeof bt=="function"&&bt()}}}var sT="callback",aT="expired-callback",uT="sitekey",jM="size";function cT(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function VM(o,u){B(o.l,function(f){return f==u})}function $g(o,u){return o.h.push(u),u.oa(function(){V(o.h,u)}),u}e=Gg.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=$g(this,gt().then(function(){if(pf()&&!br())return hf();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Pt(o.s,aL,{})}).then(function(u){o.a[uT]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Yf(this);var o=this;return $g(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Fu(u);u=hk("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Yf(this);var o=this;return $g(this,this.render().then(function(u){return new xt(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var g=function(_){_&&(VM(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Yf(this),this.c!==null&&this.g.reset(this.c)};function Yf(o){if(o.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Yf(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Fu(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function zg(o,u,f){var p=!1;try{this.b=f||at.app()}catch{throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new O("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=at.SDK_VERSION?Zs(at.SDK_VERSION,_):null,Gg.call(this,f,o,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},_,ie(Ft),p)}lt(zg,Gg);function lT(o,u,f,p){t:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,w=0;w<u.length;w++)if(u[w].optional)_=!0;else{if(_)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)p="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=fT.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");f=fT[g],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break t}p=null}}if(p)throw new O("argument-error",o+" failed: "+p)}var fT="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function it(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function Kg(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function Ce(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:I}}function da(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Xr(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function BM(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function qM(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Sr)}}}function HM(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof at.app.App)}}}function to(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function hT(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function va(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Qg(o,u){return I(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function pT(o){return I(o)&&typeof o.uid=="string"}function Xf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function be(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(g){return o.M(g)||u.M(g)}}}function fe(o,u){for(var f in u){var p=u[f].name;o[p]=vT(p,o[f],u[f].j)}}function dT(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:_t(function(g){return this[g]},f),set:_t(function(g,_,w,T){lT(g,[w],[T],!0),this[_]=T},p,f,u[f].kb),enumerable:!0})}}function Ee(o,u,f,p){o[u]=vT(u,f,p)}function vT(o,u,f){function p(){var w=Array.prototype.slice.call(arguments);return lT(g,f,w),u.apply(this,w)}if(!f)return u;var g=WM(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function WM(o){return o=o.split("."),o[o.length-1]}fe(Sr.prototype,{jb:{name:"applyActionCode",j:[it("code")]},Ra:{name:"checkActionCode",j:[it("code")]},nb:{name:"confirmPasswordReset",j:[it("code"),it("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[it("email"),it("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[it("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[it("emailLink")]},Hc:{name:"onAuthStateChanged",j:[be(Ce(),da(),"nextOrObserver"),da("opt_error",!0),da("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[be(Ce(),da(),"nextOrObserver"),da("opt_error",!0),da("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[it("email"),be(Ce("opt_actionCodeSettings",!0),Xr(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[it("email"),Ce("actionCodeSettings")]},xb:{name:"setPersistence",j:[it("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[to()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[to()]},Tc:{name:"signInWithCustomToken",j:[it("token")]},Uc:{name:"signInWithEmailAndPassword",j:[it("email"),it("password")]},Vc:{name:"signInWithEmailLink",j:[it("email"),it("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[it("phoneNumber"),Xf()]},Xc:{name:"signInWithPopup",j:[va()]},Yc:{name:"signInWithRedirect",j:[va()]},dd:{name:"updateCurrentUser",j:[be(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Xn)}}}(),Xr(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[it(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[it("url"),Ce("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[it("code")]}}),dT(Sr.prototype,{lc:{name:"languageCode",kb:be(it(),Xr(),"languageCode")},ti:{name:"tenantId",kb:be(it(),Xr(),"tenantId")}}),Sr.Persistence=aa,Sr.Persistence.LOCAL="local",Sr.Persistence.SESSION="session",Sr.Persistence.NONE="none",fe(Xn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Kg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Kg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[to()]},qb:{name:"linkWithCredential",j:[to()]},Dc:{name:"linkWithPhoneNumber",j:[it("phoneNumber"),Xf()]},Ec:{name:"linkWithPopup",j:[va()]},Fc:{name:"linkWithRedirect",j:[va()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[to()]},tb:{name:"reauthenticateWithCredential",j:[to()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[it("phoneNumber"),Xf()]},Nc:{name:"reauthenticateWithPopup",j:[va()]},Oc:{name:"reauthenticateWithRedirect",j:[va()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[be(Ce("opt_actionCodeSettings",!0),Xr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[it(null,!0)]},cd:{name:"unlink",j:[it("provider")]},Bb:{name:"updateEmail",j:[it("email")]},Cb:{name:"updatePassword",j:[it("password")]},ed:{name:"updatePhoneNumber",j:[to("phone")]},Db:{name:"updateProfile",j:[Ce("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[it("email"),be(Ce("opt_actionCodeSettings",!0),Xr(null,!0),"opt_actionCodeSettings",!0)]}}),fe(pa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),fe(mc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),fe(xt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),dT(DI.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Kg("appVerificationDisabledForTesting")}}),fe(pg.prototype,{confirm:{name:"confirm",j:[it("verificationCode")]}}),Ee(na,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[pD,dD,vD,hD],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[be(it(),Ce(),"json")]),Ee(lr,"credential",function(o,u){return new Xi(o,u)},[it("email"),it("password")]),fe(Xi.prototype,{w:{name:"toJSON",j:[it(null,!0)]}}),fe(Yo.prototype,{Ca:{name:"addScope",j:[it("scope")]},Ka:{name:"setCustomParameters",j:[Ce("customOAuthParameters")]}}),Ee(Yo,"credential",dE,[be(it(),Ce(),"token")]),Ee(lr,"credentialWithLink",yE,[it("email"),it("emailLink")]),fe(Xo.prototype,{Ca:{name:"addScope",j:[it("scope")]},Ka:{name:"setCustomParameters",j:[Ce("customOAuthParameters")]}}),Ee(Xo,"credential",vE,[be(it(),Ce(),"token")]),fe(Jo.prototype,{Ca:{name:"addScope",j:[it("scope")]},Ka:{name:"setCustomParameters",j:[Ce("customOAuthParameters")]}}),Ee(Jo,"credential",gE,[be(it(),be(Ce(),Xr()),"idToken"),be(it(),Xr(),"accessToken",!0)]),fe(ia.prototype,{Ka:{name:"setCustomParameters",j:[Ce("customOAuthParameters")]}}),Ee(ia,"credential",mE,[be(it(),Ce(),"token"),it("secret",!0)]),fe(Yn.prototype,{Ca:{name:"addScope",j:[it("scope")]},credential:{name:"credential",j:[be(it(),be(Ce(),Xr()),"optionsOrIdToken"),be(it(),Xr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ce("customOAuthParameters")]}}),fe(wi.prototype,{w:{name:"toJSON",j:[it(null,!0)]}}),fe(Ko.prototype,{w:{name:"toJSON",j:[it(null,!0)]}}),Ee(bi,"credential",_E,[it("verificationId"),it("verificationCode")]),fe(bi.prototype,{fb:{name:"verifyPhoneNumber",j:[be(it(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?Qg(f.session,Xu)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?Qg(f.session,bf)&&pT(f.multiFactorHint):f.session&&f.multiFactorUid?Qg(f.session,bf)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Xf()]}}),fe(Ji.prototype,{w:{name:"toJSON",j:[it(null,!0)]}}),fe(O.prototype,{toJSON:{name:"toJSON",j:[it(null,!0)]}}),fe(Zu.prototype,{toJSON:{name:"toJSON",j:[it(null,!0)]}}),fe(Tv.prototype,{toJSON:{name:"toJSON",j:[it(null,!0)]}}),fe(gg.prototype,{toJSON:{name:"toJSON",j:[it(null,!0)]}}),fe(vg.prototype,{Rc:{name:"resolveSignIn",j:[hT()]}}),fe(yg.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[hT(),it("displayName",!0)]},bd:{name:"unenroll",j:[be({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:pT},it(),"multiFactorInfoIdentifier")]}}),fe(zg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ee(hv,"parseLink",Yb,[it("link")]),Ee(Vg,"assertion",function(o){return new jI(o)},[to("phone")]),function(){if(typeof at<"u"&&at.INTERNAL&&at.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:df,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fv,VERIFY_AND_CHANGE_EMAIL:Qu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Sr,AuthCredential:na,Error:O};Ee(o,"EmailAuthProvider",lr,[]),Ee(o,"FacebookAuthProvider",Yo,[]),Ee(o,"GithubAuthProvider",Xo,[]),Ee(o,"GoogleAuthProvider",Jo,[]),Ee(o,"TwitterAuthProvider",ia,[]),Ee(o,"OAuthProvider",Yn,[it("providerId")]),Ee(o,"SAMLAuthProvider",pE,[it("providerId")]),Ee(o,"PhoneAuthProvider",bi,[qM()]),Ee(o,"RecaptchaVerifier",zg,[be(it(),BM(),"recaptchaContainer"),Ce("recaptchaParameters",!0),HM()]),Ee(o,"ActionCodeURL",hv,[]),Ee(o,"PhoneMultiFactorGenerator",Vg,[]),at.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Sr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),at.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:U(u.getUid,u),getToken:U(u.nc,u),addAuthTokenListener:U(u.cc,u),removeAuthTokenListener:U(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),at.registerVersion("@firebase/auth","0.16.3"),at.INTERNAL.extendNamespace({User:Xn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f4=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Fe(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:el(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h4=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return $n(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uN=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new f4(t)}}catch{}return new h4},ds=uN("localStorage"),vy=uN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ma=new wu("@firebase/database"),cN=function(){var e=1;return function(){return e++}}(),lN=function(e){var t=kV(e),n=new RV;n.update(t);var r=n.digest();return C_.encodeByteArray(r)},Nl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Nl.apply(null,i):typeof i=="object"?n+=Fe(i):n+=i,n+=" "}return n},bs=null,vS=!0,fN=function(e,t){K(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ma.logLevel=Rt.VERBOSE,bs=Ma.log.bind(Ma),t&&vy.set("logging_enabled",!0)):typeof e=="function"?bs=e:(bs=null,vy.remove("logging_enabled"))},sn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(vS===!0&&(vS=!1,bs===null&&vy.get("logging_enabled")===!0&&fN(!0)),bs){var n=Nl.apply(null,e);bs(n)}},Rl=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];sn.apply(void 0,Hi([e],t))}},gy=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Nl.apply(void 0,Hi(e));Ma.error(n)},ii=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Nl.apply(void 0,Hi(e));throw Ma.error(n),new Error(n)},vn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Nl.apply(void 0,Hi(e));Ma.warn(n)},p4=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&vn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bp=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},d4=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Fi="[MIN_NAME]",fi="[MAX_NAME]",Fs=function(e,t){if(e===t)return 0;if(e===Fi||t===fi)return-1;if(t===Fi||e===fi)return 1;var n=Gh(e),r=Gh(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},v4=function(e,t){return e===t?0:e<t?-1:1},wc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Fe(t))},D_=function(e){if(typeof e!="object"||e===null)return Fe(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Fe(t[i]),r+=":",r+=D_(e[t[i]]);return r+="}",r},hN=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ue(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var pN=function(e){K(!Bp(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,c,l;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,a=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=t;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},g4=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},m4=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},y4=function(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r},_4=new RegExp("^-?(0*)\\d{1,10}$"),dN=-2147483648,L_=2147483647,Gh=function(e){if(_4.test(e)){var t=Number(e);if(t>=dN&&t<=L_)return t}return null},Na=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw vn("Exception was thrown by user callback.",n),t},Math.floor(0))}},w4=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uc=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!1,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e.prototype.toUrlEncodedString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(this.pieces_[n])));return t||"/"},e.prototype.slice=function(t){return t===void 0&&(t=0),this.pieces_.slice(this.pieceNum_+t)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(r===null)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(t,n){for(var r=t.slice(),i=n.slice(),s=0;s<r.length&&s<i.length;s++){var a=Fs(r[s],i[s]);if(a!==0)return a}return r.length===i.length?0:r.length<i.length?-1:1},e.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var n=this.pieceNum_,r=t.pieceNum_;n<=this.pieces_.length;n++,r++)if(this.pieces_[n]!==t.pieces_[r])return!1;return!0},e.prototype.contains=function(t){var n=this.pieceNum_,r=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0},e}(),b4=function(){function e(t,n){this.errorPrefix_=n,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ch(this.parts_[r]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Ch(t),this.checkValid_()},e.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Ch(t),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M_="5",vN="v",gN="s",mN="r",yN="f",_N=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wN="ls",E4="p",bN="websocket",EN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F_=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=ds.get("host:"+t)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},e.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},e.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ds.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(t,n){K(typeof t=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");var r;if(t===bN)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(t===EN)r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);this.needsQueryParam()&&(n.ns=this.namespace);var i=[];return Ue(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")},e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function T4(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=Ie(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):vn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var my=function(e,t){var n=S4(e),r=n.namespace;n.domain==="firebase.com"&&ii(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||p4();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new F_(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new et(n.pathString)}},S4=function(e){var t="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=I4(e.substring(d,v)));var m=T4(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var b=t.indexOf(".");r=t.substring(0,b).toLowerCase(),n=t.substring(b+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A4=/[\[\].#$\/\u0000-\u001F\u007F]/,C4=/[\[\].#$\u0000-\u001F\u007F]/,am=10*1024*1024,qp=function(e){return typeof e=="string"&&e.length!==0&&!A4.test(e)},IN=function(e){return typeof e=="string"&&e.length!==0&&!C4.test(e)},N4=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),IN(e)},nl=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Bp(e)||e&&typeof e=="object"&&$n(e,".sv")},ni=function(e,t,n,r,i){i&&n===void 0||rl(mr(e,t,i),n,r)},rl=function(e,t,n){var r=n instanceof et?new b4(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+r.toErrorString());if(typeof t=="function")throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(Bp(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if(typeof t=="string"&&t.length>am/3&&Ch(t)>am)throw new Error(e+"contains a string greater than "+am+" utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(Ue(t,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!qp(a)))throw new Error(e+" contains an invalid key ("+a+") "+r.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r.push(a),rl(e,c,r),r.pop()}),i&&s)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},R4=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=r.slice(),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!qp(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(et.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},TN=function(e,t,n,r,i){if(!(i&&n===void 0)){var s=mr(e,t,i);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];Ue(n,function(c,l){var h=new et(c);if(rl(s,l,r.child(h)),h.getBack()===".priority"&&!nl(l))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),R4(s,a)}},yy=function(e,t,n,r){if(!(r&&n===void 0)){if(Bp(n))throw new Error(mr(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!nl(n))throw new Error(mr(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},um=function(e,t,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(mr(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},bc=function(e,t,n,r){if(!(r&&n===void 0)&&!qp(n))throw new Error(mr(e,t,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},il=function(e,t,n,r){if(!(r&&n===void 0)&&!IN(n))throw new Error(mr(e,t,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},O4=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),il(e,t,n,r)},hr=function(e,t){if(t.getFront()===".info")throw new Error(e+" failed = Can't modify data under /.info/")},SN=function(e,t,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!qp(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!N4(r))throw new Error(mr(e,t,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},x4=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(mr(e,t,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P4=function(){function e(t,n){this.repo_=t,this.path_=n}return e.prototype.cancel=function(t){mt("OnDisconnect.cancel",0,1,arguments.length),Ke("OnDisconnect.cancel",1,t,!0);var n=new Bn;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(t)),n.promise},e.prototype.remove=function(t){mt("OnDisconnect.remove",0,1,arguments.length),hr("OnDisconnect.remove",this.path_),Ke("OnDisconnect.remove",1,t,!0);var n=new Bn;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(t)),n.promise},e.prototype.set=function(t,n){mt("OnDisconnect.set",1,2,arguments.length),hr("OnDisconnect.set",this.path_),ni("OnDisconnect.set",1,t,this.path_,!1),Ke("OnDisconnect.set",2,n,!0);var r=new Bn;return this.repo_.onDisconnectSet(this.path_,t,r.wrapCallback(n)),r.promise},e.prototype.setWithPriority=function(t,n,r){mt("OnDisconnect.setWithPriority",2,3,arguments.length),hr("OnDisconnect.setWithPriority",this.path_),ni("OnDisconnect.setWithPriority",1,t,this.path_,!1),yy("OnDisconnect.setWithPriority",2,n,!1),Ke("OnDisconnect.setWithPriority",3,r,!0);var i=new Bn;return this.repo_.onDisconnectSetWithPriority(this.path_,t,n,i.wrapCallback(r)),i.promise},e.prototype.update=function(t,n){if(mt("OnDisconnect.update",1,2,arguments.length),hr("OnDisconnect.update",this.path_),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,vn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}TN("OnDisconnect.update",1,t,this.path_,!1),Ke("OnDisconnect.update",2,n,!0);var s=new Bn;return this.repo_.onDisconnectUpdate(this.path_,t,s.wrapCallback(n)),s.promise},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k4=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return mt("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var za="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_y="-",AN="z",CN=786,D4=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=za.charAt(n%64),n=Math.floor(n/64);K(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=za.charAt(t[i]);return K(a.length===20,"nextPushId: Length should be 20."),a}}(),gS=function(e){if(e===""+L_)return _y;var t=Gh(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<CN)return n.push(_y),n.join("");for(var i=n.length-1;i>=0&&n[i]===AN;)i--;if(i===-1)return fi;var s=n[i],a=za.charAt(za.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},mS=function(e){if(e===""+dN)return Fi;var t=Gh(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===_y?n.length===1?""+L_:(delete n[n.length-1],n.join("")):(n[n.length-1]=za.charAt(za.indexOf(n[n.length-1])-1),n.join("")+AN.repeat(CN-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hp=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new Dt(Fi,t),i=new Dt(Fi,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return Dt.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ih,NN=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return ih},set:function(n){ih=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return Fs(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw yu("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return Dt.MIN},t.prototype.maxPost=function(){return new Dt(fi,ih)},t.prototype.makePost=function(n,r){return K(typeof n=="string","KeyIndex indexValue must always be a string."),new Dt(n,ih)},t.prototype.toString=function(){return".key"},t}(Hp),ai=new NN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wy;function L4(e){wy=e}var RN=function(e){return typeof e=="number"?"number:"+pN(e):"string:"+e},ON=function(e){if(e.isLeafNode()){var t=e.val();K(typeof t=="string"||typeof t=="number"||typeof t=="object"&&$n(t,".sv"),"Priority must be a string or number.")}else K(e===wy||e.isEmpty(),"priority of unexpected type.");K(e===wy||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yS,Ka=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),ON(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return yS},set:function(t){yS=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:t.getFront()===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||t.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+RN(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=pN(this.value_):t+=this.value_,this.lazyHash_=lN(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(K(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return K(i>=0,"Unknown leaf type: "+n),K(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xN,PN;function M4(e){xN=e}function F4(e){PN=e}var U4=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Fs(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return Dt.MIN},t.prototype.maxPost=function(){return new Dt(fi,new Ka("[PRIORITY-POST]",PN))},t.prototype.makePost=function(n,r){var i=xN(n);return new Dt(r,new Ka("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(Hp),Jt=new U4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oh=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Rr=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Ri.EMPTY_NODE,this.right=s??Ri.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ri.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ri.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),j4=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Rr(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ri=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Rr.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Rr.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new oh(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new oh(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new oh(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new oh(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new j4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V4=Math.log(2),B4=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/V4,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),$h=function(e,t,n,r){e.sort(t);var i=function(l,h){var d=h-l,v,m;if(d===0)return null;if(d===1)return v=e[l],m=n?n(v):v,new Rr(m,v.node,Rr.BLACK,null,null);var y=parseInt(d/2,10)+l,b=i(l,y),E=i(y+1,h);return v=e[y],m=n?n(v):v,new Rr(m,v.node,Rr.BLACK,b,E)},s=function(l){for(var h=null,d=null,v=e.length,m=function(R,P){var D=v-R,F=v;v-=R;var Y=i(D+1,F),U=e[D],_t=n?n(U):U;y(new Rr(_t,U.node,P,null,Y))},y=function(R){h?(h.left=R,h=R):(d=R,h=R)},b=0;b<l.count;++b){var E=l.nextBitIsOne(),I=Math.pow(2,l.count-(b+1));E?m(I,Rr.BLACK):(m(I,Rr.BLACK),m(I,Rr.RED))}return d},a=new B4(e.length),c=s(a);return new Ri(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cm,ma={},zh=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return K(ma&&Jt,"ChildrenNode.ts has not been loaded"),cm=cm||new e({".priority":ma},{".priority":Jt}),cm},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=Pr(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ri?n:null},e.prototype.hasIndex=function(t){return $n(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){K(t!==ai,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Dt.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=$h(r,t.getCompare()):c=ma;var l=t.toString(),h=te({},this.indexSet_);h[l]=t;var d=te({},this.indexes_);return d[l]=c,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Hh(this.indexes_,function(s,a){var c=Pr(r.indexSet_,a);if(K(c,"Missing index implementation for "+a),s===ma)if(c.isDefinedOn(t.node)){for(var l=[],h=n.getIterator(Dt.Wrap),d=h.getNext();d;)d.name!==t.name&&l.push(d),d=h.getNext();return l.push(t),$h(l,c.getCompare())}else return ma;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new Dt(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Hh(this.indexes_,function(i){if(i===ma)return i;var s=n.get(t.name);return s?i.remove(new Dt(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(e,t){return Fs(e.name,t.name)}function U_(e,t){return Fs(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ec,It=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ON(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ec||(Ec=new e(new Ri(U_),null,zh.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ec},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?Ec:n},e.prototype.getChild=function(t){var n=t.getFront();return n===null?this:this.getImmediateChild(n).getChild(t.popFront())},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(K(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new Dt(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Ec:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=t.getFront();if(r===null)return n;K(t.getFront()!==".priority"||t.getLength()===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(t.popFront(),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(Jt,function(l,h){n[l]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!t&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+RN(this.getPriority().val())+":"),this.forEachChild(Jt,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":lN(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Dt(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new Dt(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new Dt(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,Dt.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,Dt.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ol?-1:0},e.prototype.withIndex=function(t){if(t===ai||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===ai||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(Jt),i=n.getIterator(Jt),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===ai?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),H4=function(e){J(t,e);function t(){return e.call(this,new Ri(U_),It.EMPTY_NODE,zh.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return It.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(It),Ol=new H4;Object.defineProperties(Dt,{MIN:{value:new Dt(Fi,It.EMPTY_NODE)},MAX:{value:new Dt(fi,Ol)}});NN.__EMPTY_NODE=It.EMPTY_NODE;Ka.__childrenNodeConstructor=It;L4(Ol);F4(Ol);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W4=!0;function he(e,t){if(t===void 0&&(t=null),e===null)return It.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),K(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new Ka(n,he(t))}if(!(e instanceof Array)&&W4){var r=[],i=!1,s=e;if(Ue(s,function(h,d){if(h.substring(0,1)!=="."){var v=he(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Dt(h,v)))}}),r.length===0)return It.EMPTY_NODE;var a=$h(r,q4,function(h){return h.name},U_);if(i){var c=$h(r,Jt.getCompare());return new It(a,he(t),new zh({".priority":c},{".priority":Jt}))}else return new It(a,he(t),zh.Default)}else{var l=It.EMPTY_NODE;return Ue(e,function(h,d){if($n(e,h)&&h.substring(0,1)!=="."){var v=he(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(he(t))}}M4(he);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G4=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Fs(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return Dt.MIN},t.prototype.maxPost=function(){return Dt.MAX},t.prototype.makePost=function(n,r){var i=he(n);return new Dt(r,i)},t.prototype.toString=function(){return".value"},t}(Hp),by=new G4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ey=function(e){J(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,K(!n.isEmpty()&&n.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Fs(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=he(n),s=It.EMPTY_NODE.updateChild(this.indexPath_,i);return new Dt(r,s)},t.prototype.maxPost=function(){var n=It.EMPTY_NODE.updateChild(this.indexPath_,Ol);return new Dt(fi,n)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(Hp);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ho=function(){function e(t,n,r){this.node_=t,this.ref_=n,this.index_=r}return e.prototype.val=function(){return mt("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return mt("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return mt("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return mt("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){mt("DataSnapshot.child",0,1,arguments.length),t=String(t),il("DataSnapshot.child",1,t,!1);var n=new et(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Jt)},e.prototype.hasChild=function(t){mt("DataSnapshot.hasChild",1,1,arguments.length),il("DataSnapshot.hasChild",1,t,!1);var n=new et(t);return!this.node_.getChild(n).isEmpty()},e.prototype.getPriority=function(){return mt("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;if(mt("DataSnapshot.forEach",1,1,arguments.length),Ke("DataSnapshot.forEach",1,t,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,s){return t(new e(s,n.ref_.child(i),Jt))})},e.prototype.hasChildren=function(){return mt("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return mt("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return mt("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kN=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.getRef();return this.eventType==="value"?t.path:t.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Fe(this.snapshot.exportVal())},e}(),DN=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _S=function(){function e(t,n,r){this.callback_=t,this.cancelCallback_=n,this.context_=r}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n.getQueryParams().getIndex();return new kN("value",this,new ho(t.snapshotNode,n.getRef(),r))},e.prototype.getEventRunner=function(t){var n=this.context_;if(t.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,t.error)}}else{var i=this.callback_;return function(){i.call(n,t.snapshot)}}},e.prototype.createCancelEvent=function(t,n){return this.cancelCallback_?new DN(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callback_||!this.callback_?!0:t.callback_===this.callback_&&t.context_===this.context_:!1},e.prototype.hasAnyCallback=function(){return this.callback_!==null},e}(),wS=function(){function e(t,n,r){this.callbacks_=t,this.cancelCallback_=n,this.context_=r}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,$n(this.callbacks_,n)},e.prototype.createCancelEvent=function(t,n){return this.cancelCallback_?new DN(this,t,n):null},e.prototype.createEvent=function(t,n){K(t.childName!=null,"Child events should have a childName.");var r=n.getRef().child(t.childName),i=n.getQueryParams().getIndex();return new kN(t.type,this,new ho(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this.context_;if(t.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,t.error)}}else{var i=this.callbacks_[t.eventType];return function(){i.call(n,t.snapshot,t.prevName)}}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),s=r.length,a=i.length;if(s===a)if(s===1){var c=r[0],l=i[0];return l===c&&(!t.callbacks_[c]||!this.callbacks_[l]||t.callbacks_[c]===this.callbacks_[l])}else return i.every(function(h){return t.callbacks_[h]===n.callbacks_[h]})}}return!1},e.prototype.hasAnyCallback=function(){return this.callbacks_!==null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lm,j_=function(){function e(t,n,r,i){this.repo=t,this.path=n,this.queryParams_=r,this.orderByCalled_=i}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return K(lm,"Reference.ts has not been loaded"),lm},set:function(t){lm=t},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(t){var n=null,r=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(r=t.getIndexEndValue()),t.getIndex()===ai){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var a=t.getIndexStartName();if(a!==Fi)throw new Error(i);if(typeof n!="string")throw new Error(s)}if(t.hasEnd()){var c=t.getIndexEndName();if(c!==fi)throw new Error(i);if(typeof r!="string")throw new Error(s)}}else if(t.getIndex()===Jt){if(n!=null&&!nl(n)||r!=null&&!nl(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(t.getIndex()instanceof Ey||t.getIndex()===by,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},e.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(t){if(this.orderByCalled_===!0)throw new Error(t+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return mt("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){mt("Query.on",2,4,arguments.length),um("Query.on",1,t,!1),Ke("Query.on",2,n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i);if(t==="value")this.onValueEvent(n,s.cancel,s.context);else{var a={};a[t]=n,this.onChildEvent(a,s.cancel,s.context)}return n},e.prototype.onValueEvent=function(t,n,r){var i=new _S(t,n||null,r||null);this.repo.addEventCallbackForQuery(this,i)},e.prototype.onChildEvent=function(t,n,r){var i=new wS(t,n,r);this.repo.addEventCallbackForQuery(this,i)},e.prototype.off=function(t,n,r){mt("Query.off",0,3,arguments.length),um("Query.off",1,t,!0),Ke("Query.off",2,n,!0),pS("Query.off",3,r,!0);var i=null,s=null;if(t==="value"){var a=n||null;i=new _S(a,null,r||null)}else t&&(n&&(s={},s[t]=n),i=new wS(s,null,r||null));this.repo.removeEventCallbackForQuery(this,i)},e.prototype.get=function(){return this.repo.getValue(this)},e.prototype.once=function(t,n,r,i){var s=this;mt("Query.once",1,4,arguments.length),um("Query.once",1,t,!1),Ke("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),c=!0,l=new Bn;l.promise.catch(function(){});var h=function(d){c&&(c=!1,s.off(t,h),n&&n.bind(a.context)(d),l.resolve(d))};return this.on(t,h,function(d){s.off(t,h),a.cancel&&a.cancel.bind(a.context)(d),l.reject(d)}),l.promise},e.prototype.limitToFirst=function(t){if(mt("Query.limitToFirst",1,1,arguments.length),typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(mt("Query.limitToLast",1,1,arguments.length),typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(mt("Query.orderByChild",1,1,arguments.length),t==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(t==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(t==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');il("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new et(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ey(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){mt("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(ai);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){mt("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Jt);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){mt("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(by);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){t===void 0&&(t=null),mt("Query.startAt",0,2,arguments.length),ni("Query.startAt",1,t,this.path,!0),bc("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return t===void 0&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.startAfter=function(t,n){t===void 0&&(t=null),mt("Query.startAfter",0,2,arguments.length),ni("Query.startAfter",1,t,this.path,!1),bc("Query.startAfter",2,n,!0);var r=this.queryParams_.startAfter(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){t===void 0&&(t=null),mt("Query.endAt",0,2,arguments.length),ni("Query.endAt",1,t,this.path,!0),bc("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endBefore=function(t,n){t===void 0&&(t=null),mt("Query.endBefore",0,2,arguments.length),ni("Query.endBefore",1,t,this.path,!1),bc("Query.endBefore",2,n,!0);var r=this.queryParams_.endBefore(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(t,n){if(mt("Query.equalTo",1,2,arguments.length),ni("Query.equalTo",1,t,this.path,!1),bc("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,n).endAt(t,n)},e.prototype.toString=function(){return mt("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return mt("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var t=this.queryObject(),n=D_(t);return n==="{}"?"default":n},e.prototype.isEqual=function(t){if(mt("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===t.repo,i=this.path.equals(t.path),s=this.queryIdentifier()===t.queryIdentifier();return r&&i&&s},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:null,context:null};if(n&&r)i.cancel=n,Ke(t,3,i.cancel,!0),i.context=r,pS(t,4,i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(mr(t,3,!0)+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $4=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),z4=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),K4=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},bS=function(e,t,n){if(!e||typeof e!="object")return e;if(K(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return Q4(e[".sv"],t,n);if(typeof e[".sv"]=="object")return Y4(e[".sv"],t);K(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},Q4=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+e)}},Y4=function(e,t,n){e.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);var i=t.node();if(K(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},ES=function(e,t,n,r){return V_(t,new z4(n,e),r)},fm=function(e,t,n){return V_(e,new $4(t),n)};function V_(e,t,n){var r=e.getPriority().val(),i=bS(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,c=bS(a.getValue(),t,n);return c!==a.getValue()||i!==a.getPriority().val()?new Ka(c,he(i)):e}else{var l=e;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new Ka(i))),l.forEachChild(Jt,function(h,d){var v=V_(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hm=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(t){if(this.value!=null)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var n=t.getFront();if(t=t.popFront(),this.children.has(n)){var r=this.children.get(n);return r.find(t)}else return null}else return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var r=this;return n.forEachChild(Jt,function(a,c){r.remember(new et(a),c)}),this.forget(t)}else if(this.children.size>0){var i=t.getFront();if(t=t.popFront(),this.children.has(i)){var s=this.children.get(i).forget(t);s&&this.children.delete(i)}return this.children.size===0}else return!0},e.prototype.forEachTree=function(t,n){this.value!==null?n(t,this.value):this.forEachChild(function(r,i){var s=new et(t.toString()+"/"+r);i.forEachTree(s,n)})},e.prototype.forEachChild=function(t){this.children.forEach(function(n,r){t(r,n)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(kr||(kr={}));var Ai=function(){function e(t,n,r,i){this.fromUser=t,this.fromServer=n,this.queryId=r,this.tagged=i,K(!i||n,"Tagged queries must be from server.")}return e.user=function(){return new e(!0,!1,null,!1)},e.server=function(){return new e(!1,!0,null,!1)},e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X4=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=kr.ACK_USER_WRITE,this.source=Ai.user()}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new et(t));return new e(et.Empty,n,this.revert)}else return K(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pm,J4=function(){return pm||(pm=new Ri(v4)),pm},er=function(){function e(t,n){n===void 0&&(n=J4()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return Ue(t,function(r,i){n=n.set(new et(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:et.Empty,value:this.value};if(t.isEmpty())return null;var r=t.getFront(),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(t.popFront(),n);if(s!=null){var a=new et(r).child(s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return r!==null?r.subtree(t.popFront()):new e(null)},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=this.children.get(r)||new e(null),s=i.set(t.popFront(),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?new e(null):new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(t.isEmpty())return this.value;var n=t.getFront(),r=this.children.get(n);return r?r.get(t.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=this.children.get(r)||new e(null),s=i.setTree(t.popFront(),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(et.Empty,t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(t.child(i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,et.Empty,n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(t.isEmpty())return null;var s=t.getFront(),a=this.children.get(s);return a?a.findOnPath_(t.popFront(),n.child(s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,et.Empty,n)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),s=this.children.get(i);return s?s.foreachOnPath_(t.popFront(),n.child(i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(et.Empty,t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(t.child(r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IS=function(){function e(t,n){this.source=t,this.path=n,this.type=kr.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,et.Empty):new e(this.source,this.path.popFront())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rh=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=kr.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,et.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dm=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=kr.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new et(t));return n.isEmpty()?null:n.value?new Rh(this.source,et.Empty,n.value):new e(this.source,et.Empty,n)}else return K(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ao=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=t.getFront();return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LN=function(){function e(t,n){this.eventCache_=t,this.serverCache_=n}return e.prototype.updateEventSnap=function(t,n,r){return new e(new Ao(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new Ao(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(e){return{type:"value",snapshotNode:e}}function Qa(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ol(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function sl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Z4(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B_=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){K(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=t.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(ol(n,c)):K(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(Qa(n,r)):a.trackChildChange(sl(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(Jt,function(i,s){n.hasChild(i)||r.trackChildChange(ol(i,s))}),n.isLeafNode()||n.forEachChild(Jt,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(sl(i,s,a))}else r.trackChildChange(Qa(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?It.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t3=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,sl(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ol(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Qa(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,sl(r,t.snapshotNode,i.oldSnap));else throw yu("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e3=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),TS=new e3,vm=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Ao(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),s=this.writes_.calcIndexedSlice(i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n3=function(){function e(t,n){this.viewCache=t,this.changes=n}return e}(),r3=function(){function e(t){this.filter_=t}return e.prototype.assertIndexed=function(t){K(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),K(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var s=new t3,a,c;if(n.type===kr.OVERWRITE){var l=n;l.source.fromUser?a=this.applyUserOverwrite_(t,l.path,l.snap,r,i,s):(K(l.source.fromServer,"Unknown source."),c=l.source.tagged||t.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(t,l.path,l.snap,r,i,c,s))}else if(n.type===kr.MERGE){var h=n;h.source.fromUser?a=this.applyUserMerge_(t,h.path,h.children,r,i,s):(K(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.getServerCache().isFiltered(),a=this.applyServerMerge_(t,h.path,h.children,r,i,c,s))}else if(n.type===kr.ACK_USER_WRITE){var d=n;d.revert?a=this.revertUserWrite_(t,d.path,r,i,s):a=this.ackUserWrite_(t,d.path,d.affectedTree,r,i,s)}else if(n.type===kr.LISTEN_COMPLETE)a=this.listenComplete_(t,n.path,r,s);else throw yu("Unknown operation type: "+n.type);var v=s.getChanges();return e.maybeAddValueEvent_(t,a,v),new n3(a,v)},e.maybeAddValueEvent_=function(t,n,r){var i=n.getEventCache();if(i.isFullyInitialized()){var s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=t.getCompleteEventSnap();(r.length>0||!t.getEventCache().isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&r.push(MN(n.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(t,n,r,i,s){var a=t.getEventCache();if(r.shadowingWrite(n)!=null)return t;var c=void 0,l=void 0;if(n.isEmpty())if(K(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var h=t.getCompleteServerSnap(),d=h instanceof It?h:It.EMPTY_NODE,v=r.calcCompleteEventChildren(d);c=this.filter_.updateFullNode(t.getEventCache().getNode(),v,s)}else{var m=r.calcCompleteEventCache(t.getCompleteServerSnap());c=this.filter_.updateFullNode(t.getEventCache().getNode(),m,s)}else{var y=n.getFront();if(y===".priority"){K(n.getLength()===1,"Can't have a priority with additional path components");var b=a.getNode();l=t.getServerCache().getNode();var E=r.calcEventCacheAfterServerOverwrite(n,b,l);E!=null?c=this.filter_.updatePriority(b,E):c=a.getNode()}else{var I=n.popFront(),R=void 0;if(a.isCompleteForChild(y)){l=t.getServerCache().getNode();var P=r.calcEventCacheAfterServerOverwrite(n,a.getNode(),l);P!=null?R=a.getNode().getImmediateChild(y).updateChild(I,P):R=a.getNode().getImmediateChild(y)}else R=r.calcCompleteChild(y,t.getServerCache());R!=null?c=this.filter_.updateChild(a.getNode(),y,R,I,i,s):c=a.getNode()}}return t.updateEventSnap(c,a.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(t,n,r,i,s,a,c){var l=t.getServerCache(),h,d=a?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var m=n.getFront();if(!l.isCompleteForPath(n)&&n.getLength()>1)return t;var y=n.popFront(),b=l.getNode().getImmediateChild(m),E=b.updateChild(y,r);m===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),m,E,y,TS,null)}var I=t.updateServerSnap(h,l.isFullyInitialized()||n.isEmpty(),d.filtersNodes()),R=new vm(i,I,s);return this.generateEventCacheAfterServerEvent_(I,n,i,R,c)},e.prototype.applyUserOverwrite_=function(t,n,r,i,s,a){var c=t.getEventCache(),l,h,d=new vm(i,t,s);if(n.isEmpty())h=this.filter_.updateFullNode(t.getEventCache().getNode(),r,a),l=t.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var v=n.getFront();if(v===".priority")h=this.filter_.updatePriority(t.getEventCache().getNode(),r),l=t.updateEventSnap(h,c.isFullyInitialized(),c.isFiltered());else{var m=n.popFront(),y=c.getNode().getImmediateChild(v),b=void 0;if(m.isEmpty())b=r;else{var E=d.getCompleteChild(v);E!=null?m.getBack()===".priority"&&E.getChild(m.parent()).isEmpty()?b=E:b=E.updateChild(m,r):b=It.EMPTY_NODE}if(y.equals(b))l=t;else{var I=this.filter_.updateChild(c.getNode(),v,b,m,d,a);l=t.updateEventSnap(I,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},e.cacheHasChild_=function(t,n){return t.getEventCache().isCompleteForChild(n)},e.prototype.applyUserMerge_=function(t,n,r,i,s,a){var c=this,l=t;return r.foreach(function(h,d){var v=n.child(h);e.cacheHasChild_(t,v.getFront())&&(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),r.foreach(function(h,d){var v=n.child(h);e.cacheHasChild_(t,v.getFront())||(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),l},e.prototype.applyMerge_=function(t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t},e.prototype.applyServerMerge_=function(t,n,r,i,s,a,c){var l=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var h=t,d;n.isEmpty()?d=r:d=new er(null).setTree(n,r);var v=t.getServerCache().getNode();return d.children.inorderTraversal(function(m,y){if(v.hasChild(m)){var b=t.getServerCache().getNode().getImmediateChild(m),E=l.applyMerge_(b,y);h=l.applyServerOverwrite_(h,new et(m),E,i,s,a,c)}}),d.children.inorderTraversal(function(m,y){var b=!t.getServerCache().isCompleteForChild(m)&&y.value==null;if(!v.hasChild(m)&&!b){var E=t.getServerCache().getNode().getImmediateChild(m),I=l.applyMerge_(E,y);h=l.applyServerOverwrite_(h,new et(m),I,i,s,a,c)}}),h},e.prototype.ackUserWrite_=function(t,n,r,i,s,a){if(i.shadowingWrite(n)!=null)return t;var c=t.getServerCache().isFiltered(),l=t.getServerCache();if(r.value!=null){if(n.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(n))return this.applyServerOverwrite_(t,n,l.getNode().getChild(n),i,s,c,a);if(n.isEmpty()){var h=new er(null);return l.getNode().forEachChild(ai,function(v,m){h=h.set(new et(v),m)}),this.applyServerMerge_(t,n,h,i,s,c,a)}else return t}else{var d=new er(null);return r.foreach(function(v,m){var y=n.child(v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),this.applyServerMerge_(t,n,d,i,s,c,a)}},e.prototype.listenComplete_=function(t,n,r,i){var s=t.getServerCache(),a=t.updateServerSnap(s.getNode(),s.isFullyInitialized()||n.isEmpty(),s.isFiltered());return this.generateEventCacheAfterServerEvent_(a,n,r,TS,i)},e.prototype.revertUserWrite_=function(t,n,r,i,s){var a;if(r.shadowingWrite(n)!=null)return t;var c=new vm(r,t,i),l=t.getEventCache().getNode(),h=void 0;if(n.isEmpty()||n.getFront()===".priority"){var d=void 0;if(t.getServerCache().isFullyInitialized())d=r.calcCompleteEventCache(t.getCompleteServerSnap());else{var v=t.getServerCache().getNode();K(v instanceof It,"serverChildren would be complete if leaf node"),d=r.calcCompleteEventChildren(v)}d=d,h=this.filter_.updateFullNode(l,d,s)}else{var m=n.getFront(),y=r.calcCompleteChild(m,t.getServerCache());y==null&&t.getServerCache().isCompleteForChild(m)&&(y=l.getImmediateChild(m)),y!=null?h=this.filter_.updateChild(l,m,y,n.popFront(),c,s):t.getEventCache().getNode().hasChild(m)?h=this.filter_.updateChild(l,m,It.EMPTY_NODE,n.popFront(),c,s):h=l,h.isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=r.calcCompleteEventCache(t.getCompleteServerSnap()),a.isLeafNode()&&(h=this.filter_.updateFullNode(h,a,s)))}return a=t.getServerCache().isFullyInitialized()||r.shadowingWrite(et.Empty)!=null,t.updateEventSnap(h,a,this.filter_.filtersNodes())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i3=function(){function e(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(t,n,r){var i=this,s=[],a=[];return t.forEach(function(c){c.type==="child_changed"&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(Z4(c.childName,c.snapshotNode))}),this.generateEventsForType_(s,"child_removed",t,r,n),this.generateEventsForType_(s,"child_added",t,r,n),this.generateEventsForType_(s,"child_moved",a,r,n),this.generateEventsForType_(s,"child_changed",t,r,n),this.generateEventsForType_(s,"value",t,r,n),s},e.prototype.generateEventsForType_=function(t,n,r,i,s){var a=this,c=r.filter(function(l){return l.type===n});c.sort(this.compareChanges_.bind(this)),c.forEach(function(l){var h=a.materializeSingleChange_(l,s);i.forEach(function(d){d.respondsTo(l.type)&&t.push(d.createEvent(h,a.query_))})})},e.prototype.materializeSingleChange_=function(t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},e.prototype.compareChanges_=function(t,n){if(t.childName==null||n.childName==null)throw yu("Should only compare child_ events.");var r=new Dt(t.childName,t.snapshotNode),i=new Dt(n.childName,n.snapshotNode);return this.index_.compare(r,i)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o3=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),i=new B_(r.getIndex()),s=r.getNodeFilter();this.processor_=new r3(s);var a=n.getServerCache(),c=n.getEventCache(),l=i.updateFullNode(It.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(It.EMPTY_NODE,c.getNode(),null),d=new Ao(l,a.isFullyInitialized(),i.filtersNodes()),v=new Ao(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=new LN(v,d),this.eventGenerator_=new i3(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},e.prototype.getCompleteServerCache=function(t){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!n.getImmediateChild(t.getFront()).isEmpty())?n.getChild(t):null},e.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},e.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},e.prototype.removeEventRegistration=function(t,n){var r=[];if(n){K(t==null,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<this.eventRegistrations_.length;++a){var c=this.eventRegistrations_[a];if(!c.matches(t))s.push(c);else if(t.hasAnyCallback()){s=s.concat(this.eventRegistrations_.slice(a+1));break}}this.eventRegistrations_=s}else this.eventRegistrations_=[];return r},e.prototype.applyOperation=function(t,n,r){t.type===kr.MERGE&&t.source.queryId!==null&&(K(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),K(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,s=this.processor_.applyOperation(i,t,n,r);return this.processor_.assertIndexed(s.viewCache),K(s.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=s.viewCache,this.generateEventsForChanges_(s.changes,s.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(t){var n=this.viewCache_.getEventCache(),r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(Jt,function(s,a){r.push(Qa(s,a))})}return n.isFullyInitialized()&&r.push(MN(n.getNode())),this.generateEventsForChanges_(r,n.getNode(),t)},e.prototype.generateEventsForChanges_=function(t,n,r){var i=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,n,i)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sh,Iy=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return K(sh,"Reference.ts has not been loaded"),sh},set:function(t){K(!sh,"__referenceConstructor has already been defined"),sh=t},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.views.size===0},e.prototype.applyOperation=function(t,n,r){var i,s,a=t.source.queryId;if(a!==null){var c=this.views.get(a);return K(c!=null,"SyncTree gave us an op for an invalid query."),c.applyOperation(t,n,r)}else{var l=[];try{for(var h=Ie(this.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(c.applyOperation(t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}},e.prototype.getView=function(t,n,r,i){var s=t.queryIdentifier(),a=this.views.get(s);if(!a){var c=n.calcCompleteEventCache(i?r:null),l=!1;c?l=!0:r instanceof It?(c=n.calcCompleteEventChildren(r),l=!1):(c=It.EMPTY_NODE,l=!1);var h=new LN(new Ao(c,l,!1),new Ao(r,i,!1));return new o3(t,h)}return a},e.prototype.addEventRegistration=function(t,n,r,i,s){var a=this.getView(t,r,i,s);return this.views.has(t.queryIdentifier())||this.views.set(t.queryIdentifier(),a),a.addEventRegistration(n),a.getInitialEvents(n)},e.prototype.removeEventRegistration=function(t,n,r){var i,s,a=t.queryIdentifier(),c=[],l=[],h=this.hasCompleteView();if(a==="default")try{for(var d=Ie(this.views.entries()),v=d.next();!v.done;v=d.next()){var m=Zc(v.value,2),y=m[0],b=m[1];l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(y),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery()))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var b=this.views.get(a);b&&(l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(a),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery())))}return h&&!this.hasCompleteView()&&c.push(new e.__referenceConstructor(t.repo,t.path)),{removed:c,events:l}},e.prototype.getQueryViews=function(){var t,n,r=[];try{for(var i=Ie(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.getCompleteServerCache=function(t){var n,r,i=null;try{for(var s=Ie(this.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||c.getCompleteServerCache(t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},e.prototype.viewForQuery=function(t){var n=t.getQueryParams();if(n.loadsAllData())return this.getCompleteView();var r=t.queryIdentifier();return this.views.get(r)},e.prototype.viewExistsForQuery=function(t){return this.viewForQuery(t)!=null},e.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},e.prototype.getCompleteView=function(){var t,n;try{for(var r=Ie(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pi=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new er(null))},e}();function Rc(e,t,n){if(t.isEmpty())return new Pi(new er(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=et.relativePath(i,t);return s=s.updateChild(a,n),new Pi(e.writeTree_.set(i,s))}else{var c=new er(n),l=e.writeTree_.setTree(t,c);return new Pi(l)}}function gm(e,t,n){var r=e;return Ue(n,function(i,s){r=Rc(r,t.child(i),s)}),r}function SS(e,t){if(t.isEmpty())return Pi.empty();var n=e.writeTree_.setTree(t,new er(null));return new Pi(n)}function mm(e,t){return lo(e,t)!=null}function lo(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(et.relativePath(n.path,t)):null}function AS(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Jt,function(r,i){t.push(new Dt(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new Dt(r,i.value))}),t}function io(e,t){if(t.isEmpty())return e;var n=lo(e,t);return n!=null?new Pi(new er(n)):new Pi(e.writeTree_.subtree(t))}function ym(e){return e.writeTree_.isEmpty()}function ya(e,t){return FN(et.Empty,e.writeTree_,t)}function FN(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(K(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=FN(e.child(i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(e.child(".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s3=function(){function e(){this.visibleWrites_=Pi.empty(),this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(t){return new a3(t,this)},e.prototype.addOverwrite=function(t,n,r,i){K(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),this.allWrites_.push({path:t,snap:n,writeId:r,visible:i}),i&&(this.visibleWrites_=Rc(this.visibleWrites_,t,n)),this.lastWriteId_=r},e.prototype.addMerge=function(t,n,r){K(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:n,writeId:r,visible:!0}),this.visibleWrites_=gm(this.visibleWrites_,t,n),this.lastWriteId_=r},e.prototype.getWrite=function(t){for(var n=0;n<this.allWrites_.length;n++){var r=this.allWrites_[n];if(r.writeId===t)return r}return null},e.prototype.removeWrite=function(t){var n=this,r=this.allWrites_.findIndex(function(d){return d.writeId===t});K(r>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[r];this.allWrites_.splice(r,1);for(var s=i.visible,a=!1,c=this.allWrites_.length-1;s&&c>=0;){var l=this.allWrites_[c];l.visible&&(c>=r&&this.recordContainsPath_(l,i.path)?s=!1:i.path.contains(l.path)&&(a=!0)),c--}if(s){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=SS(this.visibleWrites_,i.path);else{var h=i.children;Ue(h,function(d){n.visibleWrites_=SS(n.visibleWrites_,i.path.child(d))})}return!0}else return!1},e.prototype.getCompleteWriteData=function(t){return lo(this.visibleWrites_,t)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(!r&&!i){var s=lo(this.visibleWrites_,t);if(s!=null)return s;var a=io(this.visibleWrites_,t);if(ym(a))return n;if(n==null&&!mm(a,et.Empty))return null;var c=n||It.EMPTY_NODE;return ya(a,c)}else{var l=io(this.visibleWrites_,t);if(!i&&ym(l))return n;if(!i&&n==null&&!mm(l,et.Empty))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(m.path.contains(t)||t.contains(m.path))},d=e.layerTree_(this.allWrites_,h,t),c=n||It.EMPTY_NODE;return ya(d,c)}},e.prototype.calcCompleteEventChildren=function(t,n){var r=It.EMPTY_NODE,i=lo(this.visibleWrites_,t);if(i)return i.isLeafNode()||i.forEachChild(Jt,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=io(this.visibleWrites_,t);return n.forEachChild(Jt,function(c,l){var h=ya(io(s,new et(c)),l);r=r.updateImmediateChild(c,h)}),AS(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=io(this.visibleWrites_,t);return AS(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}},e.prototype.calcEventCacheAfterServerOverwrite=function(t,n,r,i){K(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=t.child(n);if(mm(this.visibleWrites_,s))return null;var a=io(this.visibleWrites_,s);return ym(a)?i.getChild(n):ya(a,i.getChild(n))},e.prototype.calcCompleteChild=function(t,n,r){var i=t.child(n),s=lo(this.visibleWrites_,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=io(this.visibleWrites_,i);return ya(a,r.getNode().getImmediateChild(n))}else return null},e.prototype.shadowingWrite=function(t){return lo(this.visibleWrites_,t)},e.prototype.calcIndexedSlice=function(t,n,r,i,s,a){var c,l=io(this.visibleWrites_,t),h=lo(l,et.Empty);if(h!=null)c=h;else if(n!=null)c=ya(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),m=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=m.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=m.getNext();return d}else return[]},e.prototype.recordContainsPath_=function(t,n){if(t.snap)return t.path.contains(n);for(var r in t.children)if(t.children.hasOwnProperty(r)&&t.path.child(r).contains(n))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,et.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(t){return t.visible},e.layerTree_=function(t,n,r){for(var i=Pi.empty(),s=0;s<t.length;++s){var a=t[s];if(n(a)){var c=a.path,l=void 0;if(a.snap)r.contains(c)?(l=et.relativePath(r,c),i=Rc(i,l,a.snap)):c.contains(r)&&(l=et.relativePath(c,r),i=Rc(i,et.Empty,a.snap.getChild(l)));else if(a.children){if(r.contains(c))l=et.relativePath(r,c),i=gm(i,l,a.children);else if(c.contains(r))if(l=et.relativePath(c,r),l.isEmpty())i=gm(i,et.Empty,a.children);else{var h=Pr(a.children,l.getFront());if(h){var d=h.getChild(l.popFront());i=Rc(i,et.Empty,d)}}}else throw yu("WriteRecord should have .snap or .children")}}return i},e}(),a3=function(){function e(t,n){this.treePath_=t,this.writeTree_=n}return e.prototype.calcCompleteEventCache=function(t,n,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,n,r)},e.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},e.prototype.calcEventCacheAfterServerOverwrite=function(t,n,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,n,r)},e.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},e.prototype.calcIndexedSlice=function(t,n,r,i,s){return this.writeTree_.calcIndexedSlice(this.treePath_,t,n,r,i,s)},e.prototype.calcCompleteChild=function(t,n){return this.writeTree_.calcCompleteChild(this.treePath_,t,n)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CS=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new er(null),this.pendingWriteTree_=new s3,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(t,n,r,i){return this.pendingWriteTree_.addOverwrite(t,n,r,i),i?this.applyOperationToSyncPoints_(new Rh(Ai.user(),t,n)):[]},e.prototype.applyUserMerge=function(t,n,r){this.pendingWriteTree_.addMerge(t,n,r);var i=er.fromObject(n);return this.applyOperationToSyncPoints_(new dm(Ai.user(),t,i))},e.prototype.ackUserWrite=function(t,n){n===void 0&&(n=!1);var r=this.pendingWriteTree_.getWrite(t),i=this.pendingWriteTree_.removeWrite(t);if(i){var s=new er(null);return r.snap!=null?s=s.set(et.Empty,!0):Ue(r.children,function(a){s=s.set(new et(a),!0)}),this.applyOperationToSyncPoints_(new X4(r.path,s,n))}else return[]},e.prototype.applyServerOverwrite=function(t,n){return this.applyOperationToSyncPoints_(new Rh(Ai.server(),t,n))},e.prototype.applyServerMerge=function(t,n){var r=er.fromObject(n);return this.applyOperationToSyncPoints_(new dm(Ai.server(),t,r))},e.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new IS(Ai.server(),t))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(i!=null){var s=e.parseQueryKey_(i),a=s.path,c=s.queryId,l=et.relativePath(a,t),h=new Rh(Ai.forServerTaggedQuery(c),l,n);return this.applyTaggedOperation_(a,h)}else return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var s=e.parseQueryKey_(i),a=s.path,c=s.queryId,l=et.relativePath(a,t),h=er.fromObject(n),d=new dm(Ai.forServerTaggedQuery(c),l,h);return this.applyTaggedOperation_(a,d)}else return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),s=i.path,a=i.queryId,c=et.relativePath(s,t),l=new IS(Ai.forServerTaggedQuery(a),c);return this.applyTaggedOperation_(s,l)}else return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(E,I){var R=et.relativePath(E,r);i=i||I.getCompleteServerCache(R),s=s||I.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(s=s||a.hasCompleteView(),i=i||a.getCompleteServerCache(et.Empty)):(a=new Iy,this.syncPointTree_=this.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=It.EMPTY_NODE;var l=this.syncPointTree_.subtree(r);l.foreachChild(function(E,I){var R=I.getCompleteServerCache(et.Empty);R&&(i=i.updateImmediateChild(E,R))})}var h=a.viewExistsForQuery(t);if(!h&&!t.getQueryParams().loadsAllData()){var d=e.makeQueryKey_(t);K(!this.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=e.getNextQueryTag_();this.queryToTagMap.set(d,v),this.tagToQueryMap.set(v,d)}var m=this.pendingWriteTree_.childWrites(r),y=a.addEventRegistration(t,n,m,i,c);if(!h&&!s){var b=a.viewForQuery(t);y=y.concat(this.setupListener_(t,b))}return y},e.prototype.removeEventRegistration=function(t,n,r){var i=this,s=t.path,a=this.syncPointTree_.get(s),c=[];if(a&&(t.queryIdentifier()==="default"||a.viewExistsForQuery(t))){var l=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var h=l.removed;c=l.events;var d=h.findIndex(function(D){return D.getQueryParams().loadsAllData()})!==-1,v=this.syncPointTree_.findOnPath(s,function(D,F){return F.hasCompleteView()});if(d&&!v){var m=this.syncPointTree_.subtree(s);if(!m.isEmpty())for(var y=this.collectDistinctViewsForSubTree_(m),b=0;b<y.length;++b){var E=y[b],I=E.getQuery(),R=this.createListenerForView_(E);this.listenProvider_.startListening(e.queryForListening_(I),this.tagForQuery_(I),R.hashFn,R.onComplete)}}if(!v&&h.length>0&&!r)if(d){var P=null;this.listenProvider_.stopListening(e.queryForListening_(t),P)}else h.forEach(function(D){var F=i.queryToTagMap.get(e.makeQueryKey_(D));i.listenProvider_.stopListening(e.queryForListening_(D),F)});this.removeTags_(h)}return c},e.prototype.calcCompleteEventCache=function(t,n){var r=!0,i=this.pendingWriteTree_,s=this.syncPointTree_.findOnPath(t,function(a,c){var l=et.relativePath(a,t),h=c.getCompleteServerCache(l);if(h)return h});return i.calcCompleteEventCache(t,s,n,r)},e.prototype.getServerValue=function(t){var n=t.path,r=null;this.syncPointTree_.foreachOnPath(n,function(h,d){var v=et.relativePath(h,n);r=r||d.getCompleteServerCache(v)});var i=this.syncPointTree_.get(n);i?r=r||i.getCompleteServerCache(et.Empty):(i=new Iy,this.syncPointTree_=this.syncPointTree_.set(n,i));var s=r!=null,a=s?new Ao(r,!0,!1):null,c=this.pendingWriteTree_.childWrites(t.path),l=i.getView(t,c,s?a.getNode():It.EMPTY_NODE,s);return l.getCompleteNode()},e.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(n,r,i){if(r&&r.hasCompleteView()){var s=r.getCompleteView();return[s]}else{var a=[];return r&&(a=r.getQueryViews()),Ue(i,function(c,l){a=a.concat(l)}),a}})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),s=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(s)}}},e.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)K(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,m,y){if(!v.isEmpty()&&m&&m.hasCompleteView())return[m.getCompleteView().getQuery()];var b=[];return m&&(b=b.concat(m.getQueryViews().map(function(E){return E.getQuery()}))),Ue(y,function(E,I){b=b.concat(I)}),b}),h=0;h<l.length;++h){var d=l[h];this.listenProvider_.stopListening(e.queryForListening_(d),this.tagForQuery_(d))}return a},e.prototype.createListenerForView_=function(t){var n=this,r=t.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){var s=t.getServerCache()||It.EMPTY_NODE;return s.hash()},onComplete:function(s){if(s==="ok")return i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path);var a=y4(s,r);return n.removeEventRegistration(r,null,a)}}},e.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},e.parseQueryKey_=function(t){var n=t.indexOf("$");return K(n!==-1&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new et(t.substr(0,n))}},e.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(t,n){var r=this.syncPointTree_.get(t);K(r,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return r.applyOperation(n,i,null)},e.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(et.Empty))},e.prototype.applyOperationHelper_=function(t,n,r,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,n,r,i);var s=n.get(et.Empty);r==null&&s!=null&&(r=s.getCompleteServerCache(et.Empty));var a=[],c=t.path.getFront(),l=t.operationForChild(c),h=n.children.get(c);if(h&&l){var d=r?r.getImmediateChild(c):null,v=i.child(c);a=a.concat(this.applyOperationHelper_(l,h,d,v))}return s&&(a=a.concat(s.applyOperation(t,i,r))),a},e.prototype.applyOperationDescendantsHelper_=function(t,n,r,i){var s=this,a=n.get(et.Empty);r==null&&a!=null&&(r=a.getCompleteServerCache(et.Empty));var c=[];return n.children.inorderTraversal(function(l,h){var d=r?r.getImmediateChild(l):null,v=i.child(l),m=t.operationForChild(l);m&&(c=c.concat(s.applyOperationDescendantsHelper_(m,h,d,v)))}),a&&(c=c.concat(a.applyOperation(t,i,r))),c},e.nextQueryTag_=1,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u3=function(){function e(){this.rootNode_=It.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c3=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),$n(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return J1(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kh=function(){function e(){}return e.getCollection=function(t){var n=t.toString();return this.collections_[n]||(this.collections_[n]=new c3),this.collections_[n]},e.getOrCreateReporter=function(t,n){var r=t.toString();return this.reporters_[r]||(this.reporters_[r]=n()),this.reporters_[r]},e.collections_={},e.reporters_={},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UN=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=te({},t);return this.last_&&Ue(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NS=10*1e3,l3=30*1e3,f3=5*60*1e3,h3=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new UN(t);var r=NS+(l3-NS)*Math.random();Uc(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.includeStat=function(t){this.statsToReport_[t]=!0},e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;Ue(n,function(s,a){a>0&&$n(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),Uc(this.reportStats_.bind(this),Math.floor(Math.random()*2*f3))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p3=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!s.equals(n.getPath())&&(this.eventLists_.push(n),n=null),n===null&&(n=new d3(s)),n.add(i)}n&&this.eventLists_.push(n)},e.prototype.raiseEventsAtPath=function(t,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.equals(t)})},e.prototype.raiseEventsForChangedPath=function(t,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.contains(t)||t.contains(r)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var n=!0,r=0;r<this.eventLists_.length;r++){var i=this.eventLists_[r];if(i){var s=i.getPath();t(s)?(this.eventLists_[r].raise(),this.eventLists_[r]=null):n=!1}}n&&(this.eventLists_=[]),this.recursionDepth_--},e}(),d3=function(){function e(t){this.path_=t,this.events_=[]}return e.prototype.add=function(t){this.events_.push(t)},e.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var n=this.events_[t];if(n!==null){this.events_[t]=null;var r=n.getEventRunner();bs&&sn("event: "+n.toString()),Na(r)}}},e.prototype.getPath=function(){return this.path_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jN=function(){function e(t){this.allowedEvents_=t,this.listeners_={},K(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=Hi(this.listeners_[t]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){K(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v3=function(e){J(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return K(n==="visible","Unknown event type: "+n),[this.visible_]},t}(jN);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RS=function(e){J(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!N_()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return K(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(jN);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g3=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&Na(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OS="start",m3="close",y3="pLPCommand",_3="pRTLPCB",VN="id",BN="pw",qN="ser",w3="cb",b3="seg",E3="ts",I3="d",T3="dframe",HN=1870,WN=30,S3=HN-WN,A3=25e3,C3=3e4,q_=function(){function e(t,n,r,i,s){this.connId=t,this.repoInfo=n,this.applicationId=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Rl(t),this.stats_=Kh.getCollection(n),this.urlFn=function(a){return n.connectionURL(EN,a)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new g3(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(C3)),d4(function(){if(!r.isClosed_){r.scriptTagHolder=new N3(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Zc(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===OS)r.id=d,r.password=v;else if(h===m3)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Zc(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[OS]="t",i[qN]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[w3]=r.scriptTagHolder.uniqueCallbackIdentifier),i[vN]=M_,r.transportSessionId&&(i[gN]=r.transportSessionId),r.lastSessionId&&(i[wN]=r.lastSessionId),r.applicationId&&(i[E4]=r.applicationId),typeof location<"u"&&location.hostname&&_N.test(location.hostname)&&(i[mN]=yN);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!g4()&&!m4()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Fe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=gV(n),i=hN(r,S3),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[T3]="t",r[VN]=t,r[BN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Fe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),N3=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cN(),window[y3+this.uniqueCallbackIdentifier]=t,window[_3+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){sn("frame writing exception"),l.stack&&sn(l.stack),sn(l)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||sn("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[VN]=this.myID,t[BN]=this.myPW,t[qN]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+WN+r.length<=HN){var a=this.pendingSegs.shift();r=r+"&"+b3+i+"="+a.seg+"&"+E3+i+"="+a.ts+"&"+I3+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(A3)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){sn("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GN="";function $N(e){GN=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R3=16384,O3=45e3,Qh=null;typeof MozWebSocket<"u"?Qh=MozWebSocket:typeof WebSocket<"u"&&(Qh=WebSocket);var fs=function(){function e(t,n,r,i,s){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Rl(this.connId),this.stats_=Kh.getCollection(n),this.connURL=e.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r){var i={};return i[vN]=M_,typeof location<"u"&&location.hostname&&_N.test(location.hostname)&&(i[mN]=yN),n&&(i[gN]=n),r&&(i[wN]=r),t.connectionURL(bN,i)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ds.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!tN()){var s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Qh(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Qh!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return ds.isInMemoryStorage||ds.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){ds.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=el(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(K(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Fe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=hN(n,R3);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(O3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x3=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[q_,fs]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=fs&&fs.isAvailable(),s=i&&!fs.previouslyFailed();if(t.webSocketOnly&&(i||vn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[fs];else{var a=this.transports_=[];try{for(var c=Ie(e.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P3=6e4,k3=5e3,D3=10*1024,L3=100*1024,_m="t",xS="d",M3="s",PS="r",F3="e",kS="o",DS="a",LS="n",MS="p",U3="h",zN=function(){function e(t,n,r,i,s,a,c,l){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Rl("c:"+this.id+":"),this.transportManager_=new x3(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=Uc(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>L3?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>D3?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(_m in t){var n=t[_m];n===DS?this.upgradeIfSecondaryHealthy_():n===PS?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kS&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=wc("t",t),r=wc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:MS,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DS,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LS,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=wc("t",t),r=wc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=wc(_m,t);if(xS in t){var r=t[xS];if(n===U3)this.onHandshake_(r);else if(n===LS){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===M3?this.onConnectionShutdown_(r):n===PS?this.onReset_(r):n===F3?gy("Server Error: "+r):n===kS?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gy("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),M_!==r&&vn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),Uc(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(P3))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uc(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(k3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:MS,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ds.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KN=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ic=1e3,j3=60*5*1e3,V3=3*1e3,FS=30*1e3,B3=1.3,q3=3e4,H3="server_kill",W3=3,Es=function(e){J(t,e);function t(n,r,i,s,a,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=Rl("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Ic,h.maxReconnectDelay_=j3,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!tN())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),v3.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&RS.getInstance().on("online",h.onOnline_,h),h}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Fe(a)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this,i=new Bn,s={p:n.path.toString(),q:n.queryObject()},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},V3),this.connected_&&this.sendGet_(c),i.promise},t.prototype.listen=function(n,r,i,s){var a=n.queryIdentifier(),c=n.path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i.path.toString(),a=i.queryIdentifier();this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i.queryObject(),c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&$n(n,"w")){var i=Pr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',a=r.path.toString();vn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||CV(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=FS)},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=AV(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},t.prototype.unlisten=function(n,r){var i=n.path.toString(),s=n.queryIdentifier();this.log_("Unlisten called for "+i+" "+s),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n.queryObject(),r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},t.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Fe(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):gy("Unrecognized action received from server: "+Fe(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ic,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ic,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>q3&&(this.reconnectDelay_=Ic),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*B3)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+t.nextConnectionId_++,c=this,l=this.lastSessionId,h=!1,d=null,v=function(){d?d.close():(h=!0,s())},m=function(b){K(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:v,sendRequest:m};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(b){h?sn("getToken() completed but was canceled"):(sn("getToken() completed. Creating connection."),c.authToken_=b&&b.accessToken,d=new zN(a,c.repoInfo_,c.applicationId_,r,i,s,function(E){vn(E+" ("+c.repoInfo_.toString()+")"),c.interrupt(H3)},l))}).then(null,function(b){c.log_("Failed to get token: "+b),h||(n.repoInfo_.nodeAdmin&&vn(b),v())})}},t.prototype.interrupt=function(n){sn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){sn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],py(this.interruptReasons_)&&(this.reconnectDelay_=Ic,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return D_(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new et(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){sn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=W3&&(this.reconnectDelay_=FS,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth();try{for(var a=Ie(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,Ie(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+GN.replace(/\./g,"-")]=1,N_()?n["framework.cordova"]=1:Z1()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=RS.getInstance().currentlyOnline();return py(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(KN);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G3=function(e){J(t,e);function t(n,r,i){var s=e.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.log_=Rl("p:rest:"),s.listens_={},s}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(K(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,c=n.path.toString();this.log_("Listen called for "+c+" "+n.queryIdentifier());var l=t.getListenId_(n,i),h={};this.listens_[l]=h;var d=n.getQueryParams().toRestQueryStringParameters();this.restRequest_(c+".json",d,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),Pr(a.listens_,l)===h){var b;v?v===401?b="permission_denied":b="rest_error:"+v:b="ok",s(b,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=n.getQueryParams().toRestQueryStringParameters(),s=n.path.toString(),a=new Bn;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var c=a&&a.accessToken;c&&(r.auth=c);var l=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+NV(r);s.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){s.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var d=null;if(h.status>=200&&h.status<300){try{d=el(h.responseText)}catch{vn("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&vn("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})},t}(KN);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var US=function(){function e(){this.children={},this.childCount=0,this.value=null}return e}(),$3=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r=new US),this.name_=t,this.parent_=n,this.node_=r}return e.prototype.subTree=function(t){for(var n=t instanceof et?t:new et(t),r=this,i=n.getFront();i!==null;){var s=Pr(r.node_.children,i)||new US;r=new e(i,r,s),n=n.popFront(),i=n.getFront()}return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(t){K(typeof t<"u","Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;Ue(this.node_.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(t,n,r){n&&!r&&t(this),this.forEachChild(function(i){i.forEachDescendant(t,!0,r)}),n&&r&&t(this)},e.prototype.forEachAncestor=function(t,n){for(var r=n?this:this.parent();r!==null;){if(t(r))return!0;r=r.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(n){n.getValue()!==null?t(n):n.forEachImmediateDescendantWithValue(t)})},e.prototype.path=function(){return new et(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(t,n){var r=n.isEmpty(),i=$n(this.node_.children,t);r&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):!r&&!i&&(this.node_.children[t]=n.node_,this.node_.childCount++,this.updateParents_())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jS="repo_interrupt",z3=25,Ne;(function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"})(Ne||(Ne={}));var H_=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.app=r,this.authTokenProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new p3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new hm,this.transactionQueueTree_=new $3,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.start=function(){var t=this;if(this.stats_=Kh.getCollection(this.repoInfo_),this.forceRestClient_||w4())this.server_=new G3(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var n=this.app.options.databaseAuthVariableOverride;if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}this.persistentConnection_=new Es(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,n),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(r){t.server_.refreshAuthToken(r)}),this.statsReporter_=Kh.getOrCreateReporter(this.repoInfo_,function(){return new h3(t.stats_,t.server_)}),this.infoData_=new u3,this.infoSyncTree_=new CS({startListening:function(r,i,s,a){var c=[],l=t.infoData_.getNode(r.path);return l.isEmpty()||(c=t.infoSyncTree_.applyServerOverwrite(r.path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new CS({startListening:function(r,i,s,a){return t.server_.listen(r,s,i,function(c,l){var h=a(c,l);t.eventQueue_.raiseEventsForChangedPath(r.path,h)}),[]},stopListening:function(r,i){t.server_.unlisten(r,i)}})},e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var t=this.infoData_.getNode(new et(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n},e.prototype.generateServerValues=function(){return K4({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(t,n,r,i){this.dataUpdateCount++;var s=new et(t);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var c=Hh(n,function(m){return he(m)});a=this.serverSyncTree_.applyTaggedQueryMerge(s,c,i)}else{var l=he(n);a=this.serverSyncTree_.applyTaggedQueryOverwrite(s,l,i)}else if(r){var h=Hh(n,function(m){return he(m)});a=this.serverSyncTree_.applyServerMerge(s,h)}else{var d=he(n);a=this.serverSyncTree_.applyServerOverwrite(s,d)}var v=s;a.length>0&&(v=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(v,a)},e.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},e.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),t===!1&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(t){var n=this;Ue(t,function(r,i){n.updateInfo_(r,i)})},e.prototype.updateInfo_=function(t,n){var r=new et("/.info/"+t),i=he(n);this.infoData_.updateSnapshot(r,i);var s=this.infoSyncTree_.applyServerOverwrite(r,i);this.eventQueue_.raiseEventsForChangedPath(r,s)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.getValue=function(t){var n=this,r=this.serverSyncTree_.getServerValue(t);return r!=null?Promise.resolve(new ho(r,t.getRef(),t.getQueryParams().getIndex())):this.server_.get(t).then(function(i){var s=he(i),a=n.serverSyncTree_.applyServerOverwrite(t.path,s);return n.eventQueue_.raiseEventsAtPath(t.path,a),Promise.resolve(new ho(s,t.getRef(),t.getQueryParams().getIndex()))},function(i){return n.log_("get for query "+Fe(t)+" failed: "+i),Promise.reject(new Error(i))})},e.prototype.setWithPriority=function(t,n,r,i){var s=this;this.log_("set",{path:t.toString(),value:n,priority:r});var a=this.generateServerValues(),c=he(n,r),l=this.serverSyncTree_.calcCompleteEventCache(t),h=fm(c,l,a),d=this.getNextWriteId_(),v=this.serverSyncTree_.applyUserOverwrite(t,h,d,!0);this.eventQueue_.queueEvents(v),this.server_.put(t.toString(),c.val(!0),function(y,b){var E=y==="ok";E||vn("set at "+t+" failed: "+y);var I=s.serverSyncTree_.ackUserWrite(d,!E);s.eventQueue_.raiseEventsForChangedPath(t,I),s.callOnCompleteCallback(i,y,b)});var m=this.abortTransactions_(t);this.rerunTransactions_(m),this.eventQueue_.raiseEventsForChangedPath(m,[])},e.prototype.update=function(t,n,r){var i=this;this.log_("update",{path:t.toString(),value:n});var s=!0,a=this.generateServerValues(),c={};if(Ue(n,function(d,v){s=!1,c[d]=ES(t.child(d),he(v),i.serverSyncTree_,a)}),s)sn("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(t,c,l);this.eventQueue_.queueEvents(h),this.server_.merge(t.toString(),n,function(d,v){var m=d==="ok";m||vn("update at "+t+" failed: "+d);var y=i.serverSyncTree_.ackUserWrite(l,!m),b=y.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(b,y),i.callOnCompleteCallback(r,d,v)}),Ue(n,function(d){var v=i.abortTransactions_(t.child(d));i.rerunTransactions_(v)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},e.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),r=new hm;this.onDisconnect_.forEachTree(et.Empty,function(s,a){var c=ES(s,a,t.serverSyncTree_,n);r.remember(s,c)});var i=[];r.forEachTree(et.Empty,function(s,a){i=i.concat(t.serverSyncTree_.applyServerOverwrite(s,a));var c=t.abortTransactions_(s);t.rerunTransactions_(c)}),this.onDisconnect_=new hm,this.eventQueue_.raiseEventsForChangedPath(et.Empty,i)},e.prototype.onDisconnectCancel=function(t,n){var r=this;this.server_.onDisconnectCancel(t.toString(),function(i,s){i==="ok"&&r.onDisconnect_.forget(t),r.callOnCompleteCallback(n,i,s)})},e.prototype.onDisconnectSet=function(t,n,r){var i=this,s=he(n);this.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,c){a==="ok"&&i.onDisconnect_.remember(t,s),i.callOnCompleteCallback(r,a,c)})},e.prototype.onDisconnectSetWithPriority=function(t,n,r,i){var s=this,a=he(n,r);this.server_.onDisconnectPut(t.toString(),a.val(!0),function(c,l){c==="ok"&&s.onDisconnect_.remember(t,a),s.callOnCompleteCallback(i,c,l)})},e.prototype.onDisconnectUpdate=function(t,n,r){var i=this;if(py(n)){sn("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(t.toString(),n,function(s,a){s==="ok"&&Ue(n,function(c,l){var h=he(l);i.onDisconnect_.remember(t.child(c),h)}),i.callOnCompleteCallback(r,s,a)})},e.prototype.addEventCallbackForQuery=function(t,n){var r;t.path.getFront()===".info"?r=this.infoSyncTree_.addEventRegistration(t,n):r=this.serverSyncTree_.addEventRegistration(t,n),this.eventQueue_.raiseEventsAtPath(t.path,r)},e.prototype.removeEventCallbackForQuery=function(t,n){var r;t.path.getFront()===".info"?r=this.infoSyncTree_.removeEventRegistration(t,n):r=this.serverSyncTree_.removeEventRegistration(t,n),this.eventQueue_.raiseEventsAtPath(t.path,r)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(jS)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(jS)},e.prototype.stats=function(t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(this.statsListener_||(this.statsListener_=new UN(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);Ue(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}},e.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},e.prototype.log_=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),sn.apply(void 0,Hi([r],t))},e.prototype.callOnCompleteCallback=function(t,n,r){t&&Na(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new W_(this))},enumerable:!1,configurable:!0}),e.prototype.startTransaction=function(t,n,r,i){this.log_("transaction on "+t);var s=function(){},a=new Oi(this,t);a.on("value",s);var c=function(){a.off("value",s)},l={path:t,update:n,onComplete:r,status:null,order:cN(),applyLocally:i,retryCount:0,unwatcher:c,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(t);l.currentInputSnapshot=h;var d=l.update(h.val());if(d===void 0){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var v=new ho(l.currentInputSnapshot,new Oi(this,l.path),Jt);l.onComplete(null,!1,v)}}else{rl("transaction failed: Data returned ",d,l.path),l.status=Ne.RUN;var m=this.transactionQueueTree_.subTree(t),y=m.getValue()||[];y.push(l),m.setValue(y);var b=void 0;if(typeof d=="object"&&d!==null&&$n(d,".priority"))b=Pr(d,".priority"),K(nl(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var E=this.serverSyncTree_.calcCompleteEventCache(t)||It.EMPTY_NODE;b=E.getPriority().val()}var I=this.generateServerValues(),R=he(d,b),P=fm(R,h,I);l.currentOutputSnapshotRaw=R,l.currentOutputSnapshotResolved=P,l.currentWriteId=this.getNextWriteId_();var D=this.serverSyncTree_.applyUserOverwrite(t,P,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,D),this.sendReadyTransactions_()}},e.prototype.getLatestState_=function(t,n){return this.serverSyncTree_.calcCompleteEventCache(t,n)||It.EMPTY_NODE},e.prototype.sendReadyTransactions_=function(t){var n=this;if(t===void 0&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),t.getValue()!==null){var r=this.buildTransactionQueue_(t);K(r.length>0,"Sending zero length transaction queue");var i=r.every(function(s){return s.status===Ne.RUN});i&&this.sendTransactionQueue_(t.path(),r)}else t.hasChildren()&&t.forEachChild(function(s){n.sendReadyTransactions_(s)})},e.prototype.sendTransactionQueue_=function(t,n){for(var r=this,i=n.map(function(y){return y.currentWriteId}),s=this.getLatestState_(t,i),a=s,c=s.hash(),l=0;l<n.length;l++){var h=n[l];K(h.status===Ne.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=Ne.SENT,h.retryCount++;var d=et.relativePath(t,h.path);a=a.updateChild(d,h.currentOutputSnapshotRaw)}var v=a.val(!0),m=t;this.server_.put(m.toString(),v,function(y){r.log_("transaction put response",{path:m.toString(),status:y});var b=[];if(y==="ok"){for(var E=[],I=0;I<n.length;I++){if(n[I].status=Ne.COMPLETED,b=b.concat(r.serverSyncTree_.ackUserWrite(n[I].currentWriteId)),n[I].onComplete){var R=n[I].currentOutputSnapshotResolved,P=new Oi(r,n[I].path),D=new ho(R,P,Jt);E.push(n[I].onComplete.bind(null,null,!0,D))}n[I].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(t)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(t,b);for(var I=0;I<E.length;I++)Na(E[I])}else{if(y==="datastale")for(var I=0;I<n.length;I++)n[I].status===Ne.SENT_NEEDS_ABORT?n[I].status=Ne.NEEDS_ABORT:n[I].status=Ne.RUN;else{vn("transaction at "+m.toString()+" failed: "+y);for(var I=0;I<n.length;I++)n[I].status=Ne.NEEDS_ABORT,n[I].abortReason=y}r.rerunTransactions_(t)}},c)},e.prototype.rerunTransactions_=function(t){var n=this.getAncestorTransactionNode_(t),r=n.path(),i=this.buildTransactionQueue_(n);return this.rerunTransactionQueue_(i,r),r},e.prototype.rerunTransactionQueue_=function(t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(U){return U.status===Ne.RUN}),a=s.map(function(U){return U.currentWriteId}),c=0;c<t.length;c++){var l=t[c],h=et.relativePath(n,l.path),d=!1,v=void 0;if(K(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===Ne.NEEDS_ABORT)d=!0,v=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===Ne.RUN)if(l.retryCount>=z3)d=!0,v="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var m=this.getLatestState_(l.path,a);l.currentInputSnapshot=m;var y=t[c].update(m.val());if(y!==void 0){rl("transaction failed: Data returned ",y,l.path);var b=he(y),E=typeof y=="object"&&y!=null&&$n(y,".priority");E||(b=b.updatePriority(m.getPriority()));var I=l.currentWriteId,R=this.generateServerValues(),P=fm(b,m,R);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=P,l.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(I),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(I,!0))}else d=!0,v="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(n,i),i=[],d&&(t[c].status=Ne.COMPLETED,function(U){setTimeout(U,Math.floor(0))}(t[c].unwatcher),t[c].onComplete))if(v==="nodata"){var D=new Oi(this,t[c].path),F=t[c].currentInputSnapshot,Y=new ho(F,D,Jt);r.push(t[c].onComplete.bind(null,null,!1,Y))}else r.push(t[c].onComplete.bind(null,new Error(v),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var c=0;c<r.length;c++)Na(r[c]);this.sendReadyTransactions_()}},e.prototype.getAncestorTransactionNode_=function(t){var n,r=this.transactionQueueTree_;for(n=t.getFront();n!==null&&r.getValue()===null;)r=r.subTree(n),t=t.popFront(),n=t.getFront();return r},e.prototype.buildTransactionQueue_=function(t){var n=[];return this.aggregateTransactionQueuesForNode_(t,n),n.sort(function(r,i){return r.order-i.order}),n},e.prototype.aggregateTransactionQueuesForNode_=function(t,n){var r=this,i=t.getValue();if(i!==null)for(var s=0;s<i.length;s++)n.push(i[s]);t.forEachChild(function(a){r.aggregateTransactionQueuesForNode_(a,n)})},e.prototype.pruneCompletedTransactionsBelowNode_=function(t){var n=this,r=t.getValue();if(r){for(var i=0,s=0;s<r.length;s++)r[s].status!==Ne.COMPLETED&&(r[i]=r[s],i++);r.length=i,t.setValue(r.length>0?r:null)}t.forEachChild(function(a){n.pruneCompletedTransactionsBelowNode_(a)})},e.prototype.abortTransactions_=function(t){var n=this,r=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor(function(s){n.abortTransactionsOnNode_(s)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(s){n.abortTransactionsOnNode_(s)}),r},e.prototype.abortTransactionsOnNode_=function(t){var n=t.getValue();if(n!==null){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)if(n[a].status!==Ne.SENT_NEEDS_ABORT){if(n[a].status===Ne.SENT)K(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=Ne.SENT_NEEDS_ABORT,n[a].abortReason="set";else if(K(n[a].status===Ne.RUN,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(n[a].currentWriteId,!0)),n[a].onComplete){var c=null;r.push(n[a].onComplete.bind(null,new Error("set"),!1,c))}}s===-1?t.setValue(null):n.length=s+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i);for(var a=0;a<r.length;a++)Na(r[a])}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QN=function(){function e(t){this.indexedFilter_=new B_(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new Dt(n,r))||(r=It.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=It.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(It.EMPTY_NODE);var s=this;return n.forEachChild(Jt,function(a,c){s.matches(new Dt(a,c))||(i=i.updateImmediateChild(a,It.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K3=function(){function e(t){this.rangedFilter_=new QN(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new Dt(n,r))||(r=It.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=It.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=It.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(It.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(I,R){return m(R,I)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,It.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(P,D){return c(D,P)}}else a=this.index_.getCompare();var l=t;K(l.numChildren()===this.limit_,"");var h=new Dt(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var m=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var b=y==null?1:a(y,h),E=v&&!r.isEmpty()&&b>=0;if(E)return s!=null&&s.trackChildChange(sl(n,r,m)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(ol(n,m));var I=l.updateImmediateChild(n,It.EMPTY_NODE),R=y!=null&&this.rangedFilter_.matches(y);return R?(s!=null&&s.trackChildChange(Qa(y.name,y.node)),I.updateImmediateChild(y.name,y.node)):I}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(ol(d.name,d.node)),s.trackChildChange(Qa(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,It.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q3=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fi},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fi},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="",n},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(t,n){var r=this.copy_();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r},e.prototype.startAfter=function(t,n){var r;if(this.index_===ai)typeof t=="string"&&(t=gS(t)),r=this.startAt(t,n);else{var i=void 0;n==null?i=fi:i=gS(n),r=this.startAt(t,i)}return r.startAfterSet_=!0,r},e.prototype.endAt=function(t,n){var r=this.copy_();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r},e.prototype.endBefore=function(t,n){var r,i;return this.index_===ai?(typeof t=="string"&&(t=mS(t)),i=this.endAt(t,n)):(n==null?r=Fi:r=mS(n),i=this.endAt(t,r)),i.endBeforeSet_=!0,i},e.prototype.orderBy=function(t){var n=this.copy_();return n.index_=t,n},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;r===""&&(this.isViewFromLeft()?r=t.VIEW_FROM_LEFT:r=t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Jt&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Jt},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new B_(this.getIndex()):this.hasLimit()?new K3(this):new QN(this)},e.prototype.toRestQueryStringParameters=function(){var t=e.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===Jt?r=t.PRIORITY_INDEX:this.index_===by?r=t.VALUE_INDEX:this.index_===ai?r=t.KEY_INDEX:(K(this.index_ instanceof Ey,"Unrecognized index type!"),r=this.index_.toString()),n[t.ORDER_BY]=Fe(r),this.startSet_&&(n[t.START_AT]=Fe(this.indexStartValue_),this.startNameSet_&&(n[t.START_AT]+=","+Fe(this.indexStartName_))),this.endSet_&&(n[t.END_AT]=Fe(this.indexEndValue_),this.endNameSet_&&(n[t.END_AT]+=","+Fe(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[t.LIMIT_TO_FIRST]=this.limit_:n[t.LIMIT_TO_LAST]=this.limit_),n},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi=function(e){J(t,e);function t(n,r){var i=this;if(!(n instanceof H_))throw new Error("new Reference() no longer supported - use app.database().");return i=e.call(this,n,r,new Q3,!1)||this,i}return t.prototype.getKey=function(){return mt("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(n){return mt("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof et||(this.path.getFront()===null?O4("Reference.child",1,n,!1):il("Reference.child",1,n,!1)),new t(this.repo,this.path.child(n))},t.prototype.getParent=function(){mt("Reference.parent",0,0,arguments.length);var n=this.path.parent();return n===null?null:new t(this.repo,n)},t.prototype.getRoot=function(){mt("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(n,r){mt("Reference.set",1,2,arguments.length),hr("Reference.set",this.path),ni("Reference.set",1,n,this.path,!1),Ke("Reference.set",2,r,!0);var i=new Bn;return this.repo.setWithPriority(this.path,n,null,i.wrapCallback(r)),i.promise},t.prototype.update=function(n,r){if(mt("Reference.update",1,2,arguments.length),hr("Reference.update",this.path),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,vn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}TN("Reference.update",1,n,this.path,!1),Ke("Reference.update",2,r,!0);var a=new Bn;return this.repo.update(this.path,n,a.wrapCallback(r)),a.promise},t.prototype.setWithPriority=function(n,r,i){if(mt("Reference.setWithPriority",2,3,arguments.length),hr("Reference.setWithPriority",this.path),ni("Reference.setWithPriority",1,n,this.path,!1),yy("Reference.setWithPriority",2,r,!1),Ke("Reference.setWithPriority",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var s=new Bn;return this.repo.setWithPriority(this.path,n,r,s.wrapCallback(i)),s.promise},t.prototype.remove=function(n){return mt("Reference.remove",0,1,arguments.length),hr("Reference.remove",this.path),Ke("Reference.remove",1,n,!0),this.set(null,n)},t.prototype.transaction=function(n,r,i){if(mt("Reference.transaction",1,3,arguments.length),hr("Reference.transaction",this.path),Ke("Reference.transaction",1,n,!1),Ke("Reference.transaction",2,r,!0),x4("Reference.transaction",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";i===void 0&&(i=!0);var s=new Bn;typeof r=="function"&&s.promise.catch(function(){});var a=function(c,l,h){c?s.reject(c):s.resolve(new k4(l,h)),typeof r=="function"&&r(c,l,h)};return this.repo.startTransaction(this.path,n,a,i),s.promise},t.prototype.setPriority=function(n,r){mt("Reference.setPriority",1,2,arguments.length),hr("Reference.setPriority",this.path),yy("Reference.setPriority",1,n,!1),Ke("Reference.setPriority",2,r,!0);var i=new Bn;return this.repo.setWithPriority(this.path.child(".priority"),n,null,i.wrapCallback(r)),i.promise},t.prototype.push=function(n,r){mt("Reference.push",0,2,arguments.length),hr("Reference.push",this.path),ni("Reference.push",1,n,this.path,!0),Ke("Reference.push",2,r,!0);var i=this.repo.serverTime(),s=D4(i),a=this.child(s),c=this.child(s),l;return n!=null?l=a.set(n,r).then(function(){return c}):l=Promise.resolve(c),a.then=l.then.bind(l),a.catch=l.then.bind(l,void 0),typeof r=="function"&&l.catch(function(){}),a},t.prototype.onDisconnect=function(){return hr("Reference.onDisconnect",this.path),new P4(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(j_);j_.__referenceConstructor=Oi;Iy.__referenceConstructor=Oi;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y3=function(){function e(t,n){var r=this;this.app_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(i){return r.auth_=i})}return e.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)}))},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vn(t)},e}(),VS=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X3="FIREBASE_DATABASE_EMULATOR_HOST",wm,al=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return wm||(wm=new e),wm},e.prototype.interrupt=function(){var t,n,r,i;try{for(var s=Ie(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Ie(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].interrupt()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){t={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.resume=function(){var t,n,r,i;try{for(var s=Ie(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Ie(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].resume()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){t={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},e.prototype.applyEmulatorSettings=function(t,n,r){t.repoInfo_=new F_(n+":"+r,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new VS)},e.prototype.databaseFromApp=function(t,n,r,i){var s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),sn("Using default host for project ",t.options.projectId),s=t.options.projectId+"-default-rtdb.firebaseio.com");var a=my(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=process.env[X3]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=my(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new VS:new Y3(t,n);SN("Invalid Firebase Database URL",1,a),a.path.isEmpty()||ii("Database URL must point to the root of a Firebase Database (not including a child path).");var v=this.createRepo(c,t,d);return v.database},e.prototype.deleteRepo=function(t){var n=Pr(this.repos_,t.app.name);(!n||Pr(n,t.key)!==t)&&ii("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete n[t.key]},e.prototype.createRepo=function(t,n,r){var i=Pr(this.repos_,n.name);i||(i={},this.repos_[n.name]=i);var s=Pr(i,t.toURLString());return s&&ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new H_(t,this.useRestClient_,n,r),i[t.toURLString()]=s,s},e.prototype.forceRestClient=function(t){this.useRestClient_=t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W_=function(){function e(t){var n=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return N(n,void 0,void 0,function(){return C(this,function(r){return this.checkDeleted_("delete"),al.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof H_||ii("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(e.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Oi(this.repo_,et.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.useEmulator=function(t,n){if(this.checkDeleted_("useEmulator"),this.instanceStarted_){ii("Cannot call useEmulator() after instance has already been initialized.");return}al.getInstance().applyEmulatorSettings(this.repoInternal_,t,n)},e.prototype.ref=function(t){return this.checkDeleted_("ref"),mt("database.ref",0,1,arguments.length),t instanceof Oi?this.refFromURL(t.toString()):t!==void 0?this.root_.child(t):this.root_},e.prototype.refFromURL=function(t){var n="database.refFromURL";this.checkDeleted_(n),mt(n,1,1,arguments.length);var r=my(t,this.repo_.repoInfo_.nodeAdmin);SN(n,1,r);var i=r.repoInfo;return!this.repo_.repoInfo_.isCustomHost()&&i.host!==this.repo_.repoInfo_.host&&ii(n+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},e.prototype.checkDeleted_=function(t){this.repoInternal_===null&&ii("Cannot call "+t+" on a deleted database.")},e.prototype.goOffline=function(){mt("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){mt("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J3=function(){fs.forceDisallow(),q_.forceAllow()},Z3=function(){q_.forceDisallow()},tB=function(){return fs.isAvailable()},eB=function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},nB=function(e,t){e.repo.stats(t)},rB=function(e,t){e.repo.statsIncrementCounter(t)},iB=function(e){return e.repo.dataUpdateCount},oB=function(e,t){return e.repo.interceptServerData_(t)};function sB(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,c=a===void 0?!1:a;$N(r);var l=new rN("auth-internal",new iN("database-standalone"));return l.setComponent(new zn("auth-internal",function(){return i},"PRIVATE")),{instance:al.getInstance().databaseFromApp(t,l,n,c),namespace:s}}var aB=Object.freeze({__proto__:null,forceLongPolling:J3,forceWebSockets:Z3,isWebSocketsAvailable:tB,setSecurityDebugCallback:eB,stats:nB,statsIncrementCounter:rB,dataUpdateCount:iB,interceptServerData:oB,initStandalone:sB});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uB=Es;Es.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Es.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var cB=zN,lB=function(e){var t=Es.prototype.put;return Es.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Es.prototype.put=t}},fB=F_,hB=function(e){return e.queryIdentifier()},pB=function(e){al.getInstance().forceRestClient(e)},dB=Object.freeze({__proto__:null,DataConnection:uB,RealTimeConnection:cB,hijackHash:lB,ConnectionTarget:fB,queryIdentifier:hB,forceRestClient:pB}),vB="@firebase/database",gB="0.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mB=W_.ServerValue;function yB(e){$N(e.SDK_VERSION),e.INTERNAL.registerComponent(new zn("database",function(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return al.getInstance().databaseFromApp(r,i,n)},"PUBLIC").setServiceProps({Reference:Oi,Query:j_,Database:W_,DataSnapshot:ho,enableLogging:fN,INTERNAL:aB,ServerValue:mB,TEST_ACCESS:dB}).setMultipleInstances(!0)),e.registerVersion(vB,gB)}yB(at);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ty=function(e,t){return Ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Ty(e,t)};function _B(e,t){Ty(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function YN(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var wB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ct,G_=G_||{},Tt=wB||self;function Yh(){}function Sy(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function xl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function bB(e){return Object.prototype.hasOwnProperty.call(e,bm)&&e[bm]||(e[bm]=++EB)}var bm="closure_uid_"+(1e9*Math.random()>>>0),EB=0;function IB(e,t,n){return e.call.apply(e.bind,arguments)}function TB(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function gn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gn=IB:gn=TB,gn.apply(null,arguments)}function ah(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function di(){return Date.now()}function Dn(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return t.prototype[i].apply(r,a)}}function ko(){this.j=this.j,this.i=this.i}var SB=0;ko.prototype.j=!1;ko.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),SB!=0)&&bB(this)};ko.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var XN=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},JN=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function AB(e){t:{for(var t=vq,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break t}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function BS(e){return Array.prototype.concat.apply([],arguments)}function $_(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Xh(e){return/^[\s\xa0]*$/.test(e)}var qS=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rn(e,t){return e.indexOf(t)!=-1}function Em(e,t){return e<t?-1:e>t?1:0}var On;t:{var HS=Tt.navigator;if(HS){var WS=HS.userAgent;if(WS){On=WS;break t}}On=""}function z_(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function ZN(e){var t={};for(var n in e)t[n]=e[n];return t}var GS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tR(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<GS.length;s++)n=GS[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function K_(e){return K_[" "](e),e}K_[" "]=Yh;function CB(e,t){var n=OB;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var NB=Rn(On,"Opera"),Co=Rn(On,"Trident")||Rn(On,"MSIE"),eR=Rn(On,"Edge"),Ay=eR||Co,nR=Rn(On,"Gecko")&&!(Rn(On.toLowerCase(),"webkit")&&!Rn(On,"Edge"))&&!(Rn(On,"Trident")||Rn(On,"MSIE"))&&!Rn(On,"Edge"),RB=Rn(On.toLowerCase(),"webkit")&&!Rn(On,"Edge");function rR(){var e=Tt.document;return e?e.documentMode:void 0}var Jh;t:{var Im="",Tm=function(){var e=On;if(nR)return/rv:([^\);]+)(\)|;)/.exec(e);if(eR)return/Edge\/([\d\.]+)/.exec(e);if(Co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(RB)return/WebKit\/(\S+)/.exec(e);if(NB)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Tm&&(Im=Tm?Tm[1]:""),Co){var Sm=rR();if(Sm!=null&&Sm>parseFloat(Im)){Jh=String(Sm);break t}}Jh=Im}var OB={};function iR(e){return CB(e,function(){for(var t=0,n=qS(String(Jh)).split("."),r=qS(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",c=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],a[0].length==0&&c[0].length==0)break;t=Em(a[1].length==0?0:parseInt(a[1],10),c[1].length==0?0:parseInt(c[1],10))||Em(a[2].length==0,c[2].length==0)||Em(a[2],c[2]),a=a[3],c=c[3]}while(t==0)}return 0<=t})}var Cy;if(Tt.document&&Co){var $S=rR();Cy=$S||parseInt(Jh,10)||void 0}else Cy=void 0;var oR=Cy,Q_=!Co||9<=Number(oR),xB=Co&&!iR("9"),PB=function(){if(!Tt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Tt.addEventListener("test",Yh,t),Tt.removeEventListener("test",Yh,t)}catch{}return e}();function mn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}mn.prototype.b=function(){this.defaultPrevented=!0};function ul(e,t){if(mn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(nR){t:{try{K_(t.nodeName);var i=!0;break t}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:kB[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}Dn(ul,mn);var kB={2:"touch",3:"pen",4:"mouse"};ul.prototype.b=function(){ul.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,xB)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Pl="closure_listenable_"+(1e6*Math.random()|0),DB=0;function LB(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++DB,this.Y=this.Z=!1}function Wp(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function Gp(e){this.src=e,this.a={},this.b=0}Gp.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=Ry(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new LB(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function Ny(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=XN(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Wp(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function Ry(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var Y_="closure_lm_"+(1e6*Math.random()|0),Am={};function X_(e,t,n,r,i){if(r&&r.once)return aR(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)X_(e,t[s],n,r,i);return null}return n=tw(n),e&&e[Pl]?e.va(t,n,xl(r)?!!r.capture:!!r,i):sR(e,t,n,!1,r,i)}function sR(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=xl(i)?!!i.capture:!!i;if(a&&!Q_)return null;var c=Z_(e);if(c||(e[Y_]=c=new Gp(e)),n=c.add(t,n,r,a,s),n.proxy)return n;if(r=MB(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)PB||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(cR(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function MB(){var e=FB,t=Q_?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function aR(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)aR(e,t[s],n,r,i);return null}return n=tw(n),e&&e[Pl]?e.wa(t,n,xl(r)?!!r.capture:!!r,i):sR(e,t,n,!0,r,i)}function uR(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)uR(e,t[s],n,r,i);else r=xl(r)?!!r.capture:!!r,n=tw(n),e&&e[Pl]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=Ry(s,n,r,i),-1<n&&(Wp(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=Z_(e))&&(t=e.a[t.toString()],e=-1,t&&(e=Ry(t,n,r,i)),(n=-1<e?t[e]:null)&&J_(n))}function J_(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Pl])Ny(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(cR(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z_(t))?(Ny(n,e),n.b==0&&(n.src=null,t[Y_]=null)):Wp(e)}}}function cR(e){return e in Am?Am[e]:Am[e]="on"+e}function zS(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&J_(e),n.call(r,t)}function FB(e,t){if(e.Y)return!0;if(!Q_){if(!t)t:{t=["window","event"];for(var n=Tt,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break t}t=n}return t=new ul(t,this),zS(e,t)}return zS(e,new ul(t,this))}function Z_(e){return e=e[Y_],e instanceof Gp?e:null}var Cm="__closure_events_fn_"+(1e9*Math.random()>>>0);function tw(e){return typeof e=="function"?e:(e[Cm]||(e[Cm]=function(t){return e.handleEvent(t)}),e[Cm])}function or(){ko.call(this),this.c=new Gp(this),this.J=this,this.C=null}Dn(or,ko);or.prototype[Pl]=!0;ct=or.prototype;ct.addEventListener=function(e,t,n,r){X_(this,e,t,n,r)};ct.removeEventListener=function(e,t,n,r){uR(this,e,t,n,r)};function un(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new mn(t,e);else if(t instanceof mn)t.target=t.target||e;else{var i=t;t=new mn(r,e),tR(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=uh(a,r,!0,t)&&i}if(a=t.a=e,i=uh(a,r,!0,t)&&i,i=uh(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=uh(a,r,!1,t)&&i}ct.G=function(){if(or.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Wp(n[r]);delete e.a[t],e.b--}}this.C=null};ct.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};ct.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function uh(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var c=a.listener,l=a.ca||a.src;a.Z&&Ny(e.c,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var ew=Tt.JSON.stringify;function lR(){this.b=this.a=null}var fR=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new nw},function(e){e.reset()});lR.prototype.add=function(e,t){var n=fR.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function UB(){var e=pR,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function nw(){this.next=this.b=this.a=null}nw.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};nw.prototype.reset=function(){this.next=this.b=this.a=null};function jB(e){Tt.setTimeout(function(){throw e},0)}function hR(e,t){Oy||VB(),xy||(Oy(),xy=!0),pR.add(e,t)}var Oy;function VB(){var e=Tt.Promise.resolve(void 0);Oy=function(){e.then(BB)}}var xy=!1,pR=new lR;function BB(){for(var e;e=UB();){try{e.a.call(e.b)}catch(n){jB(n)}var t=fR;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}xy=!1}function $p(e,t){or.call(this),this.b=e||1,this.a=t||Tt,this.f=gn(this.Za,this),this.g=di()}Dn($p,or);ct=$p.prototype;ct.aa=!1;ct.M=null;ct.Za=function(){if(this.aa){var e=di()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),un(this,"tick"),this.aa&&(rw(this),this.start()))}};ct.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=di())};function rw(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}ct.G=function(){$p.X.G.call(this),rw(this),delete this.a};function iw(e,t,n){if(typeof e=="function")n&&(e=gn(e,n));else if(e&&typeof e.handleEvent=="function")e=gn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Tt.setTimeout(e,t||0)}function dR(e){e.a=iw(function(){e.a=null,e.c&&(e.c=!1,dR(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var qB=function(e){_B(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:dR(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(Tt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(ko);function cl(e){ko.call(this),this.b=e,this.a={}}Dn(cl,ko);var KS=[];function vR(e,t,n,r){Array.isArray(n)||(n&&(KS[0]=n.toString()),n=KS);for(var i=0;i<n.length;i++){var s=X_(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function gR(e){z_(e.a,function(t,n){this.a.hasOwnProperty(n)&&J_(t)},e),e.a={}}cl.prototype.G=function(){cl.X.G.call(this),gR(this)};cl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ow(){this.a=!0}function HB(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function WB(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Ra(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+$B(e,n)+(r?" "+r:"")})}function GB(e,t){e.info(function(){return"TIMEOUT: "+t})}ow.prototype.info=function(){};function $B(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return ew(n)}catch{return t}}var Us={},QS=null;function zp(){return QS=QS||new or}Us.Fa="serverreachability";function mR(e){mn.call(this,Us.Fa,e)}Dn(mR,mn);function ll(e){var t=zp();un(t,new mR(t))}Us.STAT_EVENT="statevent";function yR(e,t){mn.call(this,Us.STAT_EVENT,e),this.stat=t}Dn(yR,mn);function xn(e){var t=zp();un(t,new yR(t,e))}Us.Ga="timingevent";function _R(e){mn.call(this,Us.Ga,e)}Dn(_R,mn);function kl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Tt.setTimeout(function(){e()},t)}var Kp={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},wR={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function bR(){}bR.prototype.a=null;function YS(e){var t;return(t=e.a)||(t=e.a={}),t}function ER(){}var Dl={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function sw(){mn.call(this,"d")}Dn(sw,mn);function aw(){mn.call(this,"c")}Dn(aw,mn);var IR;function TR(){}Dn(TR,bR);IR=new TR;function Ll(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new cl(this),this.P=zB,e=Ay?125:void 0,this.R=new $p(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var zB=45e3,SR={},Py={};ct=Ll.prototype;ct.setTimeout=function(e){this.P=e};function ky(e,t,n){e.H=1,e.i=Yp(Ui(t)),e.j=n,e.I=!0,AR(e,null)}function AR(e,t){e.u=di(),Ml(e),e.l=Ui(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),PR(n.b,"t",r),e.D=0,e.a=YR(e.g,e.g.C?t:null),0<e.O&&(e.F=new qB(gn(e.Ca,e,e.a),e.O)),vR(e.J,e.a,"readystatechange",e.Xa),t=e.B?ZN(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),ll(),HB(e.c,e.m,e.l,e.f,e.S,e.j)}ct.Xa=function(e){e=e.target;var t=this.F;t&&yo(e)==3?t.f():this.Ca(e)};ct.Ca=function(e){try{if(e==this.a)t:{var t=yo(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!Ay&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?ll(3):ll(2)),Qp(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,WB(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,c=this.a;if((a=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xh(a)){var l=a;break e}}l=null}if(l)Ra(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Dy(this,l);else{this.b=!1,this.h=3,xn(12),Fa(this),Zh(this);break t}}this.I?(CR(this,t,s),Ay&&this.b&&t==3&&(vR(this.J,this.R,"tick",this.Wa),this.R.start())):(Ra(this.c,this.f,s,null),Dy(this,s)),t==4&&Fa(this),this.b&&!this.A&&(t==4?$R(this.g,this):(this.b=!1,Ml(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,xn(12)):(this.h=0,xn(13)),Fa(this),Zh(this)}}}catch{}finally{}};function CR(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=KB(e,n);if(i==Py){t==4&&(e.h=4,xn(14),r=!1),Ra(e.c,e.f,null,"[Incomplete Response]");break}else if(i==SR){e.h=4,xn(15),Ra(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Ra(e.c,e.f,i,null),Dy(e,i)}t==4&&n.length==0&&(e.h=1,xn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),vw(t),t.F=!0,xn(11))):(Ra(e.c,e.f,n,"[Invalid Chunked Response]"),Fa(e),Zh(e))}ct.Wa=function(){if(this.a){var e=yo(this.a),t=this.a.$();this.D<t.length&&(Qp(this),CR(this,e,t),this.b&&e!=4&&Ml(this))}};function KB(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?Py:(n=Number(t.substring(n,r)),isNaN(n)?SR:(r+=1,r+n>t.length?Py:(t=t.substr(r,n),e.D=r+n,t)))}ct.cancel=function(){this.A=!0,Fa(this)};function Ml(e){e.T=di()+e.P,NR(e,e.P)}function NR(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=kl(gn(e.Va,e),t)}function Qp(e){e.o&&(Tt.clearTimeout(e.o),e.o=null)}ct.Va=function(){this.o=null;var e=di();0<=e-this.T?(GB(this.c,this.l),this.H!=2&&(ll(),xn(17)),Fa(this),this.h=2,Zh(this)):NR(this,this.T-e)};function Zh(e){e.g.v==0||e.A||$R(e.g,e)}function Fa(e){Qp(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,rw(e.R),gR(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Dy(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||Ly(n.b,e))){if(n.I=e.N,!e.C&&Ly(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){t:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)rp(n),Jp(n);else break t;dw(n),xn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=kl(gn(n.Sa,n),6e3));if(1>=LR(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else vs(n,11)}else if((e.C||n.a==e)&&rp(n),!Xh(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var c=i[5];if(c!=null&&typeof c=="number"&&0<c){var l=1.5*c;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var h=e.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=l.b;!v.a&&(Rn(d,"spdy")||Rn(d,"quic")||Rn(d,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&(lw(v,v.b),v.b=null))}if(l.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(l.na=m,ue(l.B,l.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=di()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),l=n;var y=e;if(l.la=QR(l,l.C?l.ga:null,l.fa),y.C){MR(l.b,y);var b=y,E=l.D;E&&b.setTimeout(E),b.o&&(Qp(b),Ml(b)),l.a=y}else WR(l);0<n.g.length&&Zp(n)}else i[0]!="stop"&&i[0]!="close"||vs(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?vs(n,7):pw(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}ll(4)}catch{}}function QB(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(Sy(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function uw(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Sy(e)||typeof e=="string")JN(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(Sy(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=QB(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function bu(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof bu)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ct=bu.prototype;ct.K=function(){cw(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};ct.L=function(){return cw(this),this.a.concat()};function cw(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rs(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],Rs(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}ct.get=function(e,t){return Rs(this.b,e)?this.b[e]:t};ct.set=function(e,t){Rs(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};ct.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function Rs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var RR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function YB(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Os(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Os){this.a=t!==void 0?t:e.a,tp(this,e.f),this.j=e.j,ep(this,e.c),np(this,e.h),this.g=e.g,t=e.b;var n=new fl;n.c=t.c,t.a&&(n.a=new bu(t.a),n.b=t.b),XS(this,n),this.i=e.i}else e&&(n=String(e).match(RR))?(this.a=!!t,tp(this,n[1]||"",!0),this.j=jc(n[2]||""),ep(this,n[3]||"",!0),np(this,n[4]),this.g=jc(n[5]||"",!0),XS(this,n[6]||"",!0),this.i=jc(n[7]||"")):(this.a=!!t,this.b=new fl(null,this.a))}Os.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Oc(t,JS,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Oc(t,JS,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Oc(n,n.charAt(0)=="/"?eq:tq,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Oc(n,rq)),e.join("")};function Ui(e){return new Os(e)}function tp(e,t,n){e.f=n?jc(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function ep(e,t,n){e.c=n?jc(t,!0):t}function np(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function XS(e,t,n){t instanceof fl?(e.b=t,iq(e.b,e.a)):(n||(t=Oc(t,nq)),e.b=new fl(t,e.a))}function ue(e,t,n){e.b.set(t,n)}function Yp(e){return ue(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^di()).toString(36)),e}function XB(e){return e instanceof Os?Ui(e):new Os(e,void 0)}function JB(e,t,n,r){var i=new Os(null,void 0);return e&&tp(i,e),t&&ep(i,t),n&&np(i,n),r&&(i.g=r),i}function jc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Oc(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,ZB),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ZB(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var JS=/[#\/\?@]/g,tq=/[#\?:]/g,eq=/[#\?]/g,nq=/[#\?@]/g,rq=/#/g;function fl(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Do(e){e.a||(e.a=new bu,e.b=0,e.c&&YB(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ct=fl.prototype;ct.add=function(e,t){Do(this),this.c=null,e=Eu(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function OR(e,t){Do(e),t=Eu(e,t),Rs(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,Rs(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&cw(e)))}function xR(e,t){return Do(e),t=Eu(e,t),Rs(e.a.b,t)}ct.forEach=function(e,t){Do(this),this.a.forEach(function(n,r){JN(n,function(i){e.call(t,i,r,this)},this)},this)};ct.L=function(){Do(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};ct.K=function(e){Do(this);var t=[];if(typeof e=="string")xR(this,e)&&(t=BS(t,this.a.get(Eu(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=BS(t,e[n])}return t};ct.set=function(e,t){return Do(this),this.c=null,e=Eu(this,e),xR(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};ct.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function PR(e,t,n){OR(e,t),0<n.length&&(e.c=null,e.a.set(Eu(e,t),$_(n)),e.b+=n.length)}ct.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function Eu(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function iq(e,t){t&&!e.f&&(Do(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OR(this,r),PR(this,i,n))},e)),e.f=t}var oq=function(){function e(t,n){this.b=t,this.a=n}return e}();function kR(e){this.g=e||sq,Tt.PerformanceNavigationTiming?(e=Tt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Tt.ia&&Tt.ia.ya&&Tt.ia.ya()&&Tt.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var sq=10;function DR(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function LR(e){return e.b?1:e.a?e.a.size:0}function Ly(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function lw(e,t){e.a?e.a.add(t):e.b=t}function MR(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}kR.prototype.cancel=function(){var e,t;if(this.c=FR(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=YN(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function FR(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=YN(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return $_(e.c)}function fw(){}fw.prototype.stringify=function(e){return Tt.JSON.stringify(e,void 0)};fw.prototype.parse=function(e){return Tt.JSON.parse(e,void 0)};function aq(){this.a=new fw}function uq(e,t,n){var r=n||"";try{uw(e,function(i,s){var a=i;xl(i)&&(a=ew(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function cq(e,t){var n=new ow;if(Tt.Image){var r=new Image;r.onload=ah(ch,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ah(ch,n,r,"TestLoadImage: error",!1,t),r.onabort=ah(ch,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ah(ch,n,r,"TestLoadImage: timeout",!1,t),Tt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ch(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var lq=Tt.JSON.parse;function qe(e){or.call(this),this.headers=new bu,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=fq,this.D=this.F=!1}Dn(qe,or);var fq="",hq=/^https?$/i,pq=["POST","PUT"];ct=qe.prototype;ct.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?YS(this.H):YS(IR),this.a.onreadystatechange=gn(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){ZS(this,s);return}e=n||"";var i=new bu(this.headers);r&&uw(r,function(s,a){i.set(a,s)}),r=AB(i.L()),n=Tt.FormData&&e instanceof Tt.FormData,!(0<=XN(pq,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{VR(this),0<this.o&&((this.D=dq(this.a))?(this.a.timeout=this.o,this.a.ontimeout=gn(this.xa,this)):this.m=iw(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){ZS(this,s)}};function dq(e){return Co&&iR(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function vq(e){return e.toLowerCase()=="content-type"}ct.xa=function(){typeof G_<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,un(this,"timeout"),this.abort(8))};function ZS(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,UR(e),Xp(e)}function UR(e){e.u||(e.u=!0,un(e,"complete"),un(e,"error"))}ct.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,un(this,"complete"),un(this,"abort"),Xp(this))};ct.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Xp(this,!0)),qe.X.G.call(this)};ct.za=function(){this.j||(this.A||this.l||this.g?jR(this):this.Ua())};ct.Ua=function(){jR(this)};function jR(e){if(e.b&&typeof G_<"u"&&(!e.s[1]||yo(e)!=4||e.W()!=2)){if(e.l&&yo(e)==4)iw(e.za,0,e);else if(un(e,"readystatechange"),yo(e)==4){e.b=!1;try{{var t=e.W();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(RR)[1]||null;if(!s&&Tt.self&&Tt.self.location){var a=Tt.self.location.protocol;s=a.substr(0,a.length-1)}i=!hq.test(s?s.toLowerCase():"")}r=i}var c=r}if(c)un(e,"complete"),un(e,"success");else{e.h=6;try{var l=2<yo(e)?e.a.statusText:""}catch{l=""}e.f=l+" ["+e.W()+"]",UR(e)}}finally{Xp(e)}}}}function Xp(e,t){if(e.a){VR(e);var n=e.a,r=e.s[0]?Yh:null;e.a=null,e.s=null,t||un(e,"ready");try{n.onreadystatechange=r}catch{}}}function VR(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(Tt.clearTimeout(e.m),e.m=null)}function yo(e){return e.a?e.a.readyState:0}ct.W=function(){try{return 2<yo(this)?this.a.status:-1}catch{return-1}};ct.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};ct.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),lq(t)}};ct.ua=function(){return this.h};ct.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function gq(e){var t="";return z_(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function hw(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=gq(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):ue(e,t,n))}function Tc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function BR(e){this.pa=0,this.g=[],this.c=new ow,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Tc("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Tc("baseRetryDelayMs",5e3,e),this.Ra=Tc("retryDelaySeedMs",1e4,e),this.Ma=Tc("forwardChannelMaxRetries",2,e),this.ma=Tc("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new kR(e&&e.concurrentRequestLimit),this.ka=new aq,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}ct=BR.prototype;ct.ha=8;ct.v=1;function pw(e){if(qR(e),e.v==3){var t=e.R++,n=Ui(e.B);ue(n,"SID",e.J),ue(n,"RID",t),ue(n,"TYPE","terminate"),Fl(e,n),t=new Ll(e,e.c,t,void 0),t.H=2,t.i=Yp(Ui(n)),n=!1,Tt.navigator&&Tt.navigator.sendBeacon&&(n=Tt.navigator.sendBeacon(t.i.toString(),"")),!n&&Tt.Image&&(new Image().src=t.i,n=!0),n||(t.a=YR(t.g,null),t.a.ba(t.i)),t.u=di(),Ml(t)}KR(e)}function Jp(e){e.a&&(vw(e),e.a.cancel(),e.a=null)}function qR(e){Jp(e),e.j&&(Tt.clearTimeout(e.j),e.j=null),rp(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&Tt.clearTimeout(e.h),e.h=null)}function Nm(e,t){e.g.push(new oq(e.Oa++,t)),e.v==3&&Zp(e)}function Zp(e){DR(e.b)||e.h||(e.h=!0,hR(e.Ba,e),e.u=0)}function mq(e,t){return LR(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=kl(gn(e.Ba,e,t),zR(e,e.u)),e.u++,!0)}ct.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Ll(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=ZN(n),tR(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)t:{for(var i=r=0;i<this.g.length;i++){e:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break t}if(r===4096||i===this.g.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=HR(this,t,r),i=Ui(this.B),ue(i,"RID",e),ue(i,"CVER",22),this.A&&ue(i,"X-HTTP-Session-Id",this.A),Fl(this,i),this.i&&n&&hw(i,this.i,n),lw(this.b,t),this.Ia&&ue(i,"TYPE","init"),this.da?(ue(i,"$req",r),ue(i,"SID","null"),t.U=!0,ky(t,i,null)):ky(t,i,r),this.v=2}}else this.v==3&&(e?tA(this,e):this.g.length==0||DR(this.b)||tA(this))};function tA(e,t){var n;t?n=t.f:n=e.R++;var r=Ui(e.B);ue(r,"SID",e.J),ue(r,"RID",n),ue(r,"AID",e.P),Fl(e,r),e.i&&e.l&&hw(r,e.i,e.l),n=new Ll(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=HR(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),lw(e.b,n),ky(n,r,t)}function Fl(e,t){e.f&&uw({},function(n,r){ue(t,r,n)})}function HR(e,t,n){n=Math.min(e.g.length,n);var r=e.f?gn(e.f.Ja,e.f,e):null;t:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].b,d=i[l].a;if(h-=s,0>h)s=Math.max(0,i[l].b-100),c=!1;else try{uq(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break t}}return e=e.g.splice(0,n),t.s=e,r}function WR(e){e.a||e.j||(e.T=1,hR(e.Aa,e),e.o=0)}function dw(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=kl(gn(e.Aa,e),zR(e,e.o)),e.o++,!0)}ct.Aa=function(){if(this.j=null,GR(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=kl(gn(this.Ta,this),e)}};ct.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xn(10),Jp(this),GR(this))};function vw(e){e.s!=null&&(Tt.clearTimeout(e.s),e.s=null)}function GR(e){e.a=new Ll(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=Ui(e.la);ue(t,"RID","rpc"),ue(t,"SID",e.J),ue(t,"CI",e.H?"0":"1"),ue(t,"AID",e.P),Fl(e,t),ue(t,"TYPE","xmlhttp"),e.i&&e.l&&hw(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Yp(Ui(t)),n.j=null,n.I=!0,AR(n,e)}ct.Sa=function(){this.m!=null&&(this.m=null,Jp(this),dw(this),xn(19))};function rp(e){e.m!=null&&(Tt.clearTimeout(e.m),e.m=null)}function $R(e,t){var n=null;if(e.a==t){rp(e),vw(e),e.a=null;var r=2}else if(Ly(e.b,t))n=t.s,MR(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=di()-t.u;var i=e.u;r=zp(),un(r,new _R(r)),Zp(e)}else WR(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&mq(e,t)||r==2&&dw(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:vs(e,5);break;case 4:vs(e,10);break;case 3:vs(e,6);break;default:vs(e,2)}}}function zR(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function vs(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=gn(e.Ya,e);n||(n=new Os("//www.google.com/images/cleardot.gif"),Tt.location&&Tt.location.protocol=="http"||tp(n,"https"),Yp(n)),cq(n.toString(),r)}else xn(2);e.v=0,e.f&&e.f.ra(t),KR(e),qR(e)}ct.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),xn(2)):(this.c.info("Failed to ping google.com"),xn(1))};function KR(e){e.v=0,e.I=-1,e.f&&((FR(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,$_(e.g),e.g.length=0),e.f.qa())}function QR(e,t,n){var r=XB(n);if(r.c!="")t&&ep(r,t+"."+r.c),np(r,r.h);else{var i=Tt.location;r=JB(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&z_(e.V,function(s,a){ue(r,a,s)}),t=e.A,n=e.na,t&&n&&ue(r,t,n),ue(r,"VER",e.ha),Fl(e,r),r}function YR(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new qe(e.Na),t.F=e.C,t}function XR(){}ct=XR.prototype;ct.ta=function(){};ct.sa=function(){};ct.ra=function(){};ct.qa=function(){};ct.Ja=function(){};function ip(){if(Co&&!(10<=Number(oR)))throw Error("Environmental error: no available transport.")}ip.prototype.a=function(e,t){return new sr(e,t)};function sr(e,t){or.call(this),this.a=new BR(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Xh(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Xh(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new Iu(this)}Dn(sr,or);sr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;xn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=QR(e,null,e.fa),Zp(e)};sr.prototype.close=function(){pw(this.a)};sr.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,Nm(this.a,t)}else this.l?(t={},t.__data__=ew(e),Nm(this.a,t)):Nm(this.a,e)};sr.prototype.G=function(){this.a.f=null,delete this.f,pw(this.a),delete this.a,sr.X.G.call(this)};function JR(e){sw.call(this);var t=e.__sm__;if(t){t:{for(var n in t){e=n;break t}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}Dn(JR,sw);function ZR(){aw.call(this),this.status=1}Dn(ZR,aw);function Iu(e){this.a=e}Dn(Iu,XR);Iu.prototype.ta=function(){un(this.a,"a")};Iu.prototype.sa=function(e){un(this.a,new JR(e))};Iu.prototype.ra=function(e){un(this.a,new ZR)};Iu.prototype.qa=function(){un(this.a,"b")};ip.prototype.createWebChannel=ip.prototype.a;sr.prototype.send=sr.prototype.h;sr.prototype.open=sr.prototype.g;sr.prototype.close=sr.prototype.close;Kp.NO_ERROR=0;Kp.TIMEOUT=8;Kp.HTTP_ERROR=6;wR.COMPLETE="complete";ER.EventType=Dl;Dl.OPEN="a";Dl.CLOSE="b";Dl.ERROR="c";Dl.MESSAGE="d";or.prototype.listen=or.prototype.va;qe.prototype.listenOnce=qe.prototype.wa;qe.prototype.getLastError=qe.prototype.Qa;qe.prototype.getLastErrorCode=qe.prototype.ua;qe.prototype.getStatus=qe.prototype.W;qe.prototype.getResponseJson=qe.prototype.Pa;qe.prototype.getResponseText=qe.prototype.$;qe.prototype.send=qe.prototype.ba;var yq=function(){return new ip},_q=function(){return zp()},Rm=Kp,wq=wR,bq=Us,eA={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},lh=ER,Eq=qe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iq=function(e,t,n,r,i,s){this.t=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},op=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Fr=new wu("@firebase/firestore");function My(){return Fr.logLevel}function Q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Fr.logLevel<=Rt.DEBUG){var r=t.map(gw);Fr.debug.apply(Fr,Se(["Firestore (8.2.7): "+e],r))}}function xe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Fr.logLevel<=Rt.ERROR){var r=t.map(gw);Fr.error.apply(Fr,Se(["Firestore (8.2.7): "+e],r))}}function sp(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Fr.logLevel<=Rt.WARN){var r=t.map(gw);Fr.warn.apply(Fr,Se(["Firestore (8.2.7): "+e],r))}}function gw(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+e;throw xe(t),new Error(t)}function yt(e,t){e||ut()}function Z(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tq(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tO=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=Tq(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function kt(e,t){return e<t?-1:e>t?1:0}function Ya(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function eO(e){return e+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn=function(){function e(t){this.h=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.h,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.h)},e.prototype.l=function(){return 2*this.h.length},e.prototype._=function(t){return kt(this.h,t.h)},e.prototype.isEqual=function(t){return this.h===t.h},e}();Pn.T=new Pn("");var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return J(t,e),t}(Error),xs=function(){function e(t){this.I=t}return e.fromBase64String=function(t){try{return new e(Pn.fromBase64String(t))}catch(n){throw new W(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Pn.fromUint8Array(t))},e.prototype.toBase64=function(){return this.I.toBase64()},e.prototype.toUint8Array=function(){return this.I.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this.I.isEqual(t.I)},e}(),Zn=function(){function e(t){this.uid=t}return e.prototype.m=function(){return this.uid!=null},e.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();Zn.UNAUTHENTICATED=new Zn(null),Zn.R=new Zn("google-credentials-uid"),Zn.P=new Zn("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sq=function(e,t){this.user=t,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+e},nA=function(){function e(){this.V=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.p=function(){},e.prototype.v=function(t){this.V=t,t(Zn.UNAUTHENTICATED)},e.prototype.S=function(){this.V=null},e}(),Aq=function(){function e(t){var n=this;this.D=null,this.currentUser=Zn.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.N!==n?(Q("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(yt(typeof i.accessToken=="string"),new Sq(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.p=function(){this.forceRefresh=!0},e.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},e.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},e.prototype.$=function(){var t=this.auth&&this.auth.getUid();return yt(t===null||typeof t=="string"),new Zn(t)},e}(),Cq=function(){function e(t,n){this.F=t,this.O=n,this.type="FirstParty",this.user=Zn.P}return Object.defineProperty(e.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),t},enumerable:!1,configurable:!0}),e}(),Nq=function(){function e(t,n){this.F=t,this.O=n}return e.prototype.getToken=function(){return Promise.resolve(new Cq(this.F,this.O))},e.prototype.v=function(t){t(Zn.P)},e.prototype.S=function(){},e.prototype.p=function(){},e}(),nr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return e.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},e}();nr.q=-1;var Hn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new W(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new W(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new W(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.U=function(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ot=function(){function e(t){this.timestamp=t}return e.K=function(t){return new e(t)},e.min=function(){return new e(new Hn(0,0))},e.prototype._=function(t){return this.timestamp.U(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.j=function(){return this.timestamp},e}(),nO=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&ut(),r===void 0?r=t.length-n:r>t.length-n&&ut(),this.segments=t,this.offset=n,this.G=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.H(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.J(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.Y=function(t){return t=t===void 0?1:t,this.J(this.segments,this.offset+t,this.length-t)},e.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},e.prototype.Z=function(){return this.segments[this.offset]},e.prototype.tt=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.et=function(){return this.length===0},e.prototype.nt=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},e.H=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),Ht=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.prototype.rt=function(){return this.it().join("/")},t.prototype.toString=function(){return this.rt()},t.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new W(k.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new t(i)},t.ct=function(){return new t([])},t}(nO),Rq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Br=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.J=function(n,r,i){return new t(n,r,i)},t.at=function(n){return Rq.test(n)},t.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.at(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.rt()},t.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},t.ht=function(){return new t(["__name__"])},t.lt=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new W(k.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new W(k.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new W(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new W(k.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.ct=function(){return new t([])},t}(nO),ht=function(){function e(t){this.path=t}return e._t=function(t){return new e(Ht.ot(t))},e.ft=function(t){return new e(Ht.ot(t).Y(5))},e.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&Ht.H(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.H=function(t,n){return Ht.H(t.path,n.path)},e.wt=function(t){return t.length%2==0},e.Et=function(t){return new e(new Ht(t.slice()))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ul(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rO(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xa=function(){function e(t){this.fields=t,t.sort(Br.H)}return e.prototype.Tt=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(t))return!0;return!1},e.prototype.isEqual=function(t){return Ya(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Oq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(e){if(yt(!!e),typeof e=="string"){var t=0,n=Oq.exec(e);if(yt(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Oe(e.seconds),nanos:Oe(e.nanos)}}function Oe(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ja(e){return typeof e=="string"?Pn.fromBase64String(e):Pn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iO(e){var t=e.mapValue.fields.__previous_value__;return mw(t)?iO(t):t}function hl(e){var t=No(e.mapValue.fields.__local_write_time__.timestampValue);return new Hn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(e){return e==null}function ap(e){return e===0&&1/e==-1/0}function oO(e){return typeof e=="number"&&Number.isInteger(e)&&!ap(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mw(e)?4:10:ut()}function hi(e,t){var n=Ro(e);if(n!==Ro(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hl(e).isEqual(hl(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=No(r.timestampValue),a=No(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return Ja(r.bytesValue).isEqual(Ja(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return Oe(r.geoPointValue.latitude)===Oe(i.geoPointValue.latitude)&&Oe(r.geoPointValue.longitude)===Oe(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Oe(r.integerValue)===Oe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Oe(r.doubleValue),a=Oe(i.doubleValue);return s===a?ap(s)===ap(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return Ya(e.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(rA(s)!==rA(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!hi(s[c],a[c])))return!1;return!0}(e,t);default:return ut()}}function pl(e,t){return(e.values||[]).find(function(n){return hi(n,t)})!==void 0}function Za(e,t){var n=Ro(e),r=Ro(t);if(n!==r)return kt(n,r);switch(n){case 0:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=Oe(i.integerValue||i.doubleValue),c=Oe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(e,t);case 3:return iA(e.timestampValue,t.timestampValue);case 4:return iA(hl(e),hl(t));case 5:return kt(e.stringValue,t.stringValue);case 6:return function(i,s){var a=Ja(i),c=Ja(s);return a._(c)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=kt(a[l],c[l]);if(h!==0)return h}return kt(a.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=kt(Oe(i.latitude),Oe(s.latitude));return a!==0?a:kt(Oe(i.longitude),Oe(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=Za(a[l],c[l]);if(h)return h}return kt(a.length,c.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=kt(c[d],h[d]);if(v!==0)return v;var m=Za(a[c[d]],l[h[d]]);if(m!==0)return m}return kt(c.length,h.length)}(e.mapValue,t.mapValue);default:throw ut()}}function iA(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);var n=No(e),r=No(t),i=kt(n.seconds,r.seconds);return i!==0?i:kt(n.nanos,r.nanos)}function yw(e){return Fy(e)}function Fy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=No(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ja(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ht.ft(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=Fy(c[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+Fy(r.fields[l])}return i+"}"}(e.mapValue):ut();var t,n}function up(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.rt()}}function Uy(e){return!!e&&"integerValue"in e}function _w(e){return!!e&&"arrayValue"in e}function oA(e){return!!e&&"nullValue"in e}function sA(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ww(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oo=function(){function e(t){this.proto=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.et())return this.proto;for(var n=this.proto,r=0;r<t.length-1;++r)if(!n.mapValue.fields||!ww(n=n.mapValue.fields[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.tt()])||null},e.prototype.isEqual=function(t){return hi(this.proto,t.proto)},e}(),jl=function(){function e(t){t===void 0&&(t=Oo.empty()),this.It=t,this.At=new Map}return e.prototype.set=function(t,n){return this.Rt(t,n),this},e.prototype.delete=function(t){return this.Rt(t,null),this},e.prototype.Rt=function(t,n){for(var r=this.At,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&Ro(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.tt(),n)},e.prototype.Pt=function(){var t=this.yt(Br.ct(),this.At);return t!=null?new Oo(t):this.It},e.prototype.yt=function(t,n){var r=this,i=!1,s=this.It.field(t),a=ww(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,l){if(c instanceof Map){var h=r.yt(t.child(l),c);h!=null&&(a[l]=h,i=!0)}else c!==null?(a[l]=c,i=!0):a.hasOwnProperty(l)&&(delete a[l],i=!0)}),i?{mapValue:{fields:a}}:null},e}();function sO(e){var t=[];return Ul(e.fields||{},function(n,r){var i=new Br([n]);if(ww(r)){var s=sO(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];t.push(i.child(l))}}else t.push(i)}),new Xa(t)}var bw=function(e,t){this.key=e,this.version=t},Zt=function(e){function t(n,r,i,s){var a=this;return(a=e.call(this,n,r)||this).gt=i,a.Vt=!!s.Vt,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return J(t,e),t.prototype.field=function(n){return this.gt.field(n)},t.prototype.data=function(){return this.gt},t.prototype.bt=function(){return this.gt.proto},t.prototype.isEqual=function(n){return n instanceof t&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(bw),Ve=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return J(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(bw),Ew=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(n){return n instanceof t&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},t}(bw),xq=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.vt=null};function aA(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new xq(e,t,n,r,i,s,a)}function Vl(e){var t=Z(e);if(t.vt===null){var n=t.path.rt();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+yw(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),js(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=lp(t.startAt)),t.endAt&&(n+="|ub:",n+=lp(t.endAt)),t.vt=n}return t.vt}function td(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jq(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!hi(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cA(e.startAt,t.startAt)&&cA(e.endAt,t.endAt)}function cp(e){return ht.wt(e.path)&&e.collectionGroup===null&&e.filters.length===0}var rr=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return J(t,e),t.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new Pq(n,r,i):r==="array-contains"?new Lq(n,i):r==="in"?new Mq(n,i):r==="not-in"?new Fq(n,i):r==="array-contains-any"?new Uq(n,i):new t(n,r,i)},t.St=function(n,r,i){return r==="in"?new kq(n,i):new Dq(n,i)},t.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(Za(r,this.value)):r!==null&&Ro(this.value)===Ro(r)&&this.Dt(Za(r,this.value))},t.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ut()}},t.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Pq=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=ht.ft(i.referenceValue),s}return J(t,e),t.prototype.matches=function(n){var r=ht.H(n.key,this.key);return this.Dt(r)},t}(rr),kq=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=aO("in",r),i}return J(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(rr),Dq=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=aO("not-in",r),i}return J(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(rr);function aO(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ht.ft(r.referenceValue)})}var Lq=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return J(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return _w(r)&&pl(r.arrayValue,this.value)},t}(rr),Mq=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return J(t,e),t.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&pl(this.value.arrayValue,r)},t}(rr),Fq=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return J(t,e),t.prototype.matches=function(n){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!pl(this.value.arrayValue,r)},t}(rr),Uq=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return J(t,e),t.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!_w(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return pl(r.value.arrayValue,s)})},t}(rr),dl=function(e,t){this.position=e,this.before=t};function lp(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return yw(t)}).join(",")}var Ua=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function jq(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function uA(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.ut()?ht.H(ht.ft(a.referenceValue),n.key):Za(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function cA(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!hi(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wi=function(e,t,n,r,i,s,a,c){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=e,this.collectionGroup=t,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.Nt=null,this.$t=null,this.startAt,this.endAt};function uO(e,t,n,r,i,s,a,c){return new Wi(e,t,n,r,i,s,a,c)}function Tu(e){return new Wi(e)}function Oh(e){return!js(e.limit)&&e.limitType==="F"}function fp(e){return!js(e.limit)&&e.limitType==="L"}function Iw(e){return e.xt.length>0?e.xt[0].field:null}function Tw(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.Ct())return r.field}return null}function Sw(e){return e.collectionGroup!==null}function tu(e){var t=Z(e);if(t.Nt===null){t.Nt=[];var n=Tw(t),r=Iw(t);if(n!==null&&r===null)n.ut()||t.Nt.push(new Ua(n)),t.Nt.push(new Ua(Br.ht(),"asc"));else{for(var i=!1,s=0,a=t.xt;s<a.length;s++){var c=a[s];t.Nt.push(c),c.field.ut()&&(i=!0)}if(!i){var l=t.xt.length>0?t.xt[t.xt.length-1].dir:"asc";t.Nt.push(new Ua(Br.ht(),l))}}}return t.Nt}function yr(e){var t=Z(e);if(!t.$t)if(t.limitType==="F")t.$t=aA(t.path,t.collectionGroup,tu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=tu(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Ua(s.field,a))}var c=t.endAt?new dl(t.endAt.position,!t.endAt.before):null,l=t.startAt?new dl(t.startAt.position,!t.startAt.before):null;t.$t=aA(t.path,t.collectionGroup,n,t.filters,t.limit,c,l)}return t.$t}function cO(e,t,n){return new Wi(e.path,e.collectionGroup,e.xt.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bl(e,t){return td(yr(e),yr(t))&&e.limitType===t.limitType}function lO(e){return Vl(yr(e))+"|lt:"+e.limitType}function jy(e){return"Query(target="+function(t){var n=t.path.rt();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+yw(i.value);var i}).join(", ")+"]"),js(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+lp(t.startAt)),t.endAt&&(n+=", endAt: "+lp(t.endAt)),"Target("+n+")"}(yr(e))+"; limitType="+e.limitType+")"}function ql(e,t){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):ht.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(e,t)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var a=s[i];if(!a.field.ut()&&r.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!uA(n.startAt,tu(n),r))&&(!n.endAt||!uA(n.endAt,tu(n),r))}(e,t)}function fO(e){return function(t,n){for(var r=!1,i=0,s=tu(e);i<s.length;i++){var a=s[i],c=Vq(a,t,n);if(c!==0)return c;r=r||a.field.ut()}return 0}}function Vq(e,t,n){var r=e.field.ut()?ht.H(t.key,n.key):function(i,s,a){var c=s.field(i),l=a.field(i);return c!==null&&l!==null?Za(c,l):ut()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ut()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed=function(){function e(t,n,r,i,s,a,c){s===void 0&&(s=Ot.min()),a===void 0&&(a=Ot.min()),c===void 0&&(c=Pn.T),this.target=t,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return e.prototype.kt=function(t){return new e(this.target,this.targetId,this.Ft,t,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.Mt=function(t,n){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.Lt=function(t){return new e(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,t,this.resumeToken)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(e,t){if(e.Bt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ap(t)?"-0":t}}function pO(e){return{integerValue:""+e}}function dO(e,t){return oO(t)?pO(t):hO(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nd=function(){this.qt=void 0};function Bq(e,t,n){return e instanceof eu?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof Ps?gO(e,t):e instanceof ks?mO(e,t):function(r,i){var s=vO(r,i),a=lA(s)+lA(r.Ut);return Uy(s)&&Uy(r.Ut)?pO(a):hO(r.Qt,a)}(e,t)}function qq(e,t,n){return e instanceof Ps?gO(e,t):e instanceof ks?mO(e,t):n}function vO(e,t){return e instanceof nu?Uy(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var eu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t}(nd),Ps=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return J(t,e),t}(nd);function gO(e,t){for(var n=yO(t),r=function(a){n.some(function(c){return hi(c,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ks=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return J(t,e),t}(nd);function mO(e,t){for(var n=yO(t),r=function(a){n=n.filter(function(c){return!hi(c,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var nu=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qt=n,i.Ut=r,i}return J(t,e),t}(nd);function lA(e){return Oe(e.integerValue||e.doubleValue)}function yO(e){return _w(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hl=function(e,t){this.field=e,this.transform=t},Hq=function(e,t){this.version=e,this.transformResults=t},dn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.Kt=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function xh(e,t){return e.updateTime!==void 0?t instanceof Zt&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t instanceof Zt}var rd=function(){};function Wq(e,t,n){return e instanceof Wl?function(r,i,s){var a=r.value;if(s.transformResults){var c=pA(r.fieldTransforms,i,s.transformResults);a=Aw(r.fieldTransforms,a,c)}return new Zt(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):e instanceof Lo?function(r,i,s){if(!xh(r.jt,i))return new Ew(r.key,s.version);var a=_O(r,i,s.transformResults?pA(r.fieldTransforms,i,s.transformResults):[]);return new Zt(r.key,s.version,a,{hasCommittedMutations:!0})}(e,t,n):function(r,i,s){return new Ve(r.key,s.version,{hasCommittedMutations:!0})}(e,0,n)}function Vy(e,t,n){return e instanceof Wl?function(r,i,s){if(!xh(r.jt,i))return i;var a=r.value,c=dA(r.fieldTransforms,s,i);a=Aw(r.fieldTransforms,a,c);var l=hA(i);return new Zt(r.key,l,a,{Vt:!0})}(e,t,n):e instanceof Lo?function(r,i,s){if(!xh(r.jt,i))return i;var a=hA(i),c=_O(r,i,dA(r.fieldTransforms,s,i));return new Zt(r.key,a,c,{Vt:!0})}(e,t,n):function(r,i){return xh(r.jt,i)?new Ve(r.key,Ot.min()):i}(e,t)}function Gq(e,t){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var c=a[s],l=r instanceof Zt?r.field(c.field):void 0,h=vO(c.transform,l||null);h!=null&&(i=i==null?new jl().set(c.field,h):i.set(c.field,h))}return i?i.Pt():null}(e.fieldTransforms,t)}function fA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.jt.isEqual(t.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ya(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof Ps&&h instanceof Ps||l instanceof ks&&h instanceof ks?Ya(l.elements,h.elements,hi):l instanceof nu&&h instanceof nu?hi(l.Ut,h.Ut):l instanceof eu&&h instanceof eu}(a.transform,c.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.Gt.isEqual(t.Gt))}function hA(e){return e instanceof Zt?e.version:Ot.min()}var Wl=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.jt=i,a.fieldTransforms=s,a.type=0,a}return J(t,e),t}(rd),Lo=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=e.call(this)||this).key=n,c.data=r,c.Gt=i,c.jt=s,c.fieldTransforms=a,c.type=1,c}return J(t,e),t}(rd);function _O(e,t,n){var r;return r=function(i,s){var a=new jl(s);return i.Gt.fields.forEach(function(c){if(!c.et()){var l=i.data.field(c);l!==null?a.set(c,l):a.delete(c)}}),a.Pt()}(e,r=t instanceof Zt?t.data():Oo.empty()),r=Aw(e.fieldTransforms,r,n)}function pA(e,t,n){var r=[];yt(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,c=null;t instanceof Zt&&(c=t.field(s.field)),r.push(qq(a,c,n[i]))}return r}function dA(e,t,n){for(var r=[],i=0,s=e;i<s.length;i++){var a=s[i],c=a.transform,l=null;n instanceof Zt&&(l=n.field(a.field)),r.push(Bq(c,l,t))}return r}function Aw(e,t,n){for(var r=new jl(t),i=0;i<e.length;i++){var s=e[i];r.set(s.field,n[i])}return r.Pt()}var Re,Lt,Gl=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return J(t,e),t}(rd),Cw=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return J(t,e),t}(rd),$q=function(e){this.count=e};function wO(e){switch(e){case k.OK:return ut();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return ut()}}function bO(e){if(e===void 0)return xe("GRPC error has no .code"),k.UNKNOWN;switch(e){case Re.OK:return k.OK;case Re.CANCELLED:return k.CANCELLED;case Re.UNKNOWN:return k.UNKNOWN;case Re.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Re.INTERNAL:return k.INTERNAL;case Re.UNAVAILABLE:return k.UNAVAILABLE;case Re.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Re.NOT_FOUND:return k.NOT_FOUND;case Re.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Re.ABORTED:return k.ABORTED;case Re.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Re.DATA_LOSS:return k.DATA_LOSS;default:return ut()}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn=function(){function e(t,n){this.H=t,this.root=n||po.EMPTY}return e.prototype.zt=function(t,n){return new e(this.H,this.root.zt(t,n,this.H).copy(null,null,po.Ht,null,null))},e.prototype.remove=function(t){return new e(this.H,this.root.remove(t,this.H).copy(null,null,po.Ht,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.et();){var r=this.H(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.et();){var i=this.H(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.et=function(){return this.root.et()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.Jt=function(){return this.root.Jt()},e.prototype.Yt=function(){return this.root.Yt()},e.prototype.Xt=function(t){return this.root.Xt(t)},e.prototype.forEach=function(t){this.Xt(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.Xt(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.Zt=function(t){return this.root.Zt(t)},e.prototype.te=function(){return new fh(this.root,null,this.H,!1)},e.prototype.ee=function(t){return new fh(this.root,t,this.H,!1)},e.prototype.ne=function(){return new fh(this.root,null,this.H,!0)},e.prototype.se=function(t){return new fh(this.root,t,this.H,!0)},e}(),fh=function(){function e(t,n,r,i){this.ie=i,this.re=[];for(var s=1;!t.et();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.ie?t.left:t.right;else{if(s===0){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return e.prototype.oe=function(){var t=this.re.pop(),n={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return n},e.prototype.ce=function(){return this.re.length>0},e.prototype.ae=function(){if(this.re.length===0)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},e}(),po=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.et=function(){return!1},e.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},e.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},e.prototype.min=function(){return this.left.et()?this:this.left.min()},e.prototype.Jt=function(){return this.min().key},e.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},e.prototype.zt=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(t,n,r))).ue()},e.prototype.he=function(){if(this.left.et())return e.EMPTY;var t=this;return t.left.le()||t.left.left.le()||(t=t._e()),(t=t.copy(null,null,null,t.left.he(),null)).ue()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(t,i.key)===0){if(i.right.et())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.ue()},e.prototype.le=function(){return this.color},e.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},e.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},e.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},e.prototype.we=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.fe=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},e.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw ut();var t=this.left.Ie();if(t!==this.right.Ie())throw ut();return t+(this.le()?0:1)},e}();po.EMPTY=null,po.RED=!0,po.Ht=!1,po.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ut()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ut()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.zt=function(t,n,r){return new po(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.et=function(){return!0},e.prototype.Xt=function(t){return!1},e.prototype.Zt=function(t){return!1},e.prototype.Jt=function(){return null},e.prototype.Yt=function(){return null},e.prototype.le=function(){return!1},e.prototype.Te=function(){return!0},e.prototype.Ie=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be=function(){function e(t){this.H=t,this.data=new wn(this.H)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.Jt()},e.prototype.last=function(){return this.data.Yt()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.Xt(function(n,r){return t(n),!1})},e.prototype.me=function(t,n){for(var r=this.data.ee(t[0]);r.ce();){var i=r.oe();if(this.H(i.key,t[1])>=0)return;n(i.key)}},e.prototype.Ae=function(t,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!t(r.oe().key))return},e.prototype.Re=function(t){var n=this.data.ee(t);return n.ce()?n.oe().key:null},e.prototype.te=function(){return new vA(this.data.te())},e.prototype.ee=function(t){return new vA(this.data.ee(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.et=function(){return this.data.et()},e.prototype.Pe=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.te(),r=t.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},e.prototype.it=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.H);return n.data=t,n},e}(),vA=function(){function e(t){this.ye=t}return e.prototype.oe=function(){return this.ye.oe().key},e.prototype.ce=function(){return this.ye.ce()},e}(),zq=new wn(ht.H);function ji(){return zq}function hp(){return ji()}var Kq=new wn(ht.H);function vl(){return Kq}var Qq=new wn(ht.H);function EO(){return Qq}var Yq=new Be(ht.H);function Qt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Yq,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Xq=new Be(kt);function id(){return Xq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IO=function(){function e(t){this.H=t?function(n,r){return t(n,r)||ht.H(n.key,r.key)}:function(n,r){return ht.H(n.key,r.key)},this.ge=vl(),this.Ve=new wn(this.H)}return e.pe=function(t){return new e(t.H)},e.prototype.has=function(t){return this.ge.get(t)!=null},e.prototype.get=function(t){return this.ge.get(t)},e.prototype.first=function(){return this.Ve.Jt()},e.prototype.last=function(){return this.Ve.Yt()},e.prototype.et=function(){return this.Ve.et()},e.prototype.indexOf=function(t){var n=this.ge.get(t);return n?this.Ve.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.Ve.Xt(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.ge.zt(t.key,t),n.Ve.zt(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.ge.remove(t),this.Ve.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.Ve.te(),r=t.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.H=this.H,r.ge=t,r.Ve=n,r},e}(),gA=function(){function e(){this.be=new wn(ht.H)}return e.prototype.track=function(t){var n=t.doc.key,r=this.be.get(n);r?t.type!==0&&r.type===3?this.be=this.be.zt(n,t):t.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.be=this.be.remove(n):t.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:t.doc}):ut():this.be=this.be.zt(n,t)},e.prototype.ve=function(){var t=[];return this.be.Xt(function(n,r){t.push(r)}),t},e}(),pp=function(){function e(t,n,r,i,s,a,c,l){this.query=t,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=a,this.Ce=c,this.xe=l}return e.Ne=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,IO.pe(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Bl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),Nw=function(){function e(t,n,r,i,s){this.Ot=t,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return e.Me=function(t,n){var r=new Map;return r.set(t,Rw.Le(t,n)),new e(Ot.min(),r,id(),ji(),Qt())},e}(),Rw=function(){function e(t,n,r,i,s){this.resumeToken=t,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return e.Le=function(t,n){return new e(Pn.T,n,Qt(),Qt(),Qt())},e}(),Ph=function(e,t,n,r){this.Ke=e,this.removedTargetIds=t,this.key=n,this.We=r},TO=function(e,t){this.targetId=e,this.je=t},SO=function(e,t,n,r){n===void 0&&(n=Pn.T),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},mA=function(){function e(){this.Ge=0,this.ze=_A(),this.He=Pn.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(e.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),e.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},e.prototype.en=function(){var t=Qt(),n=Qt(),r=Qt();return this.ze.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ut()}}),new Rw(this.He,this.Je,t,n,r)},e.prototype.nn=function(){this.Ye=!1,this.ze=_A()},e.prototype.sn=function(t,n){this.Ye=!0,this.ze=this.ze.zt(t,n)},e.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},e.prototype.on=function(){this.Ge+=1},e.prototype.cn=function(){this.Ge-=1},e.prototype.an=function(){this.Ye=!0,this.Je=!0},e}(),Jq=function(){function e(t){this.un=t,this.hn=new Map,this.ln=ji(),this._n=yA(),this.fn=new Be(kt)}return e.prototype.dn=function(t){for(var n=0,r=t.Ke;n<r.length;n++){var i=r[n];t.We instanceof Zt?this.wn(i,t.We):t.We instanceof Ve&&this.En(i,t.key,t.We)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.En(i,t.key,t.We)},e.prototype.Tn=function(t){var n=this;this.In(t,function(r){var i=n.mn(r);switch(t.state){case 0:n.An(r)&&i.tn(t.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(t.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(t.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(t.resumeToken));break;default:ut()}})},e.prototype.In=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},e.prototype.Pn=function(t){var n=t.targetId,r=t.je.count,i=this.yn(n);if(i){var s=i.target;if(cp(s))if(r===0){var a=new ht(s.path);this.En(n,a,new Ve(a,Ot.min()))}else yt(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},e.prototype.Vn=function(t){var n=this,r=new Map;this.hn.forEach(function(a,c){var l=n.yn(c);if(l){if(a.Be&&cp(l.target)){var h=new ht(l.target.path);n.ln.get(h)!==null||n.pn(c,h)||n.En(c,h,new Ve(h,t))}a.Ze&&(r.set(c,a.en()),a.nn())}});var i=Qt();this._n.forEach(function(a,c){var l=!0;c.Ae(function(h){var d=n.yn(h);return!d||d.Ft===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new Nw(t,r,this.fn,this.ln,i);return this.ln=ji(),this._n=yA(),this.fn=new Be(kt),s},e.prototype.wn=function(t,n){if(this.An(t)){var r=this.pn(t,n.key)?2:0;this.mn(t).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(t))}},e.prototype.En=function(t,n,r){if(this.An(t)){var i=this.mn(t);this.pn(t,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(t)),r&&(this.ln=this.ln.zt(n,r))}},e.prototype.removeTarget=function(t){this.hn.delete(t)},e.prototype.gn=function(t){var n=this.mn(t).en();return this.un.vn(t).size+n.qe.size-n.Qe.size},e.prototype.on=function(t){this.mn(t).on()},e.prototype.mn=function(t){var n=this.hn.get(t);return n||(n=new mA,this.hn.set(t,n)),n},e.prototype.bn=function(t){var n=this._n.get(t);return n||(n=new Be(kt),this._n=this._n.zt(t,n)),n},e.prototype.An=function(t){var n=this.yn(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.yn=function(t){var n=this.hn.get(t);return n&&n.Xe?null:this.un.Sn(t)},e.prototype.Rn=function(t){var n=this;this.hn.set(t,new mA),this.un.vn(t).forEach(function(r){n.En(t,r,null)})},e.prototype.pn=function(t,n){return this.un.vn(t).has(n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return new wn(ht.H)}function _A(){return new wn(ht.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zq={asc:"ASCENDING",desc:"DESCENDING"},tH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eH=function(e,t){this.t=e,this.Bt=t};function gl(e,t){return e.Bt?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function AO(e,t){return e.Bt?t.toBase64():t.toUint8Array()}function nH(e,t){return gl(e,t.j())}function Ye(e){return yt(!!e),Ot.K(function(t){var n=No(t);return new Hn(n.seconds,n.nanos)}(e))}function Ow(e,t){return function(n){return new Ht(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).rt()}function CO(e){var t=Ht.ot(e);return yt(LO(t)),t}function ml(e,t){return Ow(e.t,t.path)}function ui(e,t){var n=CO(t);if(n.get(1)!==e.t.projectId)throw new W(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.t.projectId);if(n.get(3)!==e.t.database)throw new W(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.t.database);return new ht(RO(n))}function By(e,t){return Ow(e.t,t)}function NO(e){var t=CO(e);return t.length===4?Ht.ct():RO(t)}function yl(e){return new Ht(["projects",e.t.projectId,"databases",e.t.database]).rt()}function RO(e){return yt(e.length>4&&e.get(4)==="documents"),e.Y(5)}function wA(e,t,n){return{name:ml(e,t),fields:n.proto.mapValue.fields}}function OO(e,t,n){var r=ui(e,t.name),i=Ye(t.updateTime),s=new Oo({mapValue:{fields:t.fields}});return new Zt(r,i,s,{hasCommittedMutations:!!n})}function dp(e,t){var n;if(t instanceof Wl)n={update:wA(e,t.key,t.value)};else if(t instanceof Gl)n={delete:ml(e,t.key)};else if(t instanceof Lo)n={update:wA(e,t.key,t.data),updateMask:aH(t.Gt)};else{if(!(t instanceof Cw))return ut();n={verify:ml(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof eu)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ps)return{fieldPath:s.field.rt(),appendMissingElements:{values:a.elements}};if(a instanceof ks)return{fieldPath:s.field.rt(),removeAllFromArray:{values:a.elements}};if(a instanceof nu)return{fieldPath:s.field.rt(),increment:a.Ut};throw ut()}(0,r)})),t.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:nH(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ut()}(e,t.jt)),n}function bA(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?dn.updateTime(Ye(h.updateTime)):h.exists!==void 0?dn.exists(h.exists):dn.Kt()}(t.currentDocument):dn.Kt(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var m=null;if("setToServerValue"in v)yt(v.setToServerValue==="REQUEST_TIME"),m=new eu;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new Ps(y)}else if("removeAllFromArray"in v){var b=v.removeAllFromArray.values||[];m=new ks(b)}else"increment"in v?m=new nu(d,v.increment):ut();var E=Br.lt(v.fieldPath);return new Hl(E,m)}(e,h)}):[];if(t.update){t.update.name;var i=ui(e,t.update.name),s=new Oo({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new Xa(d.map(function(v){return Br.lt(v)}))}(t.updateMask);return new Lo(i,s,a,n,r)}return new Wl(i,s,n,r)}if(t.delete){var c=ui(e,t.delete);return new Gl(c,n)}if(t.verify){var l=ui(e,t.verify);return new Cw(l,n)}return ut()}function xO(e,t){return{documents:[By(e,t.path)]}}function PO(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=By(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=By(e,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(sA(d.value))return{unaryFilter:{field:_a(d.field),op:"IS_NAN"}};if(oA(d.value))return{unaryFilter:{field:_a(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(sA(d.value))return{unaryFilter:{field:_a(d.field),op:"IS_NOT_NAN"}};if(oA(d.value))return{unaryFilter:{field:_a(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(d.field),op:iH(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:_a(h.field),direction:rH(h.dir)}}(l)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.Bt||js(l)?l:{value:l}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=EA(t.startAt)),t.endAt&&(n.structuredQuery.endAt=EA(t.endAt)),n}function kO(e){var t=NO(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){yt(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=DO(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(m){return new Ua(Oa(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var l=null;n.limit&&(l=function(v){var m;return js(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=IA(n.startAt));var d=null;return n.endAt&&(d=IA(n.endAt)),uO(t,i,c,a,l,"F",h,d)}function DO(e){return e?e.unaryFilter!==void 0?[sH(e)]:e.fieldFilter!==void 0?[oH(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return DO(t)}).reduce(function(t,n){return t.concat(n)}):ut():[]}function EA(e){return{before:e.before,values:e.position}}function IA(e){var t=!!e.before,n=e.values||[];return new dl(n,t)}function rH(e){return Zq[e]}function iH(e){return tH[e]}function _a(e){return{fieldPath:e.rt()}}function Oa(e){return Br.lt(e.fieldPath)}function oH(e){return rr.create(Oa(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ut()}}(e.fieldFilter.op),e.fieldFilter.value)}function sH(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Oa(e.unaryFilter.field);return rr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Oa(e.unaryFilter.field);return rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Oa(e.unaryFilter.field);return rr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Oa(e.unaryFilter.field);return rr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ut()}}function aH(e){var t=[];return e.fields.forEach(function(n){return t.push(n.rt())}),{fieldPaths:t}}function LO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},$=function(){function e(t){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.Nn&&ut(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(t,this.result):new e(function(i,s){r.Dn=function(a){r.Fn(t,a).next(i,s)},r.Cn=function(a){r.$n(n,a).next(i,s)}})},e.prototype.On=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.kn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.Fn=function(t,n){return t?this.kn(function(){return t(n)}):e.resolve(n)},e.prototype.$n=function(t,n){return t?this.kn(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.Mn=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},e.Ln=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(c){return c?e.resolve(c):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.Mn(i)},e}(),MO=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.Bn=new kn,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new Vc(t,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=xw(i.target.error);r.Bn.reject(new Vc(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new Vc(n,s)}},Object.defineProperty(e.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Q("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new cH(n)},e}(),ru=function(){function e(t,n,r){this.name=t,this.version=n,this.Un=r,e.Qn(Ns())===12.2&&xe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return Q("SimpleDb","Removing database:",t),hs(window.indexedDB.deleteDatabase(t)).On()},e.Kn=function(){if(typeof indexedDB>"u")return!1;if(e.Wn())return!0;var t=Ns(),n=e.Qn(t),r=0<n&&n<10,i=e.jn(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.Wn=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Gn)==="YES"},e.zn=function(t,n){return t.store(n)},e.Qn=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.jn=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.Hn=function(t){return N(this,void 0,void 0,function(){var n,r=this;return C(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(Q("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new Vc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new W(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Vc(t,h))},c.onupgradeneeded=function(l){Q("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.Un.Jn(h,c.transaction,l.oldVersion,r.version).next(function(){Q("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},e.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return N(this,void 0,void 0,function(){var s,a,c,l,h;return C(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,m,y,b,E;return C(this,function(I){switch(I.label){case 0:++a,I.label=1;case 1:return I.trys.push([1,4,,5]),[4,l.Hn(t)];case 2:return l.db=I.sent(),v=MO.open(l.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(R){return v.abort(R),$.reject(R)}).On(),y={},m.catch(function(){}),[4,v.qn];case 3:return[2,(y.value=(I.sent(),m),y)];case 4:return b=I.sent(),E=b.name!=="FirebaseError"&&a<3,Q("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),uH=function(){function e(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(e.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.ts=!0},e.prototype.ss=function(t){this.es=t},e.prototype.delete=function(){return hs(this.Zn.delete())},e}(),Vc=function(e){function t(n,r){var i=this;return(i=e.call(this,k.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return J(t,e),t}(W);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(e){return e.name==="IndexedDbTransactionError"}var cH=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),hs(r)},e.prototype.add=function(t){return Q("SimpleDb","ADD",this.store.name,t,t),hs(this.store.add(t))},e.prototype.get=function(t){var n=this;return hs(this.store.get(t)).next(function(r){return r===void 0&&(r=null),Q("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return Q("SimpleDb","DELETE",this.store.name,t),hs(this.store.delete(t))},e.prototype.count=function(){return Q("SimpleDb","COUNT",this.store.name),hs(this.store.count())},e.prototype.rs=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.os(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.cs=function(t,n){Q("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,a,c){return c.delete()})},e.prototype.hs=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.os(i,n)},e.prototype.ls=function(t){var n=this.cursor({});return new $(function(r,i){n.onerror=function(s){var a=xw(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},e.prototype.os=function(t,n){var r=[];return new $(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var c=a.target.result;if(c){var l=new uH(c),h=n(c.primaryKey,c.value,l);if(h instanceof $){var d=h.catch(function(v){return l.done(),$.reject(v)});r.push(d)}l.xn?i():l.ns===null?c.continue():c.continue(l.ns)}else i()}}).next(function(){return $.Mn(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.us?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function hs(e){return new $(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=xw(r.target.error);n(i)}})}var TA=!1;function xw(e){var t=ru.Qn(Ns());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new W("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return TA||(TA=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lH=function(){function e(t,n,r,i,s){this._s=t,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new kn,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(a){})}return e.Ts=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.Is=setTimeout(function(){return n.As()},t)},e.prototype.Rs=function(){return this.As()},e.prototype.cancel=function(t){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new W(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.As=function(){var t=this;this._s.Ps(function(){return t.Is!==null?(t.clearTimeout(),t.op().then(function(n){return t.Es.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},e}();function Su(e,t){if(xe("AsyncQueue",t+": "+e),Vs(e))return new W(k.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UO=function(){function e(){this.ys=[]}return e.prototype.gs=function(t){this.ys.push(t)},e.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=SA(t)),t=fH(e.get(n),t);return SA(t)}function fH(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function SA(e){return e+""}function xi(e){var t=e.length;if(yt(t>=2),t===2)return yt(e.charAt(0)===""&&e.charAt(1)===""),Ht.ct();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&ut(),e.charAt(a+1)){case"":var c=e.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:ut()}s=a+2}return new Ht(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hH=function(e,t){this.seconds=e,this.nanoseconds=t},Jn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Jn.store="owner",Jn.key="owner";var bo=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};bo.store="mutationQueues",bo.keyPath="userId";var ne=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ne.store="mutations",ne.keyPath="batchId",ne.userMutationsIndex="userMutationsIndex",ne.userMutationsKeyPath=["userId","batchId"];var fn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Ur(n)]},e.key=function(t,n,r){return[t,Ur(n),r]},e}();fn.store="documentMutations",fn.PLACEHOLDER=new fn;var pH=function(e,t){this.path=e,this.readTime=t},dH=function(e,t){this.path=e,this.version=t},me=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};me.store="remoteDocuments",me.readTimeIndex="readTimeIndex",me.readTimeIndexPath="readTime",me.collectionReadTimeIndex="collectionReadTimeIndex",me.collectionReadTimeIndexPath=["parentPath","readTime"];var oi=function(e){this.byteSize=e};oi.store="remoteDocumentGlobal",oi.key="remoteDocumentGlobalKey";var qn=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var an=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};an.store="targetDocuments",an.keyPath=["targetId","path"],an.documentTargetsIndex="documentTargetsIndex",an.documentTargetsKeyPath=["path","targetId"];var tr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};tr.key="targetGlobalKey",tr.store="targetGlobal";var Is=function(e,t){this.collectionId=e,this.parent=t};Is.store="collectionParents",Is.keyPath=["collectionId","parent"];var ki=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ki.store="clientMetadata",ki.keyPath="clientId";var iu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};iu.store="bundles",iu.keyPath="bundleId";var ou=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ou.store="namedQueries",ou.keyPath="name";var vH=Se(Se(Se(Se([bo.store,ne.store,fn.store,me.store,qn.store,Jn.store,tr.store,an.store],[ki.store]),[oi.store]),[Is.store]),[iu.store,ou.store]),AA=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ps=n,i.bs=r,i}return J(t,e),t}(UO);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(e,t){var n=Z(e);return ru.zn(n.ps,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pw=function(){function e(t,n,r,i){this.batchId=t,this.vs=n,this.baseMutations=r,this.mutations=i}return e.prototype.Ss=function(t,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(t)&&(n=Wq(a,n,i[s]))}return n},e.prototype.Cs=function(t,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(c=i[r]).key.isEqual(t)&&(n=Vy(c,n,this.vs));for(var s=0,a=this.mutations;s<a.length;s++){var c;(c=a[s]).key.isEqual(t)&&(n=Vy(c,n,this.vs))}return n},e.prototype.xs=function(t){var n=this,r=t;return this.mutations.forEach(function(i){var s=n.Cs(i.key,t.get(i.key));s&&(r=r.zt(i.key,s))}),r},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Qt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,function(n,r){return fA(n,r)})&&Ya(this.baseMutations,t.baseMutations,function(n,r){return fA(n,r)})},e}(),gH=function(){function e(t,n,r,i){this.batch=t,this.Ns=n,this.Ds=r,this.$s=i}return e.from=function(t,n,r){yt(t.mutations.length===r.length);for(var i=EO(),s=t.mutations,a=0;a<s.length;a++)i=i.zt(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),jO=function(e){this.Fs=e};function qy(e,t){if(t.document)return OO(e.Fs,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ht.Et(t.noDocument.path),r=au(t.noDocument.readTime);return new Ve(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=ht.Et(t.unknownDocument.path);return r=au(t.unknownDocument.version),new Ew(i,r)}return ut()}function CA(e,t,n){var r=kw(n),i=t.key.path.X().it();if(t instanceof Zt){var s=function(v,m){return{name:ml(v,m.key),fields:m.bt().mapValue.fields,updateTime:gl(v,m.version.j())}}(e.Fs,t),a=t.hasCommittedMutations;return new me(null,null,s,a,r,i)}if(t instanceof Ve){var c=t.key.path.it(),l=su(t.version);return a=t.hasCommittedMutations,new me(null,new pH(c,l),null,a,r,i)}if(t instanceof Ew){var h=t.key.path.it(),d=su(t.version);return new me(new dH(h,d),null,null,!0,r,i)}return ut()}function kw(e){var t=e.j();return[t.seconds,t.nanoseconds]}function VO(e){var t=new Hn(e[0],e[1]);return Ot.K(t)}function su(e){var t=e.j();return new hH(t.seconds,t.nanoseconds)}function au(e){var t=new Hn(e.seconds,e.nanoseconds);return Ot.K(t)}function Aa(e,t){for(var n=(t.baseMutations||[]).map(function(l){return bA(e.Fs,l)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(l){return bA(e.Fs,l)}),c=Hn.fromMillis(t.localWriteTimeMs);return new Pw(t.batchId,c,n,a)}function xc(e){var t,n,r=au(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?au(e.lastLimboFreeSnapshotVersion):Ot.min();return e.query.documents!==void 0?(yt((n=e.query).documents.length===1),t=yr(Tu(NO(n.documents[0])))):t=function(s){return yr(kO(s))}(e.query),new ed(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Pn.fromBase64String(e.resumeToken))}function BO(e,t){var n,r=su(t.Ot),i=su(t.lastLimboFreeSnapshotVersion);n=cp(t.target)?xO(e.Fs,t.target):PO(e.Fs,t.target);var s=t.resumeToken.toBase64();return new qn(t.targetId,Vl(t.target),r,s,t.sequenceNumber,i,n)}function Dw(e){var t=kO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cO(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mH=function(){function e(){}return e.prototype.Os=function(t,n){return NA(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:au(i.createTime),version:i.version};var i})},e.prototype.ks=function(t,n){return NA(t).put({bundleId:(r=n).id,createTime:su(Ye(r.createTime)),version:r.version});var r},e.prototype.Ms=function(t,n){return RA(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:Dw(i.bundledQuery),readTime:au(i.readTime)};var i})},e.prototype.Ls=function(t,n){return RA(t).put(function(r){return{name:r.name,readTime:su(Ye(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function NA(e){return Kn(e,iu.store)}function RA(e){return Kn(e,ou.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yH=function(){function e(){this.Bs=new Lw}return e.prototype.qs=function(t,n){return this.Bs.add(n),$.resolve()},e.prototype.Us=function(t,n){return $.resolve(this.Bs.getEntries(n))},e}(),Lw=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.tt(),r=t.X(),i=this.index[n]||new Be(Ht.H),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.tt(),r=t.X(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Be(Ht.H)).it()},e}(),_H=function(){function e(){this.Qs=new Lw}return e.prototype.qs=function(t,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();t.gs(function(){r.Qs.add(n)});var a={collectionId:i,parent:Ur(s)};return OA(t).put(a)}return $.resolve()},e.prototype.Us=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[eO(n),""],!1,!0);return OA(t).rs(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(xi(l.parent))}return r})},e}();function OA(e){return Kn(e,Is.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xA={Ks:!1,Ws:0,js:0,Gs:0},Zr=function(){function e(t,n,r){this.zs=t,this.Hs=n,this.Js=r}return e.Ys=function(t){return new e(t,e.Xs,e.Zs)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(e){return N(this,void 0,void 0,function(){return C(this,function(t){if(e.code!==k.FAILED_PRECONDITION||e.message!==FO)throw e;return Q("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr.Xs=10,Zr.Zs=1e3,Zr.ti=new Zr(41943040,Zr.Xs,Zr.Zs),Zr.ei=new Zr(-1,0,0);var Au=function(){function e(t,n){this.ni=t,this.si=n,this.ii={}}return e.prototype.get=function(t){var n=this.ni(t),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.si(c,t))return l}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.ni(t),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.ii[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.ni(t),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Ul(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];t(c,l)}})},e.prototype.et=function(){return rO(this.ii)},e}(),qO=function(){function e(){this.ri=new Au(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.oi=!1}return e.prototype.ci=function(t){var n=this.ri.get(t);return n?n.readTime:Ot.min()},e.prototype.ai=function(t,n){this.ui(),this.ri.set(t.key,{hi:t,readTime:n})},e.prototype.li=function(t,n){n===void 0&&(n=null),this.ui(),this.ri.set(t,{hi:null,readTime:n})},e.prototype._i=function(t,n){this.ui();var r=this.ri.get(n);return r!==void 0?$.resolve(r.hi):this.fi(t,n)},e.prototype.getEntries=function(t,n){return this.di(t,n)},e.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},e.prototype.ui=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(e,t,n){var r=e.store(ne.store),i=e.store(fn.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.hs({range:a},function(b,E,I){return c++,I.delete()});s.push(l.next(function(){yt(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var m=v[d],y=fn.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return $.Mn(s).next(function(){return h})}function vp(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ut();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wH=function(){function e(t,n,r,i){this.userId=t,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return e.mi=function(t,n,r,i){return yt(t.uid!==""),new e(t.m()?t.uid:"",n,r,i)},e.prototype.Ai=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oo(t).hs({index:ne.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.Ri=function(t,n,r,i){var s=this,a=Ca(t),c=oo(t);return c.add({}).next(function(l){yt(typeof l=="number");for(var h=new Pw(l,n,r,i),d=function(R,P,D){var F=D.baseMutations.map(function(U){return dp(R.Fs,U)}),Y=D.mutations.map(function(U){return dp(R.Fs,U)});return new ne(P,D.batchId,D.vs.toMillis(),F,Y)}(s.Qt,s.userId,h),v=[],m=new Be(function(R,P){return kt(R.rt(),P.rt())}),y=0,b=i;y<b.length;y++){var E=b[y],I=fn.key(s.userId,E.key.path,l);m=m.add(E.key.path.X()),v.push(c.put(d)),v.push(a.put(I,fn.PLACEHOLDER))}return m.forEach(function(R){v.push(s.Ei.qs(t,R))}),t.gs(function(){s.Ii[l]=h.keys()}),$.Mn(v).next(function(){return h})})},e.prototype.Pi=function(t,n){var r=this;return oo(t).get(n).next(function(i){return i?(yt(i.userId===r.userId),Aa(r.Qt,i)):null})},e.prototype.yi=function(t,n){var r=this;return this.Ii[n]?$.resolve(this.Ii[n]):this.Pi(t,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},e.prototype.gi=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return oo(t).hs({index:ne.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(yt(l.batchId>=i),a=Aa(r.Qt,l)),h.done()}).next(function(){return a})},e.prototype.Vi=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return oo(t).hs({index:ne.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.pi=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oo(t).rs(ne.userMutationsIndex,r).next(function(i){return i.map(function(s){return Aa(n.Qt,s)})})},e.prototype.bi=function(t,n){var r=this,i=fn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Ca(t).hs({range:s},function(c,l,h){var d=c[0],v=c[1],m=c[2],y=xi(v);if(d===r.userId&&n.path.isEqual(y))return oo(t).get(m).next(function(b){if(!b)throw ut();yt(b.userId===r.userId),a.push(Aa(r.Qt,b))});h.done()}).next(function(){return a})},e.prototype.vi=function(t,n){var r=this,i=new Be(kt),s=[];return n.forEach(function(a){var c=fn.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Ca(t).hs({range:l},function(d,v,m){var y=d[0],b=d[1],E=d[2],I=xi(b);y===r.userId&&a.path.isEqual(I)?i=i.add(E):m.done()});s.push(h)}),$.Mn(s).next(function(){return r.Si(t,i)})},e.prototype.Di=function(t,n){var r=this,i=n.path,s=i.length+1,a=fn.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new Be(kt);return Ca(t).hs({range:c},function(h,d,v){var m=h[0],y=h[1],b=h[2],E=xi(y);m===r.userId&&i.nt(E)?E.length===s&&(l=l.add(b)):v.done()}).next(function(){return r.Si(t,l)})},e.prototype.Si=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(oo(t).get(a).next(function(c){if(c===null)throw ut();yt(c.userId===r.userId),i.push(Aa(r.Qt,c))}))}),$.Mn(s).next(function(){return i})},e.prototype.Ci=function(t,n){var r=this;return HO(t.ps,this.userId,n).next(function(i){return t.gs(function(){r.xi(n.batchId)}),$.forEach(i,function(s){return r.Ti.Ni(t,s)})})},e.prototype.xi=function(t){delete this.Ii[t]},e.prototype.$i=function(t){var n=this;return this.Ai(t).next(function(r){if(!r)return $.resolve();var i=IDBKeyRange.lowerBound(fn.prefixForUser(n.userId)),s=[];return Ca(t).hs({range:i},function(a,c,l){if(a[0]===n.userId){var h=xi(a[1]);s.push(h)}else l.done()}).next(function(){yt(s.length===0)})})},e.prototype.Fi=function(t,n){return WO(t,this.userId,n)},e.prototype.Oi=function(t){var n=this;return GO(t).get(this.userId).next(function(r){return r||new bo(n.userId,-1,"")})},e}();function WO(e,t,n){var r=fn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Ca(e).hs({range:s,us:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function oo(e){return Kn(e,ne.store)}function Ca(e){return Kn(e,fn.store)}function GO(e){return Kn(e,bo.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gp=function(){function e(t){this.ki=t}return e.prototype.next=function(){return this.ki+=2,this.ki},e.Mi=function(){return new e(0)},e.Li=function(){return new e(-1)},e}(),bH=function(){function e(t,n){this.Ti=t,this.Qt=n}return e.prototype.Bi=function(t){var n=this;return this.qi(t).next(function(r){var i=new gp(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(t,r).next(function(){return r.highestTargetId})})},e.prototype.Qi=function(t){return this.qi(t).next(function(n){return Ot.K(new Hn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.Ki=function(t){return this.qi(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.Wi=function(t,n,r){var i=this;return this.qi(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(t,s)})},e.prototype.ji=function(t,n){var r=this;return this.Gi(t,n).next(function(){return r.qi(t).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(t,i)})})},e.prototype.Hi=function(t,n){return this.Gi(t,n)},e.prototype.Ji=function(t,n){var r=this;return this.Yi(t,n.targetId).next(function(){return wa(t).delete(n.targetId)}).next(function(){return r.qi(t)}).next(function(i){return yt(i.targetCount>0),i.targetCount-=1,r.Ui(t,i)})},e.prototype.Xi=function(t,n,r){var i=this,s=0,a=[];return wa(t).hs(function(c,l){var h=xc(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Ji(t,h)))}).next(function(){return $.Mn(a)}).next(function(){return s})},e.prototype.In=function(t,n){return wa(t).hs(function(r,i){var s=xc(i);n(s)})},e.prototype.qi=function(t){return PA(t).get(tr.key).next(function(n){return yt(n!==null),n})},e.prototype.Ui=function(t,n){return PA(t).put(tr.key,n)},e.prototype.Gi=function(t,n){return wa(t).put(BO(this.Qt,n))},e.prototype.zi=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.Zi=function(t){return this.qi(t).next(function(n){return n.targetCount})},e.prototype.tr=function(t,n){var r=Vl(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return wa(t).hs({range:i,index:qn.queryTargetsIndexName},function(a,c,l){var h=xc(c);td(n,h.target)&&(s=h,l.done())}).next(function(){return s})},e.prototype.er=function(t,n,r){var i=this,s=[],a=vo(t);return n.forEach(function(c){var l=Ur(c.path);s.push(a.put(new an(r,l))),s.push(i.Ti.nr(t,r,c))}),$.Mn(s)},e.prototype.sr=function(t,n,r){var i=this,s=vo(t);return $.forEach(n,function(a){var c=Ur(a.path);return $.Mn([s.delete([r,c]),i.Ti.ir(t,r,a)])})},e.prototype.Yi=function(t,n){var r=vo(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.rr=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=vo(t),s=Qt();return i.hs({range:r,us:!0},function(a,c,l){var h=xi(a[1]),d=new ht(h);s=s.add(d)}).next(function(){return s})},e.prototype.Fi=function(t,n){var r=Ur(n.path),i=IDBKeyRange.bound([r],[eO(r)],!1,!0),s=0;return vo(t).hs({index:an.documentTargetsIndex,us:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},e.prototype.Sn=function(t,n){return wa(t).get(n).next(function(r){return r?xc(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(e){return Kn(e,qn.store)}function PA(e){return Kn(e,tr.store)}function vo(e){return Kn(e,an.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=kt(n,i);return a===0?kt(r,s):a}var EH=function(){function e(t){this.cr=t,this.buffer=new Be(kA),this.ar=0}return e.prototype.ur=function(){return++this.ar},e.prototype.hr=function(t){var n=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();kA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),IH=function(){function e(t,n){this.lr=t,this._s=n,this._r=!1,this.dr=null}return e.prototype.start=function(t){this.lr.params.zs!==-1&&this.wr(t)},e.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(e.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),e.prototype.wr=function(t){var n=this,r=this._r?3e5:6e4;Q("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return N(n,void 0,void 0,function(){var i;return C(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return Vs(i=s.sent())?(Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Bs(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return s.sent(),[2]}})})})},e}(),TH=function(){function e(t,n){this.mr=t,this.params=n}return e.prototype.Ar=function(t,n){return this.mr.Rr(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.Pr=function(t,n){var r=this;if(n===0)return $.resolve(nr.q);var i=new EH(n);return this.mr.In(t,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(t,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},e.prototype.Xi=function(t,n,r){return this.mr.Xi(t,n,r)},e.prototype.gr=function(t,n){return this.mr.gr(t,n)},e.prototype.Vr=function(t,n){var r=this;return this.params.zs===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(xA)):this.pr(t).next(function(i){return i<r.params.zs?(Q("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),xA):r.br(t,n)})},e.prototype.pr=function(t){return this.mr.pr(t)},e.prototype.br=function(t,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.Ar(t,this.params.Hs).next(function(m){return m>d.params.Js?(Q("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.Js+" from "+m),i=d.params.Js):i=m,a=Date.now(),d.Pr(t,i)}).next(function(m){return r=m,c=Date.now(),d.Xi(t,r,n)}).next(function(m){return s=m,l=Date.now(),d.gr(t,r)}).next(function(m){return h=Date.now(),My()<=Rt.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+m+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),$.resolve({Ks:!0,Ws:i,js:s,Gs:m})})},e}(),SH=function(){function e(t,n){this.db=t,this.lr=function(r,i){return new TH(r,i)}(this,n)}return e.prototype.Rr=function(t){var n=this.vr(t);return this.db.Sr().Zi(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.vr=function(t){var n=0;return this.yr(t,function(r){n++}).next(function(){return n})},e.prototype.In=function(t,n){return this.db.Sr().In(t,n)},e.prototype.yr=function(t,n){return this.Dr(t,function(r,i){return n(i)})},e.prototype.nr=function(t,n,r){return hh(t,r)},e.prototype.ir=function(t,n,r){return hh(t,r)},e.prototype.Xi=function(t,n,r){return this.db.Sr().Xi(t,n,r)},e.prototype.Ni=function(t,n){return hh(t,n)},e.prototype.Cr=function(t,n){return function(r,i){var s=!1;return GO(r).ls(function(a){return WO(r,a,i).next(function(c){return c&&(s=!0),$.resolve(!c)})}).next(function(){return s})}(t,n)},e.prototype.gr=function(t,n){var r=this,i=this.db.$r().Nr(),s=[],a=0;return this.Dr(t,function(c,l){if(l<=n){var h=r.Cr(t,c).next(function(d){if(!d)return a++,i._i(t,c).next(function(){return i.li(c),vo(t).delete([0,Ur(c.path)])})});s.push(h)}}).next(function(){return $.Mn(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.kt(t.bs);return this.db.Sr().Hi(t,r)},e.prototype.Fr=function(t,n){return hh(t,n)},e.prototype.Dr=function(t,n){var r,i=vo(t),s=nr.q;return i.hs({index:an.documentTargetsIndex},function(a,c){var l=a[0],h=(a[1],c.path),d=c.sequenceNumber;l===0?(s!==nr.q&&n(new ht(xi(r)),s),s=d,r=h):s=nr.q}).next(function(){s!==nr.q&&n(new ht(xi(r)),s)})},e.prototype.pr=function(t){return this.db.$r().Or(t)},e}();function hh(e,t){return vo(e).put(function(n,r){return new an(0,Ur(n.path),r)}(t,e.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AH=function(){function e(t,n){this.Qt=t,this.Ei=n}return e.prototype.ai=function(t,n,r){return fo(t).put(ph(n),r)},e.prototype.li=function(t,n){var r=fo(t),i=ph(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.kr(t,i)})},e.prototype._i=function(t,n){var r=this;return fo(t).get(ph(n)).next(function(i){return r.Mr(i)})},e.prototype.Lr=function(t,n){var r=this;return fo(t).get(ph(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:vp(i)}:null})},e.prototype.getEntries=function(t,n){var r=this,i=hp();return this.Br(t,n,function(s,a){var c=r.Mr(a);i=i.zt(s,c)}).next(function(){return i})},e.prototype.qr=function(t,n){var r=this,i=hp(),s=new wn(ht.H);return this.Br(t,n,function(a,c){var l=r.Mr(c);l?(i=i.zt(a,l),s=s.zt(a,vp(c))):(i=i.zt(a,null),s=s.zt(a,0))}).next(function(){return{Ur:i,Qr:s}})},e.prototype.Br=function(t,n,r){if(n.et())return $.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),a=s.oe();return fo(t).hs({range:i},function(c,l,h){for(var d=ht.Et(c);a&&ht.H(a,d)<0;)r(a,null),a=s.oe();a&&a.isEqual(d)&&(r(a,l),a=s.ce()?s.oe():null),a?h.ss(a.path.it()):h.done()}).next(function(){for(;a;)r(a,null),a=s.ce()?s.oe():null})},e.prototype.Kr=function(t,n,r){var i=this,s=vl(),a=n.path.length+1,c={};if(r.isEqual(Ot.min())){var l=n.path.it();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.it(),d=kw(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=me.collectionReadTimeIndex}return fo(t).hs(c,function(v,m,y){if(v.length===a){var b=qy(i.Qt,m);n.path.nt(b.key.path)?b instanceof Zt&&ql(n,b)&&(s=s.zt(b.key,b)):y.done()}}).next(function(){return s})},e.prototype.Nr=function(t){return new CH(this,!!t&&t.Wr)},e.prototype.Or=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return DA(t).get(oi.key).next(function(n){return yt(!!n),n})},e.prototype.kr=function(t,n){return DA(t).put(oi.key,n)},e.prototype.Mr=function(t){if(t){var n=qy(this.Qt,t);return n instanceof Ve&&n.version.isEqual(Ot.min())?null:n}return null},e}(),CH=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).jr=n,i.Wr=r,i.Gr=new Au(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return J(t,e),t.prototype.wi=function(n){var r=this,i=[],s=0,a=new Be(function(c,l){return kt(c.rt(),l.rt())});return this.ri.forEach(function(c,l){var h=r.Gr.get(c);if(l.hi){var d=CA(r.jr.Qt,l.hi,r.ci(c));a=a.add(c.path.X());var v=vp(d);s+=v-h,i.push(r.jr.ai(n,c,d))}else if(s-=h,r.Wr){var m=CA(r.jr.Qt,new Ve(c,Ot.min()),r.ci(c));i.push(r.jr.ai(n,c,m))}else i.push(r.jr.li(n,c))}),a.forEach(function(c){i.push(r.jr.Ei.qs(n,c))}),i.push(this.jr.updateMetadata(n,s)),$.Mn(i)},t.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},t.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var a=s.Ur;return s.Qr.forEach(function(c,l){i.Gr.set(c,l)}),a})},t}(qO);function DA(e){return Kn(e,oi.store)}function fo(e){return Kn(e,me.store)}function ph(e){return e.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NH=function(){function e(t){this.Qt=t}return e.prototype.Jn=function(t,n,r,i){var s=this;yt(r<i&&r>=0&&i<=11);var a=new MO("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Jn.store)}(t),function(l){l.createObjectStore(bo.store,{keyPath:bo.keyPath}),l.createObjectStore(ne.store,{keyPath:ne.keyPath,autoIncrement:!0}).createIndex(ne.userMutationsIndex,ne.userMutationsKeyPath,{unique:!0}),l.createObjectStore(fn.store)}(t),LA(t),function(l){l.createObjectStore(me.store)}(t));var c=$.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(an.store),l.deleteObjectStore(qn.store),l.deleteObjectStore(tr.store)}(t),LA(t)),c=c.next(function(){return function(l){var h=l.store(tr.store),d=new tr(0,0,Ot.min().j(),0);return h.put(tr.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(ne.store).rs().next(function(d){l.deleteObjectStore(ne.store),l.createObjectStore(ne.store,{keyPath:ne.keyPath,autoIncrement:!0}).createIndex(ne.userMutationsIndex,ne.userMutationsKeyPath,{unique:!0});var v=h.store(ne.store),m=d.map(function(y){return v.put(y)});return $.Mn(m)})}(t,a)})),c=c.next(function(){(function(l){l.createObjectStore(ki.store,{keyPath:ki.keyPath})})(t)})),r<5&&i>=5&&(c=c.next(function(){return s.zr(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(oi.store)}(t),s.Hr(a)})),r<7&&i>=7&&(c=c.next(function(){return s.Jr(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Yr(t,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(t),function(l){var h=l.objectStore(me.store);h.createIndex(me.readTimeIndex,me.readTimeIndexPath,{unique:!1}),h.createIndex(me.collectionReadTimeIndex,me.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Xr(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(iu.store,{keyPath:iu.keyPath})})(t),function(l){l.createObjectStore(ou.store,{keyPath:ou.keyPath})}(t)})),c},e.prototype.Hr=function(t){var n=0;return t.store(me.store).hs(function(r,i){n+=vp(i)}).next(function(){var r=new oi(n);return t.store(oi.store).put(oi.key,r)})},e.prototype.zr=function(t){var n=this,r=t.store(bo.store),i=t.store(ne.store);return r.rs().next(function(s){return $.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.rs(ne.userMutationsIndex,c).next(function(l){return $.forEach(l,function(h){yt(h.userId===a.userId);var d=Aa(n.Qt,h);return HO(t,a.userId,d).next(function(){})})})})})},e.prototype.Jr=function(t){var n=t.store(an.store),r=t.store(me.store);return t.store(tr.store).get(tr.key).next(function(i){var s=[];return r.hs(function(a,c){var l=new Ht(a),h=function(d){return[0,Ur(d)]}(l);s.push(n.get(h).next(function(d){return d?$.resolve():function(v){return n.put(new an(0,Ur(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return $.Mn(s)})})},e.prototype.Yr=function(t,n){t.createObjectStore(Is.store,{keyPath:Is.keyPath});var r=n.store(Is.store),i=new Lw,s=function(a){if(i.add(a)){var c=a.tt(),l=a.X();return r.put({collectionId:c,parent:Ur(l)})}};return n.store(me.store).hs({us:!0},function(a,c){var l=new Ht(a);return s(l.X())}).next(function(){return n.store(fn.store).hs({us:!0},function(a,c){a[0];var l=a[1],h=(a[2],xi(l));return s(h.X())})})},e.prototype.Xr=function(t){var n=this,r=t.store(qn.store);return r.hs(function(i,s){var a=xc(s),c=BO(n.Qt,a);return r.put(c)})},e}();function LA(e){e.createObjectStore(an.store,{keyPath:an.keyPath}).createIndex(an.documentTargetsIndex,an.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(tr.store)}var Om="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",RH=function(){function e(t,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=a,this.document=c,this.eo=h,this.no=d,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(v){return Promise.resolve()},!e.Kn())throw new W(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new SH(this,i),this.ho=n+"main",this.Qt=new jO(l),this.lo=new ru(this.ho,11,new NH(this.Qt)),this._o=new bH(this.Ti,this.Qt),this.Ei=new _H,this.fo=function(v,m){return new AH(v,m)}(this.Qt,this.Ei),this.wo=new mH,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,d===!1&&xe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new W(k.FAILED_PRECONDITION,Om);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t._o.Ki(n)})}).then(function(n){t.so=new nr(n,t.eo)}).then(function(){t.io=!0}).catch(function(n){return t.lo&&t.lo.close(),Promise.reject(n)})},e.prototype.Ro=function(t){var n=this;return this.uo=function(r){return N(n,void 0,void 0,function(){return C(this,function(i){return this.Er?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.Po=function(t){var n=this;this.lo.Xn(function(r){return N(n,void 0,void 0,function(){return C(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.yo=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return N(n,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return dh(n).put(new ki(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(n).next(function(r){r||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(n)}).next(function(r){return t.isPrimary&&!r?t.vo(n).next(function(){return!1}):!!r&&t.So(n).next(function(){return!0})})}).catch(function(n){if(Vs(n))return Q("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Zr.po(function(){return t.uo(n)}),t.isPrimary=n})},e.prototype.Vo=function(t){var n=this;return Sc(t).get(Jn.key).next(function(r){return $.resolve(n.Do(r))})},e.prototype.Co=function(t){return dh(t).delete(this.clientId)},e.prototype.xo=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s=this;return C(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=Kn(c,ki.store);return l.rs().next(function(h){var d=s.$o(h,18e5),v=h.filter(function(m){return d.indexOf(m)===-1});return $.forEach(v,function(m){return l.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Eo)for(n=0,r=t;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},e.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.bo=function(t){var n=this;return this.no?$.resolve(!0):Sc(t).get(Jn.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new W(k.FAILED_PRECONDITION,Om);return!1}}return!(!n.networkEnabled||!n.inForeground)||dh(t).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&Q("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.ko=function(){return N(this,void 0,void 0,function(){var t=this;return C(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Jn.store,ki.store],function(r){var i=new AA(r,nr.q);return t.vo(i).next(function(){return t.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},e.prototype.$o=function(t,n){var r=this;return t.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},e.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return dh(n).rs().next(function(r){return t.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Qo=function(t){return wH.mi(t,this.Qt,this.Ei,this.Ti)},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Ko=function(){return this.Ei},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;Q("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(t,a,vH,function(c){return s=new AA(c,i.so?i.so.next():nr.q),n==="readwrite-primary"?i.Vo(s).next(function(l){return!!l||i.bo(s)}).next(function(l){if(!l)throw xe("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new W(k.FAILED_PRECONDITION,FO);return r(s)}).next(function(l){return i.So(s).next(function(){return l})}):i.jo(s).next(function(){return r(s)})}).then(function(c){return s.Vs(),c})},e.prototype.jo=function(t){var n=this;return Sc(t).get(Jn.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new W(k.FAILED_PRECONDITION,Om)})},e.prototype.So=function(t){var n=new Jn(this.clientId,this.allowTabSynchronization,Date.now());return Sc(t).put(Jn.key,n)},e.Kn=function(){return ru.Kn()},e.prototype.vo=function(t){var n=this,r=Sc(t);return r.get(Jn.key).next(function(i){return n.Do(i)?(Q("IndexedDbPersistence","Releasing primary lease."),r.delete(Jn.key)):$.resolve()})},e.prototype.No=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(xe("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.Io=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground=t.document.visibilityState==="visible",t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},e.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},e.prototype.mo=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},e.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},e.prototype.Oo=function(t){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(t)))!==null;return Q("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return xe("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){xe("Failed to set zombie client id.",t)}},e.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},e.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Sc(e){return Kn(e,Jn.store)}function dh(e){return Kn(e,ki.store)}function Mw(e,t){var n=e.projectId;return e.o||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var OH=function(e,t){this.progress=e,this.Go=t},$O=function(){function e(t,n,r){this.fo=t,this.zo=n,this.Ei=r}return e.prototype.Ho=function(t,n){var r=this;return this.zo.bi(t,n).next(function(i){return r.Jo(t,n,i)})},e.prototype.Jo=function(t,n,r){return this.fo._i(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].Cs(n,i);return i})},e.prototype.Yo=function(t,n,r){var i=hp();return n.forEach(function(s,a){for(var c=0,l=r;c<l.length;c++)a=l[c].Cs(s,a);i=i.zt(s,a)}),i},e.prototype.Xo=function(t,n){var r=this;return this.fo.getEntries(t,n).next(function(i){return r.Zo(t,i)})},e.prototype.Zo=function(t,n){var r=this;return this.zo.vi(t,n).next(function(i){var s=r.Yo(t,n,i),a=ji();return s.forEach(function(c,l){l||(l=new Ve(c,Ot.min())),a=a.zt(c,l)}),a})},e.prototype.Kr=function(t,n,r){return function(i){return ht.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(t,n.path):Sw(n)?this.ec(t,n,r):this.nc(t,n,r)},e.prototype.tc=function(t,n){return this.Ho(t,new ht(n)).next(function(r){var i=vl();return r instanceof Zt&&(i=i.zt(r.key,r)),i})},e.prototype.ec=function(t,n,r){var i=this,s=n.collectionGroup,a=vl();return this.Ei.Us(t,s).next(function(c){return $.forEach(c,function(l){var h=function(d,v){return new Wi(v,null,d.xt.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.nc(t,h,r).next(function(d){d.forEach(function(v,m){a=a.zt(v,m)})})}).next(function(){return a})})},e.prototype.nc=function(t,n,r){var i,s,a=this;return this.fo.Kr(t,n,r).next(function(c){return i=c,a.zo.Di(t,n)}).next(function(c){return s=c,a.sc(t,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],m=0,y=v.mutations;m<y.length;m++){var b=y[m],E=b.key,I=Vy(b,i.get(E),v.vs);i=I instanceof Zt?i.zt(E,I):i.remove(E)}})}).next(function(){return i.forEach(function(c,l){ql(n,l)||(i=i.remove(c))}),i})},e.prototype.sc=function(t,n,r){for(var i=Qt(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof Lo&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.fo.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y!==null&&y instanceof Zt&&(d=d.zt(m,y))}),d})},e}(),xH=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.ic=r,this.rc=i}return e.oc=function(t,n){for(var r=Qt(),i=Qt(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),zO=function(){function e(){}return e.prototype.cc=function(t){this.ac=t},e.prototype.Kr=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.xt.length===0||a.xt.length===1&&a.xt[0].field.ut())}(n)||r.isEqual(Ot.min())?this.uc(t,n):this.ac.Xo(t,i).next(function(a){var c=s.hc(n,a);return(Oh(n)||fp(n))&&s.lc(n.limitType,c,i,r)?s.uc(t,n):(My()<=Rt.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jy(n)),s.ac.Kr(t,n,r).next(function(l){return c.forEach(function(h){l=l.zt(h.key,h)}),l}))})},e.prototype.hc=function(t,n){var r=new Be(fO(t));return n.forEach(function(i,s){s instanceof Zt&&ql(t,s)&&(r=r.add(s))}),r},e.prototype.lc=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},e.prototype.uc=function(t,n){return My()<=Rt.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",jy(n)),this.ac.Kr(t,n,Ot.min())},e}(),PH=function(){function e(t,n,r,i){this.persistence=t,this._c=n,this.Qt=i,this.fc=new wn(kt),this.dc=new Au(function(s){return Vl(s)},td),this.wc=Ot.min(),this.zo=t.Qo(r),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new $O(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return e.prototype.Ir=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.Vr(r,n.fc)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(e,t,n,r){return new PH(e,t,n,r)}function QO(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return n=Z(e),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n.zo.pi(c).next(function(h){return l=h,r=n.persistence.Qo(t),i=new $O(n.Ec,r,n.persistence.Ko()),r.pi(c)}).next(function(h){for(var d=[],v=[],m=Qt(),y=0,b=l;y<b.length;y++){var E=b[y];d.push(E.batchId);for(var I=0,R=E.mutations;I<R.length;I++){var P=R[I];m=m.add(P.key)}}for(var D=0,F=h;D<F.length;D++){var Y=F[D];v.push(Y.batchId);for(var U=0,_t=Y.mutations;U<_t.length;U++){var Gt=_t[U];m=m.add(Gt.key)}}return i.Xo(c,m).next(function(lt){return{Ic:lt,mc:d,Ac:v}})})})];case 1:return s=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function kH(e,t){var n=Z(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),m=$.resolve();return v.forEach(function(y){m=m.next(function(){return h._i(c,y)}).next(function(b){var E=b,I=l.$s.get(y);yt(I!==null),(!E||E.version._(I)<0)&&(E=d.Ss(y,E,l))&&h.ai(E,l.Ns)})}),m.next(function(){return a.zo.Ci(c,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function YO(e){var t=Z(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t._o.Qi(n)})}function DH(e,t){var n=Z(e),r=t.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Ec.Nr({Wr:!0});i=n.fc;var c=[];t.$e.forEach(function(d,v){var m=i.get(v);if(m){c.push(n._o.sr(s,d.Qe,v).next(function(){return n._o.er(s,d.qe,v)}));var y=d.resumeToken;if(y.l()>0){var b=m.Mt(y,r).kt(s.bs);i=i.zt(v,b),function(E,I,R){return yt(I.resumeToken.l()>0),E.resumeToken.l()===0||I.Ot.W()-E.Ot.W()>=3e8||R.qe.size+R.Ue.size+R.Qe.size>0}(m,b,d)&&c.push(n._o.Hi(s,b))}}});var l=ji();if(t.Oe.forEach(function(d,v){t.ke.has(d)&&c.push(n.persistence.Ti.Fr(s,d))}),c.push(XO(s,a,t.Oe,r,void 0).next(function(d){l=d})),!r.isEqual(Ot.min())){var h=n._o.Qi(s).next(function(d){return n._o.Wi(s,s.bs,r)});c.push(h)}return $.Mn(c).next(function(){return a.apply(s)}).next(function(){return n.Tc.Zo(s,l)})}).then(function(s){return n.fc=i,s})}function XO(e,t,n,r,i){var s=Qt();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var c=ji();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h instanceof Ve&&h.version.isEqual(Ot.min())?(t.li(l,v),c=c.zt(l,h)):d==null||h.version._(d.version)>0||h.version._(d.version)===0&&d.hasPendingWrites?(t.ai(h,v),c=c.zt(l,h)):Q("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function LH(e,t){var n=Z(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n.zo.gi(r,t)})}function uu(e,t){var n=Z(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,t).next(function(s){return s?(i=s,$.resolve(i)):n._o.Bi(r).next(function(a){return i=new ed(t,a,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(t,r.targetId)),r})}function cu(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:r=Z(e),i=r.fc.get(t),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.Ti.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!Vs(a=c.sent()))throw a;return Q("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.fc=r.fc.remove(t),r.dc.delete(i.target),[2]}})})}function mp(e,t,n){var r=Z(e),i=Ot.min(),s=Qt();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=Z(c),v=d.dc.get(h);return v!==void 0?$.resolve(d.fc.get(v)):d._o.tr(l,h)}(r,a,yr(t)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r._o.rr(a,c.targetId).next(function(l){s=l})}).next(function(){return r._c.Kr(a,t,n?i:Ot.min(),n?s:Qt())}).next(function(c){return{documents:c,Rc:s}})})}function JO(e,t){var n=Z(e),r=Z(n._o),i=n.fc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,t).next(function(a){return a?a.target:null})})}function ZO(e){var t=Z(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=Z(r),c=ji(),l=kw(s),h=fo(i),d=IDBKeyRange.lowerBound(l,!0);return h.hs({index:me.readTimeIndex,range:d},function(v,m){var y=qy(a.Qt,m);c=c.zt(y.key,y),l=m.readTime}).next(function(){return{Go:c,readTime:VO(l)}})}(t.Ec,n,t.wc)}).then(function(n){var r=n.Go,i=n.readTime;return t.wc=i,r})}function MH(e){return N(this,void 0,void 0,function(){var t;return C(this,function(n){return[2,(t=Z(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=fo(i),a=Ot.min();return s.hs({index:me.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=VO(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.wc=r})]})})}function FH(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y;return C(this,function(b){switch(b.label){case 0:for(i=Z(e),s=Qt(),a=ji(),c=EO(),l=0,h=n;l<h.length;l++)d=h[l],v=t.Pc(d.metadata.name),d.document&&(s=s.add(v)),a=a.zt(v,t.yc(d)),c=c.zt(v,t.gc(d.metadata.readTime));return m=i.Ec.Nr({Wr:!0}),[4,uu(i,function(E){return yr(Tu(Ht.ot("__bundle__/docs/"+E)))}(r))];case 1:return y=b.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return XO(E,m,a,Ot.min(),c).next(function(I){return m.apply(E),I}).next(function(I){return i._o.Yi(E,y.targetId).next(function(){return i._o.er(E,s,y.targetId)}).next(function(){return i.Tc.Zo(E,I)})})})]}})})}function UH(e,t,n){return n===void 0&&(n=Qt()),N(this,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return[4,uu(e,yr(Dw(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=Z(e)).persistence.runTransaction("Save named query","readwrite",function(a){var c=Ye(t.readTime);if(r.Ot._(c)>=0)return i.wo.Ls(a,t);var l=r.Mt(Pn.T,c);return i.fc=i.fc.zt(l.targetId,l),i._o.Hi(a,l).next(function(){return i._o.Yi(a,r.targetId)}).next(function(){return i._o.er(a,n,r.targetId)}).next(function(){return i.wo.Ls(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jH=function(){function e(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return e.prototype.Os=function(t,n){return $.resolve(this.Vc.get(n))},e.prototype.ks=function(t,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:Ye(r.createTime)}),$.resolve()},e.prototype.Ms=function(t,n){return $.resolve(this.bc.get(n))},e.prototype.Ls=function(t,n){return this.bc.set(n.name,function(r){return{name:r.name,query:Dw(r.bundledQuery),readTime:Ye(r.readTime)}}(n)),$.resolve()},e}(),Fw=function(){function e(){this.vc=new Be(ze.Sc),this.Dc=new Be(ze.Cc)}return e.prototype.et=function(){return this.vc.et()},e.prototype.nr=function(t,n){var r=new ze(t,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},e.prototype.xc=function(t,n){var r=this;t.forEach(function(i){return r.nr(i,n)})},e.prototype.ir=function(t,n){this.Nc(new ze(t,n))},e.prototype.$c=function(t,n){var r=this;t.forEach(function(i){return r.ir(i,n)})},e.prototype.Fc=function(t){var n=this,r=new ht(new Ht([])),i=new ze(r,t),s=new ze(r,t+1),a=[];return this.Dc.me([i,s],function(c){n.Nc(c),a.push(c.key)}),a},e.prototype.Oc=function(){var t=this;this.vc.forEach(function(n){return t.Nc(n)})},e.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},e.prototype.kc=function(t){var n=new ht(new Ht([])),r=new ze(n,t),i=new ze(n,t+1),s=Qt();return this.Dc.me([r,i],function(a){s=s.add(a.key)}),s},e.prototype.Fi=function(t){var n=new ze(t,0),r=this.vc.Re(n);return r!==null&&t.isEqual(r.key)},e}(),ze=function(){function e(t,n){this.key=t,this.Mc=n}return e.Sc=function(t,n){return ht.H(t.key,n.key)||kt(t.Mc,n.Mc)},e.Cc=function(t,n){return kt(t.Mc,n.Mc)||ht.H(t.key,n.key)},e}(),VH=function(){function e(t,n){this.Ei=t,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new Be(ze.Sc)}return e.prototype.Ai=function(t){return $.resolve(this.zo.length===0)},e.prototype.Ri=function(t,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var a=new Pw(s,n,r,i);this.zo.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.Bc=this.Bc.add(new ze(h.key,s)),this.Ei.qs(t,h.key.path.X())}return $.resolve(a)},e.prototype.Pi=function(t,n){return $.resolve(this.qc(n))},e.prototype.gi=function(t,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return $.resolve(this.zo.length>s?this.zo[s]:null)},e.prototype.Vi=function(){return $.resolve(this.zo.length===0?-1:this.Lc-1)},e.prototype.pi=function(t){return $.resolve(this.zo.slice())},e.prototype.bi=function(t,n){var r=this,i=new ze(n,0),s=new ze(n,Number.POSITIVE_INFINITY),a=[];return this.Bc.me([i,s],function(c){var l=r.qc(c.Mc);a.push(l)}),$.resolve(a)},e.prototype.vi=function(t,n){var r=this,i=new Be(kt);return n.forEach(function(s){var a=new ze(s,0),c=new ze(s,Number.POSITIVE_INFINITY);r.Bc.me([a,c],function(l){i=i.add(l.Mc)})}),$.resolve(this.Qc(i))},e.prototype.Di=function(t,n){var r=n.path,i=r.length+1,s=r;ht.wt(s)||(s=s.child(""));var a=new ze(new ht(s),0),c=new Be(kt);return this.Bc.Ae(function(l){var h=l.key.path;return!!r.nt(h)&&(h.length===i&&(c=c.add(l.Mc)),!0)},a),$.resolve(this.Qc(c))},e.prototype.Qc=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},e.prototype.Ci=function(t,n){var r=this;yt(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return $.forEach(n.mutations,function(s){var a=new ze(s.key,n.batchId);return i=i.delete(a),r.Ti.Ni(t,s.key)}).next(function(){r.Bc=i})},e.prototype.xi=function(t){},e.prototype.Fi=function(t,n){var r=new ze(n,0),i=this.Bc.Re(r);return $.resolve(n.isEqual(i&&i.key))},e.prototype.$i=function(t){return this.zo.length,$.resolve()},e.prototype.Kc=function(t,n){return this.Uc(t)},e.prototype.Uc=function(t){return this.zo.length===0?0:t-this.zo[0].batchId},e.prototype.qc=function(t){var n=this.Uc(t);return n<0||n>=this.zo.length?null:this.zo[n]},e}(),BH=function(){function e(t,n){this.Ei=t,this.Wc=n,this.docs=new wn(ht.H),this.size=0}return e.prototype.ai=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:c,readTime:r}),this.size+=c-a,this.Ei.qs(t,i.path.X())},e.prototype.li=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype._i=function(t,n){var r=this.docs.get(n);return $.resolve(r?r.hi:null)},e.prototype.getEntries=function(t,n){var r=this,i=hp();return n.forEach(function(s){var a=r.docs.get(s);i=i.zt(s,a?a.hi:null)}),$.resolve(i)},e.prototype.Kr=function(t,n,r){for(var i=vl(),s=new ht(n.path.child("")),a=this.docs.ee(s);a.ce();){var c=a.oe(),l=c.key,h=c.value,d=h.hi,v=h.readTime;if(!n.path.nt(l.path))break;v._(r)<=0||d instanceof Zt&&ql(n,d)&&(i=i.zt(d.key,d))}return $.resolve(i)},e.prototype.jc=function(t,n){return $.forEach(this.docs,function(r){return n(r)})},e.prototype.Nr=function(t){return new qH(this)},e.prototype.Or=function(t){return $.resolve(this.size)},e}(),qH=function(e){function t(n){var r=this;return(r=e.call(this)||this).jr=n,r}return J(t,e),t.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,a){a&&a.hi?i.push(r.jr.ai(n,a.hi,r.ci(s))):r.jr.li(s)}),$.Mn(i)},t.prototype.fi=function(n,r){return this.jr._i(n,r)},t.prototype.di=function(n,r){return this.jr.getEntries(n,r)},t}(qO),HH=function(){function e(t){this.persistence=t,this.Gc=new Au(function(n){return Vl(n)},td),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.zc=0,this.Hc=new Fw,this.targetCount=0,this.Jc=gp.Mi()}return e.prototype.In=function(t,n){return this.Gc.forEach(function(r,i){return n(i)}),$.resolve()},e.prototype.Qi=function(t){return $.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Ki=function(t){return $.resolve(this.zc)},e.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),$.resolve(this.highestTargetId)},e.prototype.Wi=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),$.resolve()},e.prototype.Gi=function(t){this.Gc.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.Jc=new gp(n),this.highestTargetId=n),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},e.prototype.ji=function(t,n){return this.Gi(n),this.targetCount+=1,$.resolve()},e.prototype.Hi=function(t,n){return this.Gi(n),$.resolve()},e.prototype.Ji=function(t,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,$.resolve()},e.prototype.Xi=function(t,n,r){var i=this,s=0,a=[];return this.Gc.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.Gc.delete(c),a.push(i.Yi(t,l.targetId)),s++)}),$.Mn(a).next(function(){return s})},e.prototype.Zi=function(t){return $.resolve(this.targetCount)},e.prototype.tr=function(t,n){var r=this.Gc.get(n)||null;return $.resolve(r)},e.prototype.er=function(t,n,r){return this.Hc.xc(n,r),$.resolve()},e.prototype.sr=function(t,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(a){s.push(i.Ni(t,a))}),$.Mn(s)},e.prototype.Yi=function(t,n){return this.Hc.Fc(n),$.resolve()},e.prototype.rr=function(t,n){var r=this.Hc.kc(n);return $.resolve(r)},e.prototype.Fi=function(t,n){return $.resolve(this.Hc.Fi(n))},e}(),WH=function(){function e(t,n){var r=this;this.Yc={},this.so=new nr(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new HH(this),this.Ei=new yH,this.fo=function(i,s){return new BH(i,function(a){return r.Ti.Xc(a)})}(this.Ei),this.Qt=new jO(n),this.wo=new jH(this.Qt)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),e.prototype.Po=function(){},e.prototype.yo=function(){},e.prototype.Ko=function(){return this.Ei},e.prototype.Qo=function(t){var n=this.Yc[t.A()];return n||(n=new VH(this.Ei,this.Ti),this.Yc[t.A()]=n),n},e.prototype.Sr=function(){return this._o},e.prototype.$r=function(){return this.fo},e.prototype.Wo=function(){return this.wo},e.prototype.runTransaction=function(t,n,r){var i=this;Q("MemoryPersistence","Starting transaction:",t);var s=new GH(this.so.next());return this.Ti.Zc(),r(s).next(function(a){return i.Ti.ta(s).next(function(){return a})}).On().then(function(a){return s.Vs(),a})},e.prototype.ea=function(t,n){return $.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(t,n)}}))},e}(),GH=function(e){function t(n){var r=this;return(r=e.call(this)||this).bs=n,r}return J(t,e),t}(UO),$H=function(){function e(t){this.persistence=t,this.na=new Fw,this.sa=null}return e.ia=function(t){return new e(t)},Object.defineProperty(e.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw ut()},enumerable:!1,configurable:!0}),e.prototype.nr=function(t,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),$.resolve()},e.prototype.ir=function(t,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),$.resolve()},e.prototype.Ni=function(t,n){return this.ra.add(n.toString()),$.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(t,n.targetId).next(function(s){s.forEach(function(a){return r.ra.add(a.toString())})}).next(function(){return i.Ji(t,n)})},e.prototype.Zc=function(){this.sa=new Set},e.prototype.ta=function(t){var n=this,r=this.persistence.$r().Nr();return $.forEach(this.ra,function(i){var s=ht._t(i);return n.oa(t,s).next(function(a){a||r.li(s)})}).next(function(){return n.sa=null,r.apply(t)})},e.prototype.Fr=function(t,n){var r=this;return this.oa(t,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},e.prototype.Xc=function(t){return 0},e.prototype.oa=function(t,n){var r=this;return $.Ln([function(){return $.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(t,n)},function(){return r.persistence.ea(t,n)}])},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(e,t){return"firestore_clients_"+e+"_"+t}function FA(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.m()&&(r+="_"+t.uid),r}function xm(e,t){return"firestore_targets_"+e+"_"+t}var UA=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.ca=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new W(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(xe("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Pm=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.ca=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new W(i.error.code,i.error.message)),s?new e(t,i.state,r):(xe("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),jA=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.ca=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=id(),a=0;i&&a<r.activeTargetIds.length;++a)i=oO(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(xe("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),zH=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.ca=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(xe("SharedClientState","Failed to parse online state: "+t),null)},e}(),Hy=function(){function e(){this.activeTargetIds=id()}return e.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),km=function(){function e(t,n,r,i,s){this.window=t,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new wn(kt),this.Er=!1,this.Ta=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=MA(this.persistenceKey,this.la),this.ma=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new Hy),this.Aa=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ya=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.ga=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return e.Kn=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s,a,c,l,h,d,v,m=this;return C(this,function(y){switch(y.label){case 0:return[4,this._a.Uo()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(MA(this.persistenceKey,i)))&&(a=jA.ca(i,s))&&(this.Ea=this.Ea.zt(a.clientId,a));for(this.Va(),(c=this.storage.getItem(this.ya))&&(l=this.pa(c))&&this.ba(l),h=0,d=this.Ta;h<d.length;h++)v=d[h],this.wa(v);return this.Ta=[],this.window.addEventListener("unload",function(){return m.ko()}),this.Er=!0,[2]}})})},e.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},e.prototype.va=function(){return this.Sa(this.Ea)},e.prototype.Da=function(t){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.Ca=function(t){this.xa(t,"pending")},e.prototype.Na=function(t,n,r){this.xa(t,n,r),this.$a(t)},e.prototype.Fa=function(t){var n="not-current";if(this.Da(t)){var r=this.storage.getItem(xm(this.persistenceKey,t));if(r){var i=Pm.ca(t,r);i&&(n=i.state)}}return this.Oa.ua(t),this.Va(),n},e.prototype.ka=function(t){this.Oa.ha(t),this.Va()},e.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},e.prototype.La=function(t){this.removeItem(xm(this.persistenceKey,t))},e.prototype.Ba=function(t,n,r){this.qa(t,n,r)},e.prototype.Ua=function(t,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=t,r.forEach(function(s){i.Ca(s)})},e.prototype.Qa=function(t){this.Ka(t)},e.prototype.Wa=function(){this.ja()},e.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return Q("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){Q("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){Q("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.wa=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(Q("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void xe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return N(n,void 0,void 0,function(){var i,s,a,c,l,h;return C(this,function(d){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(a=this.Ja(r.key,r.newValue)))return[2,this.Ya(a)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(c=this.Xa(r.key,r.newValue)))return[2,this.Za(c)]}else if(r.key===this.ya){if(r.newValue!==null&&(l=this.pa(r.newValue)))return[2,this.ba(l)]}else if(r.key===this.ma)(h=function(v){var m=nr.q;if(v!=null)try{var y=JSON.parse(v);yt(typeof y=="number"),m=y}catch(b){xe("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(r.newValue))!==nr.q&&this.k(h);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),e.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},e.prototype.xa=function(t,n,r){var i=new UA(this.currentUser,t,n,r),s=FA(this.persistenceKey,this.currentUser,t);this.setItem(s,i.aa())},e.prototype.$a=function(t){var n=FA(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Ka=function(t){var n={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(n))},e.prototype.qa=function(t,n,r){var i=xm(this.persistenceKey,t),s=new Pm(t,n,r);this.setItem(i,s.aa())},e.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},e.prototype.Ga=function(t){var n=this.Aa.exec(t);return n?n[1]:null},e.prototype.Ha=function(t,n){var r=this.Ga(t);return jA.ca(r,n)},e.prototype.Ja=function(t,n){var r=this.Ra.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return UA.ca(new Zn(s),i,n)},e.prototype.Xa=function(t,n){var r=this.Pa.exec(t),i=Number(r[1]);return Pm.ca(i,n)},e.prototype.pa=function(t){return zH.ca(t)},e.prototype.Ya=function(t){return N(this,void 0,void 0,function(){return C(this,function(n){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Q("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},e.prototype.za=function(t,n){var r=this,i=n?this.Ea.zt(t,n):this.Ea.remove(t),s=this.Sa(this.Ea),a=this.Sa(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this._a.su(c,l).then(function(){r.Ea=i})},e.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},e.prototype.Sa=function(t){var n=id();return t.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},e}(),tx=function(){function e(){this.iu=new Hy,this.ru={},this.fa=null,this.k=null}return e.prototype.Ca=function(t){},e.prototype.Na=function(t,n,r){},e.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},e.prototype.Ba=function(t,n,r){this.ru[t]=n},e.prototype.ka=function(t){this.iu.ha(t)},e.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.La=function(t){delete this.ru[t]},e.prototype.va=function(){return this.iu.activeTargetIds},e.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},e.prototype.start=function(){return this.iu=new Hy,Promise.resolve()},e.prototype.Ua=function(t,n,r){},e.prototype.Qa=function(t){},e.prototype.ko=function(){},e.prototype.B=function(t){},e.prototype.Wa=function(){},e}(),KH=function(){function e(){}return e.prototype.ou=function(t){},e.prototype.ko=function(){},e}(),VA=function(){function e(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return e.prototype.ou=function(t){this.lu.push(t)},e.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},e.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},e.prototype.au=function(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(0)},e.prototype.hu=function(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.lu;t<n.length;t++)(0,n[t])(1)},e.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),QH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},YH=function(){function e(t){this.fu=t.fu,this.du=t.du}return e.prototype.wu=function(t){this.Eu=t},e.prototype.Tu=function(t){this.Iu=t},e.prototype.onMessage=function(t){this.mu=t},e.prototype.close=function(){this.du()},e.prototype.send=function(t){this.fu(t)},e.prototype.Au=function(){this.Eu()},e.prototype.Ru=function(t){this.Iu(t)},e.prototype.Pu=function(t){this.mu(t)},e}(),XH=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return J(t,e),t.prototype.Su=function(n,r,i,s){return new Promise(function(a,c){var l=new Eq;l.listenOnce(wq.COMPLETE,function(){try{switch(l.getLastErrorCode()){case Rm.NO_ERROR:var d=l.getResponseJson();Q("Connection","XHR received:",JSON.stringify(d)),a(d);break;case Rm.TIMEOUT:Q("Connection",'RPC "'+n+'" timed out'),c(new W(k.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:var v=l.getStatus();if(Q("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var m=l.getResponseJson().error;if(m&&m.status&&m.message){var y=function(b){var E=b.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(E)>=0?E:k.UNKNOWN}(m.status);c(new W(y,m.message))}else c(new W(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new W(k.UNAVAILABLE,"Connection failed."));break;default:ut()}}finally{Q("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},t.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=yq(),a=_q(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(c.initMessageHeaders,r),N_()||Z1()||wV()||bV()||EV()||R_()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");Q("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,m=new YH({fu:function(b){v?Q("Connection","Not sending because WebChannel is closed:",b):(d||(Q("Connection","Opening WebChannel transport."),h.open(),d=!0),Q("Connection","WebChannel sending:",b),h.send(b))},du:function(){return h.close()}}),y=function(b,E,I){b.listen(E,function(R){try{I(R)}catch(P){setTimeout(function(){throw P},0)}})};return y(h,lh.EventType.OPEN,function(){v||Q("Connection","WebChannel transport opened.")}),y(h,lh.EventType.CLOSE,function(){v||(v=!0,Q("Connection","WebChannel transport closed"),m.Ru())}),y(h,lh.EventType.ERROR,function(b){v||(v=!0,sp("Connection","WebChannel transport errored:",b),m.Ru(new W(k.UNAVAILABLE,"The operation could not be completed")))}),y(h,lh.EventType.MESSAGE,function(b){var E;if(!v){var I=b.data[0];yt(!!I);var R=I,P=R.error||((E=R[0])===null||E===void 0?void 0:E.error);if(P){Q("Connection","WebChannel received error:",P);var D=P.status,F=function(U){var _t=Re[U];if(_t!==void 0)return bO(_t)}(D),Y=P.message;F===void 0&&(F=k.INTERNAL,Y="Unknown error status: "+D+" with message "+P.message),v=!0,m.Ru(new W(F,Y)),h.close()}else Q("Connection","WebChannel received:",I),m.Pu(I)}}),y(a,bq.STAT_EVENT,function(b){b.stat===eA.PROXY?Q("Connection","Detected buffering proxy"):b.stat===eA.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Au()},0),m},t}(function(){function e(t){this.yu=t,this.t=t.t;var n=t.ssl?"https":"http";this.gu=n+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return e.prototype.pu=function(t,n,r,i){var s=this.bu(t,n);Q("RestConnection","Sending: ",s,r);var a={};return this.vu(a,i),this.Su(t,s,a,r).then(function(c){return Q("RestConnection","Received: ",c),c},function(c){throw sp("RestConnection",t+" failed with error: ",c,"url: ",s,"request:",r),c})},e.prototype.Du=function(t,n,r,i){return this.pu(t,n,r,i)},e.prototype.vu=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",t["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(t[r]=n.g[r])},e.prototype.bu=function(t,n){var r=QH[t];return this.gu+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){return typeof window<"u"?window:null}function kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(e){return new eH(e,!0)}var Uw=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=t,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return e.prototype.reset=function(){this.Fu=0},e.prototype.Mu=function(){this.Fu=this.$u},e.prototype.Lu=function(t){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&Q("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},e.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},e.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},e.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},e}(),nx=function(){function e(t,n,r,i,s,a){this.Zr=t,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=a,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Uw(t,n)}return e.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},e.prototype.Hu=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.Ju()},e.prototype.stop=function(){return N(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.Yu=function(){this.state=0,this.Gu.reset()},e.prototype.Xu=function(){var t=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},e.prototype.th=function(t){this.eh(),this.stream.send(t)},e.prototype.Zu=function(){return N(this,void 0,void 0,function(){return C(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},e.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},e.prototype.close=function(t,n){return N(this,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,t!==3?this.Gu.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(xe(n.toString()),xe("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===k.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},e.prototype.nh=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){t.Wu===r&&t.ih(i)},function(i){n(function(){var s=new W(k.UNKNOWN,"Fetching auth token failed: "+i.message);return t.rh(s)})})},e.prototype.ih=function(t){var n=this,r=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return N(t,void 0,void 0,function(){return C(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.rh=function(t){return Q("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.sh=function(t){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===t?r():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),JH=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).Qt=s,c}return J(t,e),t.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},t.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(I){return I==="NO_CHANGE"?0:I==="ADD"?1:I==="REMOVE"?2:I==="CURRENT"?3:I==="RESET"?4:ut()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(I,R){return I.Bt?(yt(R===void 0||typeof R=="string"),Pn.fromBase64String(R||"")):(yt(R===void 0||R instanceof Uint8Array),Pn.fromUint8Array(R||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(I){var R=I.code===void 0?k.UNKNOWN:bO(I.code);return new W(R,I.message||"")}(m);c=new SO(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=ui(s,l.document.name),d=Ye(l.document.updateTime);var m=new Oo({mapValue:{fields:l.document.fields}}),y=(v=new Zt(h,d,m,{}),l.targetIds||[]),b=l.removedTargetIds||[];c=new Ph(y,b,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=ui(s,l.document),d=l.readTime?Ye(l.readTime):Ot.min(),m=new Ve(h,d),v=l.removedTargetIds||[],c=new Ph([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=ui(s,l.document),d=l.removedTargetIds||[],c=new Ph([],d,h,null);else{if(!("filter"in a))return ut();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new $q(l),d=E.targetId,c=new TO(d,h)}return c}(this.Qt,n),i=function(s){if(!("targetChange"in s))return Ot.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?Ye(a.readTime):Ot.min()}(n);return this.listener.ah(r,i)},t.prototype.uh=function(n){var r={};r.database=yl(this.Qt),r.addTarget=function(s,a){var c,l=a.target;return(c=cp(l)?{documents:xO(s,l)}:{query:PO(s,l)}).targetId=a.targetId,a.resumeToken.l()>0?c.resumeToken=AO(s,a.resumeToken):a.Ot._(Ot.min())>0&&(c.readTime=gl(s,a.Ot.j())),c}(this.Qt,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ut()}}(0,a.Ft);return c==null?null:{"goog-listen-tags":c}}(this.Qt,n);i&&(r.labels=i),this.th(r)},t.prototype.hh=function(n){var r={};r.database=yl(this.Qt),r.removeTarget=n,this.th(r)},t}(nx),ZH=function(e){function t(n,r,i,s,a){var c=this;return(c=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).Qt=s,c.lh=!1,c}return J(t,e),Object.defineProperty(t.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.nh=function(){this.lh&&this.fh([])},t.prototype.oh=function(n){return this.Qu.Cu("Write",n)},t.prototype.onMessage=function(n){if(yt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,a){return s&&s.length>0?(yt(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?Ye(l.updateTime):Ye(h);d.isEqual(Ot.min())&&(d=Ye(h));var v=null;return l.transformResults&&l.transformResults.length>0&&(v=l.transformResults),new Hq(d,v)}(c,a)})):[]}(n.writeResults,n.commitTime),i=Ye(n.commitTime);return this.listener.dh(i,r)}return yt(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},t.prototype.Eh=function(){var n={};n.database=yl(this.Qt),this.th(n)},t.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return dp(r.Qt,s)})};this.th(i)},t}(nx),tW=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return J(t,e),t.prototype.Ih=function(){if(this.Th)throw new W(k.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.pu(n,r,i,a)}).catch(function(a){throw a.code===k.UNAUTHENTICATED&&s.credentials.p(),a})},t.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.Du(n,r,i,a)}).catch(function(a){throw a.code===k.UNAUTHENTICATED&&s.credentials.p(),a})},t.prototype.terminate=function(){this.Th=!1},t}(function(){}),eW=function(){function e(t,n){this._s=t,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return e.prototype.Ph=function(){var t=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},e.prototype.Vh=function(t){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},e.prototype.set=function(t){this.ph(),this.mh=0,t==="Online"&&(this.Rh=!1),this.yh(t)},e.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},e.prototype.gh=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?(xe(n),this.Rh=!1):Q("OnlineStateTracker",n)},e.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},e}(),nW=function(e,t,n,r,i){var s=this;this.bh=e,this.Sh=t,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(a){n.Ps(function(){return N(s,void 0,void 0,function(){return C(this,function(c){switch(c.label){case 0:return Mo(this)?(Q("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return N(this,void 0,void 0,function(){var h;return C(this,function(d){switch(d.label){case 0:return(h=Z(l)).Nh.add(4),[4,Cu(h)];case 1:return d.sent(),h.Oh.set("Unknown"),h.Nh.delete(4),[4,zl(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Oh=new eW(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(e){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:if(!Mo(e))return[3,4];t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Cu(e){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:t=0,n=e.$h,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function od(e,t){var n=Z(e);n.xh.has(t.targetId)||(n.xh.set(t.targetId,t),Bw(n)?Vw(n):Ru(n).Hu()&&jw(n,t))}function _l(e,t){var n=Z(e),r=Ru(n);n.xh.delete(t),r.Hu()&&rx(n,t),n.xh.size===0&&(r.Hu()?r.Xu():Mo(n)&&n.Oh.set("Unknown"))}function jw(e,t){e.kh.on(t.targetId),Ru(e).uh(t)}function rx(e,t){e.kh.on(t),Ru(e).hh(t)}function Vw(e){e.kh=new Jq({vn:function(t){return e.Dh.vn(t)},Sn:function(t){return e.xh.get(t)||null}}),Ru(e).start(),e.Oh.Ph()}function Bw(e){return Mo(e)&&!Ru(e).zu()&&e.xh.size>0}function Mo(e){return Z(e).Nh.size===0}function ix(e){e.kh=void 0}function rW(e){return N(this,void 0,void 0,function(){return C(this,function(t){return e.xh.forEach(function(n,r){jw(e,n)}),[2]})})}function iW(e,t){return N(this,void 0,void 0,function(){return C(this,function(n){return ix(e),Bw(e)?(e.Oh.Vh(t),Vw(e)):e.Oh.set("Unknown"),[2]})})}function oW(e,t,n){return N(this,void 0,void 0,function(){var r,i,s;return C(this,function(a){switch(a.label){case 0:if(e.Oh.set("Online"),!(t instanceof SO&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return N(this,void 0,void 0,function(){var h,d,v,m;return C(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(m=v[d],c.xh.has(m)?[4,c.Dh.Mh(m,h)]:[3,3]):[3,5];case 2:y.sent(),c.xh.delete(m),c.kh.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,yp(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ph?e.kh.dn(t):t instanceof TO?e.kh.Pn(t):e.kh.Tn(t),n.isEqual(Ot.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,YO(e.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(c,l){var h=c.kh.Vn(l);return h.$e.forEach(function(d,v){if(d.resumeToken.l()>0){var m=c.xh.get(v);m&&c.xh.set(v,m.Mt(d.resumeToken,l))}}),h.Fe.forEach(function(d){var v=c.xh.get(d);if(v){c.xh.set(d,v.Mt(Pn.T,v.Ot)),rx(c,d);var m=new ed(v.target,d,1,v.sequenceNumber);jw(c,m)}}),c.Dh.Lh(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Q("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,yp(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function yp(e,t,n){return N(this,void 0,void 0,function(){var r=this;return C(this,function(i){switch(i.label){case 0:if(!Vs(t))throw t;return e.Nh.add(1),[4,Cu(e)];case 1:return i.sent(),e.Oh.set("Offline"),n||(n=function(){return YO(e.bh)}),e._s.po(function(){return N(r,void 0,void 0,function(){return C(this,function(s){switch(s.label){case 0:return Q("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Nh.delete(1),[4,zl(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function ox(e,t){return t().catch(function(n){return yp(e,n,t)})}function Nu(e){return N(this,void 0,void 0,function(){var t,n,r,i,s;return C(this,function(a){switch(a.label){case 0:t=Z(e),n=xo(t),r=t.Ch.length>0?t.Ch[t.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return Mo(c)&&c.Ch.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,LH(t.bh,r)];case 3:return(i=a.sent())===null?(t.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(c,l){c.Ch.push(l);var h=xo(c);h.Hu()&&h._h&&h.fh(l.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,yp(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return sx(t)&&ax(t),[2]}})})}function sx(e){return Mo(e)&&!xo(e).zu()&&e.Ch.length>0}function ax(e){xo(e).start()}function sW(e){return N(this,void 0,void 0,function(){return C(this,function(t){return xo(e).Eh(),[2]})})}function aW(e){return N(this,void 0,void 0,function(){var t,n,r,i;return C(this,function(s){for(t=xo(e),n=0,r=e.Ch;n<r.length;n++)i=r[n],t.fh(i.mutations);return[2]})})}function uW(e,t,n){return N(this,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return r=e.Ch.shift(),i=gH.from(r,t,n),[4,ox(e,function(){return e.Dh.Bh(i)})];case 1:return s.sent(),[4,Nu(e)];case 2:return s.sent(),[2]}})})}function cW(e,t){return N(this,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return t&&xo(e)._h?[4,function(r,i){return N(this,void 0,void 0,function(){var s,a;return C(this,function(c){switch(c.label){case 0:return wO(a=i.code)&&a!==k.ABORTED?(s=r.Ch.shift(),xo(r).Yu(),[4,ox(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,Nu(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return sx(e)&&ax(e),[2]}})})}function Wy(e,t){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return n=Z(e),t?(n.Nh.delete(2),[4,zl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Nh.add(2),[4,Cu(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ru(e){var t=this;return e.Uh||(e.Uh=function(n,r,i){var s=Z(n);return s.Ih(),new JH(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:rW.bind(null,e),Tu:iW.bind(null,e),ah:oW.bind(null,e)}),e.$h.push(function(n){return N(t,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return n?(e.Uh.Yu(),Bw(e)?Vw(e):e.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Uh.stop()];case 2:r.sent(),ix(e),r.label=3;case 3:return[2]}})})})),e.Uh}function xo(e){var t=this;return e.Qh||(e.Qh=function(n,r,i){var s=Z(n);return s.Ih(),new ZH(r,s.Qu,s.credentials,s.Qt,i)}(e.Sh,e._s,{wu:sW.bind(null,e),Tu:cW.bind(null,e),wh:aW.bind(null,e),dh:uW.bind(null,e)}),e.$h.push(function(n){return N(t,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return n?(e.Qh.Yu(),[4,Nu(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qh.stop()];case 3:r.sent(),e.Ch.length>0&&(Q("RemoteStore","Stopping write stream with "+e.Ch.length+" pending writes"),e.Ch=[]),r.label=4;case 4:return[2]}})})})),e.Qh}var lW=function(){this.Kh=void 0,this.listeners=[]},fW=function(){this.queries=new Au(function(e){return lO(e)},Bl),this.onlineState="Unknown",this.Wh=new Set};function qw(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:if(n=Z(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new lW),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.jh(r)];case 2:return a.Kh=h.sent(),[3,4];case 3:return c=h.sent(),l=Su(c,"Initialization of query '"+jy(t.query)+"' failed"),[2,void t.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.Gh(n.onlineState),s.Kh&&t.zh(s.Kh)&&Ww(n),[2]}})})}function Hw(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return C(this,function(c){return n=Z(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function hW(e,t){for(var n=Z(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].zh(a)&&(r=!0);l.Kh=a}}r&&Ww(n)}function pW(e,t,n){var r=Z(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function Ww(e){e.Wh.forEach(function(t){t.next()})}var Gw=function(){function e(t,n,r){this.query=t,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new pp(t.query,t.docs,t.Se,n,t.De,t.fromCache,t.Ce,!0)}var a=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),a=!0):this.tl(t,this.onlineState)&&(this.el(t),a=!0),this.Xh=t,a},e.prototype.onError=function(t){this.Jh.error(t)},e.prototype.Gh=function(t){this.onlineState=t;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),n=!0),n},e.prototype.tl=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||t.docs.et()&&n!=="Offline")},e.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.el=function(t){t=pp.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},e}(),dW=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.sl=function(){return"metadata"in this.payload},e}(),BA=function(){function e(t){this.Qt=t}return e.prototype.Pc=function(t){return ui(this.Qt,t)},e.prototype.yc=function(t){return t.metadata.exists?OO(this.Qt,t.document,!1):new Ve(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},e.prototype.gc=function(t){return Ye(t)},e}(),vW=function(){function e(t,n,r){this.il=t,this.bh=n,this.Qt=r,this.queries=[],this.documents=[],this.progress=ux(t)}return e.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.ol=function(t){for(var n=new Map,r=new BA(this.Qt),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.Pc(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||Qt()).add(c);n.set(d,v)}}return n},e.prototype.complete=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s;return C(this,function(a){switch(a.label){case 0:return[4,FH(this.bh,new BA(this.Qt),this.documents,this.il.id)];case 1:t=a.sent(),n=this.ol(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,UH(this.bh,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new OH(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cx=function(e){this.key=e},lx=function(e){this.key=e},fx=function(){function e(t,n){this.query=t,this.cl=n,this.al=null,this.Be=!1,this.ul=Qt(),this.De=Qt(),this.hl=fO(t),this.ll=new IO(this.hl)}return Object.defineProperty(e.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),e.prototype.fl=function(t,n){var r=this,i=n?n.dl:new gA,s=n?n.ll:this.ll,a=n?n.De:this.De,c=s,l=!1,h=Oh(this.query)&&s.size===this.query.limit?s.last():null,d=fp(this.query)&&s.size===this.query.limit?s.first():null;if(t.Xt(function(m,y){var b=s.get(m),E=y instanceof Zt?y:null;E&&(E=ql(r.query,E)?E:null);var I=!!b&&r.De.has(b.key),R=!!E&&(E.Vt||r.De.has(E.key)&&E.hasCommittedMutations),P=!1;b&&E?b.data().isEqual(E.data())?I!==R&&(i.track({type:3,doc:E}),P=!0):r.wl(b,E)||(i.track({type:2,doc:E}),P=!0,(h&&r.hl(E,h)>0||d&&r.hl(E,d)<0)&&(l=!0)):!b&&E?(i.track({type:0,doc:E}),P=!0):b&&!E&&(i.track({type:1,doc:b}),P=!0,(h||d)&&(l=!0)),P&&(E?(c=c.add(E),a=R?a.add(m):a.delete(m)):(c=c.delete(m),a=a.delete(m)))}),Oh(this.query)||fp(this.query))for(;c.size>this.query.limit;){var v=Oh(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ll:c,dl:i,lc:l,De:a}},e.prototype.wl=function(t,n){return t.Vt&&n.hasCommittedMutations&&!n.Vt},e.prototype.wi=function(t,n,r){var i=this,s=this.ll;this.ll=t.ll,this.De=t.De;var a=t.dl.ve();a.sort(function(d,v){return function(m,y){var b=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut()}};return b(m)-b(y)}(d.type,v.type)||i.hl(d.doc,v.doc)}),this.El(r);var c=n?this.Tl():[],l=this.ul.size===0&&this.Be?1:0,h=l!==this.al;return this.al=l,a.length!==0||h?{snapshot:new pp(this.query,t.ll,s,a,t.De,l===0,h,!1),Il:c}:{Il:c}},e.prototype.Gh=function(t){return this.Be&&t==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new gA,De:this.De,lc:!1},!1)):{Il:[]}},e.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},e.prototype.El=function(t){var n=this;t&&(t.qe.forEach(function(r){return n.cl=n.cl.add(r)}),t.Ue.forEach(function(r){}),t.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=t.Be)},e.prototype.Tl=function(){var t=this;if(!this.Be)return[];var n=this.ul;this.ul=Qt(),this.ll.forEach(function(i){t.ml(i.key)&&(t.ul=t.ul.add(i.key))});var r=[];return n.forEach(function(i){t.ul.has(i)||r.push(new lx(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new cx(i))}),r},e.prototype.Al=function(t){this.cl=t.Rc,this.ul=Qt();var n=this.fl(t.documents);return this.wi(n,!0)},e.prototype.Rl=function(){return pp.Ne(this.query,this.ll,this.De,this.al===0)},e}(),gW=function(e,t,n){this.query=e,this.targetId=t,this.view=n},mW=function(e){this.key=e,this.Pl=!1},yW=function(){function e(t,n,r,i,s,a){this.bh=t,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=a,this.bl={},this.vl=new Au(function(c){return lO(c)},Bl),this.Sl=new Map,this.Dl=new Set,this.Cl=new wn(ht.H),this.xl=new Map,this.Nl=new Fw,this.$l={},this.Fl=new Map,this.Ol=gp.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(e.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),e}();function _W(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,c;return C(this,function(l){switch(l.label){case 0:return n=Yw(e),(s=n.vl.get(t))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,uu(n.bh,yr(t))];case 2:return a=l.sent(),c=n.Vl.Fa(a.targetId),r=a.targetId,[4,$w(n,t,r,c==="current")];case 3:i=l.sent(),n.Ml&&od(n.yl,a),l.label=4;case 4:return[2,i]}})})}function $w(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,c,l,h;return C(this,function(d){switch(d.label){case 0:return e.Ll=function(v,m,y){return function(b,E,I,R){return N(this,void 0,void 0,function(){var P,D,F;return C(this,function(Y){switch(Y.label){case 0:return P=E.view.fl(I),P.lc?[4,mp(b.bh,E.query,!1).then(function(U){var _t=U.documents;return E.view.fl(_t,P)})]:[3,2];case 1:P=Y.sent(),Y.label=2;case 2:return D=R&&R.$e.get(E.targetId),F=E.view.wi(P,b.Ml,D),[2,(Gy(b,E.targetId,F.Il),F.snapshot)]}})})}(e,v,m,y)},[4,mp(e.bh,t,!0)];case 1:return i=d.sent(),s=new fx(t,i.Rc),a=s.fl(i.documents),c=Rw.Le(n,r&&e.onlineState!=="Offline"),l=s.wi(a,e.Ml,c),Gy(e,n,l.Il),h=new gW(t,n,s),[2,(e.vl.set(t,h),e.Sl.has(n)?e.Sl.get(n).push(t):e.Sl.set(n,[t]),l.snapshot)]}})})}function wW(e,t){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:return n=Z(e),r=n.vl.get(t),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(a){return!Bl(a,t)})),void n.vl.delete(t))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,cu(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),_l(n.yl,r.targetId),lu(n,r.targetId)}).catch(Bs)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return lu(n,r.targetId),[4,cu(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function bW(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:r=Xw(e),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=Z(l),m=Hn.now(),y=h.reduce(function(b,E){return b.add(E.key)},Qt());return v.persistence.runTransaction("Locally write mutations","readwrite",function(b){return v.Tc.Xo(b,y).next(function(E){d=E;for(var I=[],R=0,P=h;R<P.length;R++){var D=P[R],F=Gq(D,d.get(D.key));F!=null&&I.push(new Lo(D.key,F,sO(F.proto.mapValue),dn.exists(!0)))}return v.zo.Ri(b,m,I,h)})}).then(function(b){var E=b.xs(d);return{batchId:b.batchId,ri:E}})}(r.bh,t)];case 2:return i=c.sent(),r.Vl.Ca(i.batchId),function(l,h,d){var v=l.$l[l.currentUser.A()];v||(v=new wn(kt)),v=v.zt(h,d),l.$l[l.currentUser.A()]=v}(r,i.batchId,n),[4,Gi(r,i.ri)];case 3:return c.sent(),[4,Nu(r.yl)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=Su(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function hx(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:n=Z(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,DH(n.bh,t)];case 2:return r=i.sent(),t.$e.forEach(function(s,a){var c=n.xl.get(a);c&&(yt(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?c.Pl=!0:s.Ue.size>0?yt(c.Pl):s.Qe.size>0&&(yt(c.Pl),c.Pl=!1))}),[4,Gi(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Bs(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function qA(e,t,n){var r=Z(e);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,a){var c=a.view.Gh(t);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=Z(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,m=d.listeners;v<m.length;v++)m[v].Gh(a)&&(l=!0)}),l&&Ww(c)}(r.gl,t),i.length&&r.bl.ah(i),r.onlineState=t,r.Ml&&r.Vl.Qa(t)}}function EW(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:return(r=Z(e)).Vl.Ba(t,"rejected",n),i=r.xl.get(t),(s=i&&i.key)?(a=(a=new wn(ht.H)).zt(s,new Ve(s,Ot.min())),c=Qt().add(s),l=new Nw(Ot.min(),new Map,new Be(kt),a,c),[4,hx(r,l)]):[3,2];case 1:return h.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(t),Qw(r),[3,4];case 2:return[4,cu(r.bh,t,!1).then(function(){return lu(r,t,n)}).catch(Bs)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function IW(e,t){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:n=Z(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,kH(n.bh,t)];case 2:return i=s.sent(),Kw(n,r,null),zw(n,r),n.Vl.Na(r,"acknowledged"),[4,Gi(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Bs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function TW(e,t,n){return N(this,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:r=Z(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=Z(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l.zo.Pi(h,c).next(function(v){return yt(v!==null),d=v.keys(),l.zo.Ci(h,v)}).next(function(){return l.zo.$i(h)}).next(function(){return l.Tc.Xo(h,d)})})}(r.bh,t)];case 2:return i=s.sent(),Kw(r,t,n),zw(r,t),r.Vl.Na(t,"rejected",n),[4,Gi(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Bs(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function SW(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return C(this,function(c){switch(c.label){case 0:Mo((n=Z(e)).yl)||Q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=Z(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h.zo.Vi(d)})}(n.bh)];case 2:return(r=c.sent())===-1?[2,void t.resolve()]:((i=n.Fl.get(r)||[]).push(t),n.Fl.set(r,i),[3,4]);case 3:return s=c.sent(),a=Su(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function zw(e,t){(e.Fl.get(t)||[]).forEach(function(n){n.resolve()}),e.Fl.delete(t)}function Kw(e,t,n){var r=Z(e),i=r.$l[r.currentUser.A()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.$l[r.currentUser.A()]=i}}function lu(e,t,n){n===void 0&&(n=null),e.Vl.ka(t);for(var r=0,i=e.Sl.get(t);r<i.length;r++){var s=i[r];e.vl.delete(s),n&&e.bl.Bl(s,n)}e.Sl.delete(t),e.Ml&&e.Nl.Fc(t).forEach(function(a){e.Nl.Fi(a)||px(e,a)})}function px(e,t){e.Dl.delete(t.path.rt());var n=e.Cl.get(t);n!==null&&(_l(e.yl,n),e.Cl=e.Cl.remove(t),e.xl.delete(n),Qw(e))}function Gy(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof cx?(e.Nl.nr(s.key,t),AW(e,s)):s instanceof lx?(Q("SyncEngine","Document no longer in limbo: "+s.key),e.Nl.ir(s.key,t),e.Nl.Fi(s.key)||px(e,s.key)):ut()}}function AW(e,t){var n=t.key,r=n.path.rt();e.Cl.get(n)||e.Dl.has(r)||(Q("SyncEngine","New document in limbo: "+n),e.Dl.add(r),Qw(e))}function Qw(e){for(;e.Dl.size>0&&e.Cl.size<e.pl;){var t=e.Dl.values().next().value;e.Dl.delete(t);var n=new ht(Ht.ot(t)),r=e.Ol.next();e.xl.set(r,new mW(n)),e.Cl=e.Cl.zt(n,r),od(e.yl,new ed(yr(Tu(n.path)),r,2,nr.q))}}function Gi(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:return r=Z(e),i=[],s=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(l,h){a.push(r.Ll(h,t,n).then(function(d){if(d){r.Ml&&r.Vl.Ba(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=xH.oc(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.bl.ah(i),[4,function(l,h){return N(this,void 0,void 0,function(){var d,v,m,y,b,E,I,R,P;return C(this,function(D){switch(D.label){case 0:d=Z(l),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(F){return $.forEach(h,function(Y){return $.forEach(Y.ic,function(U){return d.persistence.Ti.nr(F,Y.targetId,U)}).next(function(){return $.forEach(Y.rc,function(U){return d.persistence.Ti.ir(F,Y.targetId,U)})})})})];case 2:return D.sent(),[3,4];case 3:if(!Vs(v=D.sent()))throw v;return Q("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)b=y[m],E=b.targetId,b.fromCache||(I=d.fc.get(E),R=I.Ot,P=I.Lt(R),d.fc=d.fc.zt(E,P));return[2]}})})}(r.bh,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function CW(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return(n=Z(e)).currentUser.isEqual(t)?[3,3]:(Q("SyncEngine","User change. New user:",t.A()),[4,QO(n.bh,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fl.forEach(function(c){c.forEach(function(l){l.reject(new W(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(t,r.mc,r.Ac),[4,Gi(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function NW(e,t){var n=Z(e),r=n.xl.get(t);if(r&&r.Pl)return Qt().add(r.key);var i=Qt(),s=n.Sl.get(t);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.vl.get(l);i=i.Pe(h.view._l)}return i}function RW(e,t){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:return[4,mp((n=Z(e)).bh,t.query,!0)];case 1:return r=s.sent(),i=t.view.Al(r),[2,(n.Ml&&Gy(n,t.targetId,i.Il),i)]}})})}function OW(e){return N(this,void 0,void 0,function(){var t;return C(this,function(n){return[2,ZO((t=Z(e)).bh).then(function(r){return Gi(t,r)})]})})}function xW(e,t,n,r){return N(this,void 0,void 0,function(){var i,s;return C(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=Z(c),d=Z(h.zo);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.yi(v,l).next(function(m){return m?h.Tc.Xo(v,m):$.resolve(null)})})}((i=Z(e)).bh,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Nu(i.yl)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Kw(i,t,r||null),zw(i,t),function(c,l){Z(Z(c).zo).xi(l)}(i.bh,t)):ut(),a.label=4;case 4:return[4,Gi(i,s)];case 5:return a.sent(),[3,7];case 6:Q("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function PW(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return C(this,function(d){switch(d.label){case 0:return Yw(n=Z(e)),Xw(n),t!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,HA(n,r.it())]);case 1:return i=d.sent(),n.kl=!0,[4,Wy(n.yl,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],od(n.yl,c);return[3,7];case 3:return t!==!1||n.kl===!1?[3,7]:(l=[],h=Promise.resolve(),n.Sl.forEach(function(v,m){n.Vl.Ma(m)?l.push(m):h=h.then(function(){return lu(n,m),cu(n.bh,m,!0)}),_l(n.yl,m)}),[4,h]);case 4:return d.sent(),[4,HA(n,l)];case 5:return d.sent(),function(v){var m=Z(v);m.xl.forEach(function(y,b){_l(m.yl,b)}),m.Nl.Oc(),m.xl=new Map,m.Cl=new wn(ht.H)}(n),n.kl=!1,[4,Wy(n.yl,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function HA(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m,y,b,E,I;return C(this,function(R){switch(R.label){case 0:r=Z(e),i=[],s=[],a=0,c=t,R.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Sl.get(l))&&d.length!==0?[4,uu(r.bh,yr(d[0]))]:[3,7]):[3,13];case 2:h=R.sent(),v=0,m=d,R.label=3;case 3:return v<m.length?(y=m[v],b=r.vl.get(y),[4,RW(r,b)]):[3,6];case 4:(E=R.sent()).snapshot&&s.push(E.snapshot),R.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,JO(r.bh,l)];case 8:return I=R.sent(),[4,uu(r.bh,I)];case 9:return h=R.sent(),[4,$w(r,dx(I),l,!1)];case 10:R.sent(),R.label=11;case 11:i.push(h),R.label=12;case 12:return a++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function dx(e){return uO(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kW(e){var t=Z(e);return Z(Z(t.bh).persistence).Uo()}function DW(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a;return C(this,function(c){switch(c.label){case 0:return(i=Z(e)).kl?(Q("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ZO(i.bh)];case 3:return s=c.sent(),a=Nw.Me(t,n==="current"),[4,Gi(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,cu(i.bh,t,!0)];case 6:return c.sent(),lu(i,t,r),[3,8];case 7:ut(),c.label=8;case 8:return[2]}})})}function LW(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m;return C(this,function(y){switch(y.label){case 0:if(!(r=Yw(e)).kl)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Sl.has(a)?(Q("SyncEngine","Adding an already active target "+a),[3,5]):[4,JO(r.bh,a)]):[3,6];case 2:return c=y.sent(),[4,uu(r.bh,c)];case 3:return l=y.sent(),[4,$w(r,dx(c),l.targetId,!1)];case 4:y.sent(),od(r.yl,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(b){return C(this,function(E){switch(E.label){case 0:return r.Sl.has(b)?[4,cu(r.bh,b,!1).then(function(){_l(r.yl,b),lu(r,b)}).catch(Bs)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(m=v[d],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function Yw(e){var t=Z(e);return t.yl.Dh.Lh=hx.bind(null,t),t.yl.Dh.vn=NW.bind(null,t),t.yl.Dh.Mh=EW.bind(null,t),t.bl.ah=hW.bind(null,t.gl),t.bl.Bl=pW.bind(null,t.gl),t}function Xw(e){var t=Z(e);return t.yl.Dh.Bh=IW.bind(null,t),t.yl.Dh.qh=TW.bind(null,t),t}function MW(e,t,n){var r=Z(e);(function(i,s,a){return N(this,void 0,void 0,function(){var c,l,h,d,v,m;return C(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(b,E){var I=Z(b),R=Ye(E.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",function(P){return I.wo.Os(P,E.id)}).then(function(P){return!!P&&P.createTime._(R)>=0})}(i.bh,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a.ql(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(c)))];case 4:return a.Ul(ux(c)),l=new vW(c,i.bh,s.Qt),[4,s.Ql()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.rl(h)]:[3,10];case 7:return(d=y.sent())&&a.Ul(d),[4,s.Ql()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,Gi(i,v.Go,void 0)];case 12:return y.sent(),[4,function(b,E){var I=Z(b);return I.persistence.runTransaction("Save bundle","readwrite",function(R){return I.wo.ks(R,E)})}(i.bh,c)];case 13:return y.sent(),a.ql(v.progress),[3,15];case 14:return sp("SyncEngine","Loading bundle failed with "+(m=y.sent())),a.Kl(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.Vl.Wa()})}var vx=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return N(this,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return this.Qt=$l(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},e.prototype.zl=function(t){return null},e.prototype.Hl=function(t){return KO(this.persistence,new zO,t.Jl,this.Qt)},e.prototype.jl=function(t){return new WH($H.ia,this.Qt)},e.prototype.Wl=function(t){return new tx},e.prototype.terminate=function(){return N(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},e}(),gx=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return J(t,e),t.prototype.initialize=function(n){return N(this,void 0,void 0,function(){return C(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,MH(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,Xw(this.Yl._a)];case 4:return r.sent(),[4,Nu(this.Yl.yl)];case 5:return r.sent(),[2]}})})},t.prototype.Hl=function(n){return KO(this.persistence,new zO,n.Jl,this.Qt)},t.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new IH(r,n._s)},t.prototype.jl=function(n){var r=Mw(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?Zr.Ys(this.cacheSizeBytes):Zr.ti;return new RH(this.synchronizeTabs,r,n.clientId,i,n._s,ex(),kh(),this.Qt,this.Vl,!!this.forceOwnership)},t.prototype.Wl=function(n){return new tx},t}(vx),FW=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return J(t,e),t.prototype.initialize=function(n){return N(this,void 0,void 0,function(){var r,i=this;return C(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof km?(this.Vl._a={eu:xW.bind(null,r),nu:DW.bind(null,r),su:LW.bind(null,r),Uo:kW.bind(null,r),tu:OW.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(a){return N(i,void 0,void 0,function(){return C(this,function(c){switch(c.label){case 0:return[4,PW(this.Yl._a,a)];case 1:return c.sent(),this.Gl&&(a&&!this.Gl.Er?this.Gl.start(this.bh):a||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Wl=function(n){var r=ex();if(!km.Kn(r))throw new W(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=Mw(n.yu.t,n.yu.persistenceKey);return new km(r,n._s,i,n.clientId,n.Jl)},t}(gx),$y=function(){function e(){}return e.prototype.initialize=function(t,n){return N(this,void 0,void 0,function(){var r=this;return C(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!t.synchronizeTabs),this.Vl.fa=function(s){return qA(r._a,s,1)},this.yl.Dh.n_=CW.bind(null,this._a),[4,Wy(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.t_=function(t){return new fW},e.prototype.Xl=function(t){var n,r=$l(t.yu.t),i=(n=t.yu,new XH(n));return function(s,a,c){return new tW(s,a,c)}(t.credentials,i,r)},e.prototype.Zl=function(t){var n,r,i,s,a,c=this;return n=this.bh,r=this.Sh,i=t._s,s=function(l){return qA(c._a,l,0)},a=VA.Kn()?new VA:new KH,new nW(n,r,i,s,a)},e.prototype.e_=function(t,n){return function(r,i,s,a,c,l,h){var d=new yW(r,i,s,a,c,l);return h&&(d.kl=!0),d}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,n)},e.prototype.terminate=function(){return function(t){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return n=Z(t),Q("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,Cu(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return N(this,void 0,void 0,function(){var r;return C(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return N(this,void 0,void 0,function(){return C(this,function(r){return[2]})})},releaseLock:function(){}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sd=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.i_=function(){this.muted=!0},e.prototype.s_=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),UW=function(){function e(t,n){var r=this;this.r_=t,this.Qt=n,this.metadata=new kn,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(i){i&&i.sl()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.r_.cancel()},e.prototype.getMetadata=function(){return N(this,void 0,void 0,function(){return C(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Ql=function(){return N(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},e.prototype.c_=function(){return N(this,void 0,void 0,function(){var t,n,r,i;return C(this,function(s){switch(s.label){case 0:return[4,this.a_()];case 1:return(t=s.sent())===null?[2,null]:(n=this.o_.decode(t),r=Number(n),isNaN(r)&&this.u_("length string ("+n+") is not valid number"),[4,this.h_(r)]);case 2:return i=s.sent(),[2,new dW(JSON.parse(i),t.length+r)]}})})},e.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.a_=function(){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.h_=function(t){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:r.sent()&&this.u_("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.__=function(){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return[4,this.r_.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),Di=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new W(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Br(t)}return e.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},e}(),qs=function(e){this._methodName=e},Mt=function(e){this.d_=e};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(e,t,n){if(!n)throw new W(k.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Zw(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new W(k.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function mx(e,t,n,r){if(t===!0&&r===!0)throw new W(k.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function GA(e){if(!ht.wt(e))throw new W(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function $A(e){if(ht.wt(e))throw new W(k.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ad(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ut()}function qt(e,t){if("_delegate"in e&&(e=e.d_),!(e instanceof t)){if(t.name===e.constructor.name)throw new W(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ad(e);throw new W(k.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function zA(e,t){if(t<=0)throw new W(k.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KA=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new W(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new W(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,mx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),QA=new Map,wl=function(){function e(t,n){this.w_="(lite)",this.E_=new KA({}),this.T_=!1,t instanceof op?(this.I_=t,this.m_=new nA):(this.A_=t,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new W(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new op(r.options.projectId)}(t),this.m_=new Aq(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this.A_)throw new W(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),e.prototype.g_=function(t){if(this.T_)throw new W(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new KA(t),t.credentials!==void 0&&(this.m_=function(n){if(!n)return new nA;switch(n.type){case"gapi":var r=n.client;return yt(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Nq(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new W(k.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.V_=function(){return this.E_},e.prototype.p_=function(){return this.T_=!0,this.E_},e.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},e.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},e.prototype.b_=function(){return t=this,(n=QA.get(t))&&(Q("ComponentProvider","Removing Datastore"),QA.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),pe=function(){function e(t,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Eo(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.S_)},e}(),Wn=function(){function e(t,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this.C_)},e}(),Eo=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Tu(i))||this).firestore=n,s.D_=i,s.type="collection",s}return J(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new pe(this.firestore,null,new ht(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this.D_)},t}(Wn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Mt&&(e=e.d_),Jw("collection","path",t),e instanceof wl)return $A(n=Ht.ot.apply(Ht,Se([t],r))),new Eo(e,null,n);if(!(e instanceof pe||e instanceof Eo))throw new W(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return $A(n=Ht.ot.apply(Ht,Se([e.path],r)).child(Ht.ot(t))),new Eo(e.firestore,null,n)}function Dh(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e instanceof Mt&&(e=e.d_),arguments.length===1&&(t=tO.u()),Jw("doc","path",t),e instanceof wl)return GA(n=Ht.ot.apply(Ht,Se([t],r))),new pe(e,null,new ht(n));if(!(e instanceof pe||e instanceof Eo))throw new W(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return GA(n=e.D_.child(Ht.ot.apply(Ht,Se([t],r)))),new pe(e.firestore,e instanceof Eo?e.v_:null,new ht(n))}function _x(e,t){return e instanceof Mt&&(e=e.d_),t instanceof Mt&&(t=t.d_),(e instanceof pe||e instanceof Eo)&&(t instanceof pe||t instanceof Eo)&&e.firestore===t.firestore&&e.path===t.path&&e.v_===t.v_}function wx(e,t){return e instanceof Mt&&(e=e.d_),t instanceof Mt&&(t=t.d_),e instanceof Wn&&t instanceof Wn&&e.firestore===t.firestore&&Bl(e.C_,t.C_)&&e.v_===t.v_}var ud=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new W(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new W(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=t,this.N_=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},e.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},e.prototype.U=function(t){return kt(this.x_,t.x_)||kt(this.N_,t.N_)},e}(),jW=/^__.*__$/,VW=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return this.Gt!==null?new Lo(t,this.data,this.Gt,n,this.fieldTransforms):new Wl(t,this.data,n,this.fieldTransforms)},e}(),bx=function(){function e(t,n,r){this.data=t,this.Gt=n,this.fieldTransforms=r}return e.prototype.F_=function(t,n){return new Lo(t,this.data,this.Gt,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut()}}var Ix=function(){function e(t,n,r,i,s,a){this.settings=t,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),e.prototype.M_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},e.prototype.L_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.q_(t),i},e.prototype.U_=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.M_({path:r,B_:!1});return i.O_(),i},e.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},e.prototype.K_=function(t){return _p(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},e.prototype.contains=function(t){return this.Gt.find(function(n){return t.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return t.nt(n.field)})!==void 0},e.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},e.prototype.q_=function(t){if(t.length===0)throw this.K_("Document fields must not be empty");if(Ex(this.k_)&&jW.test(t))throw this.K_('Document fields cannot begin and end with "__"')},e}(),BW=function(){function e(t,n,r){this.t=t,this.ignoreUndefinedProperties=n,this.Qt=r||$l(t)}return e.prototype.G_=function(t,n,r,i){return i===void 0&&(i=!1),new Ix({k_:t,methodName:n,j_:r,path:Br.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},e}();function Hs(e){var t=e.p_(),n=$l(e.I_);return new BW(e.I_,!!t.ignoreUndefinedProperties,n)}function cd(e,t,n,r,i,s){s===void 0&&(s={});var a=e.G_(s.merge||s.mergeFields?2:0,t,n,i);r0("Data must be an object, but it was:",a,r);var c,l,h=Ax(r,a);if(s.merge)c=new Xa(a.Gt),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,m=s.mergeFields;v<m.length;v++){var y=zy(t,m[v],n);if(!a.contains(y))throw new W(k.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Nx(d,y)||d.push(y)}c=new Xa(d),l=a.fieldTransforms.filter(function(b){return c.Tt(b.field)})}else c=null,l=a.fieldTransforms;return new VW(new Oo(h),c,l)}var t0=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(qs);function Tx(e,t,n){return new Ix({k_:3,j_:t.settings.j_,methodName:e._methodName,B_:n},t.t,t.Qt,t.ignoreUndefinedProperties)}var qW=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.z_=function(n){return new Hl(n.path,new eu)},t.prototype.isEqual=function(n){return n instanceof t},t}(qs),HW=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return J(t,e),t.prototype.z_=function(n){var r=Tx(this,n,!0),i=this.H_.map(function(a){return Ws(a,r)}),s=new Ps(i);return new Hl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(qs),WW=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).H_=r,i}return J(t,e),t.prototype.z_=function(n){var r=Tx(this,n,!0),i=this.H_.map(function(a){return Ws(a,r)}),s=new ks(i);return new Hl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(qs),GW=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).J_=r,i}return J(t,e),t.prototype.z_=function(n){var r=new nu(n.Qt,dO(n.Qt,this.J_));return new Hl(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(qs);function e0(e,t,n,r){var i=e.G_(1,t,n);r0("Data must be an object, but it was:",i,r);var s=[],a=new jl;Ul(r,function(l,h){var d=i0(t,l,n);h instanceof Mt&&(h=h.d_);var v=i.U_(d);if(h instanceof t0)s.push(d);else{var m=Ws(h,v);m!=null&&(s.push(d),a.set(d,m))}});var c=new Xa(s);return new bx(a.Pt(),c,i.fieldTransforms)}function n0(e,t,n,r,i,s){var a=e.G_(1,t,n),c=[zy(t,r,n)],l=[i];if(s.length%2!=0)throw new W(k.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(zy(t,s[h])),l.push(s[h+1]);for(var d=[],v=new jl,m=c.length-1;m>=0;--m)if(!Nx(d,c[m])){var y=c[m],b=l[m];b instanceof Mt&&(b=b.d_);var E=a.U_(y);if(b instanceof t0)d.push(y);else{var I=Ws(b,E);I!=null&&(d.push(y),v.set(y,I))}}var R=new Xa(d);return new bx(v.Pt(),R,a.fieldTransforms)}function Sx(e,t,n,r){return r===void 0&&(r=!1),Ws(n,e.G_(r?4:3,t))}function Ws(e,t){if(e instanceof Mt&&(e=e.d_),Cx(e))return r0("Unsupported field value:",t,e),Ax(e,t);if(e instanceof qs)return function(n,r){if(!Ex(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.Gt.push(t.path),e instanceof Array){if(t.settings.B_&&t.k_!==4)throw t.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Ws(c[a],r.Q_(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if(n instanceof Mt&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return dO(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=Hn.fromDate(n);return{timestampValue:gl(r.Qt,i)}}if(n instanceof Hn)return i=new Hn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:gl(r.Qt,i)};if(n instanceof ud)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xs)return{bytesValue:AO(r.Qt,n.I)};if(n instanceof pe){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Ow(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+ad(n))}(e,t)}function Ax(e,t){var n={};return rO(e)?t.path&&t.path.length>0&&t.Gt.push(t.path):Ul(e,function(r,i){var s=Ws(i,t.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Cx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Hn||e instanceof ud||e instanceof xs||e instanceof pe||e instanceof qs)}function r0(e,t,n){if(!Cx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=ad(n);throw r==="an object"?t.K_(e+" a custom object"):t.K_(e+" "+r)}}function zy(e,t,n){if(t instanceof Mt&&(t=t.d_),t instanceof Di)return t.f_;if(typeof t=="string")return i0(e,t);throw _p("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var $W=new RegExp("[~\\*/\\[\\]]");function i0(e,t,n){if(t.search($W)>=0)throw _p("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Di.bind.apply(Di,Se([void 0],t.split("."))))().f_}catch{throw _p("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function _p(e,t,n,r,i){var s=r&&!r.et(),a=i!==void 0,c="Function "+t+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new W(k.INVALID_ARGUMENT,(c+=". ")+e+l)}function Nx(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zW=function(){function e(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return e.prototype.ef=function(t){return N(this,void 0,void 0,function(){var n,r=this;return C(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new W(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return N(this,void 0,void 0,function(){var c,l,h,d,v,m;return C(this,function(y){switch(y.label){case 0:return c=Z(s),l=yl(c.Qt)+"/documents",h={documents:a.map(function(b){return ml(c.Qt,b)})},[4,c.Du("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(b){var E=function(I,R){return"found"in R?function(P,D){yt(!!D.found),D.found.name,D.found.updateTime;var F=ui(P,D.found.name),Y=Ye(D.found.updateTime),U=new Oo({mapValue:{fields:D.found.fields}});return new Zt(F,Y,U,{})}(I,R):"missing"in R?function(P,D){yt(!!D.missing),yt(!!D.readTime);var F=ui(P,D.missing),Y=Ye(D.readTime);return new Ve(F,Y)}(I,R):ut()}(c.Qt,b);v.set(E.key.toString(),E)}),m=[],[2,(a.forEach(function(b){var E=v.get(b.toString());yt(!!E),m.push(E)}),m)]}})})}(this.Sh,t)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof Ve||s instanceof Zt?r.sf(s):ut()}),n)]}})})},e.prototype.set=function(t,n){this.write(n.F_(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.F_(t,this.rf(t)))}catch(r){this.Z_=r}this.tf.add(t.toString())},e.prototype.delete=function(t){this.write(new Gl(t,this.jt(t))),this.tf.add(t.toString())},e.prototype.commit=function(){return N(this,void 0,void 0,function(){var t,n=this;return C(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=ht._t(s);n.mutations.push(new Cw(a,n.jt(a)))}),[4,function(i,s){return N(this,void 0,void 0,function(){var a,c,l;return C(this,function(h){switch(h.label){case 0:return a=Z(i),c=yl(a.Qt)+"/documents",l={writes:s.map(function(d){return dp(a.Qt,d)})},[4,a.pu("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},e.prototype.sf=function(t){var n;if(t instanceof Zt)n=t.version;else{if(!(t instanceof Ve))throw ut();n=Ot.min()}var r=this.Y_.get(t.key.toString());if(r){if(!n.isEqual(r))throw new W(k.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),n)},e.prototype.jt=function(t){var n=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&n?dn.updateTime(n):dn.Kt()},e.prototype.rf=function(t){var n=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&n){if(n.isEqual(Ot.min()))throw new W(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dn.updateTime(n)}return dn.exists(!0)},e.prototype.write=function(t){this.nf(),this.mutations.push(t)},e.prototype.nf=function(){},e}(),KW=function(){function e(t,n,r,i){this._s=t,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new Uw(this._s,"transaction_retry")}return e.prototype.run=function(){this.af()},e.prototype.af=function(){var t=this;this.Gu.Lu(function(){return N(t,void 0,void 0,function(){var n,r,i=this;return C(this,function(s){return n=new zW(this.Sh),(r=this.uf(n))&&r.then(function(a){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(a)}).catch(function(c){i.hf(c)})})}).catch(function(a){i.hf(a)}),[2]})})})},e.prototype.uf=function(t){try{var n=this.updateFunction(t);return!js(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},e.prototype.hf=function(t){var n=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(t)},e.prototype.lf=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!wO(n)}return!1},e}(),QW=function(){function e(t,n,r){var i=this;this.credentials=t,this._s=n,this.yu=r,this.user=Zn.UNAUTHENTICATED,this.clientId=tO.u(),this._f=function(){},this.C=new kn,this.credentials.v(function(s){Q("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return e.prototype.getConfiguration=function(){return N(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},e.prototype.ff=function(t){var n=this;this._f=t,this.C.promise.then(function(){return n._f(n.user)})},e.prototype.df=function(){if(this._s.wf)throw new W(k.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this._s.Ef();var n=new kn;return this._s.Tf(function(){return N(t,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Su(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(e,t){return N(this,void 0,void 0,function(){var n,r,i=this;return C(this,function(s){switch(s.label){case 0:return e._s.Af(),Q("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.Jl,e.ff(function(a){r.isEqual(a)||(r=a,e._s.po(function(){return N(i,void 0,void 0,function(){return C(this,function(c){switch(c.label){case 0:return[4,QO(t.bh,a)];case 1:return c.sent(),[2]}})})}))}),t.persistence.Po(function(){return e.terminate()}),e.mf=t,[2]}})})}function Ox(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return e._s.Af(),[4,o0(e)];case 1:return n=i.sent(),Q("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.ff(function(s){return e._s.po(function(){return function(a,c){return N(this,void 0,void 0,function(){var l,h;return C(this,function(d){switch(d.label){case 0:return(l=Z(a))._s.Af(),Q("RemoteStore","RemoteStore received new credentials"),h=Mo(l),l.Nh.add(3),[4,Cu(l)];case 1:return d.sent(),h&&l.Oh.set("Unknown"),[4,l.Dh.n_(c)];case 2:return d.sent(),l.Nh.delete(3),[4,zl(l)];case 3:return d.sent(),[2]}})})}(t.yl,s)})}),e.If=t,[2]}})})}function o0(e){return N(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return e.mf?[3,2]:(Q("FirestoreClient","Using default OfflineComponentProvider"),[4,Rx(e,new vx)]);case 1:t.sent(),t.label=2;case 2:return[2,e.mf]}})})}function ld(e){return N(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return e.If?[3,2]:(Q("FirestoreClient","Using default OnlineComponentProvider"),[4,Ox(e,new $y)]);case 1:t.sent(),t.label=2;case 2:return[2,e.If]}})})}function YA(e){return o0(e).then(function(t){return t.persistence})}function s0(e){return o0(e).then(function(t){return t.bh})}function XA(e){return ld(e).then(function(t){return t.yl})}function a0(e){return ld(e).then(function(t){return t._a})}function fu(e){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return[4,ld(e)];case 1:return t=r.sent(),[2,((n=t.gl).jh=_W.bind(null,t._a),n.Hh=wW.bind(null,t._a),n)]}})})}function JA(e,t,n){var r=this;n===void 0&&(n={});var i=new kn;return e._s.Ps(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new sd({next:function(b){l.Ps(function(){return Hw(c,y)});var E=b.docs.has(h);!E&&b.fromCache?v.reject(new W(k.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&d&&d.source==="server"?v.reject(new W(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new Gw(Tu(h.path),m,{includeMetadataChanges:!0,nl:!0});return qw(c,y)},[4,fu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e._s,t,n,i])]}})})}),i.promise}function ZA(e,t,n){var r=this;n===void 0&&(n={});var i=new kn;return e._s.Ps(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new sd({next:function(b){l.Ps(function(){return Hw(c,y)}),b.fromCache&&d.source==="server"?v.reject(new W(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new Gw(h,m,{includeMetadataChanges:!0,nl:!0});return qw(c,y)},[4,fu(e)];case 1:return[2,s.apply(void 0,[a.sent(),e._s,t,n,i])]}})})}),i.promise}var YW=function(){function e(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Uw(this,"async_queue_retry"),this.vf=function(){var r=kh();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Gu.qu()};var n=kh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(e.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),e.prototype.Ps=function(t){this.enqueue(t)},e.prototype.Tf=function(t){this.Sf(),this.Df(t)},e.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=kh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.vf)}},e.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(t)},e.prototype.po=function(t){var n=this;this.Ps(function(){return n.Pf.push(t),n.Cf()})},e.prototype.Cf=function(){return N(this,void 0,void 0,function(){var t,n=this;return C(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Vs(t=r.sent()))throw t;return Q("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},e.prototype.Df=function(t){var n=this,r=this.Rf.then(function(){return n.pf=!0,t().catch(function(i){throw n.Vf=i,n.pf=!1,xe("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},e.prototype.Tr=function(t,n,r){var i=this;this.Sf(),this.bf.indexOf(t)>-1&&(n=0);var s=lH.Ts(this,t,n,r,function(a){return i.xf(a)});return this.gf.push(s),s},e.prototype.Sf=function(){this.Vf&&ut()},e.prototype.Af=function(){},e.prototype.Nf=function(){return N(this,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:return[4,t=this.Rf];case 1:n.sent(),n.label=2;case 2:if(t!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.$f=function(t){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===t)return!0;return!1},e.prototype.Ff=function(t){var n=this;return this.Nf().then(function(){n.gf.sort(function(a,c){return a.ds-c.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),t!=="all"&&s.fs===t)break}return n.Nf()})},e.prototype.Of=function(t){this.bf.push(t)},e.prototype.xf=function(t){var n=this.gf.indexOf(t);this.gf.splice(n,1)},e}();function hu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var XW=function(){function e(){this.kf={},this.Mf=new kn,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this.kf={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this.Mf.promise.catch(t)},e.prototype.then=function(t,n){return this.Mf.promise.then(t,n)},e.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},e.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},e.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)},e}(),JW=-1,Te=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Bf=new YW,i.w_="name"in n?n.name:"[DEFAULT]",i}return J(t,e),t.prototype.b_=function(){return this.qf||xx(this),this.qf.terminate()},t}(wl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(e){return e.qf||xx(e),e.qf.df(),e.qf}function xx(e){var t=e.p_(),n=function(r,i,s){return new Iq(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(e.I_,e.w_,t);e.qf=new QW(e.m_,e.Bf,n)}function tC(e,t,n){var r=this,i=new kn;return e._s.enqueue(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,Rx(e,n)];case 1:return a.sent(),[4,Ox(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===k.FAILED_PRECONDITION||c.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function eC(e){if(e.R_||e.P_)throw new W(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u0=function(){function e(){}return e.prototype.Uf=function(t,n){switch(n===void 0&&(n="none"),Ro(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,n);case 5:return t.stringValue;case 6:return this.Wf(Ja(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,n);case 10:return this.Hf(t.mapValue,n);default:throw ut()}},e.prototype.Hf=function(t,n){var r=this,i={};return Ul(t.fields||{},function(s,a){i[s]=r.Uf(a,n)}),i},e.prototype.Gf=function(t){return new ud(Oe(t.latitude),Oe(t.longitude))},e.prototype.zf=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.Uf(i,n)})},e.prototype.Kf=function(t,n){switch(n){case"previous":var r=iO(t);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(hl(t));default:return null}},e.prototype.Qf=function(t){var n=No(t);return new Hn(n.seconds,n.nanos)},e.prototype.Jf=function(t,n){var r=Ht.ot(t);yt(LO(r));var i=new op(r.get(1),r.get(3)),s=new ht(r.Y(5));return i.isEqual(n)||xe("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}(),bl=function(){function e(t,n,r,i,s){this.Yf=t,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new pe(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this.Zf!==null},e.prototype.data=function(){if(this.Zf){if(this.v_){var t=new ZW(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},e.prototype.get=function(t){if(this.Zf){var n=this.Zf.data().field(wp("DocumentSnapshot.get",t));if(n!==null)return this.Xf.Uf(n)}},e}(),ZW=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(bl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(e,t){return typeof t=="string"?i0(e,t):t instanceof Mt?t.d_.f_:t.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(e){if(fp(e)&&e.xt.length===0)throw new W(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Kl=function(){};function so(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s.td(e)}return e}var tG=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return J(t,e),t.prototype.td=function(n){var r=Hs(n.firestore),i=function(s,a,c,l,h,d,v){var m;if(h.ut()){if(d==="array-contains"||d==="array-contains-any")throw new W(k.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){sC(v,d);for(var y=[],b=0,E=v;b<E.length;b++){var I=E[b];y.push(oC(l,s,I))}m={arrayValue:{values:y}}}else m=oC(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||sC(v,d),m=Sx(c,"where",v,d==="in"||d==="not-in");var R=rr.create(h,d,m);return function(P,D){if(D.Ct()){var F=Tw(P);if(F!==null&&!F.isEqual(D.field))throw new W(k.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+F.toString()+"' and '"+D.field.toString()+"'");var Y=Iw(P);Y!==null&&Dx(P,D.field,Y)}var U=function(_t,Gt){for(var lt=0,Ze=_t.filters;lt<Ze.length;lt++){var O=Ze[lt];if(Gt.indexOf(O.op)>=0)return O.op}return null}(P,function(_t){switch(_t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(U!==null)throw U===D.op?new W(k.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+D.op.toString()+"' filter."):new W(k.INVALID_ARGUMENT,"Invalid query. You cannot use '"+D.op.toString()+"' filters with '"+U.toString()+"' filters.")}(s,R),R}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new Wn(n.firestore,n.v_,function(s,a){var c=s.filters.concat([a]);return new Wi(s.path,s.collectionGroup,s.xt.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},t}(Kl),eG=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return J(t,e),t.prototype.td=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new W(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new W(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Ua(s,a);return function(l,h){if(Iw(l)===null){var d=Tw(l);d!==null&&Dx(l,d,h.field)}}(i,c),c}(n.C_,this.ed,this.rd);return new Wn(n.firestore,n.v_,function(i,s){var a=i.xt.concat([s]);return new Wi(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},t}(Kl),nC=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.od=r,s.ad=i,s}return J(t,e),t.prototype.td=function(n){return new Wn(n.firestore,n.v_,cO(n.C_,this.od,this.ad))},t}(Kl),rC=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return J(t,e),t.prototype.td=function(n){var r=kx(n,this.type,this.ud,this.hd);return new Wn(n.firestore,n.v_,function(i,s){return new Wi(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},t}(Kl),iC=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.ud=r,s.hd=i,s}return J(t,e),t.prototype.td=function(n){var r=kx(n,this.type,this.ud,this.hd);return new Wn(n.firestore,n.v_,function(i,s){return new Wi(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},t}(Kl);function kx(e,t,n,r){if(n[0]instanceof Mt&&(n[0]=n[0].d_),n[0]instanceof bl)return function(s,a,c,l,h){if(!l)throw new W(k.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,m=tu(s);v<m.length;v++){var y=m[v];if(y.field.ut())d.push(up(a,l.key));else{var b=l.field(y.field);if(mw(b))throw new W(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var E=y.field.rt();throw new W(k.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(b)}}return new dl(d,h)}(e.C_,e.firestore.I_,t,n[0].Zf,r);var i=Hs(e.firestore);return function(s,a,c,l,h,d){var v=s.xt;if(h.length>v.length)throw new W(k.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var b=h[y];if(v[y].field.ut()){if(typeof b!="string")throw new W(k.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof b);if(!Sw(s)&&b.indexOf("/")!==-1)throw new W(k.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+b+"' contains a slash.");var E=s.path.child(Ht.ot(b));if(!ht.wt(E))throw new W(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var I=new ht(E);m.push(up(a,I))}else{var R=Sx(c,l,b);m.push(R)}}return new dl(m,d)}(e.C_,e.firestore.I_,i,t,n,r)}function oC(e,t,n){if(n instanceof Mt&&(n=n.d_),typeof n=="string"){if(n==="")throw new W(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sw(t)&&n.indexOf("/")!==-1)throw new W(k.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ht.ot(n));if(!ht.wt(r))throw new W(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return up(e,new ht(r))}if(n instanceof pe)return up(e,n.S_);throw new W(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ad(n)+".")}function sC(e,t){if(!Array.isArray(e)||e.length===0)throw new W(k.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new W(k.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Dx(e,t,n){if(!n.isEqual(t))throw new W(k.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var nG=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.Wf=function(n){return new xs(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new pe(this.firestore,null,r)},t}(u0),gs=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Li=function(e){function t(n,r,i,s,a,c){var l=this;return(l=e.call(this,n,r,i,s,c)||this).Yf=n,l.ld=n,l.metadata=a,l}return J(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new Bc(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(wp("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},t}(bl),Bc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Li),go=function(){function e(t,n,r,i){this.Yf=t,this.Xf=n,this._d=i,this.metadata=new gs(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._d.docs.forEach(function(i){t.call(n,new Bc(r.Yf,r.Xf,i.key,i,new gs(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._d.xe)throw new W(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(c){var l=new Bc(r.Yf,r.Xf,c.doc.key,c.doc,new gs(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}var a=r._d.Se;return r._d.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new Bc(r.Yf,r.Xf,c.doc.key,c.doc,new gs(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:rG(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this.dd=n),this.fd},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut()}}function Lx(e,t){return e instanceof Li&&t instanceof Li?e.Yf===t.Yf&&e.S_.isEqual(t.S_)&&(e.Zf===null?t.Zf===null:e.Zf.isEqual(t.Zf))&&e.v_===t.v_:e instanceof go&&t instanceof go&&e.Yf===t.Yf&&wx(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._d.isEqual(t._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ts=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.Wf=function(n){return new xs(n)},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new pe(this.firestore,null,r)},t}(u0);function aC(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=qt(e,pe);var s=qt(e.firestore,Te),a=Hs(s);return t instanceof Mt&&(t=t.d_),El(s,[(typeof t=="string"||t instanceof Di?n0(a,"updateDoc",e.S_,t,n,r):e0(a,"updateDoc",e.S_,t)).F_(e.S_,dn.exists(!0))])}function Mx(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e instanceof Mt&&(e=e.d_);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||hu(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(hu(i[c])){var m=i[c];i[c]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[c+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[c+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof pe)h=qt(e.firestore,Te),d=Tu(e.S_.path),l={next:function(E){i[c]&&i[c](Ky(h,e,E))},error:i[c+1],complete:i[c+2]};else{var y=qt(e,Wn);h=qt(y.firestore,Te),d=y.C_;var b=new Ts(h);l={next:function(E){i[c]&&i[c](new go(h,b,y,E))},error:i[c+1],complete:i[c+2]},Px(e.C_)}return function(E,I,R,P){var D=this,F=new sd(P),Y=new Gw(I,F,R);return E._s.Ps(function(){return N(D,void 0,void 0,function(){var U;return C(this,function(_t){switch(_t.label){case 0:return U=qw,[4,fu(E)];case 1:return[2,U.apply(void 0,[_t.sent(),Y])]}})})}),function(){F.i_(),E._s.Ps(function(){return N(D,void 0,void 0,function(){var U;return C(this,function(_t){switch(_t.label){case 0:return U=Hw,[4,fu(E)];case 1:return[2,U.apply(void 0,[_t.sent(),Y])]}})})})}}(Qe(h),d,v,l)}function El(e,t){return function(n,r){var i=this,s=new kn;return n._s.Ps(function(){return N(i,void 0,void 0,function(){var a;return C(this,function(c){switch(c.label){case 0:return a=bW,[4,a0(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(Qe(e),t)}function Ky(e,t,n){var r=n.docs.get(t.S_),i=new Ts(e);return new Li(e,i,t.S_,r,new gs(n.hasPendingWrites,n.fromCache),t.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iG=function(){function e(t,n){this.Yf=t,this.wd=n,this.Ed=[],this.Td=!1,this.Id=Hs(t)}return e.prototype.set=function(t,n,r){this.md();var i=mo(t,this.Yf),s=fd(i.v_,n,r),a=cd(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(a.F_(i.S_,dn.Kt())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var a,c=mo(t,this.Yf);return n instanceof Mt&&(n=n.d_),a=typeof n=="string"||n instanceof Di?n0(this.Id,"WriteBatch.update",c.S_,n,r,i):e0(this.Id,"WriteBatch.update",c.S_,n),this.Ed.push(a.F_(c.S_,dn.exists(!0))),this},e.prototype.delete=function(t){this.md();var n=mo(t,this.Yf);return this.Ed=this.Ed.concat(new Gl(n.S_,dn.Kt())),this},e.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},e.prototype.md=function(){if(this.Td)throw new W(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function mo(e,t){if(e instanceof Mt&&(e=e.d_),e.firestore!==t)throw new W(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oG=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).Yf=n,i}return J(t,e),t.prototype.get=function(n){var r=this,i=mo(n,this.Yf),s=new Ts(this.Yf);return e.prototype.get.call(this,n).then(function(a){return new Li(r.Yf,s,i.S_,a.Zf,new gs(!1,!1),i.v_)})},t}(function(){function e(t,n){this.Yf=t,this.Ad=n,this.Id=Hs(t)}return e.prototype.get=function(t){var n=this,r=mo(t,this.Yf),i=new nG(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return ut();var a=s[0];if(a instanceof Ve)return new bl(n.Yf,i,r.S_,null,r.v_);if(a instanceof Zt)return new bl(n.Yf,i,a.key,a,r.v_);throw ut()})},e.prototype.set=function(t,n,r){var i=mo(t,this.Yf),s=fd(i.v_,n,r),a=cd(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=mo(t,this.Yf);return n instanceof Mt&&(n=n.d_),a=typeof n=="string"||n instanceof Di?n0(this.Id,"Transaction.update",c.S_,n,r,i):e0(this.Id,"Transaction.update",c.S_,n),this.Ad.update(c.S_,a),this},e.prototype.delete=function(t){var n=mo(t,this.Yf);return this.Ad.delete(n.S_),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof Uint8Array>"u")throw new W(k.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cC(){if(typeof atob>"u")throw new W(k.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Fx=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.fromBase64String=function(n){return cC(),new t(xs.fromBase64String(n))},t.fromUint8Array=function(n){return uC(),new t(xs.fromUint8Array(n))},t.prototype.toBase64=function(){return cC(),this.d_.toBase64()},t.prototype.toUint8Array=function(){return uC(),this.d_.toUint8Array()},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(Mt),sG=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){eC(r=qt(r,Te));var s=Qe(r),a=r.p_(),c=new $y;return tC(s,c,new gx(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t.d_,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){eC(n=qt(n,Te));var r=Qe(n),i=n.p_(),s=new $y;return tC(r,s,new FW(s,i.cacheSizeBytes))}(t.d_)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n.R_&&!n.P_)throw new W(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new kn;return n.Bf.Tf(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return N(this,void 0,void 0,function(){var l;return C(this,function(h){switch(h.label){case 0:return ru.Kn()?(l=c+"main",[4,ru.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(Mw(n.I_,n.w_))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t.d_)},e}(),c0=function(e){function t(n,r,i){var s=this;return(s=e.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof op||(s.Pd=n),s}return J(t,e),Object.defineProperty(t.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),t.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},t.prototype.useEmulator=function(n,r){(function(i,s,a){var c=(i=qt(i,wl)).V_();c.host!=="firestore.googleapis.com"&&c.host!==s&&sp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1}))})(this.d_,n,r)},t.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return N(r,void 0,void 0,function(){var i,s;return C(this,function(a){switch(a.label){case 0:return[4,YA(n)];case 1:return i=a.sent(),[4,XA(n)];case 2:return s=a.sent(),[2,(i.yo(!0),function(c){var l=Z(c);return l.Nh.delete(0),zl(l)}(s))]}})})})}(Qe(qt(this.d_,Te)))},t.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return N(r,void 0,void 0,function(){var i,s;return C(this,function(a){switch(a.label){case 0:return[4,YA(n)];case 1:return i=a.sent(),[4,XA(n)];case 2:return s=a.sent(),[2,(i.yo(!1),function(c){return N(this,void 0,void 0,function(){var l;return C(this,function(h){switch(h.label){case 0:return(l=Z(c)).Nh.add(0),[4,Cu(l)];case 1:return h.sent(),l.Oh.set("Offline"),[2]}})})}(s))]}})})})}(Qe(qt(this.d_,Te)))},t.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&mx("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},t.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new kn;return n._s.Ps(function(){return N(r,void 0,void 0,function(){var s;return C(this,function(a){switch(a.label){case 0:return s=SW,[4,a0(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(Qe(qt(this.d_,Te)))},t.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var c=this,l=new sd(a);return s._s.Ps(function(){return N(c,void 0,void 0,function(){var h;return C(this,function(d){switch(d.label){case 0:return h=function(v,m){Z(v).Wh.add(m),m.next()},[4,fu(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})}),function(){l.i_(),s._s.Ps(function(){return N(c,void 0,void 0,function(){var h;return C(this,function(d){switch(d.label){case 0:return h=function(v,m){Z(v).Wh.delete(m)},[4,fu(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})})}}(Qe(r=qt(r,Te)),hu(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Pd)throw new W(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new bp(this,yx(this.d_,n))}catch(r){throw Cn(r,"collection()","Firestore.collection()")}},t.prototype.doc=function(n){try{return new Ss(this,Dh(this.d_,n))}catch(r){throw Cn(r,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(n){try{return new Ql(this,function(r,i){if(r=qt(r,wl),Jw("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new W(k.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Wn(r,null,function(s){return new Wi(Ht.ct(),s)}(i))}(this.d_,n))}catch(r){throw Cn(r,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,c){var l=this,h=new kn;return a._s.Ps(function(){return N(l,void 0,void 0,function(){var d;return C(this,function(v){switch(v.label){case 0:return[4,function(m){return ld(m).then(function(y){return y.Sh})}(a)];case 1:return d=v.sent(),new KW(a._s,d,c,h).run(),[2]}})})}),h.promise}(Qe(i),function(a){return s(new oG(i,a))})}(this.d_,function(i){return n(new Ux(r,i))})},t.prototype.batch=function(){var n=this;return Qe(this.d_),new jx(new iG(this.d_,function(r){return El(n.d_,r)}))},t.prototype.loadBundle=function(n){throw new W(k.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(n){throw new W(k.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(Mt),hd=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.Wf=function(n){return new Fx(new xs(n))},t.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return Ss.yd(r,this.firestore,null)},t}(u0);function aG(e){var t;t=e,Fr.setLogLevel(t)}var Ux=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i.Xf=new hd(n),i}return J(t,e),t.prototype.get=function(n){var r=this,i=ms(n);return this.d_.get(i).then(function(s){return new Il(r.Yf,new Li(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},t.prototype.set=function(n,r,i){var s=ms(n);return i?(Zw("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=ms(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Se([l,r,i],a)),this},t.prototype.delete=function(n){var r=ms(n);return this.d_.delete(r),this},t}(Mt),jx=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.set=function(n,r,i){var s=ms(n);return i?(Zw("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},t.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=ms(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Se([l,r,i],a)),this},t.prototype.delete=function(n){var r=ms(n);return this.d_.delete(r),this},t.prototype.commit=function(){return this.d_.commit()},t}(Mt),pd=function(e){function t(n,r,i){var s=this;return(s=e.call(this,i)||this).Yf=n,s.Xf=r,s}return J(t,e),t.prototype.fromFirestore=function(n,r){var i=new Bc(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new Tl(this.Yf,i),r??{})},t.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},t.gd=function(n,r){var i=t.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new t(n,new hd(n),r),s.set(r,a)),a},t}(Mt);pd.Vd=new WeakMap;var Ss=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new hd(n),i}return J(t,e),t.pd=function(n,r,i){if(n.length%2!=0)throw new W(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new t(r,new pe(r.d_,i,new ht(n)))},t.yd=function(n,r,i){return new t(r,new pe(r.d_,i,n))},Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new bp(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(n){try{return new bp(this.firestore,yx(this.d_,n))}catch(r){throw Cn(r,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(n){return n instanceof Mt&&(n=n.d_),n instanceof pe&&_x(this.d_,n)},t.prototype.set=function(n,r){r=Zw("DocumentReference.set",r);try{return function(i,s,a){i=qt(i,pe);var c=qt(i.firestore,Te),l=fd(i.v_,s,a);return El(c,[cd(Hs(c),"setDoc",i.S_,l,i.v_!==null,a).F_(i.S_,dn.Kt())])}(this.d_,n,r)}catch(i){throw Cn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?aC(this.d_,n):aC.apply(void 0,Se([this.d_,n,r],i))}catch(a){throw Cn(a,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return El(qt((n=this.d_).firestore,Te),[new Gl(n.S_,dn.Kt())]);var n},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=Vx(r),a=Bx(r,function(c){return new Il(n.firestore,new Li(n.firestore.d_,n.Xf,c.S_,c.Zf,c.metadata,n.d_.v_))});return Mx(this.d_,s,a)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=qt(i,pe);var s=qt(i.firestore,Te),a=Qe(s),c=new Ts(s);return function(l,h){var d=this,v=new kn;return l._s.Ps(function(){return N(d,void 0,void 0,function(){var m;return C(this,function(y){switch(y.label){case 0:return m=function(b,E,I){return N(this,void 0,void 0,function(){var R,P;return C(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,function(F,Y){var U=Z(F);return U.persistence.runTransaction("read document","readonly",function(_t){return U.Tc.Ho(_t,Y)})}(b,E)];case 1:return(P=D.sent())instanceof Zt?I.resolve(P):P instanceof Ve?I.resolve(null):I.reject(new W(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return R=D.sent(),P=Su(R,"Failed to get document '"+E+" from cache"),I.reject(P),[3,3];case 3:return[2]}})})},[4,s0(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.S_).then(function(l){return new Li(s,c,i.S_,l,new gs(l instanceof Zt&&l.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=qt(i,pe);var s=qt(i.firestore,Te);return JA(Qe(s),i.S_,{source:"server"}).then(function(a){return Ky(s,i,a)})}(this.d_):function(i){i=qt(i,pe);var s=qt(i.firestore,Te);return JA(Qe(s),i.S_).then(function(a){return Ky(s,i,a)})}(this.d_)).then(function(i){return new Il(r.firestore,new Li(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(pd.gd(this.firestore,n)))},t}(Mt);function Cn(e,t,n){return e.message=e.message.replace(t,n),e}function Vx(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!hu(r))return r}return{}}function Bx(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=hu(e[0])?e[0]:hu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Il=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return J(t,e),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ss(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(n){return this.d_.data(n)},t.prototype.get=function(n,r){return this.d_.get(n,r)},t.prototype.isEqual=function(n){return Lx(this.d_,n.d_)},t}(Mt),Tl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(n){return this.d_.data(n)},t}(Il),Ql=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).firestore=n,i.Xf=new hd(n),i}return J(t,e),t.prototype.where=function(n,r,i){try{return new t(this.firestore,so(this.d_,function(s,a,c){var l=a,h=wp("where",s);return new tG(h,l,c)}(n,r,i)))}catch(s){throw Cn(s,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(n,r){try{return new t(this.firestore,so(this.d_,function(i,s){s===void 0&&(s="asc");var a=s,c=wp("orderBy",i);return new eG(c,a)}(n,r)))}catch(i){throw Cn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(n){try{return new t(this.firestore,so(this.d_,function(r){return zA("limit",r),new nC("limit",r,"F")}(n)))}catch(r){throw Cn(r,"limit()","Query.limit()")}},t.prototype.limitToLast=function(n){try{return new t(this.firestore,so(this.d_,function(r){return zA("limitToLast",r),new nC("limitToLast",r,"L")}(n)))}catch(r){throw Cn(r,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,so(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new rC("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw Cn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,so(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new rC("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw Cn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,so(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new iC("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw Cn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new t(this.firestore,so(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new iC("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw Cn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(n){return wx(this.d_,n.d_)},t.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=qt(i,Wn);var s=qt(i.firestore,Te),a=Qe(s),c=new Ts(s);return function(l,h){var d=this,v=new kn;return l._s.Ps(function(){return N(d,void 0,void 0,function(){var m;return C(this,function(y){switch(y.label){case 0:return m=function(b,E,I){return N(this,void 0,void 0,function(){var R,P,D,F,Y;return C(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,mp(b,E,!0)];case 1:return Y=U.sent(),R=new fx(E,Y.Rc),P=R.fl(Y.documents),D=R.wi(P,!1),I.resolve(D.snapshot),[3,3];case 2:return F=U.sent(),Y=Su(F,"Failed to execute query '"+E+" against cache"),I.reject(Y),[3,3];case 3:return[2]}})})},[4,s0(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.C_).then(function(l){return new go(s,c,i,l)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=qt(i,Wn);var s=qt(i.firestore,Te),a=Qe(s),c=new Ts(s);return ZA(a,i.C_,{source:"server"}).then(function(l){return new go(s,c,i,l)})}(this.d_):function(i){i=qt(i,Wn);var s=qt(i.firestore,Te),a=Qe(s),c=new Ts(s);return Px(i.C_),ZA(a,i.C_).then(function(l){return new go(s,c,i,l)})}(this.d_)).then(function(i){return new Qy(r.firestore,new go(r.firestore.d_,r.Xf,r.d_,i._d))})},t.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=Vx(r),a=Bx(r,function(c){return new Qy(n.firestore,new go(n.firestore.d_,n.Xf,n.d_,c._d))});return Mx(this.d_,s,a)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(pd.gd(this.firestore,n)))},t}(Mt),uG=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return J(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Tl(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),t}(Mt),Qy=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).Yf=n,i}return J(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return new Ql(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new Tl(n.Yf,r)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new uG(r.Yf,i)})},t.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new Tl(i.Yf,s))})},t.prototype.isEqual=function(n){return Lx(this.d_,n.d_)},t}(Mt),bp=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i.d_=r,i}return J(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new Ss(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ss(this.firestore,n===void 0?Dh(this.d_):Dh(this.d_,n))}catch(r){throw Cn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=qt(i.firestore,Te),c=Dh(i),l=fd(i.v_,s);return El(a,[cd(Hs(i.firestore),"addDoc",c.S_,l,i.v_!==null,{}).F_(c.S_,dn.exists(!1))]).then(function(){return c})}(this.d_,n).then(function(i){return new Ss(r.firestore,i)})},t.prototype.isEqual=function(n){return _x(this.d_,n.d_)},t.prototype.withConverter=function(n){return new t(this.firestore,this.d_.withConverter(pd.gd(this.firestore,n)))},t}(Ql);function ms(e){return e instanceof Mt&&(e=e.d_),qt(e,pe)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cG=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.call(this,new(Di.bind.apply(Di,Se([void 0],n))))||this}return J(t,e),t.documentId=function(){return new t(Br.ht().rt())},t.prototype.isEqual=function(n){return n instanceof Mt&&(n=n.d_),n instanceof Di&&this.d_.f_.isEqual(n.f_)},t}(Mt),lG=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.serverTimestamp=function(){var n=new qW("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new t(n)},t.delete=function(){var n=new t0("deleteField");return n._methodName="FieldValue.delete",new t(n)},t.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new HW("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new WW("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(n){var r=function(i){return new GW("increment",i)}(n);return r._methodName="FieldValue.increment",new t(r)},t.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},t}(Mt);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fG(e){return function(t,n){var r=Qe(t=qt(t,Te)),i=new XW;return function(s,a,c,l){var h=this,d=function(v,m){return function(y,b){return new UW(y,b)}(function(y,b){if(y instanceof Uint8Array)return WA(y,b);if(y instanceof ArrayBuffer)return WA(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(c,$l(a));s._s.Ps(function(){return N(h,void 0,void 0,function(){var v;return C(this,function(m){switch(m.label){case 0:return v=MW,[4,a0(s)];case 1:return v.apply(void 0,[m.sent(),d,l]),[2]}})})})}(r,t.I_,n,i),i}(this.d_,e)}function hG(e){var t,n,r=this;return(t=this.d_,n=e,function(i,s){var a=this;return i._s.enqueue(function(){return N(a,void 0,void 0,function(){var c;return C(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=Z(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.wo.Ms(m,d)})},[4,s0(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(Qe(t=qt(t,Te)),n).then(function(i){return i?new Wn(t,null,i.query):null})).then(function(i){return i?new Ql(r,i):null})}var pG={Firestore:c0,GeoPoint:ud,Timestamp:Hn,Blob:Fx,Transaction:Ux,WriteBatch:jx,DocumentReference:Ss,DocumentSnapshot:Il,Query:Ql,QueryDocumentSnapshot:Tl,QuerySnapshot:Qy,CollectionReference:bp,FieldPath:cG,FieldValue:lG,setLogLevel:aG,CACHE_SIZE_UNLIMITED:JW};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(e){(function(t,n){t.INTERNAL.registerComponent(new zn("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},pG)))})(e,function(t,n){return new c0(t,new Te(t,n),new sG)}),e.registerVersion("@firebase/firestore","2.1.6")}dG(at);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(e){e.prototype.loadBundle=fG,e.prototype.namedQuery=hG}vG(c0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lC={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ja=function(e){J(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function gG(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function mG(e,t,n){var r=gG(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var c=a.status;if(typeof c=="string"){if(!lC[c])return new ja("internal","internal");r=lC[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new ja(r,i,s)}var yG=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return N(this,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return N(this,void 0,void 0,function(){return C(this,function(t){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},e.prototype.getContext=function(){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _G="type.googleapis.com/google.protobuf.Int64Value",wG="type.googleapis.com/google.protobuf.UInt64Value";function fC(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var bG=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return fC(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case _G:case wG:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?fC(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EG(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new ja("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var hC=function(){function e(t,n,r,i,s){var a=this;i===void 0&&(i="us-central1"),this.app_=t,this.fetchImpl=s,this.serializer=new bG,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new yG(n,r),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return l()}});try{var c=new URL(i);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return N(this,void 0,void 0,function(){var i,s;return C(this,function(a){switch(a.label){case 0:r["Content-Type"]="application/json",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),[2,{status:0,json:null}];case 4:s=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i.json()];case 6:return s=a.sent(),[3,8];case 7:return a.sent(),[3,8];case 8:return[2,{status:i.status,json:s}]}})})},e.prototype.call=function(t,n,r){return N(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y,b,E;return C(this,function(I){switch(I.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=I.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=EG(l),d=h.timer,v=h.promise,[4,Promise.race([pC(d,this.postJSON(i,s,a)),v,pC(d,this.cancelAllRequests)])];case 2:if(m=I.sent(),!m)throw new ja("cancelled","Firebase Functions instance was deleted.");if(y=mG(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new ja("internal","Response is not valid JSON object.");if(b=m.json.data,typeof b>"u"&&(b=m.json.result),typeof b>"u")throw new ja("internal","Response is missing data field.");return E=this.serializer.decode(b),[2,{data:E}]}})})},e}();function pC(e,t){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IG="functions";function TG(e,t){var n={Functions:hC};function r(i,s){var a=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),l=i.getProvider("messaging");return new hC(a,c,l,s,t)}e.INTERNAL.registerComponent(new zn(IG,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var SG="@firebase/functions",AG="0.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */TG(at,fetch.bind(self));at.registerVersion(SG,AG);function CG(e){return Array.prototype.slice.call(e)}function qx(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function dd(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),qx(r).then(s,a)});return i.request=r,i}function NG(e,t,n){var r=dd(e,t,n);return r.then(function(i){if(i)return new Sl(i,r.request)})}function Ou(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function l0(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return dd(this[t],i,arguments)})})}function vd(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function Hx(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return NG(this[t],i,arguments)})})}function Gs(e){this._index=e}Ou(Gs,"_index",["name","keyPath","multiEntry","unique"]);l0(Gs,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);Hx(Gs,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Sl(e,t){this._cursor=e,this._request=t}Ou(Sl,"_cursor",["direction","key","primaryKey","value"]);l0(Sl,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(Sl.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),qx(t._request).then(function(r){if(r)return new Sl(r,t._request)})})})});function vi(e){this._store=e}vi.prototype.createIndex=function(){return new Gs(this._store.createIndex.apply(this._store,arguments))};vi.prototype.index=function(){return new Gs(this._store.index.apply(this._store,arguments))};Ou(vi,"_store",["name","keyPath","indexNames","autoIncrement"]);l0(vi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);Hx(vi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);vd(vi,"_store",IDBObjectStore,["deleteIndex"]);function Yl(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Yl.prototype.objectStore=function(){return new vi(this._tx.objectStore.apply(this._tx,arguments))};Ou(Yl,"_tx",["objectStoreNames","mode"]);vd(Yl,"_tx",IDBTransaction,["abort"]);function gd(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Yl(n)}gd.prototype.createObjectStore=function(){return new vi(this._db.createObjectStore.apply(this._db,arguments))};Ou(gd,"_db",["name","version","objectStoreNames"]);vd(gd,"_db",IDBDatabase,["deleteObjectStore","close"]);function md(e){this._db=e}md.prototype.transaction=function(){return new Yl(this._db.transaction.apply(this._db,arguments))};Ou(md,"_db",["name","version","objectStoreNames"]);vd(md,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[vi,Gs].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=CG(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Gs,vi].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function f0(e,t,n){var r=dd(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new gd(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new md(s)})}function Dm(e){return dd(indexedDB,"deleteDatabase",[e])}var RG="@firebase/installations",Wx="0.4.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gx=1e4,$x="w:"+Wx,zx="FIS_v2",OG="https://firebaseinstallations.googleapis.com/v1",xG=60*60*1e3,PG="installations",kG="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao,DG=(ao={},ao["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ao["not-registered"]="Firebase Installation is not registered.",ao["installation-not-found"]="Firebase Installation not found.",ao["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',ao["app-offline"]="Could not process request. Application offline.",ao["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",ao),Vi=new Po(PG,kG,DG);function Kx(e){return e instanceof _u&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(e){var t=e.projectId;return OG+"/projects/"+t+"/installations"}function Qx(e){return{token:e.token,requestStatus:2,expiresIn:LG(e.expiresIn),creationTime:Date.now()}}function p0(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Vi.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function Yx(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Xx(e,t){var n=t.refreshToken,r=Yx(e);return r.append("Authorization",MG(n)),r}function d0(e){return N(this,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function LG(e){return Number(e.replace("s","000"))}function MG(e){return zx+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(e,t){var n=t.fid;return N(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return C(this,function(d){switch(d.label){case 0:return r=h0(e),i=Yx(e),s={fid:n,authVersion:zx,appId:e.appId,sdkVersion:$x},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,d0(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:Qx(l.authToken)},[2,h];case 3:return[4,p0("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UG(e){var t=btoa(String.fromCharCode.apply(String,Hi(e)));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jG=/^[cdef][\w-]{21}$/,Yy="";function VG(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=BG(e);return jG.test(n)?n:Yy}catch{return Yy}}function BG(e){var t=UG(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pu=new Map;function Zx(e,t){var n=xu(e);tP(n,t),WG(n,t)}function qG(e,t){eP();var n=xu(e),r=pu.get(n);r||(r=new Set,pu.set(n,r)),r.add(t)}function HG(e,t){var n=xu(e),r=pu.get(n);r&&(r.delete(t),r.size===0&&pu.delete(n),nP())}function tP(e,t){var n,r,i=pu.get(e);if(i)try{for(var s=Ie(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(t)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function WG(e,t){var n=eP();n&&n.postMessage({key:e,fid:t}),nP()}var ys=null;function eP(){return!ys&&"BroadcastChannel"in self&&(ys=new BroadcastChannel("[Firebase] FID Change"),ys.onmessage=function(e){tP(e.data.key,e.data.fid)}),ys}function nP(){pu.size===0&&ys&&(ys.close(),ys=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GG="firebase-installations-database",$G=1,Ds="firebase-installations-store",Lm=null;function v0(){return Lm||(Lm=f0(GG,$G,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ds)}})),Lm}function Ep(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return C(this,function(c){switch(c.label){case 0:return n=xu(e),[4,v0()];case 1:return r=c.sent(),i=r.transaction(Ds,"readwrite"),s=i.objectStore(Ds),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(t,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==t.fid)&&Zx(e,t.fid),[2,t]}})})}function g0(e){return N(this,void 0,void 0,function(){var t,n,r;return C(this,function(i){switch(i.label){case 0:return t=xu(e),[4,v0()];case 1:return n=i.sent(),r=n.transaction(Ds,"readwrite"),[4,r.objectStore(Ds).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Xl(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,c;return C(this,function(l){switch(l.label){case 0:return n=xu(e),[4,v0()];case 1:return r=l.sent(),i=r.transaction(Ds,"readwrite"),s=i.objectStore(Ds),[4,s.get(n)];case 2:return a=l.sent(),c=t(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&Zx(e,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e){return N(this,void 0,void 0,function(){var t,n,r;return C(this,function(i){switch(i.label){case 0:return[4,Xl(e,function(s){var a=zG(s),c=KG(e,a);return t=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==Yy?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function zG(e){var t=e||{fid:VG(),registrationStatus:0};return rP(t)}function KG(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Vi.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=QG(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:YG(e)}:{installationEntry:t}}function QG(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,FG(e,t)];case 1:return n=i.sent(),[2,Ep(e,n)];case 2:return r=i.sent(),Kx(r)&&r.customData.serverCode===409?[4,g0(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Ep(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function YG(e){return N(this,void 0,void 0,function(){var t,n,r,i;return C(this,function(s){switch(s.label){case 0:return[4,dC(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,Jx(100)];case 3:return s.sent(),[4,dC(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,m0(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function dC(e){return Xl(e,function(t){if(!t)throw Vi.create("installation-not-found");return rP(t)})}function rP(e){return XG(e)?{fid:e.fid,registrationStatus:0}:e}function XG(e){return e.registrationStatus===1&&e.registrationTime+Gx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return N(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return C(this,function(m){switch(m.label){case 0:return i=ZG(n,t),s=Xx(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:$x}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,d0(function(){return fetch(i,l)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=m.sent(),v=Qx(d),[2,v];case 3:return[4,p0("Generate Auth Token",h)];case 4:throw m.sent()}})})}function ZG(e,t){var n=t.fid;return h0(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(e,t){return t===void 0&&(t=!1),N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return[4,Xl(e.appConfig,function(c){if(!iP(c))throw Vi.create("not-registered");var l=c.authToken;if(!t&&n$(l))return c;if(l.requestStatus===1)return n=t$(e,t),c;if(!navigator.onLine)throw Vi.create("app-offline");var h=i$(c);return n=e$(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function t$(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return[4,vC(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,Jx(100)];case 3:return i.sent(),[4,vC(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,y0(e,t)]:[2,r]}})})}function vC(e){return Xl(e,function(t){if(!iP(t))throw Vi.create("not-registered");var n=t.authToken;return o$(n)?te(te({},t),{authToken:{requestStatus:0}}):t})}function e$(e,t){return N(this,void 0,void 0,function(){var n,i,r,i;return C(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,JG(e,t)];case 1:return n=s.sent(),i=te(te({},t),{authToken:n}),[4,Ep(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),Kx(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,g0(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=te(te({},t),{authToken:{requestStatus:0}}),[4,Ep(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function iP(e){return e!==void 0&&e.registrationStatus===2}function n$(e){return e.requestStatus===2&&!r$(e)}function r$(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+xG}function i$(e){var t={requestStatus:1,requestTime:Date.now()};return te(te({},e),{authToken:t})}function o$(e){return e.requestStatus===1&&e.requestTime+Gx<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(e){return N(this,void 0,void 0,function(){var t,n,r;return C(this,function(i){switch(i.label){case 0:return[4,m0(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):y0(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(e,t){return t===void 0&&(t=!1),N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,u$(e.appConfig)];case 1:return r.sent(),[4,y0(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function u$(e){return N(this,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:return[4,m0(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c$(e,t){return N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return n=l$(e,t),r=Xx(e,t),i={method:"DELETE",headers:r},[4,d0(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,p0("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function l$(e,t){var n=t.fid;return h0(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(e){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Xl(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Vi.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Vi.create("app-offline");case 3:return[4,c$(t,n)];case 4:return r.sent(),[4,g0(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(e,t){var n=e.appConfig;return qG(n,t),function(){HG(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(e){var t,n;if(!e||!e.options)throw Mm("App Configuration");if(!e.name)throw Mm("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Ie(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw Mm(a)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Mm(e){return Vi.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d$(e){var t="installations";e.INTERNAL.registerComponent(new zn(t,function(n){var r=n.getProvider("app").getImmediate(),i=p$(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return s$(a)},getToken:function(l){return a$(a,l)},delete:function(){return f$(a)},onIdChange:function(l){return h$(a,l)}};return c},"PUBLIC")),e.registerVersion(RG,Wx)}d$(at);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,v$=(Le={},Le["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Le["only-available-in-window"]="This method is available in a Window context.",Le["only-available-in-sw"]="This method is available in a service worker context.",Le["permission-default"]="The notification permission was not granted and dismissed instead.",Le["permission-blocked"]="The notification permission was not granted and blocked instead.",Le["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Le["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Le["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Le["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Le["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Le["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Le["token-update-no-token"]="FCM returned no token when updating the user to push.",Le["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Le["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Le["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Le["invalid-vapid-key"]="The public VAPID key must be a string.",Le["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Le),Kt=new Po("messaging","Messaging",v$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g$="/firebase-messaging-sw.js",m$="/firebase-cloud-messaging-push-scope",Ip="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",y$="https://fcmregistrations.googleapis.com/v1",oP="FCM_MSG",_$="FirebaseMessaging: ",w$="google.c.a.e",sP="google.c.a.c_id",b$="google.c.a.ts",E$="google.c.a.c_l",I$=1e3,T$=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Ls;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(Ls||(Ls={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,Hi(t)));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S$(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fm="fcm_token_details_db",A$=5,gC="fcm_token_object_Store";function C$(e){return N(this,void 0,void 0,function(){var t,n,r,i,s=this;return C(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(c){return c.name}),!n.includes(Fm))return[2,null];a.label=2;case 2:return r=null,[4,f0(Fm,A$,function(c){return N(s,void 0,void 0,function(){var l,h,d,d,d,v;return C(this,function(m){switch(m.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(gC)?(l=c.transaction.objectStore(gC),[4,l.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,l.clear()];case 2:if(m.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Ni(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ni(d.auth),p256dh:Ni(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ni(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ni(d.auth),p256dh:Ni(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ni(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,Dm(Fm)];case 4:return a.sent(),[4,Dm("fcm_vapid_details_db")];case 5:return a.sent(),[4,Dm("undefined")];case 6:return a.sent(),[2,N$(r)?r:null]}})})}function N$(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R$="firebase-messaging-database",O$=1,Ms="firebase-messaging-store",Um=null;function _0(){return Um||(Um=f0(R$,O$,function(e){switch(e.oldVersion){case 0:e.createObjectStore(Ms)}})),Um}function Tp(e){return N(this,void 0,void 0,function(){var t,n,r,i;return C(this,function(s){switch(s.label){case 0:return t=b0(e),[4,_0()];case 1:return n=s.sent(),[4,n.transaction(Ms).objectStore(Ms).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,C$(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,w0(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function w0(e,t){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:return n=b0(e),[4,_0()];case 1:return r=s.sent(),i=r.transaction(Ms,"readwrite"),[4,i.objectStore(Ms).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function x$(e){return N(this,void 0,void 0,function(){var t,n,r;return C(this,function(i){switch(i.label){case 0:return t=b0(e),[4,_0()];case 1:return n=i.sent(),r=n.transaction(Ms,"readwrite"),[4,r.objectStore(Ms).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function b0(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:return[4,I0(e)];case 1:n=h.sent(),r=uP(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(E0(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),Kt.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,Kt.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw Kt.create("token-subscribe-no-token");return[2,s.token]}})})}function k$(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:return[4,I0(e)];case 1:n=h.sent(),r=uP(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(E0(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),Kt.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,Kt.create("token-update-failed",{errorInfo:l});if(!s.token)throw Kt.create("token-update-no-token");return[2,s.token]}})})}function aP(e,t){return N(this,void 0,void 0,function(){var n,r,i,s,a,c;return C(this,function(l){switch(l.label){case 0:return[4,I0(e)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(E0(e.appConfig)+"/"+t,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,Kt.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),Kt.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function E0(e){var t=e.projectId;return y$+"/projects/"+t+"/registrations"}function I0(e){var t=e.appConfig,n=e.installations;return N(this,void 0,void 0,function(){var r;return C(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function uP(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==Ip&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D$=7*24*60*60*1e3;function Xy(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw Kt.create("permission-blocked");return[4,M$(t,n)];case 1:return r=c.sent(),[4,Tp(e)];case 2:return i=c.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Ni(r.getKey("auth")),p256dh:Ni(r.getKey("p256dh"))},i?[3,3]:[2,mC(e,s)];case 3:if(F$(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,aP(e,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,mC(e,s)];case 8:return Date.now()>=i.createTime+D$?[2,L$({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function qc(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return[4,Tp(e)];case 1:return n=i.sent(),n?[4,aP(e,n.token)]:[3,4];case 2:return i.sent(),[4,x$(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function L$(e,t,n){return N(this,void 0,void 0,function(){var r,i,s;return C(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,k$(t,e)];case 1:return r=a.sent(),i=te(te({},e),{token:r,createTime:Date.now()}),[4,w0(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,qc(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function mC(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return[4,P$(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,w0(e,r)];case 2:return i.sent(),[2,r.token]}})})}function M$(e,t){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:S$(t)})]}})})}function F$(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U$(e){var t={from:e.from,collapseKey:e.collapse_key};return j$(t,e),V$(t,e),B$(t,e),t}function j$(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function V$(e,t){t.data&&(e.data=t.data)}function B$(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(e){return typeof e=="object"&&!!e&&sP in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q$=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Kt.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return N(this,void 0,void 0,function(){var r;return C(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,Tp(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:Ip,i.label=2;case 2:return[2,Xy(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return qc(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Kt.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Kt.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Kt.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Kt.create("only-available-in-window")},e.prototype.onMessage=function(){throw Kt.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Kt.create("only-available-in-window")},e.prototype.onPush=function(t){return N(this,void 0,void 0,function(){var n,r,i,s;return C(this,function(a){switch(a.label){case 0:return n=W$(t),n?[4,lP()]:(console.debug(_$+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),$$(r)?[2,z$(r,n)]:(i=!1,n.notification?[4,K$(H$(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=U$(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,yC(I$)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return N(this,void 0,void 0,function(){var i,s;return C(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,qc(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,Tp(this.firebaseDependencies)];case 3:return s=a.sent(),[4,qc(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,Xy(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Ip)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return N(this,void 0,void 0,function(){var i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[oP],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=Q$(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,G$(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,yC(T$)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=Ls.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},e}();function H$(e){var t,n=te({},e.notification);return n.data=(t={},t[oP]=e,t),n}function W$(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function G$(e){return N(this,void 0,void 0,function(){var t,n,r,i,s,a,c;return C(this,function(l){switch(l.label){case 0:return[4,lP()];case 1:t=l.sent();try{for(n=Ie(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function $$(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function z$(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Ls.PUSH_RECEIVED;try{for(var i=Ie(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function lP(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function K$(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function Q$(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(cP(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y$=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Ls.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(J$(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,cP(r)&&r[w$]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return N(this,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Kt.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,Xy(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return N(this,void 0,void 0,function(){return C(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=Ip),[2]})})},e.prototype.updateSwReg=function(t){return N(this,void 0,void 0,function(){return C(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(g$,{scope:m$})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Kt.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return N(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,qc(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return N(this,void 0,void 0,function(){var t;return C(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Kt.create("permission-blocked"):Kt.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Kt.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Kt.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Kt.create("invalid-sw-registration");if(this.swRegistration)throw Kt.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Kt.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Kt.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return N(this,void 0,void 0,function(){var r,i;return C(this,function(s){switch(s.label){case 0:return r=X$(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[sP],message_name:n[E$],message_time:n[b$],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function X$(e){switch(e){case Ls.NOTIFICATION_CLICKED:return"notification_open";case Ls.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function J$(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(e){var t,n;if(!e||!e.options)throw jm("App Configuration Object");if(!e.name)throw jm("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=Ie(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw jm(c)}}catch(l){t={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function jm(e){return Kt.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tz="messaging";function ez(e){var t=e.getProvider("app").getImmediate(),n=Z$(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!fP())throw Kt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new q$(s):new Y$(s)}var nz={isSupported:fP};at.INTERNAL.registerComponent(new zn(tz,ez,"PUBLIC").setServiceProps(nz));function fP(){return self&&"ServiceWorkerGlobalScope"in self?iz():rz()}function rz(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function iz(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hP="firebasestorage.googleapis.com",pP="storageBucket",oz=2*60*1e3,sz=10*60*1e3,Ae=function(e){J(t,e);function t(n,r){var i=e.call(this,Vm(n),"Firebase Storage: "+r+" ("+Vm(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,t.prototype),i}return t.prototype.codeEquals=function(n){return Vm(n)===this.code},Object.defineProperty(t.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),t}(_u),ve={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function Vm(e){return"storage/"+e}function T0(){var e="An unknown error occurred, please check the error payload for server response.";return new Ae(ve.UNKNOWN,e)}function az(e){return new Ae(ve.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function uz(e){return new Ae(ve.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function cz(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ae(ve.UNAUTHENTICATED,e)}function lz(e){return new Ae(ve.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function fz(){return new Ae(ve.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dP(){return new Ae(ve.CANCELED,"User canceled the upload/download.")}function hz(e){return new Ae(ve.INVALID_URL,"Invalid URL '"+e+"'.")}function pz(e){return new Ae(ve.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function dz(){return new Ae(ve.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pP+"' property when initializing the app?")}function vP(){return new Ae(ve.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function vz(){return new Ae(ve.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function gz(){return new Ae(ve.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Hc(e){return new Ae(ve.INVALID_ARGUMENT,e)}function gP(){return new Ae(ve.APP_DELETED,"The Firebase app was deleted.")}function mP(e){return new Ae(ve.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wc(e,t){return new Ae(ve.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function vh(e){throw new Ae(ve.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Bm=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function yP(e,t){switch(e){case ir.RAW:return new Bm(_P(t));case ir.BASE64:case ir.BASE64URL:return new Bm(wP(e,t));case ir.DATA_URL:return new Bm(yz(t),_z(t))}throw T0()}function _P(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function mz(e){var t;try{t=decodeURIComponent(e)}catch{throw Wc(ir.DATA_URL,"Malformed data URL.")}return _P(t)}function wP(e,t){switch(e){case ir.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw Wc(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case ir.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw Wc(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(t)}catch{throw Wc(e,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var bP=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Wc(ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=wz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function yz(e){var t=new bP(e);return t.base64?wP(ir.BASE64,t.rest):mz(t.rest)}function _z(e){var t=new bP(e);return t.contentType}function wz(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bz={STATE_CHANGED:"state_changed"},At={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Nn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qm(e){switch(e){case At.RUNNING:case At.PAUSING:case At.CANCELING:return Nn.RUNNING;case At.PAUSED:return Nn.PAUSED;case At.SUCCESS:return Nn.SUCCESS;case At.CANCELED:return Nn.CANCELED;case At.ERROR:return Nn.ERROR;default:return Nn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var As;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(As||(As={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ez=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=As.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=As.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=As.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw vh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw vh("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw vh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw vh("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iz=function(){function e(){}return e.prototype.createXhrIo=function(){return new Ez},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(e){return e!==void 0}function Sz(e){return typeof e=="function"}function Az(e){return typeof e=="object"&&!Array.isArray(e)}function yd(e){return typeof e=="string"||e instanceof String}function _C(e){return S0()&&e instanceof Blob}function S0(){return typeof Blob<"u"}function Jy(e,t,n,r){if(r<t)throw new Ae(ve.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw new Ae(ve.INVALID_ARGUMENT,"Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Nz(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Cz();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(S0())return new Blob(e);throw new Ae(ve.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Rz(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A0=function(){function e(t,n){var r=0,i="";_C(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(_C(this.data_)){var r=this.data_,i=Rz(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(S0()){var r=t.map(function(l){return l instanceof e?l.data_:l});return new e(Nz.apply(null,r))}else{var i=t.map(function(l){return yd(l)?yP(ir.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch{return new e(t,"")}if(n.path==="")return n;throw pz(t)},e.makeFromUrl=function(t){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(Gt){Gt.path.charAt(Gt.path.length-1)==="/"&&(Gt.path_=Gt.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(Gt){Gt.path_=decodeURIComponent(Gt.path)}for(var h="v[A-Za-z0-9_]+",d=hP.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp("^https?://"+d+"/"+h+"/b/"+r+"/o"+v,"i"),y={bucket:1,path:3},b="(?:storage.googleapis.com|storage.cloud.google.com)",E="([^?#]*)",I=new RegExp("^https?://"+b+"/"+r+"/"+E,"i"),R={bucket:1,path:2},P=[{regex:a,indices:c,postModify:i},{regex:m,indices:y,postModify:l},{regex:I,indices:R,postModify:l}],D=0;D<P.length;D++){var F=P[D],Y=F.regex.exec(t);if(Y){var U=Y[F.indices.bucket],_t=Y[F.indices.path];_t||(_t=""),n=new e(U,_t),F.postModify(n);break}}if(n==null)throw hz(t);return n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(e){var t;try{t=JSON.parse(e)}catch{return null}return Az(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oz(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function xz(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function EP(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(e){return"https://"+hP+"/v0"+e}function IP(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(e,t){return t}var Tn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Pz}return e}(),gh=null;function kz(e){return!yd(e)||e.length<2?e:EP(e)}function _d(){if(gh)return gh;var e=[];e.push(new Tn("bucket")),e.push(new Tn("generation")),e.push(new Tn("metageneration")),e.push(new Tn("name","fullPath",!0));function t(s,a){return kz(a)}var n=new Tn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Tn("size");return i.xform=r,e.push(i),e.push(new Tn("timeCreated")),e.push(new Tn("updated")),e.push(new Tn("md5Hash",null,!0)),e.push(new Tn("cacheControl",null,!0)),e.push(new Tn("contentDisposition",null,!0)),e.push(new Tn("contentEncoding",null,!0)),e.push(new Tn("contentLanguage",null,!0)),e.push(new Tn("contentType",null,!0)),e.push(new Tn("metadata","customMetadata",!0)),gh=e,gh}function Dz(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Dr(r,i);return t.makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Lz(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return Dz(r,e),r}function TP(e,t,n){var r=C0(t);if(r===null)return null;var i=r;return Lz(e,i,n)}function Mz(e,t){var n=C0(t);if(n===null||!yd(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(c){var l=e.bucket,h=e.fullPath,d="/b/"+i(l)+"/o/"+i(h),v=Fo(d),m=IP({alt:"media",token:c});return v+m});return a[0]}function N0(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wC="prefixes",bC="items";function Fz(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[wC])for(var i=0,s=n[wC];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=e.makeStorageReference(new Dr(t,c));r.prefixes.push(l)}if(n[bC])for(var h=0,d=n[bC];h<d.length;h++){var v=d[h],l=e.makeStorageReference(new Dr(t,v.name));r.items.push(l)}return r}function Uz(e,t,n){var r=C0(n);if(r===null)return null;var i=r;return Fz(e,t,i)}var $i=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(e){if(!e)throw T0()}function wd(e,t){function n(r,i){var s=TP(e,i,t);return ci(s!==null),s}return n}function jz(e,t){function n(r,i){var s=Uz(e,t,i);return ci(s!==null),s}return n}function Vz(e,t){function n(r,i){var s=TP(e,i,t);return ci(s!==null),Mz(s,i)}return n}function Pu(e){function t(n,r){var i;return n.getStatus()===401?i=cz():n.getStatus()===402?i=uz(e.bucket):n.getStatus()===403?i=lz(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function bd(e){var t=Pu(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=az(e.path)),s.serverResponse=i.serverResponse,s}return n}function SP(e,t,n){var r=t.fullServerUrl(),i=Fo(r),s="GET",a=e.maxOperationRetryTime,c=new $i(i,s,wd(e,n),a);return c.errorHandler=bd(t),c}function Bz(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),c=Fo(a),l="GET",h=e.maxOperationRetryTime,d=new $i(c,l,jz(e,t.bucket),h);return d.urlParams=s,d.errorHandler=Pu(t),d}function qz(e,t,n){var r=t.fullServerUrl(),i=Fo(r),s="GET",a=e.maxOperationRetryTime,c=new $i(i,s,Vz(e,n),a);return c.errorHandler=bd(t),c}function Hz(e,t,n,r){var i=t.fullServerUrl(),s=Fo(i),a="PATCH",c=N0(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new $i(s,a,wd(e,r),h);return d.headers=l,d.body=c,d.errorHandler=bd(t),d}function Wz(e,t){var n=t.fullServerUrl(),r=Fo(n),i="DELETE",s=e.maxOperationRetryTime;function a(l,h){}var c=new $i(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=bd(t),c}function Gz(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function AP(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=Gz(null,t)),r}function $z(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var D="",F=0;F<2;F++)D=D+Math.random().toString().slice(2);return D}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=AP(t,r,i),d=N0(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+l+"--",y=A0.getBlob(v,r,m);if(y===null)throw vP();var b={name:h.fullPath},E=Fo(s),I="POST",R=e.maxUploadRetryTime,P=new $i(E,I,wd(e,n),R);return P.urlParams=b,P.headers=a,P.body=y.uploadData(),P.errorHandler=Pu(t),P}var Sp=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function R0(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{ci(!1)}var r=t||["active"];return ci(!!n&&r.indexOf(n)!==-1),n}function zz(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=AP(t,r,i),c={name:a.fullPath},l=Fo(s),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=N0(a,n),m=e.maxUploadRetryTime;function y(E){R0(E);var I;try{I=E.getResponseHeader("X-Goog-Upload-URL")}catch{ci(!1)}return ci(yd(I)),I}var b=new $i(l,h,y,m);return b.urlParams=c,b.headers=d,b.body=v,b.errorHandler=Pu(t),b}function Kz(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=R0(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ci(!1)}v||ci(!1);var m=Number(v);return ci(!isNaN(m)),new Sp(m,r.size(),d==="final")}var a="POST",c=e.maxUploadRetryTime,l=new $i(n,a,s,c);return l.headers=i,l.errorHandler=Pu(t),l}var EC=256*1024;function Qz(e,t,n,r,i,s,a,c){var l=new Sp(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw vz();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,m=v+d,y=d===h?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":l.current},E=r.slice(v,m);if(E===null)throw vP();function I(F,Y){var U=R0(F,["active","final"]),_t=l.current+d,Gt=r.size(),lt;return U==="final"?lt=wd(t,s)(F,Y):lt=null,new Sp(_t,Gt,U==="final",lt)}var R="POST",P=t.maxUploadRetryTime,D=new $i(n,R,I,P);return D.headers=b,D.body=E.uploadData(),D.progressCallback=c||null,D.errorHandler=Pu(e),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yz=function(){function e(t,n,r){var i=Sz(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}(),Xz=function(){function e(t,n,r,i,s,a){this.bytesTransferred=t,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CP=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=_d(),this._resumable=this._shouldDoResumable(this._blob),this._state=At.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(ve.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(At.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(ve.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(At.ERROR))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state===At.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case At.RUNNING:t(r);break;case At.CANCELING:n._transition(At.CANCELED);break;case At.PAUSING:n._transition(At.PAUSED);break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n){var r=zz(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._uploadUrl=s,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r){var i=Kz(t._ref.storage,t._ref._location,n,t._blob),s=t._ref.storage.makeRequest(i,r);t._request=s,s.getPromise().then(function(a){a=a,t._request=void 0,t._updateProgress(a.current),t._needToFetchStatus=!1,a.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=EC*this._chunkMultiplier,r=new Sp(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=Qz(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(l){t._error=l,t._transition(At.ERROR);return}var c=t._ref.storage.makeRequest(a,s);t._request=c,c.getPromise().then(function(l){t._increaseMultiplier(),t._request=void 0,t._updateProgress(l.current),l.finalized?(t._metadata=l.metadata,t._transition(At.SUCCESS)):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=EC*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n){var r=SP(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._transition(At.SUCCESS)},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n){var r=$z(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(s){t._request=void 0,t._metadata=s,t._updateProgress(t._blob.size()),t._transition(At.SUCCESS)},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case At.CANCELING:this._state=t,this._request!==void 0&&this._request.cancel();break;case At.PAUSING:this._state=t,this._request!==void 0&&this._request.cancel();break;case At.RUNNING:var n=this._state===At.PAUSED;this._state=t,n&&(this._notifyObservers(),this._start());break;case At.PAUSED:this._state=t,this._notifyObservers();break;case At.CANCELED:this._error=dP(),this._state=t,this._notifyObservers();break;case At.ERROR:this._state=t,this._notifyObservers();break;case At.SUCCESS:this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case At.PAUSING:this._transition(At.PAUSED);break;case At.CANCELING:this._transition(At.CANCELED);break;case At.RUNNING:this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=qm(this._state);return new Xz(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new Yz(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(qm(this._state)){case Nn.SUCCESS:ba(this._resolve.bind(null,this.snapshot))();break;case Nn.CANCELED:case Nn.ERROR:var n=this._reject;ba(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=qm(this._state);switch(n){case Nn.RUNNING:case Nn.PAUSED:t.next&&ba(t.next.bind(t,this.snapshot))();break;case Nn.SUCCESS:t.complete&&ba(t.complete.bind(t))();break;case Nn.CANCELED:case Nn.ERROR:t.error&&ba(t.error.bind(t,this._error))();break;default:t.error&&ba(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state===At.PAUSED||this._state===At.PAUSING;return t&&this._transition(At.RUNNING),t},e.prototype.pause=function(){var t=this._state===At.RUNNING;return t&&this._transition(At.PAUSING),t},e.prototype.cancel=function(){var t=this._state===At.RUNNING||this._state===At.PAUSING;return t&&this._transition(At.CANCELING),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ed=function(){function e(t,n){this._service=t,n instanceof Dr?this._location=n:this._location=Dr.makeFromUrl(n)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype.newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Dr(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return EP(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=Oz(this._location.path);if(t===null)return null;var n=new Dr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw mP(t)},e}();function Jz(e,t,n){return n===void 0&&(n=null),e._throwIfRoot("uploadBytesResumable"),new CP(e,new A0(t),n)}function Zz(e,t,n,r){n===void 0&&(n=ir.RAW),e._throwIfRoot("putString");var i=yP(n,t),s=te({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new CP(e,new A0(i.data,!0),s)}function tK(e){var t={prefixes:[],items:[]};return NP(e,t).then(function(){return t})}function NP(e,t,n){return N(this,void 0,void 0,function(){var r,i,s,a;return C(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,RP(e,r)];case 1:return i=c.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,NP(e,t,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function RP(e,t){return N(this,void 0,void 0,function(){var n,r,i;return C(this,function(s){switch(s.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Jy("options.maxResults",1,1e3,t.maxResults),[4,e.storage.getAuthToken()];case 1:return n=s.sent(),r=t||{},i=Bz(e.storage,e._location,"/",r.pageToken,r.maxResults),[2,e.storage.makeRequest(i,n).getPromise()]}})})}function eK(e){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getMetadata"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=SP(e.storage,e._location,_d()),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function nK(e,t){return N(this,void 0,void 0,function(){var n,r;return C(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),[4,e.storage.getAuthToken()];case 1:return n=i.sent(),r=Hz(e.storage,e._location,t,_d()),[2,e.storage.makeRequest(r,n).getPromise()]}})})}function rK(e){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return e._throwIfRoot("getDownloadURL"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=qz(e.storage,e._location,_d()),[2,e.storage.makeRequest(n,t).getPromise().then(function(i){if(i===null)throw gz();return i})]}})})}function iK(e){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return e._throwIfRoot("deleteObject"),[4,e.storage.getAuthToken()];case 1:return t=r.sent(),n=Wz(e.storage,e._location),[2,e.storage.makeRequest(n,t).getPromise()]}})})}function OP(e,t){var n=xz(e._location.path,t),r=new Dr(e._location.bucket,n);return new Ed(e.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IC=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new mh(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new mh(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new mh(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new mh(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TC=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Al(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Al(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Al=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=OP(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new IC(Jz(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){return n===void 0&&(n=ir.RAW),this._throwIfRoot("putString"),new IC(Zz(this._delegate,t,n,r),this)},e.prototype.listAll=function(){var t=this;return tK(this._delegate).then(function(n){return new TC(n,t.storage)})},e.prototype.list=function(t){var n=this;return RP(this._delegate,t).then(function(r){return new TC(r,n.storage)})},e.prototype.getMetadata=function(){return eK(this._delegate)},e.prototype.updateMetadata=function(t){return nK(this._delegate,t)},e.prototype.getDownloadURL=function(){return rK(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),iK(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw mP(t)},e}(),oK=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(e,t,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];l||(l=!0,t.apply(null,b))}function d(b){i=setTimeout(function(){i=null,e(v,c())},b)}function v(b){for(var E=[],I=1;I<arguments.length;I++)E[I-1]=arguments[I];if(!l){if(b){h.call.apply(h,Se([null,b],E));return}var R=c()||s;if(R){h.call.apply(h,Se([null,b],E));return}r<64&&(r*=2);var P;a===1?(a=2,P=0):P=(r+Math.random())*1e3,d(P)}}var m=!1;function y(b){m||(m=!0,!l&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function aK(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uK=function(){function e(t,n,r,i,s,a,c,l,h,d,v){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,b){m.resolve_=y,m.reject_=b,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new yh(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(l){t.progressCallback_!==null&&l.removeUploadProgressListener(c),t.pendingXhr_=null,l=l;var h=l.getErrorCode()===As.NO_ERROR,d=l.getStatus();if(!h||t.isRetryStatusCode_(d)){var v=l.getErrorCode()===As.ABORT;i(!1,new yh(!1,null,v));return}var m=t.successCodes_.indexOf(d)!==-1;i(!0,new yh(m,l))})}function r(i,s){var a=t.resolve_,c=t.reject_,l=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(l,l.getResponseText());Tz(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=T0();d.serverResponse=l.getResponseText(),t.errorCallback_?c(t.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=t.appDelete_?gP():dP();c(d)}else{var d=fz();c(d)}}this.canceled_?r(!1,new yh(!1,null,!0)):this.backoffId_=sK(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&aK(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),yh=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function cK(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function lK(e){var t=typeof at<"u"?at.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}function fK(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hK(e,t,n,r){var i=IP(e.urlParams),s=e.url+i,a=Object.assign({},e.headers);return fK(a,t),cK(a,n),lK(a),new uK(s,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(e){return/^[A-Za-z]+:\/\//.test(e)}function pK(e,t){return new Ed(e,t)}function xP(e,t){if(e instanceof Id){var n=e;if(n._bucket==null)throw dz();var r=new Ed(n,n._bucket);return t!=null?xP(r,t):r}else if(t!==void 0){if(t.includes(".."))throw Hc('`path` param cannot contain ".."');return OP(e,t)}else return e}function SC(e,t){if(t&&Zy(t)){if(e instanceof Id)return pK(e,t);throw Hc("To use ref(service, url), the first argument must be a Storage instance.")}else return xP(e,t)}function dK(e){var t=e==null?void 0:e[pP];return t==null?null:Dr.makeFromBucketSpec(t)}var Id=function(){function e(t,n,r,i){this.app=t,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oz,this._maxUploadRetryTime=sz,this._requests=new Set,i!=null?this._bucket=Dr.makeFromBucketSpec(i):this._bucket=dK(this.app.options)}return Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Jy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Jy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype.getAuthToken=function(){return N(this,void 0,void 0,function(){var t,n;return C(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype.makeStorageReference=function(t){return new Ed(this,t)},e.prototype.makeRequest=function(t,n){var r=this;if(this._deleted)return new oK(gP());var i=hK(t,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vK=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Zy(t))throw Hc("ref() expected a child path but got a URL, use refFromURL instead.");return new Al(SC(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Zy(t))throw Hc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Dr.makeFromUrl(t)}catch{throw Hc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Al(SC(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e}(),gK="@firebase/storage",mK="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yK="storage";function _K(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=new vK(n,new Id(n,r,new Iz,t));return i}function wK(e){var t={TaskState:Nn,TaskEvent:bz,StringFormat:ir,Storage:Id,Reference:Al};e.INTERNAL.registerComponent(new zn(yK,_K,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(gK,mK)}wK(at);var bK="@firebase/performance",PP="0.4.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kP=PP,EK="FB-PERF-TRACE-START",IK="FB-PERF-TRACE-STOP",t_="FB-PERF-TRACE-MEASURE",DP="_wt_",LP="_fp",MP="_fcp",FP="_fid",UP="@firebase/performance/config",jP="@firebase/performance/configexpire",TK="performance",VP="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,SK=(nn={},nn["trace started"]="Trace {$traceName} was started before.",nn["trace stopped"]="Trace {$traceName} is not running.",nn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",nn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",nn["no window"]="Window is not available.",nn["no app id"]="App id is not available.",nn["no project id"]="Project id is not available.",nn["no api key"]="Api key is not available.",nn["invalid cc log"]="Attempted to queue invalid cc event",nn["FB not default"]="Performance can only start when Firebase app instance is the default one.",nn["RC response not ok"]="RC response is not ok",nn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",nn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",nn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",nn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",nn),ln=new Po(TK,VP,SK);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi=new wu(VP);Bi.logLevel=Rt.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hm,BP,yn=function(){function e(t){if(this.window=t,!t)throw ln.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Bi.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):O_()?!0:(Bi.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return Hm===void 0&&(Hm=new e(BP)),Hm},e}();function AK(e){BP=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(e,t){var n=e.length-t.length;if(n<0||n>1)throw ln.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wm,je=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=AC("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=AC("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw ln.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw ln.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw ln.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return Wm===void 0&&(Wm=new e),Wm},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qP;function CK(){var e=je.getInstance().installationsService.getId();return e.then(function(t){qP=t}),e}function O0(){return qP}function NK(){var e=je.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Va;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Va||(Va={}));var RK=["firebase_","google_","ga_"],OK=new RegExp("^[a-zA-Z]\\w*$"),xK=40,PK=100;function kK(){var e=yn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function HP(){var e=yn.getInstance().document,t=e.visibilityState;switch(t){case"visible":return Va.VISIBLE;case"hidden":return Va.HIDDEN;default:return Va.UNKNOWN}}function DK(){var e=yn.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function LK(e){if(e.length===0||e.length>xK)return!1;var t=RK.some(function(n){return e.startsWith(n)});return!t&&!!e.match(OK)}function MK(e){return e.length!==0&&e.length<=PK}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FK="0.0.1",UK={loggingEnabled:!0},jK="FIREBASE_INSTALLATIONS_AUTH";function VK(e){var t=BK();return t?(CC(t),Promise.resolve()):WK(e).then(CC).then(function(n){return qK(n)},function(){})}function BK(){var e=yn.getInstance().localStorage;if(e){var t=e.getItem(jP);if(!(!t||!GK(t))){var n=e.getItem(UP);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function qK(e){var t=yn.getInstance().localStorage;!e||!t||(t.setItem(UP,JSON.stringify(e)),t.setItem(jP,String(Date.now()+je.getInstance().configTimeToLive*60*60*1e3)))}var HK="Could not fetch config, will use default configs";function WK(e){return NK().then(function(t){var n=je.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+je.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:jK+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:je.getInstance().getAppId(),app_version:kP,sdk_version:FK})});return fetch(i).then(function(s){if(s.ok)return s.json();throw ln.create("RC response not ok")})}).catch(function(){Bi.info(HK)})}function CC(e){if(!e)return e;var t=je.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=UK.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=NC(t.tracesSamplingRate),t.logNetworkAfterSampling=NC(t.networkRequestsSamplingRate),e}function GK(e){return Number(e)>Date.now()}function NC(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x0=1,Gm;function WP(){return x0=2,Gm=Gm||zK(),Gm}function $K(){return x0===3}function zK(){return KK().then(function(){return CK()}).then(function(e){return VK(e)}).then(function(){return RC()},function(){return RC()})}function KK(){var e=yn.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function RC(){x0=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P0=10*1e3,QK=5.5*1e3,GP=3,YK=1e3,Ap=GP,Io=[],OC=!1;function XK(){OC||(Td(QK),OC=!0)}function Td(e){setTimeout(function(){if(Ap!==0){if(!Io.length)return Td(P0);JK()}},e)}function JK(){var e=Io.splice(0,YK),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:je.getInstance().logSource,log_event:t};ZK(n,e).catch(function(){Io=Se(e,Io),Ap--,Bi.info("Tries left: "+Ap+"."),Td(P0)})}function ZK(e,t){return t6(e).then(function(n){return n.ok||Bi.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=P0;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Io=Se(t,Io),Bi.info("Retry transport request later.")),Ap=GP,Td(i)})}function t6(e){var t=je.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function e6(e){if(!e.eventTime||!e.message)throw ln.create("invalid cc log");Io=Se(Io,[e])}function n6(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);e6({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $m;function $P(e,t){$m||($m=n6(i6)),$m(e,t)}function _h(e){var t=je.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||yn.getInstance().requiredApisAvailable()&&(e.isAuto&&HP()!==Va.VISIBLE||($K()?zm(e):WP().then(function(){return zm(e)},function(){return zm(e)})))}function zm(e){if(O0()){var t=je.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return $P(e,1)},0)}}function r6(e){var t=je.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return $P(e,0)},0)}}function i6(e,t){return t===0?o6(e):s6(e)}function o6(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:zP(),network_request_metric:t};return JSON.stringify(n)}function s6(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:zP(),trace_metric:t};return JSON.stringify(r)}function zP(){return{google_app_id:je.getInstance().getAppId(),app_instance_id:O0(),web_app_info:{sdk_version:kP,page_url:yn.getInstance().getUrl(),service_worker_status:kK(),visibility_state:HP(),effective_connection_type:DK()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a6=100,u6="_",c6=[LP,MP,FP];function l6(e,t){return e.length===0||e.length>a6?!1:t&&t.startsWith(DP)&&c6.indexOf(e)>-1||!e.startsWith(u6)}function f6(e){var t=Math.floor(e);return t<e&&Bi.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gc=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=yn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=EK+"-"+this.randomId+"-"+this.name,this.traceStopMark=IK+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||t_+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw ln.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw ln.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),_h(this)},e.prototype.record=function(t,n,r){if(t<=0)throw ln.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw ln.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=te({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}_h(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(l6(t,this.name))this.counters[t]=f6(n);else throw ln.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=LK(t),i=MK(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw ln.create("invalid attribute name",{attributeName:t});if(!i)throw ln.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return te({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=yn.getInstance().getUrl();if(i){var s=new e(DP+i,!0),a=Math.floor(yn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(LP,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(MP,Math.floor(d.startTime*1e3)),r&&s.putMetric(FP,Math.floor(r*1e3))}_h(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);_h(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=yn.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],c={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};r6(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h6=5e3;function PC(){O0()&&(setTimeout(function(){return d6()},0),setTimeout(function(){return p6()},0),setTimeout(function(){return v6()},0))}function p6(){for(var e=yn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];xC(i)}e.setupObserver("resource",xC)}function d6(){var e=yn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Gc.createOobTrace(t,n),r=void 0},h6);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Gc.createOobTrace(t,n,i))})}else Gc.createOobTrace(t,n)}function v6(){for(var e=yn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];kC(i)}e.setupObserver("measure",kC)}function kC(e){var t=e.name;t.substring(0,t_.length)!==t_&&Gc.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g6=function(){function e(t){this.app=t,yn.getInstance().requiredApisAvailable()&&x_().then(function(n){n&&(XK(),WP().then(PC,PC))}).catch(function(n){Bi.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Gc(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return je.getInstance().instrumentationEnabled},set:function(t){je.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return je.getInstance().dataCollectionEnabled},set:function(t){je.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m6="[DEFAULT]";function y6(e){var t=function(n,r){if(n.name!==m6)throw ln.create("FB not default");if(typeof window>"u")throw ln.create("no window");return AK(window),je.getInstance().firebaseAppInstance=n,je.getInstance().installationsService=r,new g6(n)};e.INTERNAL.registerComponent(new zn("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(bK,PP)}y6(at);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _6="firebase_id",w6="origin",b6=60*1e3,E6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KP="https://www.googletagmanager.com/gtag/js",_n;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(_n||(_n={}));var e_;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(e_||(e_={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a;return C(this,function(c){switch(c.label){case 0:return i&&i.global?(e(_n.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=c.sent(),a=te(te({},r),{send_to:s}),e(_n.EVENT,n,a),c.label=3;case 3:return[2]}})})}function T6(e,t,n,r){return N(this,void 0,void 0,function(){var i;return C(this,function(s){switch(s.label){case 0:return r&&r.global?(e(_n.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(_n.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function S6(e,t,n,r){return N(this,void 0,void 0,function(){var i;return C(this,function(s){switch(s.label){case 0:return r&&r.global?(e(_n.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(_n.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function A6(e,t,n,r){return N(this,void 0,void 0,function(){var i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return e(_n.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:l=h.sent(),e(_n.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function C6(e,t){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn=new wu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(e){var t=document.createElement("script");t.src=KP+"?l="+e,t.async=!0,document.head.appendChild(t)}function R6(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function O6(e,t,n,r,i,s){return N(this,void 0,void 0,function(){var a,c,l,h;return C(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,t[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),rn.error(h),[3,8];case 8:return e(_n.CONFIG,i,s),[2]}})})}function x6(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a,c,l,h,d,v,m,y;return C(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=b.sent(),l=function(E){var I=c.find(function(P){return P.measurementId===E}),R=I&&t[I.appId];if(R)s.push(R);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],m=l(v),m!=="break");h++);b.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return b.sent(),e(_n.EVENT,r,i||{}),[3,5];case 4:return y=b.sent(),rn.error(y),[3,5];case 5:return[2]}})})}function P6(e,t,n,r){function i(s,a,c){return N(this,void 0,void 0,function(){var l;return C(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==_n.EVENT?[3,2]:[4,x6(e,t,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==_n.CONFIG?[3,4]:[4,O6(e,t,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:e(_n.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),rn.error(l),[3,7];case 7:return[2]}})})}return i}function k6(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=P6(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function D6(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(KP))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ar,L6=(Ar={},Ar["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Ar["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Ar["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Ar["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ar["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Ar["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Ar["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Ar["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Ar["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',Ar),gr=new Po("analytics","Analytics",L6);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M6=30,F6=1e3,U6=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=F6),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),QP=new U6;function j6(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function V6(e){var t;return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return C(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:j6(r)},s=E6.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((t=l.error)===null||t===void 0)&&t.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw gr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function B6(e,t,n){return t===void 0&&(t=QP),N(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return C(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw gr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw gr.create("no-api-key")}return c=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new W6,setTimeout(function(){return N(h,void 0,void 0,function(){return C(this,function(v){return l.abort(),[2]})})},n!==void 0?n:b6),[2,YP({appId:i,apiKey:s,measurementId:a},c,l,t)]})})}function YP(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=QP),N(this,void 0,void 0,function(){var a,c,l,h,d,v,m;return C(this,function(y){switch(y.label){case 0:a=e.appId,c=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,q6(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return rn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,V6(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!H6(d)){if(r.deleteThrottleMetadata(a),c)return rn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?dy(s,r.intervalMillis,M6):dy(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),rn.debug("Calling attemptFetch again in "+v+" millis"),[2,YP(e,m,n,r)];case 7:return[2]}})})}function q6(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(gr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function H6(e){if(!(e instanceof _u)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var W6=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(){return N(this,void 0,void 0,function(){var e;return C(this,function(t){switch(t.label){case 0:return O_()?[3,1]:(rn.warn(gr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,x_()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),rn.warn(gr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function $6(e,t,n,r,i){return N(this,void 0,void 0,function(){var s,a,c,l,h,d,v;return C(this,function(m){switch(m.label){case 0:return s=B6(e),s.then(function(y){n[y.measurementId]=y.appId,e.options.measurementId&&y.measurementId!==e.options.measurementId&&rn.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return rn.error(y)}),t.push(s),a=G6().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return c=m.sent(),l=c[0],h=c[1],i("js",new Date),d=(v={},v[w6]="firebase",v.update=!0,v),h!=null&&(d[_6]=h),i(_n.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si={},DC=[],LC={},Lh="dataLayer",XP="gtag",MC,Ac,n_=!1;function z6(e){if(n_)throw gr.create("already-initialized");e.dataLayerName&&(Lh=e.dataLayerName),e.gtagName&&(XP=e.gtagName)}function K6(){var e=[];if(R_()&&e.push("This is a browser extension environment."),eN()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=gr.create("invalid-analytics-context",{errorInfo:t});rn.warn(n.message)}}function Q6(e,t){K6();var n=e.options.appId;if(!n)throw gr.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)rn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw gr.create("no-api-key");if(Si[n]!=null)throw gr.create("already-exists",{id:n});if(!n_){D6()||N6(Lh),R6(Lh);var r=k6(Si,DC,LC,Lh,XP),i=r.wrappedGtag,s=r.gtagCore;Ac=i,MC=s,n_=!0}Si[n]=$6(e,DC,LC,t,MC);var a={app:e,logEvent:function(c,l,h){I6(Ac,Si[n],c,l,h).catch(function(d){return rn.error(d)})},setCurrentScreen:function(c,l){T6(Ac,Si[n],c,l).catch(function(h){return rn.error(h)})},setUserId:function(c,l){S6(Ac,Si[n],c,l).catch(function(h){return rn.error(h)})},setUserProperties:function(c,l){A6(Ac,Si[n],c,l).catch(function(h){return rn.error(h)})},setAnalyticsCollectionEnabled:function(c){C6(Si[n],c).catch(function(l){return rn.error(l)})},INTERNAL:{delete:function(){return delete Si[n],Promise.resolve()}}};return a}var Y6="@firebase/analytics",X6="0.6.2",FC="analytics";function J6(e){e.INTERNAL.registerComponent(new zn(FC,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return Q6(r,i)},"PUBLIC").setServiceProps({settings:z6,EventName:e_,isSupported:Z6})),e.INTERNAL.registerComponent(new zn("analytics-internal",t,"PRIVATE")),e.registerVersion(Y6,X6);function t(n){try{var r=n.getProvider(FC).getImmediate();return{logEvent:r.logEvent}}catch(i){throw gr.create("interop-component-reg-failed",{reason:i})}}}J6(at);function Z6(){return N(this,void 0,void 0,function(){var e;return C(this,function(t){switch(t.label){case 0:if(R_())return[2,!1];if(!eN())return[2,!1];if(!O_())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,x_()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t5=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n,r,i,s,a;return C(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn,e5=(Sn={},Sn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Sn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Sn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Sn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Sn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Sn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Sn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Sn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Sn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Sn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Sn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Sn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Sn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Sn),vr=new Po("remoteconfig","Remote Config",e5);function n5(e,t){return e instanceof _u&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i5=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,m,y,b,E,I,R,P,D,F;return C(this,function(Y){switch(Y.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=Y.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:r5()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(U,_t){t.signal.addEventListener(function(){var Gt=new Error("The operation was aborted.");Gt.name="AbortError",_t(Gt)})}),Y.label=2;case 2:return Y.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return Y.sent(),[4,d];case 4:return m=Y.sent(),[3,6];case 5:throw y=Y.sent(),b="fetch-client-network",y.name==="AbortError"&&(b="fetch-timeout"),vr.create(b,{originalErrorMessage:y.message});case 6:if(E=m.status,I=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];D=void 0,Y.label=7;case 7:return Y.trys.push([7,9,,10]),[4,m.json()];case 8:return D=Y.sent(),[3,10];case 9:throw F=Y.sent(),vr.create("fetch-client-parse",{originalErrorMessage:F.message});case 10:R=D.entries,P=D.state,Y.label=11;case 11:if(P==="INSTANCE_STATE_UNSPECIFIED"?E=500:P==="NO_CHANGE"?E=304:(P==="NO_TEMPLATE"||P==="EMPTY_CONFIG")&&(R={}),E!==304&&E!==200)throw vr.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:I,config:R}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o5=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s5=!1,a5="",UC=0,u5=["1","true","t","yes","y","on"],Km=function(){function e(t,n){n===void 0&&(n=a5),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?s5:u5.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return UC;var t=Number(this._value);return isNaN(t)&&(t=UC),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c5=60*1e3,l5=12*60*60*1e3,f5=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:c5,minimumFetchIntervalMillis:l5},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Rt.DEBUG;break;case"silent":this._logger.logLevel=Rt.SILENT;break;default:this._logger.logLevel=Rt.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return N(this,void 0,void 0,function(){var t,n,r;return C(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return N(this,void 0,void 0,function(){var t,n,r,i=this;return C(this,function(s){switch(s.label){case 0:t=new o5,setTimeout(function(){return N(i,void 0,void 0,function(){return C(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=n5(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return N(this,void 0,void 0,function(){return C(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return h5(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new Km("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new Km("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new Km("static"))},e}();function h5(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(te(te({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(e,t){var n=e.target.error||void 0;return vr.create(t,{originalErrorMessage:n&&n.message})}var us="app_namespace_store",p5="firebase_remote_config",d5=1;function v5(){return new Promise(function(e,t){var n=indexedDB.open(p5,d5);n.onerror=function(r){t(Mh(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(us,{keyPath:"compositeKey"})}}})}var g5=function(){function e(t,n,r,i){i===void 0&&(i=v5()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return N(this,void 0,void 0,function(){var n,r=this;return C(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([us],"readonly"),l=c.objectStore(us),h=r.createCompositeKey(t);try{var d=l.get(h);d.onerror=function(v){a(Mh(v,"storage-get"))},d.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(vr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return N(this,void 0,void 0,function(){var r,i=this;return C(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([us],"readwrite"),h=l.objectStore(us),d=i.createCompositeKey(t);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(m){c(Mh(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){c(vr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return N(this,void 0,void 0,function(){var n,r=this;return C(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([us],"readwrite"),l=c.objectStore(us),h=r.createCompositeKey(t);try{var d=l.delete(h);d.onerror=function(v){a(Mh(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(vr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m5=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return N(this,void 0,void 0,function(){var t,n,r,i,s,a;return C(this,function(c){switch(c.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(vr.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function _5(e){if(!(e instanceof _u)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var w5=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return N(this,void 0,void 0,function(){var n;return C(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return N(this,void 0,void 0,function(){var s,a,c;return C(this,function(l){switch(l.label){case 0:return[4,y5(t.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!_5(a))throw a;return c={throttleEndTimeMillis:Date.now()+dy(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(t,c)];case 7:return[2]}})})},e}(),jC="@firebase/remote-config",b5="0.1.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(e){e.INTERNAL.registerComponent(new zn("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(jC,b5);function t(n,r){var i=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();if(typeof window>"u")throw vr.create("registration-window");var a=i.options,c=a.projectId,l=a.apiKey,h=a.appId;if(!c)throw vr.create("registration-project-id");if(!l)throw vr.create("registration-api-key");if(!h)throw vr.create("registration-app-id");r=r||"firebase";var d=new g5(h,i.name,r),v=new m5(d),m=new wu(jC);m.logLevel=Rt.ERROR;var y=new i5(s,e.SDK_VERSION,r,c,l,h),b=new w5(y,d),E=new t5(b,d,v,m),I=new f5(i,E,v,d,m);return I.ensureInitialized(),I}}E5(at);var I5="firebase",T5="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */at.registerVersion(I5,T5,"app");var S5="firebase",A5="8.2.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);at.registerVersion(S5,A5);const C5={apiKey:"AIzaSyBsTEvv_k5WEyjnQy0Cdhr5ZNyZe2N00js",authDomain:"twitter-clone-inflearn-10fc8.firebaseapp.com",projectId:"twitter-clone-inflearn-10fc8",storageBucket:"twitter-clone-inflearn-10fc8.appspot.com",messagingSenderId:"325557618636",appId:"1:325557618636:web:fe74e1dad3ca4f98af3f69",measurementId:"G-NT1D3TVGPK"};at.initializeApp(C5);const N5=at.auth();at.firestore();at.storage();const R5={setup(){const e=ri(""),t=ri(""),n=ri(""),r=ri(!1);return{username:e,email:t,password:n,loading:r,onRegister:async()=>{try{const s=N5.createUserWithEmailAndPassword(t.value,n.value);console.log(s)}catch(s){console.log("create user with email and password error:",s),alert(s.message)}}}}},O5={class:"flex flex-col items-center space-y-4 mt-10"},x5=rt("span",{class:"text-2xl font-bold"}," ",-1),P5=rt("button",{class:"text-primary"},"  ?  ",-1);function k5(e,t,n,r,i,s){const a=jr("router-link");return de(),Xe("div",O5,[rt("i",{class:vu(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),x5,Pc(rt("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>r.username=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[Lc,r.username]]),Pc(rt("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[Lc,r.email]]),Pc(rt("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[Lc,r.password]]),rt("button",{class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:t[3]||(t[3]=(...c)=>r.onRegister&&r.onRegister(...c))},""),ye(a,{to:"/login"},{default:Lp(()=>[P5]),_:1})])}const D5=_r(R5,[["render",k5]]),L5={setup(){const e=ri(""),t=ri(""),n=ri(""),r=ri(!1);return{username:e,email:t,password:n,loading:r,onLogin:()=>{console.log(e.value,t.value,n.value)}}}},M5={class:"flex flex-col items-center space-y-4 mt-10"},F5=rt("span",{class:"text-2xl font-bold"}," ",-1),U5=rt("button",{class:"text-primary"}," ?  ",-1);function j5(e,t,n,r,i,s){const a=jr("router-link");return de(),Xe("div",M5,[rt("i",{class:vu(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),F5,Pc(rt("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[Lc,r.email]]),Pc(rt("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>r.password=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[Lc,r.password]]),rt("button",{class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:t[2]||(t[2]=(...c)=>r.onLogin&&r.onLogin(...c))},""),ye(a,{to:"/register"},{default:Lp(()=>[U5]),_:1})])}const V5=_r(L5,[["render",j5]]),B5=[{path:"/",component:lS,title:"",icon:"fas fa-home fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/",component:lS,title:"",icon:"fas fa-hashtag fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/notifications",component:Gj,title:"",icon:"far fa-bell fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/Messages",component:om,title:"",icon:"far fa-envelope fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/",component:om,title:"",icon:"far fa-bookmark fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/",component:om,title:"",icon:"far fa-list-alt fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/Profile",component:fS,title:"",icon:"far fa-user fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/",component:fS,title:"",icon:"fas fa-ellipsis-h fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/register",component:D5,meta:{isMenu:!1,layout:"EmptyLayout"}},{path:"/login",component:V5,meta:{isMenu:!1,layout:"EmptyLayout"}}],JP=hj({history:NU(),routes:B5}),q5={setup(){const e=ri([]);return E1(()=>{e.value=JP.options.routes}),{routes:e}}},H5={class:"flex h-screen container mx-auto"},W5={class:"w-20 xl:w-1/4 pt-5 xl:ml-10 flex flex-col justify-between border-r border-gray-100"},G5={class:"flex flex-col items-center xl:items-start"},$5=rt("i",{class:"fab fa-twitter text-3xl text-primary xl:ml-4 mb-3"},null,-1),z5={class:"flex flex-col items-start space-y-1"},K5={key:0},Q5={class:"ml-5 text-xl hidden xl:inline-block"},Y5=rt("div",{class:"w-full xl:pr-3 flex justify-center"},[rt("button",{class:"mt-3 bg-primary text-white xl:w-full w-12 h-12 rounded-full hover:bg-dark"},[rt("span",{class:"hidden xl:block"},""),rt("i",{class:"fas fa-plus xl:hidden"})])],-1),X5=pi('<div class="xl:mr-3 mb-3"><button class="hidden xl:flex mt-3 px-2 py-1 w-full h-12 rounded-full hover:bg-blue-50 items-center"><img src="http://picsum.photos/100" class="w-10 h-10 rounded-full"><div class="xl:ml-2 hidden xl:block"><div class="text-sm font-bold">jjw.com</div><div class="text-xs text-gray-500 text-left">@jjw</div></div><i class="ml-auto fas fa-ellipsis-h fa-fw text-xs hidden xl:block"></i></button><div class="xl:hidden flex justify-center"><img src="http://picsum.photos/100" class="w-10 h-10 rounded-full cursor-pointer hover:opacity-80"></div></div>',1),J5={class:"flex-1 flex h-screen"};function Z5(e,t,n,r,i,s){const a=jr("router-link"),c=jr("router-view");return de(),Xe("div",H5,[rt("div",W5,[rt("div",G5,[$5,rt("div",z5,[(de(!0),Xe(Me,null,So(r.routes,l=>(de(),Cl(a,{to:l.path,class:"hover:text-primary hover:bg-blue-50 px-4 py-2 rounded-full cursor-pointer",key:l},{default:Lp(()=>[l.meta.isMenu?(de(),Xe("div",K5,[rt("i",{class:vu(l.icon)},null,2),rt("span",Q5,rF(l.title),1)])):O2("",!0)]),_:2},1032,["to"]))),128))]),Y5]),X5]),rt("div",J5,[ye(c)])])}const tQ=_r(q5,[["render",Z5]]),eQ={};function nQ(e,t,n,r,i,s){const a=jr("router-view");return de(),Cl(a)}const rQ=_r(eQ,[["render",nQ]]),iQ={components:{DefaultLayout:tQ,EmptyLayout:rQ},setup(){const e=dj();return{layout:pr(()=>e.meta.layout||"DefaultLayout")}}};function oQ(e,t,n,r,i,s){return de(),Cl(u2(r.layout))}const sQ=_r(iQ,[["render",oQ]]),aQ={components:{Layout:sQ}};function uQ(e,t,n,r,i,s){const a=jr("Layout");return de(),Cl(a)}const cQ=_r(aQ,[["render",uQ]]);cU(cQ).use(JP).mount("#app");
