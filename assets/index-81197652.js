var Yj=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var vre=Yj((mre,_p)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function T0(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const gt={},Bu=[],fi=()=>{},zj=()=>!1,Kj=/^on[^a-z]/,mv=t=>Kj.test(t),I0=t=>t.startsWith("onUpdate:"),mn=Object.assign,S0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Qj=Object.prototype.hasOwnProperty,Ke=(t,e)=>Qj.call(t,e),Ae=Array.isArray,qu=t=>yv(t)==="[object Map]",Mk=t=>yv(t)==="[object Set]",De=t=>typeof t=="function",Qt=t=>typeof t=="string",C0=t=>typeof t=="symbol",St=t=>t!==null&&typeof t=="object",Lk=t=>St(t)&&De(t.then)&&De(t.catch),Fk=Object.prototype.toString,yv=t=>Fk.call(t),Xj=t=>yv(t).slice(8,-1),Uk=t=>yv(t)==="[object Object]",A0=t=>Qt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ep=T0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_v=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Jj=/-(\w)/g,Wi=_v(t=>t.replace(Jj,(e,n)=>n?n.toUpperCase():"")),Zj=/\B([A-Z])/g,Ua=_v(t=>t.replace(Zj,"-$1").toLowerCase()),wv=_v(t=>t.charAt(0).toUpperCase()+t.slice(1)),e_=_v(t=>t?`on${wv(t)}`:""),vf=(t,e)=>!Object.is(t,e),tp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},wp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},nw=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let iC;const rw=()=>iC||(iC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function N0(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Qt(r)?r4(r):N0(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(Qt(t))return t;if(St(t))return t}}const e4=/;(?![^(]*\))/g,t4=/:([^]+)/,n4=/\/\*[^]*?\*\//g;function r4(t){const e={};return t.replace(n4,"").split(e4).forEach(n=>{if(n){const r=n.split(t4);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Aa(t){let e="";if(Qt(t))e=t;else if(Ae(t))for(let n=0;n<t.length;n++){const r=Aa(t[n]);r&&(e+=r+" ")}else if(St(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const i4="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",o4=T0(i4);function jk(t){return!!t||t===""}const Ve=t=>Qt(t)?t:t==null?"":Ae(t)||St(t)&&(t.toString===Fk||!De(t.toString))?JSON.stringify(t,Vk,2):String(t),Vk=(t,e)=>e&&e.__v_isRef?Vk(t,e.value):qu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Mk(e)?{[`Set(${e.size})`]:[...e.values()]}:St(e)&&!Ae(e)&&!Uk(e)?String(e):e;let ri;class s4{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ri,!e&&ri&&(this.index=(ri.scopes||(ri.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ri;try{return ri=this,e()}finally{ri=n}}}on(){ri=this}off(){ri=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function a4(t,e=ri){e&&e.active&&e.effects.push(t)}function u4(){return ri}const k0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Bk=t=>(t.w&bs)>0,qk=t=>(t.n&bs)>0,c4=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=bs},l4=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Bk(i)&&!qk(i)?i.delete(t):e[n++]=i,i.w&=~bs,i.n&=~bs}e.length=n}},iw=new WeakMap;let zl=0,bs=1;const ow=30;let oi;const ma=Symbol(""),sw=Symbol("");class R0{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,a4(this,r)}run(){if(!this.active)return this.fn();let e=oi,n=ds;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=oi,oi=this,ds=!0,bs=1<<++zl,zl<=ow?c4(this):oC(this),this.fn()}finally{zl<=ow&&l4(this),bs=1<<--zl,oi=this.parent,ds=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){oi===this?this.deferStop=!0:this.active&&(oC(this),this.onStop&&this.onStop(),this.active=!1)}}function oC(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ds=!0;const Wk=[];function Oc(){Wk.push(ds),ds=!1}function xc(){const t=Wk.pop();ds=t===void 0?!0:t}function gr(t,e,n){if(ds&&oi){let r=iw.get(t);r||iw.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=k0()),Hk(i)}}function Hk(t,e){let n=!1;zl<=ow?qk(t)||(t.n|=bs,n=!Bk(t)):n=!t.has(oi),n&&(t.add(oi),oi.deps.push(t))}function Io(t,e,n,r,i,s){const a=iw.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&Ae(t)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),e){case"add":Ae(t)?A0(n)&&c.push(a.get("length")):(c.push(a.get(ma)),qu(t)&&c.push(a.get(sw)));break;case"delete":Ae(t)||(c.push(a.get(ma)),qu(t)&&c.push(a.get(sw)));break;case"set":qu(t)&&c.push(a.get(ma));break}if(c.length===1)c[0]&&aw(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);aw(k0(l))}}function aw(t,e){const n=Ae(t)?t:[...t];for(const r of n)r.computed&&sC(r);for(const r of n)r.computed||sC(r)}function sC(t,e){(t!==oi||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const f4=T0("__proto__,__v_isRef,__isVue"),Gk=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(C0)),h4=O0(),d4=O0(!1,!0),p4=O0(!0),aC=v4();function v4(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=nt(this);for(let s=0,a=this.length;s<a;s++)gr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(nt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Oc();const r=nt(this)[e].apply(this,n);return xc(),r}}),t}function g4(t){const e=nt(this);return gr(e,"has",t),e.hasOwnProperty(t)}function O0(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?x4:Qk:e?Kk:zk).get(r))return r;const a=Ae(r);if(!t){if(a&&Ke(aC,i))return Reflect.get(aC,i,s);if(i==="hasOwnProperty")return g4}const c=Reflect.get(r,i,s);return(C0(i)?Gk.has(i):f4(i))||(t||gr(r,"get",i),e)?c:On(c)?a&&A0(i)?c:c.value:St(c)?t?Jk(c):Zf(c):c}}const m4=$k(),y4=$k(!0);function $k(t=!1){return function(n,r,i,s){let a=n[r];if(nc(a)&&On(a)&&!On(i))return!1;if(!t&&(!bp(i)&&!nc(i)&&(a=nt(a),i=nt(i)),!Ae(n)&&On(a)&&!On(i)))return a.value=i,!0;const c=Ae(n)&&A0(r)?Number(r)<n.length:Ke(n,r),l=Reflect.set(n,r,i,s);return n===nt(s)&&(c?vf(i,a)&&Io(n,"set",r,i):Io(n,"add",r,i)),l}}function _4(t,e){const n=Ke(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Io(t,"delete",e,void 0),r}function w4(t,e){const n=Reflect.has(t,e);return(!C0(e)||!Gk.has(e))&&gr(t,"has",e),n}function b4(t){return gr(t,"iterate",Ae(t)?"length":ma),Reflect.ownKeys(t)}const Yk={get:h4,set:m4,deleteProperty:_4,has:w4,ownKeys:b4},E4={get:p4,set(t,e){return!0},deleteProperty(t,e){return!0}},T4=mn({},Yk,{get:d4,set:y4}),x0=t=>t,bv=t=>Reflect.getPrototypeOf(t);function Rd(t,e,n=!1,r=!1){t=t.__v_raw;const i=nt(t),s=nt(e);n||(e!==s&&gr(i,"get",e),gr(i,"get",s));const{has:a}=bv(i),c=r?x0:n?M0:gf;if(a.call(i,e))return c(t.get(e));if(a.call(i,s))return c(t.get(s));t!==i&&t.get(e)}function Od(t,e=!1){const n=this.__v_raw,r=nt(n),i=nt(t);return e||(t!==i&&gr(r,"has",t),gr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function xd(t,e=!1){return t=t.__v_raw,!e&&gr(nt(t),"iterate",ma),Reflect.get(t,"size",t)}function uC(t){t=nt(t);const e=nt(this);return bv(e).has.call(e,t)||(e.add(t),Io(e,"add",t,t)),this}function cC(t,e){e=nt(e);const n=nt(this),{has:r,get:i}=bv(n);let s=r.call(n,t);s||(t=nt(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?vf(e,a)&&Io(n,"set",t,e):Io(n,"add",t,e),this}function lC(t){const e=nt(this),{has:n,get:r}=bv(e);let i=n.call(e,t);i||(t=nt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Io(e,"delete",t,void 0),s}function fC(){const t=nt(this),e=t.size!==0,n=t.clear();return e&&Io(t,"clear",void 0,void 0),n}function Pd(t,e){return function(r,i){const s=this,a=s.__v_raw,c=nt(a),l=e?x0:t?M0:gf;return!t&&gr(c,"iterate",ma),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function Dd(t,e,n){return function(...r){const i=this.__v_raw,s=nt(i),a=qu(s),c=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,h=i[t](...r),d=n?x0:e?M0:gf;return!e&&gr(s,"iterate",l?sw:ma),{next(){const{value:v,done:m}=h.next();return m?{value:v,done:m}:{value:c?[d(v[0]),d(v[1])]:d(v),done:m}},[Symbol.iterator](){return this}}}}function zo(t){return function(...e){return t==="delete"?!1:this}}function I4(){const t={get(s){return Rd(this,s)},get size(){return xd(this)},has:Od,add:uC,set:cC,delete:lC,clear:fC,forEach:Pd(!1,!1)},e={get(s){return Rd(this,s,!1,!0)},get size(){return xd(this)},has:Od,add:uC,set:cC,delete:lC,clear:fC,forEach:Pd(!1,!0)},n={get(s){return Rd(this,s,!0)},get size(){return xd(this,!0)},has(s){return Od.call(this,s,!0)},add:zo("add"),set:zo("set"),delete:zo("delete"),clear:zo("clear"),forEach:Pd(!0,!1)},r={get(s){return Rd(this,s,!0,!0)},get size(){return xd(this,!0)},has(s){return Od.call(this,s,!0)},add:zo("add"),set:zo("set"),delete:zo("delete"),clear:zo("clear"),forEach:Pd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Dd(s,!1,!1),n[s]=Dd(s,!0,!1),e[s]=Dd(s,!1,!0),r[s]=Dd(s,!0,!0)}),[t,n,e,r]}const[S4,C4,A4,N4]=I4();function P0(t,e){const n=e?t?N4:A4:t?C4:S4;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ke(n,i)&&i in r?n:r,i,s)}const k4={get:P0(!1,!1)},R4={get:P0(!1,!0)},O4={get:P0(!0,!1)},zk=new WeakMap,Kk=new WeakMap,Qk=new WeakMap,x4=new WeakMap;function P4(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function D4(t){return t.__v_skip||!Object.isExtensible(t)?0:P4(Xj(t))}function Zf(t){return nc(t)?t:D0(t,!1,Yk,k4,zk)}function Xk(t){return D0(t,!1,T4,R4,Kk)}function Jk(t){return D0(t,!0,E4,O4,Qk)}function D0(t,e,n,r,i){if(!St(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=D4(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return i.set(t,c),c}function Wu(t){return nc(t)?Wu(t.__v_raw):!!(t&&t.__v_isReactive)}function nc(t){return!!(t&&t.__v_isReadonly)}function bp(t){return!!(t&&t.__v_isShallow)}function Zk(t){return Wu(t)||nc(t)}function nt(t){const e=t&&t.__v_raw;return e?nt(e):t}function eR(t){return wp(t,"__v_skip",!0),t}const gf=t=>St(t)?Zf(t):t,M0=t=>St(t)?Jk(t):t;function tR(t){ds&&oi&&(t=nt(t),Hk(t.dep||(t.dep=k0())))}function nR(t,e){t=nt(t);const n=t.dep;n&&aw(n)}function On(t){return!!(t&&t.__v_isRef===!0)}function Kt(t){return rR(t,!1)}function M4(t){return rR(t,!0)}function rR(t,e){return On(t)?t:new L4(t,e)}class L4{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:nt(e),this._value=n?e:gf(e)}get value(){return tR(this),this._value}set value(e){const n=this.__v_isShallow||bp(e)||nc(e);e=n?e:nt(e),vf(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:gf(e),nR(this))}}function Hu(t){return On(t)?t.value:t}const F4={get:(t,e,n)=>Hu(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return On(i)&&!On(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function iR(t){return Wu(t)?t:new Proxy(t,F4)}class U4{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new R0(e,()=>{this._dirty||(this._dirty=!0,nR(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=nt(this);return tR(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function j4(t,e,n=!1){let r,i;const s=De(t);return s?(r=t,i=fi):(r=t.get,i=t.set),new U4(r,i,s||!i,n)}function ps(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){Ev(s,e,n)}return i}function hi(t,e,n,r){if(De(t)){const s=ps(t,e,n,r);return s&&Lk(s)&&s.catch(a=>{Ev(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(hi(t[s],e,n,r));return i}function Ev(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,a,c)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){ps(l,null,10,[t,a,c]);return}}V4(t,n,i,r)}function V4(t,e,n,r=!0){console.error(t)}let mf=!1,uw=!1;const Rn=[];let Mi=0;const Gu=[];let lo=null,sa=0;const oR=Promise.resolve();let L0=null;function sR(t){const e=L0||oR;return t?e.then(this?t.bind(this):t):e}function B4(t){let e=Mi+1,n=Rn.length;for(;e<n;){const r=e+n>>>1;yf(Rn[r])<t?e=r+1:n=r}return e}function F0(t){(!Rn.length||!Rn.includes(t,mf&&t.allowRecurse?Mi+1:Mi))&&(t.id==null?Rn.push(t):Rn.splice(B4(t.id),0,t),aR())}function aR(){!mf&&!uw&&(uw=!0,L0=oR.then(cR))}function q4(t){const e=Rn.indexOf(t);e>Mi&&Rn.splice(e,1)}function W4(t){Ae(t)?Gu.push(...t):(!lo||!lo.includes(t,t.allowRecurse?sa+1:sa))&&Gu.push(t),aR()}function hC(t,e=mf?Mi+1:0){for(;e<Rn.length;e++){const n=Rn[e];n&&n.pre&&(Rn.splice(e,1),e--,n())}}function uR(t){if(Gu.length){const e=[...new Set(Gu)];if(Gu.length=0,lo){lo.push(...e);return}for(lo=e,lo.sort((n,r)=>yf(n)-yf(r)),sa=0;sa<lo.length;sa++)lo[sa]();lo=null,sa=0}}const yf=t=>t.id==null?1/0:t.id,H4=(t,e)=>{const n=yf(t)-yf(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function cR(t){uw=!1,mf=!0,Rn.sort(H4);const e=fi;try{for(Mi=0;Mi<Rn.length;Mi++){const n=Rn[Mi];n&&n.active!==!1&&ps(n,null,14)}}finally{Mi=0,Rn.length=0,uR(),mf=!1,L0=null,(Rn.length||Gu.length)&&cR()}}function G4(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||gt;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:m}=r[d]||gt;m&&(i=n.map(y=>Qt(y)?y.trim():y)),v&&(i=n.map(nw))}let c,l=r[c=e_(e)]||r[c=e_(Wi(e))];!l&&s&&(l=r[c=e_(Ua(e))]),l&&hi(l,t,6,i);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,hi(h,t,6,i)}}function lR(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},c=!1;if(!De(t)){const l=h=>{const d=lR(h,e,!0);d&&(c=!0,mn(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!c?(St(t)&&r.set(t,null),null):(Ae(s)?s.forEach(l=>a[l]=null):mn(a,s),St(t)&&r.set(t,a),a)}function Tv(t,e){return!t||!mv(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ke(t,e[0].toLowerCase()+e.slice(1))||Ke(t,Ua(e))||Ke(t,e))}let qr=null,fR=null;function Ep(t){const e=qr;return qr=t,fR=t&&t.type.__scopeId||null,e}function eh(t,e=qr,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&TC(-1);const s=Ep(e);let a;try{a=t(...i)}finally{Ep(s),r._d&&TC(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function t_(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:m,setupState:y,ctx:b,inheritAttrs:E}=t;let T,A;const P=Ep(t);try{if(n.shapeFlag&4){const U=i||r;T=Di(d.call(U,U,v,s,y,m,b)),A=l}else{const U=e;T=Di(U.length>1?U(s,{attrs:l,slots:c,emit:h}):U(s,null)),A=e.props?l:$4(l)}}catch(U){tf.length=0,Ev(U,t,1),T=Rt(Na)}let M=T;if(A&&E!==!1){const U=Object.keys(A),{shapeFlag:X}=M;U.length&&X&7&&(a&&U.some(I0)&&(A=Y4(A,a)),M=ic(M,A))}return n.dirs&&(M=ic(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),T=M,Ep(P),T}const $4=t=>{let e;for(const n in t)(n==="class"||n==="style"||mv(n))&&((e||(e={}))[n]=t[n]);return e},Y4=(t,e)=>{const n={};for(const r in t)(!I0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function z4(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:c,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?dC(r,a,h):!!a;if(l&8){const d=e.dynamicProps;for(let v=0;v<d.length;v++){const m=d[v];if(a[m]!==r[m]&&!Tv(h,m))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?dC(r,a,h):!0:!!a;return!1}function dC(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Tv(n,s))return!0}return!1}function K4({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Q4=t=>t.__isSuspense;function X4(t,e){e&&e.pendingBranch?Ae(t)?e.effects.push(...t):e.effects.push(t):W4(t)}const Md={};function $u(t,e,n){return hR(t,e,n)}function hR(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=gt){var c;const l=u4()===((c=Tn)==null?void 0:c.scope)?Tn:null;let h,d=!1,v=!1;if(On(t)?(h=()=>t.value,d=bp(t)):Wu(t)?(h=()=>t,r=!0):Ae(t)?(v=!0,d=t.some(U=>Wu(U)||bp(U)),h=()=>t.map(U=>{if(On(U))return U.value;if(Wu(U))return la(U);if(De(U))return ps(U,l,2)})):De(t)?e?h=()=>ps(t,l,2):h=()=>{if(!(l&&l.isUnmounted))return m&&m(),hi(t,l,3,[y])}:h=fi,e&&r){const U=h;h=()=>la(U())}let m,y=U=>{m=P.onStop=()=>{ps(U,l,4)}},b;if(wf)if(y=fi,e?n&&hi(e,l,3,[h(),v?[]:void 0,y]):h(),i==="sync"){const U=qV();b=U.__watcherHandles||(U.__watcherHandles=[])}else return fi;let E=v?new Array(t.length).fill(Md):Md;const T=()=>{if(P.active)if(e){const U=P.run();(r||d||(v?U.some((X,j)=>vf(X,E[j])):vf(U,E)))&&(m&&m(),hi(e,l,3,[U,E===Md?void 0:v&&E[0]===Md?[]:E,y]),E=U)}else P.run()};T.allowRecurse=!!e;let A;i==="sync"?A=T:i==="post"?A=()=>lr(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),A=()=>F0(T));const P=new R0(h,A);e?n?T():E=P.run():i==="post"?lr(P.run.bind(P),l&&l.suspense):P.run();const M=()=>{P.stop(),l&&l.scope&&S0(l.scope.effects,P)};return b&&b.push(M),M}function J4(t,e,n){const r=this.proxy,i=Qt(t)?t.includes(".")?dR(r,t):()=>r[t]:t.bind(r,r);let s;De(e)?s=e:(s=e.handler,n=e);const a=Tn;oc(this);const c=hR(i,s.bind(r),n);return a?oc(a):_a(),c}function dR(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function la(t,e){if(!St(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),On(t))la(t.value,e);else if(Ae(t))for(let n=0;n<t.length;n++)la(t[n],e);else if(Mk(t)||qu(t))t.forEach(n=>{la(n,e)});else if(Uk(t))for(const n in t)la(t[n],e);return t}function vs(t,e){const n=qr;if(n===null)return t;const r=Av(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,l,h=gt]=e[s];a&&(De(a)&&(a={mounted:a,updated:a}),a.deep&&la(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return t}function ta(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(Oc(),hi(l,n,8,[t.el,c,t,e]),xc())}}function pR(t,e){return De(t)?(()=>mn({name:t.name},e,{setup:t}))():t}const np=t=>!!t.type.__asyncLoader,vR=t=>t.type.__isKeepAlive;function Z4(t,e){gR(t,"a",e)}function eV(t,e){gR(t,"da",e)}function gR(t,e,n=Tn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Iv(e,r,n),n){let i=n.parent;for(;i&&i.parent;)vR(i.parent.vnode)&&tV(r,e,n,i),i=i.parent}}function tV(t,e,n,r){const i=Iv(e,t,r,!0);mR(()=>{S0(r[e],i)},n)}function Iv(t,e,n=Tn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Oc(),oc(n);const c=hi(e,n,t,a);return _a(),xc(),c});return r?i.unshift(s):i.push(s),s}}const Po=t=>(e,n=Tn)=>(!wf||t==="sp")&&Iv(t,(...r)=>e(...r),n),rc=Po("bm"),nV=Po("m"),rV=Po("bu"),iV=Po("u"),oV=Po("bum"),mR=Po("um"),sV=Po("sp"),aV=Po("rtg"),uV=Po("rtc");function cV(t,e=Tn){Iv("ec",t,e)}const U0="components";function Pn(t,e){return _R(U0,t,!0,e)||t}const yR=Symbol.for("v-ndc");function lV(t){return Qt(t)?_R(U0,t,!1)||t:t||yR}function _R(t,e,n=!0,r=!1){const i=qr||Tn;if(i){const s=i.type;if(t===U0){const c=jV(s,!1);if(c&&(c===e||c===Wi(e)||c===wv(Wi(e))))return s}const a=pC(i[t]||s[t],e)||pC(i.appContext[t],e);return!a&&r?s:a}}function pC(t,e){return t&&(t[e]||t[Wi(e)]||t[wv(Wi(e))])}function So(t,e,n,r){let i;const s=n&&n[r];if(Ae(t)||Qt(t)){i=new Array(t.length);for(let a=0,c=t.length;a<c;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(St(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=e(t[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}const cw=t=>t?OR(t)?Av(t)||t.proxy:cw(t.parent):null,ef=mn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cw(t.parent),$root:t=>cw(t.root),$emit:t=>t.emit,$options:t=>j0(t),$forceUpdate:t=>t.f||(t.f=()=>F0(t.update)),$nextTick:t=>t.n||(t.n=sR.bind(t.proxy)),$watch:t=>J4.bind(t)}),n_=(t,e)=>t!==gt&&!t.__isScriptSetup&&Ke(t,e),fV={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=t;let h;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(n_(r,e))return a[e]=1,r[e];if(i!==gt&&Ke(i,e))return a[e]=2,i[e];if((h=t.propsOptions[0])&&Ke(h,e))return a[e]=3,s[e];if(n!==gt&&Ke(n,e))return a[e]=4,n[e];lw&&(a[e]=0)}}const d=ef[e];let v,m;if(d)return e==="$attrs"&&gr(t,"get",e),d(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==gt&&Ke(n,e))return a[e]=4,n[e];if(m=l.config.globalProperties,Ke(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return n_(i,e)?(i[e]=n,!0):r!==gt&&Ke(r,e)?(r[e]=n,!0):Ke(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||t!==gt&&Ke(t,a)||n_(e,a)||(c=s[0])&&Ke(c,a)||Ke(r,a)||Ke(ef,a)||Ke(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ke(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function vC(t){return Ae(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let lw=!0;function hV(t){const e=j0(t),n=t.proxy,r=t.ctx;lw=!1,e.beforeCreate&&gC(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:m,beforeUpdate:y,updated:b,activated:E,deactivated:T,beforeDestroy:A,beforeUnmount:P,destroyed:M,unmounted:U,render:X,renderTracked:j,renderTriggered:Ie,errorCaptured:rt,serverPrefetch:de,expose:yn,inheritAttrs:O,components:Ei,directives:An,filters:Ds}=e;if(h&&dV(h,r,null),a)for(const Ye in a){const ze=a[Ye];De(ze)&&(r[Ye]=ze.bind(n))}if(i){const Ye=i.call(n,n);St(Ye)&&(t.data=Zf(Ye))}if(lw=!0,s)for(const Ye in s){const ze=s[Ye],Ct=De(ze)?ze.bind(n,n):De(ze.get)?ze.get.bind(n,n):fi,Mr=!De(ze)&&De(ze.set)?ze.set.bind(n):fi,_n=vn({get:Ct,set:Mr});Object.defineProperty(r,Ye,{enumerable:!0,configurable:!0,get:()=>_n.value,set:un=>_n.value=un})}if(c)for(const Ye in c)wR(c[Ye],r,n,Ye);if(l){const Ye=De(l)?l.call(n):l;Reflect.ownKeys(Ye).forEach(ze=>{rp(ze,Ye[ze])})}d&&gC(d,t,"c");function _t(Ye,ze){Ae(ze)?ze.forEach(Ct=>Ye(Ct.bind(n))):ze&&Ye(ze.bind(n))}if(_t(rc,v),_t(nV,m),_t(rV,y),_t(iV,b),_t(Z4,E),_t(eV,T),_t(cV,rt),_t(uV,j),_t(aV,Ie),_t(oV,P),_t(mR,U),_t(sV,de),Ae(yn))if(yn.length){const Ye=t.exposed||(t.exposed={});yn.forEach(ze=>{Object.defineProperty(Ye,ze,{get:()=>n[ze],set:Ct=>n[ze]=Ct})})}else t.exposed||(t.exposed={});X&&t.render===fi&&(t.render=X),O!=null&&(t.inheritAttrs=O),Ei&&(t.components=Ei),An&&(t.directives=An)}function dV(t,e,n=fi){Ae(t)&&(t=fw(t));for(const r in t){const i=t[r];let s;St(i)?"default"in i?s=di(i.from||r,i.default,!0):s=di(i.from||r):s=di(i),On(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function gC(t,e,n){hi(Ae(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function wR(t,e,n,r){const i=r.includes(".")?dR(n,r):()=>n[r];if(Qt(t)){const s=e[t];De(s)&&$u(i,s)}else if(De(t))$u(i,t.bind(n));else if(St(t))if(Ae(t))t.forEach(s=>wR(s,e,n,r));else{const s=De(t.handler)?t.handler.bind(n):e[t.handler];De(s)&&$u(i,s,t)}}function j0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let l;return c?l=c:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(h=>Tp(l,h,a,!0)),Tp(l,e,a)),St(e)&&s.set(e,l),l}function Tp(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Tp(t,s,n,!0),i&&i.forEach(a=>Tp(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=pV[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const pV={data:mC,props:yC,emits:yC,methods:Kl,computed:Kl,beforeCreate:zn,created:zn,beforeMount:zn,mounted:zn,beforeUpdate:zn,updated:zn,beforeDestroy:zn,beforeUnmount:zn,destroyed:zn,unmounted:zn,activated:zn,deactivated:zn,errorCaptured:zn,serverPrefetch:zn,components:Kl,directives:Kl,watch:gV,provide:mC,inject:vV};function mC(t,e){return e?t?function(){return mn(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function vV(t,e){return Kl(fw(t),fw(e))}function fw(t){if(Ae(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function zn(t,e){return t?[...new Set([].concat(t,e))]:e}function Kl(t,e){return t?mn(Object.create(null),t,e):e}function yC(t,e){return t?Ae(t)&&Ae(e)?[...new Set([...t,...e])]:mn(Object.create(null),vC(t),vC(e??{})):e}function gV(t,e){if(!t)return e;if(!e)return t;const n=mn(Object.create(null),t);for(const r in e)n[r]=zn(t[r],e[r]);return n}function bR(){return{app:null,config:{isNativeTag:zj,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mV=0;function yV(t,e){return function(r,i=null){De(r)||(r=mn({},r)),i!=null&&!St(i)&&(i=null);const s=bR(),a=new Set;let c=!1;const l=s.app={_uid:mV++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:WV,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&De(h.install)?(a.add(h),h.install(l,...d)):De(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const m=Rt(r,i);return m.appContext=s,d&&e?e(m,h):t(m,h,v),c=!0,l._container=h,h.__vue_app__=l,Av(m.component)||m.component.proxy}},unmount(){c&&(t(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){Ip=l;try{return h()}finally{Ip=null}}};return l}}let Ip=null;function rp(t,e){if(Tn){let n=Tn.provides;const r=Tn.parent&&Tn.parent.provides;r===n&&(n=Tn.provides=Object.create(r)),n[t]=e}}function di(t,e,n=!1){const r=Tn||qr;if(r||Ip){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Ip._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&De(e)?e.call(r&&r.proxy):e}}function _V(t,e,n,r=!1){const i={},s={};wp(s,Cv,1),t.propsDefaults=Object.create(null),ER(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:Xk(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function wV(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,c=nt(i),[l]=t.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let v=0;v<d.length;v++){let m=d[v];if(Tv(t.emitsOptions,m))continue;const y=e[m];if(l)if(Ke(s,m))y!==s[m]&&(s[m]=y,h=!0);else{const b=Wi(m);i[b]=hw(l,c,b,y,t,!1)}else y!==s[m]&&(s[m]=y,h=!0)}}}else{ER(t,e,i,s)&&(h=!0);let d;for(const v in c)(!e||!Ke(e,v)&&((d=Ua(v))===v||!Ke(e,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=hw(l,c,v,void 0,t,!0)):delete i[v]);if(s!==c)for(const v in s)(!e||!Ke(e,v))&&(delete s[v],h=!0)}h&&Io(t,"set","$attrs")}function ER(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,c;if(e)for(let l in e){if(ep(l))continue;const h=e[l];let d;i&&Ke(i,d=Wi(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:Tv(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=nt(n),h=c||gt;for(let d=0;d<s.length;d++){const v=s[d];n[v]=hw(i,l,v,h[v],t,!Ke(h,v))}}return a}function hw(t,e,n,r,i,s){const a=t[n];if(a!=null){const c=Ke(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&De(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(oc(i),r=h[n]=l.call(null,e),_a())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===Ua(n))&&(r=!0))}return r}function TR(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},c=[];let l=!1;if(!De(t)){const d=v=>{l=!0;const[m,y]=TR(v,e,!0);mn(a,m),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return St(t)&&r.set(t,Bu),Bu;if(Ae(s))for(let d=0;d<s.length;d++){const v=Wi(s[d]);_C(v)&&(a[v]=gt)}else if(s)for(const d in s){const v=Wi(d);if(_C(v)){const m=s[d],y=a[v]=Ae(m)||De(m)?{type:m}:mn({},m);if(y){const b=EC(Boolean,y.type),E=EC(String,y.type);y[0]=b>-1,y[1]=E<0||b<E,(b>-1||Ke(y,"default"))&&c.push(v)}}}const h=[a,c];return St(t)&&r.set(t,h),h}function _C(t){return t[0]!=="$"}function wC(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function bC(t,e){return wC(t)===wC(e)}function EC(t,e){return Ae(e)?e.findIndex(n=>bC(n,t)):De(e)&&bC(e,t)?0:-1}const IR=t=>t[0]==="_"||t==="$stable",V0=t=>Ae(t)?t.map(Di):[Di(t)],bV=(t,e,n)=>{if(e._n)return e;const r=eh((...i)=>V0(e(...i)),n);return r._c=!1,r},SR=(t,e,n)=>{const r=t._ctx;for(const i in t){if(IR(i))continue;const s=t[i];if(De(s))e[i]=bV(i,s,r);else if(s!=null){const a=V0(s);e[i]=()=>a}}},CR=(t,e)=>{const n=V0(e);t.slots.default=()=>n},EV=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=nt(e),wp(e,"_",n)):SR(e,t.slots={})}else t.slots={},e&&CR(t,e);wp(t.slots,Cv,1)},TV=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=gt;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(mn(i,e),!n&&c===1&&delete i._):(s=!e.$stable,SR(e,i)),a=e}else e&&(CR(t,e),a={default:1});if(s)for(const c in i)!IR(c)&&!(c in a)&&delete i[c]};function dw(t,e,n,r,i=!1){if(Ae(t)){t.forEach((m,y)=>dw(m,e&&(Ae(e)?e[y]:e),n,r,i));return}if(np(r)&&!i)return;const s=r.shapeFlag&4?Av(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=t,h=e&&e.r,d=c.refs===gt?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&(Qt(h)?(d[h]=null,Ke(v,h)&&(v[h]=null)):On(h)&&(h.value=null)),De(l))ps(l,c,12,[a,d]);else{const m=Qt(l),y=On(l);if(m||y){const b=()=>{if(t.f){const E=m?Ke(v,l)?v[l]:d[l]:l.value;i?Ae(E)&&S0(E,s):Ae(E)?E.includes(s)||E.push(s):m?(d[l]=[s],Ke(v,l)&&(v[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else m?(d[l]=a,Ke(v,l)&&(v[l]=a)):y&&(l.value=a,t.k&&(d[t.k]=a))};a?(b.id=-1,lr(b,n)):b()}}}const lr=X4;function IV(t){return SV(t)}function SV(t,e){const n=rw();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:m,setScopeId:y=fi,insertStaticContent:b}=t,E=(S,C,x,L=null,B=null,q=null,ne=!1,z=null,Z=!!C.dynamicChildren)=>{if(S===C)return;S&&!Ll(S,C)&&(L=V(S),un(S,B,q,!0),S=null),C.patchFlag===-2&&(Z=!1,C.dynamicChildren=null);const{type:$,ref:ge,shapeFlag:le}=C;switch($){case Sv:T(S,C,x,L);break;case Na:A(S,C,x,L);break;case ip:S==null&&P(C,x,L,ne);break;case jt:Ei(S,C,x,L,B,q,ne,z,Z);break;default:le&1?X(S,C,x,L,B,q,ne,z,Z):le&6?An(S,C,x,L,B,q,ne,z,Z):(le&64||le&128)&&$.process(S,C,x,L,B,q,ne,z,Z,H)}ge!=null&&B&&dw(ge,S&&S.ref,q,C||S,!C)},T=(S,C,x,L)=>{if(S==null)r(C.el=c(C.children),x,L);else{const B=C.el=S.el;C.children!==S.children&&h(B,C.children)}},A=(S,C,x,L)=>{S==null?r(C.el=l(C.children||""),x,L):C.el=S.el},P=(S,C,x,L)=>{[S.el,S.anchor]=b(S.children,C,x,L,S.el,S.anchor)},M=({el:S,anchor:C},x,L)=>{let B;for(;S&&S!==C;)B=m(S),r(S,x,L),S=B;r(C,x,L)},U=({el:S,anchor:C})=>{let x;for(;S&&S!==C;)x=m(S),i(S),S=x;i(C)},X=(S,C,x,L,B,q,ne,z,Z)=>{ne=ne||C.type==="svg",S==null?j(C,x,L,B,q,ne,z,Z):de(S,C,B,q,ne,z,Z)},j=(S,C,x,L,B,q,ne,z)=>{let Z,$;const{type:ge,props:le,shapeFlag:me,transition:Se,dirs:Me}=S;if(Z=S.el=a(S.type,q,le&&le.is,le),me&8?d(Z,S.children):me&16&&rt(S.children,Z,null,L,B,q&&ge!=="foreignObject",ne,z),Me&&ta(S,null,L,"created"),Ie(Z,S,S.scopeId,ne,L),le){for(const ye in le)ye!=="value"&&!ep(ye)&&s(Z,ye,null,le[ye],q,S.children,L,B,cn);"value"in le&&s(Z,"value",null,le.value),($=le.onVnodeBeforeMount)&&xi($,L,S)}Me&&ta(S,null,L,"beforeMount");const ut=(!B||B&&!B.pendingBranch)&&Se&&!Se.persisted;ut&&Se.beforeEnter(Z),r(Z,C,x),(($=le&&le.onVnodeMounted)||ut||Me)&&lr(()=>{$&&xi($,L,S),ut&&Se.enter(Z),Me&&ta(S,null,L,"mounted")},B)},Ie=(S,C,x,L,B)=>{if(x&&y(S,x),L)for(let q=0;q<L.length;q++)y(S,L[q]);if(B){let q=B.subTree;if(C===q){const ne=B.vnode;Ie(S,ne,ne.scopeId,ne.slotScopeIds,B.parent)}}},rt=(S,C,x,L,B,q,ne,z,Z=0)=>{for(let $=Z;$<S.length;$++){const ge=S[$]=z?ts(S[$]):Di(S[$]);E(null,ge,C,x,L,B,q,ne,z)}},de=(S,C,x,L,B,q,ne)=>{const z=C.el=S.el;let{patchFlag:Z,dynamicChildren:$,dirs:ge}=C;Z|=S.patchFlag&16;const le=S.props||gt,me=C.props||gt;let Se;x&&na(x,!1),(Se=me.onVnodeBeforeUpdate)&&xi(Se,x,C,S),ge&&ta(C,S,x,"beforeUpdate"),x&&na(x,!0);const Me=B&&C.type!=="foreignObject";if($?yn(S.dynamicChildren,$,z,x,L,Me,q):ne||ze(S,C,z,null,x,L,Me,q,!1),Z>0){if(Z&16)O(z,C,le,me,x,L,B);else if(Z&2&&le.class!==me.class&&s(z,"class",null,me.class,B),Z&4&&s(z,"style",le.style,me.style,B),Z&8){const ut=C.dynamicProps;for(let ye=0;ye<ut.length;ye++){const wt=ut[ye],ln=le[wt],eo=me[wt];(eo!==ln||wt==="value")&&s(z,wt,ln,eo,B,S.children,x,L,cn)}}Z&1&&S.children!==C.children&&d(z,C.children)}else!ne&&$==null&&O(z,C,le,me,x,L,B);((Se=me.onVnodeUpdated)||ge)&&lr(()=>{Se&&xi(Se,x,C,S),ge&&ta(C,S,x,"updated")},L)},yn=(S,C,x,L,B,q,ne)=>{for(let z=0;z<C.length;z++){const Z=S[z],$=C[z],ge=Z.el&&(Z.type===jt||!Ll(Z,$)||Z.shapeFlag&70)?v(Z.el):x;E(Z,$,ge,null,L,B,q,ne,!0)}},O=(S,C,x,L,B,q,ne)=>{if(x!==L){if(x!==gt)for(const z in x)!ep(z)&&!(z in L)&&s(S,z,x[z],null,ne,C.children,B,q,cn);for(const z in L){if(ep(z))continue;const Z=L[z],$=x[z];Z!==$&&z!=="value"&&s(S,z,$,Z,ne,C.children,B,q,cn)}"value"in L&&s(S,"value",x.value,L.value)}},Ei=(S,C,x,L,B,q,ne,z,Z)=>{const $=C.el=S?S.el:c(""),ge=C.anchor=S?S.anchor:c("");let{patchFlag:le,dynamicChildren:me,slotScopeIds:Se}=C;Se&&(z=z?z.concat(Se):Se),S==null?(r($,x,L),r(ge,x,L),rt(C.children,x,ge,B,q,ne,z,Z)):le>0&&le&64&&me&&S.dynamicChildren?(yn(S.dynamicChildren,me,x,B,q,ne,z),(C.key!=null||B&&C===B.subTree)&&AR(S,C,!0)):ze(S,C,x,ge,B,q,ne,z,Z)},An=(S,C,x,L,B,q,ne,z,Z)=>{C.slotScopeIds=z,S==null?C.shapeFlag&512?B.ctx.activate(C,x,L,ne,Z):Ds(C,x,L,B,q,ne,Z):Ti(S,C,Z)},Ds=(S,C,x,L,B,q,ne)=>{const z=S.component=DV(S,L,B);if(vR(S)&&(z.ctx.renderer=H),MV(z),z.asyncDep){if(B&&B.registerDep(z,_t),!S.el){const Z=z.subTree=Rt(Na);A(null,Z,C,x)}return}_t(z,S,C,x,B,q,ne)},Ti=(S,C,x)=>{const L=C.component=S.component;if(z4(S,C,x))if(L.asyncDep&&!L.asyncResolved){Ye(L,C,x);return}else L.next=C,q4(L.update),L.update();else C.el=S.el,L.vnode=C},_t=(S,C,x,L,B,q,ne)=>{const z=()=>{if(S.isMounted){let{next:ge,bu:le,u:me,parent:Se,vnode:Me}=S,ut=ge,ye;na(S,!1),ge?(ge.el=Me.el,Ye(S,ge,ne)):ge=Me,le&&tp(le),(ye=ge.props&&ge.props.onVnodeBeforeUpdate)&&xi(ye,Se,ge,Me),na(S,!0);const wt=t_(S),ln=S.subTree;S.subTree=wt,E(ln,wt,v(ln.el),V(ln),S,B,q),ge.el=wt.el,ut===null&&K4(S,wt.el),me&&lr(me,B),(ye=ge.props&&ge.props.onVnodeUpdated)&&lr(()=>xi(ye,Se,ge,Me),B)}else{let ge;const{el:le,props:me}=C,{bm:Se,m:Me,parent:ut}=S,ye=np(C);if(na(S,!1),Se&&tp(Se),!ye&&(ge=me&&me.onVnodeBeforeMount)&&xi(ge,ut,C),na(S,!0),le&&Qe){const wt=()=>{S.subTree=t_(S),Qe(le,S.subTree,S,B,null)};ye?C.type.__asyncLoader().then(()=>!S.isUnmounted&&wt()):wt()}else{const wt=S.subTree=t_(S);E(null,wt,x,L,S,B,q),C.el=wt.el}if(Me&&lr(Me,B),!ye&&(ge=me&&me.onVnodeMounted)){const wt=C;lr(()=>xi(ge,ut,wt),B)}(C.shapeFlag&256||ut&&np(ut.vnode)&&ut.vnode.shapeFlag&256)&&S.a&&lr(S.a,B),S.isMounted=!0,C=x=L=null}},Z=S.effect=new R0(z,()=>F0($),S.scope),$=S.update=()=>Z.run();$.id=S.uid,na(S,!0),$()},Ye=(S,C,x)=>{C.component=S;const L=S.vnode.props;S.vnode=C,S.next=null,wV(S,C.props,L,x),TV(S,C.children,x),Oc(),hC(),xc()},ze=(S,C,x,L,B,q,ne,z,Z=!1)=>{const $=S&&S.children,ge=S?S.shapeFlag:0,le=C.children,{patchFlag:me,shapeFlag:Se}=C;if(me>0){if(me&128){Mr($,le,x,L,B,q,ne,z,Z);return}else if(me&256){Ct($,le,x,L,B,q,ne,z,Z);return}}Se&8?(ge&16&&cn($,B,q),le!==$&&d(x,le)):ge&16?Se&16?Mr($,le,x,L,B,q,ne,z,Z):cn($,B,q,!0):(ge&8&&d(x,""),Se&16&&rt(le,x,L,B,q,ne,z,Z))},Ct=(S,C,x,L,B,q,ne,z,Z)=>{S=S||Bu,C=C||Bu;const $=S.length,ge=C.length,le=Math.min($,ge);let me;for(me=0;me<le;me++){const Se=C[me]=Z?ts(C[me]):Di(C[me]);E(S[me],Se,x,null,B,q,ne,z,Z)}$>ge?cn(S,B,q,!0,!1,le):rt(C,x,L,B,q,ne,z,Z,le)},Mr=(S,C,x,L,B,q,ne,z,Z)=>{let $=0;const ge=C.length;let le=S.length-1,me=ge-1;for(;$<=le&&$<=me;){const Se=S[$],Me=C[$]=Z?ts(C[$]):Di(C[$]);if(Ll(Se,Me))E(Se,Me,x,null,B,q,ne,z,Z);else break;$++}for(;$<=le&&$<=me;){const Se=S[le],Me=C[me]=Z?ts(C[me]):Di(C[me]);if(Ll(Se,Me))E(Se,Me,x,null,B,q,ne,z,Z);else break;le--,me--}if($>le){if($<=me){const Se=me+1,Me=Se<ge?C[Se].el:L;for(;$<=me;)E(null,C[$]=Z?ts(C[$]):Di(C[$]),x,Me,B,q,ne,z,Z),$++}}else if($>me)for(;$<=le;)un(S[$],B,q,!0),$++;else{const Se=$,Me=$,ut=new Map;for($=Me;$<=me;$++){const Dt=C[$]=Z?ts(C[$]):Di(C[$]);Dt.key!=null&&ut.set(Dt.key,$)}let ye,wt=0;const ln=me-Me+1;let eo=!1,Xc=0;const pt=new Array(ln);for($=0;$<ln;$++)pt[$]=0;for($=Se;$<=le;$++){const Dt=S[$];if(wt>=ln){un(Dt,B,q,!0);continue}let Xt;if(Dt.key!=null)Xt=ut.get(Dt.key);else for(ye=Me;ye<=me;ye++)if(pt[ye-Me]===0&&Ll(Dt,C[ye])){Xt=ye;break}Xt===void 0?un(Dt,B,q,!0):(pt[Xt-Me]=$+1,Xt>=Xc?Xc=Xt:eo=!0,E(Dt,C[Xt],x,null,B,q,ne,z,Z),wt++)}const Jc=eo?CV(pt):Bu;for(ye=Jc.length-1,$=ln-1;$>=0;$--){const Dt=Me+$,Xt=C[Dt],Zc=Dt+1<ge?C[Dt+1].el:L;pt[$]===0?E(null,Xt,x,Zc,B,q,ne,z,Z):eo&&(ye<0||$!==Jc[ye]?_n(Xt,x,Zc,2):ye--)}}},_n=(S,C,x,L,B=null)=>{const{el:q,type:ne,transition:z,children:Z,shapeFlag:$}=S;if($&6){_n(S.component.subTree,C,x,L);return}if($&128){S.suspense.move(C,x,L);return}if($&64){ne.move(S,C,x,H);return}if(ne===jt){r(q,C,x);for(let le=0;le<Z.length;le++)_n(Z[le],C,x,L);r(S.anchor,C,x);return}if(ne===ip){M(S,C,x);return}if(L!==2&&$&1&&z)if(L===0)z.beforeEnter(q),r(q,C,x),lr(()=>z.enter(q),B);else{const{leave:le,delayLeave:me,afterLeave:Se}=z,Me=()=>r(q,C,x),ut=()=>{le(q,()=>{Me(),Se&&Se()})};me?me(q,Me,ut):ut()}else r(q,C,x)},un=(S,C,x,L=!1,B=!1)=>{const{type:q,props:ne,ref:z,children:Z,dynamicChildren:$,shapeFlag:ge,patchFlag:le,dirs:me}=S;if(z!=null&&dw(z,null,x,S,!0),ge&256){C.ctx.deactivate(S);return}const Se=ge&1&&me,Me=!np(S);let ut;if(Me&&(ut=ne&&ne.onVnodeBeforeUnmount)&&xi(ut,C,S),ge&6)Ms(S.component,x,L);else{if(ge&128){S.suspense.unmount(x,L);return}Se&&ta(S,null,C,"beforeUnmount"),ge&64?S.type.remove(S,C,x,B,H,L):$&&(q!==jt||le>0&&le&64)?cn($,C,x,!1,!0):(q===jt&&le&384||!B&&ge&16)&&cn(Z,C,x),L&&Ji(S)}(Me&&(ut=ne&&ne.onVnodeUnmounted)||Se)&&lr(()=>{ut&&xi(ut,C,S),Se&&ta(S,null,C,"unmounted")},x)},Ji=S=>{const{type:C,el:x,anchor:L,transition:B}=S;if(C===jt){Zi(x,L);return}if(C===ip){U(S);return}const q=()=>{i(x),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(S.shapeFlag&1&&B&&!B.persisted){const{leave:ne,delayLeave:z}=B,Z=()=>ne(x,q);z?z(S.el,q,Z):Z()}else q()},Zi=(S,C)=>{let x;for(;S!==C;)x=m(S),i(S),S=x;i(C)},Ms=(S,C,x)=>{const{bum:L,scope:B,update:q,subTree:ne,um:z}=S;L&&tp(L),B.stop(),q&&(q.active=!1,un(ne,S,C,x)),z&&lr(z,C),lr(()=>{S.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},cn=(S,C,x,L=!1,B=!1,q=0)=>{for(let ne=q;ne<S.length;ne++)un(S[ne],C,x,L,B)},V=S=>S.shapeFlag&6?V(S.component.subTree):S.shapeFlag&128?S.suspense.next():m(S.anchor||S.el),oe=(S,C,x)=>{S==null?C._vnode&&un(C._vnode,null,null,!0):E(C._vnode||null,S,C,null,null,null,x),hC(),uR(),C._vnode=S},H={p:E,um:un,m:_n,r:Ji,mt:Ds,mc:rt,pc:ze,pbc:yn,n:V,o:t};let pe,Qe;return e&&([pe,Qe]=e(H)),{render:oe,hydrate:pe,createApp:yV(oe,pe)}}function na({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function AR(t,e,n=!1){const r=t.children,i=e.children;if(Ae(r)&&Ae(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=ts(i[s]),c.el=a.el),n||AR(a,c)),c.type===Sv&&(c.el=a.el)}}function CV(t){const e=t.slice(),n=[0];let r,i,s,a,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(i=n[n.length-1],t[i]<h){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,t[n[c]]<h?s=c+1:a=c;h<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const AV=t=>t.__isTeleport,jt=Symbol.for("v-fgt"),Sv=Symbol.for("v-txt"),Na=Symbol.for("v-cmt"),ip=Symbol.for("v-stc"),tf=[];let si=null;function be(t=!1){tf.push(si=t?null:[])}function NV(){tf.pop(),si=tf[tf.length-1]||null}let _f=1;function TC(t){_f+=t}function NR(t){return t.dynamicChildren=_f>0?si||Bu:null,NV(),_f>0&&si&&si.push(t),t}function Ne(t,e,n,r,i,s){return NR(k(t,e,n,r,i,s,!0))}function Co(t,e,n,r,i){return NR(Rt(t,e,n,r,i,!0))}function pw(t){return t?t.__v_isVNode===!0:!1}function Ll(t,e){return t.type===e.type&&t.key===e.key}const Cv="__vInternal",kR=({key:t})=>t??null,op=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qt(t)||On(t)||De(t)?{i:qr,r:t,k:e,f:!!n}:t:null);function k(t,e=null,n=null,r=0,i=null,s=t===jt?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kR(e),ref:e&&op(e),scopeId:fR,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qr};return c?(B0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Qt(n)?8:16),_f>0&&!a&&si&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&si.push(l),l}const Rt=kV;function kV(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===yR)&&(t=Na),pw(t)){const c=ic(t,e,!0);return n&&B0(c,n),_f>0&&!s&&si&&(c.shapeFlag&6?si[si.indexOf(t)]=c:si.push(c)),c.patchFlag|=-2,c}if(VV(t)&&(t=t.__vccOpts),e){e=RV(e);let{class:c,style:l}=e;c&&!Qt(c)&&(e.class=Aa(c)),St(l)&&(Zk(l)&&!Ae(l)&&(l=mn({},l)),e.style=N0(l))}const a=Qt(t)?1:Q4(t)?128:AV(t)?64:St(t)?4:De(t)?2:0;return k(t,e,n,r,i,a,s,!0)}function RV(t){return t?Zk(t)||Cv in t?mn({},t):t:null}function ic(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,c=e?OV(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&kR(c),ref:e&&e.ref?n&&i?Ae(i)?i.concat(op(e)):[i,op(e)]:op(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==jt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ic(t.ssContent),ssFallback:t.ssFallback&&ic(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function RR(t=" ",e=0){return Rt(Sv,null,t,e)}function ja(t,e){const n=Rt(ip,null,t);return n.staticCount=e,n}function ya(t="",e=!1){return e?(be(),Co(Na,null,t)):Rt(Na,null,t)}function Di(t){return t==null||typeof t=="boolean"?Rt(Na):Ae(t)?Rt(jt,null,t.slice()):typeof t=="object"?ts(t):Rt(Sv,null,String(t))}function ts(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ic(t)}function B0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ae(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),B0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Cv in e)?e._ctx=qr:i===3&&qr&&(qr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:qr},n=32):(e=String(e),r&64?(n=16,e=[RR(e)]):n=8);t.children=e,t.shapeFlag|=n}function OV(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Aa([e.class,r.class]));else if(i==="style")e.style=N0([e.style,r.style]);else if(mv(i)){const s=e[i],a=r[i];a&&s!==a&&!(Ae(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function xi(t,e,n,r=null){hi(t,e,7,[n,r])}const xV=bR();let PV=0;function DV(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||xV,s={uid:PV++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new s4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:TR(r,i),emitsOptions:lR(r,i),emit:null,emitted:null,propsDefaults:gt,inheritAttrs:r.inheritAttrs,ctx:gt,data:gt,props:gt,attrs:gt,slots:gt,refs:gt,setupState:gt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=G4.bind(null,s),t.ce&&t.ce(s),s}let Tn=null,q0,bu,IC="__VUE_INSTANCE_SETTERS__";(bu=rw()[IC])||(bu=rw()[IC]=[]),bu.push(t=>Tn=t),q0=t=>{bu.length>1?bu.forEach(e=>e(t)):bu[0](t)};const oc=t=>{q0(t),t.scope.on()},_a=()=>{Tn&&Tn.scope.off(),q0(null)};function OR(t){return t.vnode.shapeFlag&4}let wf=!1;function MV(t,e=!1){wf=e;const{props:n,children:r}=t.vnode,i=OR(t);_V(t,n,i,e),EV(t,r);const s=i?LV(t,e):void 0;return wf=!1,s}function LV(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=eR(new Proxy(t.ctx,fV));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?UV(t):null;oc(t),Oc();const s=ps(r,t,0,[t.props,i]);if(xc(),_a(),Lk(s)){if(s.then(_a,_a),e)return s.then(a=>{SC(t,a,e)}).catch(a=>{Ev(a,t,0)});t.asyncDep=s}else SC(t,s,e)}else xR(t,e)}function SC(t,e,n){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:St(e)&&(t.setupState=iR(e)),xR(t,n)}let CC;function xR(t,e,n){const r=t.type;if(!t.render){if(!e&&CC&&!r.render){const i=r.template||j0(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:l}=r,h=mn(mn({isCustomElement:s,delimiters:c},a),l);r.render=CC(i,h)}}t.render=r.render||fi}oc(t),Oc(),hV(t),xc(),_a()}function FV(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return gr(t,"get","$attrs"),e[n]}}))}function UV(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return FV(t)},slots:t.slots,emit:t.emit,expose:e}}function Av(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(iR(eR(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ef)return ef[n](t)},has(e,n){return n in e||n in ef}}))}function jV(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function VV(t){return De(t)&&"__vccOpts"in t}const vn=(t,e)=>j4(t,e,wf);function PR(t,e,n){const r=arguments.length;return r===2?St(e)&&!Ae(e)?pw(e)?Rt(t,null,[e]):Rt(t,e):Rt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&pw(n)&&(n=[n]),Rt(t,e,n))}const BV=Symbol.for("v-scx"),qV=()=>di(BV),WV="3.3.4",HV="http://www.w3.org/2000/svg",aa=typeof document<"u"?document:null,AC=aa&&aa.createElement("template"),GV={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?aa.createElementNS(HV,t):aa.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>aa.createTextNode(t),createComment:t=>aa.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>aa.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{AC.innerHTML=r?`<svg>${t}</svg>`:t;const c=AC.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function $V(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function YV(t,e,n){const r=t.style,i=Qt(n);if(n&&!i){if(e&&!Qt(e))for(const s in e)n[s]==null&&vw(r,s,"");for(const s in n)vw(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const NC=/\s*!important$/;function vw(t,e,n){if(Ae(n))n.forEach(r=>vw(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=zV(t,e);NC.test(n)?t.setProperty(Ua(r),n.replace(NC,""),"important"):t[r]=n}}const kC=["Webkit","Moz","ms"],r_={};function zV(t,e){const n=r_[e];if(n)return n;let r=Wi(e);if(r!=="filter"&&r in t)return r_[e]=r;r=wv(r);for(let i=0;i<kC.length;i++){const s=kC[i]+r;if(s in t)return r_[e]=s}return e}const RC="http://www.w3.org/1999/xlink";function KV(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(RC,e.slice(6,e.length)):t.setAttributeNS(RC,e,n);else{const s=o4(e);n==null||s&&!jk(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function QV(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const h=c==="OPTION"?t.getAttribute("value"):t.value,d=n??"";h!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const h=typeof t[e];h==="boolean"?n=jk(n):n==null&&h==="string"?(n="",l=!0):h==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Ru(t,e,n,r){t.addEventListener(e,n,r)}function XV(t,e,n,r){t.removeEventListener(e,n,r)}function JV(t,e,n,r,i=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[c,l]=ZV(e);if(r){const h=s[e]=n3(r,i);Ru(t,c,h,l)}else a&&(XV(t,c,a,l),s[e]=void 0)}}const OC=/(?:Once|Passive|Capture)$/;function ZV(t){let e;if(OC.test(t)){e={};let r;for(;r=t.match(OC);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ua(t.slice(2)),e]}let i_=0;const e3=Promise.resolve(),t3=()=>i_||(e3.then(()=>i_=0),i_=Date.now());function n3(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;hi(r3(r,n.value),e,5,[r])};return n.value=t,n.attached=t3(),n}function r3(t,e){if(Ae(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const xC=/^on[a-z]/,i3=(t,e,n,r,i=!1,s,a,c,l)=>{e==="class"?$V(t,r,i):e==="style"?YV(t,n,r):mv(e)?I0(e)||JV(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):o3(t,e,r,i))?QV(t,e,r,s,a,c,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),KV(t,e,r,i))};function o3(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&xC.test(e)&&De(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||xC.test(e)&&Qt(n)?!1:e in t}const PC=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ae(e)?n=>tp(e,n):e};function s3(t){t.target.composing=!0}function DC(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gs={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=PC(i);const s=r||i.props&&i.props.type==="number";Ru(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=nw(c)),t._assign(c)}),n&&Ru(t,"change",()=>{t.value=t.value.trim()}),e||(Ru(t,"compositionstart",s3),Ru(t,"compositionend",DC),Ru(t,"change",DC))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=PC(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&nw(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},a3=["ctrl","shift","alt","meta"],u3={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>a3.some(n=>t[`${n}Key`]&&!e.includes(n))},DR=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=u3[e[i]];if(s&&s(n,e))return}return t(n,...r)},c3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},l3=(t,e)=>n=>{if(!("key"in n))return;const r=Ua(n.key);if(e.some(i=>i===r||c3[i]===r))return t(n)},f3=mn({patchProp:i3},GV);let MC;function h3(){return MC||(MC=IV(f3))}const d3=(...t)=>{const e=h3().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=p3(r);if(!i)return;const s=e._component;!De(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function p3(t){return Qt(t)?document.querySelector(t):t}function v3(){return MR().__VUE_DEVTOOLS_GLOBAL_HOOK__}function MR(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const g3=typeof Proxy=="function",m3="devtools-plugin:setup",y3="plugin:settings:set";let Eu,gw;function _3(){var t;return Eu!==void 0||(typeof window<"u"&&window.performance?(Eu=!0,gw=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Eu=!0,gw=global.perf_hooks.performance):Eu=!1),Eu}function w3(){return _3()?gw.now():Date.now()}class b3{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const c=e.settings[a];r[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(s,c)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return w3()}},n&&n.on(y3,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:c,args:l,resolve:h})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function E3(t,e){const n=t,r=MR(),i=v3(),s=g3&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(m3,t,e);else{const a=s?new b3(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ou=typeof window<"u";function T3(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ot=Object.assign;function o_(t,e){const n={};for(const r in e){const i=e[r];n[r]=gi(i)?i.map(t):t(i)}return n}const nf=()=>{},gi=Array.isArray,I3=/\/$/,S3=t=>t.replace(I3,"");function s_(t,e,n="/"){let r,i={},s="",a="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=k3(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function C3(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function LC(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function A3(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&sc(e.matched[r],n.matched[i])&&LR(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function sc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function LR(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!N3(t[n],e[n]))return!1;return!0}function N3(t,e){return gi(t)?FC(t,e):gi(e)?FC(e,t):t===e}function FC(t,e){return gi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function k3(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var bf;(function(t){t.pop="pop",t.push="push"})(bf||(bf={}));var rf;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rf||(rf={}));function R3(t){if(!t)if(Ou){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),S3(t)}const O3=/^[^#]+#/;function x3(t,e){return t.replace(O3,"#")+e}function P3(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Nv=()=>({left:window.pageXOffset,top:window.pageYOffset});function D3(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=P3(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function UC(t,e){return(history.state?history.state.position-e:-1)+t}const mw=new Map;function M3(t,e){mw.set(t,e)}function L3(t){const e=mw.get(t);return mw.delete(t),e}let F3=()=>location.protocol+"//"+location.host;function FR(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),LC(l,"")}return LC(n,t)+r+i}function U3(t,e,n,r){let i=[],s=[],a=null;const c=({state:m})=>{const y=FR(t,location),b=n.value,E=e.value;let T=0;if(m){if(n.value=y,e.value=m,a&&a===b){a=null;return}T=E?m.position-E.position:0}else r(y);i.forEach(A=>{A(n.value,b,{delta:T,type:bf.pop,direction:T?T>0?rf.forward:rf.back:rf.unknown})})};function l(){a=n.value}function h(m){i.push(m);const y=()=>{const b=i.indexOf(m);b>-1&&i.splice(b,1)};return s.push(y),y}function d(){const{history:m}=window;m.state&&m.replaceState(ot({},m.state,{scroll:Nv()}),"")}function v(){for(const m of s)m();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:v}}function jC(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Nv():null}}function j3(t){const{history:e,location:n}=window,r={value:FR(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=t.indexOf("#"),m=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+l:F3()+t+l;try{e[d?"replaceState":"pushState"](h,"",m),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](m)}}function a(l,h){const d=ot({},e.state,jC(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=ot({},i.value,e.state,{forward:l,scroll:Nv()});s(d.current,d,!0);const v=ot({},jC(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function V3(t){t=R3(t);const e=j3(t),n=U3(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=ot({location:"",base:t,go:r,createHref:x3.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function B3(t){return typeof t=="string"||t&&typeof t=="object"}function UR(t){return typeof t=="string"||typeof t=="symbol"}const Ko={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},jR=Symbol("");var VC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(VC||(VC={}));function ac(t,e){return ot(new Error,{type:t,[jR]:!0},e)}function so(t,e){return t instanceof Error&&jR in t&&(e==null||!!(t.type&e))}const BC="[^/]+?",q3={sensitive:!1,strict:!1,start:!0,end:!0},W3=/[.+*?^${}()[\]/\\]/g;function H3(t,e){const n=ot({},q3,e),r=[];let i=n.start?"^":"";const s=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const m=h[v];let y=40+(n.sensitive?.25:0);if(m.type===0)v||(i+="/"),i+=m.value.replace(W3,"\\$&"),y+=40;else if(m.type===1){const{value:b,repeatable:E,optional:T,regexp:A}=m;s.push({name:b,repeatable:E,optional:T});const P=A||BC;if(P!==BC){y+=10;try{new RegExp(`(${P})`)}catch(U){throw new Error(`Invalid custom RegExp for param "${b}" (${P}): `+U.message)}}let M=E?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(M=T&&h.length<2?`(?:/${M})`:"/"+M),T&&(M+="?"),i+=M,y+=20,T&&(y+=-8),E&&(y+=-20),P===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let m=1;m<d.length;m++){const y=d[m]||"",b=s[m-1];v[b.name]=y&&b.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const m of t){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of m)if(y.type===0)d+=y.value;else if(y.type===1){const{value:b,repeatable:E,optional:T}=y,A=b in h?h[b]:"";if(gi(A)&&!E)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const P=gi(A)?A.join("/"):A;if(!P)if(T)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${b}"`);d+=P}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function G3(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function $3(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=G3(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(qC(r))return 1;if(qC(i))return-1}return i.length-r.length}function qC(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Y3={type:0,value:""},z3=/[a-zA-Z0-9_]/;function K3(t){if(!t)return[[]];if(t==="/")return[[Y3]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:z3.test(l)?m():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function Q3(t,e,n){const r=H3(K3(t.path),n),i=ot(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function X3(t,e){const n=[],r=new Map;e=GC({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,v,m){const y=!m,b=J3(d);b.aliasOf=m&&m.record;const E=GC(e,d),T=[b];if("alias"in d){const M=typeof d.alias=="string"?[d.alias]:d.alias;for(const U of M)T.push(ot({},b,{components:m?m.record.components:b.components,path:U,aliasOf:m?m.record:b}))}let A,P;for(const M of T){const{path:U}=M;if(v&&U[0]!=="/"){const X=v.record.path,j=X[X.length-1]==="/"?"":"/";M.path=v.record.path+(U&&j+U)}if(A=Q3(M,v,E),m?m.alias.push(A):(P=P||A,P!==A&&P.alias.push(A),y&&d.name&&!HC(A)&&a(d.name)),b.children){const X=b.children;for(let j=0;j<X.length;j++)s(X[j],A,m&&m.children[j])}m=m||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&l(A)}return P?()=>{a(P)}:nf}function a(d){if(UR(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&$3(d,n[v])>=0&&(d.record.path!==n[v].record.path||!VR(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!HC(d)&&r.set(d.record.name,d)}function h(d,v){let m,y={},b,E;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw ac(1,{location:d});E=m.record.name,y=ot(WC(v.params,m.keys.filter(P=>!P.optional).map(P=>P.name)),d.params&&WC(d.params,m.keys.map(P=>P.name))),b=m.stringify(y)}else if("path"in d)b=d.path,m=n.find(P=>P.re.test(b)),m&&(y=m.parse(b),E=m.record.name);else{if(m=v.name?r.get(v.name):n.find(P=>P.re.test(v.path)),!m)throw ac(1,{location:d,currentLocation:v});E=m.record.name,y=ot({},v.params,d.params),b=m.stringify(y)}const T=[];let A=m;for(;A;)T.unshift(A.record),A=A.parent;return{name:E,path:b,params:y,matched:T,meta:eB(T)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function WC(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function J3(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Z3(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Z3(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function HC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function eB(t){return t.reduce((e,n)=>ot(e,n.meta),{})}function GC(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function VR(t,e){return e.children.some(n=>n===t||VR(t,n))}const BR=/#/g,tB=/&/g,nB=/\//g,rB=/=/g,iB=/\?/g,qR=/\+/g,oB=/%5B/g,sB=/%5D/g,WR=/%5E/g,aB=/%60/g,HR=/%7B/g,uB=/%7C/g,GR=/%7D/g,cB=/%20/g;function W0(t){return encodeURI(""+t).replace(uB,"|").replace(oB,"[").replace(sB,"]")}function lB(t){return W0(t).replace(HR,"{").replace(GR,"}").replace(WR,"^")}function yw(t){return W0(t).replace(qR,"%2B").replace(cB,"+").replace(BR,"%23").replace(tB,"%26").replace(aB,"`").replace(HR,"{").replace(GR,"}").replace(WR,"^")}function fB(t){return yw(t).replace(rB,"%3D")}function hB(t){return W0(t).replace(BR,"%23").replace(iB,"%3F")}function dB(t){return t==null?"":hB(t).replace(nB,"%2F")}function Sp(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function pB(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(qR," "),a=s.indexOf("="),c=Sp(a<0?s:s.slice(0,a)),l=a<0?null:Sp(s.slice(a+1));if(c in e){let h=e[c];gi(h)||(h=e[c]=[h]),h.push(l)}else e[c]=l}return e}function $C(t){let e="";for(let n in t){const r=t[n];if(n=fB(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(gi(r)?r.map(s=>s&&yw(s)):[r&&yw(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function vB(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=gi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const gB=Symbol(""),YC=Symbol(""),kv=Symbol(""),H0=Symbol(""),_w=Symbol("");function Fl(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function ns(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(ac(4,{from:n,to:e})):v instanceof Error?c(v):B3(v)?c(ac(2,{from:e,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=t.call(r&&r.instances[i],e,n,l);let d=Promise.resolve(h);t.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function a_(t,e,n,r){const i=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(mB(c)){const h=(c.__vccOpts||c)[e];h&&i.push(ns(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=T3(h)?h.default:h;s.components[a]=d;const m=(d.__vccOpts||d)[e];return m&&ns(m,n,r,s,a)()}))}}return i}function mB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function zC(t){const e=di(kv),n=di(H0),r=vn(()=>e.resolve(Hu(t.to))),i=vn(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const m=v.findIndex(sc.bind(null,d));if(m>-1)return m;const y=KC(l[h-2]);return h>1&&KC(d)===y&&v[v.length-1].path!==y?v.findIndex(sc.bind(null,l[h-2])):m}),s=vn(()=>i.value>-1&&bB(n.params,r.value.params)),a=vn(()=>i.value>-1&&i.value===n.matched.length-1&&LR(n.params,r.value.params));function c(l={}){return wB(l)?e[Hu(t.replace)?"replace":"push"](Hu(t.to)).catch(nf):Promise.resolve()}return{route:r,href:vn(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const yB=pR({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zC,setup(t,{slots:e}){const n=Zf(zC(t)),{options:r}=di(kv),i=vn(()=>({[QC(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[QC(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:PR("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),_B=yB;function wB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function bB(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!gi(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function KC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const QC=(t,e,n)=>t??e??n,EB=pR({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=di(_w),i=vn(()=>t.route||r.value),s=di(YC,0),a=vn(()=>{let h=Hu(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=vn(()=>i.value.matched[a.value]);rp(YC,vn(()=>a.value+1)),rp(gB,c),rp(_w,i);const l=Kt();return $u(()=>[l.value,c.value,t.name],([h,d,v],[m,y,b])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!sc(d,y)||!m)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=t.name,v=c.value,m=v&&v.components[d];if(!m)return XC(n.default,{Component:m,route:h});const y=v.props[d],b=y?y===!0?h.params:typeof y=="function"?y(h):y:null,T=PR(m,ot({},b,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return XC(n.default,{Component:T,route:h})||T}}});function XC(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const TB=EB;function IB(t){const e=X3(t.routes,t),n=t.parseQuery||pB,r=t.stringifyQuery||$C,i=t.history,s=Fl(),a=Fl(),c=Fl(),l=M4(Ko);let h=Ko;Ou&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=o_.bind(null,V=>""+V),v=o_.bind(null,dB),m=o_.bind(null,Sp);function y(V,oe){let H,pe;return UR(V)?(H=e.getRecordMatcher(V),pe=oe):pe=V,e.addRoute(pe,H)}function b(V){const oe=e.getRecordMatcher(V);oe&&e.removeRoute(oe)}function E(){return e.getRoutes().map(V=>V.record)}function T(V){return!!e.getRecordMatcher(V)}function A(V,oe){if(oe=ot({},oe||l.value),typeof V=="string"){const x=s_(n,V,oe.path),L=e.resolve({path:x.path},oe),B=i.createHref(x.fullPath);return ot(x,L,{params:m(L.params),hash:Sp(x.hash),redirectedFrom:void 0,href:B})}let H;if("path"in V)H=ot({},V,{path:s_(n,V.path,oe.path).path});else{const x=ot({},V.params);for(const L in x)x[L]==null&&delete x[L];H=ot({},V,{params:v(x)}),oe.params=v(oe.params)}const pe=e.resolve(H,oe),Qe=V.hash||"";pe.params=d(m(pe.params));const S=C3(r,ot({},V,{hash:lB(Qe),path:pe.path})),C=i.createHref(S);return ot({fullPath:S,hash:Qe,query:r===$C?vB(V.query):V.query||{}},pe,{redirectedFrom:void 0,href:C})}function P(V){return typeof V=="string"?s_(n,V,l.value.path):ot({},V)}function M(V,oe){if(h!==V)return ac(8,{from:oe,to:V})}function U(V){return Ie(V)}function X(V){return U(ot(P(V),{replace:!0}))}function j(V){const oe=V.matched[V.matched.length-1];if(oe&&oe.redirect){const{redirect:H}=oe;let pe=typeof H=="function"?H(V):H;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=P(pe):{path:pe},pe.params={}),ot({query:V.query,hash:V.hash,params:"path"in pe?{}:V.params},pe)}}function Ie(V,oe){const H=h=A(V),pe=l.value,Qe=V.state,S=V.force,C=V.replace===!0,x=j(H);if(x)return Ie(ot(P(x),{state:typeof x=="object"?ot({},Qe,x.state):Qe,force:S,replace:C}),oe||H);const L=H;L.redirectedFrom=oe;let B;return!S&&A3(r,pe,H)&&(B=ac(16,{to:L,from:pe}),_n(pe,pe,!0,!1)),(B?Promise.resolve(B):yn(L,pe)).catch(q=>so(q)?so(q,2)?q:Mr(q):ze(q,L,pe)).then(q=>{if(q){if(so(q,2))return Ie(ot({replace:C},P(q.to),{state:typeof q.to=="object"?ot({},Qe,q.to.state):Qe,force:S}),oe||L)}else q=Ei(L,pe,!0,C,Qe);return O(L,pe,q),q})}function rt(V,oe){const H=M(V,oe);return H?Promise.reject(H):Promise.resolve()}function de(V){const oe=Zi.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(V):V()}function yn(V,oe){let H;const[pe,Qe,S]=SB(V,oe);H=a_(pe.reverse(),"beforeRouteLeave",V,oe);for(const x of pe)x.leaveGuards.forEach(L=>{H.push(ns(L,V,oe))});const C=rt.bind(null,V,oe);return H.push(C),cn(H).then(()=>{H=[];for(const x of s.list())H.push(ns(x,V,oe));return H.push(C),cn(H)}).then(()=>{H=a_(Qe,"beforeRouteUpdate",V,oe);for(const x of Qe)x.updateGuards.forEach(L=>{H.push(ns(L,V,oe))});return H.push(C),cn(H)}).then(()=>{H=[];for(const x of S)if(x.beforeEnter)if(gi(x.beforeEnter))for(const L of x.beforeEnter)H.push(ns(L,V,oe));else H.push(ns(x.beforeEnter,V,oe));return H.push(C),cn(H)}).then(()=>(V.matched.forEach(x=>x.enterCallbacks={}),H=a_(S,"beforeRouteEnter",V,oe),H.push(C),cn(H))).then(()=>{H=[];for(const x of a.list())H.push(ns(x,V,oe));return H.push(C),cn(H)}).catch(x=>so(x,8)?x:Promise.reject(x))}function O(V,oe,H){c.list().forEach(pe=>de(()=>pe(V,oe,H)))}function Ei(V,oe,H,pe,Qe){const S=M(V,oe);if(S)return S;const C=oe===Ko,x=Ou?history.state:{};H&&(pe||C?i.replace(V.fullPath,ot({scroll:C&&x&&x.scroll},Qe)):i.push(V.fullPath,Qe)),l.value=V,_n(V,oe,H,C),Mr()}let An;function Ds(){An||(An=i.listen((V,oe,H)=>{if(!Ms.listening)return;const pe=A(V),Qe=j(pe);if(Qe){Ie(ot(Qe,{replace:!0}),pe).catch(nf);return}h=pe;const S=l.value;Ou&&M3(UC(S.fullPath,H.delta),Nv()),yn(pe,S).catch(C=>so(C,12)?C:so(C,2)?(Ie(C.to,pe).then(x=>{so(x,20)&&!H.delta&&H.type===bf.pop&&i.go(-1,!1)}).catch(nf),Promise.reject()):(H.delta&&i.go(-H.delta,!1),ze(C,pe,S))).then(C=>{C=C||Ei(pe,S,!1),C&&(H.delta&&!so(C,8)?i.go(-H.delta,!1):H.type===bf.pop&&so(C,20)&&i.go(-1,!1)),O(pe,S,C)}).catch(nf)}))}let Ti=Fl(),_t=Fl(),Ye;function ze(V,oe,H){Mr(V);const pe=_t.list();return pe.length?pe.forEach(Qe=>Qe(V,oe,H)):console.error(V),Promise.reject(V)}function Ct(){return Ye&&l.value!==Ko?Promise.resolve():new Promise((V,oe)=>{Ti.add([V,oe])})}function Mr(V){return Ye||(Ye=!V,Ds(),Ti.list().forEach(([oe,H])=>V?H(V):oe()),Ti.reset()),V}function _n(V,oe,H,pe){const{scrollBehavior:Qe}=t;if(!Ou||!Qe)return Promise.resolve();const S=!H&&L3(UC(V.fullPath,0))||(pe||!H)&&history.state&&history.state.scroll||null;return sR().then(()=>Qe(V,oe,S)).then(C=>C&&D3(C)).catch(C=>ze(C,V,oe))}const un=V=>i.go(V);let Ji;const Zi=new Set,Ms={currentRoute:l,listening:!0,addRoute:y,removeRoute:b,hasRoute:T,getRoutes:E,resolve:A,options:t,push:U,replace:X,go:un,back:()=>un(-1),forward:()=>un(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:_t.add,isReady:Ct,install(V){const oe=this;V.component("RouterLink",_B),V.component("RouterView",TB),V.config.globalProperties.$router=oe,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>Hu(l)}),Ou&&!Ji&&l.value===Ko&&(Ji=!0,U(i.location).catch(Qe=>{}));const H={};for(const Qe in Ko)Object.defineProperty(H,Qe,{get:()=>l.value[Qe],enumerable:!0});V.provide(kv,oe),V.provide(H0,Xk(H)),V.provide(_w,l);const pe=V.unmount;Zi.add(V),V.unmount=function(){Zi.delete(V),Zi.size<1&&(h=Ko,An&&An(),An=null,l.value=Ko,Ji=!1,Ye=!1),pe()}}};function cn(V){return V.reduce((oe,H)=>oe.then(()=>de(H)),Promise.resolve())}return Ms}function SB(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(h=>sc(h,c))?r.push(c):n.push(c));const l=t.matched[a];l&&(e.matched.find(h=>sc(h,l))||i.push(l))}return[n,r,i]}function $R(){return di(kv)}function YR(){return di(H0)}const rr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},CB={},AB={class:"hidden lg:block lg:w-2/5 px-4 py-2"},NB=k("div",{class:"relative mb-5"},[k("input",{placeholder:" ",type:"text",class:"pl-10 rounded-full w-full p-2 bg-gray-100 text-sm focus:ring-1 focus:ring-primary focus:bg-white focus:outline-none"}),k("i",{class:"fas fa-search absolute left-0 mt-2 ml-3 text-sm text-light"})],-1),kB={class:"w-full rounded-lg bg-gray-50 flex flex-col"},RB=k("div",{class:"flex items-center justify-between px-3 py-1 border-b border-gray-100"},[k("span",{class:"text-lg font-bold"},"  "),k("i",{class:"text-center fas fa-cog text-lg text-primary hover:bg-blue-50 p-2 rounded-full"})],-1),OB=ja('<div class="flex"><div class="flex-1 flex flex-col"><div class="text-gray-500">  </div><div class="font-bold text-lg"></div><div class="text-gray-500">3,564 </div></div><i class="fas fa-ellipsis-h text-gray-500"></i></div>',1),xB=[OB],PB=k("div",{class:"px-4 py-2 hover:bg-gray-100"},[k("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"}," ")],-1),DB={class:"mt-5 w-full rounded-lg bg-gray-50 flex flex-col"},MB=k("div",{class:"px-3 py-3 border-b border-gray-100"},[k("span",{class:"text-lg font-bold"}," ")],-1),LB=ja('<div class="flex items-center"><img src="http://picsum.photos/200" class="w-12 h-12 rounded-full mr-2"><div class="flex-1 flex flex-col"><div class="font-bold"></div><div class="text-gray-500 text-sm">@jung_jaeWoong</div></div><div><button class="border-2 border-primary hover:bg-blue-100 px-2 py-1 rounded-full text-primary text-sm"></button></div></div>',1),FB=[LB],UB=k("div",{class:"px-4 py-2 hover:bg-gray-100"},[k("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"}," ")],-1);function jB(t,e,n,r,i,s){return be(),Ne("div",AB,[NB,k("div",kB,[RB,(be(),Ne(jt,null,So(3,a=>k("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},xB)),64)),PB]),k("div",DB,[MB,(be(),Ne(jt,null,So(3,a=>k("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},FB)),64)),UB])])}const Rv=rr(CB,[["render",jB]]);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var zR;function re(){return zR.apply(null,arguments)}function VB(t){zR=t}function mi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function wa(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function et(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function G0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(et(t,e))return!1;return!0}function fr(t){return t===void 0}function Ao(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function th(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function KR(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function ls(t,e){for(var n in e)et(e,n)&&(t[n]=e[n]);return et(e,"toString")&&(t.toString=e.toString),et(e,"valueOf")&&(t.valueOf=e.valueOf),t}function zi(t,e,n,r){return _O(t,e,n,r,!0).utc()}function BB(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Pe(t){return t._pf==null&&(t._pf=BB()),t._pf}var ww;Array.prototype.some?ww=Array.prototype.some:ww=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function $0(t){if(t._isValid==null){var e=Pe(t),n=ww.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Ov(t){var e=zi(NaN);return t!=null?ls(Pe(e),t):Pe(e).userInvalidated=!0,e}var JC=re.momentProperties=[],u_=!1;function Y0(t,e){var n,r,i,s=JC.length;if(fr(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),fr(e._i)||(t._i=e._i),fr(e._f)||(t._f=e._f),fr(e._l)||(t._l=e._l),fr(e._strict)||(t._strict=e._strict),fr(e._tzm)||(t._tzm=e._tzm),fr(e._isUTC)||(t._isUTC=e._isUTC),fr(e._offset)||(t._offset=e._offset),fr(e._pf)||(t._pf=Pe(e)),fr(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=JC[n],i=e[r],fr(i)||(t[r]=i);return t}function nh(t){Y0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),u_===!1&&(u_=!0,re.updateOffset(this),u_=!1)}function yi(t){return t instanceof nh||t!=null&&t._isAMomentObject!=null}function QR(t){re.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Yr(t,e){var n=!0;return ls(function(){if(re.deprecationHandler!=null&&re.deprecationHandler(null,t),n){var r=[],i,s,a,c=arguments.length;for(s=0;s<c;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])et(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}QR(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var ZC={};function XR(t,e){re.deprecationHandler!=null&&re.deprecationHandler(t,e),ZC[t]||(QR(e),ZC[t]=!0)}re.suppressDeprecationWarnings=!1;re.deprecationHandler=null;function Ki(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function qB(t){var e,n;for(n in t)et(t,n)&&(e=t[n],Ki(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function bw(t,e){var n=ls({},t),r;for(r in e)et(e,r)&&(wa(t[r])&&wa(e[r])?(n[r]={},ls(n[r],t[r]),ls(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)et(t,r)&&!et(e,r)&&wa(t[r])&&(n[r]=ls({},n[r]));return n}function z0(t){t!=null&&this.set(t)}var Ew;Object.keys?Ew=Object.keys:Ew=function(t){var e,n=[];for(e in t)et(t,e)&&n.push(e);return n};var WB={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function HB(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return Ki(r)?r.call(e,n):r}function Hi(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var K0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ld=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,c_={},Yu={};function _e(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Yu[t]=i),e&&(Yu[e[0]]=function(){return Hi(i.apply(this,arguments),e[1],e[2])}),n&&(Yu[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function GB(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $B(t){var e=t.match(K0),n,r;for(n=0,r=e.length;n<r;n++)Yu[e[n]]?e[n]=Yu[e[n]]:e[n]=GB(e[n]);return function(i){var s="",a;for(a=0;a<r;a++)s+=Ki(e[a])?e[a].call(i,t):e[a];return s}}function sp(t,e){return t.isValid()?(e=JR(e,t.localeData()),c_[e]=c_[e]||$B(e),c_[e](t)):t.localeData().invalidDate()}function JR(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(Ld.lastIndex=0;n>=0&&Ld.test(t);)t=t.replace(Ld,r),Ld.lastIndex=0,n-=1;return t}var YB={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function zB(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(K0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var KB="Invalid date";function QB(){return this._invalidDate}var XB="%d",JB=/\d{1,2}/;function ZB(t){return this._ordinal.replace("%d",t)}var eq={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tq(t,e,n,r){var i=this._relativeTime[n];return Ki(i)?i(t,e,n,r):i.replace(/%d/i,t)}function nq(t,e){var n=this._relativeTime[t>0?"future":"past"];return Ki(n)?n(e):n.replace(/%s/i,e)}var of={};function Vn(t,e){var n=t.toLowerCase();of[n]=of[n+"s"]=of[e]=t}function zr(t){return typeof t=="string"?of[t]||of[t.toLowerCase()]:void 0}function Q0(t){var e={},n,r;for(r in t)et(t,r)&&(n=zr(r),n&&(e[n]=t[r]));return e}var ZR={};function Bn(t,e){ZR[t]=e}function rq(t){var e=[],n;for(n in t)et(t,n)&&e.push({unit:n,priority:ZR[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function xv(t){return t%4===0&&t%100!==0||t%400===0}function Br(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Fe(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Br(e)),n}function Pc(t,e){return function(n){return n!=null?(eO(this,t,n),re.updateOffset(this,e),this):Cp(this,t)}}function Cp(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function eO(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&xv(t.year())&&t.month()===1&&t.date()===29?(n=Fe(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Uv(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function iq(t){return t=zr(t),Ki(this[t])?this[t]():this}function oq(t,e){if(typeof t=="object"){t=Q0(t);var n=rq(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=zr(t),Ki(this[t]))return this[t](e);return this}var tO=/\d/,Dr=/\d\d/,nO=/\d{3}/,X0=/\d{4}/,Pv=/[+-]?\d{6}/,yt=/\d\d?/,rO=/\d\d\d\d?/,iO=/\d\d\d\d\d\d?/,Dv=/\d{1,3}/,J0=/\d{1,4}/,Mv=/[+-]?\d{1,6}/,Dc=/\d+/,Lv=/[+-]?\d+/,sq=/Z|[+-]\d\d:?\d\d/gi,Fv=/Z|[+-]\d\d(?::?\d\d)?/gi,aq=/[+-]?\d+(\.\d{1,3})?/,rh=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ap;Ap={};function se(t,e,n){Ap[t]=Ki(e)?e:function(r,i){return r&&n?n:e}}function uq(t,e){return et(Ap,t)?Ap[t](e._strict,e._locale):new RegExp(cq(t))}function cq(t){return Sr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Sr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Tw={};function ht(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Ao(e)&&(r=function(s,a){a[e]=Fe(s)}),i=t.length,n=0;n<i;n++)Tw[t[n]]=r}function ih(t,e){ht(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function lq(t,e,n){e!=null&&et(Tw,t)&&Tw[t](e,n._a,n,t)}var Dn=0,po=1,Li=2,nn=3,ai=4,vo=5,fa=6,fq=7,hq=8;function dq(t,e){return(t%e+e)%e}var Ut;Array.prototype.indexOf?Ut=Array.prototype.indexOf:Ut=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Uv(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=dq(e,12);return t+=(e-n)/12,n===1?xv(t)?29:28:31-n%7%2}_e("M",["MM",2],"Mo",function(){return this.month()+1});_e("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});_e("MMMM",0,0,function(t){return this.localeData().months(this,t)});Vn("month","M");Bn("month",8);se("M",yt);se("MM",yt,Dr);se("MMM",function(t,e){return e.monthsShortRegex(t)});se("MMMM",function(t,e){return e.monthsRegex(t)});ht(["M","MM"],function(t,e){e[po]=Fe(t)-1});ht(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[po]=i:Pe(n).invalidMonth=t});var pq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),oO="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),sO=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,vq=rh,gq=rh;function mq(t,e){return t?mi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||sO).test(e)?"format":"standalone"][t.month()]:mi(this._months)?this._months:this._months.standalone}function yq(t,e){return t?mi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[sO.test(e)?"format":"standalone"][t.month()]:mi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function _q(t,e,n){var r,i,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=zi([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=Ut.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Ut.call(this._longMonthsParse,a),i!==-1?i:null):e==="MMM"?(i=Ut.call(this._shortMonthsParse,a),i!==-1?i:(i=Ut.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Ut.call(this._longMonthsParse,a),i!==-1?i:(i=Ut.call(this._shortMonthsParse,a),i!==-1?i:null))}function wq(t,e,n){var r,i,s;if(this._monthsParseExact)return _q.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=zi([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function aO(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Fe(e);else if(e=t.localeData().monthsParse(e),!Ao(e))return t}return n=Math.min(t.date(),Uv(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function uO(t){return t!=null?(aO(this,t),re.updateOffset(this,!0),this):Cp(this,"Month")}function bq(){return Uv(this.year(),this.month())}function Eq(t){return this._monthsParseExact?(et(this,"_monthsRegex")||cO.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(et(this,"_monthsShortRegex")||(this._monthsShortRegex=vq),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Tq(t){return this._monthsParseExact?(et(this,"_monthsRegex")||cO.call(this),t?this._monthsStrictRegex:this._monthsRegex):(et(this,"_monthsRegex")||(this._monthsRegex=gq),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function cO(){function t(a,c){return c.length-a.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=zi([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=Sr(e[i]),n[i]=Sr(n[i]);for(i=0;i<24;i++)r[i]=Sr(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}_e("Y",0,0,function(){var t=this.year();return t<=9999?Hi(t,4):"+"+t});_e(0,["YY",2],0,function(){return this.year()%100});_e(0,["YYYY",4],0,"year");_e(0,["YYYYY",5],0,"year");_e(0,["YYYYYY",6,!0],0,"year");Vn("year","y");Bn("year",1);se("Y",Lv);se("YY",yt,Dr);se("YYYY",J0,X0);se("YYYYY",Mv,Pv);se("YYYYYY",Mv,Pv);ht(["YYYYY","YYYYYY"],Dn);ht("YYYY",function(t,e){e[Dn]=t.length===2?re.parseTwoDigitYear(t):Fe(t)});ht("YY",function(t,e){e[Dn]=re.parseTwoDigitYear(t)});ht("Y",function(t,e){e[Dn]=parseInt(t,10)});function sf(t){return xv(t)?366:365}re.parseTwoDigitYear=function(t){return Fe(t)+(Fe(t)>68?1900:2e3)};var lO=Pc("FullYear",!0);function Iq(){return xv(this.year())}function Sq(t,e,n,r,i,s,a){var c;return t<100&&t>=0?(c=new Date(t+400,e,n,r,i,s,a),isFinite(c.getFullYear())&&c.setFullYear(t)):c=new Date(t,e,n,r,i,s,a),c}function Ef(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Np(t,e,n){var r=7+e-n,i=(7+Ef(t,0,r).getUTCDay()-e)%7;return-i+r-1}function fO(t,e,n,r,i){var s=(7+n-r)%7,a=Np(t,r,i),c=1+7*(e-1)+s+a,l,h;return c<=0?(l=t-1,h=sf(l)+c):c>sf(t)?(l=t+1,h=c-sf(t)):(l=t,h=c),{year:l,dayOfYear:h}}function Tf(t,e,n){var r=Np(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,a;return i<1?(a=t.year()-1,s=i+_o(a,e,n)):i>_o(t.year(),e,n)?(s=i-_o(t.year(),e,n),a=t.year()+1):(a=t.year(),s=i),{week:s,year:a}}function _o(t,e,n){var r=Np(t,e,n),i=Np(t+1,e,n);return(sf(t)-r+i)/7}_e("w",["ww",2],"wo","week");_e("W",["WW",2],"Wo","isoWeek");Vn("week","w");Vn("isoWeek","W");Bn("week",5);Bn("isoWeek",5);se("w",yt);se("ww",yt,Dr);se("W",yt);se("WW",yt,Dr);ih(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Fe(t)});function Cq(t){return Tf(t,this._week.dow,this._week.doy).week}var Aq={dow:0,doy:6};function Nq(){return this._week.dow}function kq(){return this._week.doy}function Rq(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Oq(t){var e=Tf(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}_e("d",0,"do","day");_e("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});_e("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});_e("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});_e("e",0,0,"weekday");_e("E",0,0,"isoWeekday");Vn("day","d");Vn("weekday","e");Vn("isoWeekday","E");Bn("day",11);Bn("weekday",11);Bn("isoWeekday",11);se("d",yt);se("e",yt);se("E",yt);se("dd",function(t,e){return e.weekdaysMinRegex(t)});se("ddd",function(t,e){return e.weekdaysShortRegex(t)});se("dddd",function(t,e){return e.weekdaysRegex(t)});ih(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:Pe(n).invalidWeekday=t});ih(["d","e","E"],function(t,e,n,r){e[r]=Fe(t)});function xq(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Pq(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Z0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Dq="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hO="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mq="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lq=rh,Fq=rh,Uq=rh;function jq(t,e){var n=mi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Z0(n,this._week.dow):t?n[t.day()]:n}function Vq(t){return t===!0?Z0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Bq(t){return t===!0?Z0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function qq(t,e,n){var r,i,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=zi([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=Ut.call(this._weekdaysParse,a),i!==-1?i:null):e==="ddd"?(i=Ut.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Ut.call(this._minWeekdaysParse,a),i!==-1?i:null):e==="dddd"?(i=Ut.call(this._weekdaysParse,a),i!==-1||(i=Ut.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=Ut.call(this._minWeekdaysParse,a),i!==-1?i:null)):e==="ddd"?(i=Ut.call(this._shortWeekdaysParse,a),i!==-1||(i=Ut.call(this._weekdaysParse,a),i!==-1)?i:(i=Ut.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=Ut.call(this._minWeekdaysParse,a),i!==-1||(i=Ut.call(this._weekdaysParse,a),i!==-1)?i:(i=Ut.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function Wq(t,e,n){var r,i,s;if(this._weekdaysParseExact)return qq.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=zi([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Hq(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=xq(t,this.localeData()),this.add(t-e,"d")):e}function Gq(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function $q(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Pq(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Yq(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||eb.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(et(this,"_weekdaysRegex")||(this._weekdaysRegex=Lq),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function zq(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||eb.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(et(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Fq),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kq(t){return this._weekdaysParseExact?(et(this,"_weekdaysRegex")||eb.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(et(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Uq),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function eb(){function t(d,v){return v.length-d.length}var e=[],n=[],r=[],i=[],s,a,c,l,h;for(s=0;s<7;s++)a=zi([2e3,1]).day(s),c=Sr(this.weekdaysMin(a,"")),l=Sr(this.weekdaysShort(a,"")),h=Sr(this.weekdays(a,"")),e.push(c),n.push(l),r.push(h),i.push(c),i.push(l),i.push(h);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function tb(){return this.hours()%12||12}function Qq(){return this.hours()||24}_e("H",["HH",2],0,"hour");_e("h",["hh",2],0,tb);_e("k",["kk",2],0,Qq);_e("hmm",0,0,function(){return""+tb.apply(this)+Hi(this.minutes(),2)});_e("hmmss",0,0,function(){return""+tb.apply(this)+Hi(this.minutes(),2)+Hi(this.seconds(),2)});_e("Hmm",0,0,function(){return""+this.hours()+Hi(this.minutes(),2)});_e("Hmmss",0,0,function(){return""+this.hours()+Hi(this.minutes(),2)+Hi(this.seconds(),2)});function dO(t,e){_e(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}dO("a",!0);dO("A",!1);Vn("hour","h");Bn("hour",13);function pO(t,e){return e._meridiemParse}se("a",pO);se("A",pO);se("H",yt);se("h",yt);se("k",yt);se("HH",yt,Dr);se("hh",yt,Dr);se("kk",yt,Dr);se("hmm",rO);se("hmmss",iO);se("Hmm",rO);se("Hmmss",iO);ht(["H","HH"],nn);ht(["k","kk"],function(t,e,n){var r=Fe(t);e[nn]=r===24?0:r});ht(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ht(["h","hh"],function(t,e,n){e[nn]=Fe(t),Pe(n).bigHour=!0});ht("hmm",function(t,e,n){var r=t.length-2;e[nn]=Fe(t.substr(0,r)),e[ai]=Fe(t.substr(r)),Pe(n).bigHour=!0});ht("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[nn]=Fe(t.substr(0,r)),e[ai]=Fe(t.substr(r,2)),e[vo]=Fe(t.substr(i)),Pe(n).bigHour=!0});ht("Hmm",function(t,e,n){var r=t.length-2;e[nn]=Fe(t.substr(0,r)),e[ai]=Fe(t.substr(r))});ht("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[nn]=Fe(t.substr(0,r)),e[ai]=Fe(t.substr(r,2)),e[vo]=Fe(t.substr(i))});function Xq(t){return(t+"").toLowerCase().charAt(0)==="p"}var Jq=/[ap]\.?m?\.?/i,Zq=Pc("Hours",!0);function eW(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var vO={calendar:WB,longDateFormat:YB,invalidDate:KB,ordinal:XB,dayOfMonthOrdinalParse:JB,relativeTime:eq,months:pq,monthsShort:oO,week:Aq,weekdays:Dq,weekdaysMin:Mq,weekdaysShort:hO,meridiemParse:Jq},Tt={},Ul={},If;function tW(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function eA(t){return t&&t.toLowerCase().replace("_","-")}function nW(t){for(var e=0,n,r,i,s;e<t.length;){for(s=eA(t[e]).split("-"),n=s.length,r=eA(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=jv(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&tW(s,r)>=n-1)break;n--}e++}return If}function rW(t){return t.match("^[^/\\\\]*$")!=null}function jv(t){var e=null,n;if(Tt[t]===void 0&&typeof _p<"u"&&_p&&_p.exports&&rW(t))try{e=If._abbr,n=require,n("./locale/"+t),ms(e)}catch{Tt[t]=null}return Tt[t]}function ms(t,e){var n;return t&&(fr(e)?n=Do(t):n=nb(t,e),n?If=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),If._abbr}function nb(t,e){if(e!==null){var n,r=vO;if(e.abbr=t,Tt[t]!=null)XR("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Tt[t]._config;else if(e.parentLocale!=null)if(Tt[e.parentLocale]!=null)r=Tt[e.parentLocale]._config;else if(n=jv(e.parentLocale),n!=null)r=n._config;else return Ul[e.parentLocale]||(Ul[e.parentLocale]=[]),Ul[e.parentLocale].push({name:t,config:e}),null;return Tt[t]=new z0(bw(r,e)),Ul[t]&&Ul[t].forEach(function(i){nb(i.name,i.config)}),ms(t),Tt[t]}else return delete Tt[t],null}function iW(t,e){if(e!=null){var n,r,i=vO;Tt[t]!=null&&Tt[t].parentLocale!=null?Tt[t].set(bw(Tt[t]._config,e)):(r=jv(t),r!=null&&(i=r._config),e=bw(i,e),r==null&&(e.abbr=t),n=new z0(e),n.parentLocale=Tt[t],Tt[t]=n),ms(t)}else Tt[t]!=null&&(Tt[t].parentLocale!=null?(Tt[t]=Tt[t].parentLocale,t===ms()&&ms(t)):Tt[t]!=null&&delete Tt[t]);return Tt[t]}function Do(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return If;if(!mi(t)){if(e=jv(t),e)return e;t=[t]}return nW(t)}function oW(){return Ew(Tt)}function rb(t){var e,n=t._a;return n&&Pe(t).overflow===-2&&(e=n[po]<0||n[po]>11?po:n[Li]<1||n[Li]>Uv(n[Dn],n[po])?Li:n[nn]<0||n[nn]>24||n[nn]===24&&(n[ai]!==0||n[vo]!==0||n[fa]!==0)?nn:n[ai]<0||n[ai]>59?ai:n[vo]<0||n[vo]>59?vo:n[fa]<0||n[fa]>999?fa:-1,Pe(t)._overflowDayOfYear&&(e<Dn||e>Li)&&(e=Li),Pe(t)._overflowWeeks&&e===-1&&(e=fq),Pe(t)._overflowWeekday&&e===-1&&(e=hq),Pe(t).overflow=e),t}var sW=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,aW=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,uW=/Z|[+-]\d\d(?::?\d\d)?/,Fd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],l_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],cW=/^\/?Date\((-?\d+)/i,lW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,fW={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function gO(t){var e,n,r=t._i,i=sW.exec(r)||aW.exec(r),s,a,c,l,h=Fd.length,d=l_.length;if(i){for(Pe(t).iso=!0,e=0,n=h;e<n;e++)if(Fd[e][1].exec(i[1])){a=Fd[e][0],s=Fd[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(l_[e][1].exec(i[3])){c=(i[2]||" ")+l_[e][0];break}if(c==null){t._isValid=!1;return}}if(!s&&c!=null){t._isValid=!1;return}if(i[4])if(uW.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=a+(c||"")+(l||""),ob(t)}else t._isValid=!1}function hW(t,e,n,r,i,s){var a=[dW(t),oO.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function dW(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function pW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function vW(t,e,n){if(t){var r=hO.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return Pe(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function gW(t,e,n){if(t)return fW[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function mO(t){var e=lW.exec(pW(t._i)),n;if(e){if(n=hW(e[4],e[3],e[2],e[5],e[6],e[7]),!vW(e[1],n,t))return;t._a=n,t._tzm=gW(e[8],e[9],e[10]),t._d=Ef.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Pe(t).rfc2822=!0}else t._isValid=!1}function mW(t){var e=cW.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(gO(t),t._isValid===!1)delete t._isValid;else return;if(mO(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:re.createFromInputFallback(t)}re.createFromInputFallback=Yr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function xu(t,e,n){return t??e??n}function yW(t){var e=new Date(re.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ib(t){var e,n,r=[],i,s,a;if(!t._d){for(i=yW(t),t._w&&t._a[Li]==null&&t._a[po]==null&&_W(t),t._dayOfYear!=null&&(a=xu(t._a[Dn],i[Dn]),(t._dayOfYear>sf(a)||t._dayOfYear===0)&&(Pe(t)._overflowDayOfYear=!0),n=Ef(a,0,t._dayOfYear),t._a[po]=n.getUTCMonth(),t._a[Li]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[nn]===24&&t._a[ai]===0&&t._a[vo]===0&&t._a[fa]===0&&(t._nextDay=!0,t._a[nn]=0),t._d=(t._useUTC?Ef:Sq).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[nn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(Pe(t).weekdayMismatch=!0)}}function _W(t){var e,n,r,i,s,a,c,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,n=xu(e.GG,t._a[Dn],Tf(mt(),1,4).year),r=xu(e.W,1),i=xu(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,h=Tf(mt(),s,a),n=xu(e.gg,t._a[Dn],h.year),r=xu(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>_o(n,s,a)?Pe(t)._overflowWeeks=!0:l!=null?Pe(t)._overflowWeekday=!0:(c=fO(n,r,i,s,a),t._a[Dn]=c.year,t._dayOfYear=c.dayOfYear)}re.ISO_8601=function(){};re.RFC_2822=function(){};function ob(t){if(t._f===re.ISO_8601){gO(t);return}if(t._f===re.RFC_2822){mO(t);return}t._a=[],Pe(t).empty=!0;var e=""+t._i,n,r,i,s,a,c=e.length,l=0,h,d;for(i=JR(t._f,t._locale).match(K0)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(uq(s,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&Pe(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Yu[s]?(r?Pe(t).empty=!1:Pe(t).unusedTokens.push(s),lq(s,r,t)):t._strict&&!r&&Pe(t).unusedTokens.push(s);Pe(t).charsLeftOver=c-l,e.length>0&&Pe(t).unusedInput.push(e),t._a[nn]<=12&&Pe(t).bigHour===!0&&t._a[nn]>0&&(Pe(t).bigHour=void 0),Pe(t).parsedDateParts=t._a.slice(0),Pe(t).meridiem=t._meridiem,t._a[nn]=wW(t._locale,t._a[nn],t._meridiem),h=Pe(t).era,h!==null&&(t._a[Dn]=t._locale.erasConvertYear(h,t._a[Dn])),ib(t),rb(t)}function wW(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function bW(t){var e,n,r,i,s,a,c=!1,l=t._f.length;if(l===0){Pe(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,a=!1,e=Y0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],ob(e),$0(e)&&(a=!0),s+=Pe(e).charsLeftOver,s+=Pe(e).unusedTokens.length*10,Pe(e).score=s,c?s<r&&(r=s,n=e):(r==null||s<r||a)&&(r=s,n=e,a&&(c=!0));ls(t,n||e)}function EW(t){if(!t._d){var e=Q0(t._i),n=e.day===void 0?e.date:e.day;t._a=KR([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),ib(t)}}function TW(t){var e=new nh(rb(yO(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function yO(t){var e=t._i,n=t._f;return t._locale=t._locale||Do(t._l),e===null||n===void 0&&e===""?Ov({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),yi(e)?new nh(rb(e)):(th(e)?t._d=e:mi(n)?bW(t):n?ob(t):IW(t),$0(t)||(t._d=null),t))}function IW(t){var e=t._i;fr(e)?t._d=new Date(re.now()):th(e)?t._d=new Date(e.valueOf()):typeof e=="string"?mW(t):mi(e)?(t._a=KR(e.slice(0),function(n){return parseInt(n,10)}),ib(t)):wa(e)?EW(t):Ao(e)?t._d=new Date(e):re.createFromInputFallback(t)}function _O(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(wa(t)&&G0(t)||mi(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,TW(s)}function mt(t,e,n,r){return _O(t,e,n,r,!1)}var SW=Yr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Ov()}),CW=Yr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Ov()});function wO(t,e){var n,r;if(e.length===1&&mi(e[0])&&(e=e[0]),!e.length)return mt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function AW(){var t=[].slice.call(arguments,0);return wO("isBefore",t)}function NW(){var t=[].slice.call(arguments,0);return wO("isAfter",t)}var kW=function(){return Date.now?Date.now():+new Date},jl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function RW(t){var e,n=!1,r,i=jl.length;for(e in t)if(et(t,e)&&!(Ut.call(jl,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[jl[r]]){if(n)return!1;parseFloat(t[jl[r]])!==Fe(t[jl[r]])&&(n=!0)}return!0}function OW(){return this._isValid}function xW(){return wi(NaN)}function Vv(t){var e=Q0(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,c=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=RW(e),this._milliseconds=+d+h*1e3+l*6e4+c*1e3*60*60,this._days=+a+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=Do(),this._bubble()}function ap(t){return t instanceof Vv}function Iw(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function PW(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,a;for(a=0;a<r;a++)(n&&t[a]!==e[a]||!n&&Fe(t[a])!==Fe(e[a]))&&s++;return s+i}function bO(t,e){_e(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Hi(~~(n/60),2)+e+Hi(~~n%60,2)})}bO("Z",":");bO("ZZ","");se("Z",Fv);se("ZZ",Fv);ht(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=sb(Fv,t)});var DW=/([\+\-]|\d\d)/gi;function sb(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(DW)||["-",0,0],s=+(i[1]*60)+Fe(i[2]),s===0?0:i[0]==="+"?s:-s)}function ab(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(yi(t)||th(t)?t.valueOf():mt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),re.updateOffset(n,!1),n):mt(t).local()}function Sw(t){return-Math.round(t._d.getTimezoneOffset())}re.updateOffset=function(){};function MW(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=sb(Fv,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Sw(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?IO(this,wi(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,re.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Sw(this)}function LW(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function FW(t){return this.utcOffset(0,t)}function UW(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Sw(this),"m")),this}function jW(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=sb(sq,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function VW(t){return this.isValid()?(t=t?mt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function BW(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qW(){if(!fr(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Y0(t,this),t=yO(t),t._a?(e=t._isUTC?zi(t._a):mt(t._a),this._isDSTShifted=this.isValid()&&PW(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function WW(){return this.isValid()?!this._isUTC:!1}function HW(){return this.isValid()?this._isUTC:!1}function EO(){return this.isValid()?this._isUTC&&this._offset===0:!1}var GW=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$W=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function wi(t,e){var n=t,r=null,i,s,a;return ap(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Ao(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=GW.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Fe(r[Li])*i,h:Fe(r[nn])*i,m:Fe(r[ai])*i,s:Fe(r[vo])*i,ms:Fe(Iw(r[fa]*1e3))*i}):(r=$W.exec(t))?(i=r[1]==="-"?-1:1,n={y:ra(r[2],i),M:ra(r[3],i),w:ra(r[4],i),d:ra(r[5],i),h:ra(r[6],i),m:ra(r[7],i),s:ra(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=YW(mt(n.from),mt(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new Vv(n),ap(t)&&et(t,"_locale")&&(s._locale=t._locale),ap(t)&&et(t,"_isValid")&&(s._isValid=t._isValid),s}wi.fn=Vv.prototype;wi.invalid=xW;function ra(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function tA(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function YW(t,e){var n;return t.isValid()&&e.isValid()?(e=ab(e,t),t.isBefore(e)?n=tA(t,e):(n=tA(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function TO(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(XR(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=wi(n,r),IO(this,i,t),this}}function IO(t,e,n,r){var i=e._milliseconds,s=Iw(e._days),a=Iw(e._months);t.isValid()&&(r=r??!0,a&&aO(t,Cp(t,"Month")+a*n),s&&eO(t,"Date",Cp(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&re.updateOffset(t,s||a))}var zW=TO(1,"add"),KW=TO(-1,"subtract");function SO(t){return typeof t=="string"||t instanceof String}function QW(t){return yi(t)||th(t)||SO(t)||Ao(t)||JW(t)||XW(t)||t===null||t===void 0}function XW(t){var e=wa(t)&&!G0(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=r.length;for(i=0;i<a;i+=1)s=r[i],n=n||et(t,s);return e&&n}function JW(t){var e=mi(t),n=!1;return e&&(n=t.filter(function(r){return!Ao(r)&&SO(t)}).length===0),e&&n}function ZW(t){var e=wa(t)&&!G0(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||et(t,s);return e&&n}function eH(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function tH(t,e){arguments.length===1&&(arguments[0]?QW(arguments[0])?(t=arguments[0],e=void 0):ZW(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||mt(),r=ab(n,this).startOf("day"),i=re.calendarFormat(this,r)||"sameElse",s=e&&(Ki(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,mt(n)))}function nH(){return new nh(this)}function rH(t,e){var n=yi(t)?t:mt(t);return this.isValid()&&n.isValid()?(e=zr(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function iH(t,e){var n=yi(t)?t:mt(t);return this.isValid()&&n.isValid()?(e=zr(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function oH(t,e,n,r){var i=yi(t)?t:mt(t),s=yi(e)?e:mt(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function sH(t,e){var n=yi(t)?t:mt(t),r;return this.isValid()&&n.isValid()?(e=zr(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function aH(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function uH(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function cH(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=ab(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=zr(e),e){case"year":s=up(this,r)/12;break;case"month":s=up(this,r);break;case"quarter":s=up(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Br(s)}function up(t,e){if(t.date()<e.date())return-up(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}re.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";re.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function lH(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fH(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?sp(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ki(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",sp(n,"Z")):sp(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function hH(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function dH(t){t||(t=this.isUtc()?re.defaultFormatUtc:re.defaultFormat);var e=sp(this,t);return this.localeData().postformat(e)}function pH(t,e){return this.isValid()&&(yi(t)&&t.isValid()||mt(t).isValid())?wi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function vH(t){return this.from(mt(),t)}function gH(t,e){return this.isValid()&&(yi(t)&&t.isValid()||mt(t).isValid())?wi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mH(t){return this.to(mt(),t)}function CO(t){var e;return t===void 0?this._locale._abbr:(e=Do(t),e!=null&&(this._locale=e),this)}var AO=Yr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function NO(){return this._locale}var kp=1e3,zu=60*kp,Rp=60*zu,kO=(365*400+97)*24*Rp;function Ku(t,e){return(t%e+e)%e}function RO(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-kO:new Date(t,e,n).valueOf()}function OO(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-kO:Date.UTC(t,e,n)}function yH(t){var e,n;if(t=zr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?OO:RO,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ku(e+(this._isUTC?0:this.utcOffset()*zu),Rp);break;case"minute":e=this._d.valueOf(),e-=Ku(e,zu);break;case"second":e=this._d.valueOf(),e-=Ku(e,kp);break}return this._d.setTime(e),re.updateOffset(this,!0),this}function _H(t){var e,n;if(t=zr(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?OO:RO,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Rp-Ku(e+(this._isUTC?0:this.utcOffset()*zu),Rp)-1;break;case"minute":e=this._d.valueOf(),e+=zu-Ku(e,zu)-1;break;case"second":e=this._d.valueOf(),e+=kp-Ku(e,kp)-1;break}return this._d.setTime(e),re.updateOffset(this,!0),this}function wH(){return this._d.valueOf()-(this._offset||0)*6e4}function bH(){return Math.floor(this.valueOf()/1e3)}function EH(){return new Date(this.valueOf())}function TH(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function IH(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function SH(){return this.isValid()?this.toISOString():null}function CH(){return $0(this)}function AH(){return ls({},Pe(this))}function NH(){return Pe(this).overflow}function kH(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_e("N",0,0,"eraAbbr");_e("NN",0,0,"eraAbbr");_e("NNN",0,0,"eraAbbr");_e("NNNN",0,0,"eraName");_e("NNNNN",0,0,"eraNarrow");_e("y",["y",1],"yo","eraYear");_e("y",["yy",2],0,"eraYear");_e("y",["yyy",3],0,"eraYear");_e("y",["yyyy",4],0,"eraYear");se("N",ub);se("NN",ub);se("NNN",ub);se("NNNN",VH);se("NNNNN",BH);ht(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?Pe(n).era=i:Pe(n).invalidEra=t});se("y",Dc);se("yy",Dc);se("yyy",Dc);se("yyyy",Dc);se("yo",qH);ht(["y","yy","yyy","yyyy"],Dn);ht(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Dn]=n._locale.eraYearOrdinalParse(t,i):e[Dn]=parseInt(t,10)});function RH(t,e){var n,r,i,s=this._eras||Do("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=re(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=re(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function OH(t,e,n){var r,i,s=this.eras(),a,c,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),c=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(c===t)return s[r];break;case"NNNN":if(a===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([a,c,l].indexOf(t)>=0)return s[r]}function xH(t,e){var n=t.since<=t.until?1:-1;return e===void 0?re(t.since).year():re(t.since).year()+(e-t.offset)*n}function PH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function DH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function MH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function LH(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-re(i[t].since).year())*n+i[t].offset;return this.year()}function FH(t){return et(this,"_erasNameRegex")||cb.call(this),t?this._erasNameRegex:this._erasRegex}function UH(t){return et(this,"_erasAbbrRegex")||cb.call(this),t?this._erasAbbrRegex:this._erasRegex}function jH(t){return et(this,"_erasNarrowRegex")||cb.call(this),t?this._erasNarrowRegex:this._erasRegex}function ub(t,e){return e.erasAbbrRegex(t)}function VH(t,e){return e.erasNameRegex(t)}function BH(t,e){return e.erasNarrowRegex(t)}function qH(t,e){return e._eraYearOrdinalRegex||Dc}function cb(){var t=[],e=[],n=[],r=[],i,s,a=this.eras();for(i=0,s=a.length;i<s;++i)e.push(Sr(a[i].name)),t.push(Sr(a[i].abbr)),n.push(Sr(a[i].narrow)),r.push(Sr(a[i].name)),r.push(Sr(a[i].abbr)),r.push(Sr(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}_e(0,["gg",2],0,function(){return this.weekYear()%100});_e(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Bv(t,e){_e(0,[t,t.length],0,e)}Bv("gggg","weekYear");Bv("ggggg","weekYear");Bv("GGGG","isoWeekYear");Bv("GGGGG","isoWeekYear");Vn("weekYear","gg");Vn("isoWeekYear","GG");Bn("weekYear",1);Bn("isoWeekYear",1);se("G",Lv);se("g",Lv);se("GG",yt,Dr);se("gg",yt,Dr);se("GGGG",J0,X0);se("gggg",J0,X0);se("GGGGG",Mv,Pv);se("ggggg",Mv,Pv);ih(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Fe(t)});ih(["gg","GG"],function(t,e,n,r){e[r]=re.parseTwoDigitYear(t)});function WH(t){return xO.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function HH(t){return xO.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function GH(){return _o(this.year(),1,4)}function $H(){return _o(this.isoWeekYear(),1,4)}function YH(){var t=this.localeData()._week;return _o(this.year(),t.dow,t.doy)}function zH(){var t=this.localeData()._week;return _o(this.weekYear(),t.dow,t.doy)}function xO(t,e,n,r,i){var s;return t==null?Tf(this,r,i).year:(s=_o(t,r,i),e>s&&(e=s),KH.call(this,t,e,n,r,i))}function KH(t,e,n,r,i){var s=fO(t,e,n,r,i),a=Ef(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}_e("Q",0,"Qo","quarter");Vn("quarter","Q");Bn("quarter",7);se("Q",tO);ht("Q",function(t,e){e[po]=(Fe(t)-1)*3});function QH(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}_e("D",["DD",2],"Do","date");Vn("date","D");Bn("date",9);se("D",yt);se("DD",yt,Dr);se("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ht(["D","DD"],Li);ht("Do",function(t,e){e[Li]=Fe(t.match(yt)[0])});var PO=Pc("Date",!0);_e("DDD",["DDDD",3],"DDDo","dayOfYear");Vn("dayOfYear","DDD");Bn("dayOfYear",4);se("DDD",Dv);se("DDDD",nO);ht(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Fe(t)});function XH(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}_e("m",["mm",2],0,"minute");Vn("minute","m");Bn("minute",14);se("m",yt);se("mm",yt,Dr);ht(["m","mm"],ai);var JH=Pc("Minutes",!1);_e("s",["ss",2],0,"second");Vn("second","s");Bn("second",15);se("s",yt);se("ss",yt,Dr);ht(["s","ss"],vo);var ZH=Pc("Seconds",!1);_e("S",0,0,function(){return~~(this.millisecond()/100)});_e(0,["SS",2],0,function(){return~~(this.millisecond()/10)});_e(0,["SSS",3],0,"millisecond");_e(0,["SSSS",4],0,function(){return this.millisecond()*10});_e(0,["SSSSS",5],0,function(){return this.millisecond()*100});_e(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});_e(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});_e(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});_e(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Vn("millisecond","ms");Bn("millisecond",16);se("S",Dv,tO);se("SS",Dv,Dr);se("SSS",Dv,nO);var fs,DO;for(fs="SSSS";fs.length<=9;fs+="S")se(fs,Dc);function eG(t,e){e[fa]=Fe(("0."+t)*1e3)}for(fs="S";fs.length<=9;fs+="S")ht(fs,eG);DO=Pc("Milliseconds",!1);_e("z",0,0,"zoneAbbr");_e("zz",0,0,"zoneName");function tG(){return this._isUTC?"UTC":""}function nG(){return this._isUTC?"Coordinated Universal Time":""}var Q=nh.prototype;Q.add=zW;Q.calendar=tH;Q.clone=nH;Q.diff=cH;Q.endOf=_H;Q.format=dH;Q.from=pH;Q.fromNow=vH;Q.to=gH;Q.toNow=mH;Q.get=iq;Q.invalidAt=NH;Q.isAfter=rH;Q.isBefore=iH;Q.isBetween=oH;Q.isSame=sH;Q.isSameOrAfter=aH;Q.isSameOrBefore=uH;Q.isValid=CH;Q.lang=AO;Q.locale=CO;Q.localeData=NO;Q.max=CW;Q.min=SW;Q.parsingFlags=AH;Q.set=oq;Q.startOf=yH;Q.subtract=KW;Q.toArray=TH;Q.toObject=IH;Q.toDate=EH;Q.toISOString=fH;Q.inspect=hH;typeof Symbol<"u"&&Symbol.for!=null&&(Q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Q.toJSON=SH;Q.toString=lH;Q.unix=bH;Q.valueOf=wH;Q.creationData=kH;Q.eraName=PH;Q.eraNarrow=DH;Q.eraAbbr=MH;Q.eraYear=LH;Q.year=lO;Q.isLeapYear=Iq;Q.weekYear=WH;Q.isoWeekYear=HH;Q.quarter=Q.quarters=QH;Q.month=uO;Q.daysInMonth=bq;Q.week=Q.weeks=Rq;Q.isoWeek=Q.isoWeeks=Oq;Q.weeksInYear=YH;Q.weeksInWeekYear=zH;Q.isoWeeksInYear=GH;Q.isoWeeksInISOWeekYear=$H;Q.date=PO;Q.day=Q.days=Hq;Q.weekday=Gq;Q.isoWeekday=$q;Q.dayOfYear=XH;Q.hour=Q.hours=Zq;Q.minute=Q.minutes=JH;Q.second=Q.seconds=ZH;Q.millisecond=Q.milliseconds=DO;Q.utcOffset=MW;Q.utc=FW;Q.local=UW;Q.parseZone=jW;Q.hasAlignedHourOffset=VW;Q.isDST=BW;Q.isLocal=WW;Q.isUtcOffset=HW;Q.isUtc=EO;Q.isUTC=EO;Q.zoneAbbr=tG;Q.zoneName=nG;Q.dates=Yr("dates accessor is deprecated. Use date instead.",PO);Q.months=Yr("months accessor is deprecated. Use month instead",uO);Q.years=Yr("years accessor is deprecated. Use year instead",lO);Q.zone=Yr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",LW);Q.isDSTShifted=Yr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",qW);function rG(t){return mt(t*1e3)}function iG(){return mt.apply(null,arguments).parseZone()}function MO(t){return t}var tt=z0.prototype;tt.calendar=HB;tt.longDateFormat=zB;tt.invalidDate=QB;tt.ordinal=ZB;tt.preparse=MO;tt.postformat=MO;tt.relativeTime=tq;tt.pastFuture=nq;tt.set=qB;tt.eras=RH;tt.erasParse=OH;tt.erasConvertYear=xH;tt.erasAbbrRegex=UH;tt.erasNameRegex=FH;tt.erasNarrowRegex=jH;tt.months=mq;tt.monthsShort=yq;tt.monthsParse=wq;tt.monthsRegex=Tq;tt.monthsShortRegex=Eq;tt.week=Cq;tt.firstDayOfYear=kq;tt.firstDayOfWeek=Nq;tt.weekdays=jq;tt.weekdaysMin=Bq;tt.weekdaysShort=Vq;tt.weekdaysParse=Wq;tt.weekdaysRegex=Yq;tt.weekdaysShortRegex=zq;tt.weekdaysMinRegex=Kq;tt.isPM=Xq;tt.meridiem=eW;function Op(t,e,n,r){var i=Do(),s=zi().set(r,e);return i[n](s,t)}function LO(t,e,n){if(Ao(t)&&(e=t,t=void 0),t=t||"",e!=null)return Op(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Op(t,r,n,"month");return i}function lb(t,e,n,r){typeof t=="boolean"?(Ao(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Ao(e)&&(n=e,e=void 0),e=e||"");var i=Do(),s=t?i._week.dow:0,a,c=[];if(n!=null)return Op(e,(n+s)%7,r,"day");for(a=0;a<7;a++)c[a]=Op(e,(a+s)%7,r,"day");return c}function oG(t,e){return LO(t,e,"months")}function sG(t,e){return LO(t,e,"monthsShort")}function aG(t,e,n){return lb(t,e,n,"weekdays")}function uG(t,e,n){return lb(t,e,n,"weekdaysShort")}function cG(t,e,n){return lb(t,e,n,"weekdaysMin")}ms("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Fe(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});re.lang=Yr("moment.lang is deprecated. Use moment.locale instead.",ms);re.langData=Yr("moment.langData is deprecated. Use moment.localeData instead.",Do);var ao=Math.abs;function lG(){var t=this._data;return this._milliseconds=ao(this._milliseconds),this._days=ao(this._days),this._months=ao(this._months),t.milliseconds=ao(t.milliseconds),t.seconds=ao(t.seconds),t.minutes=ao(t.minutes),t.hours=ao(t.hours),t.months=ao(t.months),t.years=ao(t.years),this}function FO(t,e,n,r){var i=wi(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function fG(t,e){return FO(this,t,e,1)}function hG(t,e){return FO(this,t,e,-1)}function nA(t){return t<0?Math.floor(t):Math.ceil(t)}function dG(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,a,c,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=nA(Cw(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Br(t/1e3),r.seconds=i%60,s=Br(i/60),r.minutes=s%60,a=Br(s/60),r.hours=a%24,e+=Br(a/24),l=Br(UO(e)),n+=l,e-=nA(Cw(l)),c=Br(n/12),n%=12,r.days=e,r.months=n,r.years=c,this}function UO(t){return t*4800/146097}function Cw(t){return t*146097/4800}function pG(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=zr(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+UO(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Cw(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function vG(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Fe(this._months/12)*31536e6:NaN}function Mo(t){return function(){return this.as(t)}}var gG=Mo("ms"),mG=Mo("s"),yG=Mo("m"),_G=Mo("h"),wG=Mo("d"),bG=Mo("w"),EG=Mo("M"),TG=Mo("Q"),IG=Mo("y");function SG(){return wi(this)}function CG(t){return t=zr(t),this.isValid()?this[t+"s"]():NaN}function Va(t){return function(){return this.isValid()?this._data[t]:NaN}}var AG=Va("milliseconds"),NG=Va("seconds"),kG=Va("minutes"),RG=Va("hours"),OG=Va("days"),xG=Va("months"),PG=Va("years");function DG(){return Br(this.days()/7)}var fo=Math.round,Fu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function MG(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function LG(t,e,n,r){var i=wi(t).abs(),s=fo(i.as("s")),a=fo(i.as("m")),c=fo(i.as("h")),l=fo(i.as("d")),h=fo(i.as("M")),d=fo(i.as("w")),v=fo(i.as("y")),m=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||c<=1&&["h"]||c<n.h&&["hh",c]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(m=m||d<=1&&["w"]||d<n.w&&["ww",d]),m=m||h<=1&&["M"]||h<n.M&&["MM",h]||v<=1&&["y"]||["yy",v],m[2]=e,m[3]=+t>0,m[4]=r,MG.apply(null,m)}function FG(t){return t===void 0?fo:typeof t=="function"?(fo=t,!0):!1}function UG(t,e){return Fu[t]===void 0?!1:e===void 0?Fu[t]:(Fu[t]=e,t==="s"&&(Fu.ss=e-1),!0)}function jG(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Fu,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Fu,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=LG(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var f_=Math.abs;function Tu(t){return(t>0)-(t<0)||+t}function qv(){if(!this.isValid())return this.localeData().invalidDate();var t=f_(this._milliseconds)/1e3,e=f_(this._days),n=f_(this._months),r,i,s,a,c=this.asSeconds(),l,h,d,v;return c?(r=Br(t/60),i=Br(r/60),t%=60,r%=60,s=Br(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=c<0?"-":"",h=Tu(this._months)!==Tu(c)?"-":"",d=Tu(this._days)!==Tu(c)?"-":"",v=Tu(this._milliseconds)!==Tu(c)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?v+i+"H":"")+(r?v+r+"M":"")+(t?v+a+"S":"")):"P0D"}var $e=Vv.prototype;$e.isValid=OW;$e.abs=lG;$e.add=fG;$e.subtract=hG;$e.as=pG;$e.asMilliseconds=gG;$e.asSeconds=mG;$e.asMinutes=yG;$e.asHours=_G;$e.asDays=wG;$e.asWeeks=bG;$e.asMonths=EG;$e.asQuarters=TG;$e.asYears=IG;$e.valueOf=vG;$e._bubble=dG;$e.clone=SG;$e.get=CG;$e.milliseconds=AG;$e.seconds=NG;$e.minutes=kG;$e.hours=RG;$e.days=OG;$e.weeks=DG;$e.months=xG;$e.years=PG;$e.humanize=jG;$e.toISOString=qv;$e.toString=qv;$e.toJSON=qv;$e.locale=CO;$e.localeData=NO;$e.toIsoString=Yr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",qv);$e.lang=AO;_e("X",0,0,"unix");_e("x",0,0,"valueOf");se("x",Lv);se("X",aq);ht("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ht("x",function(t,e,n){n._d=new Date(Fe(t))});//! moment.js
re.version="2.29.4";VB(mt);re.fn=Q;re.min=AW;re.max=NW;re.now=kW;re.utc=zi;re.unix=rG;re.months=oG;re.isDate=th;re.locale=ms;re.invalid=Ov;re.duration=wi;re.isMoment=yi;re.weekdays=aG;re.parseZone=iG;re.localeData=Do;re.isDuration=ap;re.monthsShort=sG;re.weekdaysMin=cG;re.defineLocale=nb;re.updateLocale=iW;re.locales=oW;re.weekdaysShort=uG;re.normalizeUnits=zr;re.relativeTimeRounding=FG;re.relativeTimeThreshold=UG;re.calendarFormat=eH;re.prototype=Q;re.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var VG="store";function Mc(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function BG(t){return t!==null&&typeof t=="object"}function qG(t){return t&&typeof t.then=="function"}function WG(t,e){return function(){return t(e)}}function jO(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function VO(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Wv(t,n,[],t._modules.root,!0),fb(t,n,e)}function fb(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};Mc(i,function(a,c){s[c]=WG(a,t),Object.defineProperty(t.getters,c,{get:function(){return s[c]()},enumerable:!0})}),t._state=Zf({data:e}),t.strict&&zG(t),r&&n&&t._withCommit(function(){r.data=null})}function Wv(t,e,n,r,i){var s=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!s&&!i){var c=hb(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){c[l]=r.state})}var h=r.context=HG(t,a,n);r.forEachMutation(function(d,v){var m=a+v;GG(t,m,d,h)}),r.forEachAction(function(d,v){var m=d.root?v:a+v,y=d.handler||d;$G(t,m,y,h)}),r.forEachGetter(function(d,v){var m=a+v;YG(t,m,d,h)}),r.forEachChild(function(d,v){Wv(t,e,n.concat(v),d,i)})}function HG(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,a,c){var l=xp(s,a,c),h=l.payload,d=l.options,v=l.type;return(!d||!d.root)&&(v=e+v),t.dispatch(v,h)},commit:r?t.commit:function(s,a,c){var l=xp(s,a,c),h=l.payload,d=l.options,v=l.type;(!d||!d.root)&&(v=e+v),t.commit(v,h,d)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return BO(t,e)}},state:{get:function(){return hb(t.state,n)}}}),i}function BO(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function GG(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){n.call(t,r.state,a)})}function $G(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var c=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},a);return qG(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):c})}function YG(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function zG(t){$u(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function hb(t,e){return e.reduce(function(n,r){return n[r]},t)}function xp(t,e,n){return BG(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var KG="vuex bindings",rA="vuex:mutations",h_="vuex:actions",Iu="vuex",QG=0;function XG(t,e){E3({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[KG]},function(n){n.addTimelineLayer({id:rA,label:"Vuex Mutations",color:iA}),n.addTimelineLayer({id:h_,label:"Vuex Actions",color:iA}),n.addInspector({id:Iu,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Iu)if(r.filter){var i=[];GO(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[HO(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Iu){var i=r.nodeId;BO(e,i),r.state=e$(n$(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Iu){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Iu),n.sendInspectorState(Iu),n.addTimelineEvent({layerId:rA,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=QG++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:h_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:h_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var iA=8702998,JG=6710886,ZG=16777215,qO={label:"namespaced",textColor:ZG,backgroundColor:JG};function WO(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function HO(t,e){return{id:e||"root",label:WO(e),tags:t.namespaced?[qO]:[],children:Object.keys(t._children).map(function(n){return HO(t._children[n],e+n+"/")})}}function GO(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[qO]:[]}),Object.keys(e._children).forEach(function(i){GO(t,e._children[i],n,r+i+"/")})}function e$(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(r.length){var s=t$(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?WO(a):a,editable:!1,value:Aw(function(){return s[a]})}})}return i}function t$(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=Aw(function(){return t[n]})}else e[n]=Aw(function(){return t[n]})}),e}function n$(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function Aw(t){try{return t()}catch(e){return e}}var bi=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},$O={namespaced:{configurable:!0}};$O.namespaced.get=function(){return!!this._rawModule.namespaced};bi.prototype.addChild=function(e,n){this._children[e]=n};bi.prototype.removeChild=function(e){delete this._children[e]};bi.prototype.getChild=function(e){return this._children[e]};bi.prototype.hasChild=function(e){return e in this._children};bi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};bi.prototype.forEachChild=function(e){Mc(this._children,e)};bi.prototype.forEachGetter=function(e){this._rawModule.getters&&Mc(this._rawModule.getters,e)};bi.prototype.forEachAction=function(e){this._rawModule.actions&&Mc(this._rawModule.actions,e)};bi.prototype.forEachMutation=function(e){this._rawModule.mutations&&Mc(this._rawModule.mutations,e)};Object.defineProperties(bi.prototype,$O);var Ba=function(e){this.register([],e,!1)};Ba.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Ba.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};Ba.prototype.update=function(e){YO([],this.root,e)};Ba.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new bi(n,r);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&Mc(n.modules,function(c,l){i.register(e.concat(l),c,r)})};Ba.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};Ba.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function YO(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;YO(t.concat(r),e.getChild(r),n.modules[r])}}function r$(t){return new _r(t)}var _r=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Ba(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var a=this,c=this,l=c.dispatch,h=c.commit;this.dispatch=function(m,y){return l.call(a,m,y)},this.commit=function(m,y,b){return h.call(a,m,y,b)},this.strict=i;var d=this._modules.root.state;Wv(this,d,[],this._modules.root),fb(this,d),r.forEach(function(v){return v(n)})},db={state:{configurable:!0}};_r.prototype.install=function(e,n){e.provide(n||VG,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&XG(e,this)};db.state.get=function(){return this._state.data};db.state.set=function(t){};_r.prototype.commit=function(e,n,r){var i=this,s=xp(e,n,r),a=s.type,c=s.payload,l={type:a,payload:c},h=this._mutations[a];h&&(this._withCommit(function(){h.forEach(function(v){v(c)})}),this._subscribers.slice().forEach(function(d){return d(l,i.state)}))};_r.prototype.dispatch=function(e,n){var r=this,i=xp(e,n),s=i.type,a=i.payload,c={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(d){return d(a)})):l[0](a);return new Promise(function(d,v){h.then(function(m){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(c,r.state)})}catch{}d(m)},function(m){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(c,r.state,m)})}catch{}v(m)})})}};_r.prototype.subscribe=function(e,n){return jO(e,this._subscribers,n)};_r.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return jO(r,this._actionSubscribers,n)};_r.prototype.watch=function(e,n,r){var i=this;return $u(function(){return e(i.state,i.getters)},n,Object.assign({},r))};_r.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};_r.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Wv(this,this.state,e,this._modules.get(e),r.preserveState),fb(this,this.state)};_r.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=hb(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),VO(this)};_r.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};_r.prototype.hotUpdate=function(e){this._modules.update(e),VO(this,!0)};_r.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(_r.prototype,db);var i$=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===o$}(e)}(t)},o$=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Ql(t,e){return e.clone!==!1&&e.isMergeableObject(t)?uc(Array.isArray(t)?[]:{},t,e):t}function s$(t,e,n){return t.concat(e).map(function(r){return Ql(r,n)})}function oA(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return e.propertyIsEnumerable(n)}):[]}(t))}function sA(t,e){try{return e in t}catch{return!1}}function uc(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||s$,n.isMergeableObject=n.isMergeableObject||i$,n.cloneUnlessOtherwiseSpecified=Ql;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(i,s,a){var c={};return a.isMergeableObject(i)&&oA(i).forEach(function(l){c[l]=Ql(i[l],a)}),oA(s).forEach(function(l){(function(h,d){return sA(h,d)&&!(Object.hasOwnProperty.call(h,d)&&Object.propertyIsEnumerable.call(h,d))})(i,l)||(c[l]=sA(i,l)&&a.isMergeableObject(s[l])?function(h,d){if(!d.customMerge)return uc;var v=d.customMerge(h);return typeof v=="function"?v:uc}(l,a)(i[l],s[l],a):Ql(s[l],a))}),c}(t,e,n):Ql(e,n)}uc.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return uc(n,r,e)},{})};var a$=uc;function u$(t){var e=(t=t||{}).storage||window&&window.localStorage,n=t.key||"vuex";function r(d,v){var m=v.getItem(d);try{return typeof m=="string"?JSON.parse(m):typeof m=="object"?m:void 0}catch{}}function i(){return!0}function s(d,v,m){return m.setItem(d,JSON.stringify(v))}function a(d,v){return Array.isArray(v)?v.reduce(function(m,y){return function(T,A,P,M){return!/^(__proto__|constructor|prototype)$/.test(A)&&((A=A.split?A.split("."):A.slice(0)).slice(0,-1).reduce(function(U,X){return U[X]=U[X]||{}},T)[A.pop()]=P),T}(m,y,(b=d,(b=((E=y).split?E.split("."):E).reduce(function(T,A){return T&&T[A]},b))===void 0?void 0:b));var b,E},{}):d}function c(d){return function(v){return d.subscribe(v)}}(t.assertStorage||function(){e.setItem("@@",1),e.removeItem("@@")})(e);var l,h=function(){return(t.getState||r)(n,e)};return t.fetchBeforeUse&&(l=h()),function(d){t.fetchBeforeUse||(l=h()),typeof l=="object"&&l!==null&&(d.replaceState(t.overwrite?l:a$(d.state,l,{arrayMerge:t.arrayMerger||function(v,m){return m},clone:!1})),(t.rehydrated||function(){})(d)),(t.subscriber||c)(d)(function(v,m){(t.filter||i)(v)&&(t.setState||s)(n,(t.reducer||a)(m,t.paths),e)})}}const er=r$({state(){return{user:null}},mutations:{SET_USER:(t,e)=>{t.user=e},SET_BACKGROUND_IMAGE:(t,e)=>{t.user.background_image_url=e},SET_PROFILE_IMAGE:(t,e)=>{t.user.profile_image_url=e},SET_FOLLOW:(t,e)=>{t.user.followings.push(e)},SET_UN_FOLLOW:(t,e)=>{t.user.followings=t.user.followings.filter(n=>n!==e)}},plugins:[u$()]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nw=function(t,e){return Nw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Nw(t,e)};function ee(t,e){Nw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var dt=function(){return dt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dt.apply(this,arguments)};function R(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(t,e||[])).next())})}function N(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Vt(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sf(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Lo(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sf(arguments[e]));return t}function qt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zO={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(t,e){if(!t)throw Lc(e)},Lc=function(t){return new Error("Firebase Database ("+zO.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KO=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},c$=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{var s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},pb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,m=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(m=64)),r.push(n[d],n[v],n[m],n[y])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KO(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):c$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],a=i<t.length,c=a?n[t.charAt(i)]:0;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;++i;var d=i<t.length,v=d?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var m=s<<2|c>>4;if(r.push(m),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var b=h<<6&192|v;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l$=function(t){var e=KO(t);return pb.encodeByteArray(e,!0)},aA=function(t){try{return pb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){return Cf(void 0,t)}function Cf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!f$(r)||(t[r]=Cf(t[r],e[r]));return t}function f$(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ka())}function h$(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d$(){return typeof self=="object"&&self.self===self}function gb(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p$(){return ka().indexOf("Electron/")>=0}function v$(){var t=ka();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g$(){return ka().indexOf("MSAppHost/")>=0}function JO(){return zO.NODE_ADMIN===!0}function mb(){return"indexedDB"in self&&indexedDB!=null}function yb(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){e(s)}})}function ZO(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m$="FirebaseError",Fc=function(t){ee(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name=m$,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Ns.prototype.create),s}return e}(Error),Ns=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+e,a=this.errors[e],c=a?y$(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Fc(s,l,i);return h},t}();function y$(t,e){return t.replace(_$,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var _$=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){return JSON.parse(t)}function en(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ex=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=Af(aA(s[0])||""),n=Af(aA(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},w$=function(t){var e=ex(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},b$=function(t){var e=ex(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ui(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function kw(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pp(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){for(var e=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){e.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T$=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),m=1518500249):(v=c^l^h,m=1859775393):i<60?(v=c&l|h&(c|l),m=2400959708):(v=c^l^h,m=3395469782);var s=(a<<5|a>>>27)+v+d+m+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e},t}();function I$(t,e){var n=new S$(t,e);return n.subscribe.bind(n)}var S$=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=d_),s.error===void 0&&(s.error=d_),s.complete===void 0&&(s.complete=d_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function C$(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function d_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Gr(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function dn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Gr(t,e,r)+"must be a valid function.")}function uA(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Gr(t,e,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A$=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cp=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N$=1e3,k$=2,R$=4*60*60*1e3,O$=.5;function Rw(t,e,n){e===void 0&&(e=N$),n===void 0&&(n=k$);var r=e*Math.pow(n,t),i=Math.round(O$*r*(Math.random()-.5)*2);return Math.min(R$,r+i)}var yr=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tx=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(e){e===void 0&&(e=Pu);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new hr;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=dt({identifier:Pu,optional:!1},e),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(c){if(i)return null;throw c}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,P$(e))try{this.getOrInitializeService(Pu)}catch{}try{for(var i=Vt(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Sf(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService(h);l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.clearInstance=function(e){e===void 0&&(e=Pu),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Lo(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.getOrInitializeService=function(e){var n=this.instances.get(e);return!n&&this.component&&(n=this.component.instanceFactory(this.container,x$(e)),this.instances.set(e,n)),n||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Pu:e},t}();function x$(t){return t===Pu?void 0:t}function P$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nx=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new tx(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ni(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia,_b=[],Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));var rx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},D$=Le.INFO,M$=(ia={},ia[Le.DEBUG]="log",ia[Le.VERBOSE]="log",ia[Le.INFO]="info",ia[Le.WARN]="warn",ia[Le.ERROR]="error",ia),L$=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),s=M$[e];if(s)console[s].apply(console,ni(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Uc=function(){function t(e){this.name=e,this._logLevel=D$,this._logHandler=L$,this._userLogHandler=null,_b.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Le))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?rx[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.DEBUG],e)),this._logHandler.apply(this,ni([this,Le.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.VERBOSE],e)),this._logHandler.apply(this,ni([this,Le.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.INFO],e)),this._logHandler.apply(this,ni([this,Le.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.WARN],e)),this._logHandler.apply(this,ni([this,Le.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ni([this,Le.ERROR],e)),this._logHandler.apply(this,ni([this,Le.ERROR],e))},t}();function F$(t){_b.forEach(function(e){e.setLogLevel(t)})}function U$(t,e){for(var n=function(a){var c=null;e&&e.level&&(c=rx[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var m=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&t({level:Le[h].toLowerCase(),message:m,args:d,type:l.name})}},r=0,i=_b;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo,j$=(Qo={},Qo["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Qo["bad-app-name"]="Illegal App name: '{$appName}",Qo["duplicate-app"]="Firebase App named '{$appName}' already exists",Qo["app-deleted"]="Firebase App named '{$appName}' already deleted",Qo["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Qo["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Qo),Du=new Ns("app","Firebase",j$),ix="@firebase/app",V$="0.6.14",B$="@firebase/analytics",q$="@firebase/auth",W$="@firebase/database",H$="@firebase/functions",G$="@firebase/installations",$$="@firebase/messaging",Y$="@firebase/performance",z$="@firebase/remote-config",K$="@firebase/storage",Q$="@firebase/firestore",X$="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,Dp="[DEFAULT]",J$=(Gn={},Gn[ix]="fire-core",Gn[B$]="fire-analytics",Gn[q$]="fire-auth",Gn[W$]="fire-rtdb",Gn[H$]="fire-fn",Gn[G$]="fire-iid",Gn[$$]="fire-fcm",Gn[Y$]="fire-perf",Gn[z$]="fire-rc",Gn[K$]="fire-gcs",Gn[Q$]="fire-fst",Gn["fire-js"]="fire-js",Gn[X$]="fire-js-all",Gn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cc=new Uc("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lp=function(){function t(e,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=QO(e),this.container=new nx(n.name),this._addComponent(new yr("app",function(){return a},"PUBLIC"));try{for(var c=Vt(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){return n===void 0&&(n=Dp),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Dp),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){cc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Du.create("app-deleted",{appName:this.name_})},t}();lp.prototype.name&&lp.prototype.options||lp.prototype.delete||console.log("dc");var Z$="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:F$,onLog:d,apps:null,SDK_VERSION:Z$,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(m){delete e[m]}function s(m){if(m=m||Dp,!mr(e,m))throw Du.create("no-app",{appName:m});return e[m]}s.App=t;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var E=y;E.name===void 0&&(E.name=Dp);var T=E.name;if(typeof T!="string"||!T)throw Du.create("bad-app-name",{appName:String(T)});if(mr(e,T))throw Du.create("duplicate-app",{appName:T});var A=new t(m,E,r);return e[T]=A,A}function c(){return Object.keys(e).map(function(m){return e[m]})}function l(m){var y,b,E=m.name;if(n.has(E))return cc.debug("There were multiple attempts to register component "+E+"."),m.type==="PUBLIC"?r[E]:null;if(n.set(E,m),m.type==="PUBLIC"){var T=function(U){if(U===void 0&&(U=s()),typeof U[E]!="function")throw Du.create("invalid-app-argument",{appName:E});return U[E]()};m.serviceProps!==void 0&&Cf(T,m.serviceProps),r[E]=T,t.prototype[E]=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];var j=this._getService.bind(this,E);return j.apply(this,m.multipleInstances?U:[])}}try{for(var A=Vt(Object.keys(e)),P=A.next();!P.done;P=A.next()){var M=P.value;e[M]._addComponent(m)}}catch(U){y={error:U}}finally{try{P&&!P.done&&(b=A.return)&&b.call(A)}finally{if(y)throw y.error}}return m.type==="PUBLIC"?r[E]:null}function h(m,y,b){var E,T=(E=J$[m])!==null&&E!==void 0?E:m;b&&(T+="-"+b);var A=T.match(/\s|\//),P=y.match(/\s|\//);if(A||P){var M=['Unable to register library "'+T+'" with version "'+y+'":'];A&&M.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),A&&P&&M.push("and"),P&&M.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),cc.warn(M.join(" "));return}l(new yr(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function d(m,y){if(m!==null&&typeof m!="function")throw Du.create("invalid-log-argument",{appName:name});U$(m,y)}function v(m,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){var t=eY(lp);t.INTERNAL=dt(dt({},t.INTERNAL),{createFirebaseNamespace:ox,extendNamespace:e,createSubscribe:I$,ErrorFactory:Ns,deepExtend:Cf});function e(n){Cf(t,n)}return t}var wb=ox();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tY=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(nY(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function nY(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t,e){t.INTERNAL.registerComponent(new yr("platform-logger",function(n){return new tY(n)},"PRIVATE")),t.registerVersion(ix,V$,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(d$()&&self.firebase!==void 0){cc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var cA=self.firebase.SDK_VERSION;cA&&cA.indexOf("LITE")>=0&&cc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var iY=wb.initializeApp;wb.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return h$()&&cc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),iY.apply(void 0,t)};var ae=wb;rY(ae);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var g=o[p];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(w){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{w(I.resolve,I.reject)}catch(F){I.reject(F)}}function f(){this.a=null}function p(w){return w instanceof u?w:new u(function(I){I(w)})}if(o)return o;f.prototype.b=function(w){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(w)};var g=r.setTimeout;f.prototype.c=function(w){g(w,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var I=0;I<w.length;++I){var F=w[I];w[I]=null;try{F()}catch(W){this.f(W)}}}this.a=null},f.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(W){return function(Ce){F||(F=!0,W.call(I,Ce))}}var I=this,F=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var I=w!=null;break e;case"function":I=!0;break e;default:I=!1}I?this.v(w):this.h(w)}},u.prototype.v=function(w){var I=void 0;try{I=w.then}catch(F){this.g(F);return}typeof I=="function"?this.u(I,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,I){if(this.b!=0)throw Error("Cannot settle("+w+", "+I+"): Promise already settled in state"+this.b);this.b=w,this.c=I,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)_.b(this.a[w]);this.a=null}};var _=new f;return u.prototype.s=function(w){var I=this.f();w.Qa(I.resolve,I.reject)},u.prototype.u=function(w,I){var F=this.f();try{w.call(I,F.resolve,F.reject)}catch(W){F.reject(W)}},u.prototype.then=function(w,I){function F(Xe,fn){return typeof Xe=="function"?function(oo){try{W(Xe(oo))}catch(Zy){Ce(Zy)}}:fn}var W,Ce,it=new u(function(Xe,fn){W=Xe,Ce=fn});return this.Qa(F(w,W),F(I,Ce)),it},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Qa=function(w,I){function F(){switch(W.b){case 1:w(W.c);break;case 2:I(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?_.b(F):this.a.push(F)},u.resolve=p,u.reject=function(w){return new u(function(I,F){F(w)})},u.race=function(w){return new u(function(I,F){for(var W=a(w),Ce=W.next();!Ce.done;Ce=W.next())p(Ce.value).Qa(I,F)})},u.all=function(w){var I=a(w),F=I.next();return F.done?p([]):new u(function(W,Ce){function it(oo){return function(Zy){Xe[oo]=Zy,fn--,fn==0&&W(Xe)}}var Xe=[],fn=0;do Xe.push(void 0),fn++,p(F.value).Qa(it(Xe.length-1),Ce),F=I.next();while(!F.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function b(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function T(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function A(o){return Object.prototype.hasOwnProperty.call(o,P)&&o[P]||(o[P]=++M)}var P="closure_uid_"+(1e9*Math.random()>>>0),M=0;function U(o,u,f){return o.call.apply(o.bind,arguments)}function X(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function j(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=U:j=X,j.apply(null,arguments)}function Ie(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}var rt=Date.now;function de(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function yn(o){return o}function O(o,u,f){this.code=An+o,this.message=u||Ds[o]||"",this.a=f||null}de(O,Error),O.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},O.prototype.toJSON=function(){return this.w()};function Ei(o){var u=o&&o.code;return u?new O(u.substring(An.length),o.message,o.serverResponse):null}var An="auth/",Ds={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ti={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function _t(o){for(var u in Ti)if(Ti[u].id===o)return o=Ti[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Ye;Ye=_t("__EID__")?"__EID__":void 0;function ze(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function Ct(o){if(Error.captureStackTrace)Error.captureStackTrace(this,Ct);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}de(Ct,Error),Ct.prototype.name="CustomError";function Mr(o,u){o=o.split("%s");for(var f="",p=o.length-1,g=0;g<p;g++)f+=o[g]+(g<u.length?u[g]:"%s");Ct.call(this,f+o[p])}de(Mr,Ct),Mr.prototype.name="AssertionError";function _n(o,u){throw new Mr("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function un(o,u){this.c=o,this.f=u,this.b=0,this.a=null}un.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function Ji(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Zi(){this.b=this.a=null}var Ms=new un(function(){return new V},function(o){o.reset()});Zi.prototype.add=function(o,u){var f=Ms.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function cn(){var o=BT,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function V(){this.next=this.b=this.a=null}V.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var oe=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},H=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in g&&u.call(f,g[_],_,o)};function pe(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var Qe=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],g=0,_=typeof o=="string"?o.split(""):o,w=0;w<f;w++)if(w in _){var I=_[w];u.call(void 0,I,w,o)&&(p[g++]=I)}return p},S=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(p[_]=u.call(void 0,g[_],_,o));return p},C=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o))return!0;return!1};function x(o){e:{for(var u=CF,f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function L(o,u){return 0<=oe(o,u)}function B(o,u){u=oe(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function q(o,u){var f=0;pe(o,function(p,g){u.call(void 0,p,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function ne(o){return Array.prototype.concat.apply([],arguments)}function z(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var Z=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},$=/&/g,ge=/</g,le=/>/g,me=/"/g,Se=/'/g,Me=/\x00/g,ut=/[\x00&<>"']/;function ye(o,u){return o.indexOf(u)!=-1}function wt(o,u){return o<u?-1:o>u?1:0}var ln;e:{var eo=l.navigator;if(eo){var Xc=eo.userAgent;if(Xc){ln=Xc;break e}}ln=""}function pt(o){return ye(ln,o)}function Jc(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function Dt(o){for(var u in o)return!1;return!0}function Xt(o){var u={},f;for(f in o)u[f]=o[f];return u}var Zc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function or(o,u){for(var f,p,g=1;g<arguments.length;g++){p=arguments[g];for(f in p)o[f]=p[f];for(var _=0;_<Zc.length;_++)f=Zc[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function bT(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var g=p;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(T(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;_n("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Ii(o,u){this.a=o===Oh&&u||"",this.b=ET}Ii.prototype.sa=!0,Ii.prototype.ra=function(){return this.a},Ii.prototype.toString=function(){return"Const{"+this.a+"}"};function Ng(o){return o instanceof Ii&&o.constructor===Ii&&o.b===ET?o.a:(_n("expected object of type Const, got '"+o+"'"),"type_error:Const")}var ET={},Oh={},xh;function TT(){if(xh===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:yn,createScript:yn,createScriptURL:yn})}catch(f){l.console&&l.console.error(f.message)}xh=o}else xh=o}return xh}function Xa(o,u){this.a=u===ST?o:""}Xa.prototype.sa=!0,Xa.prototype.ra=function(){return this.a.toString()},Xa.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function IT(o){return o instanceof Xa&&o.constructor===Xa?o.a:(_n("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function kg(o,u){var f=Ng(o);if(!n2.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(t2,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof Ii?Ng(p):encodeURIComponent(String(p))}),r2(o)}var t2=/%{(\w+)}/g,n2=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ST={};function r2(o){var u=TT();return o=u?u.createScriptURL(o):o,new Xa(o,ST)}function sr(o,u){this.a=u===el?o:""}sr.prototype.sa=!0,sr.prototype.ra=function(){return this.a.toString()},sr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Ph(o){return o instanceof sr&&o.constructor===sr?o.a:(_n("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var i2=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,o2=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,CT=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function AT(o){if(o instanceof sr)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),CT.test(o))o=new sr(o,el);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(o2);o=u&&i2.test(u[1])?new sr(o,el):null}return o}function NT(o){return o instanceof sr?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),CT.test(o)||(o="about:invalid#zClosurez"),new sr(o,el))}var el={},kT=new sr("about:invalid#zClosurez",el);function Ja(o,u,f){this.a=f===RT?o:""}Ja.prototype.sa=!0,Ja.prototype.ra=function(){return this.a.toString()},Ja.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function s2(o){return o instanceof Ja&&o.constructor===Ja?o.a:(_n("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var RT={};function a2(o,u){bT(o,"HTMLScriptElement"),o.src=IT(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function OT(o,u,f,p){return o=o instanceof sr?o:NT(o),u=u||l,f=f instanceof Ii?Ng(f):f||"",u.open(Ph(o),f,p,void 0)}function xT(o,u){for(var f=o.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)p+=f.shift()+g.shift();return p+f.join("%s")}function Rg(o){return ut.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace($,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(ge,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(le,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(me,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Se,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(Me,"&#0;"))),o}function Og(o){return Og[" "](o),o}Og[" "]=m;function u2(o,u){var f=h2;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var c2=pt("Opera"),Kr=pt("Trident")||pt("MSIE"),PT=pt("Edge"),l2=PT||Kr,DT=pt("Gecko")&&!(ye(ln.toLowerCase(),"webkit")&&!pt("Edge"))&&!(pt("Trident")||pt("MSIE"))&&!pt("Edge"),f2=ye(ln.toLowerCase(),"webkit")&&!pt("Edge");function MT(){var o=l.document;return o?o.documentMode:void 0}var Dh;e:{var xg="",Pg=function(){var o=ln;if(DT)return/rv:([^\);]+)(\)|;)/.exec(o);if(PT)return/Edge\/([\d\.]+)/.exec(o);if(Kr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(f2)return/WebKit\/(\S+)/.exec(o);if(c2)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Pg&&(xg=Pg?Pg[1]:""),Kr){var Dg=MT();if(Dg!=null&&Dg>parseFloat(xg)){Dh=String(Dg);break e}}Dh=xg}var h2={};function LT(o){return u2(o,function(){for(var u=0,f=Z(String(Dh)).split("."),p=Z(String(o)).split("."),g=Math.max(f.length,p.length),_=0;u==0&&_<g;_++){var w=f[_]||"",I=p[_]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],w[0].length==0&&I[0].length==0)break;u=wt(w[1].length==0?0:parseInt(w[1],10),I[1].length==0?0:parseInt(I[1],10))||wt(w[2].length==0,I[2].length==0)||wt(w[2],I[2]),w=w[3],I=I[3]}while(u==0)}return 0<=u})}var Mg;if(l.document&&Kr){var FT=MT();Mg=FT||parseInt(Dh,10)||void 0}else Mg=void 0;var Vo=Mg;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var d2=!Kr||9<=Number(Vo);function tl(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function UT(o,u){Jc(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:jT.hasOwnProperty(p)?o.setAttribute(jT[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var jT={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function p2(o,u,f){var p=arguments,g=document,_=String(p[0]),w=p[1];if(!d2&&w&&(w.name||w.type)){if(_=["<",_],w.name&&_.push(' name="',Rg(w.name),'"'),w.type){_.push(' type="',Rg(w.type),'"');var I={};or(I,w),delete I.type,w=I}_.push(">"),_=_.join("")}return _=Mh(g,_),w&&(typeof w=="string"?_.className=w:Array.isArray(w)?_.className=w.join(" "):UT(_,w)),2<p.length&&v2(g,_,p),_}function v2(o,u,f){function p(I){I&&u.appendChild(typeof I=="string"?o.createTextNode(I):I)}for(var g=2;g<f.length;g++){var _=f[g];if(!b(_)||T(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(T(_)){var w=typeof _.item=="function"||typeof _.item=="string";break e}if(E(_)){w=typeof _.item=="function";break e}}w=!1}H(w?z(_):_,p)}}}function Mh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function VT(o){l.setTimeout(function(){throw o},0)}var Lg;function g2(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!pt("Presto")&&(o=function(){var g=Mh(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var w="callImmediate"+Math.random(),I=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=j(function(F){(I=="*"||F.origin==I)&&F.data==w&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(w,I)}}}),typeof o<"u"&&!pt("Trident")&&!pt("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Gb;f.Gb=null,g()}},function(g){p.next={Gb:g},p=p.next,u.port2.postMessage(0)}}return function(g){l.setTimeout(g,0)}}function Lh(o,u){Fh||m2(),Fg||(Fh(),Fg=!0),BT.add(o,u)}var Fh;function m2(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);Fh=function(){o.then(qT)}}else Fh=function(){var u=qT;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!pt("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Lg||(Lg=g2()),Lg(u)):l.setImmediate(u)}}var Fg=!1,BT=new Zi;function qT(){for(var o;o=cn();){try{o.a.call(o.b)}catch(u){VT(u)}Ji(Ms,o)}Fg=!1}function je(o,u){if(this.a=Ls,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(p){Fs(f,nl,p)},function(p){if(!(p instanceof Za))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}Fs(f,to,p)})}catch(p){Fs(this,to,p)}}var Ls=0,nl=2,to=3;function WT(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}WT.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var HT=new un(function(){return new WT},function(o){o.reset()});function Ug(o,u,f){var p=HT.get();return p.g=o,p.b=u,p.f=f,p}function we(o){if(o instanceof je)return o;var u=new je(m);return Fs(u,nl,o),u}function bt(o){return new je(function(u,f){f(o)})}function GT(o,u,f){KT(o,u,f,null)||Lh(Ie(u,o))}function y2(o){return new je(function(u,f){var p=o.length,g=[];if(p)for(var _=function(W,Ce){p--,g[W]=Ce,p==0&&u(g)},w=function(W){f(W)},I=0,F;I<o.length;I++)F=o[I],GT(F,Ie(_,I),w);else u(g)})}function $T(o){return new je(function(u){var f=o.length,p=[];if(f)for(var g=function(I,F,W){f--,p[I]=F?{Pb:!0,value:W}:{Pb:!1,reason:W},f==0&&u(p)},_=0,w;_<o.length;_++)w=o[_],GT(w,Ie(g,_,!0),Ie(g,_,!1));else u(p)})}je.prototype.then=function(o,u,f){return zT(this,E(o)?o:null,E(u)?u:null,f)},je.prototype.$goog_Thenable=!0,t=je.prototype,t.oa=function(o,u){return o=Ug(o,o,u),o.c=!0,jg(this,o),this},t.o=function(o,u){return zT(this,null,o,u)},t.cancel=function(o){if(this.a==Ls){var u=new Za(o);Lh(function(){YT(this,u)},this)}};function YT(o,u){if(o.a==Ls)if(o.c){var f=o.c;if(f.b){for(var p=0,g=null,_=null,w=f.b;w&&(w.c||(p++,w.a==o&&(g=w),!(g&&1<p)));w=w.next)g||(_=w);g&&(f.a==Ls&&p==1?YT(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):XT(f),JT(f,g,to,u)))}o.c=null}else Fs(o,to,u)}function jg(o,u){o.b||o.a!=nl&&o.a!=to||QT(o),o.f?o.f.next=u:o.b=u,o.f=u}function zT(o,u,f,p){var g=Ug(null,null,null);return g.a=new je(function(_,w){g.g=u?function(I){try{var F=u.call(p,I);_(F)}catch(W){w(W)}}:_,g.b=f?function(I){try{var F=f.call(p,I);F===void 0&&I instanceof Za?w(I):_(F)}catch(W){w(W)}}:w}),g.a.c=o,jg(o,g),g.a}t.$c=function(o){this.a=Ls,Fs(this,nl,o)},t.ad=function(o){this.a=Ls,Fs(this,to,o)};function Fs(o,u,f){o.a==Ls&&(o===f&&(u=to,f=new TypeError("Promise cannot resolve to itself")),o.a=1,KT(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,QT(o),u!=to||f instanceof Za||w2(o,f)))}function KT(o,u,f,p){if(o instanceof je)return jg(o,Ug(u||m,f||null,p)),!0;if(ze(o))return o.then(u,f,p),!0;if(T(o))try{var g=o.then;if(E(g))return _2(o,g,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function _2(o,u,f,p,g){function _(F){I||(I=!0,p.call(g,F))}function w(F){I||(I=!0,f.call(g,F))}var I=!1;try{u.call(o,w,_)}catch(F){_(F)}}function QT(o){o.h||(o.h=!0,Lh(o.gc,o))}function XT(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}t.gc=function(){for(var o;o=XT(this);)JT(this,o,this.a,this.i);this.h=!1};function JT(o,u,f,p){if(f==to&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,ZT(u,f,p);else try{u.c?u.g.call(u.f):ZT(u,f,p)}catch(g){eI.call(null,g)}Ji(HT,u)}function ZT(o,u,f){u==nl?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function w2(o,u){o.g=!0,Lh(function(){o.g&&eI.call(null,u)})}var eI=VT;function Za(o){Ct.call(this,o)}de(Za,Ct),Za.prototype.name="cancel";function Uh(){this.xa=this.xa,this.pa=this.pa}var b2=0;Uh.prototype.xa=!1;function tI(o){!o.xa&&(o.xa=!0,o.Da(),b2!=0)&&A(o)}Uh.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var E2=Object.freeze||function(o){return o},nI=!Kr||9<=Number(Vo),T2=Kr&&!LT("9"),I2=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",m,u),l.removeEventListener("test",m,u)}catch{}return o}();function ar(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}ar.prototype.preventDefault=function(){this.defaultPrevented=!0};function Us(o,u){if(ar.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(DT){e:{try{Og(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:S2[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}de(Us,ar);var S2=E2({2:"touch",3:"pen",4:"mouse"});Us.prototype.preventDefault=function(){Us.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,T2)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Us.prototype.g=function(){return this.a};var rl="closure_listenable_"+(1e6*Math.random()|0),C2=0;function A2(o,u,f,p,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Va=g,this.key=++C2,this.va=this.Pa=!1}function jh(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function Vh(o){this.src=o,this.a={},this.b=0}Vh.prototype.add=function(o,u,f,p,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var w=Bg(o,u,p,g);return-1<w?(u=o[w],f||(u.Pa=!1)):(u=new A2(u,this.src,_,!!p,g),u.Pa=f,o.push(u)),u};function Vg(o,u){var f=u.type;f in o.a&&B(o.a[f],u)&&(jh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function Bg(o,u,f,p){for(var g=0;g<o.length;++g){var _=o[g];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==p)return g}return-1}var qg="closure_lm_"+(1e6*Math.random()|0),Wg={};function Lr(o,u,f,p,g){if(p&&p.once)Hg(o,u,f,p,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)Lr(o,u[_],f,p,g);else f=$g(f),o&&o[rl]?uI(o,u,f,T(p)?!!p.capture:!!p,g):rI(o,u,f,!1,p,g)}function rI(o,u,f,p,g,_){if(!u)throw Error("Invalid event type");var w=T(g)?!!g.capture:!!g,I=Bh(o);if(I||(o[qg]=I=new Vh(o)),f=I.add(u,f,p,w,_),!f.proxy)if(p=N2(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)I2||(g=w),g===void 0&&(g=!1),o.addEventListener(u.toString(),p,g);else if(o.attachEvent)o.attachEvent(oI(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function N2(){var o=k2,u=nI?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function Hg(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)Hg(o,u[_],f,p,g);else f=$g(f),o&&o[rl]?Yg(o,u,f,T(p)?!!p.capture:!!p,g):rI(o,u,f,!0,p,g)}function br(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)br(o,u[_],f,p,g);else p=T(p)?!!p.capture:!!p,f=$g(f),o&&o[rl]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=Bg(_,f,p,g),-1<f&&(jh(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Bh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=Bg(u,f,p,g)),(f=-1<o?u[o]:null)&&iI(f))}function iI(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[rl])Vg(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(oI(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Bh(u))?(Vg(f,o),f.b==0&&(f.src=null,u[qg]=null)):jh(o)}}}function oI(o){return o in Wg?Wg[o]:Wg[o]="on"+o}function sI(o,u,f,p){var g=!0;if((o=Bh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=aI(_,p),g=g&&_!==!1)}return g}function aI(o,u){var f=o.listener,p=o.Va||o.src;return o.Pa&&iI(o),f.call(p,u)}function k2(o,u){if(o.va)return!0;if(!nI){if(!u)e:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new Us(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(o=o.type,g=p.length-1;0<=g;g--){u.b=p[g];var _=sI(p[g],o,!0,u);f=f&&_}for(g=0;g<p.length;g++)u.b=p[g],_=sI(p[g],o,!1,u),f=f&&_}return f}return aI(o,new Us(u,this))}function Bh(o){return o=o[qg],o instanceof Vh?o:null}var Gg="__closure_events_fn_"+(1e9*Math.random()>>>0);function $g(o){return E(o)?o:(o[Gg]||(o[Gg]=function(u){return o.handleEvent(u)}),o[Gg])}function Wn(){Uh.call(this),this.v=new Vh(this),this.ac=this,this.gb=null}de(Wn,Uh),Wn.prototype[rl]=!0,Wn.prototype.addEventListener=function(o,u,f,p){Lr(this,o,u,f,p)},Wn.prototype.removeEventListener=function(o,u,f,p){br(this,o,u,f,p)},Wn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var p=o.type||o;if(typeof o=="string")o=new ar(o,f);else if(o instanceof ar)o.target=o.target||f;else{var g=o;o=new ar(p,f),or(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var w=o.b=u[_];g=qh(w,p,!0,o)&&g}if(w=o.b=f,g=qh(w,p,!0,o)&&g,g=qh(w,p,!1,o)&&g,u)for(_=0;_<u.length;_++)w=o.b=u[_],g=qh(w,p,!1,o)&&g;return g},Wn.prototype.Da=function(){if(Wn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)jh(f[p]);delete o.a[u],o.b--}}this.gb=null};function uI(o,u,f,p,g){o.v.add(String(u),f,!1,p,g)}function Yg(o,u,f,p,g){o.v.add(String(u),f,!0,p,g)}function qh(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var w=u[_];if(w&&!w.va&&w.capture==f){var I=w.listener,F=w.Va||w.src;w.Pa&&Vg(o.v,w),g=I.call(F,p)!==!1&&g}}return g&&!p.defaultPrevented}function zg(o,u,f){if(E(o))f&&(o=j(o,f));else if(o&&typeof o.handleEvent=="function")o=j(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function eu(o){var u=null;return new je(function(f,p){u=zg(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function cI(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(b(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function lI(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(b(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function R2(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(b(o)||typeof o=="string")H(o,u,void 0);else for(var f=lI(o),p=cI(o),g=p.length,_=0;_<g;_++)u.call(void 0,p[_],f&&f[_],o)}function tu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof tu)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}t=tu.prototype,t.W=function(){Kg(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},t.Y=function(){return Kg(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Kg(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];js(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)p=o.a[u],js(g,p)||(o.a[f++]=p,g[p]=1),u++;o.a.length=f}}t.get=function(o,u){return js(this.b,o)?this.b[o]:u},t.set=function(o,u){js(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},t.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var g=f[p],_=this.get(g);o.call(u,_,g,this)}};function js(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var fI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function O2(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),g=null;if(0<=p){var _=o[f].substring(0,p);g=o[f].substring(p+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Bo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Bo?(this.i=u!==void 0?u:o.i,il(this,o.c),this.l=o.l,this.a=o.a,ol(this,o.g),this.f=o.f,Qg(this,vI(o.b)),this.h=o.h):o&&(f=String(o).match(fI))?(this.i=!!u,il(this,f[1]||"",!0),this.l=sl(f[2]||""),this.a=sl(f[3]||"",!0),ol(this,f[4]),this.f=sl(f[5]||"",!0),Qg(this,f[6]||"",!0),this.h=sl(f[7]||"")):(this.i=!!u,this.b=new Vs(null,this.i))}Bo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(al(u,hI,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(al(u,hI,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(al(f,f.charAt(0)=="/"?D2:P2,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",al(f,L2)),o.join("")},Bo.prototype.resolve=function(o){var u=new Bo(this),f=!!o.c;f?il(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)ol(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(ye(g,"./")||ye(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],w=0;w<g.length;){var I=g[w++];I=="."?p&&w==g.length&&_.push(""):I==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&w==g.length&&_.push("")):(_.push(I),p=!0)}p=_.join("/")}else p=g}return f?u.f=p:f=o.b.toString()!=="",f?Qg(u,vI(o.b)):f=!!o.h,f&&(u.h=o.h),u};function il(o,u,f){o.c=f?sl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function ol(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function Qg(o,u,f){u instanceof Vs?(o.b=u,F2(o.b,o.i)):(f||(u=al(u,M2)),o.b=new Vs(u,o.i))}function Mt(o,u,f){o.b.set(u,f)}function Fr(o,u){return o.b.get(u)}function ur(o){return o instanceof Bo?new Bo(o):new Bo(o,void 0)}function Wh(o,u,f,p){var g=new Bo(null,void 0);return o&&il(g,o),u&&(g.a=u),f&&ol(g,f),p&&(g.f=p),g}function sl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function al(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,x2),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function x2(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var hI=/[#\/\?@]/g,P2=/[#\?:]/g,D2=/[#\?]/g,M2=/[#\?@]/g,L2=/#/g;function Vs(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function qo(o){o.a||(o.a=new tu,o.b=0,o.c&&O2(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function dI(o){var u=lI(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new Vs(null,void 0);o=cI(o);for(var p=0;p<u.length;p++){var g=u[p],_=o[p];Array.isArray(_)?pI(f,g,_):f.add(g,_)}return f}t=Vs.prototype,t.add=function(o,u){qo(this),this.c=null,o=nu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Si(o,u){qo(o),u=nu(o,u),js(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,js(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&Kg(o)))}t.clear=function(){this.a=this.c=null,this.b=0};function Xg(o,u){return qo(o),u=nu(o,u),js(o.a.b,u)}t.forEach=function(o,u){qo(this),this.a.forEach(function(f,p){H(f,function(g){o.call(u,g,p,this)},this)},this)},t.Y=function(){qo(this);for(var o=this.a.W(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var g=o[p],_=0;_<g.length;_++)f.push(u[p]);return f},t.W=function(o){qo(this);var u=[];if(typeof o=="string")Xg(this,o)&&(u=ne(u,this.a.get(nu(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=ne(u,o[f])}return u},t.set=function(o,u){return qo(this),this.c=null,o=nu(this,o),Xg(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},t.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function pI(o,u,f){Si(o,u),0<f.length&&(o.c=null,o.a.set(nu(o,u),z(f)),o.b+=f.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],g=encodeURIComponent(String(p));p=this.W(p);for(var _=0;_<p.length;_++){var w=g;p[_]!==""&&(w+="="+encodeURIComponent(String(p[_]))),o.push(w)}}return this.c=o.join("&")};function vI(o){var u=new Vs;return u.c=o.c,o.a&&(u.a=new tu(o.a),u.b=o.b),u}function nu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function F2(o,u){u&&!o.f&&(qo(o),o.c=null,o.a.forEach(function(f,p){var g=p.toLowerCase();p!=g&&(Si(this,p),pI(this,g,f))},o)),o.f=u}function gI(o){var u=[];return Jg(new U2,o,u),u.join("")}function U2(){}function Jg(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),Jg(o,p[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(g),yI(p,f),f.push(":"),Jg(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":yI(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var mI={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},j2=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function yI(o,u){u.push('"',o.replace(j2,function(f){var p=mI[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),mI[f]=p),p}),'"')}function Zg(){var o=wn();return Kr&&!!Vo&&Vo==11||/Edge\/\d+/.test(o)}function ul(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function _I(o,u){u=u||l.window;var f="about:blank";o&&(f=Ph(AT(o)||kT)),u.location.href=f}function wI(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<wI(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function V2(){var o=wn();return o=ru(o)!=II?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!Kr||!Vo||9<Vo}function bI(o){return o=(o||wn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Bs(o){o=o||l.window;try{o.close()}catch{}}function EI(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=wn().toLowerCase(),p&&(u.target=p,ye(f,"crios/")&&(u.target="_blank")),ru(wn())==nm&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof sr?f:AT(typeof f.href<"u"?f.href:String(f))||kT,f=o.target||f.target,g=[];for(w in o)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+o[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(o[w]?1:0))}var w=g.join(",");if((pt("iPhone")&&!pt("iPod")&&!pt("iPad")||pt("iPad")||pt("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(w=Mh(document,"A"),bT(w,"HTMLAnchorElement"),u=u instanceof sr?u:NT(u),w.href=Ph(u),w.setAttribute("target",f),o.noreferrer&&w.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),w.dispatchEvent(o),w={}):o.noreferrer?(w=OT("",p,f,w),o=Ph(u),w&&(l2&&ye(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),w.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Rg(o)+'">',o=(p=TT())?p.createHTML(o):o,o=new Ja(o,null,RT),p=w.document)&&(p.write(s2(o)),p.close())):(w=OT(u,p,f,w))&&o.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function B2(o){return new je(function(u){function f(){eu(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W2=/^[^@]+@[^@]+$/;function Hh(){var o=null;return new je(function(u){l.document.readyState=="complete"?u():(o=function(){u()},Hg(window,"load",o))}).o(function(u){throw br(window,"load",o),u})}function H2(){return em(void 0)?Hh().then(function(){return new je(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):bt(Error("Cordova must run in an Android or iOS file scheme."))}function em(o){return o=o||wn(),!(ou()!=="file:"&&ou()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function tm(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function Qr(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function Ci(){return ae.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ae.INTERNAL.hasOwnProperty("node")?"Node":Qr()?"Worker":"Browser"}function TI(){var o=Ci();return o==="ReactNative"||o==="Node"}function G2(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var nm="Firefox",II="Chrome";function ru(o){var u=o.toLowerCase();if(ye(u,"opera/")||ye(u,"opr/")||ye(u,"opios/"))return"Opera";if(ye(u,"iemobile"))return"IEMobile";if(ye(u,"msie")||ye(u,"trident/"))return"IE";if(ye(u,"edge/"))return"Edge";if(ye(u,"firefox/"))return nm;if(ye(u,"silk/"))return"Silk";if(ye(u,"blackberry"))return"Blackberry";if(ye(u,"webos"))return"Webos";if(!ye(u,"safari/")||ye(u,"chrome/")||ye(u,"crios/")||ye(u,"android"))if(!ye(u,"chrome/")&&!ye(u,"crios/")||ye(u,"edge/")){if(ye(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return II;else return"Safari";return"Other"}var SI={md:"FirebaseCore-web",od:"FirebaseUI-web"};function iu(o,u){u=u||[];var f=[],p={},g;for(g in SI)p[SI[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Ci(),f==="Browser"?(p=wn(),f=ru(p)):f==="Worker"&&(p=wn(),f=ru(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function wn(){return l.navigator&&l.navigator.userAgent||""}function Et(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function rm(){try{var o=l.localStorage,u=Ws();if(o)return o.setItem(u,"1"),o.removeItem(u),Zg()?!!l.indexedDB:!0}catch{return Qr()&&!!l.indexedDB}return!1}function qs(){return(Gh()||ou()==="chrome-extension:"||em())&&!TI()&&rm()&&!Qr()}function Gh(){return ou()==="http:"||ou()==="https:"}function ou(){return l.location&&l.location.protocol||null}function cl(o){return o=o||wn(),!(bI(o)||ru(o)==nm)}function ll(o){return typeof o>"u"?null:gI(o)}function CI(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function su(o){if(o!==null)return JSON.parse(o)}function Ws(o){return o||Math.floor(1e9*Math.random()).toString()}function AI(o){return o=o||wn(),!(ru(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function NI(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function Wo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=wn(),u=Ci(),this.b=bI(o)||u==="ReactNative"}Wo.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(Gh()||ou()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function im(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function $2(){var o=l.document,u=null;return im()||!o?we():new je(function(f){u=function(){im()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function fl(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function kI(){return!(!Et("fireauth.oauthhelper",l)&&!Et("fireauth.iframe",l))}function Y2(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function z2(){var o=l.navigator;return o&&o.serviceWorker?we().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):we(null)}var RI={};function om(o){RI[o]||(RI[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var sm;try{var am={};Object.defineProperty(am,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(am,"abcd",{configurable:!0,enumerable:!0,value:2}),sm=am.abcd==2}catch{sm=!1}function ce(o,u,f){sm?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Hn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ce(o,f,u[f])}function Ai(o){var u={};return Hn(u,o),u}function K2(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function Q2(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function um(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ce(u,f,um(o[f]))}return u}function cm(o){var u=o&&(o[dm]?"phone":null);if(u&&o&&o[hm]){ce(this,"uid",o[hm]),ce(this,"displayName",o[OI]||null);var f=null;o[fm]&&(f=new Date(o[fm]).toUTCString()),ce(this,"enrollmentTime",f),ce(this,"factorId",u)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}cm.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function lm(o){try{var u=new hl(o)}catch{u=null}return u}var OI="displayName",fm="enrolledAt",hm="mfaEnrollmentId",dm="phoneInfo";function hl(o){cm.call(this,o),ce(this,"phoneNumber",o[dm])}de(hl,cm),hl.prototype.w=function(){var o=hl.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function X2(o){var u={},f=o[J2],p=o[eF],g=o[tF];if(o=lm(o[Z2]),!g||g!=$h&&g!=dl&&!f||g==dl&&!p||g==pm&&!o)throw Error("Invalid checkActionCode response!");g==dl?(u[PI]=f||null,u[DI]=f||null,u[xI]=p):(u[PI]=p||null,u[DI]=p||null,u[xI]=f||null),u[nF]=o||null,ce(this,iF,g),ce(this,rF,um(u))}var pm="REVERT_SECOND_FACTOR_ADDITION",$h="EMAIL_SIGNIN",dl="VERIFY_AND_CHANGE_EMAIL",J2="email",Z2="mfaInfo",eF="newEmail",tF="requestType",xI="email",PI="fromEmail",nF="multiFactorInfo",DI="previousEmail",rF="data",iF="operation";function vm(o){o=ur(o);var u=Fr(o,MI)||null,f=Fr(o,LI)||null,p=Fr(o,FI)||null;if(p=p&&uF[p]||null,!u||!f||!p)throw new O("argument-error",MI+", "+LI+"and "+FI+" are required in a valid action code URL.");Hn(this,{apiKey:u,operation:p,code:f,continueUrl:Fr(o,oF)||null,languageCode:Fr(o,sF)||null,tenantId:Fr(o,aF)||null})}var MI="apiKey",LI="oobCode",oF="continueUrl",sF="languageCode",FI="mode",aF="tenantId",uF={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:pm,signIn:$h,verifyAndChangeEmail:dl,verifyEmail:"VERIFY_EMAIL"};function UI(o){try{return new vm(o)}catch{return null}}function Yh(o){var u=o[cF];if(typeof u>"u")throw new O("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new O("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[jI];if(f&&typeof f=="object"){u=f[HI];var p=f[qI];if(f=f[WI],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new O("argument-error",qI+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new O("argument-error",WI+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new O("argument-error",HI+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new O("missing-android-pkg-name")}}else if(typeof f<"u")throw new O("argument-error",jI+" property must be a non null object when specified.");if(this.f=null,(u=o[BI])&&typeof u=="object"){if(u=u[GI],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new O("argument-error",GI+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new O("argument-error",BI+" property must be a non null object when specified.");if(u=o[gm],typeof u<"u"&&typeof u!="boolean")throw new O("argument-error",gm+" property must be a boolean when specified.");if(this.c=!!u,o=o[VI],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new O("argument-error",VI+" property must be a non empty string when specified.");this.i=o||null}var jI="android",VI="dynamicLinkDomain",gm="handleCodeInApp",BI="iOS",cF="url",qI="installApp",WI="minimumVersion",HI="packageName",GI="bundleId";function zh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function lF(o){return S(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var pl=null;function fF(o){var u=[];return hF(o,function(f){u.push(f)}),u}function hF(o,u){function f(F){for(;p<o.length;){var W=o.charAt(p++),Ce=pl[W];if(Ce!=null)return Ce;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return F}dF();for(var p=0;;){var g=f(-1),_=f(0),w=f(64),I=f(64);if(I===64&&g===-1)break;u(g<<2|_>>4),w!=64&&(u(_<<4&240|w>>2),I!=64&&u(w<<6&192|I))}}function dF(){if(!pl){pl={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),g=0;g<p.length;g++){var _=p[g];pl[_]===void 0&&(pl[_]=g)}}}function Kh(o){var u=$I(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Kh.prototype.T=function(){return this.f},Kh.prototype.l=function(){return this.c},Kh.prototype.toString=function(){return this.h};function Qh(o){try{return new Kh(o)}catch{return null}}function $I(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=fF(o);for(o=[],f=u=0;u<p.length;){var g=p[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=p[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=p[u++];var w=p[u++],I=p[u++],F=((g&7)<<18|(_&63)<<12|(w&63)<<6|I&63)-65536;o[f++]=String.fromCharCode(55296+(F>>10)),o[f++]=String.fromCharCode(56320+(F&1023))}else _=p[u++],w=p[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|w&63)}return JSON.parse(o.join(""))}catch{}return null}var YI="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Xh=["client_id","response_type","scope","redirect_uri","state"],mm={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Xh},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Xh},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Xh},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:YI},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function ym(o){for(var u in mm)if(mm[u].fa==o)return mm[u];return null}function zI(o){var u={};u["facebook.com"]=QI,u["google.com"]=JI,u["github.com"]=XI,u["twitter.com"]=ZI;var f=o&&o[KI];try{if(f)return u[f]?new u[f](o):new Ni(o);if(typeof o[_m]<"u")return new wm(o)}catch{}return null}var _m="idToken",KI="providerId";function wm(o){var u=o[KI];if(!u&&o[_m]){var f=Qh(o[_m]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ce(this,"providerId",u),ce(this,"isNewUser",f)}function Ni(o){wm.call(this,o),o=su(o.rawUserInfo||"{}"),ce(this,"profile",um(o||{}))}de(Ni,wm);function QI(o){if(Ni.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}de(QI,Ni);function XI(o){if(Ni.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ce(this,"username",this.profile&&this.profile.login||null)}de(XI,Ni);function JI(o){if(Ni.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}de(JI,Ni);function ZI(o){if(Ni.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ce(this,"username",o.screenName||null)}de(ZI,Ni);function eS(o){var u=ur(o),f=Fr(u,"link"),p=Fr(ur(f),"link");return u=Fr(u,"deep_link_id"),Fr(ur(u),"link")||u||p||f||o}function Jh(o,u){if(!o&&!u)throw new O("internal-error","Internal assert: no raw session string available");if(o&&u)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?vl:Zh}var vl="enroll",Zh="signin";Jh.prototype.Ha=function(){return this.a?we(this.a):we(this.b)},Jh.prototype.w=function(){return this.type==vl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function au(){}au.prototype.ka=function(){},au.prototype.b=function(){},au.prototype.c=function(){},au.prototype.w=function(){};function uu(o,u){return o.then(function(f){if(f[Zr]){var p=Qh(f[Zr]);if(!p||u!=p.i)throw new O("user-mismatch");return f}throw new O("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==An+"user-not-found"?new O("user-mismatch"):f})}function Hs(o,u){if(u)this.a=u;else throw new O("internal-error","failed to construct a credential");ce(this,"providerId",o),ce(this,"signInMethod",o)}Hs.prototype.ka=function(o){return Hm(o,bm(this))},Hs.prototype.b=function(o,u){var f=bm(this);return f.idToken=u,Gm(o,f)},Hs.prototype.c=function(o,u){return uu($m(o,bm(this)),u)};function bm(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Hs.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function pF(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Hs(o.providerId,o.pendingToken)}catch{}return null}function no(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ce(this,"idToken",u.idToken),u.accessToken&&ce(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ce(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ce(this,"accessToken",u.oauthToken),ce(this,"secret",u.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");ce(this,"providerId",o),ce(this,"signInMethod",f)}no.prototype.ka=function(o){return Hm(o,Em(this))},no.prototype.b=function(o,u){var f=Em(this);return f.idToken=u,Gm(o,f)},no.prototype.c=function(o,u){var f=Em(this);return uu($m(o,f),u)};function Em(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:dI(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}no.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function vF(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new no(o.providerId,u,o.signInMethod)}catch{}}return null}function Gs(o,u){this.Qc=u||[],Hn(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(ym(o)||{}).Ja||null,this.ob=null}Gs.prototype.Ka=function(o){return this.Ib=Xt(o),this};function tS(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');Gs.call(this,o,[])}de(tS,Gs);function Er(o){Gs.call(this,o,Xh),this.a=[]}de(Er,Gs),Er.prototype.Ca=function(o){return L(this.a,o)||this.a.push(o),this},Er.prototype.Qb=function(){return z(this.a)},Er.prototype.credential=function(o,u){var f;if(T(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new no(this.providerId,f,this.providerId)};function $s(){Er.call(this,"facebook.com")}de($s,Er),ce($s,"PROVIDER_ID","facebook.com"),ce($s,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function nS(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new $s().credential({accessToken:u})}function Ys(){Er.call(this,"github.com")}de(Ys,Er),ce(Ys,"PROVIDER_ID","github.com"),ce(Ys,"GITHUB_SIGN_IN_METHOD","github.com");function rS(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Ys().credential({accessToken:u})}function zs(){Er.call(this,"google.com"),this.Ca("profile")}de(zs,Er),ce(zs,"PROVIDER_ID","google.com"),ce(zs,"GOOGLE_SIGN_IN_METHOD","google.com");function iS(o,u){var f=o;return T(o)&&(f=o.idToken,u=o.accessToken),new zs().credential({idToken:f,accessToken:u})}function cu(){Gs.call(this,"twitter.com",YI)}de(cu,Gs),ce(cu,"PROVIDER_ID","twitter.com"),ce(cu,"TWITTER_SIGN_IN_METHOD","twitter.com");function oS(o,u){var f=o;if(T(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new no("twitter.com",f,"twitter.com")}function Ho(o,u,f){this.a=o,this.f=u,ce(this,"providerId","password"),ce(this,"signInMethod",f===Ur.EMAIL_LINK_SIGN_IN_METHOD?Ur.EMAIL_LINK_SIGN_IN_METHOD:Ur.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ho.prototype.ka=function(o){return this.signInMethod==Ur.EMAIL_LINK_SIGN_IN_METHOD?Be(o,ZF,{email:this.a,oobCode:this.f}):Be(o,PS,{email:this.a,password:this.f})},Ho.prototype.b=function(o,u){return this.signInMethod==Ur.EMAIL_LINK_SIGN_IN_METHOD?Be(o,eU,{idToken:u,email:this.a,oobCode:this.f}):Be(o,xS,{idToken:u,email:this.a,password:this.f})},Ho.prototype.c=function(o,u){return uu(this.ka(o),u)},Ho.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function gF(o){return o&&o.email&&o.password?new Ho(o.email,o.password,o.signInMethod):null}function Ur(){Hn(this,{providerId:"password",isOAuthProvider:!1})}function sS(o,u){if(u=Tm(u),!u)throw new O("argument-error","Invalid email link!");return new Ho(o,u.code,Ur.EMAIL_LINK_SIGN_IN_METHOD)}function Tm(o){return o=eS(o),(o=UI(o))&&o.operation===$h?o:null}Hn(Ur,{PROVIDER_ID:"password"}),Hn(Ur,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Hn(Ur,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Go(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new O("internal-error");this.a=o,ce(this,"providerId","phone"),this.fa="phone",ce(this,"signInMethod","phone")}Go.prototype.ka=function(o){return o.fb(gl(this))},Go.prototype.b=function(o,u){var f=gl(this);return f.idToken=u,Be(o,wU,f)},Go.prototype.c=function(o,u){var f=gl(this);return f.operation="REAUTH",o=Be(o,bU,f),uu(o,u)},Go.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function mF(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Go(u)}return null}function gl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function ro(o){try{this.a=o||ae.auth()}catch{throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Hn(this,{providerId:"phone",isOAuthProvider:!1})}ro.prototype.fb=function(o,u){var f=this.a.a;return we(u.verify()).then(function(p){if(typeof p!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=T(o)?o.session:null,_=T(o)?o.phoneNumber:o,w;return g&&g.type==vl?w=g.Ha().then(function(I){return HF(f,{idToken:I,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):g&&g.type==Zh?w=g.Ha().then(function(I){return GF(f,{mfaPendingCredential:I,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):w=WF(f,{phoneNumber:_,recaptchaToken:p}),w.then(function(I){return typeof u.reset=="function"&&u.reset(),I},function(I){throw typeof u.reset=="function"&&u.reset(),I});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function aS(o,u){if(!o)throw new O("missing-verification-id");if(!u)throw new O("missing-verification-code");return new Go({eb:o,cb:u})}Hn(ro,{PROVIDER_ID:"phone"}),Hn(ro,{PHONE_SIGN_IN_METHOD:"phone"});function Im(o){if(o.temporaryProof&&o.phoneNumber)return new Go({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,w=o&&o.pendingToken;try{switch(u){case"google.com":return iS(_,f);case"facebook.com":return nS(f);case"github.com":return rS(f);case"twitter.com":return oS(f,p);default:return f||p||_||w?w?u.indexOf("saml.")==0?new Hs(u,w):new no(u,{pendingToken:w,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new Er(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function Sm(o){if(!o.isOAuthProvider)throw new O("invalid-oauth-provider")}function Xr(o,u,f,p,g,_,w){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}Xr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Xr.prototype.T=function(){return this.h},Xr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function uS(o){return o=o||{},o.type?new Xr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&Ei(o.error),o.postBody,o.tenantId):null}function yF(){this.b=null,this.a=[]}var Cm=null;function _F(o){var u=Cm;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=Et("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function Am(o){var u="unauthorized-domain",f=void 0,p=ur(o);o=p.a,p=p.c,p=="chrome-extension"?f=xT("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=xT("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",O.call(this,u,f)}de(Am,O);function ml(o,u,f){O.call(this,o,f),o=u||{},o.Jb&&ce(this,"email",o.Jb),o.ea&&ce(this,"phoneNumber",o.ea),o.credential&&ce(this,"credential",o.credential),o.Zb&&ce(this,"tenantId",o.Zb)}de(ml,O),ml.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&or(o,u),o},ml.prototype.toJSON=function(){return this.w()};function ed(o){if(o.code){var u=o.code||"";u.indexOf(An)==0&&(u=u.substring(An.length));var f={credential:Im(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new O(u,o.message||void 0);return new ml(u,f,o.message)}return null}function yl(){}yl.prototype.c=null;function cS(o){return o.c||(o.c=o.b())}var Nm;function td(){}de(td,yl),td.prototype.a=function(){var o=lS(this);return o?new ActiveXObject(o):new XMLHttpRequest},td.prototype.b=function(){var o={};return lS(this)&&(o[0]=!0,o[1]=!0),o};function lS(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Nm=new td;function nd(){}de(nd,yl),nd.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new fS;throw Error("Unsupported browser")},nd.prototype.b=function(){return{}};function fS(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=j(this.qc,this),this.a.onerror=j(this.Sb,this),this.a.onprogress=j(this.rc,this),this.a.ontimeout=j(this.vc,this)}t=fS.prototype,t.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},t.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,km(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",km(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,km(this,1)};function km(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Rm(o,u,f){this.reset(o,u,f,void 0,void 0)}Rm.prototype.a=null,Rm.prototype.reset=function(o,u,f,p,g){delete this.a};function Om(o){this.f=o,this.b=this.c=this.a=null}function _l(o,u){this.name=o,this.value=u}_l.prototype.toString=function(){return this.name};var hS=new _l("SEVERE",1e3),xm=new _l("WARNING",900),wF=new _l("CONFIG",700),bF=new _l("FINE",500);function dS(o){return o.c?o.c:o.a?dS(o.a):(_n("Root logger has no level set."),null)}Om.prototype.log=function(o,u,f){if(o.value>=dS(this).value)for(E(u)&&(u=u()),o=new Rm(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var Pm={},rd=null;function Dm(o){rd||(rd=new Om(""),Pm[""]=rd,rd.c=wF);var u;if(!(u=Pm[o])){u=new Om(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=Dm(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,Pm[o]=u}return u}function jr(o,u){o&&o.log(bF,u,void 0)}function id(o){this.f=o}de(id,yl),id.prototype.a=function(){return new od(this.f)},id.prototype.b=function(o){return function(){return o}}({});function od(o){Wn.call(this),this.u=o,this.h=void 0,this.readyState=Mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Dm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}de(od,Wn);var Mm=0;t=od.prototype,t.open=function(o,u){if(this.readyState!=Mm)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,bl(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,wl(this)),this.readyState=Mm},t.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,bl(this)),this.a&&(this.readyState=3,bl(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,pS(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function pS(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}t.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?wl(this):bl(this),this.readyState==3&&pS(this)}},t.tc=function(o){this.a&&(this.response=this.responseText=o,wl(this))},t.sc=function(o){this.a&&(this.response=o,wl(this))},t.Ua=function(o){var u=this.i;u&&u.log(xm,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&wl(this)};function wl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,bl(o)}t.setRequestHeader=function(o,u){this.l.append(o,u)},t.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(xm,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(xm,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function bl(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(od.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function El(o){Wn.call(this),this.headers=new tu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=vS,this.u=this.S=!1}de(El,Wn);var vS="";El.prototype.b=Dm("goog.net.XhrIo");var EF=/^https?$/i,TF=["POST","PUT"];function IF(o,u,f,p,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Nm.a(),o.C=o.D?cS(o.D):cS(Nm),o.a.onreadystatechange=j(o.Vb,o);try{jr(o.b,io(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(w){jr(o.b,io(o,"Error opening Xhr: "+w.message)),gS(o,w);return}u=p||"";var _=new tu(o.headers);g&&R2(g,function(w,I){_.set(I,w)}),g=x(_.Y()),p=l.FormData&&u instanceof l.FormData,!L(TF,f)||g||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(w,I){this.a.setRequestHeader(I,w)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{_S(o),0<o.g&&(o.u=SF(o.a),jr(o.b,io(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=j(o.Ma,o)):o.s=zg(o.Ma,o.g,o)),jr(o.b,io(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(w){jr(o.b,io(o,"Send error: "+w.message)),gS(o,w)}}function SF(o){return Kr&&LT(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function CF(o){return o.toLowerCase()=="content-type"}t=El.prototype,t.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",jr(this.b,io(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function gS(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,mS(o),sd(o)}function mS(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(jr(this.b,io(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),sd(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),sd(this,!0)),El.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?yS(this):this.Jc())},t.Jc=function(){yS(this)};function yS(o){if(o.c&&typeof c<"u"){if(o.C[1]&&Tl(o)==4&&ad(o)==2)jr(o.b,io(o,"Local request error detected and ignored"));else if(o.i&&Tl(o)==4)zg(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),Tl(o)==4){jr(o.b,io(o,"Request complete")),o.c=!1;try{var u=ad(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var g;if(g=u===0){var _=String(o.l).match(fI)[1]||null;if(!_&&l.self&&l.self.location){var w=l.self.location.protocol;_=w.substr(0,w.length-1)}g=!EF.test(_?_.toLowerCase():"")}p=g}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var I=2<Tl(o)?o.a.statusText:""}catch(F){jr(o.b,"Can not get status: "+F.message),I=""}o.h=I+" ["+ad(o)+"]",mS(o)}}finally{sd(o)}}}}function sd(o,u){if(o.a){_S(o);var f=o.a,p=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(g){(o=o.b)&&o.log(hS,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function _S(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function Tl(o){return o.a?o.a.readyState:0}function ad(o){try{return 2<Tl(o)?o.a.status:-1}catch{return-1}}function AF(o){try{return o.a?o.a.responseText:""}catch(u){return jr(o.b,"Can not get responseText: "+u.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case vS:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(hS,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return jr(this.b,"Can not get response: "+u.message),null}};function io(o,u){return u+" ["+o.R+" "+o.l+" "+ad(o)+"]"}function Ks(o){var u=RF;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Ks.prototype.cancel=function(o){if(this.a)this.c instanceof Ks&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new Sl,ud(this),Il(this,!1,o))}},Ks.prototype.m=function(o,u){this.i=!1,Il(this,o,u)};function Il(o,u,f){o.a=!0,o.c=f,o.f=!u,bS(o)}function ud(o){if(o.a){if(!o.v)throw new cd;o.v=!1}}function NF(o,u){Lm(o,null,u,void 0)}function Lm(o,u,f,p){o.g.push([u,f,p]),o.a&&bS(o)}Ks.prototype.then=function(o,u,f){var p,g,_=new je(function(w,I){p=w,g=I});return Lm(this,p,function(w){w instanceof Sl?_.cancel():g(w)}),_.then(o,u,f)},Ks.prototype.$goog_Thenable=!0;function wS(o){return C(o.g,function(u){return E(u[1])})}function bS(o){if(o.h&&o.a&&wS(o)){var u=o.h,f=ld[u];f&&(l.clearTimeout(f.a),delete ld[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],w=g[1];if(g=g[2],_=o.f?w:_)try{var I=_.call(g||o.s,u);I!==void 0&&(o.f=o.f&&(I==u||I instanceof Error),o.c=u=I),(ze(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(F){u=F,o.f=!0,wS(o)||(f=!0)}}o.c=u,p&&(I=j(o.m,o,!0),p=j(o.m,o,!1),u instanceof Ks?(Lm(u,I,p),u.C=!0):u.then(I,p)),f&&(u=new ES(u),ld[u.a]=u,o.h=u.a)}function cd(){Ct.call(this)}de(cd,Ct),cd.prototype.message="Deferred has already fired",cd.prototype.name="AlreadyCalledError";function Sl(){Ct.call(this)}de(Sl,Ct),Sl.prototype.message="Deferred was canceled",Sl.prototype.name="CanceledError";function ES(o){this.a=l.setTimeout(j(this.c,this),0),this.b=o}ES.prototype.c=function(){throw delete ld[this.a],this.b};var ld={};function Fm(o){var u={},f=u.document||document,p=IT(o).toString(),g=Mh(document,"SCRIPT"),_={Wb:g,Ma:void 0},w=new Ks(_),I=null,F=u.timeout!=null?u.timeout:5e3;return 0<F&&(I=window.setTimeout(function(){fd(g,!0);var W=new Um(xF,"Timeout reached for loading script "+p);ud(w),Il(w,!1,W)},F),_.Ma=I),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(fd(g,u.xd||!1,I),ud(w),Il(w,!0,null))},g.onerror=function(){fd(g,!0,I);var W=new Um(OF,"Error while loading script "+p);ud(w),Il(w,!1,W)},_=u.attributes||{},or(_,{type:"text/javascript",charset:"UTF-8"}),UT(g,_),a2(g,o),kF(f).appendChild(g),w}function kF(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function RF(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&fd(o,!0,this.Ma)}}function fd(o,u,f){f!=null&&l.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var OF=0,xF=1;function Um(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),Ct.call(this,f),this.code=o}de(Um,Ct);function hd(o){this.f=o}de(hd,yl),hd.prototype.a=function(){return new this.f},hd.prototype.b=function(){return{}};function Jr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||PF,this.g=Xt(o.secureTokenHeaders||DF),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||MF,this.a=Xt(o.firebaseHeaders||LF),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Ci()=="Node",f=l.XMLHttpRequest||f&&ae.INTERNAL.node&&ae.INTERNAL.node.XMLHttpRequest,!f&&!Qr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Qr()?this.f=new id(self):TI()?this.f=new hd(f):this.f=new nd,this.b=null}var jm,Zr="idToken",PF=new Wo(3e4,6e4),DF={"Content-Type":"application/x-www-form-urlencoded"},MF=new Wo(3e4,6e4),LF={"Content-Type":"application/json"};function TS(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function lu(o,u){u&&(o.l=Vm("https://securetoken.googleapis.com/v1/token",u),o.h=Vm("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Vm("https://identitytoolkit.googleapis.com/v2/",u))}function Vm(o,u){return o=ur(o),u=ur(u.url),o.f=o.a+o.f,il(o,u.c),o.a=u.a,ol(o,u.g),o.toString()}function IS(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Jr.prototype.T=function(){return this.b};function SS(o,u,f,p,g,_,w){V2()||Qr()?o=j(o.u,o):(jm||(jm=new je(function(I,F){UF(I,F)})),o=j(o.s,o)),o(u,f,p,g,_,w)}Jr.prototype.u=function(o,u,f,p,g,_){if(Qr()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new El(this.f);if(_){w.g=Math.max(0,_);var I=setTimeout(function(){w.dispatchEvent("timeout")},_)}uI(w,"complete",function(){I&&clearTimeout(I);var F=null;try{F=JSON.parse(AF(this))||null}catch{F=null}u&&u(F)}),Yg(w,"ready",function(){I&&clearTimeout(I),tI(this)}),Yg(w,"timeout",function(){I&&clearTimeout(I),tI(this),u&&u(null)}),IF(w,o,f,p,g)};var FF=new Ii(Oh,"https://apis.google.com/js/client.js?onload=%{onload}"),CS="__fcb"+Math.floor(1e6*Math.random()).toString();function UF(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[CS]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=kg(FF,{onload:CS});NF(Fm(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Jr.prototype.s=function(o,u,f,p,g){var _=this;jm.then(function(){window.gapi.client.setApiKey(_.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:g,authType:"none",callback:function(I){window.gapi.auth.setToken(w),u&&u(I)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function jF(o,u){return new je(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?SS(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?p(zm(g)):g.access_token&&g.refresh_token?f(g):p(new O("internal-error")):p(new O("network-request-failed"))},"POST",dI(u).toString(),o.g,o.m.get()):p(new O("internal-error"))})}function AS(o,u,f,p,g,_,w){var I=ur(u+f);Mt(I,"key",o.c),w&&Mt(I,"cb",rt().toString());var F=p=="GET";if(F)for(var W in g)g.hasOwnProperty(W)&&Mt(I,W,g[W]);return new je(function(Ce,it){SS(o,I.toString(),function(Xe){Xe?Xe.error?it(zm(Xe,_||{})):Ce(Xe):it(new O("network-request-failed"))},p,F?void 0:gI(CI(g)),o.a,o.v.get())})}function Qs(o){if(o=o.email,typeof o!="string"||!W2.test(o))throw new O("invalid-email")}function NS(o){"email"in o&&Qs(o)}function VF(o,u){return Be(o,QF,{identifier:u,continueUri:Gh()?ul():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function BF(o){return Be(o,uU,{}).then(function(u){return u.authorizedDomains||[]})}function cr(o){if(!o[Zr])throw o.mfaPendingCredential?new O("multi-factor-auth-required",null,Xt(o)):new O("internal-error")}function Bm(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new O("internal-error")}else{if(!o.sessionInfo)throw new O("missing-verification-id");if(!o.code)throw new O("missing-verification-code")}}Jr.prototype.zb=function(){return Be(this,hU,{})},Jr.prototype.Bb=function(o,u){return Be(this,OS,{idToken:o,email:u})},Jr.prototype.Cb=function(o,u){return Be(this,xS,{idToken:o,password:u})};var qF={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Jr.prototype,t.Db=function(o,u){var f={idToken:o},p=[];return Jc(qF,function(g,_){var w=u[_];w===null?p.push(g):_ in u&&(f[_]=w)}),p.length&&(f.deleteAttribute=p),Be(this,OS,f)},t.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},or(o,u),Be(this,aU,o)},t.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},or(o,u),Be(this,iU,o)},t.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},or(o,u),Be(this,oU,o)},t.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},or(o,f),Be(this,sU,o)};function WF(o,u){return Be(o,fU,u)}t.fb=function(o){return Be(this,_U,o)};function HF(o,u){return Be(o,dU,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function kS(o){if(!o.phoneVerificationInfo)throw new O("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new O("missing-verification-code")}function GF(o,u){return Be(o,pU,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function $F(o,u,f){return Be(o,JF,{idToken:u,deleteProvider:f})}function qm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new O("internal-error")}function Wm(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new Vs(o.postBody),Xg(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function RS(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=ed(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=ed(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=ed(o)):o.errorMessage&&(u=DS(o.errorMessage)),u)throw u;cr(o)}function Hm(o,u){return u.returnIdpCredential=!0,Be(o,vU,u)}function Gm(o,u){return u.returnIdpCredential=!0,Be(o,mU,u)}function $m(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Be(o,gU,u)}function Ym(o){if(!o.oobCode)throw new O("invalid-action-code")}t.nb=function(o,u){return Be(this,lU,{oobCode:o,newPassword:u})},t.Ra=function(o){return Be(this,zF,{oobCode:o})},t.jb=function(o){return Be(this,YF,{oobCode:o})};var YF={endpoint:"setAccountInfo",A:Ym,Z:"email",B:!0},zF={endpoint:"resetPassword",A:Ym,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},KF={endpoint:"signupNewUser",A:function(o){if(Qs(o),!o.password)throw new O("weak-password")},G:cr,V:!0,B:!0},QF={endpoint:"createAuthUri",B:!0},XF={endpoint:"deleteAccount",N:["idToken"]},JF={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new O("internal-error")}},ZF={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Qs,G:cr,V:!0,B:!0},eU={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Qs,G:cr,V:!0},tU={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:kS,G:cr,B:!0,Na:!0},nU={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:kS,G:cr,B:!0,Na:!0},rU={endpoint:"getAccountInfo"},iU={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new O("internal-error");Qs(o)},Z:"email",B:!0},oU={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},sU={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},aU={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new O("internal-error");Qs(o)},Z:"email",B:!0},uU={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},cU={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new O("internal-error")}},lU={endpoint:"resetPassword",A:Ym,Z:"email",B:!0},fU={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},OS={endpoint:"setAccountInfo",N:["idToken"],A:NS,V:!0},xS={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(NS(o),!o.password)throw new O("weak-password")},G:cr,V:!0},hU={endpoint:"signupNewUser",G:cr,V:!0,B:!0},dU={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new O("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},pU={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},vU={endpoint:"verifyAssertion",A:qm,Ya:Wm,G:RS,V:!0,B:!0},gU={endpoint:"verifyAssertion",A:qm,Ya:Wm,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(o.errorMessage)throw DS(o.errorMessage);cr(o)},V:!0,B:!0},mU={endpoint:"verifyAssertion",A:function(o){if(qm(o),!o.idToken)throw new O("internal-error")},Ya:Wm,G:RS,V:!0},yU={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new O("invalid-custom-token")},G:cr,V:!0,B:!0},PS={endpoint:"verifyPassword",A:function(o){if(Qs(o),!o.password)throw new O("wrong-password")},G:cr,V:!0,B:!0},_U={endpoint:"verifyPhoneNumber",A:Bm,G:cr,B:!0},wU={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new O("internal-error");Bm(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",ed(o);cr(o)}},bU={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Bm,G:cr,B:!0},EU={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Zr]^!!o.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function Be(o,u,f){if(!Q2(f,u.N))return bt(new O("internal-error"));var p=!!u.Na,g=u.Ub||"POST",_;return we(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?AS(o,o.i,u.endpoint,g,f,u.Hb,u.lb||!1):AS(o,o.h,u.endpoint,g,f,u.Hb,u.lb||!1)}).then(function(w){return _=w,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new O("internal-error");return _[u.Z]})}function DS(o){return zm({error:{errors:[{message:o}],code:400,message:o}})}function zm(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new O(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},or(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(f.indexOf(g)===0)return new O(p[g],u);return!u&&o&&(u=ll(o)),new O("internal-error",u)}function TU(o){this.b=o,this.a=null,this.rb=IU(this)}function IU(o){return RU().then(function(){return new je(function(u,f){Et("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},kU.get());p.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function SU(o,u){return o.rb.then(function(){return new je(function(f){o.a.send(u.type,u,f,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function CU(o,u){o.rb.then(function(){o.a.register("authEvent",u,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var AU=new Ii(Oh,"https://apis.google.com/js/api.js?onload=%{onload}"),NU=new Wo(3e4,6e4),kU=new Wo(5e3,15e3),dd=null;function RU(){return dd||(dd=new je(function(o,u){function f(){NI(),Et("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){NI(),u(Error("Network Error"))},timeout:NU.get()})}if(Et("gapi.iframes.Iframe"))o();else if(Et("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){Et("gapi.load")?f():u(Error("Network Error"))},p=kg(AU,{onload:p}),we(Fm(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw dd=null,o}))}function MS(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=ur(this.g.url),o=Wh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Wh("https",this.l,null,"/__/auth/iframe"),this.a=o,Mt(this.a,"apiKey",this.h),Mt(this.a,"appName",this.i),this.b=null,this.c=[]}MS.prototype.toString=function(){return this.f?Mt(this.a,"v",this.f):Si(this.a.b,"v"),this.b?Mt(this.a,"eid",this.b):Si(this.a.b,"eid"),this.c.length?Mt(this.a,"fw",this.c.join(",")):Si(this.a.b,"fw"),this.a.toString()};function Km(o,u,f,p,g,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}Km.prototype.yb=function(o){return this.h=o,this},Km.prototype.toString=function(){if(this.v){var o=ur(this.v.url);o=Wh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Wh("https",this.u,null,"/__/auth/handler");if(Mt(o,"apiKey",this.s),Mt(o,"appName",this.c),Mt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ae.app(this.c).auth().la()}catch{f=null}u.ob=f,Mt(o,"providerId",this.a.providerId),f=this.a,u=CI(f.Ib);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=Xt(u);for(var g=0;g<p.length;g++){var _=p[g];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),Dt(u)||Mt(o,"customParameters",ll(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&Mt(o,"scopes",f.join(","))),this.l?Mt(o,"redirectUrl",this.l):Si(o.b,"redirectUrl"),this.g?Mt(o,"eventId",this.g):Si(o.b,"eventId"),this.i?Mt(o,"v",this.i):Si(o.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Fr(o,w)&&Mt(o,w,this.b[w]);return this.h?Mt(o,"tid",this.h):Si(o.b,"tid"),this.f?Mt(o,"eid",this.f):Si(o.b,"eid"),w=Qm(this.c),w.length&&Mt(o,"fw",w.join(",")),o.toString()};function Qm(o){try{return ae.app(o).auth().Ga()}catch{return[]}}function LS(o,u,f,p,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function FS(o){var u=ul();return BF(o).then(function(f){e:{var p=ur(u),g=p.c;p=p.a;for(var _=0;_<f.length;_++){var w=f[_],I=p,F=g;if(w.indexOf("chrome-extension://")==0?I=ur(w).a==I&&F=="chrome-extension":F!="http"&&F!="https"?I=!1:q2.test(w)?I=I==w:(w=w.split(".").join("\\."),I=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(I)),I){f=!0;break e}}f=!1}if(!f)throw new Am(ul())})}function US(o){return o.m||(o.m=Hh().then(function(){if(!o.u){var u=o.c,f=o.i,p=Qm(o.b),g=new MS(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=z(p||[]),o.u=g.toString()}o.v=new TU(o.u),OU(o)})),o.m}t=LS.prototype,t.Ob=function(o,u,f){var p=new O("popup-closed-by-user"),g=new O("web-storage-unsupported"),_=this,w=!1;return this.ma().then(function(){xU(_).then(function(I){I||(o&&Bs(o),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return B2(o)}).then(function(){if(!w)return eu(f).then(function(){u(p)})})},t.Xb=function(){var o=wn();return!cl(o)&&!AI(o)},t.Tb=function(){return!1},t.Mb=function(o,u,f,p,g,_,w,I){if(!o)return bt(new O("popup-blocked"));if(w&&!cl())return this.ma().o(function(W){Bs(o),g(W)}),p(),we();this.a||(this.a=FS(jS(this)));var F=this;return this.a.then(function(){var W=F.ma().o(function(Ce){throw Bs(o),g(Ce),Ce});return p(),W}).then(function(){if(Sm(f),!w){var W=Cl(F.s,F.g,F.b,u,f,null,_,F.c,void 0,F.i,I,F.f);_I(W,o)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(F.a=null),W})};function jS(o){return o.l||(o.C=o.c?iu(o.c,Qm(o.b)):null,o.l=new Jr(o.g,_t(o.i),o.C),o.f&&lu(o.l,o.f)),o.l}t.Nb=function(o,u,f,p){this.a||(this.a=FS(jS(this)));var g=this;return this.a.then(function(){Sm(u);var _=Cl(g.s,g.g,g.b,o,u,ul(),f,g.c,void 0,g.i,p,g.f);_I(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},t.ma=function(){var o=this;return US(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new O("network-request-failed")})},t.$b=function(){return!0};function Cl(o,u,f,p,g,_,w,I,F,W,Ce,it){return o=new Km(o,u,f,p,g,it),o.l=_,o.g=w,o.i=I,o.b=Xt(F||null),o.f=W,o.yb(Ce).toString()}function OU(o){if(!o.v)throw Error("IfcHandler must be initialized!");CU(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=uS(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",we(f)}return f.status="ERROR",we(f)})}function xU(o){var u={type:"webStorageSupport"};return US(o).then(function(){return SU(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}t.Ea=function(o){this.h.push(o)},t.Sa=function(o){q(this.h,function(u){return u==o})};function VS(o){if(this.a=o||ae.INTERNAL.reactNative&&ae.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=VS.prototype,t.get=function(o){return we(this.a.getItem(o)).then(function(u){return u&&su(u)})},t.set=function(o,u){return we(this.a.setItem(o,ll(u)))},t.U=function(o){return we(this.a.removeItem(o))},t.ca=function(){},t.ia=function(){};function BS(o){this.b=o,this.a={},this.f=j(this.c,this)}var qS=[];function PU(){var o=Qr()?self:null;if(H(qS,function(f){f.b==o&&(u=f)}),!u){var u=new BS(o);qS.push(u)}return u}BS.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];H(p,function(_){g.push(we().then(function(){return _(o.origin,o.data.data)}))}),$T(g).then(function(_){var w=[];H(_,function(I){w.push({fulfilled:I.Pb,value:I.value,reason:I.reason?I.reason.message:void 0})}),H(w,function(I){for(var F in I)typeof I[F]>"u"&&delete I[F]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:w})})}};function WS(o,u,f){Dt(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function HS(o){this.a=o}HS.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function GS(o){this.c=o,this.b=!1,this.a=[]}function $S(o,u,f,p){var g,_=f||{},w,I,F,W=null;if(o.b)return bt(Error("connection_unavailable"));var Ce=p?800:50,it=typeof MessageChannel<"u"?new MessageChannel:null;return new je(function(Xe,fn){it?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),it.port1.start(),I=setTimeout(function(){fn(Error("unsupported_event"))},Ce),w=function(oo){oo.data.eventId===g&&(oo.data.status==="ack"?(clearTimeout(I),F=setTimeout(function(){fn(Error("timeout"))},3e3)):oo.data.status==="done"?(clearTimeout(F),typeof oo.data.response<"u"?Xe(oo.data.response):fn(Error("unknown_error"))):(clearTimeout(I),clearTimeout(F),fn(Error("invalid_response"))))},W={messageChannel:it,onMessage:w},o.a.push(W),it.port1.addEventListener("message",w),o.c.postMessage({eventType:u,eventId:g,data:_},[it.port2])):fn(Error("connection_unavailable"))}).then(function(Xe){return Xm(o,W),Xe}).o(function(Xe){throw Xm(o,W),Xe})}function Xm(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),q(o.a,function(g){return g==u})}}GS.prototype.close=function(){for(;0<this.a.length;)Xm(this,this.a[0]);this.b=!0};function YS(){if(!ey())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Qr()&&self?(this.v=PU(),WS(this.v,"keyChanged",function(u,f){return QS(o).then(function(p){return 0<p.length&&H(o.a,function(g){g(p)}),{keyProcessed:L(p,f.key)}})}),WS(this.v,"ping",function(){return we(["keyChanged"])})):z2().then(function(u){(o.h=u)&&(o.g=new GS(new HS(u)),$S(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&L(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Jm;function DU(o){return new je(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){f(Error(g.target.error))}})}function zS(o){return new je(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):DU(o).then(function(){return zS(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function Zm(o){return o.i||(o.i=zS(o)),o.i}function pd(o,u){function f(g,_){Zm(o).then(u).then(g).o(function(w){if(3<++p)_(w);else return Zm(o).then(function(I){return I.close(),o.i=void 0,f(g,_)}).o(function(I){_(I)})})}var p=0;return new je(f)}function ey(){try{return!!l.indexedDB}catch{return!1}}function Al(o){return o.objectStore("firebaseLocalStorage")}function Nl(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function fu(o){return new je(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}t=YS.prototype,t.set=function(o,u){var f=this,p=!1;return pd(this,function(g){return g=Al(Nl(g,!0)),fu(g.get(o))}).then(function(g){return pd(f,function(_){if(_=Al(Nl(_,!0)),g)return g.value=u,fu(_.put(g));f.b++,p=!0;var w={};return w.fbase_key=o,w.value=u,fu(_.add(w))})}).then(function(){return f.c[o]=u,KS(f,o)}).oa(function(){p&&f.b--})};function KS(o,u){return o.g&&o.h&&Y2()===o.h?$S(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):we()}t.get=function(o){return pd(this,function(u){return fu(Al(Nl(u,!1)).get(o))}).then(function(u){return u&&u.value})},t.U=function(o){var u=this,f=!1;return pd(this,function(p){return f=!0,u.b++,fu(Al(Nl(p,!0)).delete(o))}).then(function(){return delete u.c[o],KS(u,o)}).oa(function(){f&&u.b--})};function QS(o){return Zm(o).then(function(u){var f=Al(Nl(u,!1));return f.getAll?fu(f.getAll()):new je(function(p,g){var _=[],w=f.openCursor();w.onsuccess=function(I){(I=I.target.result)?(_.push(I.value),I.continue()):p(_)},w.onerror=function(I){g(I.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=wI(o.c,f),o.c=f}return p})}t.ca=function(o){this.a.length==0&&MU(this),this.a.push(o)},t.ia=function(o){q(this.a,function(u){return u==o}),this.a.length==0&&XS(this)};function MU(o){function u(){o.f=setTimeout(function(){o.l=QS(o).then(function(f){0<f.length&&H(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}XS(o),u()}function XS(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function JS(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=we().then(function(){if(ey()){var p=Ws(),g="__sak"+p;return Jm||(Jm=new YS),f=Jm,f.set(g,p).then(function(){return f.get(g)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){H(u.a,function(_){_(g)})}),p})}t=JS.prototype,t.get=function(o){return this.b.then(function(u){return u.get(o)})},t.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},t.U=function(o){return this.b.then(function(u){return u.U(o)})},t.ca=function(o){this.a.push(o)},t.ia=function(o){q(this.a,function(u){return u==o})};function kl(){this.a={},this.type="inMemory"}t=kl.prototype,t.get=function(o){return we(this.a[o])},t.set=function(o,u){return this.a[o]=u,we()},t.U=function(o){return delete this.a[o],we()},t.ca=function(){},t.ia=function(){};function vd(){if(!LU())throw Ci()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=ZS()||ae.INTERNAL.node.localStorage,this.type="localStorage"}function ZS(){try{var o=l.localStorage,u=Ws();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function LU(){var o=Ci()=="Node";if(o=ZS()||o&&ae.INTERNAL.node&&ae.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=vd.prototype,t.get=function(o){var u=this;return we().then(function(){var f=u.a.getItem(o);return su(f)})},t.set=function(o,u){var f=this;return we().then(function(){var p=ll(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return we().then(function(){u.a.removeItem(o)})},t.ca=function(o){l.window&&Lr(l.window,"storage",o)},t.ia=function(o){l.window&&br(l.window,"storage",o)};function ty(){this.type="nullStorage"}t=ty.prototype,t.get=function(){return we(null)},t.set=function(){return we()},t.U=function(){return we()},t.ca=function(){},t.ia=function(){};function ny(){if(!FU())throw Ci()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=e1()||ae.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function e1(){try{var o=l.sessionStorage,u=Ws();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function FU(){var o=Ci()=="Node";if(o=e1()||o&&ae.INTERNAL.node&&ae.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=ny.prototype,t.get=function(o){var u=this;return we().then(function(){var f=u.a.getItem(o);return su(f)})},t.set=function(o,u){var f=this;return we().then(function(){var p=ll(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return we().then(function(){u.a.removeItem(o)})},t.ca=function(){},t.ia=function(){};function UU(){var o={};o.Browser=jU,o.Node=VU,o.ReactNative=BU,o.Worker=qU,this.a=o[Ci()]}var ry,jU={F:vd,bb:ny},VU={F:vd,bb:ny},BU={F:VS,bb:ty},qU={F:vd,bb:ty},hu={rd:"local",NONE:"none",td:"session"};function WU(o){var u=new O("invalid-persistence-type"),f=new O("unsupported-persistence-type");e:{for(p in hu)if(hu[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(Ci()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!ey()&&o!=="none")throw f;break;default:if(!rm()&&o!=="none")throw f}}function t1(){var o=!!(!AI(wn())&&tm()),u=cl(),f=rm();this.m=o,this.h=u,this.l=f,this.a={},ry||(ry=new UU),o=ry;try{this.g=!Zg()&&kI()||!l.indexedDB?new o.a.F:new JS(Qr()?new kl:new o.a.F)}catch{this.g=new kl,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new kl}this.v=new kl,this.f=j(this.Yb,this),this.b={}}var iy;function Rl(){return iy||(iy=new t1),iy}function Xs(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function du(o,u){return"firebase:"+o.name+(u?":"+u:"")}function HU(o,u,f){var p=du(u,f),g=Xs(o,u.F);return o.get(u,f).then(function(_){var w=null;try{w=su(l.localStorage.getItem(p))}catch{}if(w&&!_)return l.localStorage.removeItem(p),o.set(u,w,f);w&&_&&g.type!="localStorage"&&l.localStorage.removeItem(p)})}t=t1.prototype,t.get=function(o,u){return Xs(this,o.F).get(du(o,u))};function pu(o,u,f){return f=du(u,f),u.F=="local"&&(o.b[f]=null),Xs(o,u.F).U(f)}t.set=function(o,u,f){var p=du(o,f),g=this,_=Xs(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(w){o.F=="local"&&(g.b[p]=w)})},t.addListener=function(o,u,f){o=du(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),Dt(this.a)&&(Xs(this,"local").ca(this.f),this.h||(Zg()||!kI())&&l.indexedDB||!this.l||GU(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},t.removeListener=function(o,u,f){o=du(o,u),this.a[o]&&(q(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),Dt(this.a)&&(Xs(this,"local").ia(this.f),oy(this))};function GU(o){oy(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new Us({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Yb(f))}},1e3)}function oy(o){o.c&&(clearInterval(o.c),o.c=null)}t.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var g=l.localStorage.getItem(f);g!==p&&(this.b[f]=g,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Xs(this,"local").ia(this.f):oy(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.mb(u))},Kr&&Vo&&Vo==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else H(o,j(this.mb,this))},t.mb=function(o){this.a[o]&&H(this.a[o],function(u){u()})};function $U(o){this.a=o,this.b=Rl()}var sy={name:"authEvent",F:"local"};function YU(o){return o.b.get(sy,o.a).then(function(u){return uS(u)})}function zU(){this.a=Rl()}function KU(){this.b=-1}function gd(o,u){this.b=n1,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),md===void 0&&(l.Int32Array?md=new Int32Array(o1):md=o1),this.reset()}var md;de(gd,KU);for(var n1=64,QU=n1-1,r1=[],ay=0;ay<QU;ay++)r1[ay]=0;var i1=ne(128,r1);gd.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):z(this.h)};function uy(o){for(var u=o.f,f=o.l,p=0,g=0;g<u.length;)f[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+w|0}p=o.a[0]|0,g=o.a[1]|0;var I=o.a[2]|0,F=o.a[3]|0,W=o.a[4]|0,Ce=o.a[5]|0,it=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Xe=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&I^g&I)|0;w=W&Ce^~W&it,_=_+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,w=w+(md[u]|0)|0,w=_+(w+(f[u]|0)|0)|0,_=it,it=Ce,Ce=W,W=F+w|0,F=I,I=g,g=p,p=w+Xe|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+I|0,o.a[3]=o.a[3]+F|0,o.a[4]=o.a[4]+W|0,o.a[5]=o.a[5]+Ce|0,o.a[6]=o.a[6]+it|0,o.a[7]=o.a[7]+_|0}function cy(o,u,f){f===void 0&&(f=u.length);var p=0,g=o.c;if(typeof u=="string")for(;p<f;)o.f[g++]=u.charCodeAt(p++),g==o.b&&(uy(o),g=0);else if(b(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(uy(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var o1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function s1(){gd.call(this,8,XU)}de(s1,gd);var XU=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function a1(o,u,f,p,g,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new zU,this.g=new $U(this.h),this.f=null,this.b=[],this.a=this.c=null}function yd(o){return new O("invalid-cordova-configuration",o)}t=a1.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=H2().then(function(){if(typeof Et("universalLinks.subscribe",l)!="function")throw yd("cordova-universal-links-plugin-fix is not installed");if(typeof Et("BuildInfo.packageName",l)>"u")throw yd("cordova-plugin-buildinfo is not installed");if(typeof Et("cordova.plugins.browsertab.openUrl",l)!="function")throw yd("cordova-plugin-browsertab is not installed");if(typeof Et("cordova.InAppBrowser.open",l)!="function")throw yd("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function JU(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function ZU(o){var u=new s1;cy(u,o),o=[];var f=8*u.g;56>u.c?cy(u,i1,56-u.c):cy(u,i1,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(uy(u),p=f=0;p<u.i;p++)for(var g=24;0<=g;g-=8)o[f++]=u.a[p]>>g&255;return lF(o)}t.Ob=function(o,u){return u(new O("operation-not-supported-in-this-environment")),we()},t.Mb=function(){return bt(new O("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(o,u,f,p){if(this.c)return bt(new O("redirect-operation-pending"));var g=this,_=l.document,w=null,I=null,F=null,W=null;return this.c=we().then(function(){return Sm(u),c1(g)}).then(function(){return ej(g,o,u,f,p)}).then(function(){return new je(function(Ce,it){I=function(){var Xe=Et("cordova.plugins.browsertab.close",l);return Ce(),typeof Xe=="function"&&Xe(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(I),F=function(){w||(w=eu(2e3).then(function(){it(new O("redirect-cancelled-by-user"))}))},W=function(){im()&&F()},_.addEventListener("resume",F,!1),wn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",W,!1)}).o(function(Ce){return ly(g).then(function(){throw Ce})})}).oa(function(){F&&_.removeEventListener("resume",F,!1),W&&_.removeEventListener("visibilitychange",W,!1),w&&w.cancel(),I&&g.Sa(I),g.c=null})};function ej(o,u,f,p,g){var _=JU(),w=new Xr(u,p,null,_,new O("no-auth-event"),null,g),I=Et("BuildInfo.packageName",l);if(typeof I!="string")throw new O("invalid-cordova-configuration");var F=Et("BuildInfo.displayName",l),W={};if(wn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=I;else if(wn().toLowerCase().match(/android/))W.apn=I;else return bt(new O("operation-not-supported-in-this-environment"));F&&(W.appDisplayName=F),_=ZU(_),W.sessionId=_;var Ce=Cl(o.v,o.i,o.l,u,f,null,p,o.m,W,o.u,g,o.s);return o.ma().then(function(){var it=o.h;return o.C.a.set(sy,w.w(),it)}).then(function(){var it=Et("cordova.plugins.browsertab.isAvailable",l);if(typeof it!="function")throw new O("invalid-cordova-configuration");var Xe=null;it(function(fn){if(fn){if(Xe=Et("cordova.plugins.browsertab.openUrl",l),typeof Xe!="function")throw new O("invalid-cordova-configuration");Xe(Ce)}else{if(Xe=Et("cordova.InAppBrowser.open",l),typeof Xe!="function")throw new O("invalid-cordova-configuration");fn=wn(),o.a=Xe(Ce,fn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||fn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function u1(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function c1(o){return o.f||(o.f=o.ma().then(function(){return new je(function(u){function f(p){return u(p),o.Sa(f),!1}o.Ea(f),tj(o)})})),o.f}function ly(o){var u=null;return YU(o.g).then(function(f){return u=f,f=o.g,pu(f.b,sy,f.a)}).then(function(){return u})}function tj(o){function u(w){p=!0,g&&g.cancel(),ly(o).then(function(I){var F=f;if(I&&w&&w.url){var W=null;F=eS(w.url),F.indexOf("/__/auth/callback")!=-1&&(W=ur(F),W=su(Fr(W,"firebaseError")||null),W=(W=typeof W=="object"?Ei(W):null)?new Xr(I.c,I.b,null,null,W,null,I.T()):new Xr(I.c,I.b,F,I.f,null,null,I.T())),F=W||f}u1(o,F)})}var f=new Xr("unknown",null,null,null,new O("no-auth-event")),p=!1,g=eu(500).then(function(){return ly(o).then(function(){p||u1(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(w){if(w.toLowerCase().indexOf(Et("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:w}),typeof _=="function")try{_(w)}catch(I){console.error(I)}},Cm||(Cm=new yF),_F(u)}t.Ea=function(o){this.b.push(o),c1(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Xr("unknown",null,null,null,new O("no-auth-event")),o(u))})},t.Sa=function(o){q(this.b,function(u){return u==o})};function nj(o){this.a=o,this.b=Rl()}var fy={name:"pendingRedirect",F:"session"};function rj(o){return o.b.set(fy,"pending",o.a)}function hy(o){return pu(o.b,fy,o.a)}function ij(o){return o.b.get(fy,o.a).then(function(u){return u=="pending"})}function _d(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=j(this.s,this),this.b=new wd,this.C=new b1,this.g=new nj(m1(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=l1(this.D,this.v,this.m,Ye,this.J)}function l1(o,u,f,p,g){var _=ae.SDK_VERSION||null;return em()?new a1(o,u,f,_,p,g):new LS(o,u,f,_,p,g)}_d.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=l1(this.D,this.v,this.m,null,this.J),this.i={}};function f1(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function h1(o){o.a.Xb()&&f1(o).o(function(u){var f=new Xr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));py(u)&&o.s(f)}),o.a.Tb()||_1(o.b)}function dy(o,u){L(o.h,u)||o.h.push(u),o.f||ij(o.g).then(function(f){f?hy(o.g).then(function(){f1(o).o(function(p){var g=new Xr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));py(p)&&o.s(g)})}):h1(o)}).o(function(){h1(o)})}function d1(o,u){q(o.h,function(f){return f==u})}_d.prototype.s=function(o){if(!o)throw new O("invalid-auth-event");if(6e5<=rt()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=rt())),u=!0;break}}return _1(this.b),u};var oj=new Wo(2e3,1e4),sj=new Wo(3e4,6e4);_d.prototype.qa=function(){return this.b.qa()};function p1(o,u,f,p,g,_,w){return o.a.Mb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,w)}function py(o){return!!(o&&o.code=="auth/cordova-not-ready")}function v1(o,u,f,p,g){var _;return rj(o.g).then(function(){return o.a.Nb(u,f,p,g).o(function(w){if(py(w))throw new O("operation-not-supported-in-this-environment");return _=w,hy(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new je(function(){}):hy(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function g1(o,u,f,p,g){return o.a.Ob(p,function(_){u.na(f,null,_,g)},oj.get())}var vy={};function m1(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function y1(o,u,f,p){var g=m1(u,f,p);return vy[g]||(vy[g]=new _d(o,u,f,p)),vy[g]}function wd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}wd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},wd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?(Js(this,!0,null,o.a),we()):u.Fa(f,p)?aj(this,o,u):bt(new O("invalid-auth-event")):(Js(this,!1,null,null),we())}else bt(new O("invalid-auth-event"))};function _1(o){o.g||(o.g=!0,Js(o,!1,null,null))}function bd(o){o.g&&!o.i&&Js(o,!1,null,null)}function aj(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,g=u.f,_=u.i,w=u.T(),I=!!u.c.match(/Redirect$/);f(p,g,w,_).then(function(F){Js(o,I,F,null)}).o(function(F){Js(o,I,null,F)})}function uj(o,u){if(o.b=function(){return bt(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function w1(o,u){if(o.b=function(){return we(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Js(o,u,f,p){u?p?uj(o,p):w1(o,f):w1(o,{user:null}),o.f=[],o.c=[]}wd.prototype.qa=function(){var o=this;return new je(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),cj(o))})};function cj(o){var u=new O("timeout");o.a&&o.a.cancel(),o.a=eu(sj.get()).then(function(){o.b||(o.g=!0,Js(o,!0,null,u))})}function b1(){}b1.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),we()):u.Fa(f,p)?lj(o,u):bt(new O("invalid-auth-event"))}else bt(new O("invalid-auth-event"))};function lj(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(p,g,null,f)}).o(function(g){u.na(p,null,g,f)})}function E1(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function gy(o,u){this.a=u,ce(this,"verificationId",o)}gy.prototype.confirm=function(o){return o=aS(this.verificationId,o),this.a(o)};function my(o,u,f,p){return new ro(o).fb(u,f).then(function(g){return new gy(g,p)})}function fj(o){var u=$I(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Hn(this,{token:o,expirationTime:fl(1e3*u.exp),authTime:fl(1e3*u.auth_time),issuedAtTime:fl(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function yy(o,u,f){var p=u&&u[I1];if(!p)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Xt(u),this.g=f,this.c=new Jh(null,p),this.b=[];var g=this;H(u[T1]||[],function(_){(_=lm(_))&&g.b.push(_)}),ce(this,"auth",this.a),ce(this,"session",this.c),ce(this,"hints",this.b)}var T1="mfaInfo",I1="mfaPendingCredential";yy.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var p=Xt(u.f);return delete p[T1],delete p[I1],or(p,f),u.g(p)})};function _y(o,u,f,p){O.call(this,"multi-factor-auth-required",p,u),this.b=new yy(o,u,f),ce(this,"resolver",this.b)}de(_y,O);function S1(o,u,f){if(o&&T(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new _y(u,o.serverResponse,f,o.message)}catch{}return null}function C1(){}C1.prototype.sb=function(o,u,f){return u.type==vl?hj(this,o,u,f):dj(this,o,u)};function hj(o,u,f,p){return f.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),or(g,{phoneVerificationInfo:gl(o.a)}),Be(u,tU,g)})}function dj(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},or(p,{phoneVerificationInfo:gl(o.a)}),Be(u,nU,p)})}function wy(o){ce(this,"factorId",o.fa),this.a=o}de(wy,C1);function A1(o){if(wy.call(this,o),this.a.fa!=ro.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}de(A1,wy);function vu(o,u){ar.call(this,o);for(var f in u)this[f]=u[f]}de(vu,ar);function by(o,u){this.a=o,this.b=[],this.c=j(this.yc,this),Lr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&H(u.multiFactor.enrolledFactors,function(p){var g=null,_={};if(p){p.uid&&(_[hm]=p.uid),p.displayName&&(_[OI]=p.displayName),p.enrollmentTime&&(_[fm]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[dm]=p.phoneNumber);try{g=new hl(_)}catch{}p=g}else p=null;p&&f.push(p)}),Ed(this,f)}function pj(o){var u=[];return H(o.mfaInfo||[],function(f){(f=lm(f))&&u.push(f)}),u}t=by.prototype,t.yc=function(o){Ed(this,pj(o.hd))};function Ed(o,u){o.b=u,ce(o,"enrolledFactors",u)}t.Rb=function(){return this.a.I().then(function(o){return new Jh(o,null)})},t.fc=function(o,u){var f=this,p=this.a.a;return this.Rb().then(function(g){return o.sb(p,g,u)}).then(function(g){return ki(f.a,g),f.a.reload()})},t.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(g){return Be(p,EU,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=Qe(u.b,function(w){return w.uid!=f});return Ed(u,_),ki(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:S(this.b,function(o){return o.w()})}}};function Ey(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Ey.prototype.start=function(){this.a=this.c,Ty(this,!0)};function vj(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function Ty(o,u){o.stop(),o.b=eu(vj(o,u)).then(function(){return $2()}).then(function(){return o.h()}).then(function(){Ty(o,!0)}).o(function(f){o.i(f)&&Ty(o,!1)})}Ey.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Iy(o){this.f=o,this.b=this.a=null,this.c=Date.now()}Iy.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function N1(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function k1(o,u){o.b=Qh(u[Zr]||""),o.a=u.refreshToken,u=u.expiresIn,N1(o,typeof u<"u"?Number(u):void 0)}function gj(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function mj(o,u){return jF(o.f,u).then(function(f){return o.b=Qh(f.access_token),o.a=f.refresh_token,N1(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}Iy.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?bt(new O("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?mj(this,{grant_type:"refresh_token",refresh_token:this.a}):we(null):we({accessToken:this.b.toString(),refreshToken:this.a})};function Td(o,u){this.a=o||null,this.b=u||null,Hn(this,{lastSignInTime:fl(u||null),creationTime:fl(o||null)})}function yj(o){return new Td(o.a,o.b)}Td.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function _j(o,u,f,p,g,_){Hn(this,{uid:o,displayName:p||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function Tr(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=ae.SDK_VERSION?iu(ae.SDK_VERSION):null;this.a=new Jr(this.l,_t(Ye),p),o.emulatorConfig&&lu(this.a,o.emulatorConfig),this.b=new Iy(this.a),Ry(this,u[Zr]),k1(this.b,u),ce(this,"refreshToken",this.b.a),O1(this,f||{}),Wn.call(this),this.R=!1,this.s&&qs()&&(this.i=y1(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=wj(this),this.aa=j(this.hb,this);var g=this;this.ya=null,this.Oa=function(_){g.wa(_.h)},this.ja=null,this.Aa=function(_){lu(g.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){Ol(g,_.f)},this.ba=null,this.O=new by(this,f),ce(this,"multiFactor",this.O)}de(Tr,Wn),Tr.prototype.wa=function(o){this.ya=o,TS(this.a,o)},Tr.prototype.la=function(){return this.ya};function Sy(o,u){o.ja&&br(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&Lr(u,"languageCodeChanged",o.Oa)}function Cy(o,u){o.X&&br(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&Lr(u,"emulatorConfigChanged",o.Aa)}function Ol(o,u){o.$=u,IS(o.a,ae.SDK_VERSION?iu(ae.SDK_VERSION,o.$):null)}Tr.prototype.Ga=function(){return z(this.$)};function Ay(o,u){o.ba&&br(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&Lr(u,"frameworkChanged",o.Ba)}Tr.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Ny(o){try{return ae.app(o.m).auth()}catch{throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function wj(o){return new Ey(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function R1(o){o.D||o.u.b||(o.u.start(),br(o,"tokenChanged",o.aa),Lr(o,"tokenChanged",o.aa))}function ky(o){br(o,"tokenChanged",o.aa),o.u.stop()}function Ry(o,u){o.za=u,ce(o,"_lat",u)}function bj(o,u){q(o.S,function(f){return f==u})}function Zs(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return $T(u).then(function(){return o})}function xl(o){o.i&&!o.R&&(o.R=!0,dy(o.i,o))}function O1(o,u){Hn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Td(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ce(Tr.prototype,"providerId","firebase");function x1(){}function Oy(o){return we().then(function(){if(o.D)throw new O("app-deleted")})}function xy(o){return S(o.providerData,function(u){return u.providerId})}function Py(o,u){u&&(P1(o,u.providerId),o.providerData.push(u))}function P1(o,u){q(o.providerData,function(f){return f.providerId==u})}function $o(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ce(o,u,f)}function Id(o,u){o!=u&&(Hn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ce(o,"metadata",yj(u.metadata)):ce(o,"metadata",new Td),H(u.providerData,function(f){Py(o,f)}),gj(o.b,u.b),ce(o,"refreshToken",o.b.a),Ed(o.O,u.O.b))}t=Tr.prototype,t.reload=function(){var o=this;return Jt(this,Oy(this).then(function(){return Dy(o).then(function(){return Zs(o)}).then(x1)}))};function Dy(o){return o.I().then(function(u){var f=o.isAnonymous;return Ej(o,u).then(function(){return f||$o(o,"isAnonymous",!1),u})})}t.oc=function(o){return this.I(o).then(function(u){return new fj(u)})},t.I=function(o){var u=this;return Jt(this,Oy(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new O("internal-error");return f.accessToken!=u.za&&(Ry(u,f.accessToken),u.dispatchEvent(new vu("tokenChanged"))),$o(u,"refreshToken",f.refreshToken),f.accessToken}))};function ki(o,u){u[Zr]&&o.za!=u[Zr]&&(k1(o.b,u),o.dispatchEvent(new vu("tokenChanged")),Ry(o,u[Zr]),$o(o,"refreshToken",o.b.a))}function Ej(o,u){return Be(o.a,rU,{idToken:u}).then(j(o.Kc,o))}t.Kc=function(o){if(o=o.users,!o||!o.length)throw new O("internal-error");o=o[0],O1(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=Tj(o),f=0;f<u.length;f++)Py(this,u[f]);$o(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vu("userReloaded",{hd:o}))};function Tj(o){return(o=o.providerUserInfo)&&o.length?S(o,function(u){return new _j(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}t.Lc=function(o){return om("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},t.tb=function(o){var u=this,f=null;return Jt(this,o.c(this.a,this.uid).then(function(p){return ki(u,p),f=Pl(u,p,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function Sd(o,u){return Dy(o).then(function(){if(L(xy(o),u))return Zs(o).then(function(){throw new O("provider-already-linked")})})}t.Cc=function(o){return om("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},t.qb=function(o){var u=this,f=null;return Jt(this,Sd(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Pl(u,p,"link"),D1(u,p)}).then(function(){return f}))},t.Dc=function(o,u){var f=this;return Jt(this,Sd(this,"phone").then(function(){return my(Ny(f),o,u,j(f.qb,f))}))},t.Mc=function(o,u){var f=this;return Jt(this,we().then(function(){return my(Ny(f),o,u,j(f.tb,f))}),!0)};function Pl(o,u,f){var p=Im(u);return u=zI(u),Ai({user:o,credential:p,additionalUserInfo:u,operationType:f})}function D1(o,u){return ki(o,u),o.reload().then(function(){return o})}t.Bb=function(o){var u=this;return Jt(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return ki(u,f),u.reload()}))},t.ed=function(o){var u=this;return Jt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return ki(u,f),u.reload()}))},t.Cb=function(o){var u=this;return Jt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return ki(u,f),u.reload()}))},t.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Oy(this);var u=this;return Jt(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return ki(u,f),$o(u,"displayName",f.displayName||null),$o(u,"photoURL",f.photoUrl||null),H(u.providerData,function(p){p.providerId==="password"&&(ce(p,"displayName",u.displayName),ce(p,"photoURL",u.photoURL))}),Zs(u)}).then(x1))},t.cd=function(o){var u=this;return Jt(this,Dy(this).then(function(f){return L(xy(u),o)?$F(u.a,f,[o]).then(function(p){var g={};return H(p.providerUserInfo||[],function(_){g[_.providerId]=!0}),H(xy(u),function(_){g[_]||P1(u,_)}),g[ro.PROVIDER_ID]||ce(u,"phoneNumber",null),Zs(u)}):Zs(u).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var o=this;return Jt(this,this.I().then(function(u){return Be(o.a,XF,{idToken:u})}).then(function(){o.dispatchEvent(new vu("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");Sy(o,null),Cy(o,null),Ay(o,null),o.J=[],o.D=!0,ky(o),ce(o,"refreshToken",null),o.i&&d1(o.i,o)})},t.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},t.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?j(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?j(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?j(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?j(this.Lb,this):null},t.Ec=function(o){var u=this;return M1(this,"linkViaPopup",o,function(){return Sd(u,o.providerId).then(function(){return Zs(u)})},!1)},t.Nc=function(o){return M1(this,"reauthViaPopup",o,function(){return we()},!0)};function M1(o,u,f,p,g){if(!qs())return bt(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return bt(o.h);var _=ym(f.providerId),w=Ws(o.uid+":::"),I=null;(!cl()||tm())&&o.s&&f.isOAuthProvider&&(I=Cl(o.s,o.l,o.m,u,f,null,w,ae.SDK_VERSION||null,null,null,o.tenantId));var F=EI(I,_&&_.ua,_&&_.ta);return p=p().then(function(){if(F1(o),!g)return o.I().then(function(){})}).then(function(){return p1(o.i,F,u,f,w,!!I,o.tenantId)}).then(function(){return new je(function(W,Ce){o.na(u,null,new O("cancelled-popup-request"),o.g||null),o.f=W,o.C=Ce,o.g=w,o.c=g1(o.i,o,u,F,w)})}).then(function(W){return F&&Bs(F),W?Ai(W):null}).o(function(W){throw F&&Bs(F),W}),Jt(o,p,g)}t.Fc=function(o){var u=this;return L1(this,"linkViaRedirect",o,function(){return Sd(u,o.providerId)},!1)},t.Oc=function(o){return L1(this,"reauthViaRedirect",o,function(){return we()},!0)};function L1(o,u,f,p,g){if(!qs())return bt(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return bt(o.h);var _=null,w=Ws(o.uid+":::");return p=p().then(function(){if(F1(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=w,Zs(o)}).then(function(I){return o.ha&&(I=o.ha,I=I.b.set(My,o.w(),I.a)),I}).then(function(){return v1(o.i,u,f,w,o.tenantId)}).o(function(I){if(_=I,o.ha)return j1(o.ha);throw _}).then(function(){if(_)throw _}),Jt(o,p,g)}function F1(o){if(!o.i||!o.R)throw o.i&&!o.R?new O("internal-error"):new O("auth-domain-config-required")}t.Kb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(w){return Gm(g.a,{requestUri:o,postBody:p,sessionId:u,idToken:w})}).then(function(w){return _=Pl(g,w,"link"),D1(g,w)}).then(function(){return _}),Jt(this,f)},t.Lb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,w=we().then(function(){return uu($m(g.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),g.uid)}).then(function(I){return _=Pl(g,I,"reauthenticate"),ki(g,I),g.h=null,g.reload()}).then(function(){return _});return Jt(this,w,!0)},t.ub=function(o){var u=this,f=null;return Jt(this,this.I().then(function(p){return f=p,typeof o>"u"||Dt(o)?{}:zh(new Yh(o))}).then(function(p){return u.a.ub(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},t.Eb=function(o,u){var f=this,p=null;return Jt(this,this.I().then(function(g){return p=g,typeof u>"u"||Dt(u)?{}:zh(new Yh(u))}).then(function(g){return f.a.Eb(p,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function Jt(o,u,f){var p=Ij(o,u,f);return o.J.push(p),p.oa(function(){B(o.J,p)}),p.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=S1(g.w(),Ny(o),j(o.jc,o))),_||g})}t.jc=function(o){var u=null,f=this;return o=uu(we(o),f.uid).then(function(p){return u=Pl(f,p,"reauthenticate"),ki(f,p),f.h=null,f.reload()}).then(function(){return u}),Jt(this,o,!0)};function Ij(o,u,f){return o.h&&!f?(u.cancel(),bt(o.h)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new vu("userInvalidated")),o.h=p),p})}t.toJSON=function(){return this.w()},t.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&or(o,this.metadata.w()),H(this.providerData,function(u){o.providerData.push(K2(u))}),or(o,this.O.w()),o};function U1(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Zr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var g=new Tr(u,f,o);return o.providerData&&H(o.providerData,function(_){_&&Py(g,Ai(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function Sj(o,u,f,p){var g=new Tr(o,u);return f&&(g.ha=f),p&&Ol(g,p),g.reload().then(function(){return g})}function Cj(o,u,f,p){var g=o.b,_={};return _[Zr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new Tr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&Ol(u,p),Id(u,o),u}function Aj(o){this.a=o,this.b=Rl()}var My={name:"redirectUser",F:"session"};function j1(o){return pu(o.b,My,o.a)}function Nj(o,u){return o.b.get(My,o.a).then(function(f){return f&&u&&(f.authDomain=u),U1(f||{})})}function Ly(o){this.a=o,this.b=Rl(),this.c=null,this.f=kj(this),this.b.addListener(Ri("local"),this.a,j(this.g,this))}Ly.prototype.g=function(){var o=this,u=Ri("local");gu(this,function(){return we().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return Fy(o,"local").then(function(){o.c=u})})})};function Fy(o,u){var f=[],p;for(p in hu)hu[p]!==u&&f.push(pu(o.b,Ri(hu[p]),o.a));return f.push(pu(o.b,Uy,o.a)),y2(f)}function kj(o){var u=Ri("local"),f=Ri("session"),p=Ri("none");return HU(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(w){return w?u:o.b.get(Uy,o.a).then(function(I){return I?Ri(I):u})})})}).then(function(g){return o.c=g,Fy(o,g.F)}).o(function(){o.c||(o.c=u)})}var Uy={name:"persistence",F:"session"};function Ri(o){return{name:"authUser",F:o}}Ly.prototype.xb=function(o){var u=null,f=this;return WU(o),gu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,Fy(f,o)}).then(function(){if(f.c=Ri(o),u)return f.b.set(f.c,u,f.a)}):we()})};function Rj(o){return gu(o,function(){return o.b.set(Uy,o.c.F,o.a)})}function V1(o,u){return gu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function B1(o){return gu(o,function(){return pu(o.b,o.c,o.a)})}function q1(o,u,f){return gu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),U1(p||{})})})}function gu(o,u){return o.f=o.f.then(u,u),o.f}function ei(o){if(this.l=!1,ce(this,"settings",new E1),ce(this,"app",o),ct(this).options&&ct(this).options.apiKey)o=ae.SDK_VERSION?iu(ae.SDK_VERSION):null,this.a=new Jr(ct(this).options&&ct(this).options.apiKey,_t(Ye),o);else throw new O("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=ae.INTERNAL.createSubscribe(j(this.zc,this)),this.X=void 0,this.bc=ae.INTERNAL.createSubscribe(j(this.Ac,this)),mu(this,null),this.i=new Ly(ct(this).options.apiKey+":"+ct(this).name),this.D=new Aj(ct(this).options.apiKey+":"+ct(this).name),this.$=xt(this,Lj(this)),this.h=xt(this,Fj(this)),this.ba=!1,this.ja=j(this.Zc,this),this.Ba=j(this.da,this),this.ya=j(this.mc,this),this.za=j(this.wc,this),this.Aa=j(this.xc,this),this.b=null,Pj(this),this.INTERNAL={},this.INTERNAL.delete=j(this.delete,this),this.INTERNAL.logFramework=j(this.Gc,this),this.u=0,Wn.call(this),xj(this),this.J=[],this.P=null}de(ei,Wn);function W1(o){ar.call(this,"languageCodeChanged"),this.h=o}de(W1,ar);function H1(o){ar.call(this,"emulatorConfigChanged"),this.c=o}de(H1,ar);function G1(o){ar.call(this,"frameworkChanged"),this.f=o}de(G1,ar),t=ei.prototype,t.xb=function(o){return o=this.i.xb(o),xt(this,o)},t.wa=function(o){this.aa===o||this.l||(this.aa=o,TS(this.a,this.aa),this.dispatchEvent(new W1(this.la())))},t.la=function(){return this.aa},t.fd=function(){var o=l.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},t.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,Oj(u),this.P={url:o,ec:u},this.settings.ib=!0,lu(this.a,this.P),this.dispatchEvent(new H1(this.P))}};function Oj(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&Hh().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}t.Gc=function(o){this.J.push(o),IS(this.a,ae.SDK_VERSION?iu(ae.SDK_VERSION,this.J):null),this.dispatchEvent(new G1(this.J))},t.Ga=function(){return z(this.J)},t.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},t.T=function(){return this.S};function xj(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=ur(this.P.url);u=Ai({protocol:u.c,host:u.a,port:u.g,options:Ai({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}t.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:Oe(this)&&Oe(this).w()}};function jy(o){return o.Oa||bt(new O("auth-domain-config-required"))}function Pj(o){var u=ct(o).options.authDomain,f=ct(o).options.apiKey;u&&qs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=y1(u,f,ct(o).name,o.P),dy(o.b,o),Oe(o)&&xl(Oe(o)),o.m){xl(o.m);var p=o.m;p.wa(o.la()),Sy(p,o),p=o.m,Ol(p,o.J),Ay(p,o),p=o.m,lu(p.a,o.P),Cy(p,o),o.m=null}return o.b}}))}t.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},t.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?j(this.ic,this):null},t.ic=function(o,u,f,p){var g=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return ea(g,Hm(g.a,_))})},t.Xc=function(o){if(!qs())return bt(new O("operation-not-supported-in-this-environment"));var u=this,f=ym(o.providerId),p=Ws(),g=null;(!cl()||tm())&&ct(this).options.authDomain&&o.isOAuthProvider&&(g=Cl(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",o,null,p,ae.SDK_VERSION||null,null,null,this.T(),this.P));var _=EI(g,f&&f.ua,f&&f.ta);return f=jy(this).then(function(w){return p1(w,_,"signInViaPopup",o,p,!!g,u.T())}).then(function(){return new je(function(w,I){u.na("signInViaPopup",null,new O("cancelled-popup-request"),u.g),u.f=w,u.C=I,u.g=p,u.c=g1(u.b,u,"signInViaPopup",_,p)})}).then(function(w){return _&&Bs(_),w?Ai(w):null}).o(function(w){throw _&&Bs(_),w}),xt(this,f)},t.Yc=function(o){if(!qs())return bt(new O("operation-not-supported-in-this-environment"));var u=this,f=jy(this).then(function(){return Rj(u.i)}).then(function(){return v1(u.b,"signInViaRedirect",o,void 0,u.T())});return xt(this,f)};function $1(o){if(!qs())return bt(new O("operation-not-supported-in-this-environment"));var u=jy(o).then(function(){return o.b.qa()}).then(function(f){return f?Ai(f):null});return xt(o,u)}t.qa=function(){var o=this;return $1(this).then(function(u){return o.b&&bd(o.b.b),u}).o(function(u){throw o.b&&bd(o.b.b),u})},t.dd=function(o){if(!o)return bt(new O("null-user"));if(this.S!=o.tenantId)return bt(new O("tenant-id-mismatch"));var u=this,f={};f.apiKey=ct(this).options.apiKey,f.authDomain=ct(this).options.authDomain,f.appName=ct(this).name;var p=Cj(o,f,u.D,u.Ga());return xt(this,this.h.then(function(){if(ct(u).options.apiKey!=o.l)return p.reload()}).then(function(){return Oe(u)&&o.uid==Oe(u).uid?(Id(Oe(u),o),u.da(o)):(mu(u,p),xl(p),u.da(p))}).then(function(){Dl(u)}))};function Dj(o,u){var f={};return f.apiKey=ct(o).options.apiKey,f.authDomain=ct(o).options.authDomain,f.appName=ct(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return Sj(f,u,o.D,o.Ga())}).then(function(p){return Oe(o)&&p.uid==Oe(o).uid?(Id(Oe(o),p),o.da(p)):(mu(o,p),xl(p),o.da(p))}).then(function(){Dl(o)})}function mu(o,u){Oe(o)&&(bj(Oe(o),o.Ba),br(Oe(o),"tokenChanged",o.ya),br(Oe(o),"userDeleted",o.za),br(Oe(o),"userInvalidated",o.Aa),ky(Oe(o))),u&&(u.S.push(o.Ba),Lr(u,"tokenChanged",o.ya),Lr(u,"userDeleted",o.za),Lr(u,"userInvalidated",o.Aa),0<o.u&&R1(u)),ce(o,"currentUser",u),u&&(u.wa(o.la()),Sy(u,o),Ol(u,o.J),Ay(u,o),lu(u.a,o.P),Cy(u,o))}t.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&bd(o.b.b),Oe(o)?(mu(o,null),B1(o.i).then(function(){Dl(o)})):we()});return xt(this,u)};function Mj(o){var u=Nj(o.D,ct(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),j1(o.D)});return xt(o,u)}function Lj(o){var u=ct(o).options.authDomain,f=Mj(o).then(function(){return q1(o.i,u,o.P)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return V1(o.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:B1(o.i)})):null}).then(function(p){mu(o,p||null)});return xt(o,f)}function Fj(o){return o.$.then(function(){return $1(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ri("local"),u.a,o.ja)}})}t.Zc=function(){var o=this;return q1(this.i,ct(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Oe(o)&&u){f=Oe(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return Id(Oe(o),u),Oe(o).I();(Oe(o)||u)&&(mu(o,u),u&&(xl(u),u.ha=o.D),o.b&&dy(o.b,o),Dl(o))}})},t.da=function(o){return V1(this.i,o)},t.mc=function(){Dl(this),this.da(Oe(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()};function ea(o,u){var f=null,p=null;return xt(o,u.then(function(g){return f=Im(g),p=zI(g),Dj(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=S1(g.w(),o,j(o.kc,o))),_||g}).then(function(){return Ai({user:Oe(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}t.kc=function(o){var u=this;return this.h.then(function(){return ea(u,we(o))})},t.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Oe(u))})},t.Ac=function(o){var u=this;Uj(this,function(){o.next(Oe(u))})},t.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Oe(p)):typeof o.next=="function"&&o.next(Oe(p))}),this.hb(o,u,f)},t.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(Oe(p)):typeof o.next=="function"&&o.next(Oe(p))}),this.bc(o,u,f)},t.nc=function(o){var u=this,f=this.h.then(function(){return Oe(u)?Oe(u).I(o).then(function(p){return{accessToken:p}}):null});return xt(this,f)},t.Tc=function(o){var u=this;return this.h.then(function(){return ea(u,Be(u.a,yU,{token:o}))}).then(function(f){var p=f.user;return $o(p,"isAnonymous",!1),u.da(p),f})},t.Uc=function(o,u){var f=this;return this.h.then(function(){return ea(f,Be(f.a,PS,{email:o,password:u}))})},t.dc=function(o,u){var f=this;return this.h.then(function(){return ea(f,Be(f.a,KF,{email:o,password:u}))})},t.$a=function(o){var u=this;return this.h.then(function(){return ea(u,o.ka(u.a))})},t.Sc=function(o){return om("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},t.zb=function(){var o=this;return this.h.then(function(){var u=Oe(o);if(u&&u.isAnonymous){var f=Ai({providerId:null,isNewUser:!1});return Ai({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return ea(o,o.a.zb()).then(function(p){var g=p.user;return $o(g,"isAnonymous",!0),o.da(g),p})})};function ct(o){return o.app}function Oe(o){return o.currentUser}t.getUid=function(){return Oe(this)&&Oe(this).uid||null};function Cd(o){return Oe(o)&&Oe(o)._lat||null}function Dl(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Cd(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](Cd(o))}}t.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Oe(this)&&R1(Oe(this))},t.Pc=function(o){var u=this;H(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Oe(this)&&ky(Oe(this)),this.removeAuthTokenListener(o)},t.addAuthTokenListener=function(o){var u=this;this.s.push(o),xt(this,this.h.then(function(){u.l||L(u.s,o)&&o(Cd(u))}))},t.removeAuthTokenListener=function(o){q(this.s,function(u){return u==o})};function Uj(o,u){o.O.push(u),xt(o,o.h.then(function(){!o.l&&L(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(Cd(o)))}))}t.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Ri("local"),o.a,this.ja)),this.b&&(d1(this.b,this),bd(this.b.b)),Promise.resolve()};function xt(o,u){return o.R.push(u),u.oa(function(){B(o.R,u)}),u}t.hc=function(o){return xt(this,VF(this.a,o))},t.Bc=function(o){return!!Tm(o)},t.wb=function(o,u){var f=this;return xt(this,we().then(function(){var p=new Yh(u);if(!p.c)throw new O("argument-error",gm+" must be true when sending sign in link to email");return zh(p)}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},t.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},t.nb=function(o,u){return xt(this,this.a.nb(o,u).then(function(){}))},t.Ra=function(o){return xt(this,this.a.Ra(o).then(function(u){return new X2(u)}))},t.jb=function(o){return xt(this,this.a.jb(o).then(function(){}))},t.vb=function(o,u){var f=this;return xt(this,we().then(function(){return typeof u>"u"||Dt(u)?{}:zh(new Yh(u))}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},t.Wc=function(o,u){return xt(this,my(this,o,u,j(this.$a,this)))},t.Vc=function(o,u){var f=this;return xt(this,we().then(function(){var p=u||ul(),g=sS(o,p);if(p=Tm(p),!p)throw new O("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new O("tenant-id-mismatch");return f.$a(g)}))};function Ml(){}Ml.prototype.render=function(){},Ml.prototype.reset=function(){},Ml.prototype.getResponse=function(){},Ml.prototype.execute=function(){};function yu(){this.a={},this.b=1e12}var Vy=null;yu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Ad(o,u),this.b++},yu.prototype.reset=function(o){var u=By(this,o);o=Y1(o),u&&o&&(u.delete(),delete this.a[o])},yu.prototype.getResponse=function(o){return(o=By(this,o))?o.getResponse():null},yu.prototype.execute=function(o){(o=By(this,o))&&o.execute()};function By(o,u){return(u=Y1(u))&&o.a[u]||null}function Y1(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Ad(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=tl(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Lr(this.f,"click",this.i)}Ad.prototype.getResponse=function(){return qy(this),this.b},Ad.prototype.execute=function(){qy(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=G2();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Ad.prototype.delete=function(){qy(this),this.g=!0,clearTimeout(this.a),this.a=null,br(this.f,"click",this.i)};function qy(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function Wy(){}ce(Wy,"FACTOR_ID","phone");function Hy(){}Hy.prototype.g=function(){return Vy||(Vy=new yu),we(Vy)},Hy.prototype.c=function(){};var Gy=null;function $y(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var jj=new Ii(Oh,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Vj=new Wo(3e4,6e4);$y.prototype.g=function(o){var u=this;return new je(function(f,p){var g=setTimeout(function(){p(new O("network-request-failed"))},Vj.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var w=l.grecaptcha.render;l.grecaptcha.render=function(I,F){return I=w(I,F),u.b++,I},clearTimeout(g),f(l.grecaptcha)}else clearTimeout(g),p(new O("internal-error"));delete l[u.a]};var _=kg(jj,{onload:u.a,hl:o||""});we(Fm(_)).o(function(){clearTimeout(g),p(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(l.grecaptcha)})},$y.prototype.c=function(){this.b--};var Yy=null;function zy(o,u,f,p,g,_,w){if(ce(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,w?(Gy||(Gy=new Hy),w=Gy):(Yy||(Yy=new $y),w=Yy),this.m=w,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[Q1])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Bj]==="invisible",!l.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!tl(u)||!this.i&&tl(u).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Jr(o,_||null,g||null),this.u=p||function(){return null};var I=this;this.l=[];var F=this.a[z1];this.a[z1]=function(Ce){if(X1(I,Ce),typeof F=="function")F(Ce);else if(typeof F=="string"){var it=Et(F,l);typeof it=="function"&&it(Ce)}};var W=this.a[K1];this.a[K1]=function(){if(X1(I,null),typeof W=="function")W();else if(typeof W=="string"){var Ce=Et(W,l);typeof Ce=="function"&&Ce()}}}var z1="callback",K1="expired-callback",Q1="sitekey",Bj="size";function X1(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function qj(o,u){q(o.l,function(f){return f==u})}function Ky(o,u){return o.h.push(u),u.oa(function(){B(o.h,u)}),u}t=zy.prototype,t.Ia=function(){var o=this;return this.f?this.f:this.f=Ky(this,we().then(function(){if(Gh()&&!Qr())return Hh();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Be(o.s,cU,{})}).then(function(u){o.a[Q1]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},t.render=function(){Nd(this);var o=this;return Ky(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=tl(u);u=p2("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},t.verify=function(){Nd(this);var o=this;return Ky(this,this.render().then(function(u){return new je(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var g=function(_){_&&(qj(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},t.reset=function(){Nd(this),this.c!==null&&this.g.reset(this.c)};function Nd(o){if(o.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Nd(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=tl(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function Qy(o,u,f){var p=!1;try{this.b=f||ae.app()}catch{throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new O("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=ae.SDK_VERSION?iu(ae.SDK_VERSION,_):null,zy.call(this,f,o,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},_,_t(Ye),p)}de(Qy,zy);function J1(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,w=0;w<u.length;w++)if(u[w].optional)_=!0;else{if(_)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)p="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=Z1.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");f=Z1[g],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new O("argument-error",o+" failed: "+p)}var Z1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ue(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function Xy(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function Ht(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:T}}function _u(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Oi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function Wj(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function Hj(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof ei)}}}function Gj(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ae.app.App)}}}function Yo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function eC(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function wu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Jy(o,u){return T(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function tC(o){return T(o)&&typeof o.uid=="string"}function kd(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function Lt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(g){return o.M(g)||u.M(g)}}}function At(o,u){for(var f in u){var p=u[f].name;o[p]=rC(p,o[f],u[f].j)}}function nC(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:Ie(function(g){return this[g]},f),set:Ie(function(g,_,w,I){J1(g,[w],[I],!0),this[_]=I},p,f,u[f].kb),enumerable:!0})}}function Ft(o,u,f,p){o[u]=rC(u,f,p)}function rC(o,u,f){function p(){var w=Array.prototype.slice.call(arguments);return J1(g,f,w),u.apply(this,w)}if(!f)return u;var g=$j(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function $j(o){return o=o.split("."),o[o.length-1]}At(ei.prototype,{jb:{name:"applyActionCode",j:[ue("code")]},Ra:{name:"checkActionCode",j:[ue("code")]},nb:{name:"confirmPasswordReset",j:[ue("code"),ue("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ue("email"),ue("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ue("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ue("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Lt(Ht(),_u(),"nextOrObserver"),_u("opt_error",!0),_u("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Lt(Ht(),_u(),"nextOrObserver"),_u("opt_error",!0),_u("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[ue("email"),Lt(Ht("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[ue("email"),Ht("actionCodeSettings")]},xb:{name:"setPersistence",j:[ue("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Yo()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Yo()]},Tc:{name:"signInWithCustomToken",j:[ue("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ue("email"),ue("password")]},Vc:{name:"signInWithEmailLink",j:[ue("email"),ue("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ue("phoneNumber"),kd()]},Xc:{name:"signInWithPopup",j:[wu()]},Yc:{name:"signInWithRedirect",j:[wu()]},dd:{name:"updateCurrentUser",j:[Lt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Tr)}}}(),Oi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ue(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ue("url"),Ht("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ue("code")]}}),nC(ei.prototype,{lc:{name:"languageCode",kb:Lt(ue(),Oi(),"languageCode")},ti:{name:"tenantId",kb:Lt(ue(),Oi(),"tenantId")}}),ei.Persistence=hu,ei.Persistence.LOCAL="local",ei.Persistence.SESSION="session",ei.Persistence.NONE="none",At(Tr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Xy("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xy("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Yo()]},qb:{name:"linkWithCredential",j:[Yo()]},Dc:{name:"linkWithPhoneNumber",j:[ue("phoneNumber"),kd()]},Ec:{name:"linkWithPopup",j:[wu()]},Fc:{name:"linkWithRedirect",j:[wu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Yo()]},tb:{name:"reauthenticateWithCredential",j:[Yo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ue("phoneNumber"),kd()]},Nc:{name:"reauthenticateWithPopup",j:[wu()]},Oc:{name:"reauthenticateWithRedirect",j:[wu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Lt(Ht("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ue(null,!0)]},cd:{name:"unlink",j:[ue("provider")]},Bb:{name:"updateEmail",j:[ue("email")]},Cb:{name:"updatePassword",j:[ue("password")]},ed:{name:"updatePhoneNumber",j:[Yo("phone")]},Db:{name:"updateProfile",j:[Ht("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[ue("email"),Lt(Ht("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]}}),At(yu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(Ml.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(je.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),nC(E1.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Xy("appVerificationDisabledForTesting")}}),At(gy.prototype,{confirm:{name:"confirm",j:[ue("verificationCode")]}}),Ft(au,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[vF,gF,mF,pF],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[Lt(ue(),Ht(),"json")]),Ft(Ur,"credential",function(o,u){return new Ho(o,u)},[ue("email"),ue("password")]),At(Ho.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),At($s.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),Ft($s,"credential",nS,[Lt(ue(),Ht(),"token")]),Ft(Ur,"credentialWithLink",sS,[ue("email"),ue("emailLink")]),At(Ys.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),Ft(Ys,"credential",rS,[Lt(ue(),Ht(),"token")]),At(zs.prototype,{Ca:{name:"addScope",j:[ue("scope")]},Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),Ft(zs,"credential",iS,[Lt(ue(),Lt(Ht(),Oi()),"idToken"),Lt(ue(),Oi(),"accessToken",!0)]),At(cu.prototype,{Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),Ft(cu,"credential",oS,[Lt(ue(),Ht(),"token"),ue("secret",!0)]),At(Er.prototype,{Ca:{name:"addScope",j:[ue("scope")]},credential:{name:"credential",j:[Lt(ue(),Lt(Ht(),Oi()),"optionsOrIdToken"),Lt(ue(),Oi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ht("customOAuthParameters")]}}),At(no.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),At(Hs.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),Ft(ro,"credential",aS,[ue("verificationId"),ue("verificationCode")]),At(ro.prototype,{fb:{name:"verifyPhoneNumber",j:[Lt(ue(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?Jy(f.session,vl)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?Jy(f.session,Zh)&&tC(f.multiFactorHint):f.session&&f.multiFactorUid?Jy(f.session,Zh)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),kd()]}}),At(Go.prototype,{w:{name:"toJSON",j:[ue(null,!0)]}}),At(O.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),At(ml.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),At(Am.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),At(_y.prototype,{toJSON:{name:"toJSON",j:[ue(null,!0)]}}),At(yy.prototype,{Rc:{name:"resolveSignIn",j:[eC()]}}),At(by.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[eC(),ue("displayName",!0)]},bd:{name:"unenroll",j:[Lt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:tC},ue(),"multiFactorInfoIdentifier")]}}),At(Qy.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ft(vm,"parseLink",UI,[ue("link")]),Ft(Wy,"assertion",function(o){return new A1(o)},[Yo("phone")]),function(){if(typeof ae<"u"&&ae.INTERNAL&&ae.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$h,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:pm,VERIFY_AND_CHANGE_EMAIL:dl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ei,AuthCredential:au,Error:O};Ft(o,"EmailAuthProvider",Ur,[]),Ft(o,"FacebookAuthProvider",$s,[]),Ft(o,"GithubAuthProvider",Ys,[]),Ft(o,"GoogleAuthProvider",zs,[]),Ft(o,"TwitterAuthProvider",cu,[]),Ft(o,"OAuthProvider",Er,[ue("providerId")]),Ft(o,"SAMLAuthProvider",tS,[ue("providerId")]),Ft(o,"PhoneAuthProvider",ro,[Hj()]),Ft(o,"RecaptchaVerifier",Qy,[Lt(ue(),Wj(),"recaptchaContainer"),Ht("recaptchaParameters",!0),Gj()]),Ft(o,"ActionCodeURL",vm,[]),Ft(o,"PhoneMultiFactorGenerator",Wy,[]),ae.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new ei(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),ae.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:j(u.getUid,u),getToken:j(u.nc,u),addAuthTokenListener:j(u.cc,u),removeAuthTokenListener:j(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ae.registerVersion("@firebase/auth","0.16.3"),ae.INTERNAL.extendNamespace({User:Tr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oY=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),en(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Af(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sY=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return mr(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sx=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new oY(e)}}catch{}return new sY},ha=sx("localStorage"),Ow=sx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qu=new Uc("@firebase/database"),ax=function(){var t=1;return function(){return t++}}(),ux=function(t){var e=A$(t),n=new T$;n.update(e);var r=n.digest();return pb.encodeByteArray(r)},oh=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=oh.apply(null,i):typeof i=="object"?n+=en(i):n+=i,n+=" "}return n},ba=null,lA=!0,cx=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Qu.logLevel=Le.VERBOSE,ba=Qu.log.bind(Qu),e&&Ow.set("logging_enabled",!0)):typeof t=="function"?ba=t:(ba=null,Ow.remove("logging_enabled"))},In=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(lA===!0&&(lA=!1,ba===null&&Ow.get("logging_enabled")===!0&&cx(!0)),ba){var n=oh.apply(null,t);ba(n)}},sh=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];In.apply(void 0,Lo([t],e))}},xw=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+oh.apply(void 0,Lo(t));Qu.error(n)},Ui=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+oh.apply(void 0,Lo(t));throw Qu.error(n),new Error(n)},Mn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+oh.apply(void 0,Lo(t));Qu.warn(n)},aY=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},uY=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},No="[MIN_NAME]",Gi="[MAX_NAME]",qa=function(t,e){if(t===e)return 0;if(t===No||e===Gi)return-1;if(e===No||t===Gi)return 1;var n=Mp(t),r=Mp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},cY=function(t,e){return t===e?0:t<e?-1:1},Vl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+en(e))},bb=function(t){if(typeof t!="object"||t===null)return en(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=en(e[i]),r+=":",r+=bb(t[e[i]]);return r+="}",r},lx=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function tn(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var fx=function(t){K(!Hv(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,s,a,c,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},lY=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fY=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},hY=function(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},dY=new RegExp("^-?(0*)\\d{1,10}$"),hx=-2147483648,Eb=2147483647,Mp=function(t){if(dY.test(t)){var e=Number(t);if(e>=hx&&e<=Eb)return e}return null},Uu=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Mn("Exception was thrown by user callback.",n),e},Math.floor(0))}},pY=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},af=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t.prototype.toUrlEncodedString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(this.pieces_[n])));return e||"/"},t.prototype.slice=function(e){return e===void 0&&(e=0),this.pieces_.slice(this.pieceNum_+e)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(r===null)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(e,n){for(var r=e.slice(),i=n.slice(),s=0;s<r.length&&s<i.length;s++){var a=qa(r[s],i[s]);if(a!==0)return a}return r.length===i.length?0:r.length<i.length?-1:1},t.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var n=this.pieceNum_,r=e.pieceNum_;n<=this.pieces_.length;n++,r++)if(this.pieces_[n]!==e.pieces_[r])return!1;return!0},t.prototype.contains=function(e){var n=this.pieceNum_,r=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0},t}(),vY=function(){function t(e,n){this.errorPrefix_=n,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=cp(this.parts_[r]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=cp(e),this.checkValid_()},t.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=cp(e),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tb="5",dx="v",px="s",vx="r",gx="f",mx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yx="ls",gY="p",_x="websocket",wx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ib=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=ha.get("host:"+e)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},t.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},t.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ha.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");var r;if(e===_x)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(e===wx)r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);this.needsQueryParam()&&(n.ns=this.namespace);var i=[];return tn(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")},t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function yY(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Vt(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):Mn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var Pw=function(t,e){var n=_Y(t),r=n.namespace;n.domain==="firebase.com"&&Ui(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ui("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||aY();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Ib(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new ie(n.pathString)}},_Y=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof t=="string"){var h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));var d=t.indexOf("/");d===-1&&(d=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(d,v)),d<v&&(i=mY(t.substring(d,v)));var m=yY(t.substring(Math.min(t.length,v)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;var y=e.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wY=/[\[\].#$\/\u0000-\u001F\u007F]/,bY=/[\[\].#$\u0000-\u001F\u007F]/,p_=10*1024*1024,Gv=function(t){return typeof t=="string"&&t.length!==0&&!wY.test(t)},bx=function(t){return typeof t=="string"&&t.length!==0&&!bY.test(t)},EY=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bx(t)},Nf=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Hv(t)||t&&typeof t=="object"&&mr(t,".sv")},Fi=function(t,e,n,r,i){i&&n===void 0||kf(Gr(t,e,i),n,r)},kf=function(t,e,n){var r=n instanceof ie?new vY(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+r.toErrorString());if(typeof e=="function")throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(Hv(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if(typeof e=="string"&&e.length>p_/3&&cp(e)>p_)throw new Error(t+"contains a string greater than "+p_+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,s=!1;if(tn(e,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!Gv(a)))throw new Error(t+" contains an invalid key ("+a+") "+r.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r.push(a),kf(t,c,r),r.pop()}),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},TY=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!Gv(i[s]))throw new Error(t+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(ie.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},Ex=function(t,e,n,r,i){if(!(i&&n===void 0)){var s=Gr(t,e,i);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];tn(n,function(c,l){var h=new ie(c);if(kf(s,l,r.child(h)),h.getBack()===".priority"&&!Nf(l))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),TY(s,a)}},Dw=function(t,e,n,r){if(!(r&&n===void 0)){if(Hv(n))throw new Error(Gr(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nf(n))throw new Error(Gr(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},v_=function(t,e,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Gr(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Bl=function(t,e,n,r){if(!(r&&n===void 0)&&!Gv(n))throw new Error(Gr(t,e,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Rf=function(t,e,n,r){if(!(r&&n===void 0)&&!bx(n))throw new Error(Gr(t,e,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IY=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Rf(t,e,n,r)},Vr=function(t,e){if(e.getFront()===".info")throw new Error(t+" failed = Can't modify data under /.info/")},Tx=function(t,e,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Gv(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!EY(r))throw new Error(Gr(t,e,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},SY=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Gr(t,e,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CY=function(){function t(e,n){this.repo_=e,this.path_=n}return t.prototype.cancel=function(e){Ee("OnDisconnect.cancel",0,1,arguments.length),dn("OnDisconnect.cancel",1,e,!0);var n=new hr;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(e)),n.promise},t.prototype.remove=function(e){Ee("OnDisconnect.remove",0,1,arguments.length),Vr("OnDisconnect.remove",this.path_),dn("OnDisconnect.remove",1,e,!0);var n=new hr;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(e)),n.promise},t.prototype.set=function(e,n){Ee("OnDisconnect.set",1,2,arguments.length),Vr("OnDisconnect.set",this.path_),Fi("OnDisconnect.set",1,e,this.path_,!1),dn("OnDisconnect.set",2,n,!0);var r=new hr;return this.repo_.onDisconnectSet(this.path_,e,r.wrapCallback(n)),r.promise},t.prototype.setWithPriority=function(e,n,r){Ee("OnDisconnect.setWithPriority",2,3,arguments.length),Vr("OnDisconnect.setWithPriority",this.path_),Fi("OnDisconnect.setWithPriority",1,e,this.path_,!1),Dw("OnDisconnect.setWithPriority",2,n,!1),dn("OnDisconnect.setWithPriority",3,r,!0);var i=new hr;return this.repo_.onDisconnectSetWithPriority(this.path_,e,n,i.wrapCallback(r)),i.promise},t.prototype.update=function(e,n){if(Ee("OnDisconnect.update",1,2,arguments.length),Vr("OnDisconnect.update",this.path_),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Mn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ex("OnDisconnect.update",1,e,this.path_,!1),dn("OnDisconnect.update",2,n,!0);var s=new hr;return this.repo_.onDisconnectUpdate(this.path_,e,s.wrapCallback(n)),s.promise},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AY=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return Ee("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Mw="-",Ix="z",Sx=786,NY=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=lc.charAt(n%64),n=Math.floor(n/64);K(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=lc.charAt(e[i]);return K(a.length===20,"nextPushId: Length should be 20."),a}}(),fA=function(t){if(t===""+Eb)return Mw;var e=Mp(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<Sx)return n.push(Mw),n.join("");for(var i=n.length-1;i>=0&&n[i]===Ix;)i--;if(i===-1)return Gi;var s=n[i],a=lc.charAt(lc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},hA=function(t){if(t===""+hx)return No;var e=Mp(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===Mw?n.length===1?""+Eb:(delete n[n.length-1],n.join("")):(n[n.length-1]=lc.charAt(lc.indexOf(n[n.length-1])-1),n.join("")+Ix.repeat(Sx-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $v=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new We(No,e),i=new We(No,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return We.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ud,Cx=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Ud},set:function(n){Ud=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return qa(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw Lc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return We.MIN},e.prototype.maxPost=function(){return new We(Gi,Ud)},e.prototype.makePost=function(n,r){return K(typeof n=="string","KeyIndex indexValue must always be a string."),new We(n,Ud)},e.prototype.toString=function(){return".key"},e}($v),Vi=new Cx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lw;function kY(t){Lw=t}var Ax=function(t){return typeof t=="number"?"number:"+fx(t):"string:"+t},Nx=function(t){if(t.isLeafNode()){var e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&mr(e,".sv"),"Priority must be a string or number.")}else K(t===Lw||t.isEmpty(),"priority of unexpected type.");K(t===Lw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dA,fc=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Nx(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return dA},set:function(e){dA=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:e.getFront()===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||e.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ax(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=fx(this.value_):e+=this.value_,this.lazyHash_=ux(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return K(i>=0,"Unknown leaf type: "+n),K(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kx,Rx;function RY(t){kx=t}function OY(t){Rx=t}var xY=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?qa(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return We.MIN},e.prototype.maxPost=function(){return new We(Gi,new fc("[PRIORITY-POST]",Rx))},e.prototype.makePost=function(n,r){var i=kx(n);return new We(r,new fc("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}($v),lt=new xY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd=function(){function t(e,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),ii=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??go.EMPTY_NODE,this.right=s??go.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return go.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return go.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),PY=function(){function t(){}return t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.insert=function(e,n,r){return new ii(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),go=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ii.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ii.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new jd(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new jd(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new jd(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new jd(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new PY,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DY=Math.log(2),MY=function(){function t(e){var n=function(s){return parseInt(Math.log(s)/DY,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),Lp=function(t,e,n,r){t.sort(e);var i=function(l,h){var d=h-l,v,m;if(d===0)return null;if(d===1)return v=t[l],m=n?n(v):v,new ii(m,v.node,ii.BLACK,null,null);var y=parseInt(d/2,10)+l,b=i(l,y),E=i(y+1,h);return v=t[y],m=n?n(v):v,new ii(m,v.node,ii.BLACK,b,E)},s=function(l){for(var h=null,d=null,v=t.length,m=function(A,P){var M=v-A,U=v;v-=A;var X=i(M+1,U),j=t[M],Ie=n?n(j):j;y(new ii(Ie,j.node,P,null,X))},y=function(A){h?(h.left=A,h=A):(d=A,h=A)},b=0;b<l.count;++b){var E=l.nextBitIsOne(),T=Math.pow(2,l.count-(b+1));E?m(T,ii.BLACK):(m(T,ii.BLACK),m(T,ii.RED))}return d},a=new MY(t.length),c=s(a);return new go(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g_,Su={},Fp=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return K(Su&&lt,"ChildrenNode.ts has not been loaded"),g_=g_||new t({".priority":Su},{".priority":lt}),g_},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=ui(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof go?n:null},t.prototype.hasIndex=function(e){return mr(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){K(e!==Vi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(We.Wrap),a=s.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=Lp(r,e.getCompare()):c=Su;var l=e.toString(),h=dt({},this.indexSet_);h[l]=e;var d=dt({},this.indexes_);return d[l]=c,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=Pp(this.indexes_,function(s,a){var c=ui(r.indexSet_,a);if(K(c,"Missing index implementation for "+a),s===Su)if(c.isDefinedOn(e.node)){for(var l=[],h=n.getIterator(We.Wrap),d=h.getNext();d;)d.name!==e.name&&l.push(d),d=h.getNext();return l.push(e),Lp(l,c.getCompare())}else return Su;else{var v=n.get(e.name),m=s;return v&&(m=m.remove(new We(e.name,v))),m.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Pp(this.indexes_,function(i){if(i===Su)return i;var s=n.get(e.name);return s?i.remove(new We(e.name,s)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(t,e){return qa(t.name,e.name)}function Sb(t,e){return qa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ql,ke=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Nx(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return ql||(ql=new t(new go(Sb),null,Fp.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||ql},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?ql:n},t.prototype.getChild=function(e){var n=e.getFront();return n===null?this:this.getImmediateChild(n).getChild(e.popFront())},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new We(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?ql:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(e,n){var r=e.getFront();if(r===null)return n;K(e.getFront()!==".priority"||e.getLength()===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(e.popFront(),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(lt,function(l,h){n[l]=h.val(e),r++,s&&t.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!e&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ax(this.getPriority().val())+":"),this.forEachChild(lt,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":ux(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new We(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new We(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new We(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,We.Wrap),s=i.peek();s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,We.Wrap),s=i.peek();s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ah?-1:0},t.prototype.withIndex=function(e){if(e===Vi||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===Vi||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(lt),i=n.getIterator(lt),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===Vi?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),FY=function(t){ee(e,t);function e(){return t.call(this,new go(Sb),ke.EMPTY_NODE,Fp.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return ke.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ke),ah=new FY;Object.defineProperties(We,{MIN:{value:new We(No,ke.EMPTY_NODE)},MAX:{value:new We(Gi,ah)}});Cx.__EMPTY_NODE=ke.EMPTY_NODE;fc.__childrenNodeConstructor=ke;kY(ah);OY(ah);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UY=!0;function Nt(t,e){if(e===void 0&&(e=null),t===null)return ke.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new fc(n,Nt(e))}if(!(t instanceof Array)&&UY){var r=[],i=!1,s=t;if(tn(s,function(h,d){if(h.substring(0,1)!=="."){var v=Nt(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new We(h,v)))}}),r.length===0)return ke.EMPTY_NODE;var a=Lp(r,LY,function(h){return h.name},Sb);if(i){var c=Lp(r,lt.getCompare());return new ke(a,Nt(e),new Fp({".priority":c},{".priority":lt}))}else return new ke(a,Nt(e),Fp.Default)}else{var l=ke.EMPTY_NODE;return tn(t,function(h,d){if(mr(t,h)&&h.substring(0,1)!=="."){var v=Nt(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(Nt(e))}}RY(Nt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jY=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?qa(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return We.MIN},e.prototype.maxPost=function(){return We.MAX},e.prototype.makePost=function(n,r){var i=Nt(n);return new We(r,i)},e.prototype.toString=function(){return".value"},e}($v),Fw=new jY;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uw=function(t){ee(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,K(!n.isEmpty()&&n.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?qa(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=Nt(n),s=ke.EMPTY_NODE.updateChild(this.indexPath_,i);return new We(r,s)},e.prototype.maxPost=function(){var n=ke.EMPTY_NODE.updateChild(this.indexPath_,ah);return new We(Gi,n)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}($v);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var os=function(){function t(e,n,r){this.node_=e,this.ref_=n,this.index_=r}return t.prototype.val=function(){return Ee("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Ee("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Ee("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Ee("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Ee("DataSnapshot.child",0,1,arguments.length),e=String(e),Rf("DataSnapshot.child",1,e,!1);var n=new ie(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,lt)},t.prototype.hasChild=function(e){Ee("DataSnapshot.hasChild",1,1,arguments.length),Rf("DataSnapshot.hasChild",1,e,!1);var n=new ie(e);return!this.node_.getChild(n).isEmpty()},t.prototype.getPriority=function(){return Ee("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Ee("DataSnapshot.forEach",1,1,arguments.length),dn("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,s){return e(new t(s,n.ref_.child(i),lt))})},t.prototype.hasChildren=function(){return Ee("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Ee("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Ee("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ox=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.getRef();return this.eventType==="value"?e.path:e.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+en(this.snapshot.exportVal())},t}(),xx=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pA=function(){function t(e,n,r){this.callback_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n.getQueryParams().getIndex();return new Ox("value",this,new os(e.snapshotNode,n.getRef(),r))},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callback_;return function(){i.call(n,e.snapshot)}}},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new xx(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callback_||!this.callback_?!0:e.callback_===this.callback_&&e.context_===this.context_:!1},t.prototype.hasAnyCallback=function(){return this.callback_!==null},t}(),vA=function(){function t(e,n,r){this.callbacks_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,mr(this.callbacks_,n)},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new xx(this,e,n):null},t.prototype.createEvent=function(e,n){K(e.childName!=null,"Child events should have a childName.");var r=n.getRef().child(e.childName),i=n.getQueryParams().getIndex();return new Ox(e.type,this,new os(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callbacks_[e.eventType];return function(){i.call(n,e.snapshot,e.prevName)}}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),s=r.length,a=i.length;if(s===a)if(s===1){var c=r[0],l=i[0];return l===c&&(!e.callbacks_[c]||!this.callbacks_[l]||e.callbacks_[c]===this.callbacks_[l])}else return i.every(function(h){return e.callbacks_[h]===n.callbacks_[h]})}}return!1},t.prototype.hasAnyCallback=function(){return this.callbacks_!==null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m_,Cb=function(){function t(e,n,r,i){this.repo=e,this.path=n,this.queryParams_=r,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return K(m_,"Reference.ts has not been loaded"),m_},set:function(e){m_=e},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(e){var n=null,r=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===Vi){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==No)throw new Error(i);if(typeof n!="string")throw new Error(s)}if(e.hasEnd()){var c=e.getIndexEndName();if(c!==Gi)throw new Error(i);if(typeof r!="string")throw new Error(s)}}else if(e.getIndex()===lt){if(n!=null&&!Nf(n)||r!=null&&!Nf(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(e.getIndex()instanceof Uw||e.getIndex()===Fw,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(e){if(this.orderByCalled_===!0)throw new Error(e+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Ee("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Ee("Query.on",2,4,arguments.length),v_("Query.on",1,e,!1),dn("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if(e==="value")this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(e,n,r){var i=new pA(e,n||null,r||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(e,n,r){var i=new vA(e,n,r);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(e,n,r){Ee("Query.off",0,3,arguments.length),v_("Query.off",1,e,!0),dn("Query.off",2,n,!0),uA("Query.off",3,r,!0);var i=null,s=null;if(e==="value"){var a=n||null;i=new pA(a,null,r||null)}else e&&(n&&(s={},s[e]=n),i=new vA(s,null,r||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var s=this;Ee("Query.once",1,4,arguments.length),v_("Query.once",1,e,!1),dn("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=!0,l=new hr;l.promise.catch(function(){});var h=function(d){c&&(c=!1,s.off(e,h),n&&n.bind(a.context)(d),l.resolve(d))};return this.on(e,h,function(d){s.off(e,h),a.cancel&&a.cancel.bind(a.context)(d),l.reject(d)}),l.promise},t.prototype.limitToFirst=function(e){if(Ee("Query.limitToFirst",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Ee("Query.limitToLast",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Ee("Query.orderByChild",1,1,arguments.length),e==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(e==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(e==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Rf("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new ie(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Uw(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Ee("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Vi);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Ee("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(lt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Ee("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Fw);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){e===void 0&&(e=null),Ee("Query.startAt",0,2,arguments.length),Fi("Query.startAt",1,e,this.path,!0),Bl("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return e===void 0&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){e===void 0&&(e=null),Ee("Query.startAfter",0,2,arguments.length),Fi("Query.startAfter",1,e,this.path,!1),Bl("Query.startAfter",2,n,!0);var r=this.queryParams_.startAfter(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){e===void 0&&(e=null),Ee("Query.endAt",0,2,arguments.length),Fi("Query.endAt",1,e,this.path,!0),Bl("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){e===void 0&&(e=null),Ee("Query.endBefore",0,2,arguments.length),Fi("Query.endBefore",1,e,this.path,!1),Bl("Query.endBefore",2,n,!0);var r=this.queryParams_.endBefore(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(e,n){if(Ee("Query.equalTo",1,2,arguments.length),Fi("Query.equalTo",1,e,this.path,!1),Bl("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,n).endAt(e,n)},t.prototype.toString=function(){return Ee("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Ee("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var e=this.queryObject(),n=bb(e);return n==="{}"?"default":n},t.prototype.isEqual=function(e){if(Ee("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:null,context:null};if(n&&r)i.cancel=n,dn(e,3,i.cancel,!0),i.context=r,uA(e,4,i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Gr(e,3,!0)+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VY=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),BY=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),qY=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},gA=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return WY(t[".sv"],e,n);if(typeof t[".sv"]=="object")return HY(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},WY=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},HY=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);var i=e.node();if(K(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},mA=function(t,e,n,r){return Ab(e,new BY(n,t),r)},y_=function(t,e,n){return Ab(t,new VY(e),n)};function Ab(t,e,n){var r=t.getPriority().val(),i=gA(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){var a=t,c=gA(a.getValue(),e,n);return c!==a.getValue()||i!==a.getPriority().val()?new fc(c,Nt(i)):t}else{var l=t;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new fc(i))),l.forEachChild(lt,function(h,d){var v=Ab(d,e.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var __=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(e){if(this.value!=null)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var n=e.getFront();if(e=e.popFront(),this.children.has(n)){var r=this.children.get(n);return r.find(e)}else return null}else return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var r=this;return n.forEachChild(lt,function(a,c){r.remember(new ie(a),c)}),this.forget(e)}else if(this.children.size>0){var i=e.getFront();if(e=e.popFront(),this.children.has(i)){var s=this.children.get(i).forget(e);s&&this.children.delete(i)}return this.children.size===0}else return!0},t.prototype.forEachTree=function(e,n){this.value!==null?n(e,this.value):this.forEachChild(function(r,i){var s=new ie(e.toString()+"/"+r);i.forEachTree(s,n)})},t.prototype.forEachChild=function(e){this.children.forEach(function(n,r){e(r,n)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ci||(ci={}));var co=function(){function t(e,n,r,i){this.fromUser=e,this.fromServer=n,this.queryId=r,this.tagged=i,K(!i||n,"Tagged queries must be from server.")}return t.user=function(){return new t(!0,!1,null,!1)},t.server=function(){return new t(!1,!0,null,!1)},t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GY=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ci.ACK_USER_WRITE,this.source=co.user()}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ie(e));return new t(ie.Empty,n,this.revert)}else return K(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w_,$Y=function(){return w_||(w_=new go(cY)),w_},Nr=function(){function t(e,n){n===void 0&&(n=$Y()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return tn(e,function(r,i){n=n.set(new ie(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:ie.Empty,value:this.value};if(e.isEmpty())return null;var r=e.getFront(),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(e.popFront(),n);if(s!=null){var a=new ie(r).child(s.path);return{path:a,value:s.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return r!==null?r.subtree(e.popFront()):new t(null)},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||new t(null),s=i.set(e.popFront(),n),a=this.children.insert(r,s);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?new t(null):new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this},t.prototype.get=function(e){if(e.isEmpty())return this.value;var n=e.getFront(),r=this.children.get(n);return r?r.get(e.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||new t(null),s=i.setTree(e.popFront(),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(ie.Empty,e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(e.child(i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,ie.Empty,n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(e.isEmpty())return null;var s=e.getFront(),a=this.children.get(s);return a?a.findOnPath_(e.popFront(),n.child(s),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,ie.Empty,n)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),s=this.children.get(i);return s?s.foreachOnPath_(e.popFront(),n.child(i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(ie.Empty,e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(e.child(r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yA=function(){function t(e,n){this.source=e,this.path=n,this.type=ci.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,ie.Empty):new t(this.source,this.path.popFront())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fp=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ci.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,ie.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b_=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ci.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new fp(this.source,ie.Empty,n.value):new t(this.source,ie.Empty,n)}else return K(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=e.getFront();return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Px=function(){function t(e,n){this.eventCache_=e,this.serverCache_=n}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Es(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Es(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t){return{type:"value",snapshotNode:t}}function hc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Of(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function YY(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nb=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,s,a){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Of(n,c)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(hc(n,r)):a.trackChildChange(xf(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(lt,function(i,s){n.hasChild(i)||r.trackChildChange(Of(i,s))}),n.isLeafNode()||n.forEachChild(lt,function(i,s){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(xf(i,s,a))}else r.trackChildChange(hc(i,s))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?ke.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zY=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,xf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Of(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,hc(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,xf(r,e.snapshotNode,i.oldSnap));else throw Lc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KY=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),_A=new KY,E_=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new Es(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),s=this.writes_.calcIndexedSlice(i,n,1,r,e);return s.length===0?null:s[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QY=function(){function t(e,n){this.viewCache=e,this.changes=n}return t}(),XY=function(){function t(e){this.filter_=e}return t.prototype.assertIndexed=function(e){K(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),K(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s=new zY,a,c;if(n.type===ci.OVERWRITE){var l=n;l.source.fromUser?a=this.applyUserOverwrite_(e,l.path,l.snap,r,i,s):(K(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(e,l.path,l.snap,r,i,c,s))}else if(n.type===ci.MERGE){var h=n;h.source.fromUser?a=this.applyUserMerge_(e,h.path,h.children,r,i,s):(K(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,h.path,h.children,r,i,c,s))}else if(n.type===ci.ACK_USER_WRITE){var d=n;d.revert?a=this.revertUserWrite_(e,d.path,r,i,s):a=this.ackUserWrite_(e,d.path,d.affectedTree,r,i,s)}else if(n.type===ci.LISTEN_COMPLETE)a=this.listenComplete_(e,n.path,r,s);else throw Lc("Unknown operation type: "+n.type);var v=s.getChanges();return t.maybeAddValueEvent_(e,a,v),new QY(a,v)},t.maybeAddValueEvent_=function(e,n,r){var i=n.getEventCache();if(i.isFullyInitialized()){var s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=e.getCompleteEventSnap();(r.length>0||!e.getEventCache().isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&r.push(Dx(n.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(e,n,r,i,s){var a=e.getEventCache();if(r.shadowingWrite(n)!=null)return e;var c=void 0,l=void 0;if(n.isEmpty())if(K(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var h=e.getCompleteServerSnap(),d=h instanceof ke?h:ke.EMPTY_NODE,v=r.calcCompleteEventChildren(d);c=this.filter_.updateFullNode(e.getEventCache().getNode(),v,s)}else{var m=r.calcCompleteEventCache(e.getCompleteServerSnap());c=this.filter_.updateFullNode(e.getEventCache().getNode(),m,s)}else{var y=n.getFront();if(y===".priority"){K(n.getLength()===1,"Can't have a priority with additional path components");var b=a.getNode();l=e.getServerCache().getNode();var E=r.calcEventCacheAfterServerOverwrite(n,b,l);E!=null?c=this.filter_.updatePriority(b,E):c=a.getNode()}else{var T=n.popFront(),A=void 0;if(a.isCompleteForChild(y)){l=e.getServerCache().getNode();var P=r.calcEventCacheAfterServerOverwrite(n,a.getNode(),l);P!=null?A=a.getNode().getImmediateChild(y).updateChild(T,P):A=a.getNode().getImmediateChild(y)}else A=r.calcCompleteChild(y,e.getServerCache());A!=null?c=this.filter_.updateChild(a.getNode(),y,A,T,i,s):c=a.getNode()}}return e.updateEventSnap(c,a.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(e,n,r,i,s,a,c){var l=e.getServerCache(),h,d=a?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var m=n.getFront();if(!l.isCompleteForPath(n)&&n.getLength()>1)return e;var y=n.popFront(),b=l.getNode().getImmediateChild(m),E=b.updateChild(y,r);m===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),m,E,y,_A,null)}var T=e.updateServerSnap(h,l.isFullyInitialized()||n.isEmpty(),d.filtersNodes()),A=new E_(i,T,s);return this.generateEventCacheAfterServerEvent_(T,n,i,A,c)},t.prototype.applyUserOverwrite_=function(e,n,r,i,s,a){var c=e.getEventCache(),l,h,d=new E_(i,e,s);if(n.isEmpty())h=this.filter_.updateFullNode(e.getEventCache().getNode(),r,a),l=e.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var v=n.getFront();if(v===".priority")h=this.filter_.updatePriority(e.getEventCache().getNode(),r),l=e.updateEventSnap(h,c.isFullyInitialized(),c.isFiltered());else{var m=n.popFront(),y=c.getNode().getImmediateChild(v),b=void 0;if(m.isEmpty())b=r;else{var E=d.getCompleteChild(v);E!=null?m.getBack()===".priority"&&E.getChild(m.parent()).isEmpty()?b=E:b=E.updateChild(m,r):b=ke.EMPTY_NODE}if(y.equals(b))l=e;else{var T=this.filter_.updateChild(c.getNode(),v,b,m,d,a);l=e.updateEventSnap(T,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},t.cacheHasChild_=function(e,n){return e.getEventCache().isCompleteForChild(n)},t.prototype.applyUserMerge_=function(e,n,r,i,s,a){var c=this,l=e;return r.foreach(function(h,d){var v=n.child(h);t.cacheHasChild_(e,v.getFront())&&(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),r.foreach(function(h,d){var v=n.child(h);t.cacheHasChild_(e,v.getFront())||(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),l},t.prototype.applyMerge_=function(e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e},t.prototype.applyServerMerge_=function(e,n,r,i,s,a,c){var l=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var h=e,d;n.isEmpty()?d=r:d=new Nr(null).setTree(n,r);var v=e.getServerCache().getNode();return d.children.inorderTraversal(function(m,y){if(v.hasChild(m)){var b=e.getServerCache().getNode().getImmediateChild(m),E=l.applyMerge_(b,y);h=l.applyServerOverwrite_(h,new ie(m),E,i,s,a,c)}}),d.children.inorderTraversal(function(m,y){var b=!e.getServerCache().isCompleteForChild(m)&&y.value==null;if(!v.hasChild(m)&&!b){var E=e.getServerCache().getNode().getImmediateChild(m),T=l.applyMerge_(E,y);h=l.applyServerOverwrite_(h,new ie(m),T,i,s,a,c)}}),h},t.prototype.ackUserWrite_=function(e,n,r,i,s,a){if(i.shadowingWrite(n)!=null)return e;var c=e.getServerCache().isFiltered(),l=e.getServerCache();if(r.value!=null){if(n.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(n))return this.applyServerOverwrite_(e,n,l.getNode().getChild(n),i,s,c,a);if(n.isEmpty()){var h=new Nr(null);return l.getNode().forEachChild(Vi,function(v,m){h=h.set(new ie(v),m)}),this.applyServerMerge_(e,n,h,i,s,c,a)}else return e}else{var d=new Nr(null);return r.foreach(function(v,m){var y=n.child(v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),this.applyServerMerge_(e,n,d,i,s,c,a)}},t.prototype.listenComplete_=function(e,n,r,i){var s=e.getServerCache(),a=e.updateServerSnap(s.getNode(),s.isFullyInitialized()||n.isEmpty(),s.isFiltered());return this.generateEventCacheAfterServerEvent_(a,n,r,_A,i)},t.prototype.revertUserWrite_=function(e,n,r,i,s){var a;if(r.shadowingWrite(n)!=null)return e;var c=new E_(r,e,i),l=e.getEventCache().getNode(),h=void 0;if(n.isEmpty()||n.getFront()===".priority"){var d=void 0;if(e.getServerCache().isFullyInitialized())d=r.calcCompleteEventCache(e.getCompleteServerSnap());else{var v=e.getServerCache().getNode();K(v instanceof ke,"serverChildren would be complete if leaf node"),d=r.calcCompleteEventChildren(v)}d=d,h=this.filter_.updateFullNode(l,d,s)}else{var m=n.getFront(),y=r.calcCompleteChild(m,e.getServerCache());y==null&&e.getServerCache().isCompleteForChild(m)&&(y=l.getImmediateChild(m)),y!=null?h=this.filter_.updateChild(l,m,y,n.popFront(),c,s):e.getEventCache().getNode().hasChild(m)?h=this.filter_.updateChild(l,m,ke.EMPTY_NODE,n.popFront(),c,s):h=l,h.isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=r.calcCompleteEventCache(e.getCompleteServerSnap()),a.isLeafNode()&&(h=this.filter_.updateFullNode(h,a,s)))}return a=e.getServerCache().isFullyInitialized()||r.shadowingWrite(ie.Empty)!=null,e.updateEventSnap(h,a,this.filter_.filtersNodes())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JY=function(){function t(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(e,n,r){var i=this,s=[],a=[];return e.forEach(function(c){c.type==="child_changed"&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(YY(c.childName,c.snapshotNode))}),this.generateEventsForType_(s,"child_removed",e,r,n),this.generateEventsForType_(s,"child_added",e,r,n),this.generateEventsForType_(s,"child_moved",a,r,n),this.generateEventsForType_(s,"child_changed",e,r,n),this.generateEventsForType_(s,"value",e,r,n),s},t.prototype.generateEventsForType_=function(e,n,r,i,s){var a=this,c=r.filter(function(l){return l.type===n});c.sort(this.compareChanges_.bind(this)),c.forEach(function(l){var h=a.materializeSingleChange_(l,s);i.forEach(function(d){d.respondsTo(l.type)&&e.push(d.createEvent(h,a.query_))})})},t.prototype.materializeSingleChange_=function(e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},t.prototype.compareChanges_=function(e,n){if(e.childName==null||n.childName==null)throw Lc("Should only compare child_ events.");var r=new We(e.childName,e.snapshotNode),i=new We(n.childName,n.snapshotNode);return this.index_.compare(r,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZY=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),i=new Nb(r.getIndex()),s=r.getNodeFilter();this.processor_=new XY(s);var a=n.getServerCache(),c=n.getEventCache(),l=i.updateFullNode(ke.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(ke.EMPTY_NODE,c.getNode(),null),d=new Es(l,a.isFullyInitialized(),i.filtersNodes()),v=new Es(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=new Px(v,d),this.eventGenerator_=new JY(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},t.prototype.getCompleteServerCache=function(e){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!n.getImmediateChild(e.getFront()).isEmpty())?n.getChild(e):null},t.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},t.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},t.prototype.removeEventRegistration=function(e,n){var r=[];if(n){K(e==null,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(e){for(var s=[],a=0;a<this.eventRegistrations_.length;++a){var c=this.eventRegistrations_[a];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(this.eventRegistrations_.slice(a+1));break}}this.eventRegistrations_=s}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(e,n,r){e.type===ci.MERGE&&e.source.queryId!==null&&(K(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),K(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,s=this.processor_.applyOperation(i,e,n,r);return this.processor_.assertIndexed(s.viewCache),K(s.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=s.viewCache,this.generateEventsForChanges_(s.changes,s.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(e){var n=this.viewCache_.getEventCache(),r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(lt,function(s,a){r.push(hc(s,a))})}return n.isFullyInitialized()&&r.push(Dx(n.getNode())),this.generateEventsForChanges_(r,n.getNode(),e)},t.prototype.generateEventsForChanges_=function(e,n,r){var i=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,n,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vd,jw=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return K(Vd,"Reference.ts has not been loaded"),Vd},set:function(e){K(!Vd,"__referenceConstructor has already been defined"),Vd=e},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.views.size===0},t.prototype.applyOperation=function(e,n,r){var i,s,a=e.source.queryId;if(a!==null){var c=this.views.get(a);return K(c!=null,"SyncTree gave us an op for an invalid query."),c.applyOperation(e,n,r)}else{var l=[];try{for(var h=Vt(this.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(c.applyOperation(e,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}},t.prototype.getView=function(e,n,r,i){var s=e.queryIdentifier(),a=this.views.get(s);if(!a){var c=n.calcCompleteEventCache(i?r:null),l=!1;c?l=!0:r instanceof ke?(c=n.calcCompleteEventChildren(r),l=!1):(c=ke.EMPTY_NODE,l=!1);var h=new Px(new Es(c,l,!1),new Es(r,i,!1));return new ZY(e,h)}return a},t.prototype.addEventRegistration=function(e,n,r,i,s){var a=this.getView(e,r,i,s);return this.views.has(e.queryIdentifier())||this.views.set(e.queryIdentifier(),a),a.addEventRegistration(n),a.getInitialEvents(n)},t.prototype.removeEventRegistration=function(e,n,r){var i,s,a=e.queryIdentifier(),c=[],l=[],h=this.hasCompleteView();if(a==="default")try{for(var d=Vt(this.views.entries()),v=d.next();!v.done;v=d.next()){var m=Sf(v.value,2),y=m[0],b=m[1];l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(y),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery()))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var b=this.views.get(a);b&&(l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(a),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery())))}return h&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:l}},t.prototype.getQueryViews=function(){var e,n,r=[];try{for(var i=Vt(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getCompleteServerCache=function(e){var n,r,i=null;try{for(var s=Vt(this.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||c.getCompleteServerCache(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.prototype.viewForQuery=function(e){var n=e.getQueryParams();if(n.loadsAllData())return this.getCompleteView();var r=e.queryIdentifier();return this.views.get(r)},t.prototype.viewExistsForQuery=function(e){return this.viewForQuery(e)!=null},t.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},t.prototype.getCompleteView=function(){var e,n;try{for(var r=Vt(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wo=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Nr(null))},t}();function Xl(t,e,n){if(e.isEmpty())return new wo(new Nr(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,s=r.value,a=ie.relativePath(i,e);return s=s.updateChild(a,n),new wo(t.writeTree_.set(i,s))}else{var c=new Nr(n),l=t.writeTree_.setTree(e,c);return new wo(l)}}function T_(t,e,n){var r=t;return tn(n,function(i,s){r=Xl(r,e.child(i),s)}),r}function wA(t,e){if(e.isEmpty())return wo.empty();var n=t.writeTree_.setTree(e,new Nr(null));return new wo(n)}function I_(t,e){return rs(t,e)!=null}function rs(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(ie.relativePath(n.path,e)):null}function bA(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(lt,function(r,i){e.push(new We(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new We(r,i.value))}),e}function Xo(t,e){if(e.isEmpty())return t;var n=rs(t,e);return n!=null?new wo(new Nr(n)):new wo(t.writeTree_.subtree(e))}function S_(t){return t.writeTree_.isEmpty()}function Cu(t,e){return Mx(ie.Empty,t.writeTree_,e)}function Mx(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,s){i===".priority"?(K(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Mx(t.child(i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(t.child(".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e6=function(){function t(){this.visibleWrites_=wo.empty(),this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(e){return new t6(e,this)},t.prototype.addOverwrite=function(e,n,r,i){K(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),this.allWrites_.push({path:e,snap:n,writeId:r,visible:i}),i&&(this.visibleWrites_=Xl(this.visibleWrites_,e,n)),this.lastWriteId_=r},t.prototype.addMerge=function(e,n,r){K(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:n,writeId:r,visible:!0}),this.visibleWrites_=T_(this.visibleWrites_,e,n),this.lastWriteId_=r},t.prototype.getWrite=function(e){for(var n=0;n<this.allWrites_.length;n++){var r=this.allWrites_[n];if(r.writeId===e)return r}return null},t.prototype.removeWrite=function(e){var n=this,r=this.allWrites_.findIndex(function(d){return d.writeId===e});K(r>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[r];this.allWrites_.splice(r,1);for(var s=i.visible,a=!1,c=this.allWrites_.length-1;s&&c>=0;){var l=this.allWrites_[c];l.visible&&(c>=r&&this.recordContainsPath_(l,i.path)?s=!1:i.path.contains(l.path)&&(a=!0)),c--}if(s){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=wA(this.visibleWrites_,i.path);else{var h=i.children;tn(h,function(d){n.visibleWrites_=wA(n.visibleWrites_,i.path.child(d))})}return!0}else return!1},t.prototype.getCompleteWriteData=function(e){return rs(this.visibleWrites_,e)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(!r&&!i){var s=rs(this.visibleWrites_,e);if(s!=null)return s;var a=Xo(this.visibleWrites_,e);if(S_(a))return n;if(n==null&&!I_(a,ie.Empty))return null;var c=n||ke.EMPTY_NODE;return Cu(a,c)}else{var l=Xo(this.visibleWrites_,e);if(!i&&S_(l))return n;if(!i&&n==null&&!I_(l,ie.Empty))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(m.path.contains(e)||e.contains(m.path))},d=t.layerTree_(this.allWrites_,h,e),c=n||ke.EMPTY_NODE;return Cu(d,c)}},t.prototype.calcCompleteEventChildren=function(e,n){var r=ke.EMPTY_NODE,i=rs(this.visibleWrites_,e);if(i)return i.isLeafNode()||i.forEachChild(lt,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=Xo(this.visibleWrites_,e);return n.forEachChild(lt,function(c,l){var h=Cu(Xo(s,new ie(c)),l);r=r.updateImmediateChild(c,h)}),bA(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=Xo(this.visibleWrites_,e);return bA(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r,i){K(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=e.child(n);if(I_(this.visibleWrites_,s))return null;var a=Xo(this.visibleWrites_,s);return S_(a)?i.getChild(n):Cu(a,i.getChild(n))},t.prototype.calcCompleteChild=function(e,n,r){var i=e.child(n),s=rs(this.visibleWrites_,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=Xo(this.visibleWrites_,i);return Cu(a,r.getNode().getImmediateChild(n))}else return null},t.prototype.shadowingWrite=function(e){return rs(this.visibleWrites_,e)},t.prototype.calcIndexedSlice=function(e,n,r,i,s,a){var c,l=Xo(this.visibleWrites_,e),h=rs(l,ie.Empty);if(h!=null)c=h;else if(n!=null)c=Cu(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),m=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=m.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=m.getNext();return d}else return[]},t.prototype.recordContainsPath_=function(e,n){if(e.snap)return e.path.contains(n);for(var r in e.children)if(e.children.hasOwnProperty(r)&&e.path.child(r).contains(n))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,ie.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(e){return e.visible},t.layerTree_=function(e,n,r){for(var i=wo.empty(),s=0;s<e.length;++s){var a=e[s];if(n(a)){var c=a.path,l=void 0;if(a.snap)r.contains(c)?(l=ie.relativePath(r,c),i=Xl(i,l,a.snap)):c.contains(r)&&(l=ie.relativePath(c,r),i=Xl(i,ie.Empty,a.snap.getChild(l)));else if(a.children){if(r.contains(c))l=ie.relativePath(r,c),i=T_(i,l,a.children);else if(c.contains(r))if(l=ie.relativePath(c,r),l.isEmpty())i=T_(i,ie.Empty,a.children);else{var h=ui(a.children,l.getFront());if(h){var d=h.getChild(l.popFront());i=Xl(i,ie.Empty,d)}}}else throw Lc("WriteRecord should have .snap or .children")}}return i},t}(),t6=function(){function t(e,n){this.treePath_=e,this.writeTree_=n}return t.prototype.calcCompleteEventCache=function(e,n,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,n,r)},t.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,n,r)},t.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},t.prototype.calcIndexedSlice=function(e,n,r,i,s){return this.writeTree_.calcIndexedSlice(this.treePath_,e,n,r,i,s)},t.prototype.calcCompleteChild=function(e,n){return this.writeTree_.calcCompleteChild(this.treePath_,e,n)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EA=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Nr(null),this.pendingWriteTree_=new e6,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(e,n,r,i){return this.pendingWriteTree_.addOverwrite(e,n,r,i),i?this.applyOperationToSyncPoints_(new fp(co.user(),e,n)):[]},t.prototype.applyUserMerge=function(e,n,r){this.pendingWriteTree_.addMerge(e,n,r);var i=Nr.fromObject(n);return this.applyOperationToSyncPoints_(new b_(co.user(),e,i))},t.prototype.ackUserWrite=function(e,n){n===void 0&&(n=!1);var r=this.pendingWriteTree_.getWrite(e),i=this.pendingWriteTree_.removeWrite(e);if(i){var s=new Nr(null);return r.snap!=null?s=s.set(ie.Empty,!0):tn(r.children,function(a){s=s.set(new ie(a),!0)}),this.applyOperationToSyncPoints_(new GY(r.path,s,n))}else return[]},t.prototype.applyServerOverwrite=function(e,n){return this.applyOperationToSyncPoints_(new fp(co.server(),e,n))},t.prototype.applyServerMerge=function(e,n){var r=Nr.fromObject(n);return this.applyOperationToSyncPoints_(new b_(co.server(),e,r))},t.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new yA(co.server(),e))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(i!=null){var s=t.parseQueryKey_(i),a=s.path,c=s.queryId,l=ie.relativePath(a,e),h=new fp(co.forServerTaggedQuery(c),l,n);return this.applyTaggedOperation_(a,h)}else return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var s=t.parseQueryKey_(i),a=s.path,c=s.queryId,l=ie.relativePath(a,e),h=Nr.fromObject(n),d=new b_(co.forServerTaggedQuery(c),l,h);return this.applyTaggedOperation_(a,d)}else return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),s=i.path,a=i.queryId,c=ie.relativePath(s,e),l=new yA(co.forServerTaggedQuery(a),c);return this.applyTaggedOperation_(s,l)}else return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(E,T){var A=ie.relativePath(E,r);i=i||T.getCompleteServerCache(A),s=s||T.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(s=s||a.hasCompleteView(),i=i||a.getCompleteServerCache(ie.Empty)):(a=new jw,this.syncPointTree_=this.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=ke.EMPTY_NODE;var l=this.syncPointTree_.subtree(r);l.foreachChild(function(E,T){var A=T.getCompleteServerCache(ie.Empty);A&&(i=i.updateImmediateChild(E,A))})}var h=a.viewExistsForQuery(e);if(!h&&!e.getQueryParams().loadsAllData()){var d=t.makeQueryKey_(e);K(!this.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=t.getNextQueryTag_();this.queryToTagMap.set(d,v),this.tagToQueryMap.set(v,d)}var m=this.pendingWriteTree_.childWrites(r),y=a.addEventRegistration(e,n,m,i,c);if(!h&&!s){var b=a.viewForQuery(e);y=y.concat(this.setupListener_(e,b))}return y},t.prototype.removeEventRegistration=function(e,n,r){var i=this,s=e.path,a=this.syncPointTree_.get(s),c=[];if(a&&(e.queryIdentifier()==="default"||a.viewExistsForQuery(e))){var l=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var h=l.removed;c=l.events;var d=h.findIndex(function(M){return M.getQueryParams().loadsAllData()})!==-1,v=this.syncPointTree_.findOnPath(s,function(M,U){return U.hasCompleteView()});if(d&&!v){var m=this.syncPointTree_.subtree(s);if(!m.isEmpty())for(var y=this.collectDistinctViewsForSubTree_(m),b=0;b<y.length;++b){var E=y[b],T=E.getQuery(),A=this.createListenerForView_(E);this.listenProvider_.startListening(t.queryForListening_(T),this.tagForQuery_(T),A.hashFn,A.onComplete)}}if(!v&&h.length>0&&!r)if(d){var P=null;this.listenProvider_.stopListening(t.queryForListening_(e),P)}else h.forEach(function(M){var U=i.queryToTagMap.get(t.makeQueryKey_(M));i.listenProvider_.stopListening(t.queryForListening_(M),U)});this.removeTags_(h)}return c},t.prototype.calcCompleteEventCache=function(e,n){var r=!0,i=this.pendingWriteTree_,s=this.syncPointTree_.findOnPath(e,function(a,c){var l=ie.relativePath(a,e),h=c.getCompleteServerCache(l);if(h)return h});return i.calcCompleteEventCache(e,s,n,r)},t.prototype.getServerValue=function(e){var n=e.path,r=null;this.syncPointTree_.foreachOnPath(n,function(h,d){var v=ie.relativePath(h,n);r=r||d.getCompleteServerCache(v)});var i=this.syncPointTree_.get(n);i?r=r||i.getCompleteServerCache(ie.Empty):(i=new jw,this.syncPointTree_=this.syncPointTree_.set(n,i));var s=r!=null,a=s?new Es(r,!0,!1):null,c=this.pendingWriteTree_.childWrites(e.path),l=i.getView(e,c,s?a.getNode():ke.EMPTY_NODE,s);return l.getCompleteNode()},t.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(n,r,i){if(r&&r.hasCompleteView()){var s=r.getCompleteView();return[s]}else{var a=[];return r&&(a=r.getQueryViews()),tn(i,function(c,l){a=a.concat(l)}),a}})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),s=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(s)}}},t.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)K(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,m,y){if(!v.isEmpty()&&m&&m.hasCompleteView())return[m.getCompleteView().getQuery()];var b=[];return m&&(b=b.concat(m.getQueryViews().map(function(E){return E.getQuery()}))),tn(y,function(E,T){b=b.concat(T)}),b}),h=0;h<l.length;++h){var d=l[h];this.listenProvider_.stopListening(t.queryForListening_(d),this.tagForQuery_(d))}return a},t.prototype.createListenerForView_=function(e){var n=this,r=e.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){var s=e.getServerCache()||ke.EMPTY_NODE;return s.hash()},onComplete:function(s){if(s==="ok")return i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path);var a=hY(s,r);return n.removeEventRegistration(r,null,a)}}},t.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},t.parseQueryKey_=function(e){var n=e.indexOf("$");return K(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new ie(e.substr(0,n))}},t.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(e,n){var r=this.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return r.applyOperation(n,i,null)},t.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ie.Empty))},t.prototype.applyOperationHelper_=function(e,n,r,i){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,n,r,i);var s=n.get(ie.Empty);r==null&&s!=null&&(r=s.getCompleteServerCache(ie.Empty));var a=[],c=e.path.getFront(),l=e.operationForChild(c),h=n.children.get(c);if(h&&l){var d=r?r.getImmediateChild(c):null,v=i.child(c);a=a.concat(this.applyOperationHelper_(l,h,d,v))}return s&&(a=a.concat(s.applyOperation(e,i,r))),a},t.prototype.applyOperationDescendantsHelper_=function(e,n,r,i){var s=this,a=n.get(ie.Empty);r==null&&a!=null&&(r=a.getCompleteServerCache(ie.Empty));var c=[];return n.children.inorderTraversal(function(l,h){var d=r?r.getImmediateChild(l):null,v=i.child(l),m=e.operationForChild(l);m&&(c=c.concat(s.applyOperationDescendantsHelper_(m,h,d,v)))}),a&&(c=c.concat(a.applyOperation(e,i,r))),c},t.nextQueryTag_=1,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n6=function(){function t(){this.rootNode_=ke.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r6=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),mr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return QO(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Up=function(){function t(){}return t.getCollection=function(e){var n=e.toString();return this.collections_[n]||(this.collections_[n]=new r6),this.collections_[n]},t.getOrCreateReporter=function(e,n){var r=e.toString();return this.reporters_[r]||(this.reporters_[r]=n()),this.reporters_[r]},t.collections_={},t.reporters_={},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lx=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=dt({},e);return this.last_&&tn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TA=10*1e3,i6=30*1e3,o6=5*60*1e3,s6=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Lx(e);var r=TA+(i6-TA)*Math.random();af(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.includeStat=function(e){this.statsToReport_[e]=!0},t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;tn(n,function(s,a){a>0&&mr(e.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),af(this.reportStats_.bind(this),Math.floor(Math.random()*2*o6))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a6=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(e){for(var n=null,r=0;r<e.length;r++){var i=e[r],s=i.getPath();n!==null&&!s.equals(n.getPath())&&(this.eventLists_.push(n),n=null),n===null&&(n=new u6(s)),n.add(i)}n&&this.eventLists_.push(n)},t.prototype.raiseEventsAtPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.equals(e)})},t.prototype.raiseEventsForChangedPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.contains(e)||e.contains(r)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var n=!0,r=0;r<this.eventLists_.length;r++){var i=this.eventLists_[r];if(i){var s=i.getPath();e(s)?(this.eventLists_[r].raise(),this.eventLists_[r]=null):n=!1}}n&&(this.eventLists_=[]),this.recursionDepth_--},t}(),u6=function(){function t(e){this.path_=e,this.events_=[]}return t.prototype.add=function(e){this.events_.push(e)},t.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var n=this.events_[e];if(n!==null){this.events_[e]=null;var r=n.getEventRunner();ba&&In("event: "+n.toString()),Uu(r)}}},t.prototype.getPath=function(){return this.path_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fx=function(){function t(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Lo(this.listeners_[e]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},t.prototype.validateEventType_=function(e){K(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c6=function(t){ee(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="visible","Unknown event type: "+n),[this.visible_]},e}(Fx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IA=function(t){ee(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!vb()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Fx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l6=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&Uu(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SA="start",f6="close",h6="pLPCommand",d6="pRTLPCB",Ux="id",jx="pw",Vx="ser",p6="cb",v6="seg",g6="ts",m6="d",y6="dframe",Bx=1870,qx=30,_6=Bx-qx,w6=25e3,b6=3e4,kb=function(){function t(e,n,r,i,s){this.connId=e,this.repoInfo=n,this.applicationId=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sh(e),this.stats_=Up.getCollection(n),this.urlFn=function(a){return n.connectionURL(wx,a)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new l6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(b6)),uY(function(){if(!r.isClosed_){r.scriptTagHolder=new E6(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Sf(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===SA)r.id=d,r.password=v;else if(h===f6)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Sf(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[SA]="t",i[Vx]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[p6]=r.scriptTagHolder.uniqueCallbackIdentifier),i[dx]=Tb,r.transportSessionId&&(i[px]=r.transportSessionId),r.lastSessionId&&(i[yx]=r.lastSessionId),r.applicationId&&(i[gY]=r.applicationId),typeof location<"u"&&location.hostname&&mx.test(location.hostname)&&(i[vx]=gx);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lY()&&!fY()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=en(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=l$(n),i=lx(r,_6),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[y6]="t",r[Ux]=e,r[jx]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=en(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),E6=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ax(),window[h6+this.uniqueCallbackIdentifier]=e,window[d6+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){In("frame writing exception"),l.stack&&In(l.stack),In(l)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||In("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[Ux]=this.myID,e[jx]=this.myPW,e[Vx]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+qx+r.length<=Bx){var a=this.pendingSegs.shift();r=r+"&"+v6+i+"="+a.seg+"&"+g6+i+"="+a.ts+"&"+m6+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(w6)),a=function(){clearTimeout(s),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){In("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wx="";function Hx(t){Wx=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T6=16384,I6=45e3,jp=null;typeof MozWebSocket<"u"?jp=MozWebSocket:typeof WebSocket<"u"&&(jp=WebSocket);var ua=function(){function t(e,n,r,i,s){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sh(this.connId),this.stats_=Up.getCollection(n),this.connURL=t.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r){var i={};return i[dx]=Tb,typeof location<"u"&&location.hostname&&mx.test(location.hostname)&&(i[vx]=gx),n&&(i[px]=n),r&&(i[yx]=r),e.connectionURL(_x,i)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ha.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!JO()){var s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new jp(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jp!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return ha.isInMemoryStorage||ha.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){ha.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Af(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=en(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=lx(n,T6);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(I6))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S6=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[kb,ua]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ua&&ua.isAvailable(),s=i&&!ua.previouslyFailed();if(e.webSocketOnly&&(i||Mn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ua];else{var a=this.transports_=[];try{for(var c=Vt(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C6=6e4,A6=5e3,N6=10*1024,k6=100*1024,C_="t",CA="d",R6="s",AA="r",O6="e",NA="o",kA="a",RA="n",OA="p",x6="h",Gx=function(){function t(e,n,r,i,s,a,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sh("c:"+this.id+":"),this.transportManager_=new S6(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=af(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>k6?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>N6?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(s)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(C_ in e){var n=e[C_];n===kA?this.upgradeIfSecondaryHealthy_():n===AA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===NA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Vl("t",e),r=Vl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:OA,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:kA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:RA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Vl("t",e),r=Vl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Vl(C_,e);if(CA in e){var r=e[CA];if(n===x6)this.onHandshake_(r);else if(n===RA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===R6?this.onConnectionShutdown_(r):n===AA?this.onReset_(r):n===O6?xw("Server Error: "+r):n===NA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xw("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Tb!==r&&Mn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),af(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(C6))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):af(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(A6))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:OA,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ha.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $x=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wl=1e3,P6=60*5*1e3,D6=3*1e3,xA=30*1e3,M6=1.3,L6=3e4,F6="server_kill",U6=3,Ea=function(t){ee(e,t);function e(n,r,i,s,a,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=sh("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Wl,h.maxReconnectDelay_=P6,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!JO())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),c6.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&IA.getInstance().on("online",h.onOnline_,h),h}return e.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(en(a)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},e.prototype.get=function(n){var r=this,i=new hr,s={p:n.path.toString(),q:n.queryObject()},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},D6),this.connected_&&this.sendGet_(c),i.promise},e.prototype.listen=function(n,r,i,s){var a=n.queryIdentifier(),c=n.path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,s=i.path.toString(),a=i.queryIdentifier();this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i.queryObject(),c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;e.warnOnListenWarnings_(d,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&mr(n,"w")){var i=ui(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',a=r.path.toString();Mn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||b$(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xA)},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=w$(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},e.prototype.unlisten=function(n,r){var i=n.path.toString(),s=n.queryIdentifier();this.log_("Unlisten called for "+i+" "+s),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n.queryObject(),r)},e.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},e.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},e.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},e.prototype.putInternal=function(n,r,i,s,a){var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+en(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):xw("Unrecognized action received from server: "+en(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>L6&&(this.reconnectDelay_=Wl),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*M6)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,c=this,l=this.lastSessionId,h=!1,d=null,v=function(){d?d.close():(h=!0,s())},m=function(b){K(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:v,sendRequest:m};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(b){h?In("getToken() completed but was canceled"):(In("getToken() completed. Creating connection."),c.authToken_=b&&b.accessToken,d=new Gx(a,c.repoInfo_,c.applicationId_,r,i,s,function(E){Mn(E+" ("+c.repoInfo_.toString()+")"),c.interrupt(F6)},l))}).then(null,function(b){c.log_("Failed to get token: "+b),h||(n.repoInfo_.nodeAdmin&&Mn(b),v())})}},e.prototype.interrupt=function(n){In("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){In("Resuming connection for reason: "+n),delete this.interruptReasons_[n],kw(this.interruptReasons_)&&(this.reconnectDelay_=Wl,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return bb(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new ie(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},e.prototype.onAuthRevoked_=function(n,r){In("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=U6&&(this.reconnectDelay_=xA,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth();try{for(var a=Vt(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,Vt(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+Wx.replace(/\./g,"-")]=1,vb()?n["framework.cordova"]=1:XO()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=IA.getInstance().currentlyOnline();return kw(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}($x);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j6=function(t){ee(e,t);function e(n,r,i){var s=t.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.log_=sh("p:rest:"),s.listens_={},s}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(K(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},e.prototype.listen=function(n,r,i,s){var a=this,c=n.path.toString();this.log_("Listen called for "+c+" "+n.queryIdentifier());var l=e.getListenId_(n,i),h={};this.listens_[l]=h;var d=n.getQueryParams().toRestQueryStringParameters();this.restRequest_(c+".json",d,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),ui(a.listens_,l)===h){var b;v?v===401?b="permission_denied":b="rest_error:"+v:b="ok",s(b,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=n.getQueryParams().toRestQueryStringParameters(),s=n.path.toString(),a=new hr;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var s=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var c=a&&a.accessToken;c&&(r.auth=c);var l=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+E$(r);s.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){s.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var d=null;if(h.status>=200&&h.status<300){try{d=Af(h.responseText)}catch{Mn("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&Mn("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})},e}($x);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PA=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),V6=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r=new PA),this.name_=e,this.parent_=n,this.node_=r}return t.prototype.subTree=function(e){for(var n=e instanceof ie?e:new ie(e),r=this,i=n.getFront();i!==null;){var s=ui(r.node_.children,i)||new PA;r=new t(i,r,s),n=n.popFront(),i=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(e){K(typeof e<"u","Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;tn(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(e,n,r){n&&!r&&e(this),this.forEachChild(function(i){i.forEachDescendant(e,!0,r)}),n&&r&&e(this)},t.prototype.forEachAncestor=function(e,n){for(var r=n?this:this.parent();r!==null;){if(e(r))return!0;r=r.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(n){n.getValue()!==null?e(n):n.forEachImmediateDescendantWithValue(e)})},t.prototype.path=function(){return new ie(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(e,n){var r=n.isEmpty(),i=mr(this.node_.children,e);r&&i?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):!r&&!i&&(this.node_.children[e]=n.node_,this.node_.childCount++,this.updateParents_())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DA="repo_interrupt",B6=25,Gt;(function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"})(Gt||(Gt={}));var Rb=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.app=r,this.authTokenProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new a6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new __,this.transactionQueueTree_=new V6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var e=this;if(this.stats_=Up.getCollection(this.repoInfo_),this.forceRestClient_||pY())this.server_=new j6(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var n=this.app.options.databaseAuthVariableOverride;if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{en(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}this.persistentConnection_=new Ea(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,n),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),this.statsReporter_=Up.getOrCreateReporter(this.repoInfo_,function(){return new s6(e.stats_,e.server_)}),this.infoData_=new n6,this.infoSyncTree_=new EA({startListening:function(r,i,s,a){var c=[],l=e.infoData_.getNode(r.path);return l.isEmpty()||(c=e.infoSyncTree_.applyServerOverwrite(r.path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new EA({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(c,l){var h=a(c,l);e.eventQueue_.raiseEventsForChangedPath(r.path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var e=this.infoData_.getNode(new ie(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n},t.prototype.generateServerValues=function(){return qY({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(e,n,r,i){this.dataUpdateCount++;var s=new ie(e);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var c=Pp(n,function(m){return Nt(m)});a=this.serverSyncTree_.applyTaggedQueryMerge(s,c,i)}else{var l=Nt(n);a=this.serverSyncTree_.applyTaggedQueryOverwrite(s,l,i)}else if(r){var h=Pp(n,function(m){return Nt(m)});a=this.serverSyncTree_.applyServerMerge(s,h)}else{var d=Nt(n);a=this.serverSyncTree_.applyServerOverwrite(s,d)}var v=s;a.length>0&&(v=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(v,a)},t.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},t.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),e===!1&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(e){var n=this;tn(e,function(r,i){n.updateInfo_(r,i)})},t.prototype.updateInfo_=function(e,n){var r=new ie("/.info/"+e),i=Nt(n);this.infoData_.updateSnapshot(r,i);var s=this.infoSyncTree_.applyServerOverwrite(r,i);this.eventQueue_.raiseEventsForChangedPath(r,s)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(e){var n=this,r=this.serverSyncTree_.getServerValue(e);return r!=null?Promise.resolve(new os(r,e.getRef(),e.getQueryParams().getIndex())):this.server_.get(e).then(function(i){var s=Nt(i),a=n.serverSyncTree_.applyServerOverwrite(e.path,s);return n.eventQueue_.raiseEventsAtPath(e.path,a),Promise.resolve(new os(s,e.getRef(),e.getQueryParams().getIndex()))},function(i){return n.log_("get for query "+en(e)+" failed: "+i),Promise.reject(new Error(i))})},t.prototype.setWithPriority=function(e,n,r,i){var s=this;this.log_("set",{path:e.toString(),value:n,priority:r});var a=this.generateServerValues(),c=Nt(n,r),l=this.serverSyncTree_.calcCompleteEventCache(e),h=y_(c,l,a),d=this.getNextWriteId_(),v=this.serverSyncTree_.applyUserOverwrite(e,h,d,!0);this.eventQueue_.queueEvents(v),this.server_.put(e.toString(),c.val(!0),function(y,b){var E=y==="ok";E||Mn("set at "+e+" failed: "+y);var T=s.serverSyncTree_.ackUserWrite(d,!E);s.eventQueue_.raiseEventsForChangedPath(e,T),s.callOnCompleteCallback(i,y,b)});var m=this.abortTransactions_(e);this.rerunTransactions_(m),this.eventQueue_.raiseEventsForChangedPath(m,[])},t.prototype.update=function(e,n,r){var i=this;this.log_("update",{path:e.toString(),value:n});var s=!0,a=this.generateServerValues(),c={};if(tn(n,function(d,v){s=!1,c[d]=mA(e.child(d),Nt(v),i.serverSyncTree_,a)}),s)In("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(e,c,l);this.eventQueue_.queueEvents(h),this.server_.merge(e.toString(),n,function(d,v){var m=d==="ok";m||Mn("update at "+e+" failed: "+d);var y=i.serverSyncTree_.ackUserWrite(l,!m),b=y.length>0?i.rerunTransactions_(e):e;i.eventQueue_.raiseEventsForChangedPath(b,y),i.callOnCompleteCallback(r,d,v)}),tn(n,function(d){var v=i.abortTransactions_(e.child(d));i.rerunTransactions_(v)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},t.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),r=new __;this.onDisconnect_.forEachTree(ie.Empty,function(s,a){var c=mA(s,a,e.serverSyncTree_,n);r.remember(s,c)});var i=[];r.forEachTree(ie.Empty,function(s,a){i=i.concat(e.serverSyncTree_.applyServerOverwrite(s,a));var c=e.abortTransactions_(s);e.rerunTransactions_(c)}),this.onDisconnect_=new __,this.eventQueue_.raiseEventsForChangedPath(ie.Empty,i)},t.prototype.onDisconnectCancel=function(e,n){var r=this;this.server_.onDisconnectCancel(e.toString(),function(i,s){i==="ok"&&r.onDisconnect_.forget(e),r.callOnCompleteCallback(n,i,s)})},t.prototype.onDisconnectSet=function(e,n,r){var i=this,s=Nt(n);this.server_.onDisconnectPut(e.toString(),s.val(!0),function(a,c){a==="ok"&&i.onDisconnect_.remember(e,s),i.callOnCompleteCallback(r,a,c)})},t.prototype.onDisconnectSetWithPriority=function(e,n,r,i){var s=this,a=Nt(n,r);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(c,l){c==="ok"&&s.onDisconnect_.remember(e,a),s.callOnCompleteCallback(i,c,l)})},t.prototype.onDisconnectUpdate=function(e,n,r){var i=this;if(kw(n)){In("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(e.toString(),n,function(s,a){s==="ok"&&tn(n,function(c,l){var h=Nt(l);i.onDisconnect_.remember(e.child(c),h)}),i.callOnCompleteCallback(r,s,a)})},t.prototype.addEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.addEventRegistration(e,n):r=this.serverSyncTree_.addEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.removeEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.removeEventRegistration(e,n):r=this.serverSyncTree_.removeEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(DA)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(DA)},t.prototype.stats=function(e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(this.statsListener_||(this.statsListener_=new Lx(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);tn(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}},t.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},t.prototype.log_=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),In.apply(void 0,Lo([r],e))},t.prototype.callOnCompleteCallback=function(e,n,r){e&&Uu(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,e(a)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Ob(this))},enumerable:!1,configurable:!0}),t.prototype.startTransaction=function(e,n,r,i){this.log_("transaction on "+e);var s=function(){},a=new mo(this,e);a.on("value",s);var c=function(){a.off("value",s)},l={path:e,update:n,onComplete:r,status:null,order:ax(),applyLocally:i,retryCount:0,unwatcher:c,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(e);l.currentInputSnapshot=h;var d=l.update(h.val());if(d===void 0){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var v=new os(l.currentInputSnapshot,new mo(this,l.path),lt);l.onComplete(null,!1,v)}}else{kf("transaction failed: Data returned ",d,l.path),l.status=Gt.RUN;var m=this.transactionQueueTree_.subTree(e),y=m.getValue()||[];y.push(l),m.setValue(y);var b=void 0;if(typeof d=="object"&&d!==null&&mr(d,".priority"))b=ui(d,".priority"),K(Nf(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var E=this.serverSyncTree_.calcCompleteEventCache(e)||ke.EMPTY_NODE;b=E.getPriority().val()}var T=this.generateServerValues(),A=Nt(d,b),P=y_(A,h,T);l.currentOutputSnapshotRaw=A,l.currentOutputSnapshotResolved=P,l.currentWriteId=this.getNextWriteId_();var M=this.serverSyncTree_.applyUserOverwrite(e,P,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,M),this.sendReadyTransactions_()}},t.prototype.getLatestState_=function(e,n){return this.serverSyncTree_.calcCompleteEventCache(e,n)||ke.EMPTY_NODE},t.prototype.sendReadyTransactions_=function(e){var n=this;if(e===void 0&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),e.getValue()!==null){var r=this.buildTransactionQueue_(e);K(r.length>0,"Sending zero length transaction queue");var i=r.every(function(s){return s.status===Gt.RUN});i&&this.sendTransactionQueue_(e.path(),r)}else e.hasChildren()&&e.forEachChild(function(s){n.sendReadyTransactions_(s)})},t.prototype.sendTransactionQueue_=function(e,n){for(var r=this,i=n.map(function(y){return y.currentWriteId}),s=this.getLatestState_(e,i),a=s,c=s.hash(),l=0;l<n.length;l++){var h=n[l];K(h.status===Gt.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=Gt.SENT,h.retryCount++;var d=ie.relativePath(e,h.path);a=a.updateChild(d,h.currentOutputSnapshotRaw)}var v=a.val(!0),m=e;this.server_.put(m.toString(),v,function(y){r.log_("transaction put response",{path:m.toString(),status:y});var b=[];if(y==="ok"){for(var E=[],T=0;T<n.length;T++){if(n[T].status=Gt.COMPLETED,b=b.concat(r.serverSyncTree_.ackUserWrite(n[T].currentWriteId)),n[T].onComplete){var A=n[T].currentOutputSnapshotResolved,P=new mo(r,n[T].path),M=new os(A,P,lt);E.push(n[T].onComplete.bind(null,null,!0,M))}n[T].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(e)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(e,b);for(var T=0;T<E.length;T++)Uu(E[T])}else{if(y==="datastale")for(var T=0;T<n.length;T++)n[T].status===Gt.SENT_NEEDS_ABORT?n[T].status=Gt.NEEDS_ABORT:n[T].status=Gt.RUN;else{Mn("transaction at "+m.toString()+" failed: "+y);for(var T=0;T<n.length;T++)n[T].status=Gt.NEEDS_ABORT,n[T].abortReason=y}r.rerunTransactions_(e)}},c)},t.prototype.rerunTransactions_=function(e){var n=this.getAncestorTransactionNode_(e),r=n.path(),i=this.buildTransactionQueue_(n);return this.rerunTransactionQueue_(i,r),r},t.prototype.rerunTransactionQueue_=function(e,n){if(e.length!==0){for(var r=[],i=[],s=e.filter(function(j){return j.status===Gt.RUN}),a=s.map(function(j){return j.currentWriteId}),c=0;c<e.length;c++){var l=e[c],h=ie.relativePath(n,l.path),d=!1,v=void 0;if(K(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===Gt.NEEDS_ABORT)d=!0,v=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===Gt.RUN)if(l.retryCount>=B6)d=!0,v="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var m=this.getLatestState_(l.path,a);l.currentInputSnapshot=m;var y=e[c].update(m.val());if(y!==void 0){kf("transaction failed: Data returned ",y,l.path);var b=Nt(y),E=typeof y=="object"&&y!=null&&mr(y,".priority");E||(b=b.updatePriority(m.getPriority()));var T=l.currentWriteId,A=this.generateServerValues(),P=y_(b,m,A);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=P,l.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(T),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,P,l.currentWriteId,l.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(T,!0))}else d=!0,v="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(n,i),i=[],d&&(e[c].status=Gt.COMPLETED,function(j){setTimeout(j,Math.floor(0))}(e[c].unwatcher),e[c].onComplete))if(v==="nodata"){var M=new mo(this,e[c].path),U=e[c].currentInputSnapshot,X=new os(U,M,lt);r.push(e[c].onComplete.bind(null,null,!1,X))}else r.push(e[c].onComplete.bind(null,new Error(v),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var c=0;c<r.length;c++)Uu(r[c]);this.sendReadyTransactions_()}},t.prototype.getAncestorTransactionNode_=function(e){var n,r=this.transactionQueueTree_;for(n=e.getFront();n!==null&&r.getValue()===null;)r=r.subTree(n),e=e.popFront(),n=e.getFront();return r},t.prototype.buildTransactionQueue_=function(e){var n=[];return this.aggregateTransactionQueuesForNode_(e,n),n.sort(function(r,i){return r.order-i.order}),n},t.prototype.aggregateTransactionQueuesForNode_=function(e,n){var r=this,i=e.getValue();if(i!==null)for(var s=0;s<i.length;s++)n.push(i[s]);e.forEachChild(function(a){r.aggregateTransactionQueuesForNode_(a,n)})},t.prototype.pruneCompletedTransactionsBelowNode_=function(e){var n=this,r=e.getValue();if(r){for(var i=0,s=0;s<r.length;s++)r[s].status!==Gt.COMPLETED&&(r[i]=r[s],i++);r.length=i,e.setValue(r.length>0?r:null)}e.forEachChild(function(a){n.pruneCompletedTransactionsBelowNode_(a)})},t.prototype.abortTransactions_=function(e){var n=this,r=this.getAncestorTransactionNode_(e).path(),i=this.transactionQueueTree_.subTree(e);return i.forEachAncestor(function(s){n.abortTransactionsOnNode_(s)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(s){n.abortTransactionsOnNode_(s)}),r},t.prototype.abortTransactionsOnNode_=function(e){var n=e.getValue();if(n!==null){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)if(n[a].status!==Gt.SENT_NEEDS_ABORT){if(n[a].status===Gt.SENT)K(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=Gt.SENT_NEEDS_ABORT,n[a].abortReason="set";else if(K(n[a].status===Gt.RUN,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(n[a].currentWriteId,!0)),n[a].onComplete){var c=null;r.push(n[a].onComplete.bind(null,new Error("set"),!1,c))}}s===-1?e.setValue(null):n.length=s+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),i);for(var a=0;a<r.length;a++)Uu(r[a])}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yx=function(){function t(e){this.indexedFilter_=new Nb(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,s,a){return this.matches(new We(n,r))||(r=ke.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=ke.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(ke.EMPTY_NODE);var s=this;return n.forEachChild(lt,function(a,c){s.matches(new We(a,c))||(i=i.updateImmediateChild(a,ke.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q6=function(){function t(e){this.rangedFilter_=new Yx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,s,a){return this.rangedFilter_.matches(new We(n,r))||(r=ke.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=ke.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ke.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(ke.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(T,A){return m(A,T)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,ke.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(P,M){return c(M,P)}}else a=this.index_.getCompare();var l=e;K(l.numChildren()===this.limit_,"");var h=new We(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var m=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var b=y==null?1:a(y,h),E=v&&!r.isEmpty()&&b>=0;if(E)return s!=null&&s.trackChildChange(xf(n,r,m)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Of(n,m));var T=l.updateImmediateChild(n,ke.EMPTY_NODE),A=y!=null&&this.rangedFilter_.matches(y);return A?(s!=null&&s.trackChildChange(hc(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}else return r.isEmpty()?e:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Of(d.name,d.node)),s.trackChildChange(hc(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,ke.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W6=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:No},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="",n},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(e,n){var r=this.copy_();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r},t.prototype.startAfter=function(e,n){var r;if(this.index_===Vi)typeof e=="string"&&(e=fA(e)),r=this.startAt(e,n);else{var i=void 0;n==null?i=Gi:i=fA(n),r=this.startAt(e,i)}return r.startAfterSet_=!0,r},t.prototype.endAt=function(e,n){var r=this.copy_();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r},t.prototype.endBefore=function(e,n){var r,i;return this.index_===Vi?(typeof e=="string"&&(e=hA(e)),i=this.endAt(e,n)):(n==null?r=No:r=hA(n),i=this.endAt(e,r)),i.endBeforeSet_=!0,i},t.prototype.orderBy=function(e){var n=this.copy_();return n.index_=e,n},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;r===""&&(this.isViewFromLeft()?r=e.VIEW_FROM_LEFT:r=e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==lt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===lt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Nb(this.getIndex()):this.hasLimit()?new q6(this):new Yx(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===lt?r=e.PRIORITY_INDEX:this.index_===Fw?r=e.VALUE_INDEX:this.index_===Vi?r=e.KEY_INDEX:(K(this.index_ instanceof Uw,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=en(r),this.startSet_&&(n[e.START_AT]=en(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+en(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=en(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+en(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mo=function(t){ee(e,t);function e(n,r){var i=this;if(!(n instanceof Rb))throw new Error("new Reference() no longer supported - use app.database().");return i=t.call(this,n,r,new W6,!1)||this,i}return e.prototype.getKey=function(){return Ee("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(n){return Ee("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof ie||(this.path.getFront()===null?IY("Reference.child",1,n,!1):Rf("Reference.child",1,n,!1)),new e(this.repo,this.path.child(n))},e.prototype.getParent=function(){Ee("Reference.parent",0,0,arguments.length);var n=this.path.parent();return n===null?null:new e(this.repo,n)},e.prototype.getRoot=function(){Ee("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(n,r){Ee("Reference.set",1,2,arguments.length),Vr("Reference.set",this.path),Fi("Reference.set",1,n,this.path,!1),dn("Reference.set",2,r,!0);var i=new hr;return this.repo.setWithPriority(this.path,n,null,i.wrapCallback(r)),i.promise},e.prototype.update=function(n,r){if(Ee("Reference.update",1,2,arguments.length),Vr("Reference.update",this.path),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Mn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ex("Reference.update",1,n,this.path,!1),dn("Reference.update",2,r,!0);var a=new hr;return this.repo.update(this.path,n,a.wrapCallback(r)),a.promise},e.prototype.setWithPriority=function(n,r,i){if(Ee("Reference.setWithPriority",2,3,arguments.length),Vr("Reference.setWithPriority",this.path),Fi("Reference.setWithPriority",1,n,this.path,!1),Dw("Reference.setWithPriority",2,r,!1),dn("Reference.setWithPriority",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var s=new hr;return this.repo.setWithPriority(this.path,n,r,s.wrapCallback(i)),s.promise},e.prototype.remove=function(n){return Ee("Reference.remove",0,1,arguments.length),Vr("Reference.remove",this.path),dn("Reference.remove",1,n,!0),this.set(null,n)},e.prototype.transaction=function(n,r,i){if(Ee("Reference.transaction",1,3,arguments.length),Vr("Reference.transaction",this.path),dn("Reference.transaction",1,n,!1),dn("Reference.transaction",2,r,!0),SY("Reference.transaction",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";i===void 0&&(i=!0);var s=new hr;typeof r=="function"&&s.promise.catch(function(){});var a=function(c,l,h){c?s.reject(c):s.resolve(new AY(l,h)),typeof r=="function"&&r(c,l,h)};return this.repo.startTransaction(this.path,n,a,i),s.promise},e.prototype.setPriority=function(n,r){Ee("Reference.setPriority",1,2,arguments.length),Vr("Reference.setPriority",this.path),Dw("Reference.setPriority",1,n,!1),dn("Reference.setPriority",2,r,!0);var i=new hr;return this.repo.setWithPriority(this.path.child(".priority"),n,null,i.wrapCallback(r)),i.promise},e.prototype.push=function(n,r){Ee("Reference.push",0,2,arguments.length),Vr("Reference.push",this.path),Fi("Reference.push",1,n,this.path,!0),dn("Reference.push",2,r,!0);var i=this.repo.serverTime(),s=NY(i),a=this.child(s),c=this.child(s),l;return n!=null?l=a.set(n,r).then(function(){return c}):l=Promise.resolve(c),a.then=l.then.bind(l),a.catch=l.then.bind(l,void 0),typeof r=="function"&&l.catch(function(){}),a},e.prototype.onDisconnect=function(){return Vr("Reference.onDisconnect",this.path),new CY(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Cb);Cb.__referenceConstructor=mo;jw.__referenceConstructor=mo;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H6=function(){function t(e,n){var r=this;this.app_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(i){return r.auth_=i})}return t.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(In("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout(function(){return e(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)}))},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mn(e)},t}(),MA=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G6="FIREBASE_DATABASE_EMULATOR_HOST",A_,Pf=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return A_||(A_=new t),A_},t.prototype.interrupt=function(){var e,n,r,i;try{for(var s=Vt(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Vt(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].interrupt()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,n,r,i;try{for(var s=Vt(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Vt(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].resume()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.applyEmulatorSettings=function(e,n,r){e.repoInfo_=new Ib(n+":"+r,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new MA)},t.prototype.databaseFromApp=function(e,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Ui("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),In("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=Pw(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=process.env[G6]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=Pw(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new MA:new H6(e,n);Tx("Invalid Firebase Database URL",1,a),a.path.isEmpty()||Ui("Database URL must point to the root of a Firebase Database (not including a child path).");var v=this.createRepo(c,e,d);return v.database},t.prototype.deleteRepo=function(e){var n=ui(this.repos_,e.app.name);(!n||ui(n,e.key)!==e)&&Ui("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete n[e.key]},t.prototype.createRepo=function(e,n,r){var i=ui(this.repos_,n.name);i||(i={},this.repos_[n.name]=i);var s=ui(i,e.toURLString());return s&&Ui("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Rb(e,this.useRestClient_,n,r),i[e.toURLString()]=s,s},t.prototype.forceRestClient=function(e){this.useRestClient_=e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ob=function(){function t(e){var n=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return R(n,void 0,void 0,function(){return N(this,function(r){return this.checkDeleted_("delete"),Pf.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},e instanceof Rb||Ui("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new mo(this.repo_,ie.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(e,n){if(this.checkDeleted_("useEmulator"),this.instanceStarted_){Ui("Cannot call useEmulator() after instance has already been initialized.");return}Pf.getInstance().applyEmulatorSettings(this.repoInternal_,e,n)},t.prototype.ref=function(e){return this.checkDeleted_("ref"),Ee("database.ref",0,1,arguments.length),e instanceof mo?this.refFromURL(e.toString()):e!==void 0?this.root_.child(e):this.root_},t.prototype.refFromURL=function(e){var n="database.refFromURL";this.checkDeleted_(n),Ee(n,1,1,arguments.length);var r=Pw(e,this.repo_.repoInfo_.nodeAdmin);Tx(n,1,r);var i=r.repoInfo;return!this.repo_.repoInfo_.isCustomHost()&&i.host!==this.repo_.repoInfo_.host&&Ui(n+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},t.prototype.checkDeleted_=function(e){this.repoInternal_===null&&Ui("Cannot call "+e+" on a deleted database.")},t.prototype.goOffline=function(){Ee("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Ee("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $6=function(){ua.forceDisallow(),kb.forceAllow()},Y6=function(){kb.forceDisallow()},z6=function(){return ua.isAvailable()},K6=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},Q6=function(t,e){t.repo.stats(e)},X6=function(t,e){t.repo.statsIncrementCounter(e)},J6=function(t){return t.repo.dataUpdateCount},Z6=function(t,e){return t.repo.interceptServerData_(e)};function ez(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,s=t.namespace,a=t.nodeAdmin,c=a===void 0?!1:a;Hx(r);var l=new tx("auth-internal",new nx("database-standalone"));return l.setComponent(new yr("auth-internal",function(){return i},"PRIVATE")),{instance:Pf.getInstance().databaseFromApp(e,l,n,c),namespace:s}}var tz=Object.freeze({__proto__:null,forceLongPolling:$6,forceWebSockets:Y6,isWebSocketsAvailable:z6,setSecurityDebugCallback:K6,stats:Q6,statsIncrementCounter:X6,dataUpdateCount:J6,interceptServerData:Z6,initStandalone:ez});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nz=Ea;Ea.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ea.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var rz=Gx,iz=function(t){var e=Ea.prototype.put;return Ea.prototype.put=function(n,r,i,s){s!==void 0&&(s=t()),e.call(this,n,r,i,s)},function(){Ea.prototype.put=e}},oz=Ib,sz=function(t){return t.queryIdentifier()},az=function(t){Pf.getInstance().forceRestClient(t)},uz=Object.freeze({__proto__:null,DataConnection:nz,RealTimeConnection:rz,hijackHash:iz,ConnectionTarget:oz,queryIdentifier:sz,forceRestClient:az}),cz="@firebase/database",lz="0.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fz=Ob.ServerValue;function hz(t){Hx(t.SDK_VERSION),t.INTERNAL.registerComponent(new yr("database",function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return Pf.getInstance().databaseFromApp(r,i,n)},"PUBLIC").setServiceProps({Reference:mo,Query:Cb,Database:Ob,DataSnapshot:os,enableLogging:cx,INTERNAL:tz,ServerValue:fz,TEST_ACCESS:uz}).setMultipleInstances(!0)),t.registerVersion(cz,lz)}hz(ae);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vw=function(t,e){return Vw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vw(t,e)};function dz(t,e){Vw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function zx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var pz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,xb=xb||{},Re=pz||self;function Vp(){}function Bw(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function uh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function vz(t){return Object.prototype.hasOwnProperty.call(t,N_)&&t[N_]||(t[N_]=++gz)}var N_="closure_uid_"+(1e9*Math.random()>>>0),gz=0;function mz(t,e,n){return t.call.apply(t.bind,arguments)}function yz(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ln(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ln=mz:Ln=yz,Ln.apply(null,arguments)}function Bd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Qi(){return Date.now()}function ir(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function ks(){this.j=this.j,this.i=this.i}var _z=0;ks.prototype.j=!1;ks.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),_z!=0)&&vz(this)};ks.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Kx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Qx=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function wz(t){e:{for(var e=cK,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function LA(t){return Array.prototype.concat.apply([],arguments)}function Pb(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Bp(t){return/^[\s\xa0]*$/.test(t)}var FA=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xn(t,e){return t.indexOf(e)!=-1}function k_(t,e){return t<e?-1:t>e?1:0}var Jn;e:{var UA=Re.navigator;if(UA){var jA=UA.userAgent;if(jA){Jn=jA;break e}}Jn=""}function Db(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Xx(t){var e={};for(var n in t)e[n]=t[n];return e}var VA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Jx(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var s=0;s<VA.length;s++)n=VA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mb(t){return Mb[" "](t),t}Mb[" "]=Vp;function bz(t,e){var n=Iz;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Ez=Xn(Jn,"Opera"),Ts=Xn(Jn,"Trident")||Xn(Jn,"MSIE"),Zx=Xn(Jn,"Edge"),qw=Zx||Ts,eP=Xn(Jn,"Gecko")&&!(Xn(Jn.toLowerCase(),"webkit")&&!Xn(Jn,"Edge"))&&!(Xn(Jn,"Trident")||Xn(Jn,"MSIE"))&&!Xn(Jn,"Edge"),Tz=Xn(Jn.toLowerCase(),"webkit")&&!Xn(Jn,"Edge");function tP(){var t=Re.document;return t?t.documentMode:void 0}var qp;e:{var R_="",O_=function(){var t=Jn;if(eP)return/rv:([^\);]+)(\)|;)/.exec(t);if(Zx)return/Edge\/([\d\.]+)/.exec(t);if(Ts)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Tz)return/WebKit\/(\S+)/.exec(t);if(Ez)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(O_&&(R_=O_?O_[1]:""),Ts){var x_=tP();if(x_!=null&&x_>parseFloat(R_)){qp=String(x_);break e}}qp=R_}var Iz={};function nP(t){return bz(t,function(){for(var e=0,n=FA(String(qp)).split("."),r=FA(String(t)).split("."),i=Math.max(n.length,r.length),s=0;e==0&&s<i;s++){var a=n[s]||"",c=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],a[0].length==0&&c[0].length==0)break;e=k_(a[1].length==0?0:parseInt(a[1],10),c[1].length==0?0:parseInt(c[1],10))||k_(a[2].length==0,c[2].length==0)||k_(a[2],c[2]),a=a[3],c=c[3]}while(e==0)}return 0<=e})}var Ww;if(Re.document&&Ts){var BA=tP();Ww=BA||parseInt(qp,10)||void 0}else Ww=void 0;var rP=Ww,Lb=!Ts||9<=Number(rP),Sz=Ts&&!nP("9"),Cz=function(){if(!Re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Re.addEventListener("test",Vp,e),Re.removeEventListener("test",Vp,e)}catch{}return t}();function Fn(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}Fn.prototype.b=function(){this.defaultPrevented=!0};function Df(t,e){if(Fn.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(eP){e:{try{Mb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Az[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ir(Df,Fn);var Az={2:"touch",3:"pen",4:"mouse"};Df.prototype.b=function(){Df.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Sz)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch{}};var ch="closure_listenable_"+(1e6*Math.random()|0),Nz=0;function kz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Nz,this.Y=this.Z=!1}function Yv(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function zv(t){this.src=t,this.a={},this.b=0}zv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.a[s],t||(t=this.a[s]=[],this.b++);var a=Gw(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new kz(e,this.src,s,!!r,i),e.Z=n,t.push(e)),e};function Hw(t,e){var n=e.type;if(n in t.a){var r=t.a[n],i=Kx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Yv(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function Gw(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}var Fb="closure_lm_"+(1e6*Math.random()|0),P_={};function Ub(t,e,n,r,i){if(r&&r.once)return oP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ub(t,e[s],n,r,i);return null}return n=Bb(n),t&&t[ch]?t.va(e,n,uh(r)?!!r.capture:!!r,i):iP(t,e,n,!1,r,i)}function iP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=uh(i)?!!i.capture:!!i;if(a&&!Lb)return null;var c=Vb(t);if(c||(t[Fb]=c=new zv(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=Rz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cz||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(aP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Rz(){var t=Oz,e=Lb?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function oP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oP(t,e[s],n,r,i);return null}return n=Bb(n),t&&t[ch]?t.wa(e,n,uh(r)?!!r.capture:!!r,i):iP(t,e,n,!0,r,i)}function sP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)sP(t,e[s],n,r,i);else r=uh(r)?!!r.capture:!!r,n=Bb(n),t&&t[ch]?(t=t.c,e=String(e).toString(),e in t.a&&(s=t.a[e],n=Gw(s,n,r,i),-1<n&&(Yv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.a[e],t.b--)))):t&&(t=Vb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Gw(e,n,r,i)),(n=-1<t?e[t]:null)&&jb(n))}function jb(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[ch])Hw(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vb(e))?(Hw(n,t),n.b==0&&(n.src=null,e[Fb]=null)):Yv(t)}}}function aP(t){return t in P_?P_[t]:P_[t]="on"+t}function qA(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&jb(t),n.call(r,e)}function Oz(t,e){if(t.Y)return!0;if(!Lb){if(!e)e:{e=["window","event"];for(var n=Re,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new Df(e,this),qA(t,e)}return qA(t,new Df(e,this))}function Vb(t){return t=t[Fb],t instanceof zv?t:null}var D_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bb(t){return typeof t=="function"?t:(t[D_]||(t[D_]=function(e){return t.handleEvent(e)}),t[D_])}function xr(){ks.call(this),this.c=new zv(this),this.J=this,this.C=null}ir(xr,ks);xr.prototype[ch]=!0;he=xr.prototype;he.addEventListener=function(t,e,n,r){Ub(this,t,e,n,r)};he.removeEventListener=function(t,e,n,r){sP(this,t,e,n,r)};function Cn(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,typeof e=="string")e=new Fn(e,t);else if(e instanceof Fn)e.target=e.target||t;else{var i=e;e=new Fn(r,t),Jx(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.a=n[s];i=qd(a,r,!0,e)&&i}if(a=e.a=t,i=qd(a,r,!0,e)&&i,i=qd(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.a=n[s],i=qd(a,r,!1,e)&&i}he.G=function(){if(xr.X.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Yv(n[r]);delete t.a[e],t.b--}}this.C=null};he.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};he.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function qd(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.Y&&a.capture==n){var c=a.listener,l=a.ca||a.src;a.Z&&Hw(t.c,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var qb=Re.JSON.stringify;function uP(){this.b=this.a=null}var cP=new(function(){function t(e,n){this.c=e,this.f=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new Wb},function(t){t.reset()});uP.prototype.add=function(t,e){var n=cP.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function xz(){var t=fP,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Wb(){this.next=this.b=this.a=null}Wb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};Wb.prototype.reset=function(){this.next=this.b=this.a=null};function Pz(t){Re.setTimeout(function(){throw t},0)}function lP(t,e){$w||Dz(),Yw||($w(),Yw=!0),fP.add(t,e)}var $w;function Dz(){var t=Re.Promise.resolve(void 0);$w=function(){t.then(Mz)}}var Yw=!1,fP=new uP;function Mz(){for(var t;t=xz();){try{t.a.call(t.b)}catch(n){Pz(n)}var e=cP;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Yw=!1}function Kv(t,e){xr.call(this),this.b=t||1,this.a=e||Re,this.f=Ln(this.Za,this),this.g=Qi()}ir(Kv,xr);he=Kv.prototype;he.aa=!1;he.M=null;he.Za=function(){if(this.aa){var t=Qi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Cn(this,"tick"),this.aa&&(Hb(this),this.start()))}};he.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Qi())};function Hb(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}he.G=function(){Kv.X.G.call(this),Hb(this),delete this.a};function Gb(t,e,n){if(typeof t=="function")n&&(t=Ln(t,n));else if(t&&typeof t.handleEvent=="function")t=Ln(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Re.setTimeout(t,e||0)}function hP(t){t.a=Gb(function(){t.a=null,t.c&&(t.c=!1,hP(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var Lz=function(t){dz(e,t);function e(n,r){var i=t.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:hP(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Re.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ks);function Mf(t){ks.call(this),this.b=t,this.a={}}ir(Mf,ks);var WA=[];function dP(t,e,n,r){Array.isArray(n)||(n&&(WA[0]=n.toString()),n=WA);for(var i=0;i<n.length;i++){var s=Ub(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function pP(t){Db(t.a,function(e,n){this.a.hasOwnProperty(n)&&jb(e)},t),t.a={}}Mf.prototype.G=function(){Mf.X.G.call(this),pP(this)};Mf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $b(){this.a=!0}function Fz(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function Uz(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function ju(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Vz(t,n)+(r?" "+r:"")})}function jz(t,e){t.info(function(){return"TIMEOUT: "+e})}$b.prototype.info=function(){};function Vz(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return qb(n)}catch{return e}}var Wa={},HA=null;function Qv(){return HA=HA||new xr}Wa.Fa="serverreachability";function vP(t){Fn.call(this,Wa.Fa,t)}ir(vP,Fn);function Lf(t){var e=Qv();Cn(e,new vP(e))}Wa.STAT_EVENT="statevent";function gP(t,e){Fn.call(this,Wa.STAT_EVENT,t),this.stat=e}ir(gP,Fn);function Zn(t){var e=Qv();Cn(e,new gP(e,t))}Wa.Ga="timingevent";function mP(t){Fn.call(this,Wa.Ga,t)}ir(mP,Fn);function lh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Re.setTimeout(function(){t()},e)}var Xv={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},yP={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function _P(){}_P.prototype.a=null;function GA(t){var e;return(e=t.a)||(e=t.a={}),e}function wP(){}var fh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Yb(){Fn.call(this,"d")}ir(Yb,Fn);function zb(){Fn.call(this,"c")}ir(zb,Fn);var bP;function EP(){}ir(EP,_P);bP=new EP;function hh(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Mf(this),this.P=Bz,t=qw?125:void 0,this.R=new Kv(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var Bz=45e3,TP={},zw={};he=hh.prototype;he.setTimeout=function(t){this.P=t};function Kw(t,e,n){t.H=1,t.i=Zv(ko(e)),t.j=n,t.I=!0,IP(t,null)}function IP(t,e){t.u=Qi(),dh(t),t.l=ko(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),RP(n.b,"t",r),t.D=0,t.a=zP(t.g,t.g.C?e:null),0<t.O&&(t.F=new Lz(Ln(t.Ca,t,t.a),t.O)),dP(t.J,t.a,"readystatechange",t.Xa),e=t.B?Xx(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Lf(),Fz(t.c,t.m,t.l,t.f,t.S,t.j)}he.Xa=function(t){t=t.target;var e=this.F;e&&hs(t)==3?e.f():this.Ca(t)};he.Ca=function(t){try{if(t==this.a)e:{var e=hs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||e==3&&!qw&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?Lf(3):Lf(2)),Jv(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,Uz(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,c=this.a;if((a=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bp(a)){var l=a;break t}}l=null}if(l)ju(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Qw(this,l);else{this.b=!1,this.h=3,Zn(12),Xu(this),Wp(this);break e}}this.I?(SP(this,e,s),qw&&this.b&&e==3&&(dP(this.J,this.R,"tick",this.Wa),this.R.start())):(ju(this.c,this.f,s,null),Qw(this,s)),e==4&&Xu(this),this.b&&!this.A&&(e==4?HP(this.g,this):(this.b=!1,dh(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,Zn(12)):(this.h=0,Zn(13)),Xu(this),Wp(this)}}}catch{}finally{}};function SP(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=qz(t,n);if(i==zw){e==4&&(t.h=4,Zn(14),r=!1),ju(t.c,t.f,null,"[Incomplete Response]");break}else if(i==TP){t.h=4,Zn(15),ju(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else ju(t.c,t.f,i,null),Qw(t,i)}e==4&&n.length==0&&(t.h=1,Zn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),nE(e),e.F=!0,Zn(11))):(ju(t.c,t.f,n,"[Invalid Chunked Response]"),Xu(t),Wp(t))}he.Wa=function(){if(this.a){var t=hs(this.a),e=this.a.$();this.D<e.length&&(Jv(this),SP(this,t,e),this.b&&t!=4&&dh(this))}};function qz(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?zw:(n=Number(e.substring(n,r)),isNaN(n)?TP:(r+=1,r+n>e.length?zw:(e=e.substr(r,n),t.D=r+n,e)))}he.cancel=function(){this.A=!0,Xu(this)};function dh(t){t.T=Qi()+t.P,CP(t,t.P)}function CP(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=lh(Ln(t.Va,t),e)}function Jv(t){t.o&&(Re.clearTimeout(t.o),t.o=null)}he.Va=function(){this.o=null;var t=Qi();0<=t-this.T?(jz(this.c,this.l),this.H!=2&&(Lf(),Zn(17)),Xu(this),this.h=2,Wp(this)):CP(this,this.T-t)};function Wp(t){t.g.v==0||t.A||HP(t.g,t)}function Xu(t){Jv(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,Hb(t.R),pP(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Qw(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||Xw(n.b,t))){if(n.I=t.N,!t.C&&Xw(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)Yp(n),tg(n);else break e;tE(n),Zn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=lh(Ln(n.Sa,n),6e3));if(1>=PP(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else da(n,11)}else if((t.C||n.a==t)&&Yp(n),!Bp(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var c=i[5];if(c!=null&&typeof c=="number"&&0<c){var l=1.5*c;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var h=t.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=l.b;!v.a&&(Xn(d,"spdy")||Xn(d,"quic")||Xn(d,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&(Xb(v,v.b),v.b=null))}if(l.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(l.na=m,It(l.B,l.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Qi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),l=n;var y=t;if(l.la=YP(l,l.C?l.ga:null,l.fa),y.C){DP(l.b,y);var b=y,E=l.D;E&&b.setTimeout(E),b.o&&(Jv(b),dh(b)),l.a=y}else qP(l);0<n.g.length&&ng(n)}else i[0]!="stop"&&i[0]!="close"||da(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?da(n,7):eE(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Lf(4)}catch{}}function Wz(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(Bw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function Kb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Bw(t)||typeof t=="string")Qx(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(Bw(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Wz(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function jc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof jc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}he=jc.prototype;he.K=function(){Qb(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};he.L=function(){return Qb(this),this.a.concat()};function Qb(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ra(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Ra(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}he.get=function(t,e){return Ra(this.b,t)?this.b[t]:e};he.set=function(t,e){Ra(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};he.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Ra(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var AP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Oa(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Oa){this.a=e!==void 0?e:t.a,Hp(this,t.f),this.j=t.j,Gp(this,t.c),$p(this,t.h),this.g=t.g,e=t.b;var n=new Ff;n.c=e.c,e.a&&(n.a=new jc(e.a),n.b=e.b),$A(this,n),this.i=t.i}else t&&(n=String(t).match(AP))?(this.a=!!e,Hp(this,n[1]||"",!0),this.j=uf(n[2]||""),Gp(this,n[3]||"",!0),$p(this,n[4]),this.g=uf(n[5]||"",!0),$A(this,n[6]||"",!0),this.i=uf(n[7]||"")):(this.a=!!e,this.b=new Ff(null,this.a))}Oa.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Jl(e,YA,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(Jl(e,YA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(Jl(n,n.charAt(0)=="/"?Kz:zz,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Jl(n,Xz)),t.join("")};function ko(t){return new Oa(t)}function Hp(t,e,n){t.f=n?uf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Gp(t,e,n){t.c=n?uf(e,!0):e}function $p(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function $A(t,e,n){e instanceof Ff?(t.b=e,Jz(t.b,t.a)):(n||(e=Jl(e,Qz)),t.b=new Ff(e,t.a))}function It(t,e,n){t.b.set(e,n)}function Zv(t){return It(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Qi()).toString(36)),t}function Gz(t){return t instanceof Oa?ko(t):new Oa(t,void 0)}function $z(t,e,n,r){var i=new Oa(null,void 0);return t&&Hp(i,t),e&&Gp(i,e),n&&$p(i,n),r&&(i.g=r),i}function uf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Jl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Yz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Yz(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var YA=/[#\/\?@]/g,zz=/[#\?:]/g,Kz=/[#\?]/g,Qz=/[#\?@]/g,Xz=/#/g;function Ff(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rs(t){t.a||(t.a=new jc,t.b=0,t.c&&Hz(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}he=Ff.prototype;he.add=function(t,e){Rs(this),this.c=null,t=Vc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function NP(t,e){Rs(t),e=Vc(t,e),Ra(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Ra(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Qb(t)))}function kP(t,e){return Rs(t),e=Vc(t,e),Ra(t.a.b,e)}he.forEach=function(t,e){Rs(this),this.a.forEach(function(n,r){Qx(n,function(i){t.call(e,i,r,this)},this)},this)};he.L=function(){Rs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};he.K=function(t){Rs(this);var e=[];if(typeof t=="string")kP(this,t)&&(e=LA(e,this.a.get(Vc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=LA(e,t[n])}return e};he.set=function(t,e){return Rs(this),this.c=null,t=Vc(this,t),kP(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};he.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function RP(t,e,n){NP(t,e),0<n.length&&(t.c=null,t.a.set(Vc(t,e),Pb(n)),t.b+=n.length)}he.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),t.push(a)}}return this.c=t.join("&")};function Vc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Jz(t,e){e&&!t.f&&(Rs(t),t.c=null,t.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(NP(this,r),RP(this,i,n))},t)),t.f=e}var Zz=function(){function t(e,n){this.b=e,this.a=n}return t}();function OP(t){this.g=t||eK,Re.PerformanceNavigationTiming?(t=Re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Re.ia&&Re.ia.ya&&Re.ia.ya()&&Re.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var eK=10;function xP(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function PP(t){return t.b?1:t.a?t.a.size:0}function Xw(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function Xb(t,e){t.a?t.a.add(e):t.b=e}function DP(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}OP.prototype.cancel=function(){var t,e;if(this.c=MP(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=zx(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function MP(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var i=zx(t.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Pb(t.c)}function Jb(){}Jb.prototype.stringify=function(t){return Re.JSON.stringify(t,void 0)};Jb.prototype.parse=function(t){return Re.JSON.parse(t,void 0)};function tK(){this.a=new Jb}function nK(t,e,n){var r=n||"";try{Kb(t,function(i,s){var a=i;uh(i)&&(a=qb(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function rK(t,e){var n=new $b;if(Re.Image){var r=new Image;r.onload=Bd(Wd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bd(Wd,n,r,"TestLoadImage: error",!1,e),r.onabort=Bd(Wd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bd(Wd,n,r,"TestLoadImage: timeout",!1,e),Re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}var iK=Re.JSON.parse;function an(t){xr.call(this),this.headers=new jc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=oK,this.D=this.F=!1}ir(an,xr);var oK="",sK=/^https?$/i,aK=["POST","PUT"];he=an.prototype;he.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?GA(this.H):GA(bP),this.a.onreadystatechange=Ln(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){zA(this,s);return}t=n||"";var i=new jc(this.headers);r&&Kb(r,function(s,a){i.set(a,s)}),r=wz(i.L()),n=Re.FormData&&t instanceof Re.FormData,!(0<=Kx(aK,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{UP(this),0<this.o&&((this.D=uK(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ln(this.xa,this)):this.m=Gb(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){zA(this,s)}};function uK(t){return Ts&&nP(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function cK(t){return t.toLowerCase()=="content-type"}he.xa=function(){typeof xb<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Cn(this,"timeout"),this.abort(8))};function zA(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,LP(t),eg(t)}function LP(t){t.u||(t.u=!0,Cn(t,"complete"),Cn(t,"error"))}he.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Cn(this,"complete"),Cn(this,"abort"),eg(this))};he.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),eg(this,!0)),an.X.G.call(this)};he.za=function(){this.j||(this.A||this.l||this.g?FP(this):this.Ua())};he.Ua=function(){FP(this)};function FP(t){if(t.b&&typeof xb<"u"&&(!t.s[1]||hs(t)!=4||t.W()!=2)){if(t.l&&hs(t)==4)Gb(t.za,0,t);else if(Cn(t,"readystatechange"),hs(t)==4){t.b=!1;try{{var e=t.W();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var s=String(t.B).match(AP)[1]||null;if(!s&&Re.self&&Re.self.location){var a=Re.self.location.protocol;s=a.substr(0,a.length-1)}i=!sK.test(s?s.toLowerCase():"")}r=i}var c=r}if(c)Cn(t,"complete"),Cn(t,"success");else{t.h=6;try{var l=2<hs(t)?t.a.statusText:""}catch{l=""}t.f=l+" ["+t.W()+"]",LP(t)}}finally{eg(t)}}}}function eg(t,e){if(t.a){UP(t);var n=t.a,r=t.s[0]?Vp:null;t.a=null,t.s=null,e||Cn(t,"ready");try{n.onreadystatechange=r}catch{}}}function UP(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Re.clearTimeout(t.m),t.m=null)}function hs(t){return t.a?t.a.readyState:0}he.W=function(){try{return 2<hs(this)?this.a.status:-1}catch{return-1}};he.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};he.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),iK(e)}};he.ua=function(){return this.h};he.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function lK(t){var e="";return Db(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Zb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lK(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):It(t,e,n))}function Hl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jP(t){this.pa=0,this.g=[],this.c=new $b,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Hl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Hl("baseRetryDelayMs",5e3,t),this.Ra=Hl("retryDelaySeedMs",1e4,t),this.Ma=Hl("forwardChannelMaxRetries",2,t),this.ma=Hl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new OP(t&&t.concurrentRequestLimit),this.ka=new tK,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}he=jP.prototype;he.ha=8;he.v=1;function eE(t){if(VP(t),t.v==3){var e=t.R++,n=ko(t.B);It(n,"SID",t.J),It(n,"RID",e),It(n,"TYPE","terminate"),ph(t,n),e=new hh(t,t.c,e,void 0),e.H=2,e.i=Zv(ko(n)),n=!1,Re.navigator&&Re.navigator.sendBeacon&&(n=Re.navigator.sendBeacon(e.i.toString(),"")),!n&&Re.Image&&(new Image().src=e.i,n=!0),n||(e.a=zP(e.g,null),e.a.ba(e.i)),e.u=Qi(),dh(e)}$P(t)}function tg(t){t.a&&(nE(t),t.a.cancel(),t.a=null)}function VP(t){tg(t),t.j&&(Re.clearTimeout(t.j),t.j=null),Yp(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&Re.clearTimeout(t.h),t.h=null)}function M_(t,e){t.g.push(new Zz(t.Oa++,e)),t.v==3&&ng(t)}function ng(t){xP(t.b)||t.h||(t.h=!0,lP(t.Ba,t),t.u=0)}function fK(t,e){return PP(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.La?0:t.Ma)?!1:(t.h=lh(Ln(t.Ba,t,e),GP(t,t.u)),t.u++,!0)}he.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new hh(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=Xx(n),Jx(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=BP(this,e,r),i=ko(this.B),It(i,"RID",t),It(i,"CVER",22),this.A&&It(i,"X-HTTP-Session-Id",this.A),ph(this,i),this.i&&n&&Zb(i,this.i,n),Xb(this.b,e),this.Ia&&It(i,"TYPE","init"),this.da?(It(i,"$req",r),It(i,"SID","null"),e.U=!0,Kw(e,i,null)):Kw(e,i,r),this.v=2}}else this.v==3&&(t?KA(this,t):this.g.length==0||xP(this.b)||KA(this))};function KA(t,e){var n;e?n=e.f:n=t.R++;var r=ko(t.B);It(r,"SID",t.J),It(r,"RID",n),It(r,"AID",t.P),ph(t,r),t.i&&t.l&&Zb(r,t.i,t.l),n=new hh(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=BP(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Xb(t.b,n),Kw(n,r,e)}function ph(t,e){t.f&&Kb({},function(n,r){It(e,r,n)})}function BP(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ln(t.f.Ja,t.f,t):null;e:for(var i=t.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].b,d=i[l].a;if(h-=s,0>h)s=Math.max(0,i[l].b-100),c=!1;else try{nK(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function qP(t){t.a||t.j||(t.T=1,lP(t.Aa,t),t.o=0)}function tE(t){return t.a||t.j||3<=t.o?!1:(t.T++,t.j=lh(Ln(t.Aa,t),GP(t,t.o)),t.o++,!0)}he.Aa=function(){if(this.j=null,WP(this),this.U&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=lh(Ln(this.Ta,this),t)}};he.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Zn(10),tg(this),WP(this))};function nE(t){t.s!=null&&(Re.clearTimeout(t.s),t.s=null)}function WP(t){t.a=new hh(t,t.c,"rpc",t.T),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=ko(t.la);It(e,"RID","rpc"),It(e,"SID",t.J),It(e,"CI",t.H?"0":"1"),It(e,"AID",t.P),ph(t,e),It(e,"TYPE","xmlhttp"),t.i&&t.l&&Zb(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zv(ko(e)),n.j=null,n.I=!0,IP(n,t)}he.Sa=function(){this.m!=null&&(this.m=null,tg(this),tE(this),Zn(19))};function Yp(t){t.m!=null&&(Re.clearTimeout(t.m),t.m=null)}function HP(t,e){var n=null;if(t.a==e){Yp(t),nE(t),t.a=null;var r=2}else if(Xw(t.b,e))n=e.s,DP(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=Qi()-e.u;var i=t.u;r=Qv(),Cn(r,new mP(r)),ng(t)}else qP(t);else if(i=e.h,i==3||i==0&&0<t.I||!(r==1&&fK(t,e)||r==2&&tE(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:da(t,5);break;case 4:da(t,10);break;case 3:da(t,6);break;default:da(t,2)}}}function GP(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function da(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=Ln(t.Ya,t);n||(n=new Oa("//www.google.com/images/cleardot.gif"),Re.location&&Re.location.protocol=="http"||Hp(n,"https"),Zv(n)),rK(n.toString(),r)}else Zn(2);t.v=0,t.f&&t.f.ra(e),$P(t),VP(t)}he.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Zn(2)):(this.c.info("Failed to ping google.com"),Zn(1))};function $P(t){t.v=0,t.I=-1,t.f&&((MP(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,Pb(t.g),t.g.length=0),t.f.qa())}function YP(t,e,n){var r=Gz(n);if(r.c!="")e&&Gp(r,e+"."+r.c),$p(r,r.h);else{var i=Re.location;r=$z(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Db(t.V,function(s,a){It(r,a,s)}),e=t.A,n=t.na,e&&n&&It(r,e,n),It(r,"VER",t.ha),ph(t,r),r}function zP(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new an(t.Na),e.F=t.C,e}function KP(){}he=KP.prototype;he.ta=function(){};he.sa=function(){};he.ra=function(){};he.qa=function(){};he.Ja=function(){};function zp(){if(Ts&&!(10<=Number(rP)))throw Error("Environmental error: no available transport.")}zp.prototype.a=function(t,e){return new Pr(t,e)};function Pr(t,e){xr.call(this),this.a=new jP(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bp(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bp(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Bc(this)}ir(Pr,xr);Pr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Zn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=YP(t,null,t.fa),ng(t)};Pr.prototype.close=function(){eE(this.a)};Pr.prototype.h=function(t){if(typeof t=="string"){var e={};e.__data__=t,M_(this.a,e)}else this.l?(e={},e.__data__=qb(t),M_(this.a,e)):M_(this.a,t)};Pr.prototype.G=function(){this.a.f=null,delete this.f,eE(this.a),delete this.a,Pr.X.G.call(this)};function QP(t){Yb.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}ir(QP,Yb);function XP(){zb.call(this),this.status=1}ir(XP,zb);function Bc(t){this.a=t}ir(Bc,KP);Bc.prototype.ta=function(){Cn(this.a,"a")};Bc.prototype.sa=function(t){Cn(this.a,new QP(t))};Bc.prototype.ra=function(t){Cn(this.a,new XP)};Bc.prototype.qa=function(){Cn(this.a,"b")};zp.prototype.createWebChannel=zp.prototype.a;Pr.prototype.send=Pr.prototype.h;Pr.prototype.open=Pr.prototype.g;Pr.prototype.close=Pr.prototype.close;Xv.NO_ERROR=0;Xv.TIMEOUT=8;Xv.HTTP_ERROR=6;yP.COMPLETE="complete";wP.EventType=fh;fh.OPEN="a";fh.CLOSE="b";fh.ERROR="c";fh.MESSAGE="d";xr.prototype.listen=xr.prototype.va;an.prototype.listenOnce=an.prototype.wa;an.prototype.getLastError=an.prototype.Qa;an.prototype.getLastErrorCode=an.prototype.ua;an.prototype.getStatus=an.prototype.W;an.prototype.getResponseJson=an.prototype.Pa;an.prototype.getResponseText=an.prototype.$;an.prototype.send=an.prototype.ba;var hK=function(){return new zp},dK=function(){return Qv()},L_=Xv,pK=yP,vK=Wa,QA={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Hd=wP,gK=an;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mK=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Kp=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),pi=new Uc("@firebase/firestore");function Jw(){return pi.logLevel}function J(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pi.logLevel<=Le.DEBUG){var r=e.map(rE);pi.debug.apply(pi,qt(["Firestore (8.2.7): "+t],r))}}function zt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pi.logLevel<=Le.ERROR){var r=e.map(rE);pi.error.apply(pi,qt(["Firestore (8.2.7): "+t],r))}}function Qp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(pi.logLevel<=Le.WARN){var r=e.map(rE);pi.warn.apply(pi,qt(["Firestore (8.2.7): "+t],r))}}function rE(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+t;throw zt(e),new Error(e)}function Te(t,e){t||fe()}function te(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yK(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JP=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=yK(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length));return r},t}();function qe(t,e){return t<e?-1:t>e?1:0}function dc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function ZP(t){return t+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr=function(){function t(e){this.h=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.h,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(e){return qe(this.h,e.h)},t.prototype.isEqual=function(e){return this.h===e.h},t}();tr.T=new tr("");var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ee(e,t),e}(Error),xa=function(){function t(e){this.I=e}return t.fromBase64String=function(e){try{return new t(tr.fromBase64String(e))}catch(n){throw new G(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(tr.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this.I.isEqual(e.I)},t}(),Cr=function(){function t(e){this.uid=e}return t.prototype.m=function(){return this.uid!=null},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();Cr.UNAUTHENTICATED=new Cr(null),Cr.R=new Cr("google-credentials-uid"),Cr.P=new Cr("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _K=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},XA=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(e){this.V=e,e(Cr.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),wK=function(){function t(e){var n=this;this.D=null,this.currentUser=Cr.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),e.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return t.prototype.getToken=function(){var e=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.N!==n?(J("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Te(typeof i.accessToken=="string"),new _K(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(e){this.V=e,this.C&&e(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Cr(e)},t}(),bK=function(){function t(e,n){this.F=e,this.O=n,this.type="FirstParty",this.user=Cr.P}return Object.defineProperty(t.prototype,"g",{get:function(){var e={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),e},enumerable:!1,configurable:!0}),t}(),EK=function(){function t(e,n){this.F=e,this.O=n}return t.prototype.getToken=function(){return Promise.resolve(new bK(this.F,this.O))},t.prototype.v=function(e){e(Cr.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),kr=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return t.prototype.M=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.L&&this.L(e),e},t}();kr.q=-1;var pr=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Ue=function(){function t(e){this.timestamp=e}return t.K=function(e){return new t(e)},t.min=function(){return new t(new pr(0,0))},t.prototype._=function(e){return this.timestamp.U(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),eD=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.G=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.H(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(e){return e=e===void 0?1:e,this.J(this.segments,this.offset+e,this.length-e)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.et=function(){return this.length===0},t.prototype.nt=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.st=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Ze=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.J=function(n,r,i){return new e(n,r,i)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new e(i)},e.ct=function(){return new e([])},e}(eD),TK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_i=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.J=function(n,r,i){return new e(n,r,i)},e.at=function(n){return TK.test(n)},e.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},e.ht=function(){return new e(["__name__"])},e.lt=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new G(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new G(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.ct=function(){return new e([])},e}(eD),ve=function(){function t(e){this.path=e}return t._t=function(e){return new t(Ze.ot(e))},t.ft=function(e){return new t(Ze.ot(e).Y(5))},t.prototype.dt=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Ze.H(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.H=function(e,n){return Ze.H(e.path,n.path)},t.wt=function(e){return e.length%2==0},t.Et=function(e){return new t(new Ze(e.slice()))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tD(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pc=function(){function t(e){this.fields=e,e.sort(_i.H)}return t.prototype.Tt=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(e))return!0;return!1},t.prototype.isEqual=function(e){return dc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),IK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){if(Te(!!t),typeof t=="string"){var e=0,n=IK.exec(t);if(Te(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vc(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nD(t){var e=t.mapValue.fields.__previous_value__;return iE(e)?nD(e):e}function Uf(t){var e=Is(t.mapValue.fields.__local_write_time__.timestampValue);return new pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){return t==null}function Xp(t){return t===0&&1/t==-1/0}function rD(t){return typeof t=="number"&&Number.isInteger(t)&&!Xp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iE(t)?4:10:fe()}function $i(t,e){var n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uf(t).isEqual(Uf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Is(r.timestampValue),a=Is(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return vc(r.bytesValue).isEqual(vc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Yt(r.geoPointValue.latitude)===Yt(i.geoPointValue.latitude)&&Yt(r.geoPointValue.longitude)===Yt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Yt(r.integerValue)===Yt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Yt(r.doubleValue),a=Yt(i.doubleValue);return s===a?Xp(s)===Xp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(JA(s)!==JA(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!$i(s[c],a[c])))return!1;return!0}(t,e);default:return fe()}}function jf(t,e){return(t.values||[]).find(function(n){return $i(n,e)})!==void 0}function gc(t,e){var n=Ss(t),r=Ss(e);if(n!==r)return qe(n,r);switch(n){case 0:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(i,s){var a=Yt(i.integerValue||i.doubleValue),c=Yt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return ZA(t.timestampValue,e.timestampValue);case 4:return ZA(Uf(t),Uf(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(i,s){var a=vc(i),c=vc(s);return a._(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=qe(a[l],c[l]);if(h!==0)return h}return qe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){var a=qe(Yt(i.latitude),Yt(s.latitude));return a!==0?a:qe(Yt(i.longitude),Yt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=gc(a[l],c[l]);if(h)return h}return qe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=qe(c[d],h[d]);if(v!==0)return v;var m=gc(a[c[d]],l[h[d]]);if(m!==0)return m}return qe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw fe()}}function ZA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);var n=Is(t),r=Is(e),i=qe(n.seconds,r.seconds);return i!==0?i:qe(n.nanos,r.nanos)}function oE(t){return Zw(t)}function Zw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=Is(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ve.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=Zw(c[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+Zw(r.fields[l])}return i+"}"}(t.mapValue):fe();var e,n}function Jp(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function e0(t){return!!t&&"integerValue"in t}function sE(t){return!!t&&"arrayValue"in t}function eN(t){return!!t&&"nullValue"in t}function tN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function aE(t){return!!t&&"mapValue"in t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs=function(){function t(e){this.proto=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.et())return this.proto;for(var n=this.proto,r=0;r<e.length-1;++r)if(!n.mapValue.fields||!aE(n=n.mapValue.fields[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.tt()])||null},t.prototype.isEqual=function(e){return $i(this.proto,e.proto)},t}(),gh=function(){function t(e){e===void 0&&(e=Cs.empty()),this.It=e,this.At=new Map}return t.prototype.set=function(e,n){return this.Rt(e,n),this},t.prototype.delete=function(e){return this.Rt(e,null),this},t.prototype.Rt=function(e,n){for(var r=this.At,i=0;i<e.length-1;++i){var s=e.get(i),a=r.get(s);a instanceof Map?r=a:a&&Ss(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(e.tt(),n)},t.prototype.Pt=function(){var e=this.yt(_i.ct(),this.At);return e!=null?new Cs(e):this.It},t.prototype.yt=function(e,n){var r=this,i=!1,s=this.It.field(e),a=aE(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,l){if(c instanceof Map){var h=r.yt(e.child(l),c);h!=null&&(a[l]=h,i=!0)}else c!==null?(a[l]=c,i=!0):a.hasOwnProperty(l)&&(delete a[l],i=!0)}),i?{mapValue:{fields:a}}:null},t}();function iD(t){var e=[];return vh(t.fields||{},function(n,r){var i=new _i([n]);if(aE(r)){var s=iD(r.mapValue).fields;if(s.length===0)e.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];e.push(i.child(l))}}else e.push(i)}),new pc(e)}var uE=function(t,e){this.key=t,this.version=e},ft=function(t){function e(n,r,i,s){var a=this;return(a=t.call(this,n,r)||this).gt=i,a.Vt=!!s.Vt,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return ee(e,t),e.prototype.field=function(n){return this.gt.field(n)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(uE),on=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return ee(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(uE),cE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(uE),SK=function(t,e,n,r,i,s,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.vt=null};function nN(t,e,n,r,i,s,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new SK(t,e,n,r,i,s,a)}function mh(t){var e=te(t);if(e.vt===null){var n=e.path.rt();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+oE(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),Ha(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ev(e.startAt)),e.endAt&&(n+="|ub:",n+=ev(e.endAt)),e.vt=n}return e.vt}function rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!PK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],s=e.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!$i(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iN(t.startAt,e.startAt)&&iN(t.endAt,e.endAt)}function Zp(t){return ve.wt(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Rr=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).field=n,s.op=r,s.value=i,s}return ee(e,t),e.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new CK(n,r,i):r==="array-contains"?new kK(n,i):r==="in"?new RK(n,i):r==="not-in"?new OK(n,i):r==="array-contains-any"?new xK(n,i):new e(n,r,i)},e.St=function(n,r,i){return r==="in"?new AK(n,i):new NK(n,i)},e.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(gc(r,this.value)):r!==null&&Ss(this.value)===Ss(r)&&this.Dt(gc(r,this.value))},e.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return fe()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),CK=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,i)||this).key=ve.ft(i.referenceValue),s}return ee(e,t),e.prototype.matches=function(n){var r=ve.H(n.key,this.key);return this.Dt(r)},e}(Rr),AK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=oD("in",r),i}return ee(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(Rr),NK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=oD("not-in",r),i}return ee(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(Rr);function oD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ve.ft(r.referenceValue)})}var kK=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return sE(r)&&jf(r.arrayValue,this.value)},e}(Rr),RK=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&jf(this.value.arrayValue,r)},e}(Rr),OK=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return ee(e,t),e.prototype.matches=function(n){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!jf(this.value.arrayValue,r)},e}(Rr),xK=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!sE(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return jf(r.value.arrayValue,s)})},e}(Rr),Vf=function(t,e){this.position=t,this.before=e};function ev(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return oE(e)}).join(",")}var Ju=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function PK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function rN(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],a=t.position[i];if(r=s.field.ut()?ve.H(ve.ft(a.referenceValue),n.key):gc(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function iN(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo=function(t,e,n,r,i,s,a,c){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.Nt=null,this.$t=null,this.startAt,this.endAt};function sD(t,e,n,r,i,s,a,c){return new Fo(t,e,n,r,i,s,a,c)}function qc(t){return new Fo(t)}function hp(t){return!Ha(t.limit)&&t.limitType==="F"}function tv(t){return!Ha(t.limit)&&t.limitType==="L"}function lE(t){return t.xt.length>0?t.xt[0].field:null}function fE(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function hE(t){return t.collectionGroup!==null}function mc(t){var e=te(t);if(e.Nt===null){e.Nt=[];var n=fE(e),r=lE(e);if(n!==null&&r===null)n.ut()||e.Nt.push(new Ju(n)),e.Nt.push(new Ju(_i.ht(),"asc"));else{for(var i=!1,s=0,a=e.xt;s<a.length;s++){var c=a[s];e.Nt.push(c),c.field.ut()&&(i=!0)}if(!i){var l=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Ju(_i.ht(),l))}}}return e.Nt}function $r(t){var e=te(t);if(!e.$t)if(e.limitType==="F")e.$t=nN(e.path,e.collectionGroup,mc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=mc(e);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Ju(s.field,a))}var c=e.endAt?new Vf(e.endAt.position,!e.endAt.before):null,l=e.startAt?new Vf(e.startAt.position,!e.startAt.before):null;e.$t=nN(e.path,e.collectionGroup,n,e.filters,e.limit,c,l)}return e.$t}function aD(t,e,n){return new Fo(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return rg($r(t),$r(e))&&t.limitType===e.limitType}function uD(t){return mh($r(t))+"|lt:"+t.limitType}function t0(t){return"Query(target="+function(e){var n=e.path.rt();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+oE(i.value);var i}).join(", ")+"]"),Ha(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+ev(e.startAt)),e.endAt&&(n+=", endAt: "+ev(e.endAt)),"Target("+n+")"}($r(t))+"; limitType="+t.limitType+")"}function _h(t,e){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):ve.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(t,e)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var a=s[i];if(!a.field.ut()&&r.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!rN(n.startAt,mc(n),r))&&(!n.endAt||!rN(n.endAt,mc(n),r))}(t,e)}function cD(t){return function(e,n){for(var r=!1,i=0,s=mc(t);i<s.length;i++){var a=s[i],c=DK(a,e,n);if(c!==0)return c;r=r||a.field.ut()}return 0}}function DK(t,e,n){var r=t.field.ut()?ve.H(e.key,n.key):function(i,s,a){var c=s.field(i),l=a.field(i);return c!==null&&l!==null?gc(c,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ig=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=Ue.min()),a===void 0&&(a=Ue.min()),c===void 0&&(c=tr.T),this.target=e,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xp(e)?"-0":e}}function fD(t){return{integerValue:""+t}}function hD(t,e){return rD(e)?fD(e):lD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var og=function(){this.qt=void 0};function MK(t,e,n){return t instanceof yc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Pa?pD(t,e):t instanceof Da?vD(t,e):function(r,i){var s=dD(r,i),a=oN(s)+oN(r.Ut);return e0(s)&&e0(r.Ut)?fD(a):lD(r.Qt,a)}(t,e)}function LK(t,e,n){return t instanceof Pa?pD(t,e):t instanceof Da?vD(t,e):n}function dD(t,e){return t instanceof _c?e0(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var yc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e}(og),Pa=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return ee(e,t),e}(og);function pD(t,e){for(var n=gD(e),r=function(a){n.some(function(c){return $i(c,a)})||n.push(a)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Da=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return ee(e,t),e}(og);function vD(t,e){for(var n=gD(e),r=function(a){n=n.filter(function(c){return!$i(c,a)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var _c=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Qt=n,i.Ut=r,i}return ee(e,t),e}(og);function oN(t){return Yt(t.integerValue||t.doubleValue)}function gD(t){return sE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wh=function(t,e){this.field=t,this.transform=e},FK=function(t,e){this.version=t,this.transformResults=e},xn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function dp(t,e){return t.updateTime!==void 0?e instanceof ft&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e instanceof ft}var sg=function(){};function UK(t,e,n){return t instanceof bh?function(r,i,s){var a=r.value;if(s.transformResults){var c=uN(r.fieldTransforms,i,s.transformResults);a=dE(r.fieldTransforms,a,c)}return new ft(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):t instanceof Os?function(r,i,s){if(!dp(r.jt,i))return new cE(r.key,s.version);var a=mD(r,i,s.transformResults?uN(r.fieldTransforms,i,s.transformResults):[]);return new ft(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):function(r,i,s){return new on(r.key,s.version,{hasCommittedMutations:!0})}(t,0,n)}function n0(t,e,n){return t instanceof bh?function(r,i,s){if(!dp(r.jt,i))return i;var a=r.value,c=cN(r.fieldTransforms,s,i);a=dE(r.fieldTransforms,a,c);var l=aN(i);return new ft(r.key,l,a,{Vt:!0})}(t,e,n):t instanceof Os?function(r,i,s){if(!dp(r.jt,i))return i;var a=aN(i),c=mD(r,i,cN(r.fieldTransforms,s,i));return new ft(r.key,a,c,{Vt:!0})}(t,e,n):function(r,i){return dp(r.jt,i)?new on(r.key,Ue.min()):i}(t,e)}function jK(t,e){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var c=a[s],l=r instanceof ft?r.field(c.field):void 0,h=dD(c.transform,l||null);h!=null&&(i=i==null?new gh().set(c.field,h):i.set(c.field,h))}return i?i.Pt():null}(t.fieldTransforms,e)}function sN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&dc(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof Pa&&h instanceof Pa||l instanceof Da&&h instanceof Da?dc(l.elements,h.elements,$i):l instanceof _c&&h instanceof _c?$i(l.Ut,h.Ut):l instanceof yc&&h instanceof yc}(a.transform,c.transform)}(i,s)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function aN(t){return t instanceof ft?t.version:Ue.min()}var bh=function(t){function e(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.jt=i,a.fieldTransforms=s,a.type=0,a}return ee(e,t),e}(sg),Os=function(t){function e(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=t.call(this)||this).key=n,c.data=r,c.Gt=i,c.jt=s,c.fieldTransforms=a,c.type=1,c}return ee(e,t),e}(sg);function mD(t,e,n){var r;return r=function(i,s){var a=new gh(s);return i.Gt.fields.forEach(function(c){if(!c.et()){var l=i.data.field(c);l!==null?a.set(c,l):a.delete(c)}}),a.Pt()}(t,r=e instanceof ft?e.data():Cs.empty()),r=dE(t.fieldTransforms,r,n)}function uN(t,e,n){var r=[];Te(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],a=s.transform,c=null;e instanceof ft&&(c=e.field(s.field)),r.push(LK(a,c,n[i]))}return r}function cN(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var a=s[i],c=a.transform,l=null;n instanceof ft&&(l=n.field(a.field)),r.push(MK(c,l,e))}return r}function dE(t,e,n){for(var r=new gh(e),i=0;i<t.length;i++){var s=t[i];r.set(s.field,n[i])}return r.Pt()}var $t,He,Eh=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return ee(e,t),e}(sg),pE=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return ee(e,t),e}(sg),VK=function(t){this.count=t};function yD(t){switch(t){case D.OK:return fe();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return fe()}}function _D(t){if(t===void 0)return zt("GRPC error has no .code"),D.UNKNOWN;switch(t){case $t.OK:return D.OK;case $t.CANCELLED:return D.CANCELLED;case $t.UNKNOWN:return D.UNKNOWN;case $t.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case $t.INTERNAL:return D.INTERNAL;case $t.UNAVAILABLE:return D.UNAVAILABLE;case $t.UNAUTHENTICATED:return D.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case $t.NOT_FOUND:return D.NOT_FOUND;case $t.ALREADY_EXISTS:return D.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return D.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case $t.ABORTED:return D.ABORTED;case $t.OUT_OF_RANGE:return D.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return D.UNIMPLEMENTED;case $t.DATA_LOSS:return D.DATA_LOSS;default:return fe()}}(He=$t||($t={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn=function(){function t(e,n){this.H=e,this.root=n||ss.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,ss.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,ss.Ht,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.et();){var r=this.H(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.et();){var i=this.H(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(e){return this.root.Xt(e)},t.prototype.forEach=function(e){this.Xt(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.Xt(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.Zt=function(e){return this.root.Zt(e)},t.prototype.te=function(){return new Gd(this.root,null,this.H,!1)},t.prototype.ee=function(e){return new Gd(this.root,e,this.H,!1)},t.prototype.ne=function(){return new Gd(this.root,null,this.H,!0)},t.prototype.se=function(e){return new Gd(this.root,e,this.H,!0)},t}(),Gd=function(){function t(e,n,r,i){this.ie=i,this.re=[];for(var s=1;!e.et();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.ie?e.left:e.right;else{if(s===0){this.re.push(e);break}this.re.push(e),e=this.ie?e.right:e.left}}return t.prototype.oe=function(){var e=this.re.pop(),n={key:e.key,value:e.value};if(this.ie)for(e=e.left;!e.et();)this.re.push(e),e=e.right;else for(e=e.right;!e.et();)this.re.push(e),e=e.left;return n},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(this.re.length===0)return null;var e=this.re[this.re.length-1];return{key:e.key,value:e.value}},t}(),ss=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(e){return this.left.Xt(e)||e(this.key,this.value)||this.right.Xt(e)},t.prototype.Zt=function(e){return this.right.Zt(e)||e(this.key,this.value)||this.left.Zt(e)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(e,n,r){var i=this,s=r(e,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(e,n,r))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(e,i.key)===0){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var e=this;return e.right.le()&&!e.left.le()&&(e=e.we()),e.left.le()&&e.left.left.le()&&(e=e.fe()),e.left.le()&&e.right.le()&&(e=e.Ee()),e},t.prototype._e=function(){var e=this.Ee();return e.right.left.le()&&(e=(e=(e=e.copy(null,null,null,null,e.right.fe())).we()).Ee()),e},t.prototype.de=function(){var e=this.Ee();return e.left.left.le()&&(e=(e=e.fe()).Ee()),e},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.Te=function(){var e=this.Ie();return Math.pow(2,e)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw fe();var e=this.left.Ie();if(e!==this.right.Ie())throw fe();return e+(this.le()?0:1)},t}();ss.EMPTY=null,ss.RED=!0,ss.Ht=!1,ss.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw fe()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.zt=function(e,n,r){return new ss(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(e){return!1},t.prototype.Zt=function(e){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn=function(){function t(e){this.H=e,this.data=new qn(this.H)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.Xt(function(n,r){return e(n),!1})},t.prototype.me=function(e,n){for(var r=this.data.ee(e[0]);r.ce();){var i=r.oe();if(this.H(i.key,e[1])>=0)return;n(i.key)}},t.prototype.Ae=function(e,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!e(r.oe().key))return},t.prototype.Re=function(e){var n=this.data.ee(e);return n.ce()?n.oe().key:null},t.prototype.te=function(){return new lN(this.data.te())},t.prototype.ee=function(e){return new lN(this.data.ee(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).zt(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},t.prototype.it=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),lN=function(){function t(e){this.ye=e}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),BK=new qn(ve.H);function Ro(){return BK}function nv(){return Ro()}var qK=new qn(ve.H);function Bf(){return qK}var WK=new qn(ve.H);function wD(){return WK}var HK=new sn(ve.H);function at(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=HK,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var GK=new sn(qe);function ag(){return GK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bD=function(){function t(e){this.H=e?function(n,r){return e(n,r)||ve.H(n.key,r.key)}:function(n,r){return ve.H(n.key,r.key)},this.ge=Bf(),this.Ve=new qn(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(e){return this.ge.get(e)!=null},t.prototype.get=function(e){return this.ge.get(e)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(e){var n=this.ge.get(e);return n?this.Ve.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.Ve.Xt(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.ge.zt(e.key,e),n.Ve.zt(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.ge.remove(e),this.Ve.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),fN=function(){function t(){this.be=new qn(ve.H)}return t.prototype.track=function(e){var n=e.doc.key,r=this.be.get(n);r?e.type!==0&&r.type===3?this.be=this.be.zt(n,e):e.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.be=this.be.remove(n):e.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:e.doc}):fe():this.be=this.be.zt(n,e)},t.prototype.ve=function(){var e=[];return this.be.Xt(function(n,r){e.push(r)}),e},t}(),rv=function(){function t(e,n,r,i,s,a,c,l){this.query=e,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=a,this.Ce=c,this.xe=l}return t.Ne=function(e,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new t(e,n,bD.pe(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Ce===e.Ce&&this.De.isEqual(e.De)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Se.isEqual(e.Se)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),vE=function(){function t(e,n,r,i,s){this.Ot=e,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return t.Me=function(e,n){var r=new Map;return r.set(e,gE.Le(e,n)),new t(Ue.min(),r,ag(),Ro(),at())},t}(),gE=function(){function t(e,n,r,i,s){this.resumeToken=e,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return t.Le=function(e,n){return new t(tr.T,n,at(),at(),at())},t}(),pp=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},ED=function(t,e){this.targetId=t,this.je=e},TD=function(t,e,n,r){n===void 0&&(n=tr.T),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},hN=function(){function t(){this.Ge=0,this.ze=pN(),this.He=tr.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(e){e.l()>0&&(this.Ye=!0,this.He=e)},t.prototype.en=function(){var e=at(),n=at(),r=at();return this.ze.forEach(function(i,s){switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new gE(this.He,this.Je,e,n,r)},t.prototype.nn=function(){this.Ye=!1,this.ze=pN()},t.prototype.sn=function(e,n){this.Ye=!0,this.ze=this.ze.zt(e,n)},t.prototype.rn=function(e){this.Ye=!0,this.ze=this.ze.remove(e)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),$K=function(){function t(e){this.un=e,this.hn=new Map,this.ln=Ro(),this._n=dN(),this.fn=new sn(qe)}return t.prototype.dn=function(e){for(var n=0,r=e.Ke;n<r.length;n++){var i=r[n];e.We instanceof ft?this.wn(i,e.We):e.We instanceof on&&this.En(i,e.key,e.We)}for(var s=0,a=e.removedTargetIds;s<a.length;s++)i=a[s],this.En(i,e.key,e.We)},t.prototype.Tn=function(e){var n=this;this.In(e,function(r){var i=n.mn(r);switch(e.state){case 0:n.An(r)&&i.tn(e.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(e.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(e.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(e.resumeToken));break;default:fe()}})},t.prototype.In=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},t.prototype.Pn=function(e){var n=e.targetId,r=e.je.count,i=this.yn(n);if(i){var s=i.target;if(Zp(s))if(r===0){var a=new ve(s.path);this.En(n,a,new on(a,Ue.min()))}else Te(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},t.prototype.Vn=function(e){var n=this,r=new Map;this.hn.forEach(function(a,c){var l=n.yn(c);if(l){if(a.Be&&Zp(l.target)){var h=new ve(l.target.path);n.ln.get(h)!==null||n.pn(c,h)||n.En(c,h,new on(h,e))}a.Ze&&(r.set(c,a.en()),a.nn())}});var i=at();this._n.forEach(function(a,c){var l=!0;c.Ae(function(h){var d=n.yn(h);return!d||d.Ft===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new vE(e,r,this.fn,this.ln,i);return this.ln=Ro(),this._n=dN(),this.fn=new sn(qe),s},t.prototype.wn=function(e,n){if(this.An(e)){var r=this.pn(e,n.key)?2:0;this.mn(e).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(e))}},t.prototype.En=function(e,n,r){if(this.An(e)){var i=this.mn(e);this.pn(e,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(e)),r&&(this.ln=this.ln.zt(n,r))}},t.prototype.removeTarget=function(e){this.hn.delete(e)},t.prototype.gn=function(e){var n=this.mn(e).en();return this.un.vn(e).size+n.qe.size-n.Qe.size},t.prototype.on=function(e){this.mn(e).on()},t.prototype.mn=function(e){var n=this.hn.get(e);return n||(n=new hN,this.hn.set(e,n)),n},t.prototype.bn=function(e){var n=this._n.get(e);return n||(n=new sn(qe),this._n=this._n.zt(e,n)),n},t.prototype.An=function(e){var n=this.yn(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.yn=function(e){var n=this.hn.get(e);return n&&n.Xe?null:this.un.Sn(e)},t.prototype.Rn=function(e){var n=this;this.hn.set(e,new hN),this.un.vn(e).forEach(function(r){n.En(e,r,null)})},t.prototype.pn=function(e,n){return this.un.vn(e).has(n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(){return new qn(ve.H)}function pN(){return new qn(ve.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YK={asc:"ASCENDING",desc:"DESCENDING"},zK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KK=function(t,e){this.t=t,this.Bt=e};function qf(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ID(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function QK(t,e){return qf(t,e.j())}function gn(t){return Te(!!t),Ue.K(function(e){var n=Is(e);return new pr(n.seconds,n.nanos)}(t))}function mE(t,e){return function(n){return new Ze(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).rt()}function SD(t){var e=Ze.ot(t);return Te(PD(e)),e}function Wf(t,e){return mE(t.t,e.path)}function Bi(t,e){var n=SD(e);if(n.get(1)!==t.t.projectId)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ve(AD(n))}function r0(t,e){return mE(t.t,e)}function CD(t){var e=SD(t);return e.length===4?Ze.ct():AD(e)}function Hf(t){return new Ze(["projects",t.t.projectId,"databases",t.t.database]).rt()}function AD(t){return Te(t.length>4&&t.get(4)==="documents"),t.Y(5)}function vN(t,e,n){return{name:Wf(t,e),fields:n.proto.mapValue.fields}}function ND(t,e,n){var r=Bi(t,e.name),i=gn(e.updateTime),s=new Cs({mapValue:{fields:e.fields}});return new ft(r,i,s,{hasCommittedMutations:!!n})}function iv(t,e){var n;if(e instanceof bh)n={update:vN(t,e.key,e.value)};else if(e instanceof Eh)n={delete:Wf(t,e.key)};else if(e instanceof Os)n={update:vN(t,e.key,e.data),updateMask:t5(e.Gt)};else{if(!(e instanceof pE))return fe();n={verify:Wf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof yc)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(a instanceof Pa)return{fieldPath:s.field.rt(),appendMissingElements:{values:a.elements}};if(a instanceof Da)return{fieldPath:s.field.rt(),removeAllFromArray:{values:a.elements}};if(a instanceof _c)return{fieldPath:s.field.rt(),increment:a.Ut};throw fe()}(0,r)})),e.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:QK(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.jt)),n}function gN(t,e){var n=e.currentDocument?function(h){return h.updateTime!==void 0?xn.updateTime(gn(h.updateTime)):h.exists!==void 0?xn.exists(h.exists):xn.Kt()}(e.currentDocument):xn.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(h){return function(d,v){var m=null;if("setToServerValue"in v)Te(v.setToServerValue==="REQUEST_TIME"),m=new yc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new Pa(y)}else if("removeAllFromArray"in v){var b=v.removeAllFromArray.values||[];m=new Da(b)}else"increment"in v?m=new _c(d,v.increment):fe();var E=_i.lt(v.fieldPath);return new wh(E,m)}(t,h)}):[];if(e.update){e.update.name;var i=Bi(t,e.update.name),s=new Cs({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(h){var d=h.fieldPaths||[];return new pc(d.map(function(v){return _i.lt(v)}))}(e.updateMask);return new Os(i,s,a,n,r)}return new bh(i,s,n,r)}if(e.delete){var c=Bi(t,e.delete);return new Eh(c,n)}if(e.verify){var l=Bi(t,e.verify);return new pE(l,n)}return fe()}function kD(t,e){return{documents:[r0(t,e.path)]}}function RD(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=r0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=r0(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(tN(d.value))return{unaryFilter:{field:Au(d.field),op:"IS_NAN"}};if(eN(d.value))return{unaryFilter:{field:Au(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(tN(d.value))return{unaryFilter:{field:Au(d.field),op:"IS_NOT_NAN"}};if(eN(d.value))return{unaryFilter:{field:Au(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Au(d.field),op:JK(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Au(h.field),direction:XK(h.dir)}}(l)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.Bt||Ha(l)?l:{value:l}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=mN(e.startAt)),e.endAt&&(n.structuredQuery.endAt=mN(e.endAt)),n}function OD(t){var e=CD(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var a=[];n.where&&(a=xD(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(m){return new Ju(Vu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var l=null;n.limit&&(l=function(v){var m;return Ha(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=yN(n.startAt));var d=null;return n.endAt&&(d=yN(n.endAt)),sD(e,i,c,a,l,"F",h,d)}function xD(t){return t?t.unaryFilter!==void 0?[e5(t)]:t.fieldFilter!==void 0?[ZK(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return xD(e)}).reduce(function(e,n){return e.concat(n)}):fe():[]}function mN(t){return{before:t.before,values:t.position}}function yN(t){var e=!!t.before,n=t.values||[];return new Vf(n,e)}function XK(t){return YK[t]}function JK(t){return zK[t]}function Au(t){return{fieldPath:t.rt()}}function Vu(t){return _i.lt(t.fieldPath)}function ZK(t){return Rr.create(Vu(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}function e5(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Vu(t.unaryFilter.field);return Rr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Vu(t.unaryFilter.field);return Rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vu(t.unaryFilter.field);return Rr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vu(t.unaryFilter.field);return Rr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fe()}}function t5(t){var e=[];return t.fields.forEach(function(n){return e.push(n.rt())}),{fieldPaths:e}}function PD(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Y=function(){function t(e){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,e(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.Nn&&fe(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(i,s){r.Dn=function(a){r.Fn(e,a).next(i,s)},r.Cn=function(a){r.$n(n,a).next(i,s)}})},t.prototype.On=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.Mn=function(e){return new t(function(n,r){var i=0,s=0,a=!1;e.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(c){return c?t.resolve(c):a()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(s,a){i.push(n.call(r,s,a))}),this.Mn(i)},t}(),DD=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.Bn=new nr,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new cf(e,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=yE(i.target.error);r.Bn.reject(new cf(e,s))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new cf(n,s)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.Bn.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new r5(n)},t}(),wc=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,t.Qn(ka())===12.2&&zt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return J("SimpleDb","Removing database:",e),ca(window.indexedDB.deleteDatabase(e)).On()},t.Kn=function(){if(typeof indexedDB>"u")return!1;if(t.Wn())return!0;var e=ka(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Gn)==="YES"},t.zn=function(e,n){return e.store(n)},t.Qn=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.jn=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.Hn=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(J("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new cf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new G(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new cf(e,h))},c.onupgradeneeded=function(l){J("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.Un.Jn(h,c.transaction,l.oldVersion,r.version).next(function(){J("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},t.prototype.Xn=function(e){this.Yn=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,m,y,b,E;return N(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,l.Hn(e)];case 2:return l.db=T.sent(),v=DD.open(l.db,e,s?"readonly":"readwrite",r),m=i(v).catch(function(A){return v.abort(A),Y.reject(A)}).On(),y={},m.catch(function(){}),[4,v.qn];case 3:return[2,(y.value=(T.sent(),m),y)];case 4:return b=T.sent(),E=b.name!=="FirebaseError"&&a<3,J("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),n5=function(){function t(e){this.Zn=e,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Zn=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(e){this.es=e},t.prototype.delete=function(){return ca(this.Zn.delete())},t}(),cf=function(t){function e(n,r){var i=this;return(i=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ee(e,t),e}(G);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){return t.name==="IndexedDbTransactionError"}var r5=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ca(r)},t.prototype.add=function(e){return J("SimpleDb","ADD",this.store.name,e,e),ca(this.store.add(e))},t.prototype.get=function(e){var n=this;return ca(this.store.get(e)).next(function(r){return r===void 0&&(r=null),J("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return J("SimpleDb","DELETE",this.store.name,e),ca(this.store.delete(e))},t.prototype.count=function(){return J("SimpleDb","COUNT",this.store.name),ca(this.store.count())},t.prototype.rs=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.os(r,function(s,a){i.push(a)}).next(function(){return i})},t.prototype.cs=function(e,n){J("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,a,c){return c.delete()})},t.prototype.hs=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.os(i,n)},t.prototype.ls=function(e){var n=this.cursor({});return new Y(function(r,i){n.onerror=function(s){var a=yE(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?e(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},t.prototype.os=function(e,n){var r=[];return new Y(function(i,s){e.onerror=function(a){s(a.target.error)},e.onsuccess=function(a){var c=a.target.result;if(c){var l=new n5(c),h=n(c.primaryKey,c.value,l);if(h instanceof Y){var d=h.catch(function(v){return l.done(),Y.reject(v)});r.push(d)}l.xn?i():l.ns===null?c.continue():c.continue(l.ns)}else i()}}).next(function(){return Y.Mn(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.us?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function ca(t){return new Y(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=yE(r.target.error);n(i)}})}var _N=!1;function yE(t){var e=wc.Qn(ka());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return _N||(_N=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i5=function(){function t(e,n,r,i,s){this._s=e,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new nr,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(a){})}return t.Ts=function(e,n,r,i,s){var a=new t(e,n,Date.now()+r,i,s);return a.start(r),a},t.prototype.start=function(e){var n=this;this.Is=setTimeout(function(){return n.As()},e)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(e){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new G(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.As=function(){var e=this;this._s.Ps(function(){return e.Is!==null?(e.clearTimeout(),e.op().then(function(n){return e.Es.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Wc(t,e){if(zt("AsyncQueue",e+": "+t),Ga(t))return new G(D.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",LD=function(){function t(){this.ys=[]}return t.prototype.gs=function(e){this.ys.push(e)},t.prototype.Vs=function(){this.ys.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=wN(e)),e=o5(t.get(n),e);return wN(e)}function o5(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function wN(t){return t+""}function yo(t){var e=t.length;if(Te(e>=2),e===2)return Te(t.charAt(0)===""&&t.charAt(1)===""),Ze.ct();for(var n=e-2,r=[],i="",s=0;s<e;){var a=t.indexOf("",s);switch((a<0||a>n)&&fe(),t.charAt(a+1)){case"":var c=t.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:fe()}s=a+2}return new Ze(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s5=function(t,e){this.seconds=t,this.nanoseconds=e},Ir=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ir.store="owner",Ir.key="owner";var ys=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ys.store="mutationQueues",ys.keyPath="userId";var vt=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vt.store="mutations",vt.keyPath="batchId",vt.userMutationsIndex="userMutationsIndex",vt.userMutationsKeyPath=["userId","batchId"];var kn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,vi(n)]},t.key=function(e,n,r){return[e,vi(n),r]},t}();kn.store="documentMutations",kn.PLACEHOLDER=new kn;var a5=function(t,e){this.path=t,this.readTime=e},u5=function(t,e){this.path=t,this.version=e},Pt=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Pt.store="remoteDocuments",Pt.readTimeIndex="readTimeIndex",Pt.readTimeIndexPath="readTime",Pt.collectionReadTimeIndex="collectionReadTimeIndex",Pt.collectionReadTimeIndexPath=["parentPath","readTime"];var ji=function(t){this.byteSize=t};ji.store="remoteDocumentGlobal",ji.key="remoteDocumentGlobalKey";var dr=function(t,e,n,r,i,s,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};dr.store="targets",dr.keyPath="targetId",dr.queryTargetsIndexName="queryTargetsIndex",dr.queryTargetsKeyPath=["canonicalId","targetId"];var Sn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Sn.store="targetDocuments",Sn.keyPath=["targetId","path"],Sn.documentTargetsIndex="documentTargetsIndex",Sn.documentTargetsKeyPath=["path","targetId"];var Ar=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ar.key="targetGlobalKey",Ar.store="targetGlobal";var Ta=function(t,e){this.collectionId=t,this.parent=e};Ta.store="collectionParents",Ta.keyPath=["collectionId","parent"];var bo=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};bo.store="clientMetadata",bo.keyPath="clientId";var bc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};bc.store="bundles",bc.keyPath="bundleId";var Ec=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ec.store="namedQueries",Ec.keyPath="name";var c5=qt(qt(qt(qt([ys.store,vt.store,kn.store,Pt.store,dr.store,Ir.store,Ar.store,Sn.store],[bo.store]),[ji.store]),[Ta.store]),[bc.store,Ec.store]),bN=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ps=n,i.bs=r,i}return ee(e,t),e}(LD);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,e){var n=te(t);return wc.zn(n.ps,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _E=function(){function t(e,n,r,i){this.batchId=e,this.vs=n,this.baseMutations=r,this.mutations=i}return t.prototype.Ss=function(e,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(e)&&(n=UK(a,n,i[s]))}return n},t.prototype.Cs=function(e,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(c=i[r]).key.isEqual(e)&&(n=n0(c,n,this.vs));for(var s=0,a=this.mutations;s<a.length;s++){var c;(c=a[s]).key.isEqual(e)&&(n=n0(c,n,this.vs))}return n},t.prototype.xs=function(e){var n=this,r=e;return this.mutations.forEach(function(i){var s=n.Cs(i.key,e.get(i.key));s&&(r=r.zt(i.key,s))}),r},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},at())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,function(n,r){return sN(n,r)})&&dc(this.baseMutations,e.baseMutations,function(n,r){return sN(n,r)})},t}(),l5=function(){function t(e,n,r,i){this.batch=e,this.Ns=n,this.Ds=r,this.$s=i}return t.from=function(e,n,r){Te(e.mutations.length===r.length);for(var i=wD(),s=e.mutations,a=0;a<s.length;a++)i=i.zt(s[a].key,r[a].version);return new t(e,n,r,i)},t}(),FD=function(t){this.Fs=t};function i0(t,e){if(e.document)return ND(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ve.Et(e.noDocument.path),r=Ic(e.noDocument.readTime);return new on(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ve.Et(e.unknownDocument.path);return r=Ic(e.unknownDocument.version),new cE(i,r)}return fe()}function EN(t,e,n){var r=wE(n),i=e.key.path.X().it();if(e instanceof ft){var s=function(v,m){return{name:Wf(v,m.key),fields:m.bt().mapValue.fields,updateTime:qf(v,m.version.j())}}(t.Fs,e),a=e.hasCommittedMutations;return new Pt(null,null,s,a,r,i)}if(e instanceof on){var c=e.key.path.it(),l=Tc(e.version);return a=e.hasCommittedMutations,new Pt(null,new a5(c,l),null,a,r,i)}if(e instanceof cE){var h=e.key.path.it(),d=Tc(e.version);return new Pt(new u5(h,d),null,null,!0,r,i)}return fe()}function wE(t){var e=t.j();return[e.seconds,e.nanoseconds]}function UD(t){var e=new pr(t[0],t[1]);return Ue.K(e)}function Tc(t){var e=t.j();return new s5(e.seconds,e.nanoseconds)}function Ic(t){var e=new pr(t.seconds,t.nanoseconds);return Ue.K(e)}function Mu(t,e){for(var n=(e.baseMutations||[]).map(function(l){return gN(t.Fs,l)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var s=e.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(l){return gN(t.Fs,l)}),c=pr.fromMillis(e.localWriteTimeMs);return new _E(e.batchId,c,n,a)}function Zl(t){var e,n,r=Ic(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?Ic(t.lastLimboFreeSnapshotVersion):Ue.min();return t.query.documents!==void 0?(Te((n=t.query).documents.length===1),e=$r(qc(CD(n.documents[0])))):e=function(s){return $r(OD(s))}(t.query),new ig(e,t.targetId,0,t.lastListenSequenceNumber,r,i,tr.fromBase64String(t.resumeToken))}function jD(t,e){var n,r=Tc(e.Ot),i=Tc(e.lastLimboFreeSnapshotVersion);n=Zp(e.target)?kD(t.Fs,e.target):RD(t.Fs,e.target);var s=e.resumeToken.toBase64();return new dr(e.targetId,mh(e.target),r,s,e.sequenceNumber,i,n)}function bE(t){var e=OD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?aD(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f5=function(){function t(){}return t.prototype.Os=function(e,n){return TN(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:Ic(i.createTime),version:i.version};var i})},t.prototype.ks=function(e,n){return TN(e).put({bundleId:(r=n).id,createTime:Tc(gn(r.createTime)),version:r.version});var r},t.prototype.Ms=function(e,n){return IN(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:bE(i.bundledQuery),readTime:Ic(i.readTime)};var i})},t.prototype.Ls=function(e,n){return IN(e).put(function(r){return{name:r.name,readTime:Tc(gn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function TN(t){return wr(t,bc.store)}function IN(t){return wr(t,Ec.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h5=function(){function t(){this.Bs=new EE}return t.prototype.qs=function(e,n){return this.Bs.add(n),Y.resolve()},t.prototype.Us=function(e,n){return Y.resolve(this.Bs.getEntries(n))},t}(),EE=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.tt(),r=e.X(),i=this.index[n]||new sn(Ze.H),s=!i.has(r);return this.index[n]=i.add(r),s},t.prototype.has=function(e){var n=e.tt(),r=e.X(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new sn(Ze.H)).it()},t}(),d5=function(){function t(){this.Qs=new EE}return t.prototype.qs=function(e,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();e.gs(function(){r.Qs.add(n)});var a={collectionId:i,parent:vi(s)};return SN(e).put(a)}return Y.resolve()},t.prototype.Us=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[ZP(n),""],!1,!0);return SN(e).rs(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(yo(l.parent))}return r})},t}();function SN(t){return wr(t,Ta.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CN={Ks:!1,Ws:0,js:0,Gs:0},Pi=function(){function t(e,n,r){this.zs=e,this.Hs=n,this.Js=r}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){return R(this,void 0,void 0,function(){return N(this,function(e){if(t.code!==D.FAILED_PRECONDITION||t.message!==MD)throw t;return J("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi.Xs=10,Pi.Zs=1e3,Pi.ti=new Pi(41943040,Pi.Xs,Pi.Zs),Pi.ei=new Pi(-1,0,0);var Hc=function(){function t(e,n){this.ni=e,this.si=n,this.ii={}}return t.prototype.get=function(e){var n=this.ni(e),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.si(c,e))return l}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.ni(e),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.ii[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.ni(e),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],e))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){vh(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];e(c,l)}})},t.prototype.et=function(){return tD(this.ii)},t}(),VD=function(){function t(){this.ri=new Hc(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.oi=!1}return t.prototype.ci=function(e){var n=this.ri.get(e);return n?n.readTime:Ue.min()},t.prototype.ai=function(e,n){this.ui(),this.ri.set(e.key,{hi:e,readTime:n})},t.prototype.li=function(e,n){n===void 0&&(n=null),this.ui(),this.ri.set(e,{hi:null,readTime:n})},t.prototype._i=function(e,n){this.ui();var r=this.ri.get(n);return r!==void 0?Y.resolve(r.hi):this.fi(e,n)},t.prototype.getEntries=function(e,n){return this.di(e,n)},t.prototype.apply=function(e){return this.ui(),this.oi=!0,this.wi(e)},t.prototype.ui=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e,n){var r=t.store(vt.store),i=t.store(kn.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.hs({range:a},function(b,E,T){return c++,T.delete()});s.push(l.next(function(){Te(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var m=v[d],y=kn.key(e,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return Y.Mn(s).next(function(){return h})}function ov(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p5=function(){function t(e,n,r,i){this.userId=e,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return t.mi=function(e,n,r,i){return Te(e.uid!==""),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).hs({index:vt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},t.prototype.Ri=function(e,n,r,i){var s=this,a=Lu(e),c=Jo(e);return c.add({}).next(function(l){Te(typeof l=="number");for(var h=new _E(l,n,r,i),d=function(A,P,M){var U=M.baseMutations.map(function(j){return iv(A.Fs,j)}),X=M.mutations.map(function(j){return iv(A.Fs,j)});return new vt(P,M.batchId,M.vs.toMillis(),U,X)}(s.Qt,s.userId,h),v=[],m=new sn(function(A,P){return qe(A.rt(),P.rt())}),y=0,b=i;y<b.length;y++){var E=b[y],T=kn.key(s.userId,E.key.path,l);m=m.add(E.key.path.X()),v.push(c.put(d)),v.push(a.put(T,kn.PLACEHOLDER))}return m.forEach(function(A){v.push(s.Ei.qs(e,A))}),e.gs(function(){s.Ii[l]=h.keys()}),Y.Mn(v).next(function(){return h})})},t.prototype.Pi=function(e,n){var r=this;return Jo(e).get(n).next(function(i){return i?(Te(i.userId===r.userId),Mu(r.Qt,i)):null})},t.prototype.yi=function(e,n){var r=this;return this.Ii[n]?Y.resolve(this.Ii[n]):this.Pi(e,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},t.prototype.gi=function(e,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Jo(e).hs({index:vt.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(Te(l.batchId>=i),a=Mu(r.Qt,l)),h.done()}).next(function(){return a})},t.prototype.Vi=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Jo(e).hs({index:vt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},t.prototype.pi=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jo(e).rs(vt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Mu(n.Qt,s)})})},t.prototype.bi=function(e,n){var r=this,i=kn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Lu(e).hs({range:s},function(c,l,h){var d=c[0],v=c[1],m=c[2],y=yo(v);if(d===r.userId&&n.path.isEqual(y))return Jo(e).get(m).next(function(b){if(!b)throw fe();Te(b.userId===r.userId),a.push(Mu(r.Qt,b))});h.done()}).next(function(){return a})},t.prototype.vi=function(e,n){var r=this,i=new sn(qe),s=[];return n.forEach(function(a){var c=kn.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Lu(e).hs({range:l},function(d,v,m){var y=d[0],b=d[1],E=d[2],T=yo(b);y===r.userId&&a.path.isEqual(T)?i=i.add(E):m.done()});s.push(h)}),Y.Mn(s).next(function(){return r.Si(e,i)})},t.prototype.Di=function(e,n){var r=this,i=n.path,s=i.length+1,a=kn.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new sn(qe);return Lu(e).hs({range:c},function(h,d,v){var m=h[0],y=h[1],b=h[2],E=yo(y);m===r.userId&&i.nt(E)?E.length===s&&(l=l.add(b)):v.done()}).next(function(){return r.Si(e,l)})},t.prototype.Si=function(e,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Jo(e).get(a).next(function(c){if(c===null)throw fe();Te(c.userId===r.userId),i.push(Mu(r.Qt,c))}))}),Y.Mn(s).next(function(){return i})},t.prototype.Ci=function(e,n){var r=this;return BD(e.ps,this.userId,n).next(function(i){return e.gs(function(){r.xi(n.batchId)}),Y.forEach(i,function(s){return r.Ti.Ni(e,s)})})},t.prototype.xi=function(e){delete this.Ii[e]},t.prototype.$i=function(e){var n=this;return this.Ai(e).next(function(r){if(!r)return Y.resolve();var i=IDBKeyRange.lowerBound(kn.prefixForUser(n.userId)),s=[];return Lu(e).hs({range:i},function(a,c,l){if(a[0]===n.userId){var h=yo(a[1]);s.push(h)}else l.done()}).next(function(){Te(s.length===0)})})},t.prototype.Fi=function(e,n){return qD(e,this.userId,n)},t.prototype.Oi=function(e){var n=this;return WD(e).get(this.userId).next(function(r){return r||new ys(n.userId,-1,"")})},t}();function qD(t,e,n){var r=kn.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Lu(t).hs({range:s,us:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===e&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Jo(t){return wr(t,vt.store)}function Lu(t){return wr(t,kn.store)}function WD(t){return wr(t,ys.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sv=function(){function t(e){this.ki=e}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),v5=function(){function t(e,n){this.Ti=e,this.Qt=n}return t.prototype.Bi=function(e){var n=this;return this.qi(e).next(function(r){var i=new sv(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(e,r).next(function(){return r.highestTargetId})})},t.prototype.Qi=function(e){return this.qi(e).next(function(n){return Ue.K(new pr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(e){return this.qi(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.Wi=function(e,n,r){var i=this;return this.qi(e).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(e,s)})},t.prototype.ji=function(e,n){var r=this;return this.Gi(e,n).next(function(){return r.qi(e).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(e,i)})})},t.prototype.Hi=function(e,n){return this.Gi(e,n)},t.prototype.Ji=function(e,n){var r=this;return this.Yi(e,n.targetId).next(function(){return Nu(e).delete(n.targetId)}).next(function(){return r.qi(e)}).next(function(i){return Te(i.targetCount>0),i.targetCount-=1,r.Ui(e,i)})},t.prototype.Xi=function(e,n,r){var i=this,s=0,a=[];return Nu(e).hs(function(c,l){var h=Zl(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Ji(e,h)))}).next(function(){return Y.Mn(a)}).next(function(){return s})},t.prototype.In=function(e,n){return Nu(e).hs(function(r,i){var s=Zl(i);n(s)})},t.prototype.qi=function(e){return AN(e).get(Ar.key).next(function(n){return Te(n!==null),n})},t.prototype.Ui=function(e,n){return AN(e).put(Ar.key,n)},t.prototype.Gi=function(e,n){return Nu(e).put(jD(this.Qt,n))},t.prototype.zi=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.Zi=function(e){return this.qi(e).next(function(n){return n.targetCount})},t.prototype.tr=function(e,n){var r=mh(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Nu(e).hs({range:i,index:dr.queryTargetsIndexName},function(a,c,l){var h=Zl(c);rg(n,h.target)&&(s=h,l.done())}).next(function(){return s})},t.prototype.er=function(e,n,r){var i=this,s=[],a=as(e);return n.forEach(function(c){var l=vi(c.path);s.push(a.put(new Sn(r,l))),s.push(i.Ti.nr(e,r,c))}),Y.Mn(s)},t.prototype.sr=function(e,n,r){var i=this,s=as(e);return Y.forEach(n,function(a){var c=vi(a.path);return Y.Mn([s.delete([r,c]),i.Ti.ir(e,r,a)])})},t.prototype.Yi=function(e,n){var r=as(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.rr=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=as(e),s=at();return i.hs({range:r,us:!0},function(a,c,l){var h=yo(a[1]),d=new ve(h);s=s.add(d)}).next(function(){return s})},t.prototype.Fi=function(e,n){var r=vi(n.path),i=IDBKeyRange.bound([r],[ZP(r)],!1,!0),s=0;return as(e).hs({index:Sn.documentTargetsIndex,us:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},t.prototype.Sn=function(e,n){return Nu(e).get(n).next(function(r){return r?Zl(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){return wr(t,dr.store)}function AN(t){return wr(t,Ar.store)}function as(t){return wr(t,Sn.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=qe(n,i);return a===0?qe(r,s):a}var g5=function(){function t(e){this.cr=e,this.buffer=new sn(NN),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(e){var n=[e,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();NN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),m5=function(){function t(e,n){this.lr=e,this._s=n,this._r=!1,this.dr=null}return t.prototype.start=function(e){this.lr.params.zs!==-1&&this.wr(e)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),t.prototype.wr=function(e){var n=this,r=this._r?3e5:6e4;J("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,e.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return Ga(i=s.sent())?(J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,$a(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(e)];case 8:return s.sent(),[2]}})})})},t}(),y5=function(){function t(e,n){this.mr=e,this.params=n}return t.prototype.Ar=function(e,n){return this.mr.Rr(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.Pr=function(e,n){var r=this;if(n===0)return Y.resolve(kr.q);var i=new g5(n);return this.mr.In(e,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(e,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},t.prototype.Xi=function(e,n,r){return this.mr.Xi(e,n,r)},t.prototype.gr=function(e,n){return this.mr.gr(e,n)},t.prototype.Vr=function(e,n){var r=this;return this.params.zs===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(CN)):this.pr(e).next(function(i){return i<r.params.zs?(J("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),CN):r.br(e,n)})},t.prototype.pr=function(e){return this.mr.pr(e)},t.prototype.br=function(e,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.Ar(e,this.params.Hs).next(function(m){return m>d.params.Js?(J("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.Js+" from "+m),i=d.params.Js):i=m,a=Date.now(),d.Pr(e,i)}).next(function(m){return r=m,c=Date.now(),d.Xi(e,r,n)}).next(function(m){return s=m,l=Date.now(),d.gr(e,r)}).next(function(m){return h=Date.now(),Jw()<=Le.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+m+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),Y.resolve({Ks:!0,Ws:i,js:s,Gs:m})})},t}(),_5=function(){function t(e,n){this.db=e,this.lr=function(r,i){return new y5(r,i)}(this,n)}return t.prototype.Rr=function(e){var n=this.vr(e);return this.db.Sr().Zi(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.vr=function(e){var n=0;return this.yr(e,function(r){n++}).next(function(){return n})},t.prototype.In=function(e,n){return this.db.Sr().In(e,n)},t.prototype.yr=function(e,n){return this.Dr(e,function(r,i){return n(i)})},t.prototype.nr=function(e,n,r){return $d(e,r)},t.prototype.ir=function(e,n,r){return $d(e,r)},t.prototype.Xi=function(e,n,r){return this.db.Sr().Xi(e,n,r)},t.prototype.Ni=function(e,n){return $d(e,n)},t.prototype.Cr=function(e,n){return function(r,i){var s=!1;return WD(r).ls(function(a){return qD(r,a,i).next(function(c){return c&&(s=!0),Y.resolve(!c)})}).next(function(){return s})}(e,n)},t.prototype.gr=function(e,n){var r=this,i=this.db.$r().Nr(),s=[],a=0;return this.Dr(e,function(c,l){if(l<=n){var h=r.Cr(e,c).next(function(d){if(!d)return a++,i._i(e,c).next(function(){return i.li(c),as(e).delete([0,vi(c.path)])})});s.push(h)}}).next(function(){return Y.Mn(s)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.kt(e.bs);return this.db.Sr().Hi(e,r)},t.prototype.Fr=function(e,n){return $d(e,n)},t.prototype.Dr=function(e,n){var r,i=as(e),s=kr.q;return i.hs({index:Sn.documentTargetsIndex},function(a,c){var l=a[0],h=(a[1],c.path),d=c.sequenceNumber;l===0?(s!==kr.q&&n(new ve(yo(r)),s),s=d,r=h):s=kr.q}).next(function(){s!==kr.q&&n(new ve(yo(r)),s)})},t.prototype.pr=function(e){return this.db.$r().Or(e)},t}();function $d(t,e){return as(t).put(function(n,r){return new Sn(0,vi(n.path),r)}(e,t.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w5=function(){function t(e,n){this.Qt=e,this.Ei=n}return t.prototype.ai=function(e,n,r){return is(e).put(Yd(n),r)},t.prototype.li=function(e,n){var r=is(e),i=Yd(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.kr(e,i)})},t.prototype._i=function(e,n){var r=this;return is(e).get(Yd(n)).next(function(i){return r.Mr(i)})},t.prototype.Lr=function(e,n){var r=this;return is(e).get(Yd(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:ov(i)}:null})},t.prototype.getEntries=function(e,n){var r=this,i=nv();return this.Br(e,n,function(s,a){var c=r.Mr(a);i=i.zt(s,c)}).next(function(){return i})},t.prototype.qr=function(e,n){var r=this,i=nv(),s=new qn(ve.H);return this.Br(e,n,function(a,c){var l=r.Mr(c);l?(i=i.zt(a,l),s=s.zt(a,ov(c))):(i=i.zt(a,null),s=s.zt(a,0))}).next(function(){return{Ur:i,Qr:s}})},t.prototype.Br=function(e,n,r){if(n.et())return Y.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),a=s.oe();return is(e).hs({range:i},function(c,l,h){for(var d=ve.Et(c);a&&ve.H(a,d)<0;)r(a,null),a=s.oe();a&&a.isEqual(d)&&(r(a,l),a=s.ce()?s.oe():null),a?h.ss(a.path.it()):h.done()}).next(function(){for(;a;)r(a,null),a=s.ce()?s.oe():null})},t.prototype.Kr=function(e,n,r){var i=this,s=Bf(),a=n.path.length+1,c={};if(r.isEqual(Ue.min())){var l=n.path.it();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.it(),d=wE(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=Pt.collectionReadTimeIndex}return is(e).hs(c,function(v,m,y){if(v.length===a){var b=i0(i.Qt,m);n.path.nt(b.key.path)?b instanceof ft&&_h(n,b)&&(s=s.zt(b.key,b)):y.done()}}).next(function(){return s})},t.prototype.Nr=function(e){return new b5(this,!!e&&e.Wr)},t.prototype.Or=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return kN(e).get(ji.key).next(function(n){return Te(!!n),n})},t.prototype.kr=function(e,n){return kN(e).put(ji.key,n)},t.prototype.Mr=function(e){if(e){var n=i0(this.Qt,e);return n instanceof on&&n.version.isEqual(Ue.min())?null:n}return null},t}(),b5=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jr=n,i.Wr=r,i.Gr=new Hc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return ee(e,t),e.prototype.wi=function(n){var r=this,i=[],s=0,a=new sn(function(c,l){return qe(c.rt(),l.rt())});return this.ri.forEach(function(c,l){var h=r.Gr.get(c);if(l.hi){var d=EN(r.jr.Qt,l.hi,r.ci(c));a=a.add(c.path.X());var v=ov(d);s+=v-h,i.push(r.jr.ai(n,c,d))}else if(s-=h,r.Wr){var m=EN(r.jr.Qt,new on(c,Ue.min()),r.ci(c));i.push(r.jr.ai(n,c,m))}else i.push(r.jr.li(n,c))}),a.forEach(function(c){i.push(r.jr.Ei.qs(n,c))}),i.push(this.jr.updateMetadata(n,s)),Y.Mn(i)},e.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},e.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var a=s.Ur;return s.Qr.forEach(function(c,l){i.Gr.set(c,l)}),a})},e}(VD);function kN(t){return wr(t,ji.store)}function is(t){return wr(t,Pt.store)}function Yd(t){return t.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E5=function(){function t(e){this.Qt=e}return t.prototype.Jn=function(e,n,r,i){var s=this;Te(r<i&&r>=0&&i<=11);var a=new DD("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Ir.store)}(e),function(l){l.createObjectStore(ys.store,{keyPath:ys.keyPath}),l.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0}),l.createObjectStore(kn.store)}(e),RN(e),function(l){l.createObjectStore(Pt.store)}(e));var c=Y.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Sn.store),l.deleteObjectStore(dr.store),l.deleteObjectStore(Ar.store)}(e),RN(e)),c=c.next(function(){return function(l){var h=l.store(Ar.store),d=new Ar(0,0,Ue.min().j(),0);return h.put(Ar.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(vt.store).rs().next(function(d){l.deleteObjectStore(vt.store),l.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0});var v=h.store(vt.store),m=d.map(function(y){return v.put(y)});return Y.Mn(m)})}(e,a)})),c=c.next(function(){(function(l){l.createObjectStore(bo.store,{keyPath:bo.keyPath})})(e)})),r<5&&i>=5&&(c=c.next(function(){return s.zr(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(ji.store)}(e),s.Hr(a)})),r<7&&i>=7&&(c=c.next(function(){return s.Jr(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Yr(e,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e),function(l){var h=l.objectStore(Pt.store);h.createIndex(Pt.readTimeIndex,Pt.readTimeIndexPath,{unique:!1}),h.createIndex(Pt.collectionReadTimeIndex,Pt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Xr(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(bc.store,{keyPath:bc.keyPath})})(e),function(l){l.createObjectStore(Ec.store,{keyPath:Ec.keyPath})}(e)})),c},t.prototype.Hr=function(e){var n=0;return e.store(Pt.store).hs(function(r,i){n+=ov(i)}).next(function(){var r=new ji(n);return e.store(ji.store).put(ji.key,r)})},t.prototype.zr=function(e){var n=this,r=e.store(ys.store),i=e.store(vt.store);return r.rs().next(function(s){return Y.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.rs(vt.userMutationsIndex,c).next(function(l){return Y.forEach(l,function(h){Te(h.userId===a.userId);var d=Mu(n.Qt,h);return BD(e,a.userId,d).next(function(){})})})})})},t.prototype.Jr=function(e){var n=e.store(Sn.store),r=e.store(Pt.store);return e.store(Ar.store).get(Ar.key).next(function(i){var s=[];return r.hs(function(a,c){var l=new Ze(a),h=function(d){return[0,vi(d)]}(l);s.push(n.get(h).next(function(d){return d?Y.resolve():function(v){return n.put(new Sn(0,vi(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return Y.Mn(s)})})},t.prototype.Yr=function(e,n){e.createObjectStore(Ta.store,{keyPath:Ta.keyPath});var r=n.store(Ta.store),i=new EE,s=function(a){if(i.add(a)){var c=a.tt(),l=a.X();return r.put({collectionId:c,parent:vi(l)})}};return n.store(Pt.store).hs({us:!0},function(a,c){var l=new Ze(a);return s(l.X())}).next(function(){return n.store(kn.store).hs({us:!0},function(a,c){a[0];var l=a[1],h=(a[2],yo(l));return s(h.X())})})},t.prototype.Xr=function(e){var n=this,r=e.store(dr.store);return r.hs(function(i,s){var a=Zl(s),c=jD(n.Qt,a);return r.put(c)})},t}();function RN(t){t.createObjectStore(Sn.store,{keyPath:Sn.keyPath}).createIndex(Sn.documentTargetsIndex,Sn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(dr.store,{keyPath:dr.keyPath}).createIndex(dr.queryTargetsIndexName,dr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ar.store)}var F_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",T5=function(){function t(e,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=a,this.document=c,this.eo=h,this.no=d,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(v){return Promise.resolve()},!t.Kn())throw new G(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new _5(this,i),this.ho=n+"main",this.Qt=new FD(l),this.lo=new wc(this.ho,11,new E5(this.Qt)),this._o=new v5(this.Ti,this.Qt),this.Ei=new d5,this.fo=function(v,m){return new w5(v,m)}(this.Qt,this.Ei),this.wo=new f5,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,d===!1&&zt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.To().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,F_);return e.Io(),e.mo(),e.Ao(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e._o.Ki(n)})}).then(function(n){e.so=new kr(n,e.eo)}).then(function(){e.io=!0}).catch(function(n){return e.lo&&e.lo.close(),Promise.reject(n)})},t.prototype.Ro=function(e){var n=this;return this.uo=function(r){return R(n,void 0,void 0,function(){return N(this,function(i){return this.Er?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.Po=function(e){var n=this;this.lo.Xn(function(r){return R(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.yo=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Zr.Ps(function(){return R(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return zd(n).put(new bo(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Vo(n).next(function(r){r||(e.isPrimary=!1,e.Zr.po(function(){return e.uo(!1)}))})}).next(function(){return e.bo(n)}).next(function(r){return e.isPrimary&&!r?e.vo(n).next(function(){return!1}):!!r&&e.So(n).next(function(){return!0})})}).catch(function(n){if(Ga(n))return J("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Zr.po(function(){return e.uo(n)}),e.isPrimary=n})},t.prototype.Vo=function(e){var n=this;return Gl(e).get(Ir.key).next(function(r){return Y.resolve(n.Do(r))})},t.prototype.Co=function(e){return zd(e).delete(this.clientId)},t.prototype.xo=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=wr(c,bo.store);return l.rs().next(function(h){var d=s.$o(h,18e5),v=h.filter(function(m){return d.indexOf(m)===-1});return Y.forEach(v,function(m){return l.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Eo)for(n=0,r=e;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var e=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return e.To().then(function(){return e.xo()}).then(function(){return e.Ao()})})},t.prototype.Do=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.bo=function(e){var n=this;return this.no?Y.resolve(!0):Gl(e).get(Ir.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,F_);return!1}}return!(!n.networkEnabled||!n.inForeground)||zd(e).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&J("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.ko=function(){return R(this,void 0,void 0,function(){var e=this;return N(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Ir.store,bo.store],function(r){var i=new bN(r,kr.q);return e.vo(i).next(function(){return e.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(e,n){var r=this;return e.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},t.prototype.Uo=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return zd(n).rs().next(function(r){return e.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(e){return p5.mi(e,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(e,n,r){var i=this;J("IndexedDbPersistence","Starting transaction:",e);var s,a=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(e,a,c5,function(c){return s=new bN(c,i.so?i.so.next():kr.q),n==="readwrite-primary"?i.Vo(s).next(function(l){return!!l||i.bo(s)}).next(function(l){if(!l)throw zt("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new G(D.FAILED_PRECONDITION,MD);return r(s)}).next(function(l){return i.So(s).next(function(){return l})}):i.jo(s).next(function(){return r(s)})}).then(function(c){return s.Vs(),c})},t.prototype.jo=function(e){var n=this;return Gl(e).get(Ir.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new G(D.FAILED_PRECONDITION,F_)})},t.prototype.So=function(e){var n=new Ir(this.clientId,this.allowTabSynchronization,Date.now());return Gl(e).put(Ir.key,n)},t.Kn=function(){return wc.Kn()},t.prototype.vo=function(e){var n=this,r=Gl(e);return r.get(Ir.key).next(function(i){return n.Do(i)?(J("IndexedDbPersistence","Releasing primary lease."),r.delete(Ir.key)):Y.resolve()})},t.prototype.No=function(e,n){var r=Date.now();return!(e<r-n||e>r&&(zt("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.Io=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){e.Zr.Ps(function(){return e.inForeground=e.document.visibilityState==="visible",e.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(e){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(e)))!==null;return J("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return zt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(e){zt("Failed to set zombie client id.",e)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},t.prototype.Fo=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Gl(t){return wr(t,Ir.store)}function zd(t){return wr(t,bo.store)}function TE(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var I5=function(t,e){this.progress=t,this.Go=e},HD=function(){function t(e,n,r){this.fo=e,this.zo=n,this.Ei=r}return t.prototype.Ho=function(e,n){var r=this;return this.zo.bi(e,n).next(function(i){return r.Jo(e,n,i)})},t.prototype.Jo=function(e,n,r){return this.fo._i(e,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].Cs(n,i);return i})},t.prototype.Yo=function(e,n,r){var i=nv();return n.forEach(function(s,a){for(var c=0,l=r;c<l.length;c++)a=l[c].Cs(s,a);i=i.zt(s,a)}),i},t.prototype.Xo=function(e,n){var r=this;return this.fo.getEntries(e,n).next(function(i){return r.Zo(e,i)})},t.prototype.Zo=function(e,n){var r=this;return this.zo.vi(e,n).next(function(i){var s=r.Yo(e,n,i),a=Ro();return s.forEach(function(c,l){l||(l=new on(c,Ue.min())),a=a.zt(c,l)}),a})},t.prototype.Kr=function(e,n,r){return function(i){return ve.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(e,n.path):hE(n)?this.ec(e,n,r):this.nc(e,n,r)},t.prototype.tc=function(e,n){return this.Ho(e,new ve(n)).next(function(r){var i=Bf();return r instanceof ft&&(i=i.zt(r.key,r)),i})},t.prototype.ec=function(e,n,r){var i=this,s=n.collectionGroup,a=Bf();return this.Ei.Us(e,s).next(function(c){return Y.forEach(c,function(l){var h=function(d,v){return new Fo(v,null,d.xt.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.nc(e,h,r).next(function(d){d.forEach(function(v,m){a=a.zt(v,m)})})}).next(function(){return a})})},t.prototype.nc=function(e,n,r){var i,s,a=this;return this.fo.Kr(e,n,r).next(function(c){return i=c,a.zo.Di(e,n)}).next(function(c){return s=c,a.sc(e,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],m=0,y=v.mutations;m<y.length;m++){var b=y[m],E=b.key,T=n0(b,i.get(E),v.vs);i=T instanceof ft?i.zt(E,T):i.remove(E)}})}).next(function(){return i.forEach(function(c,l){_h(n,l)||(i=i.remove(c))}),i})},t.prototype.sc=function(e,n,r){for(var i=at(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof Os&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.fo.getEntries(e,i).next(function(v){return v.forEach(function(m,y){y!==null&&y instanceof ft&&(d=d.zt(m,y))}),d})},t}(),S5=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.ic=r,this.rc=i}return t.oc=function(e,n){for(var r=at(),i=at(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),GD=function(){function t(){}return t.prototype.cc=function(e){this.ac=e},t.prototype.Kr=function(e,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.xt.length===0||a.xt.length===1&&a.xt[0].field.ut())}(n)||r.isEqual(Ue.min())?this.uc(e,n):this.ac.Xo(e,i).next(function(a){var c=s.hc(n,a);return(hp(n)||tv(n))&&s.lc(n.limitType,c,i,r)?s.uc(e,n):(Jw()<=Le.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),t0(n)),s.ac.Kr(e,n,r).next(function(l){return c.forEach(function(h){l=l.zt(h.key,h)}),l}))})},t.prototype.hc=function(e,n){var r=new sn(cD(e));return n.forEach(function(i,s){s instanceof ft&&_h(e,s)&&(r=r.add(s))}),r},t.prototype.lc=function(e,n,r,i){if(r.size!==n.size)return!0;var s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},t.prototype.uc=function(e,n){return Jw()<=Le.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",t0(n)),this.ac.Kr(e,n,Ue.min())},t}(),C5=function(){function t(e,n,r,i){this.persistence=e,this._c=n,this.Qt=i,this.fc=new qn(qe),this.dc=new Hc(function(s){return mh(s)},rg),this.wc=Ue.min(),this.zo=e.Qo(r),this.Ec=e.$r(),this._o=e.Sr(),this.Tc=new HD(this.Ec,this.zo,this.persistence.Ko()),this.wo=e.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.Vr(r,n.fc)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t,e,n,r){return new C5(t,e,n,r)}function YD(t,e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=te(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n.zo.pi(c).next(function(h){return l=h,r=n.persistence.Qo(e),i=new HD(n.Ec,r,n.persistence.Ko()),r.pi(c)}).next(function(h){for(var d=[],v=[],m=at(),y=0,b=l;y<b.length;y++){var E=b[y];d.push(E.batchId);for(var T=0,A=E.mutations;T<A.length;T++){var P=A[T];m=m.add(P.key)}}for(var M=0,U=h;M<U.length;M++){var X=U[M];v.push(X.batchId);for(var j=0,Ie=X.mutations;j<Ie.length;j++){var rt=Ie[j];m=m.add(rt.key)}}return i.Xo(c,m).next(function(de){return{Ic:de,mc:d,Ac:v}})})})];case 1:return s=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function A5(t,e){var n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),m=Y.resolve();return v.forEach(function(y){m=m.next(function(){return h._i(c,y)}).next(function(b){var E=b,T=l.$s.get(y);Te(T!==null),(!E||E.version._(T)<0)&&(E=d.Ss(y,E,l))&&h.ai(E,l.Ns)})}),m.next(function(){return a.zo.Ci(c,d)})}(n,r,e,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function zD(t){var e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e._o.Qi(n)})}function N5(t,e){var n=te(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Ec.Nr({Wr:!0});i=n.fc;var c=[];e.$e.forEach(function(d,v){var m=i.get(v);if(m){c.push(n._o.sr(s,d.Qe,v).next(function(){return n._o.er(s,d.qe,v)}));var y=d.resumeToken;if(y.l()>0){var b=m.Mt(y,r).kt(s.bs);i=i.zt(v,b),function(E,T,A){return Te(T.resumeToken.l()>0),E.resumeToken.l()===0||T.Ot.W()-E.Ot.W()>=3e8||A.qe.size+A.Ue.size+A.Qe.size>0}(m,b,d)&&c.push(n._o.Hi(s,b))}}});var l=Ro();if(e.Oe.forEach(function(d,v){e.ke.has(d)&&c.push(n.persistence.Ti.Fr(s,d))}),c.push(KD(s,a,e.Oe,r,void 0).next(function(d){l=d})),!r.isEqual(Ue.min())){var h=n._o.Qi(s).next(function(d){return n._o.Wi(s,s.bs,r)});c.push(h)}return Y.Mn(c).next(function(){return a.apply(s)}).next(function(){return n.Tc.Zo(s,l)})}).then(function(s){return n.fc=i,s})}function KD(t,e,n,r,i){var s=at();return n.forEach(function(a){return s=s.add(a)}),e.getEntries(t,s).next(function(a){var c=Ro();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h instanceof on&&h.version.isEqual(Ue.min())?(e.li(l,v),c=c.zt(l,h)):d==null||h.version._(d.version)>0||h.version._(d.version)===0&&d.hasPendingWrites?(e.ai(h,v),c=c.zt(l,h)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function k5(t,e){var n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n.zo.gi(r,e)})}function Sc(t,e){var n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,e).next(function(s){return s?(i=s,Y.resolve(i)):n._o.Bi(r).next(function(a){return i=new ig(e,a,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(e,r.targetId)),r})}function Cc(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=te(t),i=r.fc.get(e),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.Ti.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!Ga(a=c.sent()))throw a;return J("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function av(t,e,n){var r=te(t),i=Ue.min(),s=at();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=te(c),v=d.dc.get(h);return v!==void 0?Y.resolve(d.fc.get(v)):d._o.tr(l,h)}(r,a,$r(e)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r._o.rr(a,c.targetId).next(function(l){s=l})}).next(function(){return r._c.Kr(a,e,n?i:Ue.min(),n?s:at())}).next(function(c){return{documents:c,Rc:s}})})}function QD(t,e){var n=te(t),r=te(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,e).next(function(a){return a?a.target:null})})}function XD(t){var e=te(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=te(r),c=Ro(),l=wE(s),h=is(i),d=IDBKeyRange.lowerBound(l,!0);return h.hs({index:Pt.readTimeIndex,range:d},function(v,m){var y=i0(a.Qt,m);c=c.zt(y.key,y),l=m.readTime}).next(function(){return{Go:c,readTime:UD(l)}})}(e.Ec,n,e.wc)}).then(function(n){var r=n.Go,i=n.readTime;return e.wc=i,r})}function R5(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){return[2,(e=te(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=is(i),a=Ue.min();return s.hs({index:Pt.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=UD(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.wc=r})]})})}function O5(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y;return N(this,function(b){switch(b.label){case 0:for(i=te(t),s=at(),a=Ro(),c=wD(),l=0,h=n;l<h.length;l++)d=h[l],v=e.Pc(d.metadata.name),d.document&&(s=s.add(v)),a=a.zt(v,e.yc(d)),c=c.zt(v,e.gc(d.metadata.readTime));return m=i.Ec.Nr({Wr:!0}),[4,Sc(i,function(E){return $r(qc(Ze.ot("__bundle__/docs/"+E)))}(r))];case 1:return y=b.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return KD(E,m,a,Ue.min(),c).next(function(T){return m.apply(E),T}).next(function(T){return i._o.Yi(E,y.targetId).next(function(){return i._o.er(E,s,y.targetId)}).next(function(){return i.Tc.Zo(E,T)})})})]}})})}function x5(t,e,n){return n===void 0&&(n=at()),R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,Sc(t,$r(bE(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=te(t)).persistence.runTransaction("Save named query","readwrite",function(a){var c=gn(e.readTime);if(r.Ot._(c)>=0)return i.wo.Ls(a,e);var l=r.Mt(tr.T,c);return i.fc=i.fc.zt(l.targetId,l),i._o.Hi(a,l).next(function(){return i._o.Yi(a,r.targetId)}).next(function(){return i._o.er(a,n,r.targetId)}).next(function(){return i.wo.Ls(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P5=function(){function t(e){this.Qt=e,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(e,n){return Y.resolve(this.Vc.get(n))},t.prototype.ks=function(e,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:gn(r.createTime)}),Y.resolve()},t.prototype.Ms=function(e,n){return Y.resolve(this.bc.get(n))},t.prototype.Ls=function(e,n){return this.bc.set(n.name,function(r){return{name:r.name,query:bE(r.bundledQuery),readTime:gn(r.readTime)}}(n)),Y.resolve()},t}(),IE=function(){function t(){this.vc=new sn(hn.Sc),this.Dc=new sn(hn.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(e,n){var r=new hn(e,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},t.prototype.xc=function(e,n){var r=this;e.forEach(function(i){return r.nr(i,n)})},t.prototype.ir=function(e,n){this.Nc(new hn(e,n))},t.prototype.$c=function(e,n){var r=this;e.forEach(function(i){return r.ir(i,n)})},t.prototype.Fc=function(e){var n=this,r=new ve(new Ze([])),i=new hn(r,e),s=new hn(r,e+1),a=[];return this.Dc.me([i,s],function(c){n.Nc(c),a.push(c.key)}),a},t.prototype.Oc=function(){var e=this;this.vc.forEach(function(n){return e.Nc(n)})},t.prototype.Nc=function(e){this.vc=this.vc.delete(e),this.Dc=this.Dc.delete(e)},t.prototype.kc=function(e){var n=new ve(new Ze([])),r=new hn(n,e),i=new hn(n,e+1),s=at();return this.Dc.me([r,i],function(a){s=s.add(a.key)}),s},t.prototype.Fi=function(e){var n=new hn(e,0),r=this.vc.Re(n);return r!==null&&e.isEqual(r.key)},t}(),hn=function(){function t(e,n){this.key=e,this.Mc=n}return t.Sc=function(e,n){return ve.H(e.key,n.key)||qe(e.Mc,n.Mc)},t.Cc=function(e,n){return qe(e.Mc,n.Mc)||ve.H(e.key,n.key)},t}(),D5=function(){function t(e,n){this.Ei=e,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new sn(hn.Sc)}return t.prototype.Ai=function(e){return Y.resolve(this.zo.length===0)},t.prototype.Ri=function(e,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var a=new _E(s,n,r,i);this.zo.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.Bc=this.Bc.add(new hn(h.key,s)),this.Ei.qs(e,h.key.path.X())}return Y.resolve(a)},t.prototype.Pi=function(e,n){return Y.resolve(this.qc(n))},t.prototype.gi=function(e,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return Y.resolve(this.zo.length>s?this.zo[s]:null)},t.prototype.Vi=function(){return Y.resolve(this.zo.length===0?-1:this.Lc-1)},t.prototype.pi=function(e){return Y.resolve(this.zo.slice())},t.prototype.bi=function(e,n){var r=this,i=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),a=[];return this.Bc.me([i,s],function(c){var l=r.qc(c.Mc);a.push(l)}),Y.resolve(a)},t.prototype.vi=function(e,n){var r=this,i=new sn(qe);return n.forEach(function(s){var a=new hn(s,0),c=new hn(s,Number.POSITIVE_INFINITY);r.Bc.me([a,c],function(l){i=i.add(l.Mc)})}),Y.resolve(this.Qc(i))},t.prototype.Di=function(e,n){var r=n.path,i=r.length+1,s=r;ve.wt(s)||(s=s.child(""));var a=new hn(new ve(s),0),c=new sn(qe);return this.Bc.Ae(function(l){var h=l.key.path;return!!r.nt(h)&&(h.length===i&&(c=c.add(l.Mc)),!0)},a),Y.resolve(this.Qc(c))},t.prototype.Qc=function(e){var n=this,r=[];return e.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},t.prototype.Ci=function(e,n){var r=this;Te(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return Y.forEach(n.mutations,function(s){var a=new hn(s.key,n.batchId);return i=i.delete(a),r.Ti.Ni(e,s.key)}).next(function(){r.Bc=i})},t.prototype.xi=function(e){},t.prototype.Fi=function(e,n){var r=new hn(n,0),i=this.Bc.Re(r);return Y.resolve(n.isEqual(i&&i.key))},t.prototype.$i=function(e){return this.zo.length,Y.resolve()},t.prototype.Kc=function(e,n){return this.Uc(e)},t.prototype.Uc=function(e){return this.zo.length===0?0:e-this.zo[0].batchId},t.prototype.qc=function(e){var n=this.Uc(e);return n<0||n>=this.zo.length?null:this.zo[n]},t}(),M5=function(){function t(e,n){this.Ei=e,this.Wc=n,this.docs=new qn(ve.H),this.size=0}return t.prototype.ai=function(e,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:c,readTime:r}),this.size+=c-a,this.Ei.qs(e,i.path.X())},t.prototype.li=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype._i=function(e,n){var r=this.docs.get(n);return Y.resolve(r?r.hi:null)},t.prototype.getEntries=function(e,n){var r=this,i=nv();return n.forEach(function(s){var a=r.docs.get(s);i=i.zt(s,a?a.hi:null)}),Y.resolve(i)},t.prototype.Kr=function(e,n,r){for(var i=Bf(),s=new ve(n.path.child("")),a=this.docs.ee(s);a.ce();){var c=a.oe(),l=c.key,h=c.value,d=h.hi,v=h.readTime;if(!n.path.nt(l.path))break;v._(r)<=0||d instanceof ft&&_h(n,d)&&(i=i.zt(d.key,d))}return Y.resolve(i)},t.prototype.jc=function(e,n){return Y.forEach(this.docs,function(r){return n(r)})},t.prototype.Nr=function(e){return new L5(this)},t.prototype.Or=function(e){return Y.resolve(this.size)},t}(),L5=function(t){function e(n){var r=this;return(r=t.call(this)||this).jr=n,r}return ee(e,t),e.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,a){a&&a.hi?i.push(r.jr.ai(n,a.hi,r.ci(s))):r.jr.li(s)}),Y.Mn(i)},e.prototype.fi=function(n,r){return this.jr._i(n,r)},e.prototype.di=function(n,r){return this.jr.getEntries(n,r)},e}(VD),F5=function(){function t(e){this.persistence=e,this.Gc=new Hc(function(n){return mh(n)},rg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.zc=0,this.Hc=new IE,this.targetCount=0,this.Jc=sv.Mi()}return t.prototype.In=function(e,n){return this.Gc.forEach(function(r,i){return n(i)}),Y.resolve()},t.prototype.Qi=function(e){return Y.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(e){return Y.resolve(this.zc)},t.prototype.Bi=function(e){return this.highestTargetId=this.Jc.next(),Y.resolve(this.highestTargetId)},t.prototype.Wi=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),Y.resolve()},t.prototype.Gi=function(e){this.Gc.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.Jc=new sv(n),this.highestTargetId=n),e.sequenceNumber>this.zc&&(this.zc=e.sequenceNumber)},t.prototype.ji=function(e,n){return this.Gi(n),this.targetCount+=1,Y.resolve()},t.prototype.Hi=function(e,n){return this.Gi(n),Y.resolve()},t.prototype.Ji=function(e,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,Y.resolve()},t.prototype.Xi=function(e,n,r){var i=this,s=0,a=[];return this.Gc.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.Gc.delete(c),a.push(i.Yi(e,l.targetId)),s++)}),Y.Mn(a).next(function(){return s})},t.prototype.Zi=function(e){return Y.resolve(this.targetCount)},t.prototype.tr=function(e,n){var r=this.Gc.get(n)||null;return Y.resolve(r)},t.prototype.er=function(e,n,r){return this.Hc.xc(n,r),Y.resolve()},t.prototype.sr=function(e,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(a){s.push(i.Ni(e,a))}),Y.Mn(s)},t.prototype.Yi=function(e,n){return this.Hc.Fc(n),Y.resolve()},t.prototype.rr=function(e,n){var r=this.Hc.kc(n);return Y.resolve(r)},t.prototype.Fi=function(e,n){return Y.resolve(this.Hc.Fi(n))},t}(),U5=function(){function t(e,n){var r=this;this.Yc={},this.so=new kr(0),this.io=!1,this.io=!0,this.Ti=e(this),this._o=new F5(this),this.Ei=new h5,this.fo=function(i,s){return new M5(i,function(a){return r.Ti.Xc(a)})}(this.Ei),this.Qt=new FD(n),this.wo=new P5(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(e){var n=this.Yc[e.A()];return n||(n=new D5(this.Ei,this.Ti),this.Yc[e.A()]=n),n},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(e,n,r){var i=this;J("MemoryPersistence","Starting transaction:",e);var s=new j5(this.so.next());return this.Ti.Zc(),r(s).next(function(a){return i.Ti.ta(s).next(function(){return a})}).On().then(function(a){return s.Vs(),a})},t.prototype.ea=function(e,n){return Y.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(e,n)}}))},t}(),j5=function(t){function e(n){var r=this;return(r=t.call(this)||this).bs=n,r}return ee(e,t),e}(LD),V5=function(){function t(e){this.persistence=e,this.na=new IE,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw fe()},enumerable:!1,configurable:!0}),t.prototype.nr=function(e,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),Y.resolve()},t.prototype.ir=function(e,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),Y.resolve()},t.prototype.Ni=function(e,n){return this.ra.add(n.toString()),Y.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(e,n.targetId).next(function(s){s.forEach(function(a){return r.ra.add(a.toString())})}).next(function(){return i.Ji(e,n)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(e){var n=this,r=this.persistence.$r().Nr();return Y.forEach(this.ra,function(i){var s=ve._t(i);return n.oa(e,s).next(function(a){a||r.li(s)})}).next(function(){return n.sa=null,r.apply(e)})},t.prototype.Fr=function(e,n){var r=this;return this.oa(e,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},t.prototype.Xc=function(e){return 0},t.prototype.oa=function(e,n){var r=this;return Y.Ln([function(){return Y.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(e,n)},function(){return r.persistence.ea(e,n)}])},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(t,e){return"firestore_clients_"+t+"_"+e}function xN(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function U_(t,e){return"firestore_targets_"+t+"_"+e}var PN=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.ca=function(e,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new G(s.error.code,s.error.message)),a?new t(e,n,s.state,i):(zt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),j_=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.ca=function(e,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new G(i.error.code,i.error.message)),s?new t(e,i.state,r):(zt("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),DN=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.ca=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=ag(),a=0;i&&a<r.activeTargetIds.length;++a)i=rD(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new t(e,s):(zt("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),B5=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.ca=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(zt("SharedClientState","Failed to parse online state: "+e),null)},t}(),o0=function(){function t(){this.activeTargetIds=ag()}return t.prototype.ua=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.ha=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.aa=function(){var e={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),V_=function(){function t(e,n,r,i,s){this.window=e,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new qn(qe),this.Er=!1,this.Ta=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=ON(this.persistenceKey,this.la),this.ma=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new o0),this.Aa=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ya=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.ga=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s,a,c,l,h,d,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this._a.Uo()];case 1:for(e=y.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(ON(this.persistenceKey,i)))&&(a=DN.ca(i,s))&&(this.Ea=this.Ea.zt(a.clientId,a));for(this.Va(),(c=this.storage.getItem(this.ya))&&(l=this.pa(c))&&this.ba(l),h=0,d=this.Ta;h<d.length;h++)v=d[h],this.wa(v);return this.Ta=[],this.window.addEventListener("unload",function(){return m.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(e){this.setItem(this.ma,JSON.stringify(e))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(e){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.Ca=function(e){this.xa(e,"pending")},t.prototype.Na=function(e,n,r){this.xa(e,n,r),this.$a(e)},t.prototype.Fa=function(e){var n="not-current";if(this.Da(e)){var r=this.storage.getItem(U_(this.persistenceKey,e));if(r){var i=j_.ca(e,r);i&&(n=i.state)}}return this.Oa.ua(e),this.Va(),n},t.prototype.ka=function(e){this.Oa.ha(e),this.Va()},t.prototype.Ma=function(e){return this.Oa.activeTargetIds.has(e)},t.prototype.La=function(e){this.removeItem(U_(this.persistenceKey,e))},t.prototype.Ba=function(e,n,r){this.qa(e,n,r)},t.prototype.Ua=function(e,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=e,r.forEach(function(s){i.Ca(s)})},t.prototype.Qa=function(e){this.Ka(e)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return J("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){J("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){J("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.wa=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(J("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void zt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return R(n,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(d){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(a=this.Ja(r.key,r.newValue)))return[2,this.Ya(a)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(c=this.Xa(r.key,r.newValue)))return[2,this.Za(c)]}else if(r.key===this.ya){if(r.newValue!==null&&(l=this.pa(r.newValue)))return[2,this.ba(l)]}else if(r.key===this.ma)(h=function(v){var m=kr.q;if(v!=null)try{var y=JSON.parse(v);Te(typeof y=="number"),m=y}catch(b){zt("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(r.newValue))!==kr.q&&this.k(h);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(e,n,r){var i=new PN(this.currentUser,e,n,r),s=xN(this.persistenceKey,this.currentUser,e);this.setItem(s,i.aa())},t.prototype.$a=function(e){var n=xN(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Ka=function(e){var n={clientId:this.la,onlineState:e};this.storage.setItem(this.ya,JSON.stringify(n))},t.prototype.qa=function(e,n,r){var i=U_(this.persistenceKey,e),s=new j_(e,n,r);this.setItem(i,s.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(e){var n=this.Aa.exec(e);return n?n[1]:null},t.prototype.Ha=function(e,n){var r=this.Ga(e);return DN.ca(r,n)},t.prototype.Ja=function(e,n){var r=this.Ra.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return PN.ca(new Cr(s),i,n)},t.prototype.Xa=function(e,n){var r=this.Pa.exec(e),i=Number(r[1]);return j_.ca(i,n)},t.prototype.pa=function(e){return B5.ca(e)},t.prototype.Ya=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){return e.user.uid===this.currentUser.uid?[2,this._a.eu(e.batchId,e.state,e.error)]:(J("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.Za=function(e){return this._a.nu(e.targetId,e.state,e.error)},t.prototype.za=function(e,n){var r=this,i=n?this.Ea.zt(e,n):this.Ea.remove(e),s=this.Sa(this.Ea),a=this.Sa(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this._a.su(c,l).then(function(){r.Ea=i})},t.prototype.ba=function(e){this.Ea.get(e.clientId)&&this.fa(e.onlineState)},t.prototype.Sa=function(e){var n=ag();return e.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},t}(),JD=function(){function t(){this.iu=new o0,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(e){},t.prototype.Na=function(e,n,r){},t.prototype.Fa=function(e){return this.iu.ua(e),this.ru[e]||"not-current"},t.prototype.Ba=function(e,n,r){this.ru[e]=n},t.prototype.ka=function(e){this.iu.ha(e)},t.prototype.Ma=function(e){return this.iu.activeTargetIds.has(e)},t.prototype.La=function(e){delete this.ru[e]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(e){return this.iu.activeTargetIds.has(e)},t.prototype.start=function(){return this.iu=new o0,Promise.resolve()},t.prototype.Ua=function(e,n,r){},t.prototype.Qa=function(e){},t.prototype.ko=function(){},t.prototype.B=function(e){},t.prototype.Wa=function(){},t}(),q5=function(){function t(){}return t.prototype.ou=function(e){},t.prototype.ko=function(){},t}(),MN=function(){function t(){var e=this;this.cu=function(){return e.au()},this.uu=function(){return e.hu()},this.lu=[],this._u()}return t.prototype.ou=function(e){this.lu.push(e)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.lu;e<n.length;e++)(0,n[e])(0)},t.prototype.hu=function(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.lu;e<n.length;e++)(0,n[e])(1)},t.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),W5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},H5=function(){function t(e){this.fu=e.fu,this.du=e.du}return t.prototype.wu=function(e){this.Eu=e},t.prototype.Tu=function(e){this.Iu=e},t.prototype.onMessage=function(e){this.mu=e},t.prototype.close=function(){this.du()},t.prototype.send=function(e){this.fu(e)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(e){this.Iu(e)},t.prototype.Pu=function(e){this.mu(e)},t}(),G5=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return ee(e,t),e.prototype.Su=function(n,r,i,s){return new Promise(function(a,c){var l=new gK;l.listenOnce(pK.COMPLETE,function(){try{switch(l.getLastErrorCode()){case L_.NO_ERROR:var d=l.getResponseJson();J("Connection","XHR received:",JSON.stringify(d)),a(d);break;case L_.TIMEOUT:J("Connection",'RPC "'+n+'" timed out'),c(new G(D.DEADLINE_EXCEEDED,"Request time out"));break;case L_.HTTP_ERROR:var v=l.getStatus();if(J("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var m=l.getResponseJson().error;if(m&&m.status&&m.message){var y=function(b){var E=b.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(E)>=0?E:D.UNKNOWN}(m.status);c(new G(y,m.message))}else c(new G(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new G(D.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{J("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},e.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=hK(),a=dK(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(c.initMessageHeaders,r),vb()||XO()||p$()||v$()||g$()||gb()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");J("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,m=new H5({fu:function(b){v?J("Connection","Not sending because WebChannel is closed:",b):(d||(J("Connection","Opening WebChannel transport."),h.open(),d=!0),J("Connection","WebChannel sending:",b),h.send(b))},du:function(){return h.close()}}),y=function(b,E,T){b.listen(E,function(A){try{T(A)}catch(P){setTimeout(function(){throw P},0)}})};return y(h,Hd.EventType.OPEN,function(){v||J("Connection","WebChannel transport opened.")}),y(h,Hd.EventType.CLOSE,function(){v||(v=!0,J("Connection","WebChannel transport closed"),m.Ru())}),y(h,Hd.EventType.ERROR,function(b){v||(v=!0,Qp("Connection","WebChannel transport errored:",b),m.Ru(new G(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,Hd.EventType.MESSAGE,function(b){var E;if(!v){var T=b.data[0];Te(!!T);var A=T,P=A.error||((E=A[0])===null||E===void 0?void 0:E.error);if(P){J("Connection","WebChannel received error:",P);var M=P.status,U=function(j){var Ie=$t[j];if(Ie!==void 0)return _D(Ie)}(M),X=P.message;U===void 0&&(U=D.INTERNAL,X="Unknown error status: "+M+" with message "+P.message),v=!0,m.Ru(new G(U,X)),h.close()}else J("Connection","WebChannel received:",T),m.Pu(T)}}),y(a,vK.STAT_EVENT,function(b){b.stat===QA.PROXY?J("Connection","Detected buffering proxy"):b.stat===QA.NOPROXY&&J("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Au()},0),m},e}(function(){function t(e){this.yu=e,this.t=e.t;var n=e.ssl?"https":"http";this.gu=n+"://"+e.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(e,n,r,i){var s=this.bu(e,n);J("RestConnection","Sending: ",s,r);var a={};return this.vu(a,i),this.Su(e,s,a,r).then(function(c){return J("RestConnection","Received: ",c),c},function(c){throw Qp("RestConnection",e+" failed with error: ",c,"url: ",s,"request:",r),c})},t.prototype.Du=function(e,n,r,i){return this.pu(e,n,r,i)},t.prototype.vu=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",e["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(e[r]=n.g[r])},t.prototype.bu=function(e,n){var r=W5[e];return this.gu+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return typeof window<"u"?window:null}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return new KK(t,!0)}var SE=function(){function t(e,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=e,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(e){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&J("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),e()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),eM=function(){function t(e,n,r,i,s,a){this.Zr=e,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=a,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new SE(e,n)}return t.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},t.prototype.Hu=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.Ju()},t.prototype.stop=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var e=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return e.Zu()}))},t.prototype.th=function(e){this.eh(),this.stream.send(e)},t.prototype.Zu=function(){return R(this,void 0,void 0,function(){return N(this,function(e){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(e,n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,e!==3?this.Gu.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(zt(n.toString()),zt("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===D.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){e.Wu===r&&e.ih(i)},function(i){n(function(){var s=new G(D.UNKNOWN,"Fetching auth token failed: "+i.message);return e.rh(s)})})},t.prototype.ih=function(e){var n=this,r=this.sh(this.Wu);this.stream=this.oh(e),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.Ju=function(){var e=this;this.state=4,this.Gu.Lu(function(){return R(e,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(e){return J("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.sh=function(e){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===e?r():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),$5=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).Qt=s,c}return ee(e,t),e.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},e.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:fe()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(T,A){return T.Bt?(Te(A===void 0||typeof A=="string"),tr.fromBase64String(A||"")):(Te(A===void 0||A instanceof Uint8Array),tr.fromUint8Array(A||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(T){var A=T.code===void 0?D.UNKNOWN:_D(T.code);return new G(A,T.message||"")}(m);c=new TD(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=Bi(s,l.document.name),d=gn(l.document.updateTime);var m=new Cs({mapValue:{fields:l.document.fields}}),y=(v=new ft(h,d,m,{}),l.targetIds||[]),b=l.removedTargetIds||[];c=new pp(y,b,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=Bi(s,l.document),d=l.readTime?gn(l.readTime):Ue.min(),m=new on(h,d),v=l.removedTargetIds||[],c=new pp([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=Bi(s,l.document),d=l.removedTargetIds||[],c=new pp([],d,h,null);else{if(!("filter"in a))return fe();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new VK(l),d=E.targetId,c=new ED(d,h)}return c}(this.Qt,n),i=function(s){if(!("targetChange"in s))return Ue.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Ue.min():a.readTime?gn(a.readTime):Ue.min()}(n);return this.listener.ah(r,i)},e.prototype.uh=function(n){var r={};r.database=Hf(this.Qt),r.addTarget=function(s,a){var c,l=a.target;return(c=Zp(l)?{documents:kD(s,l)}:{query:RD(s,l)}).targetId=a.targetId,a.resumeToken.l()>0?c.resumeToken=ID(s,a.resumeToken):a.Ot._(Ue.min())>0&&(c.readTime=qf(s,a.Ot.j())),c}(this.Qt,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,a.Ft);return c==null?null:{"goog-listen-tags":c}}(this.Qt,n);i&&(r.labels=i),this.th(r)},e.prototype.hh=function(n){var r={};r.database=Hf(this.Qt),r.removeTarget=n,this.th(r)},e}(eM),Y5=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).Qt=s,c.lh=!1,c}return ee(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(n){return this.Qu.Cu("Write",n)},e.prototype.onMessage=function(n){if(Te(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,a){return s&&s.length>0?(Te(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?gn(l.updateTime):gn(h);d.isEqual(Ue.min())&&(d=gn(h));var v=null;return l.transformResults&&l.transformResults.length>0&&(v=l.transformResults),new FK(d,v)}(c,a)})):[]}(n.writeResults,n.commitTime),i=gn(n.commitTime);return this.listener.dh(i,r)}return Te(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var n={};n.database=Hf(this.Qt),this.th(n)},e.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return iv(r.Qt,s)})};this.th(i)},e}(eM),z5=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return ee(e,t),e.prototype.Ih=function(){if(this.Th)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.pu(n,r,i,a)}).catch(function(a){throw a.code===D.UNAUTHENTICATED&&s.credentials.p(),a})},e.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.Du(n,r,i,a)}).catch(function(a){throw a.code===D.UNAUTHENTICATED&&s.credentials.p(),a})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),K5=function(){function t(e,n){this._s=e,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var e=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return e.Ah=null,e.gh("Backend didn't respond within 10 seconds."),e.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(e){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+e.toString()),this.yh("Offline")))},t.prototype.set=function(e){this.ph(),this.mh=0,e==="Online"&&(this.Rh=!1),this.yh(e)},t.prototype.yh=function(e){e!==this.state&&(this.state=e,this.fa(e))},t.prototype.gh=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?(zt(n),this.Rh=!1):J("OnlineStateTracker",n)},t.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},t}(),Q5=function(t,e,n,r,i){var s=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(a){n.Ps(function(){return R(s,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return xs(this)?(J("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return R(this,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return(h=te(l)).Nh.add(4),[4,Gc(h)];case 1:return d.sent(),h.Oh.set("Unknown"),h.Nh.delete(4),[4,Ih(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Oh=new K5(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:if(!xs(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Gc(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ug(t,e){var n=te(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),NE(n)?AE(n):Yc(n).Hu()&&CE(n,e))}function Gf(t,e){var n=te(t),r=Yc(n);n.xh.delete(e),r.Hu()&&tM(n,e),n.xh.size===0&&(r.Hu()?r.Xu():xs(n)&&n.Oh.set("Unknown"))}function CE(t,e){t.kh.on(e.targetId),Yc(t).uh(e)}function tM(t,e){t.kh.on(e),Yc(t).hh(e)}function AE(t){t.kh=new $K({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Yc(t).start(),t.Oh.Ph()}function NE(t){return xs(t)&&!Yc(t).zu()&&t.xh.size>0}function xs(t){return te(t).Nh.size===0}function nM(t){t.kh=void 0}function X5(t){return R(this,void 0,void 0,function(){return N(this,function(e){return t.xh.forEach(function(n,r){CE(t,n)}),[2]})})}function J5(t,e){return R(this,void 0,void 0,function(){return N(this,function(n){return nM(t),NE(t)?(t.Oh.Vh(e),AE(t)):t.Oh.set("Unknown"),[2]})})}function Z5(t,e,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(t.Oh.set("Online"),!(e instanceof TD&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return R(this,void 0,void 0,function(){var h,d,v,m;return N(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(m=v[d],c.xh.has(m)?[4,c.Dh.Mh(m,h)]:[3,3]):[3,5];case 2:y.sent(),c.xh.delete(m),c.kh.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,uv(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof pp?t.kh.dn(e):e instanceof ED?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Ue.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,zD(t.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(c,l){var h=c.kh.Vn(l);return h.$e.forEach(function(d,v){if(d.resumeToken.l()>0){var m=c.xh.get(v);m&&c.xh.set(v,m.Mt(d.resumeToken,l))}}),h.Fe.forEach(function(d){var v=c.xh.get(d);if(v){c.xh.set(d,v.Mt(tr.T,v.Ot)),tM(c,d);var m=new ig(v.target,d,1,v.sequenceNumber);CE(c,m)}}),c.Dh.Lh(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return J("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,uv(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function uv(t,e,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Ga(e))throw e;return t.Nh.add(1),[4,Gc(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return zD(t.bh)}),t._s.po(function(){return R(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return J("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),t.Nh.delete(1),[4,Ih(t)];case 2:return s.sent(),[2]}})})}),[2]}})})}function rM(t,e){return e().catch(function(n){return uv(t,n,e)})}function $c(t){return R(this,void 0,void 0,function(){var e,n,r,i,s;return N(this,function(a){switch(a.label){case 0:e=te(t),n=As(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return xs(c)&&c.Ch.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,k5(e.bh,r)];case 3:return(i=a.sent())===null?(e.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(c,l){c.Ch.push(l);var h=As(c);h.Hu()&&h._h&&h.fh(l.mutations)}(e,i),[3,6]);case 4:return s=a.sent(),[4,uv(e,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return iM(e)&&oM(e),[2]}})})}function iM(t){return xs(t)&&!As(t).zu()&&t.Ch.length>0}function oM(t){As(t).start()}function eQ(t){return R(this,void 0,void 0,function(){return N(this,function(e){return As(t).Eh(),[2]})})}function tQ(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){for(e=As(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]})})}function nQ(t,e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=t.Ch.shift(),i=l5.from(r,e,n),[4,rM(t,function(){return t.Dh.Bh(i)})];case 1:return s.sent(),[4,$c(t)];case 2:return s.sent(),[2]}})})}function rQ(t,e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return e&&As(t)._h?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return yD(a=i.code)&&a!==D.ABORTED?(s=r.Ch.shift(),As(r).Yu(),[4,rM(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,$c(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return iM(t)&&oM(t),[2]}})})}function s0(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=te(t),e?(n.Nh.delete(2),[4,Ih(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Gc(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Yc(t){var e=this;return t.Uh||(t.Uh=function(n,r,i){var s=te(n);return s.Ih(),new $5(r,s.Qu,s.credentials,s.Qt,i)}(t.Sh,t._s,{wu:X5.bind(null,t),Tu:J5.bind(null,t),ah:Z5.bind(null,t)}),t.$h.push(function(n){return R(e,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(t.Uh.Yu(),NE(t)?AE(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:r.sent(),nM(t),r.label=3;case 3:return[2]}})})})),t.Uh}function As(t){var e=this;return t.Qh||(t.Qh=function(n,r,i){var s=te(n);return s.Ih(),new Y5(r,s.Qu,s.credentials,s.Qt,i)}(t.Sh,t._s,{wu:eQ.bind(null,t),Tu:rQ.bind(null,t),wh:tQ.bind(null,t),dh:nQ.bind(null,t)}),t.$h.push(function(n){return R(e,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(t.Qh.Yu(),[4,$c(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:r.sent(),t.Ch.length>0&&(J("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),r.label=4;case 4:return[2]}})})})),t.Qh}var iQ=function(){this.Kh=void 0,this.listeners=[]},oQ=function(){this.queries=new Hc(function(t){return uD(t)},yh),this.onlineState="Unknown",this.Wh=new Set};function kE(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(n=te(t),r=e.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new iQ),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.jh(r)];case 2:return a.Kh=h.sent(),[3,4];case 3:return c=h.sent(),l=Wc(c,"Initialization of query '"+t0(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Gh(n.onlineState),s.Kh&&e.zh(s.Kh)&&OE(n),[2]}})})}function RE(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){return n=te(t),r=e.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function sQ(t,e){for(var n=te(t),r=!1,i=0,s=e;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].zh(a)&&(r=!0);l.Kh=a}}r&&OE(n)}function aQ(t,e,n){var r=te(t),i=r.queries.get(e);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(e)}function OE(t){t.Wh.forEach(function(e){e.next()})}var xE=function(){function t(e,n,r){this.query=e,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.zh=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}e=new rv(e.query,e.docs,e.Se,n,e.De,e.fromCache,e.Ce,!0)}var a=!1;return this.Yh?this.Zh(e)&&(this.Jh.next(e),a=!0):this.tl(e,this.onlineState)&&(this.el(e),a=!0),this.Xh=e,a},t.prototype.onError=function(e){this.Jh.error(e)},t.prototype.Gh=function(e){this.onlineState=e;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,e)&&(this.el(this.Xh),n=!0),n},t.prototype.tl=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||e.docs.et()&&n!=="Offline")},t.prototype.Zh=function(e){if(e.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==e.hasPendingWrites;return!(!e.Ce&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.el=function(e){e=rv.Ne(e.query,e.docs,e.De,e.fromCache),this.Yh=!0,this.Jh.next(e)},t}(),uQ=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),LN=function(){function t(e){this.Qt=e}return t.prototype.Pc=function(e){return Bi(this.Qt,e)},t.prototype.yc=function(e){return e.metadata.exists?ND(this.Qt,e.document,!1):new on(this.Pc(e.metadata.name),this.gc(e.metadata.readTime))},t.prototype.gc=function(e){return gn(e)},t}(),cQ=function(){function t(e,n,r){this.il=e,this.bh=n,this.Qt=r,this.queries=[],this.documents=[],this.progress=sM(e)}return t.prototype.rl=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.ol=function(e){for(var n=new Map,r=new LN(this.Qt),i=0,s=e;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.Pc(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||at()).add(c);n.set(d,v)}}return n},t.prototype.complete=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,O5(this.bh,new LN(this.Qt),this.documents,this.il.id)];case 1:e=a.sent(),n=this.ol(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,x5(this.bh,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new I5(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aM=function(t){this.key=t},uM=function(t){this.key=t},cM=function(){function t(e,n){this.query=e,this.cl=n,this.al=null,this.Be=!1,this.ul=at(),this.De=at(),this.hl=cD(e),this.ll=new bD(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(e,n){var r=this,i=n?n.dl:new fN,s=n?n.ll:this.ll,a=n?n.De:this.De,c=s,l=!1,h=hp(this.query)&&s.size===this.query.limit?s.last():null,d=tv(this.query)&&s.size===this.query.limit?s.first():null;if(e.Xt(function(m,y){var b=s.get(m),E=y instanceof ft?y:null;E&&(E=_h(r.query,E)?E:null);var T=!!b&&r.De.has(b.key),A=!!E&&(E.Vt||r.De.has(E.key)&&E.hasCommittedMutations),P=!1;b&&E?b.data().isEqual(E.data())?T!==A&&(i.track({type:3,doc:E}),P=!0):r.wl(b,E)||(i.track({type:2,doc:E}),P=!0,(h&&r.hl(E,h)>0||d&&r.hl(E,d)<0)&&(l=!0)):!b&&E?(i.track({type:0,doc:E}),P=!0):b&&!E&&(i.track({type:1,doc:b}),P=!0,(h||d)&&(l=!0)),P&&(E?(c=c.add(E),a=A?a.add(m):a.delete(m)):(c=c.delete(m),a=a.delete(m)))}),hp(this.query)||tv(this.query))for(;c.size>this.query.limit;){var v=hp(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ll:c,dl:i,lc:l,De:a}},t.prototype.wl=function(e,n){return e.Vt&&n.hasCommittedMutations&&!n.Vt},t.prototype.wi=function(e,n,r){var i=this,s=this.ll;this.ll=e.ll,this.De=e.De;var a=e.dl.ve();a.sort(function(d,v){return function(m,y){var b=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return b(m)-b(y)}(d.type,v.type)||i.hl(d.doc,v.doc)}),this.El(r);var c=n?this.Tl():[],l=this.ul.size===0&&this.Be?1:0,h=l!==this.al;return this.al=l,a.length!==0||h?{snapshot:new rv(this.query,e.ll,s,a,e.De,l===0,h,!1),Il:c}:{Il:c}},t.prototype.Gh=function(e){return this.Be&&e==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new fN,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(e){return!this.cl.has(e)&&!!this.ll.has(e)&&!this.ll.get(e).Vt},t.prototype.El=function(e){var n=this;e&&(e.qe.forEach(function(r){return n.cl=n.cl.add(r)}),e.Ue.forEach(function(r){}),e.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=e.Be)},t.prototype.Tl=function(){var e=this;if(!this.Be)return[];var n=this.ul;this.ul=at(),this.ll.forEach(function(i){e.ml(i.key)&&(e.ul=e.ul.add(i.key))});var r=[];return n.forEach(function(i){e.ul.has(i)||r.push(new uM(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new aM(i))}),r},t.prototype.Al=function(e){this.cl=e.Rc,this.ul=at();var n=this.fl(e.documents);return this.wi(n,!0)},t.prototype.Rl=function(){return rv.Ne(this.query,this.ll,this.De,this.al===0)},t}(),lQ=function(t,e,n){this.query=t,this.targetId=e,this.view=n},fQ=function(t){this.key=t,this.Pl=!1},hQ=function(){function t(e,n,r,i,s,a){this.bh=e,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=a,this.bl={},this.vl=new Hc(function(c){return uD(c)},yh),this.Sl=new Map,this.Dl=new Set,this.Cl=new qn(ve.H),this.xl=new Map,this.Nl=new IE,this.$l={},this.Fl=new Map,this.Ol=sv.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),t}();function dQ(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=FE(t),(s=n.vl.get(e))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,Sc(n.bh,$r(e))];case 2:return a=l.sent(),c=n.Vl.Fa(a.targetId),r=a.targetId,[4,PE(n,e,r,c==="current")];case 3:i=l.sent(),n.Ml&&ug(n.yl,a),l.label=4;case 4:return[2,i]}})})}function PE(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return t.Ll=function(v,m,y){return function(b,E,T,A){return R(this,void 0,void 0,function(){var P,M,U;return N(this,function(X){switch(X.label){case 0:return P=E.view.fl(T),P.lc?[4,av(b.bh,E.query,!1).then(function(j){var Ie=j.documents;return E.view.fl(Ie,P)})]:[3,2];case 1:P=X.sent(),X.label=2;case 2:return M=A&&A.$e.get(E.targetId),U=E.view.wi(P,b.Ml,M),[2,(a0(b,E.targetId,U.Il),U.snapshot)]}})})}(t,v,m,y)},[4,av(t.bh,e,!0)];case 1:return i=d.sent(),s=new cM(e,i.Rc),a=s.fl(i.documents),c=gE.Le(n,r&&t.onlineState!=="Offline"),l=s.wi(a,t.Ml,c),a0(t,n,l.Il),h=new lQ(e,n,s),[2,(t.vl.set(e,h),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),l.snapshot)]}})})}function pQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=te(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(a){return!yh(a,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Cc(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),Gf(n.yl,r.targetId),Ac(n,r.targetId)}).catch($a)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ac(n,r.targetId),[4,Cc(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function vQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=UE(t),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=te(l),m=pr.now(),y=h.reduce(function(b,E){return b.add(E.key)},at());return v.persistence.runTransaction("Locally write mutations","readwrite",function(b){return v.Tc.Xo(b,y).next(function(E){d=E;for(var T=[],A=0,P=h;A<P.length;A++){var M=P[A],U=jK(M,d.get(M.key));U!=null&&T.push(new Os(M.key,U,iD(U.proto.mapValue),xn.exists(!0)))}return v.zo.Ri(b,m,T,h)})}).then(function(b){var E=b.xs(d);return{batchId:b.batchId,ri:E}})}(r.bh,e)];case 2:return i=c.sent(),r.Vl.Ca(i.batchId),function(l,h,d){var v=l.$l[l.currentUser.A()];v||(v=new qn(qe)),v=v.zt(h,d),l.$l[l.currentUser.A()]=v}(r,i.batchId,n),[4,Uo(r,i.ri)];case 3:return c.sent(),[4,$c(r.yl)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=Wc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function lM(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=te(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,N5(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(s,a){var c=n.xl.get(a);c&&(Te(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?c.Pl=!0:s.Ue.size>0?Te(c.Pl):s.Qe.size>0&&(Te(c.Pl),c.Pl=!1))}),[4,Uo(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$a(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function FN(t,e,n){var r=te(t);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,a){var c=a.view.Gh(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=te(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,m=d.listeners;v<m.length;v++)m[v].Gh(a)&&(l=!0)}),l&&OE(c)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function gQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return(r=te(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(s=i&&i.key)?(a=(a=new qn(ve.H)).zt(s,new on(s,Ue.min())),c=at().add(s),l=new vE(Ue.min(),new Map,new sn(qe),a,c),[4,lM(r,l)]):[3,2];case 1:return h.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(e),LE(r),[3,4];case 2:return[4,Cc(r.bh,e,!1).then(function(){return Ac(r,e,n)}).catch($a)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function mQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=te(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,A5(n.bh,e)];case 2:return i=s.sent(),ME(n,r,null),DE(n,r),n.Vl.Na(r,"acknowledged"),[4,Uo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,$a(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function yQ(t,e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=te(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l.zo.Pi(h,c).next(function(v){return Te(v!==null),d=v.keys(),l.zo.Ci(h,v)}).next(function(){return l.zo.$i(h)}).next(function(){return l.Tc.Xo(h,d)})})}(r.bh,e)];case 2:return i=s.sent(),ME(r,e,n),DE(r,e),r.Vl.Na(e,"rejected",n),[4,Uo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,$a(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function _Q(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:xs((n=te(t)).yl)||J("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=te(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h.zo.Vi(d)})}(n.bh)];case 2:return(r=c.sent())===-1?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return s=c.sent(),a=Wc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function DE(t,e){(t.Fl.get(e)||[]).forEach(function(n){n.resolve()}),t.Fl.delete(e)}function ME(t,e,n){var r=te(t),i=r.$l[r.currentUser.A()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Ac(t,e,n){n===void 0&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var s=i[r];t.vl.delete(s),n&&t.bl.Bl(s,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(a){t.Nl.Fi(a)||fM(t,a)})}function fM(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);n!==null&&(Gf(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),LE(t))}function a0(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof aM?(t.Nl.nr(s.key,e),wQ(t,s)):s instanceof uM?(J("SyncEngine","Document no longer in limbo: "+s.key),t.Nl.ir(s.key,e),t.Nl.Fi(s.key)||fM(t,s.key)):fe()}}function wQ(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Dl.add(r),LE(t))}function LE(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new ve(Ze.ot(e)),r=t.Ol.next();t.xl.set(r,new fQ(n)),t.Cl=t.Cl.zt(n,r),ug(t.yl,new ig($r(qc(n.path)),r,2,kr.q))}}function Uo(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r=te(t),i=[],s=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(l,h){a.push(r.Ll(h,e,n).then(function(d){if(d){r.Ml&&r.Vl.Ba(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=S5.oc(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.bl.ah(i),[4,function(l,h){return R(this,void 0,void 0,function(){var d,v,m,y,b,E,T,A,P;return N(this,function(M){switch(M.label){case 0:d=te(l),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(U){return Y.forEach(h,function(X){return Y.forEach(X.ic,function(j){return d.persistence.Ti.nr(U,X.targetId,j)}).next(function(){return Y.forEach(X.rc,function(j){return d.persistence.Ti.ir(U,X.targetId,j)})})})})];case 2:return M.sent(),[3,4];case 3:if(!Ga(v=M.sent()))throw v;return J("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)b=y[m],E=b.targetId,b.fromCache||(T=d.fc.get(E),A=T.Ot,P=T.Lt(A),d.fc=d.fc.zt(E,P));return[2]}})})}(r.bh,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function bQ(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=te(t)).currentUser.isEqual(e)?[3,3]:(J("SyncEngine","User change. New user:",e.A()),[4,YD(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(s,a){s.Fl.forEach(function(c){c.forEach(function(l){l.reject(new G(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Uo(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function EQ(t,e){var n=te(t),r=n.xl.get(e);if(r&&r.Pl)return at().add(r.key);var i=at(),s=n.Sl.get(e);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.vl.get(l);i=i.Pe(h.view._l)}return i}function TQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,av((n=te(t)).bh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Al(r),[2,(n.Ml&&a0(n,e.targetId,i.Il),i)]}})})}function IQ(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){return[2,XD((e=te(t)).bh).then(function(r){return Uo(e,r)})]})})}function SQ(t,e,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=te(c),d=te(h.zo);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.yi(v,l).next(function(m){return m?h.Tc.Xo(v,m):Y.resolve(null)})})}((i=te(t)).bh,e)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,$c(i.yl)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(ME(i,e,r||null),DE(i,e),function(c,l){te(te(c).zo).xi(l)}(i.bh,e)):fe(),a.label=4;case 4:return[4,Uo(i,s)];case 5:return a.sent(),[3,7];case 6:J("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function CQ(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return FE(n=te(t)),UE(n),e!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,UN(n,r.it())]);case 1:return i=d.sent(),n.kl=!0,[4,s0(n.yl,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],ug(n.yl,c);return[3,7];case 3:return e!==!1||n.kl===!1?[3,7]:(l=[],h=Promise.resolve(),n.Sl.forEach(function(v,m){n.Vl.Ma(m)?l.push(m):h=h.then(function(){return Ac(n,m),Cc(n.bh,m,!0)}),Gf(n.yl,m)}),[4,h]);case 4:return d.sent(),[4,UN(n,l)];case 5:return d.sent(),function(v){var m=te(v);m.xl.forEach(function(y,b){Gf(m.yl,b)}),m.Nl.Oc(),m.xl=new Map,m.Cl=new qn(ve.H)}(n),n.kl=!1,[4,s0(n.yl,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function UN(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m,y,b,E,T;return N(this,function(A){switch(A.label){case 0:r=te(t),i=[],s=[],a=0,c=e,A.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Sl.get(l))&&d.length!==0?[4,Sc(r.bh,$r(d[0]))]:[3,7]):[3,13];case 2:h=A.sent(),v=0,m=d,A.label=3;case 3:return v<m.length?(y=m[v],b=r.vl.get(y),[4,TQ(r,b)]):[3,6];case 4:(E=A.sent()).snapshot&&s.push(E.snapshot),A.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,QD(r.bh,l)];case 8:return T=A.sent(),[4,Sc(r.bh,T)];case 9:return h=A.sent(),[4,PE(r,hM(T),l,!1)];case 10:A.sent(),A.label=11;case 11:i.push(h),A.label=12;case 12:return a++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function hM(t){return sD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function AQ(t){var e=te(t);return te(te(e.bh).persistence).Uo()}function NQ(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a;return N(this,function(c){switch(c.label){case 0:return(i=te(t)).kl?(J("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,XD(i.bh)];case 3:return s=c.sent(),a=vE.Me(e,n==="current"),[4,Uo(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,Cc(i.bh,e,!0)];case 6:return c.sent(),Ac(i,e,r),[3,8];case 7:fe(),c.label=8;case 8:return[2]}})})}function kQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=FE(t)).kl)return[3,10];i=0,s=e,y.label=1;case 1:return i<s.length?(a=s[i],r.Sl.has(a)?(J("SyncEngine","Adding an already active target "+a),[3,5]):[4,QD(r.bh,a)]):[3,6];case 2:return c=y.sent(),[4,Sc(r.bh,c)];case 3:return l=y.sent(),[4,PE(r,hM(c),l.targetId,!1)];case 4:y.sent(),ug(r.yl,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(b){return N(this,function(E){switch(E.label){case 0:return r.Sl.has(b)?[4,Cc(r.bh,b,!1).then(function(){Gf(r.yl,b),Ac(r,b)}).catch($a)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(m=v[d],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function FE(t){var e=te(t);return e.yl.Dh.Lh=lM.bind(null,e),e.yl.Dh.vn=EQ.bind(null,e),e.yl.Dh.Mh=gQ.bind(null,e),e.bl.ah=sQ.bind(null,e.gl),e.bl.Bl=aQ.bind(null,e.gl),e}function UE(t){var e=te(t);return e.yl.Dh.Bh=mQ.bind(null,e),e.yl.Dh.qh=yQ.bind(null,e),e}function RQ(t,e,n){var r=te(t);(function(i,s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(b,E){var T=te(b),A=gn(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",function(P){return T.wo.Os(P,E.id)}).then(function(P){return!!P&&P.createTime._(A)>=0})}(i.bh,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a.ql(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(c)))];case 4:return a.Ul(sM(c)),l=new cQ(c,i.bh,s.Qt),[4,s.Ql()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.rl(h)]:[3,10];case 7:return(d=y.sent())&&a.Ul(d),[4,s.Ql()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,Uo(i,v.Go,void 0)];case 12:return y.sent(),[4,function(b,E){var T=te(b);return T.persistence.runTransaction("Save bundle","readwrite",function(A){return T.wo.ks(A,E)})}(i.bh,c)];case 13:return y.sent(),a.ql(v.progress),[3,15];case 14:return Qp("SyncEngine","Loading bundle failed with "+(m=y.sent())),a.Kl(m),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.Vl.Wa()})}var dM=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.Qt=Th(e.yu.t),this.Vl=this.Wl(e),this.persistence=this.jl(e),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(e),this.bh=this.Hl(e),[2]}})})},t.prototype.zl=function(e){return null},t.prototype.Hl=function(e){return $D(this.persistence,new GD,e.Jl,this.Qt)},t.prototype.jl=function(e){return new U5(V5.ia,this.Qt)},t.prototype.Wl=function(e){return new JD},t.prototype.terminate=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return e.sent(),[4,this.persistence.ko()];case 2:return e.sent(),[2]}})})},t}(),pM=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return ee(e,t),e.prototype.initialize=function(n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,R5(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,UE(this.Yl._a)];case 4:return r.sent(),[4,$c(this.Yl.yl)];case 5:return r.sent(),[2]}})})},e.prototype.Hl=function(n){return $D(this.persistence,new GD,n.Jl,this.Qt)},e.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new m5(r,n._s)},e.prototype.jl=function(n){var r=TE(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?Pi.Ys(this.cacheSizeBytes):Pi.ti;return new T5(this.synchronizeTabs,r,n.clientId,i,n._s,ZD(),vp(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(n){return new JD},e}(dM),OQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ee(e,t),e.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof V_?(this.Vl._a={eu:SQ.bind(null,r),nu:NQ.bind(null,r),su:kQ.bind(null,r),Uo:AQ.bind(null,r),tu:IQ.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(a){return R(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,CQ(this.Yl._a,a)];case 1:return c.sent(),this.Gl&&(a&&!this.Gl.Er?this.Gl.start(this.bh):a||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Wl=function(n){var r=ZD();if(!V_.Kn(r))throw new G(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=TE(n.yu.t,n.yu.persistenceKey);return new V_(r,n._s,i,n.clientId,n.Jl)},e}(pM),u0=function(){function t(){}return t.prototype.initialize=function(e,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=e.bh,this.Vl=e.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!e.synchronizeTabs),this.Vl.fa=function(s){return FN(r._a,s,1)},this.yl.Dh.n_=bQ.bind(null,this._a),[4,s0(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.t_=function(e){return new oQ},t.prototype.Xl=function(e){var n,r=Th(e.yu.t),i=(n=e.yu,new G5(n));return function(s,a,c){return new z5(s,a,c)}(e.credentials,i,r)},t.prototype.Zl=function(e){var n,r,i,s,a,c=this;return n=this.bh,r=this.Sh,i=e._s,s=function(l){return FN(c._a,l,0)},a=MN.Kn()?new MN:new q5,new Q5(n,r,i,s,a)},t.prototype.e_=function(e,n){return function(r,i,s,a,c,l,h){var d=new hQ(r,i,s,a,c,l);return h&&(d.kl=!0),d}(this.bh,this.yl,this.gl,this.Vl,e.Jl,e.pl,n)},t.prototype.terminate=function(){return function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=te(e),J("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,Gc(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return N(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cg=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.s_(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.s_(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),xQ=function(){function t(e,n){var r=this;this.r_=e,this.Qt=n,this.metadata=new nr,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(i){i&&i.sl()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return N(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.c_())]}})})},t.prototype.c_=function(){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.a_()];case 1:return(e=s.sent())===null?[2,null]:(n=this.o_.decode(e),r=Number(n),isNaN(r)&&this.u_("length string ("+n+") is not valid number"),[4,this.h_(r)]);case 2:return i=s.sent(),[2,new uQ(JSON.parse(i),e.length+r)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.a_=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.h_=function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.__()]:[3,3];case 1:r.sent()&&this.u_("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.o_.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.u_=function(e){throw this.r_.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.__=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,this.r_.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),Eo=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new _i(e)}return t.prototype.isEqual=function(e){return this.f_.isEqual(e.f_)},t}(),Ya=function(t){this._methodName=t},Ge=function(t){this.d_=t};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t,e,n){if(!n)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function VE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G(D.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function vM(t,e,n,r){if(e===!0&&r===!0)throw new G(D.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function VN(t){if(!ve.wt(t))throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function BN(t){if(ve.wt(t))throw new G(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":fe()}function Je(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lg(t);throw new G(D.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function qN(t,e){if(e<=0)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WN=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),HN=new Map,$f=function(){function t(e,n){this.w_="(lite)",this.E_=new WN({}),this.T_=!1,e instanceof Kp?(this.I_=e,this.m_=new XA):(this.A_=e,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new G(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kp(r.options.projectId)}(e),this.m_=new wK(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),t.prototype.g_=function(e){if(this.T_)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new WN(e),e.credentials!==void 0&&(this.m_=function(n){if(!n)return new XA;switch(n.type){case"gapi":var r=n.client;return Te(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new EK(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new G(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return e=this,(n=HN.get(e))&&(J("ComponentProvider","Removing Datastore"),HN.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),kt=function(){function t(e,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new _s(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),vr=function(){function t(e,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),_s=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,qc(i))||this).firestore=n,s.D_=i,s.type="collection",s}return ee(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new kt(this.firestore,null,new ve(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this.D_)},e}(vr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ge&&(t=t.d_),jE("collection","path",e),t instanceof $f)return BN(n=Ze.ot.apply(Ze,qt([e],r))),new _s(t,null,n);if(!(t instanceof kt||t instanceof _s))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return BN(n=Ze.ot.apply(Ze,qt([t.path],r)).child(Ze.ot(e))),new _s(t.firestore,null,n)}function gp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ge&&(t=t.d_),arguments.length===1&&(e=JP.u()),jE("doc","path",e),t instanceof $f)return VN(n=Ze.ot.apply(Ze,qt([e],r))),new kt(t,null,new ve(n));if(!(t instanceof kt||t instanceof _s))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return VN(n=t.D_.child(Ze.ot.apply(Ze,qt([e],r)))),new kt(t.firestore,t instanceof _s?t.v_:null,new ve(n))}function mM(t,e){return t instanceof Ge&&(t=t.d_),e instanceof Ge&&(e=e.d_),(t instanceof kt||t instanceof _s)&&(e instanceof kt||e instanceof _s)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function yM(t,e){return t instanceof Ge&&(t=t.d_),e instanceof Ge&&(e=e.d_),t instanceof vr&&e instanceof vr&&t.firestore===e.firestore&&yh(t.C_,e.C_)&&t.v_===e.v_}var fg=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=e,this.N_=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.x_===e.x_&&this.N_===e.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(e){return qe(this.x_,e.x_)||qe(this.N_,e.N_)},t}(),PQ=/^__.*__$/,DQ=function(){function t(e,n,r){this.data=e,this.Gt=n,this.fieldTransforms=r}return t.prototype.F_=function(e,n){return this.Gt!==null?new Os(e,this.data,this.Gt,n,this.fieldTransforms):new bh(e,this.data,n,this.fieldTransforms)},t}(),_M=function(){function t(e,n,r){this.data=e,this.Gt=n,this.fieldTransforms=r}return t.prototype.F_=function(e,n){return new Os(e,this.data,this.Gt,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var bM=function(){function t(e,n,r,i,s,a){this.settings=e,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.M_({path:r,B_:!1});return i.q_(e),i},t.prototype.U_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.M_({path:r,B_:!1});return i.O_(),i},t.prototype.Q_=function(e){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(e){return cv(e,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(e){return this.Gt.find(function(n){return e.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return e.nt(n.field)})!==void 0},t.prototype.O_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.q_(this.path.get(e))},t.prototype.q_=function(e){if(e.length===0)throw this.K_("Document fields must not be empty");if(wM(this.k_)&&PQ.test(e))throw this.K_('Document fields cannot begin and end with "__"')},t}(),MQ=function(){function t(e,n,r){this.t=e,this.ignoreUndefinedProperties=n,this.Qt=r||Th(e)}return t.prototype.G_=function(e,n,r,i){return i===void 0&&(i=!1),new bM({k_:e,methodName:n,j_:r,path:_i.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function za(t){var e=t.p_(),n=Th(t.I_);return new MQ(t.I_,!!e.ignoreUndefinedProperties,n)}function hg(t,e,n,r,i,s){s===void 0&&(s={});var a=t.G_(s.merge||s.mergeFields?2:0,e,n,i);HE("Data must be an object, but it was:",a,r);var c,l,h=IM(r,a);if(s.merge)c=new pc(a.Gt),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,m=s.mergeFields;v<m.length;v++){var y=c0(e,m[v],n);if(!a.contains(y))throw new G(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");CM(d,y)||d.push(y)}c=new pc(d),l=a.fieldTransforms.filter(function(b){return c.Tt(b.field)})}else c=null,l=a.fieldTransforms;return new DQ(new Cs(h),c,l)}var BE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Ya);function EM(t,e,n){return new bM({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var LQ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.z_=function(n){return new wh(n.path,new yc)},e.prototype.isEqual=function(n){return n instanceof e},e}(Ya),FQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).H_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=EM(this,n,!0),i=this.H_.map(function(a){return Ka(a,r)}),s=new Pa(i);return new wh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Ya),UQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).H_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=EM(this,n,!0),i=this.H_.map(function(a){return Ka(a,r)}),s=new Da(i);return new wh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Ya),jQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).J_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=new _c(n.Qt,hD(n.Qt,this.J_));return new wh(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Ya);function qE(t,e,n,r){var i=t.G_(1,e,n);HE("Data must be an object, but it was:",i,r);var s=[],a=new gh;vh(r,function(l,h){var d=GE(e,l,n);h instanceof Ge&&(h=h.d_);var v=i.U_(d);if(h instanceof BE)s.push(d);else{var m=Ka(h,v);m!=null&&(s.push(d),a.set(d,m))}});var c=new pc(s);return new _M(a.Pt(),c,i.fieldTransforms)}function WE(t,e,n,r,i,s){var a=t.G_(1,e,n),c=[c0(e,r,n)],l=[i];if(s.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(c0(e,s[h])),l.push(s[h+1]);for(var d=[],v=new gh,m=c.length-1;m>=0;--m)if(!CM(d,c[m])){var y=c[m],b=l[m];b instanceof Ge&&(b=b.d_);var E=a.U_(y);if(b instanceof BE)d.push(y);else{var T=Ka(b,E);T!=null&&(d.push(y),v.set(y,T))}}var A=new pc(d);return new _M(v.Pt(),A,a.fieldTransforms)}function TM(t,e,n,r){return r===void 0&&(r=!1),Ka(n,t.G_(r?4:3,e))}function Ka(t,e){if(t instanceof Ge&&(t=t.d_),SM(t))return HE("Unsupported field value:",e,t),IM(t,e);if(t instanceof Ya)return function(n,r){if(!wM(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&e.k_!==4)throw e.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=Ka(c[a],r.Q_(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(n instanceof Ge&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hD(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=pr.fromDate(n);return{timestampValue:qf(r.Qt,i)}}if(n instanceof pr)return i=new pr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:qf(r.Qt,i)};if(n instanceof fg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof xa)return{bytesValue:ID(r.Qt,n.I)};if(n instanceof kt){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:mE(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+lg(n))}(t,e)}function IM(t,e){var n={};return tD(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):vh(t,function(r,i){var s=Ka(i,e.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function SM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pr||t instanceof fg||t instanceof xa||t instanceof kt||t instanceof Ya)}function HE(t,e,n){if(!SM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=lg(n);throw r==="an object"?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function c0(t,e,n){if(e instanceof Ge&&(e=e.d_),e instanceof Eo)return e.f_;if(typeof e=="string")return GE(t,e);throw cv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var VQ=new RegExp("[~\\*/\\[\\]]");function GE(t,e,n){if(e.search(VQ)>=0)throw cv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Eo.bind.apply(Eo,qt([void 0],e.split("."))))().f_}catch{throw cv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function cv(t,e,n,r,i){var s=r&&!r.et(),a=i!==void 0,c="Function "+e+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new G(D.INVALID_ARGUMENT,(c+=". ")+t+l)}function CM(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BQ=function(){function t(e){this.Sh=e,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new G(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:return c=te(s),l=Hf(c.Qt)+"/documents",h={documents:a.map(function(b){return Wf(c.Qt,b)})},[4,c.Du("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(b){var E=function(T,A){return"found"in A?function(P,M){Te(!!M.found),M.found.name,M.found.updateTime;var U=Bi(P,M.found.name),X=gn(M.found.updateTime),j=new Cs({mapValue:{fields:M.found.fields}});return new ft(U,X,j,{})}(T,A):"missing"in A?function(P,M){Te(!!M.missing),Te(!!M.readTime);var U=Bi(P,M.missing),X=gn(M.readTime);return new on(U,X)}(T,A):fe()}(c.Qt,b);v.set(E.key.toString(),E)}),m=[],[2,(a.forEach(function(b){var E=v.get(b.toString());Te(!!E),m.push(E)}),m)]}})})}(this.Sh,e)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof on||s instanceof ft?r.sf(s):fe()}),n)]}})})},t.prototype.set=function(e,n){this.write(n.F_(e,this.jt(e))),this.tf.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.F_(e,this.rf(e)))}catch(r){this.Z_=r}this.tf.add(e.toString())},t.prototype.delete=function(e){this.write(new Eh(e,this.jt(e))),this.tf.add(e.toString())},t.prototype.commit=function(){return R(this,void 0,void 0,function(){var e,n=this;return N(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return e=this.Y_,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,s){var a=ve._t(s);n.mutations.push(new pE(a,n.jt(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,c,l;return N(this,function(h){switch(h.label){case 0:return a=te(i),c=Hf(a.Qt)+"/documents",l={writes:s.map(function(d){return iv(a.Qt,d)})},[4,a.pu("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(e){var n;if(e instanceof ft)n=e.version;else{if(!(e instanceof on))throw fe();n=Ue.min()}var r=this.Y_.get(e.key.toString());if(r){if(!n.isEqual(r))throw new G(D.ABORTED,"Document version changed between two reads.")}else this.Y_.set(e.key.toString(),n)},t.prototype.jt=function(e){var n=this.Y_.get(e.toString());return!this.tf.has(e.toString())&&n?xn.updateTime(n):xn.Kt()},t.prototype.rf=function(e){var n=this.Y_.get(e.toString());if(!this.tf.has(e.toString())&&n){if(n.isEqual(Ue.min()))throw new G(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xn.updateTime(n)}return xn.exists(!0)},t.prototype.write=function(e){this.nf(),this.mutations.push(e)},t.prototype.nf=function(){},t}(),qQ=function(){function t(e,n,r,i){this._s=e,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new SE(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var e=this;this.Gu.Lu(function(){return R(e,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new BQ(this.Sh),(r=this.uf(n))&&r.then(function(a){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(a)}).catch(function(c){i.hf(c)})})}).catch(function(a){i.hf(a)}),[2]})})})},t.prototype.uf=function(e){try{var n=this.updateFunction(e);return!Ha(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},t.prototype.hf=function(e){var n=this;this.cf>0&&this.lf(e)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(e)},t.prototype.lf=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!yD(n)}return!1},t}(),WQ=function(){function t(e,n,r){var i=this;this.credentials=e,this._s=n,this.yu=r,this.user=Cr.UNAUTHENTICATED,this.clientId=JP.u(),this._f=function(){},this.C=new nr,this.credentials.v(function(s){J("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return t.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.C.promise];case 1:return[2,(e.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(e){var n=this;this._f=e,this.C.promise.then(function(){return n._f(n.user)})},t.prototype.df=function(){if(this._s.wf)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this._s.Ef();var n=new nr;return this._s.Tf(function(){return R(e,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Wc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e){return R(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return t._s.Af(),J("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Jl,t.ff(function(a){r.isEqual(a)||(r=a,t._s.po(function(){return R(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,YD(e.bh,a)];case 1:return c.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function NM(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,$E(t)];case 1:return n=i.sent(),J("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(s){return t._s.po(function(){return function(a,c){return R(this,void 0,void 0,function(){var l,h;return N(this,function(d){switch(d.label){case 0:return(l=te(a))._s.Af(),J("RemoteStore","RemoteStore received new credentials"),h=xs(l),l.Nh.add(3),[4,Gc(l)];case 1:return d.sent(),h&&l.Oh.set("Unknown"),[4,l.Dh.n_(c)];case 2:return d.sent(),l.Nh.delete(3),[4,Ih(l)];case 3:return d.sent(),[2]}})})}(e.yl,s)})}),t.If=e,[2]}})})}function $E(t){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(J("FirestoreClient","Using default OfflineComponentProvider"),[4,AM(t,new dM)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function dg(t){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(J("FirestoreClient","Using default OnlineComponentProvider"),[4,NM(t,new u0)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function GN(t){return $E(t).then(function(e){return e.persistence})}function YE(t){return $E(t).then(function(e){return e.bh})}function $N(t){return dg(t).then(function(e){return e.yl})}function zE(t){return dg(t).then(function(e){return e._a})}function Nc(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,dg(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=dQ.bind(null,e._a),n.Hh=pQ.bind(null,e._a),n)]}})})}function YN(t,e,n){var r=this;n===void 0&&(n={});var i=new nr;return t._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new cg({next:function(b){l.Ps(function(){return RE(c,y)});var E=b.docs.has(h);!E&&b.fromCache?v.reject(new G(D.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&d&&d.source==="server"?v.reject(new G(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new xE(qc(h.path),m,{includeMetadataChanges:!0,nl:!0});return kE(c,y)},[4,Nc(t)];case 1:return[2,s.apply(void 0,[a.sent(),t._s,e,n,i])]}})})}),i.promise}function zN(t,e,n){var r=this;n===void 0&&(n={});var i=new nr;return t._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new cg({next:function(b){l.Ps(function(){return RE(c,y)}),b.fromCache&&d.source==="server"?v.reject(new G(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new xE(h,m,{includeMetadataChanges:!0,nl:!0});return kE(c,y)},[4,Nc(t)];case 1:return[2,s.apply(void 0,[a.sent(),t._s,e,n,i])]}})})}),i.promise}var HQ=function(){function t(){var e=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new SE(this,"async_queue_retry"),this.vf=function(){var r=vp();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Gu.qu()};var n=vp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(e){this.enqueue(e)},t.prototype.Tf=function(e){this.Sf(),this.Df(e)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var e=vp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(e){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(e)},t.prototype.po=function(e){var n=this;this.Ps(function(){return n.Pf.push(e),n.Cf()})},t.prototype.Cf=function(){return R(this,void 0,void 0,function(){var e,n=this;return N(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Ga(e=r.sent()))throw e;return J("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},t.prototype.Df=function(e){var n=this,r=this.Rf.then(function(){return n.pf=!0,e().catch(function(i){throw n.Vf=i,n.pf=!1,zt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},t.prototype.Tr=function(e,n,r){var i=this;this.Sf(),this.bf.indexOf(e)>-1&&(n=0);var s=i5.Ts(this,e,n,r,function(a){return i.xf(a)});return this.gf.push(s),s},t.prototype.Sf=function(){this.Vf&&fe()},t.prototype.Af=function(){},t.prototype.Nf=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,e=this.Rf];case 1:n.sent(),n.label=2;case 2:if(e!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.$f=function(e){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===e)return!0;return!1},t.prototype.Ff=function(e){var n=this;return this.Nf().then(function(){n.gf.sort(function(a,c){return a.ds-c.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),e!=="all"&&s.fs===e)break}return n.Nf()})},t.prototype.Of=function(e){this.bf.push(e)},t.prototype.xf=function(e){var n=this.gf.indexOf(e);this.gf.splice(n,1)},t}();function kc(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var GQ=function(){function t(){this.kf={},this.Mf=new nr,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this.kf={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this.Mf.promise.catch(e)},t.prototype.then=function(e,n){return this.Mf.promise.then(e,n)},t.prototype.ql=function(e){this.Ul(e),this.kf.complete&&this.kf.complete(),this.Mf.resolve(e)},t.prototype.Kl=function(e){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(e),this.Mf.reject(e)},t.prototype.Ul=function(e){this.Lf=e,this.kf.next&&this.kf.next(e)},t}(),$Q=-1,Bt=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).Bf=new HQ,i.w_="name"in n?n.name:"[DEFAULT]",i}return ee(e,t),e.prototype.b_=function(){return this.qf||kM(this),this.qf.terminate()},e}($f);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(t){return t.qf||kM(t),t.qf.df(),t.qf}function kM(t){var e=t.p_(),n=function(r,i,s){return new mK(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new WQ(t.m_,t.Bf,n)}function KN(t,e,n){var r=this,i=new nr;return t._s.enqueue(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,AM(t,n)];case 1:return a.sent(),[4,NM(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===D.FAILED_PRECONDITION||c.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function QN(t){if(t.R_||t.P_)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KE=function(){function t(){}return t.prototype.Uf=function(e,n){switch(n===void 0&&(n="none"),Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.Qf(e.timestampValue);case 4:return this.Kf(e,n);case 5:return e.stringValue;case 6:return this.Wf(vc(e.bytesValue));case 7:return this.jf(e.referenceValue);case 8:return this.Gf(e.geoPointValue);case 9:return this.zf(e.arrayValue,n);case 10:return this.Hf(e.mapValue,n);default:throw fe()}},t.prototype.Hf=function(e,n){var r=this,i={};return vh(e.fields||{},function(s,a){i[s]=r.Uf(a,n)}),i},t.prototype.Gf=function(e){return new fg(Yt(e.latitude),Yt(e.longitude))},t.prototype.zf=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.Uf(i,n)})},t.prototype.Kf=function(e,n){switch(n){case"previous":var r=nD(e);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(Uf(e));default:return null}},t.prototype.Qf=function(e){var n=Is(e);return new pr(n.seconds,n.nanos)},t.prototype.Jf=function(e,n){var r=Ze.ot(e);Te(PD(r));var i=new Kp(r.get(1),r.get(3)),s=new ve(r.Y(5));return i.isEqual(n)||zt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},t}(),Yf=function(){function t(e,n,r,i,s){this.Yf=e,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new kt(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this.Zf!==null},t.prototype.data=function(){if(this.Zf){if(this.v_){var e=new YQ(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(e)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(e){if(this.Zf){var n=this.Zf.data().field(lv("DocumentSnapshot.get",e));if(n!==null)return this.Xf.Uf(n)}},t}(),YQ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Yf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e){return typeof e=="string"?GE(t,e):e instanceof Ge?e.d_.f_:e.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(t){if(tv(t)&&t.xt.length===0)throw new G(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Sh=function(){};function Zo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.td(t)}return t}var zQ=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return ee(e,t),e.prototype.td=function(n){var r=za(n.firestore),i=function(s,a,c,l,h,d,v){var m;if(h.ut()){if(d==="array-contains"||d==="array-contains-any")throw new G(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){tk(v,d);for(var y=[],b=0,E=v;b<E.length;b++){var T=E[b];y.push(ek(l,s,T))}m={arrayValue:{values:y}}}else m=ek(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||tk(v,d),m=TM(c,"where",v,d==="in"||d==="not-in");var A=Rr.create(h,d,m);return function(P,M){if(M.Ct()){var U=fE(P);if(U!==null&&!U.isEqual(M.field))throw new G(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+U.toString()+"' and '"+M.field.toString()+"'");var X=lE(P);X!==null&&xM(P,M.field,X)}var j=function(Ie,rt){for(var de=0,yn=Ie.filters;de<yn.length;de++){var O=yn[de];if(rt.indexOf(O.op)>=0)return O.op}return null}(P,function(Ie){switch(Ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(M.op));if(j!==null)throw j===M.op?new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+M.op.toString()+"' filter."):new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+M.op.toString()+"' filters with '"+j.toString()+"' filters.")}(s,A),A}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new vr(n.firestore,n.v_,function(s,a){var c=s.filters.concat([a]);return new Fo(s.path,s.collectionGroup,s.xt.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},e}(Sh),KQ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return ee(e,t),e.prototype.td=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Ju(s,a);return function(l,h){if(lE(l)===null){var d=fE(l);d!==null&&xM(l,d,h.field)}}(i,c),c}(n.C_,this.ed,this.rd);return new vr(n.firestore,n.v_,function(i,s){var a=i.xt.concat([s]);return new Fo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},e}(Sh),XN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.od=r,s.ad=i,s}return ee(e,t),e.prototype.td=function(n){return new vr(n.firestore,n.v_,aD(n.C_,this.od,this.ad))},e}(Sh),JN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.ud=r,s.hd=i,s}return ee(e,t),e.prototype.td=function(n){var r=OM(n,this.type,this.ud,this.hd);return new vr(n.firestore,n.v_,function(i,s){return new Fo(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},e}(Sh),ZN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.ud=r,s.hd=i,s}return ee(e,t),e.prototype.td=function(n){var r=OM(n,this.type,this.ud,this.hd);return new vr(n.firestore,n.v_,function(i,s){return new Fo(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},e}(Sh);function OM(t,e,n,r){if(n[0]instanceof Ge&&(n[0]=n[0].d_),n[0]instanceof Yf)return function(s,a,c,l,h){if(!l)throw new G(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,m=mc(s);v<m.length;v++){var y=m[v];if(y.field.ut())d.push(Jp(a,l.key));else{var b=l.field(y.field);if(iE(b))throw new G(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var E=y.field.rt();throw new G(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(b)}}return new Vf(d,h)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=za(t.firestore);return function(s,a,c,l,h,d){var v=s.xt;if(h.length>v.length)throw new G(D.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var b=h[y];if(v[y].field.ut()){if(typeof b!="string")throw new G(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof b);if(!hE(s)&&b.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+b+"' contains a slash.");var E=s.path.child(Ze.ot(b));if(!ve.wt(E))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var T=new ve(E);m.push(Jp(a,T))}else{var A=TM(c,l,b);m.push(A)}}return new Vf(m,d)}(t.C_,t.firestore.I_,i,e,n,r)}function ek(t,e,n){if(n instanceof Ge&&(n=n.d_),typeof n=="string"){if(n==="")throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hE(e)&&n.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ze.ot(n));if(!ve.wt(r))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Jp(t,new ve(r))}if(n instanceof kt)return Jp(t,n.S_);throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+lg(n)+".")}function tk(t,e){if(!Array.isArray(t)||t.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new G(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function xM(t,e,n){if(!n.isEqual(e))throw new G(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var QQ=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new xa(n)},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new kt(this.firestore,null,r)},e}(KE),pa=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),To=function(t){function e(n,r,i,s,a,c){var l=this;return(l=t.call(this,n,r,i,s,c)||this).Yf=n,l.ld=n,l.metadata=a,l}return ee(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new lf(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(lv("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},e}(Yf),lf=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(To),us=function(){function t(e,n,r,i){this.Yf=e,this.Xf=n,this._d=i,this.metadata=new pa(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._d.docs.forEach(function(i){e.call(n,new lf(r.Yf,r.Xf,i.key,i,new pa(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._d.xe)throw new G(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(c){var l=new lf(r.Yf,r.Xf,c.doc.key,c.doc,new pa(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}var a=r._d.Se;return r._d.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new lf(r.Yf,r.Xf,c.doc.key,c.doc,new pa(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:XQ(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this.dd=n),this.fd},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}function PM(t,e){return t instanceof To&&e instanceof To?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(t.Zf===null?e.Zf===null:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof us&&e instanceof us&&t.Yf===e.Yf&&yM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new xa(n)},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new kt(this.firestore,null,r)},e}(KE);function nk(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Je(t,kt);var s=Je(t.firestore,Bt),a=za(s);return e instanceof Ge&&(e=e.d_),zf(s,[(typeof e=="string"||e instanceof Eo?WE(a,"updateDoc",t.S_,e,n,r):qE(a,"updateDoc",t.S_,e)).F_(t.S_,xn.exists(!0))])}function DM(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof Ge&&(t=t.d_);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||kc(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(kc(i[c])){var m=i[c];i[c]=(e=m.next)===null||e===void 0?void 0:e.bind(m),i[c+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[c+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(t instanceof kt)h=Je(t.firestore,Bt),d=qc(t.S_.path),l={next:function(E){i[c]&&i[c](l0(h,t,E))},error:i[c+1],complete:i[c+2]};else{var y=Je(t,vr);h=Je(y.firestore,Bt),d=y.C_;var b=new Ia(h);l={next:function(E){i[c]&&i[c](new us(h,b,y,E))},error:i[c+1],complete:i[c+2]},RM(t.C_)}return function(E,T,A,P){var M=this,U=new cg(P),X=new xE(T,U,A);return E._s.Ps(function(){return R(M,void 0,void 0,function(){var j;return N(this,function(Ie){switch(Ie.label){case 0:return j=kE,[4,Nc(E)];case 1:return[2,j.apply(void 0,[Ie.sent(),X])]}})})}),function(){U.i_(),E._s.Ps(function(){return R(M,void 0,void 0,function(){var j;return N(this,function(Ie){switch(Ie.label){case 0:return j=RE,[4,Nc(E)];case 1:return[2,j.apply(void 0,[Ie.sent(),X])]}})})})}}(pn(h),d,v,l)}function zf(t,e){return function(n,r){var i=this,s=new nr;return n._s.Ps(function(){return R(i,void 0,void 0,function(){var a;return N(this,function(c){switch(c.label){case 0:return a=vQ,[4,zE(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(pn(t),e)}function l0(t,e,n){var r=n.docs.get(e.S_),i=new Ia(t);return new To(t,i,e.S_,r,new pa(n.hasPendingWrites,n.fromCache),e.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JQ=function(){function t(e,n){this.Yf=e,this.wd=n,this.Ed=[],this.Td=!1,this.Id=za(e)}return t.prototype.set=function(e,n,r){this.md();var i=cs(e,this.Yf),s=pg(i.v_,n,r),a=hg(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(a.F_(i.S_,xn.Kt())),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var a,c=cs(e,this.Yf);return n instanceof Ge&&(n=n.d_),a=typeof n=="string"||n instanceof Eo?WE(this.Id,"WriteBatch.update",c.S_,n,r,i):qE(this.Id,"WriteBatch.update",c.S_,n),this.Ed.push(a.F_(c.S_,xn.exists(!0))),this},t.prototype.delete=function(e){this.md();var n=cs(e,this.Yf);return this.Ed=this.Ed.concat(new Eh(n.S_,xn.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new G(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function cs(t,e){if(t instanceof Ge&&(t=t.d_),t.firestore!==e)throw new G(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).Yf=n,i}return ee(e,t),e.prototype.get=function(n){var r=this,i=cs(n,this.Yf),s=new Ia(this.Yf);return t.prototype.get.call(this,n).then(function(a){return new To(r.Yf,s,i.S_,a.Zf,new pa(!1,!1),i.v_)})},e}(function(){function t(e,n){this.Yf=e,this.Ad=n,this.Id=za(e)}return t.prototype.get=function(e){var n=this,r=cs(e,this.Yf),i=new QQ(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return fe();var a=s[0];if(a instanceof on)return new Yf(n.Yf,i,r.S_,null,r.v_);if(a instanceof ft)return new Yf(n.Yf,i,a.key,a,r.v_);throw fe()})},t.prototype.set=function(e,n,r){var i=cs(e,this.Yf),s=pg(i.v_,n,r),a=hg(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,a),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=cs(e,this.Yf);return n instanceof Ge&&(n=n.d_),a=typeof n=="string"||n instanceof Eo?WE(this.Id,"Transaction.update",c.S_,n,r,i):qE(this.Id,"Transaction.update",c.S_,n),this.Ad.update(c.S_,a),this},t.prototype.delete=function(e){var n=cs(e,this.Yf);return this.Ad.delete(n.S_),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(){if(typeof Uint8Array>"u")throw new G(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ik(){if(typeof atob>"u")throw new G(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var MM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.fromBase64String=function(n){return ik(),new e(xa.fromBase64String(n))},e.fromUint8Array=function(n){return rk(),new e(xa.fromUint8Array(n))},e.prototype.toBase64=function(){return ik(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return rk(),this.d_.toUint8Array()},e.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ge),eX=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){QN(r=Je(r,Bt));var s=pn(r),a=r.p_(),c=new u0;return KN(s,c,new pM(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e.d_,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){QN(n=Je(n,Bt));var r=pn(n),i=n.p_(),s=new u0;return KN(r,s,new OQ(s,i.cacheSizeBytes))}(e.d_)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n.R_&&!n.P_)throw new G(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new nr;return n.Bf.Tf(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return wc.Kn()?(l=c+"main",[4,wc.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(TE(n.I_,n.w_))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(e.d_)},t}(),QE=function(t){function e(n,r,i){var s=this;return(s=t.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof Kp||(s.Pd=n),s}return ee(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},e.prototype.useEmulator=function(n,r){(function(i,s,a){var c=(i=Je(i,$f)).V_();c.host!=="firestore.googleapis.com"&&c.host!==s&&Qp("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1}))})(this.d_,n,r)},e.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return R(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,GN(n)];case 1:return i=a.sent(),[4,$N(n)];case 2:return s=a.sent(),[2,(i.yo(!0),function(c){var l=te(c);return l.Nh.delete(0),Ih(l)}(s))]}})})})}(pn(Je(this.d_,Bt)))},e.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return R(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,GN(n)];case 1:return i=a.sent(),[4,$N(n)];case 2:return s=a.sent(),[2,(i.yo(!1),function(c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return(l=te(c)).Nh.add(0),[4,Gc(l)];case 1:return h.sent(),l.Oh.set("Offline"),[2]}})})}(s))]}})})})}(pn(Je(this.d_,Bt)))},e.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&vM("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new nr;return n._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=_Q,[4,zE(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(pn(Je(this.d_,Bt)))},e.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var c=this,l=new cg(a);return s._s.Ps(function(){return R(c,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return h=function(v,m){te(v).Wh.add(m),m.next()},[4,Nc(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})}),function(){l.i_(),s._s.Ps(function(){return R(c,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return h=function(v,m){te(v).Wh.delete(m)},[4,Nc(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})})}}(pn(r=Je(r,Bt)),kc(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){try{return new fv(this,gM(this.d_,n))}catch(r){throw Kn(r,"collection()","Firestore.collection()")}},e.prototype.doc=function(n){try{return new Sa(this,gp(this.d_,n))}catch(r){throw Kn(r,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(n){try{return new Ch(this,function(r,i){if(r=Je(r,$f),jE("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new vr(r,null,function(s){return new Fo(Ze.ct(),s)}(i))}(this.d_,n))}catch(r){throw Kn(r,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,c){var l=this,h=new nr;return a._s.Ps(function(){return R(l,void 0,void 0,function(){var d;return N(this,function(v){switch(v.label){case 0:return[4,function(m){return dg(m).then(function(y){return y.Sh})}(a)];case 1:return d=v.sent(),new qQ(a._s,d,c,h).run(),[2]}})})}),h.promise}(pn(i),function(a){return s(new ZQ(i,a))})}(this.d_,function(i){return n(new LM(r,i))})},e.prototype.batch=function(){var n=this;return pn(this.d_),new FM(new JQ(this.d_,function(r){return zf(n.d_,r)}))},e.prototype.loadBundle=function(n){throw new G(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(n){throw new G(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ge),vg=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new MM(new xa(n))},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return Sa.yd(r,this.firestore,null)},e}(KE);function tX(t){var e;e=t,pi.setLogLevel(e)}var LM=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i.Xf=new vg(n),i}return ee(e,t),e.prototype.get=function(n){var r=this,i=va(n);return this.d_.get(i).then(function(s){return new Kf(r.Yf,new To(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},e.prototype.set=function(n,r,i){var s=va(n);return i?(VE("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},e.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=va(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,qt([l,r,i],a)),this},e.prototype.delete=function(n){var r=va(n);return this.d_.delete(r),this},e}(Ge),FM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.set=function(n,r,i){var s=va(n);return i?(VE("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},e.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=va(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,qt([l,r,i],a)),this},e.prototype.delete=function(n){var r=va(n);return this.d_.delete(r),this},e.prototype.commit=function(){return this.d_.commit()},e}(Ge),gg=function(t){function e(n,r,i){var s=this;return(s=t.call(this,i)||this).Yf=n,s.Xf=r,s}return ee(e,t),e.prototype.fromFirestore=function(n,r){var i=new lf(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new Qf(this.Yf,i),r??{})},e.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},e.gd=function(n,r){var i=e.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new e(n,new vg(n),r),s.set(r,a)),a},e}(Ge);gg.Vd=new WeakMap;var Sa=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).firestore=n,i.Xf=new vg(n),i}return ee(e,t),e.pd=function(n,r,i){if(n.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new e(r,new kt(r.d_,i,new ve(n)))},e.yd=function(n,r,i){return new e(r,new kt(r.d_,i,n))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new fv(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){try{return new fv(this.firestore,gM(this.d_,n))}catch(r){throw Kn(r,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(n){return n instanceof Ge&&(n=n.d_),n instanceof kt&&mM(this.d_,n)},e.prototype.set=function(n,r){r=VE("DocumentReference.set",r);try{return function(i,s,a){i=Je(i,kt);var c=Je(i.firestore,Bt),l=pg(i.v_,s,a);return zf(c,[hg(za(c),"setDoc",i.S_,l,i.v_!==null,a).F_(i.S_,xn.Kt())])}(this.d_,n,r)}catch(i){throw Kn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?nk(this.d_,n):nk.apply(void 0,qt([this.d_,n,r],i))}catch(a){throw Kn(a,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return zf(Je((n=this.d_).firestore,Bt),[new Eh(n.S_,xn.Kt())]);var n},e.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=UM(r),a=jM(r,function(c){return new Kf(n.firestore,new To(n.firestore.d_,n.Xf,c.S_,c.Zf,c.metadata,n.d_.v_))});return DM(this.d_,s,a)},e.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Je(i,kt);var s=Je(i.firestore,Bt),a=pn(s),c=new Ia(s);return function(l,h){var d=this,v=new nr;return l._s.Ps(function(){return R(d,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(b,E,T){return R(this,void 0,void 0,function(){var A,P;return N(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,function(U,X){var j=te(U);return j.persistence.runTransaction("read document","readonly",function(Ie){return j.Tc.Ho(Ie,X)})}(b,E)];case 1:return(P=M.sent())instanceof ft?T.resolve(P):P instanceof on?T.resolve(null):T.reject(new G(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=M.sent(),P=Wc(A,"Failed to get document '"+E+" from cache"),T.reject(P),[3,3];case 3:return[2]}})})},[4,YE(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.S_).then(function(l){return new To(s,c,i.S_,l,new pa(l instanceof ft&&l.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Je(i,kt);var s=Je(i.firestore,Bt);return YN(pn(s),i.S_,{source:"server"}).then(function(a){return l0(s,i,a)})}(this.d_):function(i){i=Je(i,kt);var s=Je(i.firestore,Bt);return YN(pn(s),i.S_).then(function(a){return l0(s,i,a)})}(this.d_)).then(function(i){return new Kf(r.firestore,new To(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(gg.gd(this.firestore,n)))},e}(Ge);function Kn(t,e,n){return t.message=t.message.replace(e,n),t}function UM(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!kc(r))return r}return{}}function jM(t,e){var n,r,i;return{next:function(s){i.next&&i.next(e(s))},error:(n=(i=kc(t[0])?t[0]:kc(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Kf=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Sa(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(n){return this.d_.data(n)},e.prototype.get=function(n,r){return this.d_.get(n,r)},e.prototype.isEqual=function(n){return PM(this.d_,n.d_)},e}(Ge),Qf=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(n){return this.d_.data(n)},e}(Kf),Ch=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).firestore=n,i.Xf=new vg(n),i}return ee(e,t),e.prototype.where=function(n,r,i){try{return new e(this.firestore,Zo(this.d_,function(s,a,c){var l=a,h=lv("where",s);return new zQ(h,l,c)}(n,r,i)))}catch(s){throw Kn(s,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(n,r){try{return new e(this.firestore,Zo(this.d_,function(i,s){s===void 0&&(s="asc");var a=s,c=lv("orderBy",i);return new KQ(c,a)}(n,r)))}catch(i){throw Kn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(n){try{return new e(this.firestore,Zo(this.d_,function(r){return qN("limit",r),new XN("limit",r,"F")}(n)))}catch(r){throw Kn(r,"limit()","Query.limit()")}},e.prototype.limitToLast=function(n){try{return new e(this.firestore,Zo(this.d_,function(r){return qN("limitToLast",r),new XN("limitToLast",r,"L")}(n)))}catch(r){throw Kn(r,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Zo(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new JN("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw Kn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Zo(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new JN("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw Kn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Zo(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new ZN("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw Kn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Zo(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new ZN("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw Kn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(n){return yM(this.d_,n.d_)},e.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Je(i,vr);var s=Je(i.firestore,Bt),a=pn(s),c=new Ia(s);return function(l,h){var d=this,v=new nr;return l._s.Ps(function(){return R(d,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(b,E,T){return R(this,void 0,void 0,function(){var A,P,M,U,X;return N(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,av(b,E,!0)];case 1:return X=j.sent(),A=new cM(E,X.Rc),P=A.fl(X.documents),M=A.wi(P,!1),T.resolve(M.snapshot),[3,3];case 2:return U=j.sent(),X=Wc(U,"Failed to execute query '"+E+" against cache"),T.reject(X),[3,3];case 3:return[2]}})})},[4,YE(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.C_).then(function(l){return new us(s,c,i,l)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Je(i,vr);var s=Je(i.firestore,Bt),a=pn(s),c=new Ia(s);return zN(a,i.C_,{source:"server"}).then(function(l){return new us(s,c,i,l)})}(this.d_):function(i){i=Je(i,vr);var s=Je(i.firestore,Bt),a=pn(s),c=new Ia(s);return RM(i.C_),zN(a,i.C_).then(function(l){return new us(s,c,i,l)})}(this.d_)).then(function(i){return new f0(r.firestore,new us(r.firestore.d_,r.Xf,r.d_,i._d))})},e.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=UM(r),a=jM(r,function(c){return new f0(n.firestore,new us(n.firestore.d_,n.Xf,n.d_,c._d))});return DM(this.d_,s,a)},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(gg.gd(this.firestore,n)))},e}(Ge),nX=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Qf(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(Ge),f0=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Ch(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new Qf(n.Yf,r)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new nX(r.Yf,i)})},e.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new Qf(i.Yf,s))})},e.prototype.isEqual=function(n){return PM(this.d_,n.d_)},e}(Ge),fv=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i.d_=r,i}return ee(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new Sa(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Sa(this.firestore,n===void 0?gp(this.d_):gp(this.d_,n))}catch(r){throw Kn(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,s){var a=Je(i.firestore,Bt),c=gp(i),l=pg(i.v_,s);return zf(a,[hg(za(i.firestore),"addDoc",c.S_,l,i.v_!==null,{}).F_(c.S_,xn.exists(!1))]).then(function(){return c})}(this.d_,n).then(function(i){return new Sa(r.firestore,i)})},e.prototype.isEqual=function(n){return mM(this.d_,n.d_)},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(gg.gd(this.firestore,n)))},e}(Ch);function va(t){return t instanceof Ge&&(t=t.d_),Je(t,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rX=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.call(this,new(Eo.bind.apply(Eo,qt([void 0],n))))||this}return ee(e,t),e.documentId=function(){return new e(_i.ht().rt())},e.prototype.isEqual=function(n){return n instanceof Ge&&(n=n.d_),n instanceof Eo&&this.d_.f_.isEqual(n.f_)},e}(Ge),iX=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.serverTimestamp=function(){var n=new LQ("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new e(n)},e.delete=function(){var n=new BE("deleteField");return n._methodName="FieldValue.delete",new e(n)},e.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new FQ("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new UQ("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(n){var r=function(i){return new jQ("increment",i)}(n);return r._methodName="FieldValue.increment",new e(r)},e.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},e}(Ge);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oX(t){return function(e,n){var r=pn(e=Je(e,Bt)),i=new GQ;return function(s,a,c,l){var h=this,d=function(v,m){return function(y,b){return new xQ(y,b)}(function(y,b){if(y instanceof Uint8Array)return jN(y,b);if(y instanceof ArrayBuffer)return jN(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(c,Th(a));s._s.Ps(function(){return R(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=RQ,[4,zE(s)];case 1:return v.apply(void 0,[m.sent(),d,l]),[2]}})})})}(r,e.I_,n,i),i}(this.d_,t)}function sX(t){var e,n,r=this;return(e=this.d_,n=t,function(i,s){var a=this;return i._s.enqueue(function(){return R(a,void 0,void 0,function(){var c;return N(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=te(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.wo.Ms(m,d)})},[4,YE(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(pn(e=Je(e,Bt)),n).then(function(i){return i?new vr(e,null,i.query):null})).then(function(i){return i?new Ch(r,i):null})}var aX={Firestore:QE,GeoPoint:fg,Timestamp:pr,Blob:MM,Transaction:LM,WriteBatch:FM,DocumentReference:Sa,DocumentSnapshot:Kf,Query:Ch,QueryDocumentSnapshot:Qf,QuerySnapshot:f0,CollectionReference:fv,FieldPath:rX,FieldValue:iX,setLogLevel:tX,CACHE_SIZE_UNLIMITED:$Q};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(t){(function(e,n){e.INTERNAL.registerComponent(new yr("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},aX)))})(t,function(e,n){return new QE(e,new Bt(e,n),new eX)}),t.registerVersion("@firebase/firestore","2.1.6")}uX(ae);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t){t.prototype.loadBundle=oX,t.prototype.namedQuery=sX}cX(QE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ok={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zu=function(t){ee(e,t);function e(n,r,i){var s=t.call(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s.code=n,s.details=i,s}return e}(Error);function lX(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function fX(t,e,n){var r=lX(t),i=r,s=void 0;try{var a=e&&e.error;if(a){var c=a.status;if(typeof c=="string"){if(!ok[c])return new Zu("internal","internal");r=ok[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Zu(r,i,s)}var hX=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return N(this,function(e){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dX="type.googleapis.com/google.protobuf.Int64Value",pX="type.googleapis.com/google.protobuf.UInt64Value";function sk(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var vX=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return sk(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case dX:case pX:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?sk(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gX(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new Zu("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var ak=function(){function t(e,n,r,i,s){var a=this;i===void 0&&(i="us-central1"),this.app_=e,this.fetchImpl=s,this.serializer=new vX,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new hX(n,r),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return l()}});try{var c=new URL(i);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:r["Content-Type"]="application/json",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),[2,{status:0,json:null}];case 4:s=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i.json()];case 6:return s=a.sent(),[3,8];case 7:return a.sent(),[3,8];case 8:return[2,{status:i.status,json:s}]}})})},t.prototype.call=function(e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y,b,E;return N(this,function(T){switch(T.label){case 0:return i=this._url(e),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=T.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=gX(l),d=h.timer,v=h.promise,[4,Promise.race([uk(d,this.postJSON(i,s,a)),v,uk(d,this.cancelAllRequests)])];case 2:if(m=T.sent(),!m)throw new Zu("cancelled","Firebase Functions instance was deleted.");if(y=fX(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Zu("internal","Response is not valid JSON object.");if(b=m.json.data,typeof b>"u"&&(b=m.json.result),typeof b>"u")throw new Zu("internal","Response is missing data field.");return E=this.serializer.decode(b),[2,{data:E}]}})})},t}();function uk(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mX="functions";function yX(t,e){var n={Functions:ak};function r(i,s){var a=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),l=i.getProvider("messaging");return new ak(a,c,l,s,e)}t.INTERNAL.registerComponent(new yr(mX,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var _X="@firebase/functions",wX="0.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yX(ae,fetch.bind(self));ae.registerVersion(_X,wX);function bX(t){return Array.prototype.slice.call(t)}function VM(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function mg(t,e,n){var r,i=new Promise(function(s,a){r=t[e].apply(t,n),VM(r).then(s,a)});return i.request=r,i}function EX(t,e,n){var r=mg(t,e,n);return r.then(function(i){if(i)return new Xf(i,r.request)})}function zc(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function XE(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return mg(this[e],i,arguments)})})}function yg(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function BM(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return EX(this[e],i,arguments)})})}function Qa(t){this._index=t}zc(Qa,"_index",["name","keyPath","multiEntry","unique"]);XE(Qa,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);BM(Qa,"_index",IDBIndex,["openCursor","openKeyCursor"]);function Xf(t,e){this._cursor=t,this._request=e}zc(Xf,"_cursor",["direction","key","primaryKey","value"]);XE(Xf,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(Xf.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),VM(e._request).then(function(r){if(r)return new Xf(r,e._request)})})})});function Xi(t){this._store=t}Xi.prototype.createIndex=function(){return new Qa(this._store.createIndex.apply(this._store,arguments))};Xi.prototype.index=function(){return new Qa(this._store.index.apply(this._store,arguments))};zc(Xi,"_store",["name","keyPath","indexNames","autoIncrement"]);XE(Xi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);BM(Xi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);yg(Xi,"_store",IDBObjectStore,["deleteIndex"]);function Ah(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}Ah.prototype.objectStore=function(){return new Xi(this._tx.objectStore.apply(this._tx,arguments))};zc(Ah,"_tx",["objectStoreNames","mode"]);yg(Ah,"_tx",IDBTransaction,["abort"]);function _g(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Ah(n)}_g.prototype.createObjectStore=function(){return new Xi(this._db.createObjectStore.apply(this._db,arguments))};zc(_g,"_db",["name","version","objectStoreNames"]);yg(_g,"_db",IDBDatabase,["deleteObjectStore","close"]);function wg(t){this._db=t}wg.prototype.transaction=function(){return new Ah(this._db.transaction.apply(this._db,arguments))};zc(wg,"_db",["name","version","objectStoreNames"]);yg(wg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Xi,Qa].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=bX(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Qa,Xi].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(e,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function JE(t,e,n){var r=mg(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new _g(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new wg(s)})}function B_(t){return mg(indexedDB,"deleteDatabase",[t])}var TX="@firebase/installations",qM="0.4.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WM=1e4,HM="w:"+qM,GM="FIS_v2",IX="https://firebaseinstallations.googleapis.com/v1",SX=60*60*1e3,CX="installations",AX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es,NX=(es={},es["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',es["not-registered"]="Firebase Installation is not registered.",es["installation-not-found"]="Firebase Installation not found.",es["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',es["app-offline"]="Could not process request. Application offline.",es["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",es),Oo=new Ns(CX,AX,NX);function $M(t){return t instanceof Fc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t){var e=t.projectId;return IX+"/projects/"+e+"/installations"}function YM(t){return{token:t.token,requestStatus:2,expiresIn:kX(t.expiresIn),creationTime:Date.now()}}function eT(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,Oo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function zM(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function KM(t,e){var n=e.refreshToken,r=zM(t);return r.append("Authorization",RX(n)),r}function tT(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function kX(t){return Number(t.replace("s","000"))}function RX(t){return GM+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OX(t,e){var n=e.fid;return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return r=ZE(t),i=zM(t),s={fid:n,authVersion:GM,appId:t.appId,sdkVersion:HM},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,tT(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:YM(l.authToken)},[2,h];case 3:return[4,eT("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xX(t){var e=btoa(String.fromCharCode.apply(String,Lo(t)));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PX=/^[cdef][\w-]{21}$/,h0="";function DX(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=MX(t);return PX.test(n)?n:h0}catch{return h0}}function MX(t){var e=xX(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rc=new Map;function XM(t,e){var n=Kc(t);JM(n,e),UX(n,e)}function LX(t,e){ZM();var n=Kc(t),r=Rc.get(n);r||(r=new Set,Rc.set(n,r)),r.add(e)}function FX(t,e){var n=Kc(t),r=Rc.get(n);r&&(r.delete(e),r.size===0&&Rc.delete(n),eL())}function JM(t,e){var n,r,i=Rc.get(t);if(i)try{for(var s=Vt(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function UX(t,e){var n=ZM();n&&n.postMessage({key:t,fid:e}),eL()}var ga=null;function ZM(){return!ga&&"BroadcastChannel"in self&&(ga=new BroadcastChannel("[Firebase] FID Change"),ga.onmessage=function(t){JM(t.data.key,t.data.fid)}),ga}function eL(){Rc.size===0&&ga&&(ga.close(),ga=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jX="firebase-installations-database",VX=1,Ma="firebase-installations-store",q_=null;function nT(){return q_||(q_=JE(jX,VX,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ma)}})),q_}function hv(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return n=Kc(t),[4,nT()];case 1:return r=c.sent(),i=r.transaction(Ma,"readwrite"),s=i.objectStore(Ma),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(e,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==e.fid)&&XM(t,e.fid),[2,e]}})})}function rT(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return e=Kc(t),[4,nT()];case 1:return n=i.sent(),r=n.transaction(Ma,"readwrite"),[4,r.objectStore(Ma).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Nh(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=Kc(t),[4,nT()];case 1:return r=l.sent(),i=r.transaction(Ma,"readwrite"),s=i.objectStore(Ma),[4,s.get(n)];case 2:return a=l.sent(),c=e(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&XM(t,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Nh(t,function(s){var a=BX(s),c=qX(t,a);return e=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==h0?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function BX(t){var e=t||{fid:DX(),registrationStatus:0};return tL(e)}function qX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Oo.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=WX(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:HX(t)}:{installationEntry:e}}function WX(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,OX(t,e)];case 1:return n=i.sent(),[2,hv(t,n)];case 2:return r=i.sent(),$M(r)&&r.customData.serverCode===409?[4,rT(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,hv(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function HX(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,ck(t)];case 1:e=s.sent(),s.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,QM(100)];case 3:return s.sent(),[4,ck(t)];case 4:return e=s.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,iT(t)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function ck(t){return Nh(t,function(e){if(!e)throw Oo.create("installation-not-found");return tL(e)})}function tL(t){return GX(t)?{fid:t.fid,registrationStatus:0}:t}function GX(t){return t.registrationStatus===1&&t.registrationTime+WM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $X(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return N(this,function(m){switch(m.label){case 0:return i=YX(n,e),s=KM(n,e),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:HM}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,tT(function(){return fetch(i,l)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=m.sent(),v=YM(d),[2,v];case 3:return[4,eT("Generate Auth Token",h)];case 4:throw m.sent()}})})}function YX(t,e){var n=e.fid;return ZE(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t,e){return e===void 0&&(e=!1),R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,Nh(t.appConfig,function(c){if(!nL(c))throw Oo.create("not-registered");var l=c.authToken;if(!e&&QX(l))return c;if(l.requestStatus===1)return n=zX(t,e),c;if(!navigator.onLine)throw Oo.create("app-offline");var h=JX(c);return n=KX(t,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function zX(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,lk(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,QM(100)];case 3:return i.sent(),[4,lk(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,oT(t,e)]:[2,r]}})})}function lk(t){return Nh(t,function(e){if(!nL(e))throw Oo.create("not-registered");var n=e.authToken;return ZX(n)?dt(dt({},e),{authToken:{requestStatus:0}}):e})}function KX(t,e){return R(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,$X(t,e)];case 1:return n=s.sent(),i=dt(dt({},e),{authToken:n}),[4,hv(t.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),$M(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,rT(t.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=dt(dt({},e),{authToken:{requestStatus:0}}),[4,hv(t.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function nL(t){return t!==void 0&&t.registrationStatus===2}function QX(t){return t.requestStatus===2&&!XX(t)}function XX(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+SX}function JX(t){var e={requestStatus:1,requestTime:Date.now()};return dt(dt({},t),{authToken:e})}function ZX(t){return t.requestStatus===1&&t.requestTime+WM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,iT(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):oT(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t,e){return e===void 0&&(e=!1),R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,n8(t.appConfig)];case 1:return r.sent(),[4,oT(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function n8(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,iT(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(t,e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=i8(t,e),r=KM(t,e),i={method:"DELETE",headers:r},[4,tT(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,eT("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function i8(t,e){var n=e.fid;return ZE(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,Nh(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Oo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Oo.create("app-offline");case 3:return[4,r8(e,n)];case 4:return r.sent(),[4,rT(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t,e){var n=t.appConfig;return LX(n,e),function(){FX(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){var e,n;if(!t||!t.options)throw W_("App Configuration");if(!t.name)throw W_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Vt(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!t.options[a])throw W_(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function W_(t){return Oo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){var e="installations";t.INTERNAL.registerComponent(new yr(e,function(n){var r=n.getProvider("app").getImmediate(),i=a8(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return e8(a)},getToken:function(l){return t8(a,l)},delete:function(){return o8(a)},onIdChange:function(l){return s8(a,l)}};return c},"PUBLIC")),t.registerVersion(TX,qM)}u8(ae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,c8=(Zt={},Zt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Zt["only-available-in-window"]="This method is available in a Window context.",Zt["only-available-in-sw"]="This method is available in a service worker context.",Zt["permission-default"]="The notification permission was not granted and dismissed instead.",Zt["permission-blocked"]="The notification permission was not granted and blocked instead.",Zt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Zt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Zt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Zt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Zt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Zt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Zt["token-update-no-token"]="FCM returned no token when updating the user to push.",Zt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Zt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Zt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Zt["invalid-vapid-key"]="The public VAPID key must be a string.",Zt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Zt),st=new Ns("messaging","Messaging",c8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l8="/firebase-messaging-sw.js",f8="/firebase-cloud-messaging-push-scope",dv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",h8="https://fcmregistrations.googleapis.com/v1",rL="FCM_MSG",d8="FirebaseMessaging: ",p8="google.c.a.e",iL="google.c.a.c_id",v8="google.c.a.ts",g8="google.c.a.c_l",m8=1e3,y8=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var La;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(La||(La={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Lo(e)));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _8(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H_="fcm_token_details_db",w8=5,fk="fcm_token_object_Store";function b8(t){return R(this,void 0,void 0,function(){var e,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(c){return c.name}),!n.includes(H_))return[2,null];a.label=2;case 2:return r=null,[4,JE(H_,w8,function(c){return R(s,void 0,void 0,function(){var l,h,d,d,d,v;return N(this,function(m){switch(m.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(fk)?(l=c.transaction.objectStore(fk),[4,l.index("fcmSenderId").get(t)]):[2];case 1:return h=m.sent(),[4,l.clear()];case 2:if(m.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:ho(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ho(d.auth),p256dh:ho(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ho(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ho(d.auth),p256dh:ho(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ho(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,B_(H_)];case 4:return a.sent(),[4,B_("fcm_vapid_details_db")];case 5:return a.sent(),[4,B_("undefined")];case 6:return a.sent(),[2,E8(r)?r:null]}})})}function E8(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T8="firebase-messaging-database",I8=1,Fa="firebase-messaging-store",G_=null;function sT(){return G_||(G_=JE(T8,I8,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Fa)}})),G_}function pv(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return e=uT(t),[4,sT()];case 1:return n=s.sent(),[4,n.transaction(Fa).objectStore(Fa).get(e)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,b8(t.appConfig.senderId)];case 4:return i=s.sent(),i?[4,aT(t,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function aT(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=uT(t),[4,sT()];case 1:return r=s.sent(),i=r.transaction(Fa,"readwrite"),[4,i.objectStore(Fa).put(e,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,e]}})})}function S8(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return e=uT(t),[4,sT()];case 1:return n=i.sent(),r=n.transaction(Fa,"readwrite"),[4,r.objectStore(Fa).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function uT(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,lT(t)];case 1:n=h.sent(),r=sL(e),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(cT(t.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),st.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,st.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw st.create("token-subscribe-no-token");return[2,s.token]}})})}function A8(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,lT(t)];case 1:n=h.sent(),r=sL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(cT(t.appConfig)+"/"+e.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),st.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,st.create("token-update-failed",{errorInfo:l});if(!s.token)throw st.create("token-update-no-token");return[2,s.token]}})})}function oL(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,lT(t)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(cT(t.appConfig)+"/"+e,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,st.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),st.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function cT(t){var e=t.projectId;return h8+"/projects/"+e+"/registrations"}function lT(t){var e=t.appConfig,n=t.installations;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function sL(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,s={web:{endpoint:r,auth:n,p256dh:e}};return i!==dv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N8=7*24*60*60*1e3;function d0(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw st.create("permission-blocked");return[4,R8(e,n)];case 1:return r=c.sent(),[4,pv(t)];case 2:return i=c.sent(),s={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:ho(r.getKey("auth")),p256dh:ho(r.getKey("p256dh"))},i?[3,3]:[2,hk(t,s)];case 3:if(O8(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,oL(t,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,hk(t,s)];case 8:return Date.now()>=i.createTime+N8?[2,k8({token:i.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,i.token];case 9:return[2]}})})}function ff(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,pv(t)];case 1:return n=i.sent(),n?[4,oL(t,n.token)]:[3,4];case 2:return i.sent(),[4,S8(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function k8(t,e,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,A8(e,t)];case 1:return r=a.sent(),i=dt(dt({},t),{token:r,createTime:Date.now()}),[4,aT(e,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,ff(e,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function hk(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,C8(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,aT(t,r)];case 2:return i.sent(),[2,r.token]}})})}function R8(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_8(e)})]}})})}function O8(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){var e={from:t.from,collapseKey:t.collapse_key};return P8(e,t),D8(e,t),M8(e,t),e}function P8(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function D8(t,e){e.data&&(t.data=e.data)}function M8(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t){return typeof t=="object"&&!!t&&iL in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L8=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw st.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,pv(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:dv,i.label=2;case 2:return[2,d0(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return ff(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw st.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw st.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw st.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw st.create("only-available-in-window")},t.prototype.onMessage=function(){throw st.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw st.create("only-available-in-window")},t.prototype.onPush=function(e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=U8(e),n?[4,uL()]:(console.debug(d8+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),V8(r)?[2,B8(r,n)]:(i=!1,n.notification?[4,q8(F8(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=x8(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,dk(m8)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,ff(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,pv(this.firebaseDependencies)];case 3:return s=a.sent(),[4,ff(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,d0(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:dv)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return R(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[rL],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),s=W8(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,j8(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,dk(y8)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=La.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},t}();function F8(t){var e,n=dt({},t.notification);return n.data=(e={},e[rL]=t,e),n}function U8(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function j8(t){return R(this,void 0,void 0,function(){var e,n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,uL()];case 1:e=l.sent();try{for(n=Vt(e),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),t.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function V8(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function B8(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=La.PUSH_RECEIVED;try{for(var i=Vt(t),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function uL(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function q8(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function W8(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(aL(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H8=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===La.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback($8(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,aL(r)&&r[p8]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw st.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,d0(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=dv),[2]})})},t.prototype.updateSwReg=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw st.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(l8,{scope:f8})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),st.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,ff(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?st.create("permission-blocked"):st.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw st.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw st.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw st.create("invalid-sw-registration");if(this.swRegistration)throw st.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw st.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw st.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=G8(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[iL],message_name:n[g8],message_time:n[v8],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function G8(t){switch(t){case La.NOTIFICATION_CLICKED:return"notification_open";case La.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $8(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){var e,n;if(!t||!t.options)throw $_("App Configuration Object");if(!t.name)throw $_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var s=Vt(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw $_(c)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function $_(t){return st.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z8="messaging";function K8(t){var e=t.getProvider("app").getImmediate(),n=Y8(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),s={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!cL())throw st.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new L8(s):new H8(s)}var Q8={isSupported:cL};ae.INTERNAL.registerComponent(new yr(z8,K8,"PUBLIC").setServiceProps(Q8));function cL(){return self&&"ServiceWorkerGlobalScope"in self?J8():X8()}function X8(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function J8(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lL="firebasestorage.googleapis.com",fL="storageBucket",Z8=2*60*1e3,e7=10*60*1e3,Wt=function(t){ee(e,t);function e(n,r){var i=t.call(this,Y_(n),"Firebase Storage: "+r+" ("+Y_(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return e.prototype.codeEquals=function(n){return Y_(n)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),e}(Fc),Ot={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function Y_(t){return"storage/"+t}function fT(){var t="An unknown error occurred, please check the error payload for server response.";return new Wt(Ot.UNKNOWN,t)}function t7(t){return new Wt(Ot.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function n7(t){return new Wt(Ot.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function r7(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt(Ot.UNAUTHENTICATED,t)}function i7(t){return new Wt(Ot.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function o7(){return new Wt(Ot.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hL(){return new Wt(Ot.CANCELED,"User canceled the upload/download.")}function s7(t){return new Wt(Ot.INVALID_URL,"Invalid URL '"+t+"'.")}function a7(t){return new Wt(Ot.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function u7(){return new Wt(Ot.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fL+"' property when initializing the app?")}function dL(){return new Wt(Ot.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function c7(){return new Wt(Ot.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function l7(){return new Wt(Ot.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function hf(t){return new Wt(Ot.INVALID_ARGUMENT,t)}function pL(){return new Wt(Ot.APP_DELETED,"The Firebase app was deleted.")}function vL(t){return new Wt(Ot.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function df(t,e){return new Wt(Ot.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Kd(t){throw new Wt(Ot.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Or={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},z_=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function gL(t,e){switch(t){case Or.RAW:return new z_(mL(e));case Or.BASE64:case Or.BASE64URL:return new z_(yL(t,e));case Or.DATA_URL:return new z_(h7(e),d7(e))}throw fT()}function mL(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function f7(t){var e;try{e=decodeURIComponent(t)}catch{throw df(Or.DATA_URL,"Malformed data URL.")}return mL(e)}function yL(t,e){switch(t){case Or.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw df(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Or.BASE64URL:{var s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw df(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(e)}catch{throw df(t,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var _L=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw df(Or.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=p7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function h7(t){var e=new _L(t);return e.base64?yL(Or.BASE64,e.rest):f7(e.rest)}function d7(t){var e=new _L(t);return e.contentType}function p7(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v7={STATE_CHANGED:"state_changed"},xe={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Qn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function K_(t){switch(t){case xe.RUNNING:case xe.PAUSING:case xe.CANCELING:return Qn.RUNNING;case xe.PAUSED:return Qn.PAUSED;case xe.SUCCESS:return Qn.SUCCESS;case xe.CANCELED:return Qn.CANCELED;case xe.ERROR:return Qn.ERROR;default:return Qn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ca;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ca||(Ca={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g7=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ca.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Ca.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=Ca.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw Kd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Kd("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Kd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Kd("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m7=function(){function t(){}return t.prototype.createXhrIo=function(){return new g7},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){return t!==void 0}function _7(t){return typeof t=="function"}function w7(t){return typeof t=="object"&&!Array.isArray(t)}function bg(t){return typeof t=="string"||t instanceof String}function pk(t){return hT()&&t instanceof Blob}function hT(){return typeof Blob<"u"}function p0(t,e,n,r){if(r<e)throw new Wt(Ot.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Wt(Ot.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function E7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=b7();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(hT())return new Blob(t);throw new Wt(Ot.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function T7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dT=function(){function t(e,n){var r=0,i="";pk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(pk(this.data_)){var r=this.data_,i=T7(r,e,n);return i===null?null:new t(i)}else{var s=new Uint8Array(this.data_.buffer,e,n-e);return new t(s,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(hT()){var r=e.map(function(l){return l instanceof t?l.data_:l});return new t(E7.apply(null,r))}else{var i=e.map(function(l){return bg(l)?gL(Or.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch{return new t(e,"")}if(n.path==="")return n;throw a7(e)},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(rt){rt.path.charAt(rt.path.length-1)==="/"&&(rt.path_=rt.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(rt){rt.path_=decodeURIComponent(rt.path)}for(var h="v[A-Za-z0-9_]+",d=lL.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp("^https?://"+d+"/"+h+"/b/"+r+"/o"+v,"i"),y={bucket:1,path:3},b="(?:storage.googleapis.com|storage.cloud.google.com)",E="([^?#]*)",T=new RegExp("^https?://"+b+"/"+r+"/"+E,"i"),A={bucket:1,path:2},P=[{regex:a,indices:c,postModify:i},{regex:m,indices:y,postModify:l},{regex:T,indices:A,postModify:l}],M=0;M<P.length;M++){var U=P[M],X=U.regex.exec(e);if(X){var j=X[U.indices.bucket],Ie=X[U.indices.path];Ie||(Ie=""),n=new t(j,Ie),U.postModify(n);break}}if(n==null)throw s7(e);return n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(t){var e;try{e=JSON.parse(t)}catch{return null}return w7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function S7(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function wL(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t){return"https://"+lL+"/v0"+t}function bL(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t,e){return e}var $n=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||C7}return t}(),Qd=null;function A7(t){return!bg(t)||t.length<2?t:wL(t)}function Eg(){if(Qd)return Qd;var t=[];t.push(new $n("bucket")),t.push(new $n("generation")),t.push(new $n("metageneration")),t.push(new $n("name","fullPath",!0));function e(s,a){return A7(a)}var n=new $n("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new $n("size");return i.xform=r,t.push(i),t.push(new $n("timeCreated")),t.push(new $n("updated")),t.push(new $n("md5Hash",null,!0)),t.push(new $n("cacheControl",null,!0)),t.push(new $n("contentDisposition",null,!0)),t.push(new $n("contentEncoding",null,!0)),t.push(new $n("contentLanguage",null,!0)),t.push(new $n("contentType",null,!0)),t.push(new $n("metadata","customMetadata",!0)),Qd=t,Qd}function N7(t,e){function n(){var r=t.bucket,i=t.fullPath,s=new li(r,i);return e.makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function k7(t,e,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,e[a.server])}return N7(r,t),r}function EL(t,e,n){var r=pT(e);if(r===null)return null;var i=r;return k7(t,i,n)}function R7(t,e){var n=pT(e);if(n===null||!bg(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(c){var l=t.bucket,h=t.fullPath,d="/b/"+i(l)+"/o/"+i(h),v=Ps(d),m=bL({alt:"media",token:c});return v+m});return a[0]}function vT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vk="prefixes",gk="items";function O7(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[vk])for(var i=0,s=n[vk];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=t.makeStorageReference(new li(e,c));r.prefixes.push(l)}if(n[gk])for(var h=0,d=n[gk];h<d.length;h++){var v=d[h],l=t.makeStorageReference(new li(e,v.name));r.items.push(l)}return r}function x7(t,e,n){var r=pT(n);if(r===null)return null;var i=r;return O7(t,e,i)}var jo=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t){if(!t)throw fT()}function Tg(t,e){function n(r,i){var s=EL(t,i,e);return qi(s!==null),s}return n}function P7(t,e){function n(r,i){var s=x7(t,e,i);return qi(s!==null),s}return n}function D7(t,e){function n(r,i){var s=EL(t,i,e);return qi(s!==null),R7(s,i)}return n}function Qc(t){function e(n,r){var i;return n.getStatus()===401?i=r7():n.getStatus()===402?i=n7(t.bucket):n.getStatus()===403?i=i7(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function Ig(t){var e=Qc(t);function n(r,i){var s=e(r,i);return r.getStatus()===404&&(s=t7(t.path)),s.serverResponse=i.serverResponse,s}return n}function TL(t,e,n){var r=e.fullServerUrl(),i=Ps(r),s="GET",a=t.maxOperationRetryTime,c=new jo(i,s,Tg(t,n),a);return c.errorHandler=Ig(e),c}function M7(t,e,n,r,i){var s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=e.bucketOnlyServerUrl(),c=Ps(a),l="GET",h=t.maxOperationRetryTime,d=new jo(c,l,P7(t,e.bucket),h);return d.urlParams=s,d.errorHandler=Qc(e),d}function L7(t,e,n){var r=e.fullServerUrl(),i=Ps(r),s="GET",a=t.maxOperationRetryTime,c=new jo(i,s,D7(t,n),a);return c.errorHandler=Ig(e),c}function F7(t,e,n,r){var i=e.fullServerUrl(),s=Ps(i),a="PATCH",c=vT(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,d=new jo(s,a,Tg(t,r),h);return d.headers=l,d.body=c,d.errorHandler=Ig(e),d}function U7(t,e){var n=e.fullServerUrl(),r=Ps(n),i="DELETE",s=t.maxOperationRetryTime;function a(l,h){}var c=new jo(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=Ig(e),c}function j7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function IL(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=j7(null,e)),r}function V7(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var M="",U=0;U<2;U++)M=M+Math.random().toString().slice(2);return M}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=IL(e,r,i),d=vT(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+l+"--",y=dT.getBlob(v,r,m);if(y===null)throw dL();var b={name:h.fullPath},E=Ps(s),T="POST",A=t.maxUploadRetryTime,P=new jo(E,T,Tg(t,n),A);return P.urlParams=b,P.headers=a,P.body=y.uploadData(),P.errorHandler=Qc(e),P}var vv=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function gT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{qi(!1)}var r=e||["active"];return qi(!!n&&r.indexOf(n)!==-1),n}function B7(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a=IL(e,r,i),c={name:a.fullPath},l=Ps(s),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=vT(a,n),m=t.maxUploadRetryTime;function y(E){gT(E);var T;try{T=E.getResponseHeader("X-Goog-Upload-URL")}catch{qi(!1)}return qi(bg(T)),T}var b=new jo(l,h,y,m);return b.urlParams=c,b.headers=d,b.body=v,b.errorHandler=Qc(e),b}function q7(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=gT(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{qi(!1)}v||qi(!1);var m=Number(v);return qi(!isNaN(m)),new vv(m,r.size(),d==="final")}var a="POST",c=t.maxUploadRetryTime,l=new jo(n,a,s,c);return l.headers=i,l.errorHandler=Qc(e),l}var mk=256*1024;function W7(t,e,n,r,i,s,a,c){var l=new vv(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw c7();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,m=v+d,y=d===h?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":l.current},E=r.slice(v,m);if(E===null)throw dL();function T(U,X){var j=gT(U,["active","final"]),Ie=l.current+d,rt=r.size(),de;return j==="final"?de=Tg(e,s)(U,X):de=null,new vv(Ie,rt,j==="final",de)}var A="POST",P=e.maxUploadRetryTime,M=new jo(n,A,T,P);return M.headers=b,M.body=E.uploadData(),M.progressCallback=c||null,M.errorHandler=Qc(t),M}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H7=function(){function t(e,n,r){var i=_7(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}return t}(),G7=function(){function t(e,n,r,i,s,a){this.bytesTransferred=e,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SL=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Eg(),this._resumable=this._shouldDoResumable(this._blob),this._state=xe.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(Ot.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(xe.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(Ot.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(xe.ERROR))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state===xe.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case xe.RUNNING:e(r);break;case xe.CANCELING:n._transition(xe.CANCELED);break;case xe.PAUSING:n._transition(xe.PAUSED);break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n){var r=B7(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._uploadUrl=s,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r){var i=q7(e._ref.storage,e._ref._location,n,e._blob),s=e._ref.storage.makeRequest(i,r);e._request=s,s.getPromise().then(function(a){a=a,e._request=void 0,e._updateProgress(a.current),e._needToFetchStatus=!1,a.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=mk*this._chunkMultiplier,r=new vv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=W7(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(l){e._error=l,e._transition(xe.ERROR);return}var c=e._ref.storage.makeRequest(a,s);e._request=c,c.getPromise().then(function(l){e._increaseMultiplier(),e._request=void 0,e._updateProgress(l.current),l.finalized?(e._metadata=l.metadata,e._transition(xe.SUCCESS)):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=mk*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n){var r=TL(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._transition(xe.SUCCESS)},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n){var r=V7(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._updateProgress(e._blob.size()),e._transition(xe.SUCCESS)},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case xe.CANCELING:this._state=e,this._request!==void 0&&this._request.cancel();break;case xe.PAUSING:this._state=e,this._request!==void 0&&this._request.cancel();break;case xe.RUNNING:var n=this._state===xe.PAUSED;this._state=e,n&&(this._notifyObservers(),this._start());break;case xe.PAUSED:this._state=e,this._notifyObservers();break;case xe.CANCELED:this._error=hL(),this._state=e,this._notifyObservers();break;case xe.ERROR:this._state=e,this._notifyObservers();break;case xe.SUCCESS:this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case xe.PAUSING:this._transition(xe.PAUSED);break;case xe.CANCELING:this._transition(xe.CANCELED);break;case xe.RUNNING:this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=K_(this._state);return new G7(this._transferred,this._blob.size(),e,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var s=this,a=new H7(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch(K_(this._state)){case Qn.SUCCESS:ku(this._resolve.bind(null,this.snapshot))();break;case Qn.CANCELED:case Qn.ERROR:var n=this._reject;ku(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=K_(this._state);switch(n){case Qn.RUNNING:case Qn.PAUSED:e.next&&ku(e.next.bind(e,this.snapshot))();break;case Qn.SUCCESS:e.complete&&ku(e.complete.bind(e))();break;case Qn.CANCELED:case Qn.ERROR:e.error&&ku(e.error.bind(e,this._error))();break;default:e.error&&ku(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state===xe.PAUSED||this._state===xe.PAUSING;return e&&this._transition(xe.RUNNING),e},t.prototype.pause=function(){var e=this._state===xe.RUNNING;return e&&this._transition(xe.PAUSING),e},t.prototype.cancel=function(){var e=this._state===xe.RUNNING||this._state===xe.PAUSING;return e&&this._transition(xe.CANCELING),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sg=function(){function t(e,n){this._service=e,n instanceof li?this._location=n:this._location=li.makeFromUrl(n)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new li(this._location.bucket,"");return this.newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return wL(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=I7(this._location.path);if(e===null)return null;var n=new li(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw vL(e)},t}();function $7(t,e,n){return n===void 0&&(n=null),t._throwIfRoot("uploadBytesResumable"),new SL(t,new dT(e),n)}function Y7(t,e,n,r){n===void 0&&(n=Or.RAW),t._throwIfRoot("putString");var i=gL(n,e),s=dt({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new SL(t,new dT(i.data,!0),s)}function z7(t){var e={prefixes:[],items:[]};return CL(t,e).then(function(){return e})}function CL(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,AL(t,r)];case 1:return i=c.sent(),(s=e.prefixes).push.apply(s,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,CL(t,e,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function AL(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return e!=null&&typeof e.maxResults=="number"&&p0("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),r=e||{},i=M7(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function K7(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=TL(t.storage,t._location,Eg()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function Q7(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=F7(t.storage,t._location,e,Eg()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}function X7(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=L7(t.storage,t._location,Eg()),[2,t.storage.makeRequest(n,e).getPromise().then(function(i){if(i===null)throw l7();return i})]}})})}function J7(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=U7(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function NL(t,e){var n=S7(t._location.path,e),r=new li(t._location.bucket,n);return new Sg(t.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xd=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yk=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Xd(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new Xd(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new Xd(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new Xd(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _k=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Jf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Jf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jf=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=NL(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new yk($7(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){return n===void 0&&(n=Or.RAW),this._throwIfRoot("putString"),new yk(Y7(this._delegate,e,n,r),this)},t.prototype.listAll=function(){var e=this;return z7(this._delegate).then(function(n){return new _k(n,e.storage)})},t.prototype.list=function(e){var n=this;return AL(this._delegate,e).then(function(r){return new _k(r,n.storage)})},t.prototype.getMetadata=function(){return K7(this._delegate)},t.prototype.updateMetadata=function(e){return Q7(this._delegate,e)},t.prototype.getDownloadURL=function(){return X7(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),J7(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw vL(e)},t}(),Z7=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];l||(l=!0,e.apply(null,b))}function d(b){i=setTimeout(function(){i=null,t(v,c())},b)}function v(b){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];if(!l){if(b){h.call.apply(h,qt([null,b],E));return}var A=c()||s;if(A){h.call.apply(h,qt([null,b],E));return}r<64&&(r*=2);var P;a===1?(a=2,P=0):P=(r+Math.random())*1e3,d(P)}}var m=!1;function y(b){m||(m=!0,!l&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function t9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n9=function(){function t(e,n,r,i,s,a,c,l,h,d,v){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,b){m.resolve_=y,m.reject_=b,m.start_()})}return t.prototype.start_=function(){var e=this;function n(i,s){if(s){i(!1,new Jd(!1,null,!0));return}var a=e.pool_.createXhrIo();e.pendingXhr_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;e.progressCallback_!==null&&e.progressCallback_(h,d)}e.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(l){e.progressCallback_!==null&&l.removeUploadProgressListener(c),e.pendingXhr_=null,l=l;var h=l.getErrorCode()===Ca.NO_ERROR,d=l.getStatus();if(!h||e.isRetryStatusCode_(d)){var v=l.getErrorCode()===Ca.ABORT;i(!1,new Jd(!1,null,v));return}var m=e.successCodes_.indexOf(d)!==-1;i(!0,new Jd(m,l))})}function r(i,s){var a=e.resolve_,c=e.reject_,l=s.xhr;if(s.wasSuccessCode)try{var h=e.callback_(l,l.getResponseText());y7(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=fT();d.serverResponse=l.getResponseText(),e.errorCallback_?c(e.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=e.appDelete_?pL():hL();c(d)}else{var d=o7();c(d)}}this.canceled_?r(!1,new Jd(!1,null,!0)):this.backoffId_=e9(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t9(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s},t}(),Jd=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function r9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function i9(t){var e=typeof ae<"u"?ae.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function o9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function s9(t,e,n,r){var i=bL(t.urlParams),s=t.url+i,a=Object.assign({},t.headers);return o9(a,e),r9(a,n),i9(a),new n9(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){return/^[A-Za-z]+:\/\//.test(t)}function a9(t,e){return new Sg(t,e)}function kL(t,e){if(t instanceof Cg){var n=t;if(n._bucket==null)throw u7();var r=new Sg(n,n._bucket);return e!=null?kL(r,e):r}else if(e!==void 0){if(e.includes(".."))throw hf('`path` param cannot contain ".."');return NL(t,e)}else return t}function wk(t,e){if(e&&v0(e)){if(t instanceof Cg)return a9(t,e);throw hf("To use ref(service, url), the first argument must be a Storage instance.")}else return kL(t,e)}function u9(t){var e=t==null?void 0:t[fL];return e==null?null:li.makeFromBucketSpec(e)}var Cg=function(){function t(e,n,r,i){this.app=e,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z8,this._maxUploadRetryTime=e7,this._requests=new Set,i!=null?this._bucket=li.makeFromBucketSpec(i):this._bucket=u9(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){p0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){p0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(e){return new Sg(this,e)},t.prototype.makeRequest=function(e,n){var r=this;if(this._deleted)return new Z7(pL());var i=s9(e,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c9=function(){function t(e,n){var r=this;this.app=e,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(v0(e))throw hf("ref() expected a child path but got a URL, use refFromURL instead.");return new Jf(wk(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!v0(e))throw hf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{li.makeFromUrl(e)}catch{throw hf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Jf(wk(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t}(),l9="@firebase/storage",f9="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h9="storage";function d9(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=new c9(n,new Cg(n,r,new m7,e));return i}function p9(t){var e={TaskState:Qn,TaskEvent:v7,StringFormat:Or,Storage:Cg,Reference:Jf};t.INTERNAL.registerComponent(new yr(h9,d9,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(l9,f9)}p9(ae);var v9="@firebase/performance",RL="0.4.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OL=RL,g9="FB-PERF-TRACE-START",m9="FB-PERF-TRACE-STOP",g0="FB-PERF-TRACE-MEASURE",xL="_wt_",PL="_fp",DL="_fcp",ML="_fid",LL="@firebase/performance/config",FL="@firebase/performance/configexpire",y9="performance",UL="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,_9=(bn={},bn["trace started"]="Trace {$traceName} was started before.",bn["trace stopped"]="Trace {$traceName} is not running.",bn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",bn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",bn["no window"]="Window is not available.",bn["no app id"]="App id is not available.",bn["no project id"]="Project id is not available.",bn["no api key"]="Api key is not available.",bn["invalid cc log"]="Attempted to queue invalid cc event",bn["FB not default"]="Performance can only start when Firebase app instance is the default one.",bn["RC response not ok"]="RC response is not ok",bn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",bn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",bn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",bn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",bn),Nn=new Ns(y9,UL,_9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo=new Uc(UL);xo.logLevel=Le.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q_,jL,Un=function(){function t(e){if(this.window=e,!e)throw Nn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(xo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):mb()?!0:(xo.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return Q_===void 0&&(Q_=new t(jL)),Q_},t}();function w9(t){jL=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t,e){var n=t.length-e.length;if(n<0||n>1)throw Nn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X_,rn=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=bk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=bk("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Nn.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Nn.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Nn.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return X_===void 0&&(X_=new t),X_},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL;function b9(){var t=rn.getInstance().installationsService.getId();return t.then(function(e){VL=e}),t}function mT(){return VL}function E9(){var t=rn.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ec;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(ec||(ec={}));var T9=["firebase_","google_","ga_"],I9=new RegExp("^[a-zA-Z]\\w*$"),S9=40,C9=100;function A9(){var t=Un.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function BL(){var t=Un.getInstance().document,e=t.visibilityState;switch(e){case"visible":return ec.VISIBLE;case"hidden":return ec.HIDDEN;default:return ec.UNKNOWN}}function N9(){var t=Un.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function k9(t){if(t.length===0||t.length>S9)return!1;var e=T9.some(function(n){return t.startsWith(n)});return!e&&!!t.match(I9)}function R9(t){return t.length!==0&&t.length<=C9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O9="0.0.1",x9={loggingEnabled:!0},P9="FIREBASE_INSTALLATIONS_AUTH";function D9(t){var e=M9();return e?(Ek(e),Promise.resolve()):U9(t).then(Ek).then(function(n){return L9(n)},function(){})}function M9(){var t=Un.getInstance().localStorage;if(t){var e=t.getItem(FL);if(!(!e||!j9(e))){var n=t.getItem(LL);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function L9(t){var e=Un.getInstance().localStorage;!t||!e||(e.setItem(LL,JSON.stringify(t)),e.setItem(FL,String(Date.now()+rn.getInstance().configTimeToLive*60*60*1e3)))}var F9="Could not fetch config, will use default configs";function U9(t){return E9().then(function(e){var n=rn.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+rn.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:P9+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:rn.getInstance().getAppId(),app_version:OL,sdk_version:O9})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Nn.create("RC response not ok")})}).catch(function(){xo.info(F9)})}function Ek(t){if(!t)return t;var e=rn.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=x9.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=Tk(e.tracesSamplingRate),e.logNetworkAfterSampling=Tk(e.networkRequestsSamplingRate),t}function j9(t){return Number(t)>Date.now()}function Tk(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yT=1,J_;function qL(){return yT=2,J_=J_||B9(),J_}function V9(){return yT===3}function B9(){return q9().then(function(){return b9()}).then(function(t){return D9(t)}).then(function(){return Ik()},function(){return Ik()})}function q9(){var t=Un.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function Ik(){yT=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _T=10*1e3,W9=5.5*1e3,WL=3,H9=1e3,gv=WL,ws=[],Sk=!1;function G9(){Sk||(Ag(W9),Sk=!0)}function Ag(t){setTimeout(function(){if(gv!==0){if(!ws.length)return Ag(_T);$9()}},t)}function $9(){var t=ws.splice(0,H9),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:rn.getInstance().logSource,log_event:e};Y9(n,t).catch(function(){ws=qt(t,ws),gv--,xo.info("Tries left: "+gv+"."),Ag(_T)})}function Y9(t,e){return z9(t).then(function(n){return n.ok||xo.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=_T;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ws=qt(e,ws),xo.info("Retry transport request later.")),gv=WL,Ag(i)})}function z9(t){var e=rn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function K9(t){if(!t.eventTime||!t.message)throw Nn.create("invalid cc log");ws=qt(ws,[t])}function Q9(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);K9({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Z_;function HL(t,e){Z_||(Z_=Q9(J9)),Z_(t,e)}function Zd(t){var e=rn.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||Un.getInstance().requiredApisAvailable()&&(t.isAuto&&BL()!==ec.VISIBLE||(V9()?ew(t):qL().then(function(){return ew(t)},function(){return ew(t)})))}function ew(t){if(mT()){var e=rn.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return HL(t,1)},0)}}function X9(t){var e=rn.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return HL(t,0)},0)}}function J9(t,e){return e===0?Z9(t):eJ(t)}function Z9(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:GL(),network_request_metric:e};return JSON.stringify(n)}function eJ(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:GL(),trace_metric:e};return JSON.stringify(r)}function GL(){return{google_app_id:rn.getInstance().getAppId(),app_instance_id:mT(),web_app_info:{sdk_version:OL,page_url:Un.getInstance().getUrl(),service_worker_status:A9(),visibility_state:BL(),effective_connection_type:N9()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tJ=100,nJ="_",rJ=[PL,DL,ML];function iJ(t,e){return t.length===0||t.length>tJ?!1:e&&e.startsWith(xL)&&rJ.indexOf(t)>-1||!t.startsWith(nJ)}function oJ(t){var e=Math.floor(t);return e<t&&xo.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pf=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Un.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=g9+"-"+this.randomId+"-"+this.name,this.traceStopMark=m9+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||g0+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw Nn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw Nn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Zd(this)},t.prototype.record=function(e,n,r){if(e<=0)throw Nn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Nn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=dt({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Zd(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(iJ(e,this.name))this.counters[e]=oJ(n);else throw Nn.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=k9(e),i=R9(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw Nn.create("invalid attribute name",{attributeName:e});if(!i)throw Nn.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return dt({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=Un.getInstance().getUrl();if(i){var s=new t(xL+i,!0),a=Math.floor(Un.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),e&&e[0]&&(s.setDuration(Math.floor(e[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(PL,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(DL,Math.floor(d.startTime*1e3)),r&&s.putMetric(ML,Math.floor(r*1e3))}Zd(s)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);Zd(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=Un.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,s=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],c={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};X9(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sJ=5e3;function Ak(){mT()&&(setTimeout(function(){return uJ()},0),setTimeout(function(){return aJ()},0),setTimeout(function(){return cJ()},0))}function aJ(){for(var t=Un.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];Ck(i)}t.setupObserver("resource",Ck)}function uJ(){var t=Un.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){pf.createOobTrace(e,n),r=void 0},sJ);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),pf.createOobTrace(e,n,i))})}else pf.createOobTrace(e,n)}function cJ(){for(var t=Un.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];Nk(i)}t.setupObserver("measure",Nk)}function Nk(t){var e=t.name;e.substring(0,g0.length)!==g0&&pf.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lJ=function(){function t(e){this.app=e,Un.getInstance().requiredApisAvailable()&&yb().then(function(n){n&&(G9(),qL().then(Ak,Ak))}).catch(function(n){xo.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new pf(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return rn.getInstance().instrumentationEnabled},set:function(e){rn.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return rn.getInstance().dataCollectionEnabled},set:function(e){rn.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fJ="[DEFAULT]";function hJ(t){var e=function(n,r){if(n.name!==fJ)throw Nn.create("FB not default");if(typeof window>"u")throw Nn.create("no window");return w9(window),rn.getInstance().firebaseAppInstance=n,rn.getInstance().installationsService=r,new lJ(n)};t.INTERNAL.registerComponent(new yr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(v9,RL)}hJ(ae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dJ="firebase_id",pJ="origin",vJ=60*1e3,gJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$L="https://www.googletagmanager.com/gtag/js",jn;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(jn||(jn={}));var m0;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(m0||(m0={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mJ(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return i&&i.global?(t(jn.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:s=c.sent(),a=dt(dt({},r),{send_to:s}),t(jn.EVENT,n,a),c.label=3;case 3:return[2]}})})}function yJ(t,e,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(t(jn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(jn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function _J(t,e,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(t(jn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(jn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function wJ(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return t(jn.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:l=h.sent(),t(jn.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function bJ(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En=new Uc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(t){var e=document.createElement("script");e.src=$L+"?l="+t,e.async=!0,document.head.appendChild(e)}function TJ(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function IJ(t,e,n,r,i,s){return R(this,void 0,void 0,function(){var a,c,l,h;return N(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,e[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),En.error(h),[3,8];case 8:return t(jn.CONFIG,i,s),[2]}})})}function SJ(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v,m,y;return N(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=b.sent(),l=function(E){var T=c.find(function(P){return P.measurementId===E}),A=T&&e[T.appId];if(A)s.push(A);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],m=l(v),m!=="break");h++);b.label=2;case 2:return s.length===0&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return b.sent(),t(jn.EVENT,r,i||{}),[3,5];case 4:return y=b.sent(),En.error(y),[3,5];case 5:return[2]}})})}function CJ(t,e,n,r){function i(s,a,c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==jn.EVENT?[3,2]:[4,SJ(t,e,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==jn.CONFIG?[3,4]:[4,IJ(t,e,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:t(jn.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),En.error(l),[3,7];case 7:return[2]}})})}return i}function AJ(t,e,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=CJ(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function NJ(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes($L))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti,kJ=(ti={},ti["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ti["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ti["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ti["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ti["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ti["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ti["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ti["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ti["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ti),Hr=new Ns("analytics","Analytics",kJ);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RJ=30,OJ=1e3,xJ=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=OJ),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),YL=new xJ;function PJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function DJ(t){var e;return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:PJ(r)},s=gJ.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((e=l.error)===null||e===void 0)&&e.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Hr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function MJ(t,e,n){return e===void 0&&(e=YL),R(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return N(this,function(d){if(r=t.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Hr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Hr.create("no-api-key")}return c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new UJ,setTimeout(function(){return R(h,void 0,void 0,function(){return N(this,function(v){return l.abort(),[2]})})},n!==void 0?n:vJ),[2,zL({appId:i,apiKey:s,measurementId:a},c,l,e)]})})}function zL(t,e,n,r){var i=e.throttleEndTimeMillis,s=e.backoffCount;return r===void 0&&(r=YL),R(this,void 0,void 0,function(){var a,c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:a=t.appId,c=t.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,LJ(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return En.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,DJ(t)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!FJ(d)){if(r.deleteThrottleMetadata(a),c)return En.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?Rw(s,r.intervalMillis,RJ):Rw(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),En.debug("Calling attemptFetch again in "+v+" millis"),[2,zL(t,m,n,r)];case 7:return[2]}})})}function LJ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function FJ(t){if(!(t instanceof Fc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var UJ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jJ(){return R(this,void 0,void 0,function(){var t;return N(this,function(e){switch(e.label){case 0:return mb()?[3,1]:(En.warn(Hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,yb()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),En.warn(Hr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function VJ(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v;return N(this,function(m){switch(m.label){case 0:return s=MJ(t),s.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&En.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return En.error(y)}),e.push(s),a=jJ().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return c=m.sent(),l=c[0],h=c[1],i("js",new Date),d=(v={},v[pJ]="firebase",v.update=!0,v),h!=null&&(d[dJ]=h),i(jn.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo={},kk=[],Rk={},mp="dataLayer",KL="gtag",Ok,$l,y0=!1;function BJ(t){if(y0)throw Hr.create("already-initialized");t.dataLayerName&&(mp=t.dataLayerName),t.gtagName&&(KL=t.gtagName)}function qJ(){var t=[];if(gb()&&t.push("This is a browser extension environment."),ZO()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Hr.create("invalid-analytics-context",{errorInfo:e});En.warn(n.message)}}function WJ(t,e){qJ();var n=t.options.appId;if(!n)throw Hr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)En.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Hr.create("no-api-key");if(uo[n]!=null)throw Hr.create("already-exists",{id:n});if(!y0){NJ()||EJ(mp),TJ(mp);var r=AJ(uo,kk,Rk,mp,KL),i=r.wrappedGtag,s=r.gtagCore;$l=i,Ok=s,y0=!0}uo[n]=VJ(t,kk,Rk,e,Ok);var a={app:t,logEvent:function(c,l,h){mJ($l,uo[n],c,l,h).catch(function(d){return En.error(d)})},setCurrentScreen:function(c,l){yJ($l,uo[n],c,l).catch(function(h){return En.error(h)})},setUserId:function(c,l){_J($l,uo[n],c,l).catch(function(h){return En.error(h)})},setUserProperties:function(c,l){wJ($l,uo[n],c,l).catch(function(h){return En.error(h)})},setAnalyticsCollectionEnabled:function(c){bJ(uo[n],c).catch(function(l){return En.error(l)})},INTERNAL:{delete:function(){return delete uo[n],Promise.resolve()}}};return a}var HJ="@firebase/analytics",GJ="0.6.2",xk="analytics";function $J(t){t.INTERNAL.registerComponent(new yr(xk,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return WJ(r,i)},"PUBLIC").setServiceProps({settings:BJ,EventName:m0,isSupported:YJ})),t.INTERNAL.registerComponent(new yr("analytics-internal",e,"PRIVATE")),t.registerVersion(HJ,GJ);function e(n){try{var r=n.getProvider(xk).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Hr.create("interop-component-reg-failed",{reason:i})}}}$J(ae);function YJ(){return R(this,void 0,void 0,function(){var t;return N(this,function(e){switch(e.label){case 0:if(gb())return[2,!1];if(!ZO())return[2,!1];if(!mb())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,yb()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zJ=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,KJ=(Yn={},Yn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Yn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Yn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Yn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Yn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Yn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Yn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Yn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Yn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Yn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Yn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Yn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Yn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Yn),Wr=new Ns("remoteconfig","Remote Config",KJ);function QJ(t,e){return t instanceof Fc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XJ(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JJ=function(){function t(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,m,y,b,E,T,A,P,M,U;return N(this,function(X){switch(X.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=X.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:XJ()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(j,Ie){e.signal.addEventListener(function(){var rt=new Error("The operation was aborted.");rt.name="AbortError",Ie(rt)})}),X.label=2;case 2:return X.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return X.sent(),[4,d];case 4:return m=X.sent(),[3,6];case 5:throw y=X.sent(),b="fetch-client-network",y.name==="AbortError"&&(b="fetch-timeout"),Wr.create(b,{originalErrorMessage:y.message});case 6:if(E=m.status,T=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];M=void 0,X.label=7;case 7:return X.trys.push([7,9,,10]),[4,m.json()];case 8:return M=X.sent(),[3,10];case 9:throw U=X.sent(),Wr.create("fetch-client-parse",{originalErrorMessage:U.message});case 10:A=M.entries,P=M.state,X.label=11;case 11:if(P==="INSTANCE_STATE_UNSPECIFIED"?E=500:P==="NO_CHANGE"?E=304:(P==="NO_TEMPLATE"||P==="EMPTY_CONFIG")&&(A={}),E!==304&&E!==200)throw Wr.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:T,config:A}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZJ=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eZ=!1,tZ="",Pk=0,nZ=["1","true","t","yes","y","on"],tw=function(){function t(e,n){n===void 0&&(n=tZ),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?eZ:nZ.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return Pk;var e=Number(this._value);return isNaN(e)&&(e=Pk),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rZ=60*1e3,iZ=12*60*60*1e3,oZ=function(){function t(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:rZ,minimumFetchIntervalMillis:iZ},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Le.DEBUG;break;case"silent":this._logger.logLevel=Le.SILENT;break;default:this._logger.logLevel=Le.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return R(this,void 0,void 0,function(){var e,n,r,i=this;return N(this,function(s){switch(s.label){case 0:e=new ZJ,setTimeout(function(){return R(i,void 0,void 0,function(){return N(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=QJ(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return sZ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new tw("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new tw("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new tw("static"))},t}();function sZ(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(dt(dt({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e){var n=t.target.error||void 0;return Wr.create(e,{originalErrorMessage:n&&n.message})}var oa="app_namespace_store",aZ="firebase_remote_config",uZ=1;function cZ(){return new Promise(function(t,e){var n=indexedDB.open(aZ,uZ);n.onerror=function(r){e(yp(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(oa,{keyPath:"compositeKey"})}}})}var lZ=function(){function t(e,n,r,i){i===void 0&&(i=cZ()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([oa],"readonly"),l=c.objectStore(oa),h=r.createCompositeKey(e);try{var d=l.get(h);d.onerror=function(v){a(yp(v,"storage-get"))},d.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(Wr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([oa],"readwrite"),h=l.objectStore(oa),d=i.createCompositeKey(e);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(m){c(yp(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){c(Wr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},t.prototype.delete=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([oa],"readwrite"),l=c.objectStore(oa),h=r.createCompositeKey(e);try{var d=l.delete(h);d.onerror=function(v){a(yp(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(Wr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fZ=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hZ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function dZ(t){if(!(t instanceof Fc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var pZ=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,hZ(e.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!dZ(a))throw a;return c={throttleEndTimeMillis:Date.now()+Rw(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(e,c)];case 7:return[2]}})})},t}(),Dk="@firebase/remote-config",vZ="0.1.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gZ(t){t.INTERNAL.registerComponent(new yr("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(Dk,vZ);function e(n,r){var i=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();if(typeof window>"u")throw Wr.create("registration-window");var a=i.options,c=a.projectId,l=a.apiKey,h=a.appId;if(!c)throw Wr.create("registration-project-id");if(!l)throw Wr.create("registration-api-key");if(!h)throw Wr.create("registration-app-id");r=r||"firebase";var d=new lZ(h,i.name,r),v=new fZ(d),m=new Uc(Dk);m.logLevel=Le.ERROR;var y=new JJ(s,t.SDK_VERSION,r,c,l,h),b=new pZ(y,d),E=new zJ(b,d,v,m),T=new oZ(i,E,v,d,m);return T.ensureInitialized(),T}}gZ(ae);var mZ="firebase",yZ="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ae.registerVersion(mZ,yZ,"app");var _Z="firebase",wZ="8.2.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ae.registerVersion(_Z,wZ);const bZ={apiKey:"AIzaSyBsTEvv_k5WEyjnQy0Cdhr5ZNyZe2N00js",authDomain:"twitter-clone-inflearn-10fc8.firebaseapp.com",projectId:"twitter-clone-inflearn-10fc8",storageBucket:"twitter-clone-inflearn-10fc8.appspot.com",messagingSenderId:"325557618636",appId:"1:325557618636:web:fe74e1dad3ca4f98af3f69",measurementId:"G-NT1D3TVGPK"};ae.initializeApp(bZ);const wT=ae.auth(),kh=ae.firestore();ae.storage();const Rh=kh.collection("users"),Yi=kh.collection("tweets"),_0=kh.collection("comments"),w0=kh.collection("retweets"),b0=kh.collection("likes"),EZ={props:["tweet"],setup(t,{emit:e}){const n=Kt(""),r=vn(()=>er.state.user);return{tweetBody:n,moment:re,currentUser:r,onCommentTweet:async()=>{try{const s=_0.doc();await s.set({id:s.id,from_tweet_id:t.tweet.id,comment_tweet_body:n.value,uid:r.value.uid,created_at:Date.now()}),await Yi.doc(t.tweet.id).update({num_comments:ae.firestore.FieldValue.increment(1)}),e("close-modal")}catch(s){console.log("on comment tweet error:"+s)}}}}},TZ={class:"flex justify-center min-h-screen sm:pt-6 sm:px-4 sm:pb-20 text-center sm:block sm:p-0"},IZ=k("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[k("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),SZ={class:"border-b border-gray-100 p-2 flex items-center justify-between"},CZ=k("div",{class:"text-right sm:hidden mr-2"},[k("button",{class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"},""),k("button",{class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")],-1),AZ={class:"flex px-4 pt-4 pb-3"},NZ={class:"flex flex-col"},kZ=["src"],RZ=k("div",{class:"ml-5 w-0.5 h-full bg-gray-300 mt-2 -mb-1"},null,-1),OZ={class:"ml-2 flex-1"},xZ={class:"flex space-x-2"},PZ={class:"font-bold text-sm"},DZ={class:"text-gray text-sm"},MZ={class:"text-gray text-sm"},LZ={class:"text-sm"},FZ={class:"text-primary text-sm"},UZ=k("span",{class:"text-gray text-sm"},"   ",-1),jZ={class:"flex px-4 pb-4"},VZ=["src"],BZ={class:"ml-2 flex-1 flex flex-col"},qZ={class:"text-right hidden sm:block"},WZ={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function HZ(t,e,n,r,i,s){return be(),Ne("div",{class:"fixed z-10 inset-0 overflow-y-auto",onClick:e[4]||(e[4]=a=>t.$emit("close-modal"))},[k("div",TZ,[IZ,k("div",{onClick:e[3]||(e[3]=DR(()=>{},["stop"])),class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},[k("div",SZ,[k("button",{onClick:e[0]||(e[0]=a=>t.$emit("close-modal")),class:"fas fa-times text-primary text-lg p-2 h-10 w-10 hover:bg-blue-50 rounded-full"}),CZ]),k("div",null,[k("div",AZ,[k("div",NZ,[k("img",{src:n.tweet.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,kZ),RZ]),k("div",OZ,[k("div",xZ,[k("span",PZ,Ve(n.tweet.email),1),k("span",DZ,"@"+Ve(n.tweet.username),1),k("span",MZ,Ve(r.moment(n.tweet.created_at).fromNow()),1)]),k("div",LZ,Ve(n.tweet.tweet_body),1),k("div",null,[k("span",FZ,"@"+Ve(n.tweet.username),1),UZ])])]),k("div",jZ,[k("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,VZ),k("div",BZ,[vs(k("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.tweetBody=a),rows:"5",placeholder:"  ",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none"},null,512),[[gs,r.tweetBody]]),k("div",qZ,[r.tweetBody.length?(be(),Ne("button",{key:1,onClick:e[2]||(e[2]=(...a)=>r.onCommentTweet&&r.onCommentTweet(...a)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")):(be(),Ne("button",WZ,""))])])])])])])])}const QL=rr(EZ,[["render",HZ]]),XL=async t=>{try{if(t.isRetweeted)await(await w0.where("from_tweet_id","==",t.id).where("uid","==",er.state.user.uid).get()).docs[0].ref.delete(),await Yi.doc(t.id).update({num_retweets:ae.firestore.FieldValue.increment(-1)});else{const e=w0.doc();await e.set({id:e.id,from_tweet_id:t.id,uid:er.state.user.uid,created_at:Date.now()}),await Yi.doc(t.id).update({num_retweets:ae.firestore.FieldValue.increment(1)})}}catch(e){console.log("handle retweet error",e)}},JL=async t=>{try{if(t.isLiked)await(await b0.where("from_tweet_id","==",t.id).where("uid","==",er.state.user.uid).get()).docs[0].ref.delete(),await Yi.doc(t.id).update({num_likes:ae.firestore.FieldValue.increment(-1)});else{const e=b0.doc();await e.set({id:e.id,from_tweet_id:t.id,uid:er.state.user.uid,created_at:Date.now()}),await Yi.doc(t.id).update({num_likes:ae.firestore.FieldValue.increment(1)})}}catch(e){console.log("handle liked error",e)}},GZ={components:{commentModal:QL},props:["currentUser","tweet"],setup(){const t=Kt(!1);return{moment:re,showCommentModal:t,handleRetweet:XL,handleLikes:JL}}},$Z={className:"flex px-3 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer"},YZ=["src"],zZ={className:"ml-3 flex-1 flex flex-col space-y-1"},KZ={className:"text-sm space-x-1"},QZ={className:"font-bold"},XZ={className:"text-gray-500 text-xs"},JZ=k("span",null,"",-1),ZZ={className:"text-gray-500 text-xs"},eee={className:"flex justify-between"},tee=k("i",{className:"far fa-comment hover:bg-blue-50 rounded-full p-2"},null,-1),nee={className:"ml-1 text-sm"},ree=k("i",{className:"fa fa-retweet hover:bg-green-50 rounded-full p-2"},null,-1),iee={className:"ml-1 text-sm"},oee=k("i",{className:"fa fa-retweet hover:bg-green-50 rounded-full p-2"},null,-1),see={className:"ml-1 text-sm"},aee=k("i",{className:"far fa-heart hover:bg-red-50 rounded-full p-2"},null,-1),uee={className:"ml-1 text-sm"},cee=k("i",{className:"far fa-heart hover:bg-red-50 rounded-full p-2"},null,-1),lee={className:"ml-1 text-sm"},fee=k("div",{className:"text-gray-500 hover:text-primary"},[k("i",{className:"far fa-share-square hover:bg-blue-50 rounded-full p-2"})],-1);function hee(t,e,n,r,i,s){const a=Pn("router-link"),c=Pn("comment-modal");return be(),Ne(jt,null,[k("div",$Z,[k("img",{src:n.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,YZ),k("div",zZ,[k("div",KZ,[k("span",QZ,Ve(n.tweet.email),1),k("span",XZ,"@"+Ve(n.tweet.username),1),JZ,k("span",ZZ,Ve(r.moment(n.tweet.created_at).fromNow()),1)]),Rt(a,{to:`/tweet/${n.tweet.id}`},{default:eh(()=>[RR(Ve(n.tweet.tweet_body),1)]),_:1},8,["to"]),k("div",eee,[k("div",{onClick:e[0]||(e[0]=l=>r.showCommentModal=!0),className:"text-gray-500 hover:text-primary"},[tee,k("span",nee,Ve(n.tweet.num_comments),1)]),n.tweet.isRetweeted?(be(),Ne("div",{key:1,className:"text-green-400",onClick:e[2]||(e[2]=l=>r.handleRetweet(n.tweet))},[oee,k("span",see,Ve(n.tweet.num_retweets),1)])):(be(),Ne("div",{key:0,className:"text-gray-500 hover:text-green-500",onClick:e[1]||(e[1]=l=>r.handleRetweet(n.tweet))},[ree,k("span",iee,Ve(n.tweet.num_retweets),1)])),n.tweet.isLiked?(be(),Ne("div",{key:3,className:"text-red-400",onClick:e[4]||(e[4]=l=>r.handleLikes(n.tweet))},[cee,k("span",lee,Ve(n.tweet.num_likes),1)])):(be(),Ne("div",{key:2,className:"text-gray-400 hover:text-red-400",onClick:e[3]||(e[3]=l=>r.handleLikes(n.tweet))},[aee,k("span",uee,Ve(n.tweet.num_likes),1)])),fee])])]),r.showCommentModal?(be(),Co(c,{key:0,tweet:n.tweet,onCloseModal:e[5]||(e[5]=l=>r.showCommentModal=!1)},null,8,["tweet"])):ya("",!0)],64)}const ZL=rr(GZ,[["render",hee]]),e2=(t,e)=>new Promise(async(n,r)=>{try{const i=Yi.doc();await i.set({id:i.id,tweet_body:t,uid:e.uid,created_at:Date.now(),num_comments:0,num_retweets:0,num_likes:0}),await Rh.doc(e.uid).update({num_tweets:ae.firestore.FieldValue.increment(1)}),n(!0)}catch(i){r(i)}}),E0=async(t,e)=>{const n=await Rh.doc(t.uid).get();return t.profile_image_url=n.data().profile_image_url,t.email=n.data().email,t.username=n.data().username,(await w0.where("from_tweet_id","==",t.id).where("uid","==",e.uid).get()).empty?t.isRetweeted=!1:t.isRetweeted=!0,(await b0.where("from_tweet_id","==",t.id).where("uid","==",e.uid).get()).empty?t.isLiked=!1:t.isLiked=!0,t},dee={components:{Trends:Rv,Tweet:ZL},setup(){const t=Kt(""),e=vn(()=>er.state.user),n=Kt([]);return rc(()=>{Rh.doc(e.value.uid).onSnapshot(i=>{er.commit("SET_USER",i.data())}),Yi.orderBy("created_at","desc").onSnapshot(i=>{i.docChanges().forEach(async s=>{let a=await E0(s.doc.data(),e.value);s.type==="added"?n.value.splice(s.newIndex,0,a):s.type==="modified"?n.value.splice(s.oldIndex,1,a):s.type==="removed"&&n.value.splice(s.oldIndex,1)})})}),{currentUser:e,tweetBody:t,tweets:n,onAddTweet:async()=>{try{await e2(t.value,e.value),t.value=""}catch(i){console.log("on add tweet error on homepage:",i)}},onBeforeMount:rc}}},pee={class:"flex-1 border-r border-gray-100 overflow-y-auto"},vee={class:"flex flex-col"},gee=k("div",{class:"border-b border-gray-100 px-3 py-2 font-bold text-lg"},"  ",-1),mee={class:"flex px-3 py-3 border-b-8 border-gray-100"},yee=["src"],_ee={class:"ml-2 flex-1 flex flex-col"},wee={class:"text-right"},bee={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function Eee(t,e,n,r,i,s){const a=Pn("Tweet"),c=Pn("Trends");return be(),Ne(jt,null,[k("div",pee,[k("div",vee,[gee,k("div",mee,[k("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,yee),k("div",_ee,[vs(k("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.tweetBody=l),placeholder:"   ?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none bg-gray-100"},null,512),[[gs,r.tweetBody]]),k("div",wee,[r.tweetBody.length?(be(),Ne("button",{key:1,onClick:e[1]||(e[1]=(...l)=>r.onAddTweet&&r.onAddTweet(...l)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")):(be(),Ne("button",bee,""))])])]),(be(!0),Ne(jt,null,So(r.tweets,l=>(be(),Co(a,{currentUser:r.currentUser,tweet:l,key:l.id},null,8,["currentUser","tweet"]))),128))])]),Rt(c)],64)}const Yl=rr(dee,[["render",Eee]]),Tee={components:{Trends:Rv}},Iee={class:"flex-1 border-r border-gray-100 flex flex-col overflow-y-auto"},See=k("div",{class:"p-3 font-bold text-lg border-b border-gray-100"},"",-1),Cee=ja('<div class="flex justify-between"><img src="http://picsum.photos/100" class="w-10 h-10 rounded-full hover:opacity-80"><i class="fas fa-ellipsis-h text-gray-500 hover:bg-blue-50 hover:text-primary p-2 rounded-full w-10 h-10 flex items-center justify-center"></i></div><div><span class="font-bold"></span>   </div><div class="text-gray-500"> wjelifwjeiflwejfiwejfil wefiwejfiweofjweiof wefjiewjf dcivcvf </div>',3),Aee=[Cee];function Nee(t,e,n,r,i,s){const a=Pn("Trends");return be(),Ne(jt,null,[k("div",Iee,[See,(be(),Ne(jt,null,So(10,c=>k("div",{class:"flex flex-col hover:bg-gray-50 p-3 space-y-2 border-b border-gray-100 cursor-pointer",key:c},Aee)),64))]),Rt(a)],64)}const kee=rr(Tee,[["render",Nee]]),Ree={},Oee={class:"flex-1 flex"},xee={class:"w-2/5 border-r border-gray-100 overflow-y-scroll"},Pee={class:"flex flex-col"},Dee=ja('<div class="p-3 font-bold text-lg border-b border-gray-100 h-14"></div><div class="flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100 bg-gray-200"><img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9 17</div></div><div class="text-gray-500"></div></div></div>',2),Mee=ja('<img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9 17</div></div><div class="text-gray-500"></div></div>',2),Lee=[Mee],Fee={class:"w-3/5 border-r border-gray-100"},Uee={class:"flex flex-col h-screen"},jee=ja('<div class="flex px-3 h-14 items-center border-b border-gray-100"><img src="http://picsum.photos/100" class="w-8 h-8 rounded-full mr-2 cursor-pointer"><div><div class="font-bold text-lg">jjw.com</div><div class="text-sm text-gray-500">@jaewoong</div></div></div><div class="flex flex-col justify-center items-center border-b border-gray-100 hover:bg-gray-50 py-6"><div><span class="font-bold mr-1">jjw.com</span><span class="text-gray-500">@jaewoong</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray-500"> </span><span class="font-bold ml-3 mr-1">7</span><span class="text-gray-500"></span></div><div><span class="text-gray-500 mr-1"></span><span class="text-gray-500">2021 3</span></div></div>',2),Vee={class:"flex-1 overflow-y-scroll"},Bee=k("div",{class:"text-right px-3 py-3"},[k("span",{class:"bg-primary text-white px-4 py-2 rounded-full"},""),k("div",{class:"mt-2 text-xs text-gray-500"},"2023 9 17  7:16")],-1),qee=k("span",{class:"bg-gray-100 px-4 py-2 rounded-full"},"",-1),Wee=k("div",{class:"mt-2 text-xs text-gray-500"},"2023 9 17  7:16",-1),Hee=[qee,Wee],Gee=k("div",{class:"flex items-center bg-white border-t border-gray-100 sticky"},[k("input",{type:"text",class:"m-2 py-1 px-4 rounded-full bg-gray-100 resize-none outline-none flex-1",placeholder:"  ",rows:"1"}),k("button",{class:"text-center"},[k("i",{class:"far fa-paper-plane text-primary text-lg hover:bg-blue-50 p-2 rounded-full w-10 h-10"})])],-1);function $ee(t,e,n,r,i,s){return be(),Ne("div",Oee,[k("div",xee,[k("div",Pee,[Dee,(be(),Ne(jt,null,So(5,a=>k("div",{class:"flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100",key:a},Lee)),64))])]),k("div",Fee,[k("div",Uee,[jee,k("div",Vee,[Bee,(be(),Ne(jt,null,So(20,a=>k("div",{class:"text-left px-3 py-3",key:a},Hee)),64))]),Gee])])])}const Yee=rr(Ree,[["render",$ee]]),zee={components:{Trends:Rv,Tweet:ZL},setup(){const t=vn(()=>er.state.user),e=Kt([]);return rc(()=>{Yi.where("uid","==",t.value.uid).orderBy("created_at","desc").onSnapshot(n=>{n.docChanges().forEach(async r=>{let i=await getTweetInfo(r.doc.data(),t.value);r.type==="added"?e.value.splice(r.newIndex,0,i):r.type==="modified"?e.value.splice(r.oldIndex,1,i):r.type==="removed"&&e.value.splice(r.oldIndex,1)})})}),{currentUser:t}}},Kee={class:"flex-1 flex"},Qee={class:"flex-1 flex flex-col border-r border-color"},Xee={class:"px-3 py-1 flex border-b border-color"},Jee=k("button",{class:"mr-4"},[k("i",{class:"fas fa-arrow-left text-primary p-3 rounded-full hover:bg-blue-50"})],-1),Zee={class:"font-extrabold text-lg"},ete={class:"text-xs text-gray"},tte={class:"bg-gray-300 h-40 relative flex-none"},nte={class:"border-4 border-white bg-gray-100 w-28 h-28 rounded-full absolute -bottom-14 left-2"},rte=["src"],ite=k("div",{class:"text-right mt-2 mr-2"},[k("button",{class:"border text-sm border-primary text-primary px-3 py-2 hover:bg-blue-50 font-bold rounded-full"}," ")],-1),ote={class:"mx-3 mt-2"},ste={class:"font-extrabold text-lg"},ate={class:"text-gray"},ute=k("span",{class:"text-gray"},":",-1),cte={class:"text-gray"},lte={class:"font-bold mr-1"},fte=k("span",{class:"text-gray mr-3"}," ",-1),hte={class:"font-bold mr-1"},dte=k("span",{class:"text-gray"},"",-1),pte=ja('<div class="flex border-b border-color mt-3"><div class="py-3 text-primary font-bold border-b border-primary text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary">  </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary">  </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary">  </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary">  </div></div>',1),vte={class:"overflow-y-auto"};function gte(t,e,n,r,i,s){const a=Pn("Tweet"),c=Pn("Trends");return be(),Ne("div",Kee,[k("div",Qee,[k("div",Xee,[Jee,k("div",null,[k("div",Zee,Ve(r.currentUser.email),1),k("div",ete,Ve(r.currentUser.num_tweets)+" ",1)])]),k("div",tte,[k("div",nte,[k("img",{src:r.currentUser.profile_image_url,class:"rounded-full hover:opacity-90 hover:opacity-100 cursor-pointer"},null,8,rte)])]),ite,k("div",ote,[k("div",ste,Ve(r.currentUser.eamil),1),k("div",ate,"@"+Ve(r.currentUser.username),1),k("div",null,[ute,k("span",cte,Ve(t.moment(r.currentUser.created_at).format("YYYY MM")),1)]),k("div",null,[k("span",lte,Ve(r.currentUser.followings.length),1),fte,k("span",hte,Ve(r.currentUser.followers.length),1),dte])]),pte,k("div",vte,[(be(),Ne(jt,null,So(10,l=>Rt(a,{key:l,currentUser:r.currentUser,tweet:l},null,8,["currentUser","tweet"])),64))])]),Rt(c)])}const mte=rr(zee,[["render",gte]]),yte={setup(){const t=Kt(""),e=Kt(""),n=Kt(""),r=Kt(!1),i=$R();return{username:t,email:e,password:n,loading:r,onRegister:async()=>{if(!t.value||!e.value||!n.value){alert(", ,   .");return}try{r.value=!0;const{user:a}=await wT.createUserWithEmailAndPassword(e.value,n.value);await Rh.doc(a.uid).set({uid:a.uid,username:t.value,email:e.value,profile_image_url:"/profile.jpeg",num_tweets:0,followers:[],followings:[],created_at:Date.now()}),alert("  .   ."),i.push("/login")}catch(a){switch(a.code){case"auth/invalid-email":alert("  .");break;case"auth/weak-password":alert("  ");break;case"auth/email-already-in-use":alert("    .");break;default:alert(" ");break}}finally{r.value=!1}}}}},_te={class:"flex flex-col items-center space-y-4 mt-10"},wte=k("span",{class:"text-2xl font-bold"}," ",-1),bte={key:0,class:"w-96 rounded bg-light text-white py-3"},Ete=k("button",{class:"text-primary"},"  ?  ",-1);function Tte(t,e,n,r,i,s){const a=Pn("router-link");return be(),Ne("div",_te,[k("i",{class:Aa(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),wte,vs(k("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.username=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[gs,r.username]]),vs(k("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[gs,r.email]]),vs(k("input",{onClick:e[2]||(e[2]=(...c)=>r.onRegister&&r.onRegister(...c)),"onUpdate:modelValue":e[3]||(e[3]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[gs,r.password]]),r.loading?(be(),Ne("button",bte," .")):(be(),Ne("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:e[4]||(e[4]=(...c)=>r.onRegister&&r.onRegister(...c))},"")),Rt(a,{to:"/login"},{default:eh(()=>[Ete]),_:1})])}const Ite=rr(yte,[["render",Tte]]),Ste={components:{CommentModal:QL,Trends:Rv},setup(){const t=Kt(null),e=Kt([]),n=vn(()=>er.state.user),r=Kt(!1),i=YR(),s=async a=>{confirm(" ?")&&(await _0.doc(a.id).delete(),await Yi.doc(a.from_tweet_id).update({num_comments:ae.firestore.FieldValue.increment(-1)}))};return rc(async()=>{await Yi.doc(i.params.id).onSnapshot(async a=>{const c=await E0(a.data(),n.value);t.value=c})}),_0.orderBy("created_at","desc").onSnapshot(a=>{a.docChanges().forEach(async c=>{let l=await E0(c.doc.data(),n.value);c.type==="added"?e.value.splice(c.newIndex,0,l):c.type==="modified"?e.value.splice(c.oldIndex,1,l):c.type==="removed"&&e.value.splice(c.oldIndex,1)})}),{router:tc,tweet:t,comments:e,currentUser:n,moment:re,showCommentModal:r,handleRetweet:XL,handleLikes:JL,handleDeleteComment:s}}},Cte={class:"flex-1 flex"},Ate={class:"flex-1 border-r border-gray-100"},Nte={key:0,class:"flex flex-col"},kte={class:"flex items-center px-3 py-2 border-b border-gray-100"},Rte=k("i",{class:"fas fa-arrow-left text-primary text-lg ml-3 hover:bg-blue-50 p-2 rounded-full h-10 w-10"},null,-1),Ote=[Rte],xte=k("span",{class:"font-bold text-lg ml-6"},"",-1),Pte={class:"px-3 py-2 flex"},Dte=["src"],Mte={class:"ml-2"},Lte={class:"font-bold"},Fte={class:"text-gray text-sm"},Ute={class:"px-3 py-2"},jte={class:"px-3 py-2 text-gray text-xs"},Vte=k("div",{class:"h-px w-full bg-gray-100"},null,-1),Bte={class:"flex space-x-2 px-3 py-2 items-center"},qte={class:""},Wte=k("span",{class:"text-sm text-gray"},"",-1),Hte={class:"ml-5"},Gte=k("span",{class:"text-sm text-gray"}," ",-1),$te=k("div",{class:"h-px w-full bg-gray-100"},null,-1),Yte={class:"flex justify-around py-2"},zte=k("i",{class:"far fa-comment text-gray-400 text-xl hover:bg-blue-50 hover:text-primary p-2 rounded-full h-10 w-10"},null,-1),Kte=[zte],Qte={key:0,class:"fas fa-retweet text-xl hover:bg-green-50 text-green-400 p-2 rounded-full h-10 w-10"},Xte={key:1,class:"fas fa-retweet text-gray-400 text-xl hover:bg-green-50 hover:text-green-400 p-2 rounded-full h-10 w-10"},Jte={key:0,class:"far fa-heart text-xl hover:bg-red-50 text-red-400 p-2 rounded-full h-10 w-10"},Zte={key:1,class:"far fa-heart text-gray-400 text-xl hover:bg-red-50 hover:text-red-400 p-2 rounded-full h-10 w-10"},ene=k("div",{class:"h-px w-full bg-gray-100"},null,-1),tne=["src"],nne={class:"ml-2 flex-1"},rne={class:"flex items-center space-x-2"},ine={class:"font-bold"},one={class:"text-gray text-sm"},sne=["onClick"],ane=k("i",{class:"fas fa-trash text-red-400 hover:bg-red-50 w-10 h-10 rounded-full p-2"},null,-1),une=[ane];function cne(t,e,n,r,i,s){const a=Pn("trends"),c=Pn("comment-modal");return be(),Ne("div",Cte,[k("div",Ate,[r.tweet?(be(),Ne("div",Nte,[k("div",kte,[k("button",{onClick:e[0]||(e[0]=l=>r.router.go(-1))},Ote),xte]),k("div",Pte,[k("img",{src:r.tweet.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-90 cursor-pointer"},null,8,Dte),k("div",Mte,[k("div",Lte,Ve(r.tweet.email),1),k("div",Fte,"@"+Ve(r.tweet.username),1)])]),k("div",Ute,Ve(r.tweet.tweet_body),1),k("div",jte,Ve(r.moment(r.tweet.created_at).fromNow()),1),Vte,k("div",Bte,[k("span",qte,Ve(r.tweet.num_retweets),1),Wte,k("span",Hte,Ve(r.tweet.num_likes),1),Gte]),$te,k("div",Yte,[k("button",{onClick:e[1]||(e[1]=l=>r.showCommentModal=!0)},Kte),k("button",{onClick:e[2]||(e[2]=l=>r.handleRetweet(r.tweet))},[r.tweet.isRetweeted?(be(),Ne("i",Qte)):(be(),Ne("i",Xte))]),k("button",{onClick:e[3]||(e[3]=l=>r.handleLikes(r.tweet))},[r.tweet.isLiked?(be(),Ne("i",Jte)):(be(),Ne("i",Zte))])]),ene,(be(!0),Ne(jt,null,So(r.comments,l=>(be(),Ne("div",{key:l,class:"flex hover:bg-gray-50 cursor-pointer px-3 py-3 border-b border-gray-100"},[k("img",{src:l.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-90 cursor-pointer"},null,8,tne),k("div",nne,[k("div",rne,[k("span",ine,Ve(l.email),1),k("span",one,"@"+Ve(l.username),1),k("span",null,Ve(r.moment(l.created_at).fromNow()),1)]),k("div",null,Ve(l.comment_tweet_body),1)]),l.uid===r.currentUser.uid?(be(),Ne("button",{key:0,onClick:h=>r.handleDeleteComment(l)},une,8,sne)):ya("",!0)]))),128))])):ya("",!0)]),Rt(a),r.showCommentModal?(be(),Co(c,{key:0,tweet:r.tweet,onCloseModal:e[4]||(e[4]=l=>r.showCommentModal=!1)},null,8,["tweet"])):ya("",!0)])}const lne=rr(Ste,[["render",cne]]),fne={setup(){const t=Kt(""),e=Kt(""),n=Kt(!1),r=$R();return{email:t,password:e,loading:n,onLogin:async()=>{if(!t.value||!e.value){alert(",   .");return}try{n.value=!0;const{user:s}=await wT.signInWithEmailAndPassword(t.value,e.value),a=await Rh.doc(s.uid).get();er.commit("SET_USER",a.data()),r.replace("/")}catch(s){switch(s.code){case"auth/invalid-email":alert("  .");break;case"auth/invalid-password":alert(" .");break;case"auth/user-not-found":alert("  .");break;default:alert(s.message);break}}finally{n.value=!1}}}}},hne={class:"flex flex-col items-center space-y-4 mt-10"},dne=k("span",{class:"text-2xl font-bold"}," ",-1),pne={key:0,class:"w-96 rounded bg-light text-white py-3"},vne=k("button",{class:"text-primary"}," ?  ",-1);function gne(t,e,n,r,i,s){const a=Pn("router-link");return be(),Ne("div",hne,[k("i",{class:Aa(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),dne,vs(k("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,512),[[gs,r.email]]),vs(k("input",{onKeyup:e[1]||(e[1]=l3((...c)=>r.onLogin&&r.onLogin(...c),["enter"])),"onUpdate:modelValue":e[2]||(e[2]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:""},null,544),[[gs,r.password]]),r.loading?(be(),Ne("button",pne," .")):(be(),Ne("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:e[3]||(e[3]=(...c)=>r.onLogin&&r.onLogin(...c))},"")),Rt(a,{to:"/register"},{default:eh(()=>[vne]),_:1})])}const mne=rr(fne,[["render",gne]]),yne=[{path:"/",name:"home",component:Yl,title:"",icon:"fas fa-home fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"explore",component:Yl,title:"",icon:"fas fa-hashtag fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/notifications",name:"notifications",component:kee,title:"",icon:"far fa-bell fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/m essages",name:"messages",component:Yee,title:"",icon:"far fa-envelope fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"bookmarks",component:Yl,title:"",icon:"far fa-bookmark fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"list",component:Yl,title:"",icon:"far fa-list-alt fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/profile",name:"profile",component:mte,title:"",icon:"far fa-user fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"more",component:Yl,title:"",icon:"fas fa-ellipsis-h fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/tweet/:id",name:"tweet",component:lne,meta:{isMenu:!1,layout:"DefaultLayout",requireAuth:!0}},{path:"/register",name:"register",component:Ite,meta:{isMenu:!1,layout:"EmptyLayout"}},{path:"/login",name:"login",component:mne,meta:{isMenu:!1,layout:"EmptyLayout"}}],tc=IB({history:V3(),routes:yne});tc.beforeEach((t,e,n)=>{const r=er.state.user;t.matched.some(s=>s.meta.requireAuth)&&!r?n("/login"):n()});const _ne={setup(t,{emit:e}){const n=Kt(""),r=vn(()=>er.state.user);return{tweetBody:n,onAddTweet:async()=>{try{await e2(n.value,r.value),n.value="",e("close-modal")}catch(s){console.log("on add tweet error on homepage:",s)}},currentUser:r}}},wne={class:"flex justify-center min-h-screen sm:pt-6 sm:px-4 sm:pb-20 text-center sm:block sm:p-0"},bne=k("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[k("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),Ene={class:"border-b border-gray-100 p-2 flex items-center justify-between"},Tne=k("div",{class:"text-right sm:hidden mr-2"},[k("button",{class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"},""),k("button",{class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")],-1),Ine={class:"flex p-4"},Sne=["src"],Cne={class:"ml-2 flex-1 flex flex-col"},Ane={class:"text-right hidden sm:block"},Nne={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function kne(t,e,n,r,i,s){return be(),Ne("div",{class:"fixed z-10 inset-0 overflow-y-auto",onClick:e[4]||(e[4]=a=>t.$emit("close-modal"))},[k("div",wne,[bne,k("div",{onClick:e[3]||(e[3]=DR(()=>{},["stop"])),class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},[k("div",Ene,[k("button",{onClick:e[0]||(e[0]=a=>t.$emit("close-modal")),class:"fas fa-times text-primary text-lg p-2 h-10 w-10 hover:bg-blue-50 rounded-full"}),Tne]),k("div",Ine,[k("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,Sne),k("div",Cne,[vs(k("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.tweetBody=a),rows:"5",placeholder:"   ?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none"},null,512),[[gs,r.tweetBody]]),k("div",Ane,[r.tweetBody.length?(be(),Ne("button",{key:1,onClick:e[2]||(e[2]=(...a)=>r.onAddTweet&&r.onAddTweet(...a)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"")):(be(),Ne("button",Nne,""))])])])])])])}const Rne=rr(_ne,[["render",kne]]),One={components:{TweetModal:Rne},setup(){const t=Kt([]),e=Kt(!1),n=Kt(!1),r=vn(()=>er.state.user),i=async()=>{await wT.signOut(),er.commit("SET_USER",null),await tc.replace("/login")};return rc(()=>{t.value=tc.options.routes.filter(s=>s.meta.isMenu==!0)}),{routes:t,showProfileDropdown:e,onLogout:i,currentUser:r,router:tc,showTweetModal:n}}},xne={class:"flex h-screen container mx-auto"},Pne={class:"w-20 xl:w-1/4 pt-5 xl:ml-10 flex flex-col justify-between border-r border-gray-100"},Dne={class:"flex flex-col items-center xl:items-start"},Mne=k("i",{class:"fab fa-twitter text-3xl text-primary xl:ml-4 mb-3"},null,-1),Lne={class:"flex flex-col items-start space-y-1"},Fne={key:0},Une={class:"ml-5 text-xl hidden xl:inline-block"},jne={class:"w-full xl:pr-3 flex justify-center"},Vne=k("span",{class:"hidden xl:block"},"",-1),Bne=k("i",{class:"fas fa-plus xl:hidden"},null,-1),qne=[Vne,Bne],Wne={class:"hidden xl:flex mt-3 px-2 py-1 w-full h-12 rounded-full hover:bg-blue-50 items-center"},Hne=["src"],Gne={class:"xl:ml-2 hidden xl:block"},$ne={class:"text-sm font-bold"},Yne={class:"text-xs text-gray-500 text-left"},zne=k("i",{class:"ml-auto fas fa-ellipsis-h fa-fw text-xs hidden xl:block"},null,-1),Kne={class:"xl:hidden flex justify-center"},Qne=["src"],Xne={class:"flex-1 flex h-screen"},Jne={class:"hover:bg-gray-50 border-b border-gray-100 flex p-3 w-full items-center"},Zne=["src"],ere={class:"ml-2"},tre={class:"font-bold text-sm"},nre={class:"text-left text-gray-500 text-sm"},rre=k("i",{class:"fas fa-check text-primary ml-auto"},null,-1);function ire(t,e,n,r,i,s){const a=Pn("router-link"),c=Pn("router-view"),l=Pn("tweet-modal");return be(),Ne("div",xne,[k("div",Pne,[k("div",Dne,[Mne,k("div",Lne,[(be(!0),Ne(jt,null,So(r.routes,h=>(be(),Co(a,{to:h.path,class:Aa(`hover:text-primary hover:bg-blue-50 p-2 xl:px-4 xl:py-2 rounded-full cursor-pointer ${r.router.currentRoute.value.name==h.name?"text-primary":""}`),key:h},{default:eh(()=>[h.meta.isMenu?(be(),Ne("div",Fne,[k("i",{class:Aa(h.icon)},null,2),k("span",Une,Ve(h.title),1)])):ya("",!0)]),_:2},1032,["to","class"]))),128))]),k("div",jne,[k("button",{onClick:e[0]||(e[0]=h=>r.showTweetModal=!0),class:"mt-3 bg-primary text-white xl:w-full w-12 h-12 rounded-full hover:bg-dark"},qne)])]),k("div",{class:"xl:mr-3 mb-3 relative",onClick:e[1]||(e[1]=h=>r.showProfileDropdown=!0)},[k("button",Wne,[k("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,Hne),k("div",Gne,[k("div",$ne,Ve(r.currentUser.email),1),k("div",Yne,"@"+Ve(r.currentUser.username),1)]),zne]),k("div",Kne,[k("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full cursor-pointer hover:opacity-80"},null,8,Qne)])])]),k("div",Xne,[Rt(c)]),r.showProfileDropdown?(be(),Ne("div",{key:0,class:"absolute bottom-20 left-14 shadow rounded-lg w-60 bg-white",onClick:e[3]||(e[3]=h=>r.showProfileDropdown=!1)},[k("button",Jne,[k("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,Zne),k("div",ere,[k("div",tre,Ve(r.currentUser.email),1),k("div",nre,"@"+Ve(r.currentUser.username),1)]),rre]),k("button",{class:"p-3 hover:bg-gray-50 w-full text-left text-sm",onClick:e[2]||(e[2]=(...h)=>r.onLogout&&r.onLogout(...h))}," @"+Ve(r.currentUser.username)+"   ",1)])):ya("",!0),r.showTweetModal?(be(),Co(l,{key:1,onCloseModal:e[4]||(e[4]=h=>r.showTweetModal=!1)})):ya("",!0)])}const ore=rr(One,[["render",ire]]),sre={};function are(t,e,n,r,i,s){const a=Pn("router-view");return be(),Co(a)}const ure=rr(sre,[["render",are]]),cre={components:{DefaultLayout:ore,EmptyLayout:ure},setup(){const t=YR();return{layout:vn(()=>t.meta.layout||"DefaultLayout")}}};function lre(t,e,n,r,i,s){return be(),Co(lV(r.layout))}const fre=rr(cre,[["render",lre]]),hre={components:{Layout:fre}};function dre(t,e,n,r,i,s){const a=Pn("Layout");return be(),Co(a)}const pre=rr(hre,[["render",dre]]);d3(pre).use(tc).use(er).mount("#app")});export default vre();
