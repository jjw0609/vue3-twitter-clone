var jj=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var cne=jj((fne,vp)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function y0(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const vt={},ju=[],li=()=>{},Vj=()=>!1,Bj=/^on[^a-z]/,pv=t=>Bj.test(t),_0=t=>t.startsWith("onUpdate:"),vn=Object.assign,w0=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},qj=Object.prototype.hasOwnProperty,$e=(t,e)=>qj.call(t,e),Ce=Array.isArray,Vu=t=>vv(t)==="[object Map]",xR=t=>vv(t)==="[object Set]",xe=t=>typeof t=="function",zt=t=>typeof t=="string",b0=t=>typeof t=="symbol",It=t=>t!==null&&typeof t=="object",PR=t=>It(t)&&xe(t.then)&&xe(t.catch),DR=Object.prototype.toString,vv=t=>DR.call(t),Wj=t=>vv(t).slice(8,-1),MR=t=>vv(t)==="[object Object]",E0=t=>zt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Kd=y0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),gv=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Hj=/-(\w)/g,qi=gv(t=>t.replace(Hj,(e,n)=>n?n.toUpperCase():"")),Gj=/\B([A-Z])/g,La=gv(t=>t.replace(Gj,"-$1").toLowerCase()),mv=gv(t=>t.charAt(0).toUpperCase()+t.slice(1)),Jy=gv(t=>t?`on${mv(t)}`:""),hf=(t,e)=>!Object.is(t,e),Qd=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},gp=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},ew=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let tC;const tw=()=>tC||(tC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function T0(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=zt(r)?Kj(r):T0(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(zt(t))return t;if(It(t))return t}}const Yj=/;(?![^(]*\))/g,$j=/:([^]+)/,zj=/\/\*[^]*?\*\//g;function Kj(t){const e={};return t.replace(zj,"").split(Yj).forEach(n=>{if(n){const r=n.split($j);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Sa(t){let e="";if(zt(t))e=t;else if(Ce(t))for(let n=0;n<t.length;n++){const r=Sa(t[n]);r&&(e+=r+" ")}else if(It(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Qj="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xj=y0(Qj);function LR(t){return!!t||t===""}const Jt=t=>zt(t)?t:t==null?"":Ce(t)||It(t)&&(t.toString===DR||!xe(t.toString))?JSON.stringify(t,FR,2):String(t),FR=(t,e)=>e&&e.__v_isRef?FR(t,e.value):Vu(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:xR(e)?{[`Set(${e.size})`]:[...e.values()]}:It(e)&&!Ce(e)&&!MR(e)?String(e):e;let ni;class Jj{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ni,!e&&ni&&(this.index=(ni.scopes||(ni.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ni;try{return ni=this,e()}finally{ni=n}}}on(){ni=this}off(){ni=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Zj(t,e=ni){e&&e.active&&e.effects.push(t)}function e4(){return ni}const I0=t=>{const e=new Set(t);return e.w=0,e.n=0,e},UR=t=>(t.w&ys)>0,jR=t=>(t.n&ys)>0,t4=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ys},n4=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];UR(i)&&!jR(i)?i.delete(t):e[n++]=i,i.w&=~ys,i.n&=~ys}e.length=n}},nw=new WeakMap;let Hl=0,ys=1;const rw=30;let ii;const ga=Symbol(""),iw=Symbol("");class S0{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Zj(this,r)}run(){if(!this.active)return this.fn();let e=ii,n=ls;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ii,ii=this,ls=!0,ys=1<<++Hl,Hl<=rw?t4(this):nC(this),this.fn()}finally{Hl<=rw&&n4(this),ys=1<<--Hl,ii=this.parent,ls=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ii===this?this.deferStop=!0:this.active&&(nC(this),this.onStop&&this.onStop(),this.active=!1)}}function nC(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ls=!0;const VR=[];function Ac(){VR.push(ls),ls=!1}function Nc(){const t=VR.pop();ls=t===void 0?!0:t}function dr(t,e,n){if(ls&&ii){let r=nw.get(t);r||nw.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=I0()),BR(i)}}function BR(t,e){let n=!1;Hl<=rw?jR(t)||(t.n|=ys,n=!UR(t)):n=!t.has(ii),n&&(t.add(ii),ii.deps.push(t))}function To(t,e,n,r,i,s){const a=nw.get(t);if(!a)return;let c=[];if(e==="clear")c=[...a.values()];else if(n==="length"&&Ce(t)){const l=Number(r);a.forEach((h,d)=>{(d==="length"||d>=l)&&c.push(h)})}else switch(n!==void 0&&c.push(a.get(n)),e){case"add":Ce(t)?E0(n)&&c.push(a.get("length")):(c.push(a.get(ga)),Vu(t)&&c.push(a.get(iw)));break;case"delete":Ce(t)||(c.push(a.get(ga)),Vu(t)&&c.push(a.get(iw)));break;case"set":Vu(t)&&c.push(a.get(ga));break}if(c.length===1)c[0]&&ow(c[0]);else{const l=[];for(const h of c)h&&l.push(...h);ow(I0(l))}}function ow(t,e){const n=Ce(t)?t:[...t];for(const r of n)r.computed&&rC(r);for(const r of n)r.computed||rC(r)}function rC(t,e){(t!==ii||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const r4=y0("__proto__,__v_isRef,__isVue"),qR=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(b0)),i4=C0(),o4=C0(!1,!0),s4=C0(!0),iC=a4();function a4(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=tt(this);for(let s=0,a=this.length;s<a;s++)dr(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(tt)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ac();const r=tt(this)[e].apply(this,n);return Nc(),r}}),t}function u4(t){const e=tt(this);return dr(e,"has",t),e.hasOwnProperty(t)}function C0(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?I4:$R:e?YR:GR).get(r))return r;const a=Ce(r);if(!t){if(a&&$e(iC,i))return Reflect.get(iC,i,s);if(i==="hasOwnProperty")return u4}const c=Reflect.get(r,i,s);return(b0(i)?qR.has(i):r4(i))||(t||dr(r,"get",i),e)?c:On(c)?a&&E0(i)?c:c.value:It(c)?t?KR(c):Xf(c):c}}const c4=WR(),l4=WR(!0);function WR(t=!1){return function(n,r,i,s){let a=n[r];if(Zu(a)&&On(a)&&!On(i))return!1;if(!t&&(!mp(i)&&!Zu(i)&&(a=tt(a),i=tt(i)),!Ce(n)&&On(a)&&!On(i)))return a.value=i,!0;const c=Ce(n)&&E0(r)?Number(r)<n.length:$e(n,r),l=Reflect.set(n,r,i,s);return n===tt(s)&&(c?hf(i,a)&&To(n,"set",r,i):To(n,"add",r,i)),l}}function f4(t,e){const n=$e(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&To(t,"delete",e,void 0),r}function h4(t,e){const n=Reflect.has(t,e);return(!b0(e)||!qR.has(e))&&dr(t,"has",e),n}function d4(t){return dr(t,"iterate",Ce(t)?"length":ga),Reflect.ownKeys(t)}const HR={get:i4,set:c4,deleteProperty:f4,has:h4,ownKeys:d4},p4={get:s4,set(t,e){return!0},deleteProperty(t,e){return!0}},v4=vn({},HR,{get:o4,set:l4}),A0=t=>t,yv=t=>Reflect.getPrototypeOf(t);function Sd(t,e,n=!1,r=!1){t=t.__v_raw;const i=tt(t),s=tt(e);n||(e!==s&&dr(i,"get",e),dr(i,"get",s));const{has:a}=yv(i),c=r?A0:n?O0:df;if(a.call(i,e))return c(t.get(e));if(a.call(i,s))return c(t.get(s));t!==i&&t.get(e)}function Cd(t,e=!1){const n=this.__v_raw,r=tt(n),i=tt(t);return e||(t!==i&&dr(r,"has",t),dr(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ad(t,e=!1){return t=t.__v_raw,!e&&dr(tt(t),"iterate",ga),Reflect.get(t,"size",t)}function oC(t){t=tt(t);const e=tt(this);return yv(e).has.call(e,t)||(e.add(t),To(e,"add",t,t)),this}function sC(t,e){e=tt(e);const n=tt(this),{has:r,get:i}=yv(n);let s=r.call(n,t);s||(t=tt(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?hf(e,a)&&To(n,"set",t,e):To(n,"add",t,e),this}function aC(t){const e=tt(this),{has:n,get:r}=yv(e);let i=n.call(e,t);i||(t=tt(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&To(e,"delete",t,void 0),s}function uC(){const t=tt(this),e=t.size!==0,n=t.clear();return e&&To(t,"clear",void 0,void 0),n}function Nd(t,e){return function(r,i){const s=this,a=s.__v_raw,c=tt(a),l=e?A0:t?O0:df;return!t&&dr(c,"iterate",ga),a.forEach((h,d)=>r.call(i,l(h),l(d),s))}}function Rd(t,e,n){return function(...r){const i=this.__v_raw,s=tt(i),a=Vu(s),c=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,h=i[t](...r),d=n?A0:e?O0:df;return!e&&dr(s,"iterate",l?iw:ga),{next(){const{value:v,done:m}=h.next();return m?{value:v,done:m}:{value:c?[d(v[0]),d(v[1])]:d(v),done:m}},[Symbol.iterator](){return this}}}}function Go(t){return function(...e){return t==="delete"?!1:this}}function g4(){const t={get(s){return Sd(this,s)},get size(){return Ad(this)},has:Cd,add:oC,set:sC,delete:aC,clear:uC,forEach:Nd(!1,!1)},e={get(s){return Sd(this,s,!1,!0)},get size(){return Ad(this)},has:Cd,add:oC,set:sC,delete:aC,clear:uC,forEach:Nd(!1,!0)},n={get(s){return Sd(this,s,!0)},get size(){return Ad(this,!0)},has(s){return Cd.call(this,s,!0)},add:Go("add"),set:Go("set"),delete:Go("delete"),clear:Go("clear"),forEach:Nd(!0,!1)},r={get(s){return Sd(this,s,!0,!0)},get size(){return Ad(this,!0)},has(s){return Cd.call(this,s,!0)},add:Go("add"),set:Go("set"),delete:Go("delete"),clear:Go("clear"),forEach:Nd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Rd(s,!1,!1),n[s]=Rd(s,!0,!1),e[s]=Rd(s,!1,!0),r[s]=Rd(s,!0,!0)}),[t,n,e,r]}const[m4,y4,_4,w4]=g4();function N0(t,e){const n=e?t?w4:_4:t?y4:m4;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get($e(n,i)&&i in r?n:r,i,s)}const b4={get:N0(!1,!1)},E4={get:N0(!1,!0)},T4={get:N0(!0,!1)},GR=new WeakMap,YR=new WeakMap,$R=new WeakMap,I4=new WeakMap;function S4(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function C4(t){return t.__v_skip||!Object.isExtensible(t)?0:S4(Wj(t))}function Xf(t){return Zu(t)?t:R0(t,!1,HR,b4,GR)}function zR(t){return R0(t,!1,v4,E4,YR)}function KR(t){return R0(t,!0,p4,T4,$R)}function R0(t,e,n,r,i){if(!It(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=C4(t);if(a===0)return t;const c=new Proxy(t,a===2?r:n);return i.set(t,c),c}function Bu(t){return Zu(t)?Bu(t.__v_raw):!!(t&&t.__v_isReactive)}function Zu(t){return!!(t&&t.__v_isReadonly)}function mp(t){return!!(t&&t.__v_isShallow)}function QR(t){return Bu(t)||Zu(t)}function tt(t){const e=t&&t.__v_raw;return e?tt(e):t}function XR(t){return gp(t,"__v_skip",!0),t}const df=t=>It(t)?Xf(t):t,O0=t=>It(t)?KR(t):t;function JR(t){ls&&ii&&(t=tt(t),BR(t.dep||(t.dep=I0())))}function ZR(t,e){t=tt(t);const n=t.dep;n&&ow(n)}function On(t){return!!(t&&t.__v_isRef===!0)}function kn(t){return eO(t,!1)}function A4(t){return eO(t,!0)}function eO(t,e){return On(t)?t:new N4(t,e)}class N4{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:tt(e),this._value=n?e:df(e)}get value(){return JR(this),this._value}set value(e){const n=this.__v_isShallow||mp(e)||Zu(e);e=n?e:tt(e),hf(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:df(e),ZR(this))}}function qu(t){return On(t)?t.value:t}const R4={get:(t,e,n)=>qu(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return On(i)&&!On(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function tO(t){return Bu(t)?t:new Proxy(t,R4)}class O4{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new S0(e,()=>{this._dirty||(this._dirty=!0,ZR(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=tt(this);return JR(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function k4(t,e,n=!1){let r,i;const s=xe(t);return s?(r=t,i=li):(r=t.get,i=t.set),new O4(r,i,s||!i,n)}function fs(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){_v(s,e,n)}return i}function fi(t,e,n,r){if(xe(t)){const s=fs(t,e,n,r);return s&&PR(s)&&s.catch(a=>{_v(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(fi(t[s],e,n,r));return i}function _v(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,c=n;for(;s;){const h=s.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,a,c)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){fs(l,null,10,[t,a,c]);return}}x4(t,n,i,r)}function x4(t,e,n,r=!0){console.error(t)}let pf=!1,sw=!1;const Nn=[];let Di=0;const Wu=[];let co=null,oa=0;const nO=Promise.resolve();let k0=null;function rO(t){const e=k0||nO;return t?e.then(this?t.bind(this):t):e}function P4(t){let e=Di+1,n=Nn.length;for(;e<n;){const r=e+n>>>1;vf(Nn[r])<t?e=r+1:n=r}return e}function x0(t){(!Nn.length||!Nn.includes(t,pf&&t.allowRecurse?Di+1:Di))&&(t.id==null?Nn.push(t):Nn.splice(P4(t.id),0,t),iO())}function iO(){!pf&&!sw&&(sw=!0,k0=nO.then(sO))}function D4(t){const e=Nn.indexOf(t);e>Di&&Nn.splice(e,1)}function M4(t){Ce(t)?Wu.push(...t):(!co||!co.includes(t,t.allowRecurse?oa+1:oa))&&Wu.push(t),iO()}function cC(t,e=pf?Di+1:0){for(;e<Nn.length;e++){const n=Nn[e];n&&n.pre&&(Nn.splice(e,1),e--,n())}}function oO(t){if(Wu.length){const e=[...new Set(Wu)];if(Wu.length=0,co){co.push(...e);return}for(co=e,co.sort((n,r)=>vf(n)-vf(r)),oa=0;oa<co.length;oa++)co[oa]();co=null,oa=0}}const vf=t=>t.id==null?1/0:t.id,L4=(t,e)=>{const n=vf(t)-vf(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function sO(t){sw=!1,pf=!0,Nn.sort(L4);const e=li;try{for(Di=0;Di<Nn.length;Di++){const n=Nn[Di];n&&n.active!==!1&&fs(n,null,14)}}finally{Di=0,Nn.length=0,oO(),pf=!1,k0=null,(Nn.length||Wu.length)&&sO()}}function F4(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||vt;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:m}=r[d]||vt;m&&(i=n.map(y=>zt(y)?y.trim():y)),v&&(i=n.map(ew))}let c,l=r[c=Jy(e)]||r[c=Jy(qi(e))];!l&&s&&(l=r[c=Jy(La(e))]),l&&fi(l,t,6,i);const h=r[c+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,fi(h,t,6,i)}}function aO(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},c=!1;if(!xe(t)){const l=h=>{const d=aO(h,e,!0);d&&(c=!0,vn(a,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!c?(It(t)&&r.set(t,null),null):(Ce(s)?s.forEach(l=>a[l]=null):vn(a,s),It(t)&&r.set(t,a),a)}function wv(t,e){return!t||!pv(e)?!1:(e=e.slice(2).replace(/Once$/,""),$e(t,e[0].toLowerCase()+e.slice(1))||$e(t,La(e))||$e(t,e))}let Br=null,uO=null;function yp(t){const e=Br;return Br=t,uO=t&&t.type.__scopeId||null,e}function bv(t,e=Br,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&wC(-1);const s=yp(e);let a;try{a=t(...i)}finally{yp(s),r._d&&wC(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Zy(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:c,attrs:l,emit:h,render:d,renderCache:v,data:m,setupState:y,ctx:b,inheritAttrs:E}=t;let T,A;const x=yp(t);try{if(n.shapeFlag&4){const U=i||r;T=Pi(d.call(U,U,v,s,y,m,b)),A=l}else{const U=e;T=Pi(U.length>1?U(s,{attrs:l,slots:c,emit:h}):U(s,null)),A=e.props?l:U4(l)}}catch(U){Xl.length=0,_v(U,t,1),T=jt(Ca)}let M=T;if(A&&E!==!1){const U=Object.keys(A),{shapeFlag:X}=M;U.length&&X&7&&(a&&U.some(_0)&&(A=j4(A,a)),M=ec(M,A))}return n.dirs&&(M=ec(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),T=M,yp(x),T}const U4=t=>{let e;for(const n in t)(n==="class"||n==="style"||pv(n))&&((e||(e={}))[n]=t[n]);return e},j4=(t,e)=>{const n={};for(const r in t)(!_0(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function V4(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:c,patchFlag:l}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?lC(r,a,h):!!a;if(l&8){const d=e.dynamicProps;for(let v=0;v<d.length;v++){const m=d[v];if(a[m]!==r[m]&&!wv(h,m))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===a?!1:r?a?lC(r,a,h):!0:!!a;return!1}function lC(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!wv(n,s))return!0}return!1}function B4({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const q4=t=>t.__isSuspense;function W4(t,e){e&&e.pendingBranch?Ce(t)?e.effects.push(...t):e.effects.push(t):M4(t)}const Od={};function Hu(t,e,n){return cO(t,e,n)}function cO(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=vt){var c;const l=e4()===((c=bn)==null?void 0:c.scope)?bn:null;let h,d=!1,v=!1;if(On(t)?(h=()=>t.value,d=mp(t)):Bu(t)?(h=()=>t,r=!0):Ce(t)?(v=!0,d=t.some(U=>Bu(U)||mp(U)),h=()=>t.map(U=>{if(On(U))return U.value;if(Bu(U))return ca(U);if(xe(U))return fs(U,l,2)})):xe(t)?e?h=()=>fs(t,l,2):h=()=>{if(!(l&&l.isUnmounted))return m&&m(),fi(t,l,3,[y])}:h=li,e&&r){const U=h;h=()=>ca(U())}let m,y=U=>{m=x.onStop=()=>{fs(U,l,4)}},b;if(mf)if(y=li,e?n&&fi(e,l,3,[h(),v?[]:void 0,y]):h(),i==="sync"){const U=MV();b=U.__watcherHandles||(U.__watcherHandles=[])}else return li;let E=v?new Array(t.length).fill(Od):Od;const T=()=>{if(x.active)if(e){const U=x.run();(r||d||(v?U.some((X,j)=>hf(X,E[j])):hf(U,E)))&&(m&&m(),fi(e,l,3,[U,E===Od?void 0:v&&E[0]===Od?[]:E,y]),E=U)}else x.run()};T.allowRecurse=!!e;let A;i==="sync"?A=T:i==="post"?A=()=>ar(T,l&&l.suspense):(T.pre=!0,l&&(T.id=l.uid),A=()=>x0(T));const x=new S0(h,A);e?n?T():E=x.run():i==="post"?ar(x.run.bind(x),l&&l.suspense):x.run();const M=()=>{x.stop(),l&&l.scope&&w0(l.scope.effects,x)};return b&&b.push(M),M}function H4(t,e,n){const r=this.proxy,i=zt(t)?t.includes(".")?lO(r,t):()=>r[t]:t.bind(r,r);let s;xe(e)?s=e:(s=e.handler,n=e);const a=bn;tc(this);const c=cO(i,s.bind(r),n);return a?tc(a):ma(),c}function lO(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function ca(t,e){if(!It(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),On(t))ca(t.value,e);else if(Ce(t))for(let n=0;n<t.length;n++)ca(t[n],e);else if(xR(t)||Vu(t))t.forEach(n=>{ca(n,e)});else if(MR(t))for(const n in t)ca(t[n],e);return t}function hs(t,e){const n=Br;if(n===null)return t;const r=Sv(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,c,l,h=vt]=e[s];a&&(xe(a)&&(a={mounted:a,updated:a}),a.deep&&ca(c),i.push({dir:a,instance:r,value:c,oldValue:void 0,arg:l,modifiers:h}))}return t}function ea(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const c=i[a];s&&(c.oldValue=s[a].value);let l=c.dir[r];l&&(Ac(),fi(l,n,8,[t.el,c,t,e]),Nc())}}function fO(t,e){return xe(t)?(()=>vn({name:t.name},e,{setup:t}))():t}const Xd=t=>!!t.type.__asyncLoader,hO=t=>t.type.__isKeepAlive;function G4(t,e){dO(t,"a",e)}function Y4(t,e){dO(t,"da",e)}function dO(t,e,n=bn){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ev(e,r,n),n){let i=n.parent;for(;i&&i.parent;)hO(i.parent.vnode)&&$4(r,e,n,i),i=i.parent}}function $4(t,e,n,r){const i=Ev(e,t,r,!0);pO(()=>{w0(r[e],i)},n)}function Ev(t,e,n=bn,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Ac(),tc(n);const c=fi(e,n,t,a);return ma(),Nc(),c});return r?i.unshift(s):i.push(s),s}}const Oo=t=>(e,n=bn)=>(!mf||t==="sp")&&Ev(t,(...r)=>e(...r),n),_p=Oo("bm"),z4=Oo("m"),K4=Oo("bu"),Q4=Oo("u"),X4=Oo("bum"),pO=Oo("um"),J4=Oo("sp"),Z4=Oo("rtg"),eV=Oo("rtc");function tV(t,e=bn){Ev("ec",t,e)}const P0="components";function Or(t,e){return gO(P0,t,!0,e)||t}const vO=Symbol.for("v-ndc");function nV(t){return zt(t)?gO(P0,t,!1)||t:t||vO}function gO(t,e,n=!0,r=!1){const i=Br||bn;if(i){const s=i.type;if(t===P0){const c=xV(s,!1);if(c&&(c===e||c===qi(e)||c===mv(qi(e))))return s}const a=fC(i[t]||s[t],e)||fC(i.appContext[t],e);return!a&&r?s:a}}function fC(t,e){return t&&(t[e]||t[qi(e)]||t[mv(qi(e))])}function _s(t,e,n,r){let i;const s=n&&n[r];if(Ce(t)||zt(t)){i=new Array(t.length);for(let a=0,c=t.length;a<c;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(It(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s&&s[c]));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const h=a[c];i[c]=e(t[h],h,c,s&&s[c])}}else i=[];return n&&(n[r]=i),i}const aw=t=>t?AO(t)?Sv(t)||t.proxy:aw(t.parent):null,Ql=vn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>aw(t.parent),$root:t=>aw(t.root),$emit:t=>t.emit,$options:t=>D0(t),$forceUpdate:t=>t.f||(t.f=()=>x0(t.update)),$nextTick:t=>t.n||(t.n=rO.bind(t.proxy)),$watch:t=>H4.bind(t)}),e_=(t,e)=>t!==vt&&!t.__isScriptSetup&&$e(t,e),rV={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:c,appContext:l}=t;let h;if(e[0]!=="$"){const y=a[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(e_(r,e))return a[e]=1,r[e];if(i!==vt&&$e(i,e))return a[e]=2,i[e];if((h=t.propsOptions[0])&&$e(h,e))return a[e]=3,s[e];if(n!==vt&&$e(n,e))return a[e]=4,n[e];uw&&(a[e]=0)}}const d=Ql[e];let v,m;if(d)return e==="$attrs"&&dr(t,"get",e),d(t);if((v=c.__cssModules)&&(v=v[e]))return v;if(n!==vt&&$e(n,e))return a[e]=4,n[e];if(m=l.config.globalProperties,$e(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return e_(i,e)?(i[e]=n,!0):r!==vt&&$e(r,e)?(r[e]=n,!0):$e(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let c;return!!n[a]||t!==vt&&$e(t,a)||e_(e,a)||(c=s[0])&&$e(c,a)||$e(r,a)||$e(Ql,a)||$e(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:$e(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function hC(t){return Ce(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let uw=!0;function iV(t){const e=D0(t),n=t.proxy,r=t.ctx;uw=!1,e.beforeCreate&&dC(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:c,provide:l,inject:h,created:d,beforeMount:v,mounted:m,beforeUpdate:y,updated:b,activated:E,deactivated:T,beforeDestroy:A,beforeUnmount:x,destroyed:M,unmounted:U,render:X,renderTracked:j,renderTriggered:Te,errorCaptured:nt,serverPrefetch:de,expose:gn,inheritAttrs:O,components:bi,directives:Sn,filters:Ps}=e;if(h&&oV(h,r,null),a)for(const Ge in a){const Ye=a[Ge];xe(Ye)&&(r[Ge]=Ye.bind(n))}if(i){const Ge=i.call(n,n);It(Ge)&&(t.data=Xf(Ge))}if(uw=!0,s)for(const Ge in s){const Ye=s[Ge],St=xe(Ye)?Ye.bind(n,n):xe(Ye.get)?Ye.get.bind(n,n):li,Dr=!xe(Ye)&&xe(Ye.set)?Ye.set.bind(n):li,mn=Rn({get:St,set:Dr});Object.defineProperty(r,Ge,{enumerable:!0,configurable:!0,get:()=>mn.value,set:an=>mn.value=an})}if(c)for(const Ge in c)mO(c[Ge],r,n,Ge);if(l){const Ge=xe(l)?l.call(n):l;Reflect.ownKeys(Ge).forEach(Ye=>{Jd(Ye,Ge[Ye])})}d&&dC(d,t,"c");function yt(Ge,Ye){Ce(Ye)?Ye.forEach(St=>Ge(St.bind(n))):Ye&&Ge(Ye.bind(n))}if(yt(_p,v),yt(z4,m),yt(K4,y),yt(Q4,b),yt(G4,E),yt(Y4,T),yt(tV,nt),yt(eV,j),yt(Z4,Te),yt(X4,x),yt(pO,U),yt(J4,de),Ce(gn))if(gn.length){const Ge=t.exposed||(t.exposed={});gn.forEach(Ye=>{Object.defineProperty(Ge,Ye,{get:()=>n[Ye],set:St=>n[Ye]=St})})}else t.exposed||(t.exposed={});X&&t.render===li&&(t.render=X),O!=null&&(t.inheritAttrs=O),bi&&(t.components=bi),Sn&&(t.directives=Sn)}function oV(t,e,n=li){Ce(t)&&(t=cw(t));for(const r in t){const i=t[r];let s;It(i)?"default"in i?s=hi(i.from||r,i.default,!0):s=hi(i.from||r):s=hi(i),On(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function dC(t,e,n){fi(Ce(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function mO(t,e,n,r){const i=r.includes(".")?lO(n,r):()=>n[r];if(zt(t)){const s=e[t];xe(s)&&Hu(i,s)}else if(xe(t))Hu(i,t.bind(n));else if(It(t))if(Ce(t))t.forEach(s=>mO(s,e,n,r));else{const s=xe(t.handler)?t.handler.bind(n):e[t.handler];xe(s)&&Hu(i,s,t)}}function D0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,c=s.get(e);let l;return c?l=c:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(h=>wp(l,h,a,!0)),wp(l,e,a)),It(e)&&s.set(e,l),l}function wp(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&wp(t,s,n,!0),i&&i.forEach(a=>wp(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const c=sV[a]||n&&n[a];t[a]=c?c(t[a],e[a]):e[a]}return t}const sV={data:pC,props:vC,emits:vC,methods:Gl,computed:Gl,beforeCreate:$n,created:$n,beforeMount:$n,mounted:$n,beforeUpdate:$n,updated:$n,beforeDestroy:$n,beforeUnmount:$n,destroyed:$n,unmounted:$n,activated:$n,deactivated:$n,errorCaptured:$n,serverPrefetch:$n,components:Gl,directives:Gl,watch:uV,provide:pC,inject:aV};function pC(t,e){return e?t?function(){return vn(xe(t)?t.call(this,this):t,xe(e)?e.call(this,this):e)}:e:t}function aV(t,e){return Gl(cw(t),cw(e))}function cw(t){if(Ce(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $n(t,e){return t?[...new Set([].concat(t,e))]:e}function Gl(t,e){return t?vn(Object.create(null),t,e):e}function vC(t,e){return t?Ce(t)&&Ce(e)?[...new Set([...t,...e])]:vn(Object.create(null),hC(t),hC(e??{})):e}function uV(t,e){if(!t)return e;if(!e)return t;const n=vn(Object.create(null),t);for(const r in e)n[r]=$n(t[r],e[r]);return n}function yO(){return{app:null,config:{isNativeTag:Vj,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cV=0;function lV(t,e){return function(r,i=null){xe(r)||(r=vn({},r)),i!=null&&!It(i)&&(i=null);const s=yO(),a=new Set;let c=!1;const l=s.app={_uid:cV++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:LV,get config(){return s.config},set config(h){},use(h,...d){return a.has(h)||(h&&xe(h.install)?(a.add(h),h.install(l,...d)):xe(h)&&(a.add(h),h(l,...d))),l},mixin(h){return s.mixins.includes(h)||s.mixins.push(h),l},component(h,d){return d?(s.components[h]=d,l):s.components[h]},directive(h,d){return d?(s.directives[h]=d,l):s.directives[h]},mount(h,d,v){if(!c){const m=jt(r,i);return m.appContext=s,d&&e?e(m,h):t(m,h,v),c=!0,l._container=h,h.__vue_app__=l,Sv(m.component)||m.component.proxy}},unmount(){c&&(t(null,l._container),delete l._container.__vue_app__)},provide(h,d){return s.provides[h]=d,l},runWithContext(h){bp=l;try{return h()}finally{bp=null}}};return l}}let bp=null;function Jd(t,e){if(bn){let n=bn.provides;const r=bn.parent&&bn.parent.provides;r===n&&(n=bn.provides=Object.create(r)),n[t]=e}}function hi(t,e,n=!1){const r=bn||Br;if(r||bp){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:bp._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&xe(e)?e.call(r&&r.proxy):e}}function fV(t,e,n,r=!1){const i={},s={};gp(s,Iv,1),t.propsDefaults=Object.create(null),_O(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:zR(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function hV(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,c=tt(i),[l]=t.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let v=0;v<d.length;v++){let m=d[v];if(wv(t.emitsOptions,m))continue;const y=e[m];if(l)if($e(s,m))y!==s[m]&&(s[m]=y,h=!0);else{const b=qi(m);i[b]=lw(l,c,b,y,t,!1)}else y!==s[m]&&(s[m]=y,h=!0)}}}else{_O(t,e,i,s)&&(h=!0);let d;for(const v in c)(!e||!$e(e,v)&&((d=La(v))===v||!$e(e,d)))&&(l?n&&(n[v]!==void 0||n[d]!==void 0)&&(i[v]=lw(l,c,v,void 0,t,!0)):delete i[v]);if(s!==c)for(const v in s)(!e||!$e(e,v))&&(delete s[v],h=!0)}h&&To(t,"set","$attrs")}function _O(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,c;if(e)for(let l in e){if(Kd(l))continue;const h=e[l];let d;i&&$e(i,d=qi(l))?!s||!s.includes(d)?n[d]=h:(c||(c={}))[d]=h:wv(t.emitsOptions,l)||(!(l in r)||h!==r[l])&&(r[l]=h,a=!0)}if(s){const l=tt(n),h=c||vt;for(let d=0;d<s.length;d++){const v=s[d];n[v]=lw(i,l,v,h[v],t,!$e(h,v))}}return a}function lw(t,e,n,r,i,s){const a=t[n];if(a!=null){const c=$e(a,"default");if(c&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&xe(l)){const{propsDefaults:h}=i;n in h?r=h[n]:(tc(i),r=h[n]=l.call(null,e),ma())}else r=l}a[0]&&(s&&!c?r=!1:a[1]&&(r===""||r===La(n))&&(r=!0))}return r}function wO(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},c=[];let l=!1;if(!xe(t)){const d=v=>{l=!0;const[m,y]=wO(v,e,!0);vn(a,m),y&&c.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!l)return It(t)&&r.set(t,ju),ju;if(Ce(s))for(let d=0;d<s.length;d++){const v=qi(s[d]);gC(v)&&(a[v]=vt)}else if(s)for(const d in s){const v=qi(d);if(gC(v)){const m=s[d],y=a[v]=Ce(m)||xe(m)?{type:m}:vn({},m);if(y){const b=_C(Boolean,y.type),E=_C(String,y.type);y[0]=b>-1,y[1]=E<0||b<E,(b>-1||$e(y,"default"))&&c.push(v)}}}const h=[a,c];return It(t)&&r.set(t,h),h}function gC(t){return t[0]!=="$"}function mC(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function yC(t,e){return mC(t)===mC(e)}function _C(t,e){return Ce(e)?e.findIndex(n=>yC(n,t)):xe(e)&&yC(e,t)?0:-1}const bO=t=>t[0]==="_"||t==="$stable",M0=t=>Ce(t)?t.map(Pi):[Pi(t)],dV=(t,e,n)=>{if(e._n)return e;const r=bv((...i)=>M0(e(...i)),n);return r._c=!1,r},EO=(t,e,n)=>{const r=t._ctx;for(const i in t){if(bO(i))continue;const s=t[i];if(xe(s))e[i]=dV(i,s,r);else if(s!=null){const a=M0(s);e[i]=()=>a}}},TO=(t,e)=>{const n=M0(e);t.slots.default=()=>n},pV=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=tt(e),gp(e,"_",n)):EO(e,t.slots={})}else t.slots={},e&&TO(t,e);gp(t.slots,Iv,1)},vV=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=vt;if(r.shapeFlag&32){const c=e._;c?n&&c===1?s=!1:(vn(i,e),!n&&c===1&&delete i._):(s=!e.$stable,EO(e,i)),a=e}else e&&(TO(t,e),a={default:1});if(s)for(const c in i)!bO(c)&&!(c in a)&&delete i[c]};function fw(t,e,n,r,i=!1){if(Ce(t)){t.forEach((m,y)=>fw(m,e&&(Ce(e)?e[y]:e),n,r,i));return}if(Xd(r)&&!i)return;const s=r.shapeFlag&4?Sv(r.component)||r.component.proxy:r.el,a=i?null:s,{i:c,r:l}=t,h=e&&e.r,d=c.refs===vt?c.refs={}:c.refs,v=c.setupState;if(h!=null&&h!==l&&(zt(h)?(d[h]=null,$e(v,h)&&(v[h]=null)):On(h)&&(h.value=null)),xe(l))fs(l,c,12,[a,d]);else{const m=zt(l),y=On(l);if(m||y){const b=()=>{if(t.f){const E=m?$e(v,l)?v[l]:d[l]:l.value;i?Ce(E)&&w0(E,s):Ce(E)?E.includes(s)||E.push(s):m?(d[l]=[s],$e(v,l)&&(v[l]=d[l])):(l.value=[s],t.k&&(d[t.k]=l.value))}else m?(d[l]=a,$e(v,l)&&(v[l]=a)):y&&(l.value=a,t.k&&(d[t.k]=a))};a?(b.id=-1,ar(b,n)):b()}}}const ar=W4;function gV(t){return mV(t)}function mV(t,e){const n=tw();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:c,createComment:l,setText:h,setElementText:d,parentNode:v,nextSibling:m,setScopeId:y=li,insertStaticContent:b}=t,E=(S,C,k,L=null,B=null,q=null,ne=!1,z=null,Z=!!C.dynamicChildren)=>{if(S===C)return;S&&!xl(S,C)&&(L=V(S),an(S,B,q,!0),S=null),C.patchFlag===-2&&(Z=!1,C.dynamicChildren=null);const{type:Y,ref:ge,shapeFlag:ce}=C;switch(Y){case Tv:T(S,C,k,L);break;case Ca:A(S,C,k,L);break;case Zd:S==null&&x(C,k,L,ne);break;case Yt:bi(S,C,k,L,B,q,ne,z,Z);break;default:ce&1?X(S,C,k,L,B,q,ne,z,Z):ce&6?Sn(S,C,k,L,B,q,ne,z,Z):(ce&64||ce&128)&&Y.process(S,C,k,L,B,q,ne,z,Z,H)}ge!=null&&B&&fw(ge,S&&S.ref,q,C||S,!C)},T=(S,C,k,L)=>{if(S==null)r(C.el=c(C.children),k,L);else{const B=C.el=S.el;C.children!==S.children&&h(B,C.children)}},A=(S,C,k,L)=>{S==null?r(C.el=l(C.children||""),k,L):C.el=S.el},x=(S,C,k,L)=>{[S.el,S.anchor]=b(S.children,C,k,L,S.el,S.anchor)},M=({el:S,anchor:C},k,L)=>{let B;for(;S&&S!==C;)B=m(S),r(S,k,L),S=B;r(C,k,L)},U=({el:S,anchor:C})=>{let k;for(;S&&S!==C;)k=m(S),i(S),S=k;i(C)},X=(S,C,k,L,B,q,ne,z,Z)=>{ne=ne||C.type==="svg",S==null?j(C,k,L,B,q,ne,z,Z):de(S,C,B,q,ne,z,Z)},j=(S,C,k,L,B,q,ne,z)=>{let Z,Y;const{type:ge,props:ce,shapeFlag:me,transition:Ie,dirs:De}=S;if(Z=S.el=a(S.type,q,ce&&ce.is,ce),me&8?d(Z,S.children):me&16&&nt(S.children,Z,null,L,B,q&&ge!=="foreignObject",ne,z),De&&ea(S,null,L,"created"),Te(Z,S,S.scopeId,ne,L),ce){for(const ye in ce)ye!=="value"&&!Kd(ye)&&s(Z,ye,null,ce[ye],q,S.children,L,B,un);"value"in ce&&s(Z,"value",null,ce.value),(Y=ce.onVnodeBeforeMount)&&ki(Y,L,S)}De&&ea(S,null,L,"beforeMount");const at=(!B||B&&!B.pendingBranch)&&Ie&&!Ie.persisted;at&&Ie.beforeEnter(Z),r(Z,C,k),((Y=ce&&ce.onVnodeMounted)||at||De)&&ar(()=>{Y&&ki(Y,L,S),at&&Ie.enter(Z),De&&ea(S,null,L,"mounted")},B)},Te=(S,C,k,L,B)=>{if(k&&y(S,k),L)for(let q=0;q<L.length;q++)y(S,L[q]);if(B){let q=B.subTree;if(C===q){const ne=B.vnode;Te(S,ne,ne.scopeId,ne.slotScopeIds,B.parent)}}},nt=(S,C,k,L,B,q,ne,z,Z=0)=>{for(let Y=Z;Y<S.length;Y++){const ge=S[Y]=z?Jo(S[Y]):Pi(S[Y]);E(null,ge,C,k,L,B,q,ne,z)}},de=(S,C,k,L,B,q,ne)=>{const z=C.el=S.el;let{patchFlag:Z,dynamicChildren:Y,dirs:ge}=C;Z|=S.patchFlag&16;const ce=S.props||vt,me=C.props||vt;let Ie;k&&ta(k,!1),(Ie=me.onVnodeBeforeUpdate)&&ki(Ie,k,C,S),ge&&ea(C,S,k,"beforeUpdate"),k&&ta(k,!0);const De=B&&C.type!=="foreignObject";if(Y?gn(S.dynamicChildren,Y,z,k,L,De,q):ne||Ye(S,C,z,null,k,L,De,q,!1),Z>0){if(Z&16)O(z,C,ce,me,k,L,B);else if(Z&2&&ce.class!==me.class&&s(z,"class",null,me.class,B),Z&4&&s(z,"style",ce.style,me.style,B),Z&8){const at=C.dynamicProps;for(let ye=0;ye<at.length;ye++){const _t=at[ye],cn=ce[_t],Zi=me[_t];(Zi!==cn||_t==="value")&&s(z,_t,cn,Zi,B,S.children,k,L,un)}}Z&1&&S.children!==C.children&&d(z,C.children)}else!ne&&Y==null&&O(z,C,ce,me,k,L,B);((Ie=me.onVnodeUpdated)||ge)&&ar(()=>{Ie&&ki(Ie,k,C,S),ge&&ea(C,S,k,"updated")},L)},gn=(S,C,k,L,B,q,ne)=>{for(let z=0;z<C.length;z++){const Z=S[z],Y=C[z],ge=Z.el&&(Z.type===Yt||!xl(Z,Y)||Z.shapeFlag&70)?v(Z.el):k;E(Z,Y,ge,null,L,B,q,ne,!0)}},O=(S,C,k,L,B,q,ne)=>{if(k!==L){if(k!==vt)for(const z in k)!Kd(z)&&!(z in L)&&s(S,z,k[z],null,ne,C.children,B,q,un);for(const z in L){if(Kd(z))continue;const Z=L[z],Y=k[z];Z!==Y&&z!=="value"&&s(S,z,Y,Z,ne,C.children,B,q,un)}"value"in L&&s(S,"value",k.value,L.value)}},bi=(S,C,k,L,B,q,ne,z,Z)=>{const Y=C.el=S?S.el:c(""),ge=C.anchor=S?S.anchor:c("");let{patchFlag:ce,dynamicChildren:me,slotScopeIds:Ie}=C;Ie&&(z=z?z.concat(Ie):Ie),S==null?(r(Y,k,L),r(ge,k,L),nt(C.children,k,ge,B,q,ne,z,Z)):ce>0&&ce&64&&me&&S.dynamicChildren?(gn(S.dynamicChildren,me,k,B,q,ne,z),(C.key!=null||B&&C===B.subTree)&&IO(S,C,!0)):Ye(S,C,k,ge,B,q,ne,z,Z)},Sn=(S,C,k,L,B,q,ne,z,Z)=>{C.slotScopeIds=z,S==null?C.shapeFlag&512?B.ctx.activate(C,k,L,ne,Z):Ps(C,k,L,B,q,ne,Z):Ei(S,C,Z)},Ps=(S,C,k,L,B,q,ne)=>{const z=S.component=AV(S,L,B);if(hO(S)&&(z.ctx.renderer=H),NV(z),z.asyncDep){if(B&&B.registerDep(z,yt),!S.el){const Z=z.subTree=jt(Ca);A(null,Z,C,k)}return}yt(z,S,C,k,B,q,ne)},Ei=(S,C,k)=>{const L=C.component=S.component;if(V4(S,C,k))if(L.asyncDep&&!L.asyncResolved){Ge(L,C,k);return}else L.next=C,D4(L.update),L.update();else C.el=S.el,L.vnode=C},yt=(S,C,k,L,B,q,ne)=>{const z=()=>{if(S.isMounted){let{next:ge,bu:ce,u:me,parent:Ie,vnode:De}=S,at=ge,ye;ta(S,!1),ge?(ge.el=De.el,Ge(S,ge,ne)):ge=De,ce&&Qd(ce),(ye=ge.props&&ge.props.onVnodeBeforeUpdate)&&ki(ye,Ie,ge,De),ta(S,!0);const _t=Zy(S),cn=S.subTree;S.subTree=_t,E(cn,_t,v(cn.el),V(cn),S,B,q),ge.el=_t.el,at===null&&B4(S,_t.el),me&&ar(me,B),(ye=ge.props&&ge.props.onVnodeUpdated)&&ar(()=>ki(ye,Ie,ge,De),B)}else{let ge;const{el:ce,props:me}=C,{bm:Ie,m:De,parent:at}=S,ye=Xd(C);if(ta(S,!1),Ie&&Qd(Ie),!ye&&(ge=me&&me.onVnodeBeforeMount)&&ki(ge,at,C),ta(S,!0),ce&&Ke){const _t=()=>{S.subTree=Zy(S),Ke(ce,S.subTree,S,B,null)};ye?C.type.__asyncLoader().then(()=>!S.isUnmounted&&_t()):_t()}else{const _t=S.subTree=Zy(S);E(null,_t,k,L,S,B,q),C.el=_t.el}if(De&&ar(De,B),!ye&&(ge=me&&me.onVnodeMounted)){const _t=C;ar(()=>ki(ge,at,_t),B)}(C.shapeFlag&256||at&&Xd(at.vnode)&&at.vnode.shapeFlag&256)&&S.a&&ar(S.a,B),S.isMounted=!0,C=k=L=null}},Z=S.effect=new S0(z,()=>x0(Y),S.scope),Y=S.update=()=>Z.run();Y.id=S.uid,ta(S,!0),Y()},Ge=(S,C,k)=>{C.component=S;const L=S.vnode.props;S.vnode=C,S.next=null,hV(S,C.props,L,k),vV(S,C.children,k),Ac(),cC(),Nc()},Ye=(S,C,k,L,B,q,ne,z,Z=!1)=>{const Y=S&&S.children,ge=S?S.shapeFlag:0,ce=C.children,{patchFlag:me,shapeFlag:Ie}=C;if(me>0){if(me&128){Dr(Y,ce,k,L,B,q,ne,z,Z);return}else if(me&256){St(Y,ce,k,L,B,q,ne,z,Z);return}}Ie&8?(ge&16&&un(Y,B,q),ce!==Y&&d(k,ce)):ge&16?Ie&16?Dr(Y,ce,k,L,B,q,ne,z,Z):un(Y,B,q,!0):(ge&8&&d(k,""),Ie&16&&nt(ce,k,L,B,q,ne,z,Z))},St=(S,C,k,L,B,q,ne,z,Z)=>{S=S||ju,C=C||ju;const Y=S.length,ge=C.length,ce=Math.min(Y,ge);let me;for(me=0;me<ce;me++){const Ie=C[me]=Z?Jo(C[me]):Pi(C[me]);E(S[me],Ie,k,null,B,q,ne,z,Z)}Y>ge?un(S,B,q,!0,!1,ce):nt(C,k,L,B,q,ne,z,Z,ce)},Dr=(S,C,k,L,B,q,ne,z,Z)=>{let Y=0;const ge=C.length;let ce=S.length-1,me=ge-1;for(;Y<=ce&&Y<=me;){const Ie=S[Y],De=C[Y]=Z?Jo(C[Y]):Pi(C[Y]);if(xl(Ie,De))E(Ie,De,k,null,B,q,ne,z,Z);else break;Y++}for(;Y<=ce&&Y<=me;){const Ie=S[ce],De=C[me]=Z?Jo(C[me]):Pi(C[me]);if(xl(Ie,De))E(Ie,De,k,null,B,q,ne,z,Z);else break;ce--,me--}if(Y>ce){if(Y<=me){const Ie=me+1,De=Ie<ge?C[Ie].el:L;for(;Y<=me;)E(null,C[Y]=Z?Jo(C[Y]):Pi(C[Y]),k,De,B,q,ne,z,Z),Y++}}else if(Y>me)for(;Y<=ce;)an(S[Y],B,q,!0),Y++;else{const Ie=Y,De=Y,at=new Map;for(Y=De;Y<=me;Y++){const xt=C[Y]=Z?Jo(C[Y]):Pi(C[Y]);xt.key!=null&&at.set(xt.key,Y)}let ye,_t=0;const cn=me-De+1;let Zi=!1,$c=0;const dt=new Array(cn);for(Y=0;Y<cn;Y++)dt[Y]=0;for(Y=Ie;Y<=ce;Y++){const xt=S[Y];if(_t>=cn){an(xt,B,q,!0);continue}let Kt;if(xt.key!=null)Kt=at.get(xt.key);else for(ye=De;ye<=me;ye++)if(dt[ye-De]===0&&xl(xt,C[ye])){Kt=ye;break}Kt===void 0?an(xt,B,q,!0):(dt[Kt-De]=Y+1,Kt>=$c?$c=Kt:Zi=!0,E(xt,C[Kt],k,null,B,q,ne,z,Z),_t++)}const zc=Zi?yV(dt):ju;for(ye=zc.length-1,Y=cn-1;Y>=0;Y--){const xt=De+Y,Kt=C[xt],Kc=xt+1<ge?C[xt+1].el:L;dt[Y]===0?E(null,Kt,k,Kc,B,q,ne,z,Z):Zi&&(ye<0||Y!==zc[ye]?mn(Kt,k,Kc,2):ye--)}}},mn=(S,C,k,L,B=null)=>{const{el:q,type:ne,transition:z,children:Z,shapeFlag:Y}=S;if(Y&6){mn(S.component.subTree,C,k,L);return}if(Y&128){S.suspense.move(C,k,L);return}if(Y&64){ne.move(S,C,k,H);return}if(ne===Yt){r(q,C,k);for(let ce=0;ce<Z.length;ce++)mn(Z[ce],C,k,L);r(S.anchor,C,k);return}if(ne===Zd){M(S,C,k);return}if(L!==2&&Y&1&&z)if(L===0)z.beforeEnter(q),r(q,C,k),ar(()=>z.enter(q),B);else{const{leave:ce,delayLeave:me,afterLeave:Ie}=z,De=()=>r(q,C,k),at=()=>{ce(q,()=>{De(),Ie&&Ie()})};me?me(q,De,at):at()}else r(q,C,k)},an=(S,C,k,L=!1,B=!1)=>{const{type:q,props:ne,ref:z,children:Z,dynamicChildren:Y,shapeFlag:ge,patchFlag:ce,dirs:me}=S;if(z!=null&&fw(z,null,k,S,!0),ge&256){C.ctx.deactivate(S);return}const Ie=ge&1&&me,De=!Xd(S);let at;if(De&&(at=ne&&ne.onVnodeBeforeUnmount)&&ki(at,C,S),ge&6)Ds(S.component,k,L);else{if(ge&128){S.suspense.unmount(k,L);return}Ie&&ea(S,null,C,"beforeUnmount"),ge&64?S.type.remove(S,C,k,B,H,L):Y&&(q!==Yt||ce>0&&ce&64)?un(Y,C,k,!1,!0):(q===Yt&&ce&384||!B&&ge&16)&&un(Z,C,k),L&&Xi(S)}(De&&(at=ne&&ne.onVnodeUnmounted)||Ie)&&ar(()=>{at&&ki(at,C,S),Ie&&ea(S,null,C,"unmounted")},k)},Xi=S=>{const{type:C,el:k,anchor:L,transition:B}=S;if(C===Yt){Ji(k,L);return}if(C===Zd){U(S);return}const q=()=>{i(k),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(S.shapeFlag&1&&B&&!B.persisted){const{leave:ne,delayLeave:z}=B,Z=()=>ne(k,q);z?z(S.el,q,Z):Z()}else q()},Ji=(S,C)=>{let k;for(;S!==C;)k=m(S),i(S),S=k;i(C)},Ds=(S,C,k)=>{const{bum:L,scope:B,update:q,subTree:ne,um:z}=S;L&&Qd(L),B.stop(),q&&(q.active=!1,an(ne,S,C,k)),z&&ar(z,C),ar(()=>{S.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},un=(S,C,k,L=!1,B=!1,q=0)=>{for(let ne=q;ne<S.length;ne++)an(S[ne],C,k,L,B)},V=S=>S.shapeFlag&6?V(S.component.subTree):S.shapeFlag&128?S.suspense.next():m(S.anchor||S.el),oe=(S,C,k)=>{S==null?C._vnode&&an(C._vnode,null,null,!0):E(C._vnode||null,S,C,null,null,null,k),cC(),oO(),C._vnode=S},H={p:E,um:an,m:mn,r:Xi,mt:Ps,mc:nt,pc:Ye,pbc:gn,n:V,o:t};let pe,Ke;return e&&([pe,Ke]=e(H)),{render:oe,hydrate:pe,createApp:lV(oe,pe)}}function ta({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function IO(t,e,n=!1){const r=t.children,i=e.children;if(Ce(r)&&Ce(i))for(let s=0;s<r.length;s++){const a=r[s];let c=i[s];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[s]=Jo(i[s]),c.el=a.el),n||IO(a,c)),c.type===Tv&&(c.el=a.el)}}function yV(t){const e=t.slice(),n=[0];let r,i,s,a,c;const l=t.length;for(r=0;r<l;r++){const h=t[r];if(h!==0){if(i=n[n.length-1],t[i]<h){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)c=s+a>>1,t[n[c]]<h?s=c+1:a=c;h<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const _V=t=>t.__isTeleport,Yt=Symbol.for("v-fgt"),Tv=Symbol.for("v-txt"),Ca=Symbol.for("v-cmt"),Zd=Symbol.for("v-stc"),Xl=[];let oi=null;function Pe(t=!1){Xl.push(oi=t?null:[])}function wV(){Xl.pop(),oi=Xl[Xl.length-1]||null}let gf=1;function wC(t){gf+=t}function SO(t){return t.dynamicChildren=gf>0?oi||ju:null,wV(),gf>0&&oi&&oi.push(t),t}function ze(t,e,n,r,i,s){return SO(P(t,e,n,r,i,s,!0))}function ws(t,e,n,r,i){return SO(jt(t,e,n,r,i,!0))}function hw(t){return t?t.__v_isVNode===!0:!1}function xl(t,e){return t.type===e.type&&t.key===e.key}const Iv="__vInternal",CO=({key:t})=>t??null,ep=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?zt(t)||On(t)||xe(t)?{i:Br,r:t,k:e,f:!!n}:t:null);function P(t,e=null,n=null,r=0,i=null,s=t===Yt?0:1,a=!1,c=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&CO(e),ref:e&&ep(e),scopeId:uO,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Br};return c?(L0(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=zt(n)?8:16),gf>0&&!a&&oi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&oi.push(l),l}const jt=bV;function bV(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===vO)&&(t=Ca),hw(t)){const c=ec(t,e,!0);return n&&L0(c,n),gf>0&&!s&&oi&&(c.shapeFlag&6?oi[oi.indexOf(t)]=c:oi.push(c)),c.patchFlag|=-2,c}if(PV(t)&&(t=t.__vccOpts),e){e=EV(e);let{class:c,style:l}=e;c&&!zt(c)&&(e.class=Sa(c)),It(l)&&(QR(l)&&!Ce(l)&&(l=vn({},l)),e.style=T0(l))}const a=zt(t)?1:q4(t)?128:_V(t)?64:It(t)?4:xe(t)?2:0;return P(t,e,n,r,i,a,s,!0)}function EV(t){return t?QR(t)||Iv in t?vn({},t):t:null}function ec(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,c=e?IV(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&CO(c),ref:e&&e.ref?n&&i?Ce(i)?i.concat(ep(e)):[i,ep(e)]:ep(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Yt?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ec(t.ssContent),ssFallback:t.ssFallback&&ec(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function TV(t=" ",e=0){return jt(Tv,null,t,e)}function Fa(t,e){const n=jt(Zd,null,t);return n.staticCount=e,n}function tp(t="",e=!1){return e?(Pe(),ws(Ca,null,t)):jt(Ca,null,t)}function Pi(t){return t==null||typeof t=="boolean"?jt(Ca):Ce(t)?jt(Yt,null,t.slice()):typeof t=="object"?Jo(t):jt(Tv,null,String(t))}function Jo(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ec(t)}function L0(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ce(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),L0(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Iv in e)?e._ctx=Br:i===3&&Br&&(Br.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else xe(e)?(e={default:e,_ctx:Br},n=32):(e=String(e),r&64?(n=16,e=[TV(e)]):n=8);t.children=e,t.shapeFlag|=n}function IV(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Sa([e.class,r.class]));else if(i==="style")e.style=T0([e.style,r.style]);else if(pv(i)){const s=e[i],a=r[i];a&&s!==a&&!(Ce(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function ki(t,e,n,r=null){fi(t,e,7,[n,r])}const SV=yO();let CV=0;function AV(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||SV,s={uid:CV++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Jj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wO(r,i),emitsOptions:aO(r,i),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:r.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=F4.bind(null,s),t.ce&&t.ce(s),s}let bn=null,F0,_u,bC="__VUE_INSTANCE_SETTERS__";(_u=tw()[bC])||(_u=tw()[bC]=[]),_u.push(t=>bn=t),F0=t=>{_u.length>1?_u.forEach(e=>e(t)):_u[0](t)};const tc=t=>{F0(t),t.scope.on()},ma=()=>{bn&&bn.scope.off(),F0(null)};function AO(t){return t.vnode.shapeFlag&4}let mf=!1;function NV(t,e=!1){mf=e;const{props:n,children:r}=t.vnode,i=AO(t);fV(t,n,i,e),pV(t,r);const s=i?RV(t,e):void 0;return mf=!1,s}function RV(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=XR(new Proxy(t.ctx,rV));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?kV(t):null;tc(t),Ac();const s=fs(r,t,0,[t.props,i]);if(Nc(),ma(),PR(s)){if(s.then(ma,ma),e)return s.then(a=>{EC(t,a,e)}).catch(a=>{_v(a,t,0)});t.asyncDep=s}else EC(t,s,e)}else NO(t,e)}function EC(t,e,n){xe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:It(e)&&(t.setupState=tO(e)),NO(t,n)}let TC;function NO(t,e,n){const r=t.type;if(!t.render){if(!e&&TC&&!r.render){const i=r.template||D0(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:c,compilerOptions:l}=r,h=vn(vn({isCustomElement:s,delimiters:c},a),l);r.render=TC(i,h)}}t.render=r.render||li}tc(t),Ac(),iV(t),Nc(),ma()}function OV(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return dr(t,"get","$attrs"),e[n]}}))}function kV(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return OV(t)},slots:t.slots,emit:t.emit,expose:e}}function Sv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(tO(XR(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ql)return Ql[n](t)},has(e,n){return n in e||n in Ql}}))}function xV(t,e=!0){return xe(t)?t.displayName||t.name:t.name||e&&t.__name}function PV(t){return xe(t)&&"__vccOpts"in t}const Rn=(t,e)=>k4(t,e,mf);function RO(t,e,n){const r=arguments.length;return r===2?It(e)&&!Ce(e)?hw(e)?jt(t,null,[e]):jt(t,e):jt(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&hw(n)&&(n=[n]),jt(t,e,n))}const DV=Symbol.for("v-scx"),MV=()=>hi(DV),LV="3.3.4",FV="http://www.w3.org/2000/svg",sa=typeof document<"u"?document:null,IC=sa&&sa.createElement("template"),UV={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?sa.createElementNS(FV,t):sa.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>sa.createTextNode(t),createComment:t=>sa.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>sa.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{IC.innerHTML=r?`<svg>${t}</svg>`:t;const c=IC.content;if(r){const l=c.firstChild;for(;l.firstChild;)c.appendChild(l.firstChild);c.removeChild(l)}e.insertBefore(c,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function jV(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function VV(t,e,n){const r=t.style,i=zt(n);if(n&&!i){if(e&&!zt(e))for(const s in e)n[s]==null&&dw(r,s,"");for(const s in n)dw(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const SC=/\s*!important$/;function dw(t,e,n){if(Ce(n))n.forEach(r=>dw(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=BV(t,e);SC.test(n)?t.setProperty(La(r),n.replace(SC,""),"important"):t[r]=n}}const CC=["Webkit","Moz","ms"],t_={};function BV(t,e){const n=t_[e];if(n)return n;let r=qi(e);if(r!=="filter"&&r in t)return t_[e]=r;r=mv(r);for(let i=0;i<CC.length;i++){const s=CC[i]+r;if(s in t)return t_[e]=s}return e}const AC="http://www.w3.org/1999/xlink";function qV(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(AC,e.slice(6,e.length)):t.setAttributeNS(AC,e,n);else{const s=Xj(e);n==null||s&&!LR(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function WV(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}const c=t.tagName;if(e==="value"&&c!=="PROGRESS"&&!c.includes("-")){t._value=n;const h=c==="OPTION"?t.getAttribute("value"):t.value,d=n??"";h!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const h=typeof t[e];h==="boolean"?n=LR(n):n==null&&h==="string"?(n="",l=!0):h==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Nu(t,e,n,r){t.addEventListener(e,n,r)}function HV(t,e,n,r){t.removeEventListener(e,n,r)}function GV(t,e,n,r,i=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[c,l]=YV(e);if(r){const h=s[e]=KV(r,i);Nu(t,c,h,l)}else a&&(HV(t,c,a,l),s[e]=void 0)}}const NC=/(?:Once|Passive|Capture)$/;function YV(t){let e;if(NC.test(t)){e={};let r;for(;r=t.match(NC);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):La(t.slice(2)),e]}let n_=0;const $V=Promise.resolve(),zV=()=>n_||($V.then(()=>n_=0),n_=Date.now());function KV(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fi(QV(r,n.value),e,5,[r])};return n.value=t,n.attached=zV(),n}function QV(t,e){if(Ce(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const RC=/^on[a-z]/,XV=(t,e,n,r,i=!1,s,a,c,l)=>{e==="class"?jV(t,r,i):e==="style"?VV(t,n,r):pv(e)?_0(e)||GV(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):JV(t,e,r,i))?WV(t,e,r,s,a,c,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),qV(t,e,r,i))};function JV(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&RC.test(e)&&xe(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||RC.test(e)&&zt(n)?!1:e in t}const OC=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Ce(e)?n=>Qd(e,n):e};function ZV(t){t.target.composing=!0}function kC(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ds={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=OC(i);const s=r||i.props&&i.props.type==="number";Nu(t,e?"change":"input",a=>{if(a.target.composing)return;let c=t.value;n&&(c=c.trim()),s&&(c=ew(c)),t._assign(c)}),n&&Nu(t,"change",()=>{t.value=t.value.trim()}),e||(Nu(t,"compositionstart",ZV),Nu(t,"compositionend",kC),Nu(t,"change",kC))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=OC(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&ew(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},e3=["ctrl","shift","alt","meta"],t3={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>e3.some(n=>t[`${n}Key`]&&!e.includes(n))},OO=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=t3[e[i]];if(s&&s(n,e))return}return t(n,...r)},n3={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},r3=(t,e)=>n=>{if(!("key"in n))return;const r=La(n.key);if(e.some(i=>i===r||n3[i]===r))return t(n)},i3=vn({patchProp:XV},UV);let xC;function o3(){return xC||(xC=gV(i3))}const s3=(...t)=>{const e=o3().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=a3(r);if(!i)return;const s=e._component;!xe(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function a3(t){return zt(t)?document.querySelector(t):t}function u3(){return kO().__VUE_DEVTOOLS_GLOBAL_HOOK__}function kO(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const c3=typeof Proxy=="function",l3="devtools-plugin:setup",f3="plugin:settings:set";let wu,pw;function h3(){var t;return wu!==void 0||(typeof window<"u"&&window.performance?(wu=!0,pw=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(wu=!0,pw=global.perf_hooks.performance):wu=!1),wu}function d3(){return h3()?pw.now():Date.now()}class p3{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const a in e.settings){const c=e.settings[a];r[a]=c.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let s=Object.assign({},r);try{const a=localStorage.getItem(i),c=JSON.parse(a);Object.assign(s,c)}catch{}this.fallbacks={getSettings(){return s},setSettings(a){try{localStorage.setItem(i,JSON.stringify(a))}catch{}s=a},now(){return d3()}},n&&n.on(f3,(a,c)=>{a===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(a,c)=>this.target?this.target.on[c]:(...l)=>{this.onQueue.push({method:c,args:l})}}),this.proxiedTarget=new Proxy({},{get:(a,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...l)=>(this.targetQueue.push({method:c,args:l,resolve:()=>{}}),this.fallbacks[c](...l)):(...l)=>new Promise(h=>{this.targetQueue.push({method:c,args:l,resolve:h})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function v3(t,e){const n=t,r=kO(),i=u3(),s=c3&&n.enableEarlyProxy;if(i&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!s))i.emit(l3,t,e);else{const a=s?new p3(n,i):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:a}),a&&e(a.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ru=typeof window<"u";function g3(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const it=Object.assign;function r_(t,e){const n={};for(const r in e){const i=e[r];n[r]=vi(i)?i.map(t):t(i)}return n}const Jl=()=>{},vi=Array.isArray,m3=/\/$/,y3=t=>t.replace(m3,"");function i_(t,e,n="/"){let r,i={},s="",a="";const c=e.indexOf("#");let l=e.indexOf("?");return c<l&&c>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,c>-1?c:e.length),i=t(s)),c>-1&&(r=r||e.slice(0,c),a=e.slice(c,e.length)),r=E3(r??e,n),{fullPath:r+(s&&"?")+s+a,path:r,query:i,hash:a}}function _3(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function PC(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function w3(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&nc(e.matched[r],n.matched[i])&&xO(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function nc(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function xO(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!b3(t[n],e[n]))return!1;return!0}function b3(t,e){return vi(t)?DC(t,e):vi(e)?DC(e,t):t===e}function DC(t,e){return vi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function E3(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,a,c;for(a=0;a<r.length;a++)if(c=r[a],c!==".")if(c==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var yf;(function(t){t.pop="pop",t.push="push"})(yf||(yf={}));var Zl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Zl||(Zl={}));function T3(t){if(!t)if(Ru){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),y3(t)}const I3=/^[^#]+#/;function S3(t,e){return t.replace(I3,"#")+e}function C3(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Cv=()=>({left:window.pageXOffset,top:window.pageYOffset});function A3(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=C3(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function MC(t,e){return(history.state?history.state.position-e:-1)+t}const vw=new Map;function N3(t,e){vw.set(t,e)}function R3(t){const e=vw.get(t);return vw.delete(t),e}let O3=()=>location.protocol+"//"+location.host;function PO(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let c=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(c);return l[0]!=="/"&&(l="/"+l),PC(l,"")}return PC(n,t)+r+i}function k3(t,e,n,r){let i=[],s=[],a=null;const c=({state:m})=>{const y=PO(t,location),b=n.value,E=e.value;let T=0;if(m){if(n.value=y,e.value=m,a&&a===b){a=null;return}T=E?m.position-E.position:0}else r(y);i.forEach(A=>{A(n.value,b,{delta:T,type:yf.pop,direction:T?T>0?Zl.forward:Zl.back:Zl.unknown})})};function l(){a=n.value}function h(m){i.push(m);const y=()=>{const b=i.indexOf(m);b>-1&&i.splice(b,1)};return s.push(y),y}function d(){const{history:m}=window;m.state&&m.replaceState(it({},m.state,{scroll:Cv()}),"")}function v(){for(const m of s)m();s=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:h,destroy:v}}function LC(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Cv():null}}function x3(t){const{history:e,location:n}=window,r={value:PO(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,h,d){const v=t.indexOf("#"),m=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+l:O3()+t+l;try{e[d?"replaceState":"pushState"](h,"",m),i.value=h}catch(y){console.error(y),n[d?"replace":"assign"](m)}}function a(l,h){const d=it({},e.state,LC(i.value.back,l,i.value.forward,!0),h,{position:i.value.position});s(l,d,!0),r.value=l}function c(l,h){const d=it({},i.value,e.state,{forward:l,scroll:Cv()});s(d.current,d,!0);const v=it({},LC(r.value,l,null),{position:d.position+1},h);s(l,v,!1),r.value=l}return{location:r,state:i,push:c,replace:a}}function P3(t){t=T3(t);const e=x3(t),n=k3(t,e.state,e.location,e.replace);function r(s,a=!0){a||n.pauseListeners(),history.go(s)}const i=it({location:"",base:t,go:r,createHref:S3.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function D3(t){return typeof t=="string"||t&&typeof t=="object"}function DO(t){return typeof t=="string"||typeof t=="symbol"}const Yo={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},MO=Symbol("");var FC;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(FC||(FC={}));function rc(t,e){return it(new Error,{type:t,[MO]:!0},e)}function oo(t,e){return t instanceof Error&&MO in t&&(e==null||!!(t.type&e))}const UC="[^/]+?",M3={sensitive:!1,strict:!1,start:!0,end:!0},L3=/[.+*?^${}()[\]/\\]/g;function F3(t,e){const n=it({},M3,e),r=[];let i=n.start?"^":"";const s=[];for(const h of t){const d=h.length?[]:[90];n.strict&&!h.length&&(i+="/");for(let v=0;v<h.length;v++){const m=h[v];let y=40+(n.sensitive?.25:0);if(m.type===0)v||(i+="/"),i+=m.value.replace(L3,"\\$&"),y+=40;else if(m.type===1){const{value:b,repeatable:E,optional:T,regexp:A}=m;s.push({name:b,repeatable:E,optional:T});const x=A||UC;if(x!==UC){y+=10;try{new RegExp(`(${x})`)}catch(U){throw new Error(`Invalid custom RegExp for param "${b}" (${x}): `+U.message)}}let M=E?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;v||(M=T&&h.length<2?`(?:/${M})`:"/"+M),T&&(M+="?"),i+=M,y+=20,T&&(y+=-8),E&&(y+=-20),x===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function c(h){const d=h.match(a),v={};if(!d)return null;for(let m=1;m<d.length;m++){const y=d[m]||"",b=s[m-1];v[b.name]=y&&b.repeatable?y.split("/"):y}return v}function l(h){let d="",v=!1;for(const m of t){(!v||!d.endsWith("/"))&&(d+="/"),v=!1;for(const y of m)if(y.type===0)d+=y.value;else if(y.type===1){const{value:b,repeatable:E,optional:T}=y,A=b in h?h[b]:"";if(vi(A)&&!E)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const x=vi(A)?A.join("/"):A;if(!x)if(T)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):v=!0);else throw new Error(`Missing required param "${b}"`);d+=x}}return d||"/"}return{re:a,score:r,keys:s,parse:c,stringify:l}}function U3(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function j3(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=U3(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(jC(r))return 1;if(jC(i))return-1}return i.length-r.length}function jC(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const V3={type:0,value:""},B3=/[a-zA-Z0-9_]/;function q3(t){if(!t)return[[]];if(t==="/")return[[V3]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const i=[];let s;function a(){s&&i.push(s),s=[]}let c=0,l,h="",d="";function v(){h&&(n===0?s.push({type:0,value:h}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:h,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),h="")}function m(){h+=l}for(;c<t.length;){if(l=t[c++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(h&&v(),a()):l===":"?(v(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:B3.test(l)?m():(v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:v(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&c--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),v(),a(),i}function W3(t,e,n){const r=F3(q3(t.path),n),i=it(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function H3(t,e){const n=[],r=new Map;e=qC({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,v,m){const y=!m,b=G3(d);b.aliasOf=m&&m.record;const E=qC(e,d),T=[b];if("alias"in d){const M=typeof d.alias=="string"?[d.alias]:d.alias;for(const U of M)T.push(it({},b,{components:m?m.record.components:b.components,path:U,aliasOf:m?m.record:b}))}let A,x;for(const M of T){const{path:U}=M;if(v&&U[0]!=="/"){const X=v.record.path,j=X[X.length-1]==="/"?"":"/";M.path=v.record.path+(U&&j+U)}if(A=W3(M,v,E),m?m.alias.push(A):(x=x||A,x!==A&&x.alias.push(A),y&&d.name&&!BC(A)&&a(d.name)),b.children){const X=b.children;for(let j=0;j<X.length;j++)s(X[j],A,m&&m.children[j])}m=m||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&l(A)}return x?()=>{a(x)}:Jl}function a(d){if(DO(d)){const v=r.get(d);v&&(r.delete(d),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(d);v>-1&&(n.splice(v,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function c(){return n}function l(d){let v=0;for(;v<n.length&&j3(d,n[v])>=0&&(d.record.path!==n[v].record.path||!LO(d,n[v]));)v++;n.splice(v,0,d),d.record.name&&!BC(d)&&r.set(d.record.name,d)}function h(d,v){let m,y={},b,E;if("name"in d&&d.name){if(m=r.get(d.name),!m)throw rc(1,{location:d});E=m.record.name,y=it(VC(v.params,m.keys.filter(x=>!x.optional).map(x=>x.name)),d.params&&VC(d.params,m.keys.map(x=>x.name))),b=m.stringify(y)}else if("path"in d)b=d.path,m=n.find(x=>x.re.test(b)),m&&(y=m.parse(b),E=m.record.name);else{if(m=v.name?r.get(v.name):n.find(x=>x.re.test(v.path)),!m)throw rc(1,{location:d,currentLocation:v});E=m.record.name,y=it({},v.params,d.params),b=m.stringify(y)}const T=[];let A=m;for(;A;)T.unshift(A.record),A=A.parent;return{name:E,path:b,params:y,matched:T,meta:$3(T)}}return t.forEach(d=>s(d)),{addRoute:s,resolve:h,removeRoute:a,getRoutes:c,getRecordMatcher:i}}function VC(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function G3(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Y3(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Y3(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function BC(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $3(t){return t.reduce((e,n)=>it(e,n.meta),{})}function qC(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function LO(t,e){return e.children.some(n=>n===t||LO(t,n))}const FO=/#/g,z3=/&/g,K3=/\//g,Q3=/=/g,X3=/\?/g,UO=/\+/g,J3=/%5B/g,Z3=/%5D/g,jO=/%5E/g,eB=/%60/g,VO=/%7B/g,tB=/%7C/g,BO=/%7D/g,nB=/%20/g;function U0(t){return encodeURI(""+t).replace(tB,"|").replace(J3,"[").replace(Z3,"]")}function rB(t){return U0(t).replace(VO,"{").replace(BO,"}").replace(jO,"^")}function gw(t){return U0(t).replace(UO,"%2B").replace(nB,"+").replace(FO,"%23").replace(z3,"%26").replace(eB,"`").replace(VO,"{").replace(BO,"}").replace(jO,"^")}function iB(t){return gw(t).replace(Q3,"%3D")}function oB(t){return U0(t).replace(FO,"%23").replace(X3,"%3F")}function sB(t){return t==null?"":oB(t).replace(K3,"%2F")}function Ep(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function aB(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(UO," "),a=s.indexOf("="),c=Ep(a<0?s:s.slice(0,a)),l=a<0?null:Ep(s.slice(a+1));if(c in e){let h=e[c];vi(h)||(h=e[c]=[h]),h.push(l)}else e[c]=l}return e}function WC(t){let e="";for(let n in t){const r=t[n];if(n=iB(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(vi(r)?r.map(s=>s&&gw(s)):[r&&gw(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function uB(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=vi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const cB=Symbol(""),HC=Symbol(""),Av=Symbol(""),j0=Symbol(""),mw=Symbol("");function Pl(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Zo(t,e,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=v=>{v===!1?c(rc(4,{from:n,to:e})):v instanceof Error?c(v):D3(v)?c(rc(2,{from:e,to:v})):(s&&r.enterCallbacks[i]===s&&typeof v=="function"&&s.push(v),a())},h=t.call(r&&r.instances[i],e,n,l);let d=Promise.resolve(h);t.length<3&&(d=d.then(l)),d.catch(v=>c(v))})}function o_(t,e,n,r){const i=[];for(const s of t)for(const a in s.components){let c=s.components[a];if(!(e!=="beforeRouteEnter"&&!s.instances[a]))if(lB(c)){const h=(c.__vccOpts||c)[e];h&&i.push(Zo(h,n,r,s,a))}else{let l=c();i.push(()=>l.then(h=>{if(!h)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${s.path}"`));const d=g3(h)?h.default:h;s.components[a]=d;const m=(d.__vccOpts||d)[e];return m&&Zo(m,n,r,s,a)()}))}}return i}function lB(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function GC(t){const e=hi(Av),n=hi(j0),r=Rn(()=>e.resolve(qu(t.to))),i=Rn(()=>{const{matched:l}=r.value,{length:h}=l,d=l[h-1],v=n.matched;if(!d||!v.length)return-1;const m=v.findIndex(nc.bind(null,d));if(m>-1)return m;const y=YC(l[h-2]);return h>1&&YC(d)===y&&v[v.length-1].path!==y?v.findIndex(nc.bind(null,l[h-2])):m}),s=Rn(()=>i.value>-1&&pB(n.params,r.value.params)),a=Rn(()=>i.value>-1&&i.value===n.matched.length-1&&xO(n.params,r.value.params));function c(l={}){return dB(l)?e[qu(t.replace)?"replace":"push"](qu(t.to)).catch(Jl):Promise.resolve()}return{route:r,href:Rn(()=>r.value.href),isActive:s,isExactActive:a,navigate:c}}const fB=fO({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:GC,setup(t,{slots:e}){const n=Xf(GC(t)),{options:r}=hi(Av),i=Rn(()=>({[$C(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[$C(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:RO("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),hB=fB;function dB(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function pB(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!vi(i)||i.length!==r.length||r.some((s,a)=>s!==i[a]))return!1}return!0}function YC(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const $C=(t,e,n)=>t??e??n,vB=fO({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=hi(mw),i=Rn(()=>t.route||r.value),s=hi(HC,0),a=Rn(()=>{let h=qu(s);const{matched:d}=i.value;let v;for(;(v=d[h])&&!v.components;)h++;return h}),c=Rn(()=>i.value.matched[a.value]);Jd(HC,Rn(()=>a.value+1)),Jd(cB,c),Jd(mw,i);const l=kn();return Hu(()=>[l.value,c.value,t.name],([h,d,v],[m,y,b])=>{d&&(d.instances[v]=h,y&&y!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!nc(d,y)||!m)&&(d.enterCallbacks[v]||[]).forEach(E=>E(h))},{flush:"post"}),()=>{const h=i.value,d=t.name,v=c.value,m=v&&v.components[d];if(!m)return zC(n.default,{Component:m,route:h});const y=v.props[d],b=y?y===!0?h.params:typeof y=="function"?y(h):y:null,T=RO(m,it({},b,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(v.instances[d]=null)},ref:l}));return zC(n.default,{Component:T,route:h})||T}}});function zC(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const gB=vB;function mB(t){const e=H3(t.routes,t),n=t.parseQuery||aB,r=t.stringifyQuery||WC,i=t.history,s=Pl(),a=Pl(),c=Pl(),l=A4(Yo);let h=Yo;Ru&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=r_.bind(null,V=>""+V),v=r_.bind(null,sB),m=r_.bind(null,Ep);function y(V,oe){let H,pe;return DO(V)?(H=e.getRecordMatcher(V),pe=oe):pe=V,e.addRoute(pe,H)}function b(V){const oe=e.getRecordMatcher(V);oe&&e.removeRoute(oe)}function E(){return e.getRoutes().map(V=>V.record)}function T(V){return!!e.getRecordMatcher(V)}function A(V,oe){if(oe=it({},oe||l.value),typeof V=="string"){const k=i_(n,V,oe.path),L=e.resolve({path:k.path},oe),B=i.createHref(k.fullPath);return it(k,L,{params:m(L.params),hash:Ep(k.hash),redirectedFrom:void 0,href:B})}let H;if("path"in V)H=it({},V,{path:i_(n,V.path,oe.path).path});else{const k=it({},V.params);for(const L in k)k[L]==null&&delete k[L];H=it({},V,{params:v(k)}),oe.params=v(oe.params)}const pe=e.resolve(H,oe),Ke=V.hash||"";pe.params=d(m(pe.params));const S=_3(r,it({},V,{hash:rB(Ke),path:pe.path})),C=i.createHref(S);return it({fullPath:S,hash:Ke,query:r===WC?uB(V.query):V.query||{}},pe,{redirectedFrom:void 0,href:C})}function x(V){return typeof V=="string"?i_(n,V,l.value.path):it({},V)}function M(V,oe){if(h!==V)return rc(8,{from:oe,to:V})}function U(V){return Te(V)}function X(V){return U(it(x(V),{replace:!0}))}function j(V){const oe=V.matched[V.matched.length-1];if(oe&&oe.redirect){const{redirect:H}=oe;let pe=typeof H=="function"?H(V):H;return typeof pe=="string"&&(pe=pe.includes("?")||pe.includes("#")?pe=x(pe):{path:pe},pe.params={}),it({query:V.query,hash:V.hash,params:"path"in pe?{}:V.params},pe)}}function Te(V,oe){const H=h=A(V),pe=l.value,Ke=V.state,S=V.force,C=V.replace===!0,k=j(H);if(k)return Te(it(x(k),{state:typeof k=="object"?it({},Ke,k.state):Ke,force:S,replace:C}),oe||H);const L=H;L.redirectedFrom=oe;let B;return!S&&w3(r,pe,H)&&(B=rc(16,{to:L,from:pe}),mn(pe,pe,!0,!1)),(B?Promise.resolve(B):gn(L,pe)).catch(q=>oo(q)?oo(q,2)?q:Dr(q):Ye(q,L,pe)).then(q=>{if(q){if(oo(q,2))return Te(it({replace:C},x(q.to),{state:typeof q.to=="object"?it({},Ke,q.to.state):Ke,force:S}),oe||L)}else q=bi(L,pe,!0,C,Ke);return O(L,pe,q),q})}function nt(V,oe){const H=M(V,oe);return H?Promise.reject(H):Promise.resolve()}function de(V){const oe=Ji.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(V):V()}function gn(V,oe){let H;const[pe,Ke,S]=yB(V,oe);H=o_(pe.reverse(),"beforeRouteLeave",V,oe);for(const k of pe)k.leaveGuards.forEach(L=>{H.push(Zo(L,V,oe))});const C=nt.bind(null,V,oe);return H.push(C),un(H).then(()=>{H=[];for(const k of s.list())H.push(Zo(k,V,oe));return H.push(C),un(H)}).then(()=>{H=o_(Ke,"beforeRouteUpdate",V,oe);for(const k of Ke)k.updateGuards.forEach(L=>{H.push(Zo(L,V,oe))});return H.push(C),un(H)}).then(()=>{H=[];for(const k of S)if(k.beforeEnter)if(vi(k.beforeEnter))for(const L of k.beforeEnter)H.push(Zo(L,V,oe));else H.push(Zo(k.beforeEnter,V,oe));return H.push(C),un(H)}).then(()=>(V.matched.forEach(k=>k.enterCallbacks={}),H=o_(S,"beforeRouteEnter",V,oe),H.push(C),un(H))).then(()=>{H=[];for(const k of a.list())H.push(Zo(k,V,oe));return H.push(C),un(H)}).catch(k=>oo(k,8)?k:Promise.reject(k))}function O(V,oe,H){c.list().forEach(pe=>de(()=>pe(V,oe,H)))}function bi(V,oe,H,pe,Ke){const S=M(V,oe);if(S)return S;const C=oe===Yo,k=Ru?history.state:{};H&&(pe||C?i.replace(V.fullPath,it({scroll:C&&k&&k.scroll},Ke)):i.push(V.fullPath,Ke)),l.value=V,mn(V,oe,H,C),Dr()}let Sn;function Ps(){Sn||(Sn=i.listen((V,oe,H)=>{if(!Ds.listening)return;const pe=A(V),Ke=j(pe);if(Ke){Te(it(Ke,{replace:!0}),pe).catch(Jl);return}h=pe;const S=l.value;Ru&&N3(MC(S.fullPath,H.delta),Cv()),gn(pe,S).catch(C=>oo(C,12)?C:oo(C,2)?(Te(C.to,pe).then(k=>{oo(k,20)&&!H.delta&&H.type===yf.pop&&i.go(-1,!1)}).catch(Jl),Promise.reject()):(H.delta&&i.go(-H.delta,!1),Ye(C,pe,S))).then(C=>{C=C||bi(pe,S,!1),C&&(H.delta&&!oo(C,8)?i.go(-H.delta,!1):H.type===yf.pop&&oo(C,20)&&i.go(-1,!1)),O(pe,S,C)}).catch(Jl)}))}let Ei=Pl(),yt=Pl(),Ge;function Ye(V,oe,H){Dr(V);const pe=yt.list();return pe.length?pe.forEach(Ke=>Ke(V,oe,H)):console.error(V),Promise.reject(V)}function St(){return Ge&&l.value!==Yo?Promise.resolve():new Promise((V,oe)=>{Ei.add([V,oe])})}function Dr(V){return Ge||(Ge=!V,Ps(),Ei.list().forEach(([oe,H])=>V?H(V):oe()),Ei.reset()),V}function mn(V,oe,H,pe){const{scrollBehavior:Ke}=t;if(!Ru||!Ke)return Promise.resolve();const S=!H&&R3(MC(V.fullPath,0))||(pe||!H)&&history.state&&history.state.scroll||null;return rO().then(()=>Ke(V,oe,S)).then(C=>C&&A3(C)).catch(C=>Ye(C,V,oe))}const an=V=>i.go(V);let Xi;const Ji=new Set,Ds={currentRoute:l,listening:!0,addRoute:y,removeRoute:b,hasRoute:T,getRoutes:E,resolve:A,options:t,push:U,replace:X,go:an,back:()=>an(-1),forward:()=>an(1),beforeEach:s.add,beforeResolve:a.add,afterEach:c.add,onError:yt.add,isReady:St,install(V){const oe=this;V.component("RouterLink",hB),V.component("RouterView",gB),V.config.globalProperties.$router=oe,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>qu(l)}),Ru&&!Xi&&l.value===Yo&&(Xi=!0,U(i.location).catch(Ke=>{}));const H={};for(const Ke in Yo)Object.defineProperty(H,Ke,{get:()=>l.value[Ke],enumerable:!0});V.provide(Av,oe),V.provide(j0,zR(H)),V.provide(mw,l);const pe=V.unmount;Ji.add(V),V.unmount=function(){Ji.delete(V),Ji.size<1&&(h=Yo,Sn&&Sn(),Sn=null,l.value=Yo,Xi=!1,Ge=!1),pe()}}};function un(V){return V.reduce((oe,H)=>oe.then(()=>de(H)),Promise.resolve())}return Ds}function yB(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let a=0;a<s;a++){const c=e.matched[a];c&&(t.matched.find(h=>nc(h,c))?r.push(c):n.push(c));const l=t.matched[a];l&&(e.matched.find(h=>nc(h,l))||i.push(l))}return[n,r,i]}function qO(){return hi(Av)}function _B(){return hi(j0)}const gr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},wB={},bB={class:"hidden lg:block lg:w-2/5 px-4 py-2"},EB=P("div",{class:"relative mb-5"},[P("input",{placeholder:"트위터 검색",type:"text",class:"pl-10 rounded-full w-full p-2 bg-gray-100 text-sm focus:ring-1 focus:ring-primary focus:bg-white focus:outline-none"}),P("i",{class:"fas fa-search absolute left-0 mt-2 ml-3 text-sm text-light"})],-1),TB={class:"w-full rounded-lg bg-gray-50 flex flex-col"},IB=P("div",{class:"flex items-center justify-between px-3 py-1 border-b border-gray-100"},[P("span",{class:"text-lg font-bold"},"나를 위한 트렌드"),P("i",{class:"text-center fas fa-cog text-lg text-primary hover:bg-blue-50 p-2 rounded-full"})],-1),SB=Fa('<div class="flex"><div class="flex-1 flex flex-col"><div class="text-gray-500">대한민국에서 트렌드 중</div><div class="font-bold text-lg">하하하</div><div class="text-gray-500">3,564 트윗</div></div><i class="fas fa-ellipsis-h text-gray-500"></i></div>',1),CB=[SB],AB=P("div",{class:"px-4 py-2 hover:bg-gray-100"},[P("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"},"더 보기")],-1),NB={class:"mt-5 w-full rounded-lg bg-gray-50 flex flex-col"},RB=P("div",{class:"px-3 py-3 border-b border-gray-100"},[P("span",{class:"text-lg font-bold"},"팔로우 추천")],-1),OB=Fa('<div class="flex items-center"><img src="http://picsum.photos/200" class="w-12 h-12 rounded-full mr-2"><div class="flex-1 flex flex-col"><div class="font-bold">정재웅</div><div class="text-gray-500 text-sm">@jung_jaeWoong</div></div><div><button class="border-2 border-primary hover:bg-blue-100 px-2 py-1 rounded-full text-primary text-sm">팔로우</button></div></div>',1),kB=[OB],xB=P("div",{class:"px-4 py-2 hover:bg-gray-100"},[P("span",{class:"text-primary text-lg px-4 py-2 rounded-xl"},"더 보기")],-1);function PB(t,e,n,r,i,s){return Pe(),ze("div",bB,[EB,P("div",TB,[IB,(Pe(),ze(Yt,null,_s(3,a=>P("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},CB)),64)),AB]),P("div",NB,[RB,(Pe(),ze(Yt,null,_s(3,a=>P("div",{class:"border-b border-gray-100 hover:bg-gray-100 px-4 py-2 cursor-pointer",key:a},kB)),64)),xB])])}const V0=gr(wB,[["render",PB]]);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var WO;function ie(){return WO.apply(null,arguments)}function DB(t){WO=t}function gi(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function ya(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Ze(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B0(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Ze(t,e))return!1;return!0}function ur(t){return t===void 0}function Io(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Jf(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function HO(t,e){var n=[],r,i=t.length;for(r=0;r<i;++r)n.push(e(t[r],r));return n}function as(t,e){for(var n in e)Ze(e,n)&&(t[n]=e[n]);return Ze(e,"toString")&&(t.toString=e.toString),Ze(e,"valueOf")&&(t.valueOf=e.valueOf),t}function $i(t,e,n,r){return pk(t,e,n,r,!0).utc()}function MB(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ke(t){return t._pf==null&&(t._pf=MB()),t._pf}var yw;Array.prototype.some?yw=Array.prototype.some:yw=function(t){var e=Object(this),n=e.length>>>0,r;for(r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};function q0(t){if(t._isValid==null){var e=ke(t),n=yw.call(e.parsedDateParts,function(i){return i!=null}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=r;else return r}return t._isValid}function Nv(t){var e=$i(NaN);return t!=null?as(ke(e),t):ke(e).userInvalidated=!0,e}var KC=ie.momentProperties=[],s_=!1;function W0(t,e){var n,r,i,s=KC.length;if(ur(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),ur(e._i)||(t._i=e._i),ur(e._f)||(t._f=e._f),ur(e._l)||(t._l=e._l),ur(e._strict)||(t._strict=e._strict),ur(e._tzm)||(t._tzm=e._tzm),ur(e._isUTC)||(t._isUTC=e._isUTC),ur(e._offset)||(t._offset=e._offset),ur(e._pf)||(t._pf=ke(e)),ur(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)r=KC[n],i=e[r],ur(i)||(t[r]=i);return t}function Zf(t){W0(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),s_===!1&&(s_=!0,ie.updateOffset(this),s_=!1)}function mi(t){return t instanceof Zf||t!=null&&t._isAMomentObject!=null}function GO(t){ie.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Yr(t,e){var n=!0;return as(function(){if(ie.deprecationHandler!=null&&ie.deprecationHandler(null,t),n){var r=[],i,s,a,c=arguments.length;for(s=0;s<c;s++){if(i="",typeof arguments[s]=="object"){i+=`
[`+s+"] ";for(a in arguments[0])Ze(arguments[0],a)&&(i+=a+": "+arguments[0][a]+", ");i=i.slice(0,-2)}else i=arguments[s];r.push(i)}GO(t+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var QC={};function YO(t,e){ie.deprecationHandler!=null&&ie.deprecationHandler(t,e),QC[t]||(GO(e),QC[t]=!0)}ie.suppressDeprecationWarnings=!1;ie.deprecationHandler=null;function zi(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function LB(t){var e,n;for(n in t)Ze(t,n)&&(e=t[n],zi(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function _w(t,e){var n=as({},t),r;for(r in e)Ze(e,r)&&(ya(t[r])&&ya(e[r])?(n[r]={},as(n[r],t[r]),as(n[r],e[r])):e[r]!=null?n[r]=e[r]:delete n[r]);for(r in t)Ze(t,r)&&!Ze(e,r)&&ya(t[r])&&(n[r]=as({},n[r]));return n}function H0(t){t!=null&&this.set(t)}var ww;Object.keys?ww=Object.keys:ww=function(t){var e,n=[];for(e in t)Ze(t,e)&&n.push(e);return n};var FB={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function UB(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return zi(r)?r.call(e,n):r}function Wi(t,e,n){var r=""+Math.abs(t),i=e-r.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var G0=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,kd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,a_={},Gu={};function _e(t,e,n,r){var i=r;typeof r=="string"&&(i=function(){return this[r]()}),t&&(Gu[t]=i),e&&(Gu[e[0]]=function(){return Wi(i.apply(this,arguments),e[1],e[2])}),n&&(Gu[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function jB(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function VB(t){var e=t.match(G0),n,r;for(n=0,r=e.length;n<r;n++)Gu[e[n]]?e[n]=Gu[e[n]]:e[n]=jB(e[n]);return function(i){var s="",a;for(a=0;a<r;a++)s+=zi(e[a])?e[a].call(i,t):e[a];return s}}function np(t,e){return t.isValid()?(e=$O(e,t.localeData()),a_[e]=a_[e]||VB(e),a_[e](t)):t.localeData().invalidDate()}function $O(t,e){var n=5;function r(i){return e.longDateFormat(i)||i}for(kd.lastIndex=0;n>=0&&kd.test(t);)t=t.replace(kd,r),kd.lastIndex=0,n-=1;return t}var BB={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function qB(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(G0).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[t])}var WB="Invalid date";function HB(){return this._invalidDate}var GB="%d",YB=/\d{1,2}/;function $B(t){return this._ordinal.replace("%d",t)}var zB={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function KB(t,e,n,r){var i=this._relativeTime[n];return zi(i)?i(t,e,n,r):i.replace(/%d/i,t)}function QB(t,e){var n=this._relativeTime[t>0?"future":"past"];return zi(n)?n(e):n.replace(/%s/i,e)}var ef={};function jn(t,e){var n=t.toLowerCase();ef[n]=ef[n+"s"]=ef[e]=t}function $r(t){return typeof t=="string"?ef[t]||ef[t.toLowerCase()]:void 0}function Y0(t){var e={},n,r;for(r in t)Ze(t,r)&&(n=$r(r),n&&(e[n]=t[r]));return e}var zO={};function Vn(t,e){zO[t]=e}function XB(t){var e=[],n;for(n in t)Ze(t,n)&&e.push({unit:n,priority:zO[n]});return e.sort(function(r,i){return r.priority-i.priority}),e}function Rv(t){return t%4===0&&t%100!==0||t%400===0}function Vr(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Le(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=Vr(e)),n}function Rc(t,e){return function(n){return n!=null?(KO(this,t,n),ie.updateOffset(this,e),this):Tp(this,t)}}function Tp(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function KO(t,e,n){t.isValid()&&!isNaN(n)&&(e==="FullYear"&&Rv(t.year())&&t.month()===1&&t.date()===29?(n=Le(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Mv(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function JB(t){return t=$r(t),zi(this[t])?this[t]():this}function ZB(t,e){if(typeof t=="object"){t=Y0(t);var n=XB(t),r,i=n.length;for(r=0;r<i;r++)this[n[r].unit](t[n[r].unit])}else if(t=$r(t),zi(this[t]))return this[t](e);return this}var QO=/\d/,Pr=/\d\d/,XO=/\d{3}/,$0=/\d{4}/,Ov=/[+-]?\d{6}/,mt=/\d\d?/,JO=/\d\d\d\d?/,ZO=/\d\d\d\d\d\d?/,kv=/\d{1,3}/,z0=/\d{1,4}/,xv=/[+-]?\d{1,6}/,Oc=/\d+/,Pv=/[+-]?\d+/,eq=/Z|[+-]\d\d:?\d\d/gi,Dv=/Z|[+-]\d\d(?::?\d\d)?/gi,tq=/[+-]?\d+(\.\d{1,3})?/,eh=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ip;Ip={};function se(t,e,n){Ip[t]=zi(e)?e:function(r,i){return r&&n?n:e}}function nq(t,e){return Ze(Ip,t)?Ip[t](e._strict,e._locale):new RegExp(rq(t))}function rq(t){return Tr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,r,i,s){return n||r||i||s}))}function Tr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var bw={};function ft(t,e){var n,r=e,i;for(typeof t=="string"&&(t=[t]),Io(e)&&(r=function(s,a){a[e]=Le(s)}),i=t.length,n=0;n<i;n++)bw[t[n]]=r}function th(t,e){ft(t,function(n,r,i,s){i._w=i._w||{},e(n,i._w,i,s)})}function iq(t,e,n){e!=null&&Ze(bw,t)&&bw[t](e,n._a,n,t)}var Pn=0,ho=1,Mi=2,tn=3,si=4,po=5,la=6,oq=7,sq=8;function aq(t,e){return(t%e+e)%e}var Lt;Array.prototype.indexOf?Lt=Array.prototype.indexOf:Lt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Mv(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=aq(e,12);return t+=(e-n)/12,n===1?Rv(t)?29:28:31-n%7%2}_e("M",["MM",2],"Mo",function(){return this.month()+1});_e("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});_e("MMMM",0,0,function(t){return this.localeData().months(this,t)});jn("month","M");Vn("month",8);se("M",mt);se("MM",mt,Pr);se("MMM",function(t,e){return e.monthsShortRegex(t)});se("MMMM",function(t,e){return e.monthsRegex(t)});ft(["M","MM"],function(t,e){e[ho]=Le(t)-1});ft(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);i!=null?e[ho]=i:ke(n).invalidMonth=t});var uq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ek="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),tk=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,cq=eh,lq=eh;function fq(t,e){return t?gi(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||tk).test(e)?"format":"standalone"][t.month()]:gi(this._months)?this._months:this._months.standalone}function hq(t,e){return t?gi(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[tk.test(e)?"format":"standalone"][t.month()]:gi(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dq(t,e,n){var r,i,s,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=$i([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(i=Lt.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Lt.call(this._longMonthsParse,a),i!==-1?i:null):e==="MMM"?(i=Lt.call(this._shortMonthsParse,a),i!==-1?i:(i=Lt.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Lt.call(this._longMonthsParse,a),i!==-1?i:(i=Lt.call(this._shortMonthsParse,a),i!==-1?i:null))}function pq(t,e,n){var r,i,s;if(this._monthsParseExact)return dq.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=$i([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[r].test(t))return r;if(n&&e==="MMM"&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function nk(t,e){var n;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Le(e);else if(e=t.localeData().monthsParse(e),!Io(e))return t}return n=Math.min(t.date(),Mv(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function rk(t){return t!=null?(nk(this,t),ie.updateOffset(this,!0),this):Tp(this,"Month")}function vq(){return Mv(this.year(),this.month())}function gq(t){return this._monthsParseExact?(Ze(this,"_monthsRegex")||ik.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Ze(this,"_monthsShortRegex")||(this._monthsShortRegex=cq),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function mq(t){return this._monthsParseExact?(Ze(this,"_monthsRegex")||ik.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Ze(this,"_monthsRegex")||(this._monthsRegex=lq),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ik(){function t(a,c){return c.length-a.length}var e=[],n=[],r=[],i,s;for(i=0;i<12;i++)s=$i([2e3,i]),e.push(this.monthsShort(s,"")),n.push(this.months(s,"")),r.push(this.months(s,"")),r.push(this.monthsShort(s,""));for(e.sort(t),n.sort(t),r.sort(t),i=0;i<12;i++)e[i]=Tr(e[i]),n[i]=Tr(n[i]);for(i=0;i<24;i++)r[i]=Tr(r[i]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}_e("Y",0,0,function(){var t=this.year();return t<=9999?Wi(t,4):"+"+t});_e(0,["YY",2],0,function(){return this.year()%100});_e(0,["YYYY",4],0,"year");_e(0,["YYYYY",5],0,"year");_e(0,["YYYYYY",6,!0],0,"year");jn("year","y");Vn("year",1);se("Y",Pv);se("YY",mt,Pr);se("YYYY",z0,$0);se("YYYYY",xv,Ov);se("YYYYYY",xv,Ov);ft(["YYYYY","YYYYYY"],Pn);ft("YYYY",function(t,e){e[Pn]=t.length===2?ie.parseTwoDigitYear(t):Le(t)});ft("YY",function(t,e){e[Pn]=ie.parseTwoDigitYear(t)});ft("Y",function(t,e){e[Pn]=parseInt(t,10)});function tf(t){return Rv(t)?366:365}ie.parseTwoDigitYear=function(t){return Le(t)+(Le(t)>68?1900:2e3)};var ok=Rc("FullYear",!0);function yq(){return Rv(this.year())}function _q(t,e,n,r,i,s,a){var c;return t<100&&t>=0?(c=new Date(t+400,e,n,r,i,s,a),isFinite(c.getFullYear())&&c.setFullYear(t)):c=new Date(t,e,n,r,i,s,a),c}function _f(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Sp(t,e,n){var r=7+e-n,i=(7+_f(t,0,r).getUTCDay()-e)%7;return-i+r-1}function sk(t,e,n,r,i){var s=(7+n-r)%7,a=Sp(t,r,i),c=1+7*(e-1)+s+a,l,h;return c<=0?(l=t-1,h=tf(l)+c):c>tf(t)?(l=t+1,h=c-tf(t)):(l=t,h=c),{year:l,dayOfYear:h}}function wf(t,e,n){var r=Sp(t.year(),e,n),i=Math.floor((t.dayOfYear()-r-1)/7)+1,s,a;return i<1?(a=t.year()-1,s=i+yo(a,e,n)):i>yo(t.year(),e,n)?(s=i-yo(t.year(),e,n),a=t.year()+1):(a=t.year(),s=i),{week:s,year:a}}function yo(t,e,n){var r=Sp(t,e,n),i=Sp(t+1,e,n);return(tf(t)-r+i)/7}_e("w",["ww",2],"wo","week");_e("W",["WW",2],"Wo","isoWeek");jn("week","w");jn("isoWeek","W");Vn("week",5);Vn("isoWeek",5);se("w",mt);se("ww",mt,Pr);se("W",mt);se("WW",mt,Pr);th(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=Le(t)});function wq(t){return wf(t,this._week.dow,this._week.doy).week}var bq={dow:0,doy:6};function Eq(){return this._week.dow}function Tq(){return this._week.doy}function Iq(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Sq(t){var e=wf(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}_e("d",0,"do","day");_e("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});_e("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});_e("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});_e("e",0,0,"weekday");_e("E",0,0,"isoWeekday");jn("day","d");jn("weekday","e");jn("isoWeekday","E");Vn("day",11);Vn("weekday",11);Vn("isoWeekday",11);se("d",mt);se("e",mt);se("E",mt);se("dd",function(t,e){return e.weekdaysMinRegex(t)});se("ddd",function(t,e){return e.weekdaysShortRegex(t)});se("dddd",function(t,e){return e.weekdaysRegex(t)});th(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);i!=null?e.d=i:ke(n).invalidWeekday=t});th(["d","e","E"],function(t,e,n,r){e[r]=Le(t)});function Cq(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Aq(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function K0(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Nq="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ak="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rq="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Oq=eh,kq=eh,xq=eh;function Pq(t,e){var n=gi(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?K0(n,this._week.dow):t?n[t.day()]:n}function Dq(t){return t===!0?K0(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Mq(t){return t===!0?K0(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Lq(t,e,n){var r,i,s,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=$i([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(i=Lt.call(this._weekdaysParse,a),i!==-1?i:null):e==="ddd"?(i=Lt.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Lt.call(this._minWeekdaysParse,a),i!==-1?i:null):e==="dddd"?(i=Lt.call(this._weekdaysParse,a),i!==-1||(i=Lt.call(this._shortWeekdaysParse,a),i!==-1)?i:(i=Lt.call(this._minWeekdaysParse,a),i!==-1?i:null)):e==="ddd"?(i=Lt.call(this._shortWeekdaysParse,a),i!==-1||(i=Lt.call(this._weekdaysParse,a),i!==-1)?i:(i=Lt.call(this._minWeekdaysParse,a),i!==-1?i:null)):(i=Lt.call(this._minWeekdaysParse,a),i!==-1||(i=Lt.call(this._weekdaysParse,a),i!==-1)?i:(i=Lt.call(this._shortWeekdaysParse,a),i!==-1?i:null))}function Fq(t,e,n){var r,i,s;if(this._weekdaysParseExact)return Lq.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=$i([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[r].test(t))return r;if(n&&e==="ddd"&&this._shortWeekdaysParse[r].test(t))return r;if(n&&e==="dd"&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function Uq(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=Cq(t,this.localeData()),this.add(t-e,"d")):e}function jq(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Vq(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Aq(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Bq(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Q0.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Ze(this,"_weekdaysRegex")||(this._weekdaysRegex=Oq),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function qq(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Q0.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ze(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=kq),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wq(t){return this._weekdaysParseExact?(Ze(this,"_weekdaysRegex")||Q0.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ze(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=xq),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Q0(){function t(d,v){return v.length-d.length}var e=[],n=[],r=[],i=[],s,a,c,l,h;for(s=0;s<7;s++)a=$i([2e3,1]).day(s),c=Tr(this.weekdaysMin(a,"")),l=Tr(this.weekdaysShort(a,"")),h=Tr(this.weekdays(a,"")),e.push(c),n.push(l),r.push(h),i.push(c),i.push(l),i.push(h);e.sort(t),n.sort(t),r.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function X0(){return this.hours()%12||12}function Hq(){return this.hours()||24}_e("H",["HH",2],0,"hour");_e("h",["hh",2],0,X0);_e("k",["kk",2],0,Hq);_e("hmm",0,0,function(){return""+X0.apply(this)+Wi(this.minutes(),2)});_e("hmmss",0,0,function(){return""+X0.apply(this)+Wi(this.minutes(),2)+Wi(this.seconds(),2)});_e("Hmm",0,0,function(){return""+this.hours()+Wi(this.minutes(),2)});_e("Hmmss",0,0,function(){return""+this.hours()+Wi(this.minutes(),2)+Wi(this.seconds(),2)});function uk(t,e){_e(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}uk("a",!0);uk("A",!1);jn("hour","h");Vn("hour",13);function ck(t,e){return e._meridiemParse}se("a",ck);se("A",ck);se("H",mt);se("h",mt);se("k",mt);se("HH",mt,Pr);se("hh",mt,Pr);se("kk",mt,Pr);se("hmm",JO);se("hmmss",ZO);se("Hmm",JO);se("Hmmss",ZO);ft(["H","HH"],tn);ft(["k","kk"],function(t,e,n){var r=Le(t);e[tn]=r===24?0:r});ft(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});ft(["h","hh"],function(t,e,n){e[tn]=Le(t),ke(n).bigHour=!0});ft("hmm",function(t,e,n){var r=t.length-2;e[tn]=Le(t.substr(0,r)),e[si]=Le(t.substr(r)),ke(n).bigHour=!0});ft("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Le(t.substr(0,r)),e[si]=Le(t.substr(r,2)),e[po]=Le(t.substr(i)),ke(n).bigHour=!0});ft("Hmm",function(t,e,n){var r=t.length-2;e[tn]=Le(t.substr(0,r)),e[si]=Le(t.substr(r))});ft("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[tn]=Le(t.substr(0,r)),e[si]=Le(t.substr(r,2)),e[po]=Le(t.substr(i))});function Gq(t){return(t+"").toLowerCase().charAt(0)==="p"}var Yq=/[ap]\.?m?\.?/i,$q=Rc("Hours",!0);function zq(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var lk={calendar:FB,longDateFormat:BB,invalidDate:WB,ordinal:GB,dayOfMonthOrdinalParse:YB,relativeTime:zB,months:uq,monthsShort:ek,week:bq,weekdays:Nq,weekdaysMin:Rq,weekdaysShort:ak,meridiemParse:Yq},Et={},Dl={},bf;function Kq(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function XC(t){return t&&t.toLowerCase().replace("_","-")}function Qq(t){for(var e=0,n,r,i,s;e<t.length;){for(s=XC(t[e]).split("-"),n=s.length,r=XC(t[e+1]),r=r?r.split("-"):null;n>0;){if(i=Lv(s.slice(0,n).join("-")),i)return i;if(r&&r.length>=n&&Kq(s,r)>=n-1)break;n--}e++}return bf}function Xq(t){return t.match("^[^/\\\\]*$")!=null}function Lv(t){var e=null,n;if(Et[t]===void 0&&typeof vp<"u"&&vp&&vp.exports&&Xq(t))try{e=bf._abbr,n=require,n("./locale/"+t),ps(e)}catch{Et[t]=null}return Et[t]}function ps(t,e){var n;return t&&(ur(e)?n=ko(t):n=J0(t,e),n?bf=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),bf._abbr}function J0(t,e){if(e!==null){var n,r=lk;if(e.abbr=t,Et[t]!=null)YO("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Et[t]._config;else if(e.parentLocale!=null)if(Et[e.parentLocale]!=null)r=Et[e.parentLocale]._config;else if(n=Lv(e.parentLocale),n!=null)r=n._config;else return Dl[e.parentLocale]||(Dl[e.parentLocale]=[]),Dl[e.parentLocale].push({name:t,config:e}),null;return Et[t]=new H0(_w(r,e)),Dl[t]&&Dl[t].forEach(function(i){J0(i.name,i.config)}),ps(t),Et[t]}else return delete Et[t],null}function Jq(t,e){if(e!=null){var n,r,i=lk;Et[t]!=null&&Et[t].parentLocale!=null?Et[t].set(_w(Et[t]._config,e)):(r=Lv(t),r!=null&&(i=r._config),e=_w(i,e),r==null&&(e.abbr=t),n=new H0(e),n.parentLocale=Et[t],Et[t]=n),ps(t)}else Et[t]!=null&&(Et[t].parentLocale!=null?(Et[t]=Et[t].parentLocale,t===ps()&&ps(t)):Et[t]!=null&&delete Et[t]);return Et[t]}function ko(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return bf;if(!gi(t)){if(e=Lv(t),e)return e;t=[t]}return Qq(t)}function Zq(){return ww(Et)}function Z0(t){var e,n=t._a;return n&&ke(t).overflow===-2&&(e=n[ho]<0||n[ho]>11?ho:n[Mi]<1||n[Mi]>Mv(n[Pn],n[ho])?Mi:n[tn]<0||n[tn]>24||n[tn]===24&&(n[si]!==0||n[po]!==0||n[la]!==0)?tn:n[si]<0||n[si]>59?si:n[po]<0||n[po]>59?po:n[la]<0||n[la]>999?la:-1,ke(t)._overflowDayOfYear&&(e<Pn||e>Mi)&&(e=Mi),ke(t)._overflowWeeks&&e===-1&&(e=oq),ke(t)._overflowWeekday&&e===-1&&(e=sq),ke(t).overflow=e),t}var eW=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tW=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nW=/Z|[+-]\d\d(?::?\d\d)?/,xd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],u_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rW=/^\/?Date\((-?\d+)/i,iW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,oW={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fk(t){var e,n,r=t._i,i=eW.exec(r)||tW.exec(r),s,a,c,l,h=xd.length,d=u_.length;if(i){for(ke(t).iso=!0,e=0,n=h;e<n;e++)if(xd[e][1].exec(i[1])){a=xd[e][0],s=xd[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(i[3]){for(e=0,n=d;e<n;e++)if(u_[e][1].exec(i[3])){c=(i[2]||" ")+u_[e][0];break}if(c==null){t._isValid=!1;return}}if(!s&&c!=null){t._isValid=!1;return}if(i[4])if(nW.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=a+(c||"")+(l||""),tb(t)}else t._isValid=!1}function sW(t,e,n,r,i,s){var a=[aW(t),ek.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}function aW(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function uW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function cW(t,e,n){if(t){var r=ak.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(r!==i)return ke(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function lW(t,e,n){if(t)return oW[t];if(e)return 0;var r=parseInt(n,10),i=r%100,s=(r-i)/100;return s*60+i}function hk(t){var e=iW.exec(uW(t._i)),n;if(e){if(n=sW(e[4],e[3],e[2],e[5],e[6],e[7]),!cW(e[1],n,t))return;t._a=n,t._tzm=lW(e[8],e[9],e[10]),t._d=_f.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ke(t).rfc2822=!0}else t._isValid=!1}function fW(t){var e=rW.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(fk(t),t._isValid===!1)delete t._isValid;else return;if(hk(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ie.createFromInputFallback(t)}ie.createFromInputFallback=Yr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Ou(t,e,n){return t??e??n}function hW(t){var e=new Date(ie.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function eb(t){var e,n,r=[],i,s,a;if(!t._d){for(i=hW(t),t._w&&t._a[Mi]==null&&t._a[ho]==null&&dW(t),t._dayOfYear!=null&&(a=Ou(t._a[Pn],i[Pn]),(t._dayOfYear>tf(a)||t._dayOfYear===0)&&(ke(t)._overflowDayOfYear=!0),n=_f(a,0,t._dayOfYear),t._a[ho]=n.getUTCMonth(),t._a[Mi]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[tn]===24&&t._a[si]===0&&t._a[po]===0&&t._a[la]===0&&(t._nextDay=!0,t._a[tn]=0),t._d=(t._useUTC?_f:_q).apply(null,r),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[tn]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(ke(t).weekdayMismatch=!0)}}function dW(t){var e,n,r,i,s,a,c,l,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,n=Ou(e.GG,t._a[Pn],wf(gt(),1,4).year),r=Ou(e.W,1),i=Ou(e.E,1),(i<1||i>7)&&(l=!0)):(s=t._locale._week.dow,a=t._locale._week.doy,h=wf(gt(),s,a),n=Ou(e.gg,t._a[Pn],h.year),r=Ou(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+s,(e.e<0||e.e>6)&&(l=!0)):i=s),r<1||r>yo(n,s,a)?ke(t)._overflowWeeks=!0:l!=null?ke(t)._overflowWeekday=!0:(c=sk(n,r,i,s,a),t._a[Pn]=c.year,t._dayOfYear=c.dayOfYear)}ie.ISO_8601=function(){};ie.RFC_2822=function(){};function tb(t){if(t._f===ie.ISO_8601){fk(t);return}if(t._f===ie.RFC_2822){hk(t);return}t._a=[],ke(t).empty=!0;var e=""+t._i,n,r,i,s,a,c=e.length,l=0,h,d;for(i=$O(t._f,t._locale).match(G0)||[],d=i.length,n=0;n<d;n++)s=i[n],r=(e.match(nq(s,t))||[])[0],r&&(a=e.substr(0,e.indexOf(r)),a.length>0&&ke(t).unusedInput.push(a),e=e.slice(e.indexOf(r)+r.length),l+=r.length),Gu[s]?(r?ke(t).empty=!1:ke(t).unusedTokens.push(s),iq(s,r,t)):t._strict&&!r&&ke(t).unusedTokens.push(s);ke(t).charsLeftOver=c-l,e.length>0&&ke(t).unusedInput.push(e),t._a[tn]<=12&&ke(t).bigHour===!0&&t._a[tn]>0&&(ke(t).bigHour=void 0),ke(t).parsedDateParts=t._a.slice(0),ke(t).meridiem=t._meridiem,t._a[tn]=pW(t._locale,t._a[tn],t._meridiem),h=ke(t).era,h!==null&&(t._a[Pn]=t._locale.erasConvertYear(h,t._a[Pn])),eb(t),Z0(t)}function pW(t,e,n){var r;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(r=t.isPM(n),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function vW(t){var e,n,r,i,s,a,c=!1,l=t._f.length;if(l===0){ke(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)s=0,a=!1,e=W0({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],tb(e),q0(e)&&(a=!0),s+=ke(e).charsLeftOver,s+=ke(e).unusedTokens.length*10,ke(e).score=s,c?s<r&&(r=s,n=e):(r==null||s<r||a)&&(r=s,n=e,a&&(c=!0));as(t,n||e)}function gW(t){if(!t._d){var e=Y0(t._i),n=e.day===void 0?e.date:e.day;t._a=HO([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),eb(t)}}function mW(t){var e=new Zf(Z0(dk(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function dk(t){var e=t._i,n=t._f;return t._locale=t._locale||ko(t._l),e===null||n===void 0&&e===""?Nv({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),mi(e)?new Zf(Z0(e)):(Jf(e)?t._d=e:gi(n)?vW(t):n?tb(t):yW(t),q0(t)||(t._d=null),t))}function yW(t){var e=t._i;ur(e)?t._d=new Date(ie.now()):Jf(e)?t._d=new Date(e.valueOf()):typeof e=="string"?fW(t):gi(e)?(t._a=HO(e.slice(0),function(n){return parseInt(n,10)}),eb(t)):ya(e)?gW(t):Io(e)?t._d=new Date(e):ie.createFromInputFallback(t)}function pk(t,e,n,r,i){var s={};return(e===!0||e===!1)&&(r=e,e=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ya(t)&&B0(t)||gi(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=i,s._l=n,s._i=t,s._f=e,s._strict=r,mW(s)}function gt(t,e,n,r){return pk(t,e,n,r,!1)}var _W=Yr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Nv()}),wW=Yr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=gt.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Nv()});function vk(t,e){var n,r;if(e.length===1&&gi(e[0])&&(e=e[0]),!e.length)return gt();for(n=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][t](n))&&(n=e[r]);return n}function bW(){var t=[].slice.call(arguments,0);return vk("isBefore",t)}function EW(){var t=[].slice.call(arguments,0);return vk("isAfter",t)}var TW=function(){return Date.now?Date.now():+new Date},Ml=["year","quarter","month","week","day","hour","minute","second","millisecond"];function IW(t){var e,n=!1,r,i=Ml.length;for(e in t)if(Ze(t,e)&&!(Lt.call(Ml,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(r=0;r<i;++r)if(t[Ml[r]]){if(n)return!1;parseFloat(t[Ml[r]])!==Le(t[Ml[r]])&&(n=!0)}return!0}function SW(){return this._isValid}function CW(){return _i(NaN)}function Fv(t){var e=Y0(t),n=e.year||0,r=e.quarter||0,i=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,c=e.hour||0,l=e.minute||0,h=e.second||0,d=e.millisecond||0;this._isValid=IW(e),this._milliseconds=+d+h*1e3+l*6e4+c*1e3*60*60,this._days=+a+s*7,this._months=+i+r*3+n*12,this._data={},this._locale=ko(),this._bubble()}function rp(t){return t instanceof Fv}function Ew(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function AW(t,e,n){var r=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),s=0,a;for(a=0;a<r;a++)(n&&t[a]!==e[a]||!n&&Le(t[a])!==Le(e[a]))&&s++;return s+i}function gk(t,e){_e(t,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Wi(~~(n/60),2)+e+Wi(~~n%60,2)})}gk("Z",":");gk("ZZ","");se("Z",Dv);se("ZZ",Dv);ft(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=nb(Dv,t)});var NW=/([\+\-]|\d\d)/gi;function nb(t,e){var n=(e||"").match(t),r,i,s;return n===null?null:(r=n[n.length-1]||[],i=(r+"").match(NW)||["-",0,0],s=+(i[1]*60)+Le(i[2]),s===0?0:i[0]==="+"?s:-s)}function rb(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(mi(t)||Jf(t)?t.valueOf():gt(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),ie.updateOffset(n,!1),n):gt(t).local()}function Tw(t){return-Math.round(t._d.getTimezoneOffset())}ie.updateOffset=function(){};function RW(t,e,n){var r=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=nb(Dv,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(i=Tw(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?_k(this,_i(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ie.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:Tw(this)}function OW(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function kW(t){return this.utcOffset(0,t)}function xW(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Tw(this),"m")),this}function PW(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=nb(eq,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function DW(t){return this.isValid()?(t=t?gt(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function MW(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function LW(){if(!ur(this._isDSTShifted))return this._isDSTShifted;var t={},e;return W0(t,this),t=dk(t),t._a?(e=t._isUTC?$i(t._a):gt(t._a),this._isDSTShifted=this.isValid()&&AW(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function FW(){return this.isValid()?!this._isUTC:!1}function UW(){return this.isValid()?this._isUTC:!1}function mk(){return this.isValid()?this._isUTC&&this._offset===0:!1}var jW=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,VW=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _i(t,e){var n=t,r=null,i,s,a;return rp(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Io(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(r=jW.exec(t))?(i=r[1]==="-"?-1:1,n={y:0,d:Le(r[Mi])*i,h:Le(r[tn])*i,m:Le(r[si])*i,s:Le(r[po])*i,ms:Le(Ew(r[la]*1e3))*i}):(r=VW.exec(t))?(i=r[1]==="-"?-1:1,n={y:na(r[2],i),M:na(r[3],i),w:na(r[4],i),d:na(r[5],i),h:na(r[6],i),m:na(r[7],i),s:na(r[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(a=BW(gt(n.from),gt(n.to)),n={},n.ms=a.milliseconds,n.M=a.months),s=new Fv(n),rp(t)&&Ze(t,"_locale")&&(s._locale=t._locale),rp(t)&&Ze(t,"_isValid")&&(s._isValid=t._isValid),s}_i.fn=Fv.prototype;_i.invalid=CW;function na(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function JC(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function BW(t,e){var n;return t.isValid()&&e.isValid()?(e=rb(e,t),t.isBefore(e)?n=JC(t,e):(n=JC(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function yk(t,e){return function(n,r){var i,s;return r!==null&&!isNaN(+r)&&(YO(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=r,r=s),i=_i(n,r),_k(this,i,t),this}}function _k(t,e,n,r){var i=e._milliseconds,s=Ew(e._days),a=Ew(e._months);t.isValid()&&(r=r??!0,a&&nk(t,Tp(t,"Month")+a*n),s&&KO(t,"Date",Tp(t,"Date")+s*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&ie.updateOffset(t,s||a))}var qW=yk(1,"add"),WW=yk(-1,"subtract");function wk(t){return typeof t=="string"||t instanceof String}function HW(t){return mi(t)||Jf(t)||wk(t)||Io(t)||YW(t)||GW(t)||t===null||t===void 0}function GW(t){var e=ya(t)&&!B0(t),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,s,a=r.length;for(i=0;i<a;i+=1)s=r[i],n=n||Ze(t,s);return e&&n}function YW(t){var e=gi(t),n=!1;return e&&(n=t.filter(function(r){return!Io(r)&&wk(t)}).length===0),e&&n}function $W(t){var e=ya(t)&&!B0(t),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,s;for(i=0;i<r.length;i+=1)s=r[i],n=n||Ze(t,s);return e&&n}function zW(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function KW(t,e){arguments.length===1&&(arguments[0]?HW(arguments[0])?(t=arguments[0],e=void 0):$W(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||gt(),r=rb(n,this).startOf("day"),i=ie.calendarFormat(this,r)||"sameElse",s=e&&(zi(e[i])?e[i].call(this,n):e[i]);return this.format(s||this.localeData().calendar(i,this,gt(n)))}function QW(){return new Zf(this)}function XW(t,e){var n=mi(t)?t:gt(t);return this.isValid()&&n.isValid()?(e=$r(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function JW(t,e){var n=mi(t)?t:gt(t);return this.isValid()&&n.isValid()?(e=$r(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function ZW(t,e,n,r){var i=mi(t)?t:gt(t),s=mi(e)?e:gt(e);return this.isValid()&&i.isValid()&&s.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(r[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function eH(t,e){var n=mi(t)?t:gt(t),r;return this.isValid()&&n.isValid()?(e=$r(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function tH(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function nH(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function rH(t,e,n){var r,i,s;if(!this.isValid())return NaN;if(r=rb(t,this),!r.isValid())return NaN;switch(i=(r.utcOffset()-this.utcOffset())*6e4,e=$r(e),e){case"year":s=ip(this,r)/12;break;case"month":s=ip(this,r);break;case"quarter":s=ip(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Vr(s)}function ip(t,e){if(t.date()<e.date())return-ip(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),r=t.clone().add(n,"months"),i,s;return e-r<0?(i=t.clone().add(n-1,"months"),s=(e-r)/(r-i)):(i=t.clone().add(n+1,"months"),s=(e-r)/(i-r)),-(n+s)||0}ie.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ie.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function iH(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function oH(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?np(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zi(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",np(n,"Z")):np(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function sH(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,r,i,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+r+i+s)}function aH(t){t||(t=this.isUtc()?ie.defaultFormatUtc:ie.defaultFormat);var e=np(this,t);return this.localeData().postformat(e)}function uH(t,e){return this.isValid()&&(mi(t)&&t.isValid()||gt(t).isValid())?_i({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cH(t){return this.from(gt(),t)}function lH(t,e){return this.isValid()&&(mi(t)&&t.isValid()||gt(t).isValid())?_i({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fH(t){return this.to(gt(),t)}function bk(t){var e;return t===void 0?this._locale._abbr:(e=ko(t),e!=null&&(this._locale=e),this)}var Ek=Yr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Tk(){return this._locale}var Cp=1e3,Yu=60*Cp,Ap=60*Yu,Ik=(365*400+97)*24*Ap;function $u(t,e){return(t%e+e)%e}function Sk(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-Ik:new Date(t,e,n).valueOf()}function Ck(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-Ik:Date.UTC(t,e,n)}function hH(t){var e,n;if(t=$r(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ck:Sk,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=$u(e+(this._isUTC?0:this.utcOffset()*Yu),Ap);break;case"minute":e=this._d.valueOf(),e-=$u(e,Yu);break;case"second":e=this._d.valueOf(),e-=$u(e,Cp);break}return this._d.setTime(e),ie.updateOffset(this,!0),this}function dH(t){var e,n;if(t=$r(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Ck:Sk,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Ap-$u(e+(this._isUTC?0:this.utcOffset()*Yu),Ap)-1;break;case"minute":e=this._d.valueOf(),e+=Yu-$u(e,Yu)-1;break;case"second":e=this._d.valueOf(),e+=Cp-$u(e,Cp)-1;break}return this._d.setTime(e),ie.updateOffset(this,!0),this}function pH(){return this._d.valueOf()-(this._offset||0)*6e4}function vH(){return Math.floor(this.valueOf()/1e3)}function gH(){return new Date(this.valueOf())}function mH(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function yH(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function _H(){return this.isValid()?this.toISOString():null}function wH(){return q0(this)}function bH(){return as({},ke(this))}function EH(){return ke(this).overflow}function TH(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}_e("N",0,0,"eraAbbr");_e("NN",0,0,"eraAbbr");_e("NNN",0,0,"eraAbbr");_e("NNNN",0,0,"eraName");_e("NNNNN",0,0,"eraNarrow");_e("y",["y",1],"yo","eraYear");_e("y",["yy",2],0,"eraYear");_e("y",["yyy",3],0,"eraYear");_e("y",["yyyy",4],0,"eraYear");se("N",ib);se("NN",ib);se("NNN",ib);se("NNNN",DH);se("NNNNN",MH);ft(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?ke(n).era=i:ke(n).invalidEra=t});se("y",Oc);se("yy",Oc);se("yyy",Oc);se("yyyy",Oc);se("yo",LH);ft(["y","yy","yyy","yyyy"],Pn);ft(["yo"],function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Pn]=n._locale.eraYearOrdinalParse(t,i):e[Pn]=parseInt(t,10)});function IH(t,e){var n,r,i,s=this._eras||ko("en")._eras;for(n=0,r=s.length;n<r;++n){switch(typeof s[n].since){case"string":i=ie(s[n].since).startOf("day"),s[n].since=i.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":i=ie(s[n].until).startOf("day").valueOf(),s[n].until=i.valueOf();break}}return s}function SH(t,e,n){var r,i,s=this.eras(),a,c,l;for(t=t.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),c=s[r].abbr.toUpperCase(),l=s[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(c===t)return s[r];break;case"NNNN":if(a===t)return s[r];break;case"NNNNN":if(l===t)return s[r];break}else if([a,c,l].indexOf(t)>=0)return s[r]}function CH(t,e){var n=t.since<=t.until?1:-1;return e===void 0?ie(t.since).year():ie(t.since).year()+(e-t.offset)*n}function AH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].name;return""}function NH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].narrow;return""}function RH(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return r[t].abbr;return""}function OH(){var t,e,n,r,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=i[t].since<=i[t].until?1:-1,r=this.clone().startOf("day").valueOf(),i[t].since<=r&&r<=i[t].until||i[t].until<=r&&r<=i[t].since)return(this.year()-ie(i[t].since).year())*n+i[t].offset;return this.year()}function kH(t){return Ze(this,"_erasNameRegex")||ob.call(this),t?this._erasNameRegex:this._erasRegex}function xH(t){return Ze(this,"_erasAbbrRegex")||ob.call(this),t?this._erasAbbrRegex:this._erasRegex}function PH(t){return Ze(this,"_erasNarrowRegex")||ob.call(this),t?this._erasNarrowRegex:this._erasRegex}function ib(t,e){return e.erasAbbrRegex(t)}function DH(t,e){return e.erasNameRegex(t)}function MH(t,e){return e.erasNarrowRegex(t)}function LH(t,e){return e._eraYearOrdinalRegex||Oc}function ob(){var t=[],e=[],n=[],r=[],i,s,a=this.eras();for(i=0,s=a.length;i<s;++i)e.push(Tr(a[i].name)),t.push(Tr(a[i].abbr)),n.push(Tr(a[i].narrow)),r.push(Tr(a[i].name)),r.push(Tr(a[i].abbr)),r.push(Tr(a[i].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}_e(0,["gg",2],0,function(){return this.weekYear()%100});_e(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Uv(t,e){_e(0,[t,t.length],0,e)}Uv("gggg","weekYear");Uv("ggggg","weekYear");Uv("GGGG","isoWeekYear");Uv("GGGGG","isoWeekYear");jn("weekYear","gg");jn("isoWeekYear","GG");Vn("weekYear",1);Vn("isoWeekYear",1);se("G",Pv);se("g",Pv);se("GG",mt,Pr);se("gg",mt,Pr);se("GGGG",z0,$0);se("gggg",z0,$0);se("GGGGG",xv,Ov);se("ggggg",xv,Ov);th(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=Le(t)});th(["gg","GG"],function(t,e,n,r){e[r]=ie.parseTwoDigitYear(t)});function FH(t){return Ak.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function UH(t){return Ak.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function jH(){return yo(this.year(),1,4)}function VH(){return yo(this.isoWeekYear(),1,4)}function BH(){var t=this.localeData()._week;return yo(this.year(),t.dow,t.doy)}function qH(){var t=this.localeData()._week;return yo(this.weekYear(),t.dow,t.doy)}function Ak(t,e,n,r,i){var s;return t==null?wf(this,r,i).year:(s=yo(t,r,i),e>s&&(e=s),WH.call(this,t,e,n,r,i))}function WH(t,e,n,r,i){var s=sk(t,e,n,r,i),a=_f(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}_e("Q",0,"Qo","quarter");jn("quarter","Q");Vn("quarter",7);se("Q",QO);ft("Q",function(t,e){e[ho]=(Le(t)-1)*3});function HH(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}_e("D",["DD",2],"Do","date");jn("date","D");Vn("date",9);se("D",mt);se("DD",mt,Pr);se("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});ft(["D","DD"],Mi);ft("Do",function(t,e){e[Mi]=Le(t.match(mt)[0])});var Nk=Rc("Date",!0);_e("DDD",["DDDD",3],"DDDo","dayOfYear");jn("dayOfYear","DDD");Vn("dayOfYear",4);se("DDD",kv);se("DDDD",XO);ft(["DDD","DDDD"],function(t,e,n){n._dayOfYear=Le(t)});function GH(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}_e("m",["mm",2],0,"minute");jn("minute","m");Vn("minute",14);se("m",mt);se("mm",mt,Pr);ft(["m","mm"],si);var YH=Rc("Minutes",!1);_e("s",["ss",2],0,"second");jn("second","s");Vn("second",15);se("s",mt);se("ss",mt,Pr);ft(["s","ss"],po);var $H=Rc("Seconds",!1);_e("S",0,0,function(){return~~(this.millisecond()/100)});_e(0,["SS",2],0,function(){return~~(this.millisecond()/10)});_e(0,["SSS",3],0,"millisecond");_e(0,["SSSS",4],0,function(){return this.millisecond()*10});_e(0,["SSSSS",5],0,function(){return this.millisecond()*100});_e(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});_e(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});_e(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});_e(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});jn("millisecond","ms");Vn("millisecond",16);se("S",kv,QO);se("SS",kv,Pr);se("SSS",kv,XO);var us,Rk;for(us="SSSS";us.length<=9;us+="S")se(us,Oc);function zH(t,e){e[la]=Le(("0."+t)*1e3)}for(us="S";us.length<=9;us+="S")ft(us,zH);Rk=Rc("Milliseconds",!1);_e("z",0,0,"zoneAbbr");_e("zz",0,0,"zoneName");function KH(){return this._isUTC?"UTC":""}function QH(){return this._isUTC?"Coordinated Universal Time":""}var Q=Zf.prototype;Q.add=qW;Q.calendar=KW;Q.clone=QW;Q.diff=rH;Q.endOf=dH;Q.format=aH;Q.from=uH;Q.fromNow=cH;Q.to=lH;Q.toNow=fH;Q.get=JB;Q.invalidAt=EH;Q.isAfter=XW;Q.isBefore=JW;Q.isBetween=ZW;Q.isSame=eH;Q.isSameOrAfter=tH;Q.isSameOrBefore=nH;Q.isValid=wH;Q.lang=Ek;Q.locale=bk;Q.localeData=Tk;Q.max=wW;Q.min=_W;Q.parsingFlags=bH;Q.set=ZB;Q.startOf=hH;Q.subtract=WW;Q.toArray=mH;Q.toObject=yH;Q.toDate=gH;Q.toISOString=oH;Q.inspect=sH;typeof Symbol<"u"&&Symbol.for!=null&&(Q[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Q.toJSON=_H;Q.toString=iH;Q.unix=vH;Q.valueOf=pH;Q.creationData=TH;Q.eraName=AH;Q.eraNarrow=NH;Q.eraAbbr=RH;Q.eraYear=OH;Q.year=ok;Q.isLeapYear=yq;Q.weekYear=FH;Q.isoWeekYear=UH;Q.quarter=Q.quarters=HH;Q.month=rk;Q.daysInMonth=vq;Q.week=Q.weeks=Iq;Q.isoWeek=Q.isoWeeks=Sq;Q.weeksInYear=BH;Q.weeksInWeekYear=qH;Q.isoWeeksInYear=jH;Q.isoWeeksInISOWeekYear=VH;Q.date=Nk;Q.day=Q.days=Uq;Q.weekday=jq;Q.isoWeekday=Vq;Q.dayOfYear=GH;Q.hour=Q.hours=$q;Q.minute=Q.minutes=YH;Q.second=Q.seconds=$H;Q.millisecond=Q.milliseconds=Rk;Q.utcOffset=RW;Q.utc=kW;Q.local=xW;Q.parseZone=PW;Q.hasAlignedHourOffset=DW;Q.isDST=MW;Q.isLocal=FW;Q.isUtcOffset=UW;Q.isUtc=mk;Q.isUTC=mk;Q.zoneAbbr=KH;Q.zoneName=QH;Q.dates=Yr("dates accessor is deprecated. Use date instead.",Nk);Q.months=Yr("months accessor is deprecated. Use month instead",rk);Q.years=Yr("years accessor is deprecated. Use year instead",ok);Q.zone=Yr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",OW);Q.isDSTShifted=Yr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",LW);function XH(t){return gt(t*1e3)}function JH(){return gt.apply(null,arguments).parseZone()}function Ok(t){return t}var et=H0.prototype;et.calendar=UB;et.longDateFormat=qB;et.invalidDate=HB;et.ordinal=$B;et.preparse=Ok;et.postformat=Ok;et.relativeTime=KB;et.pastFuture=QB;et.set=LB;et.eras=IH;et.erasParse=SH;et.erasConvertYear=CH;et.erasAbbrRegex=xH;et.erasNameRegex=kH;et.erasNarrowRegex=PH;et.months=fq;et.monthsShort=hq;et.monthsParse=pq;et.monthsRegex=mq;et.monthsShortRegex=gq;et.week=wq;et.firstDayOfYear=Tq;et.firstDayOfWeek=Eq;et.weekdays=Pq;et.weekdaysMin=Mq;et.weekdaysShort=Dq;et.weekdaysParse=Fq;et.weekdaysRegex=Bq;et.weekdaysShortRegex=qq;et.weekdaysMinRegex=Wq;et.isPM=Gq;et.meridiem=zq;function Np(t,e,n,r){var i=ko(),s=$i().set(r,e);return i[n](s,t)}function kk(t,e,n){if(Io(t)&&(e=t,t=void 0),t=t||"",e!=null)return Np(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Np(t,r,n,"month");return i}function sb(t,e,n,r){typeof t=="boolean"?(Io(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Io(e)&&(n=e,e=void 0),e=e||"");var i=ko(),s=t?i._week.dow:0,a,c=[];if(n!=null)return Np(e,(n+s)%7,r,"day");for(a=0;a<7;a++)c[a]=Np(e,(a+s)%7,r,"day");return c}function ZH(t,e){return kk(t,e,"months")}function eG(t,e){return kk(t,e,"monthsShort")}function tG(t,e,n){return sb(t,e,n,"weekdays")}function nG(t,e,n){return sb(t,e,n,"weekdaysShort")}function rG(t,e,n){return sb(t,e,n,"weekdaysMin")}ps("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=Le(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});ie.lang=Yr("moment.lang is deprecated. Use moment.locale instead.",ps);ie.langData=Yr("moment.langData is deprecated. Use moment.localeData instead.",ko);var so=Math.abs;function iG(){var t=this._data;return this._milliseconds=so(this._milliseconds),this._days=so(this._days),this._months=so(this._months),t.milliseconds=so(t.milliseconds),t.seconds=so(t.seconds),t.minutes=so(t.minutes),t.hours=so(t.hours),t.months=so(t.months),t.years=so(t.years),this}function xk(t,e,n,r){var i=_i(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function oG(t,e){return xk(this,t,e,1)}function sG(t,e){return xk(this,t,e,-1)}function ZC(t){return t<0?Math.floor(t):Math.ceil(t)}function aG(){var t=this._milliseconds,e=this._days,n=this._months,r=this._data,i,s,a,c,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=ZC(Iw(n)+e)*864e5,e=0,n=0),r.milliseconds=t%1e3,i=Vr(t/1e3),r.seconds=i%60,s=Vr(i/60),r.minutes=s%60,a=Vr(s/60),r.hours=a%24,e+=Vr(a/24),l=Vr(Pk(e)),n+=l,e-=ZC(Iw(l)),c=Vr(n/12),n%=12,r.days=e,r.months=n,r.years=c,this}function Pk(t){return t*4800/146097}function Iw(t){return t*146097/4800}function uG(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if(t=$r(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+r/864e5,n=this._months+Pk(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Iw(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+t)}}function cG(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Le(this._months/12)*31536e6:NaN}function xo(t){return function(){return this.as(t)}}var lG=xo("ms"),fG=xo("s"),hG=xo("m"),dG=xo("h"),pG=xo("d"),vG=xo("w"),gG=xo("M"),mG=xo("Q"),yG=xo("y");function _G(){return _i(this)}function wG(t){return t=$r(t),this.isValid()?this[t+"s"]():NaN}function Ua(t){return function(){return this.isValid()?this._data[t]:NaN}}var bG=Ua("milliseconds"),EG=Ua("seconds"),TG=Ua("minutes"),IG=Ua("hours"),SG=Ua("days"),CG=Ua("months"),AG=Ua("years");function NG(){return Vr(this.days()/7)}var lo=Math.round,Mu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function RG(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function OG(t,e,n,r){var i=_i(t).abs(),s=lo(i.as("s")),a=lo(i.as("m")),c=lo(i.as("h")),l=lo(i.as("d")),h=lo(i.as("M")),d=lo(i.as("w")),v=lo(i.as("y")),m=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||c<=1&&["h"]||c<n.h&&["hh",c]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(m=m||d<=1&&["w"]||d<n.w&&["ww",d]),m=m||h<=1&&["M"]||h<n.M&&["MM",h]||v<=1&&["y"]||["yy",v],m[2]=e,m[3]=+t>0,m[4]=r,RG.apply(null,m)}function kG(t){return t===void 0?lo:typeof t=="function"?(lo=t,!0):!1}function xG(t,e){return Mu[t]===void 0?!1:e===void 0?Mu[t]:(Mu[t]=e,t==="s"&&(Mu.ss=e-1),!0)}function PG(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Mu,i,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(r=Object.assign({},Mu,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),i=this.localeData(),s=OG(this,!n,r,i),n&&(s=i.pastFuture(+this,s)),i.postformat(s)}var c_=Math.abs;function bu(t){return(t>0)-(t<0)||+t}function jv(){if(!this.isValid())return this.localeData().invalidDate();var t=c_(this._milliseconds)/1e3,e=c_(this._days),n=c_(this._months),r,i,s,a,c=this.asSeconds(),l,h,d,v;return c?(r=Vr(t/60),i=Vr(r/60),t%=60,r%=60,s=Vr(n/12),n%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=c<0?"-":"",h=bu(this._months)!==bu(c)?"-":"",d=bu(this._days)!==bu(c)?"-":"",v=bu(this._milliseconds)!==bu(c)?"-":"",l+"P"+(s?h+s+"Y":"")+(n?h+n+"M":"")+(e?d+e+"D":"")+(i||r||t?"T":"")+(i?v+i+"H":"")+(r?v+r+"M":"")+(t?v+a+"S":"")):"P0D"}var He=Fv.prototype;He.isValid=SW;He.abs=iG;He.add=oG;He.subtract=sG;He.as=uG;He.asMilliseconds=lG;He.asSeconds=fG;He.asMinutes=hG;He.asHours=dG;He.asDays=pG;He.asWeeks=vG;He.asMonths=gG;He.asQuarters=mG;He.asYears=yG;He.valueOf=cG;He._bubble=aG;He.clone=_G;He.get=wG;He.milliseconds=bG;He.seconds=EG;He.minutes=TG;He.hours=IG;He.days=SG;He.weeks=NG;He.months=CG;He.years=AG;He.humanize=PG;He.toISOString=jv;He.toString=jv;He.toJSON=jv;He.locale=bk;He.localeData=Tk;He.toIsoString=Yr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jv);He.lang=Ek;_e("X",0,0,"unix");_e("x",0,0,"valueOf");se("x",Pv);se("X",tq);ft("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});ft("x",function(t,e,n){n._d=new Date(Le(t))});//! moment.js
ie.version="2.29.4";DB(gt);ie.fn=Q;ie.min=bW;ie.max=EW;ie.now=TW;ie.utc=$i;ie.unix=XH;ie.months=ZH;ie.isDate=Jf;ie.locale=ps;ie.invalid=Nv;ie.duration=_i;ie.isMoment=mi;ie.weekdays=tG;ie.parseZone=JH;ie.localeData=ko;ie.isDuration=rp;ie.monthsShort=eG;ie.weekdaysMin=rG;ie.defineLocale=J0;ie.updateLocale=Jq;ie.locales=Zq;ie.weekdaysShort=nG;ie.normalizeUnits=$r;ie.relativeTimeRounding=kG;ie.relativeTimeThreshold=xG;ie.calendarFormat=zW;ie.prototype=Q;ie.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var DG="store";function kc(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function MG(t){return t!==null&&typeof t=="object"}function LG(t){return t&&typeof t.then=="function"}function FG(t,e){return function(){return t(e)}}function Dk(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Mk(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Vv(t,n,[],t._modules.root,!0),ab(t,n,e)}function ab(t,e,n){var r=t._state;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};kc(i,function(a,c){s[c]=FG(a,t),Object.defineProperty(t.getters,c,{get:function(){return s[c]()},enumerable:!0})}),t._state=Xf({data:e}),t.strict&&qG(t),r&&n&&t._withCommit(function(){r.data=null})}function Vv(t,e,n,r,i){var s=!n.length,a=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[a],t._modulesNamespaceMap[a]=r),!s&&!i){var c=ub(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){c[l]=r.state})}var h=r.context=UG(t,a,n);r.forEachMutation(function(d,v){var m=a+v;jG(t,m,d,h)}),r.forEachAction(function(d,v){var m=d.root?v:a+v,y=d.handler||d;VG(t,m,y,h)}),r.forEachGetter(function(d,v){var m=a+v;BG(t,m,d,h)}),r.forEachChild(function(d,v){Vv(t,e,n.concat(v),d,i)})}function UG(t,e,n){var r=e==="",i={dispatch:r?t.dispatch:function(s,a,c){var l=Rp(s,a,c),h=l.payload,d=l.options,v=l.type;return(!d||!d.root)&&(v=e+v),t.dispatch(v,h)},commit:r?t.commit:function(s,a,c){var l=Rp(s,a,c),h=l.payload,d=l.options,v=l.type;(!d||!d.root)&&(v=e+v),t.commit(v,h,d)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return Lk(t,e)}},state:{get:function(){return ub(t.state,n)}}}),i}function Lk(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(i){if(i.slice(0,r)===e){var s=i.slice(r);Object.defineProperty(n,s,{get:function(){return t.getters[i]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function jG(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(a){n.call(t,r.state,a)})}function VG(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push(function(a){var c=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},a);return LG(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):c})}function BG(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(s){return n(r.state,r.getters,s.state,s.getters)})}function qG(t){Hu(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function ub(t,e){return e.reduce(function(n,r){return n[r]},t)}function Rp(t,e,n){return MG(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var WG="vuex bindings",eA="vuex:mutations",l_="vuex:actions",Eu="vuex",HG=0;function GG(t,e){v3({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[WG]},function(n){n.addTimelineLayer({id:eA,label:"Vuex Mutations",color:tA}),n.addTimelineLayer({id:l_,label:"Vuex Actions",color:tA}),n.addInspector({id:Eu,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Eu)if(r.filter){var i=[];Vk(i,e._modules.root,r.filter,""),r.rootNodes=i}else r.rootNodes=[jk(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Eu){var i=r.nodeId;Lk(e,i),r.state=zG(QG(e._modules,i),i==="root"?e.getters:e._makeLocalGettersCache,i)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Eu){var i=r.nodeId,s=r.path;i!=="root"&&(s=i.split("/").filter(Boolean).concat(s)),e._withCommit(function(){r.set(e._state.data,s,r.state.value)})}}),e.subscribe(function(r,i){var s={};r.payload&&(s.payload=r.payload),s.state=i,n.notifyComponentUpdate(),n.sendInspectorTree(Eu),n.sendInspectorState(Eu),n.addTimelineEvent({layerId:eA,event:{time:Date.now(),title:r.type,data:s}})}),e.subscribeAction({before:function(r,i){var s={};r.payload&&(s.payload=r.payload),r._id=HG++,r._time=Date.now(),s.state=i,n.addTimelineEvent({layerId:l_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:s}})},after:function(r,i){var s={},a=Date.now()-r._time;s.duration={_custom:{type:"duration",display:a+"ms",tooltip:"Action duration",value:a}},r.payload&&(s.payload=r.payload),s.state=i,n.addTimelineEvent({layerId:l_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:s}})}})})}var tA=8702998,YG=6710886,$G=16777215,Fk={label:"namespaced",textColor:$G,backgroundColor:YG};function Uk(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function jk(t,e){return{id:e||"root",label:Uk(e),tags:t.namespaced?[Fk]:[],children:Object.keys(t._children).map(function(n){return jk(t._children[n],e+n+"/")})}}function Vk(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[Fk]:[]}),Object.keys(e._children).forEach(function(i){Vk(t,e._children[i],n,r+i+"/")})}function zG(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map(function(a){return{key:a,editable:!0,value:t.state[a]}})};if(r.length){var s=KG(e);i.getters=Object.keys(s).map(function(a){return{key:a.endsWith("/")?Uk(a):a,editable:!1,value:Sw(function(){return s[a]})}})}return i}function KG(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var i=e,s=r.pop();r.forEach(function(a){i[a]||(i[a]={_custom:{value:{},display:a,tooltip:"Module",abstract:!0}}),i=i[a]._custom.value}),i[s]=Sw(function(){return t[n]})}else e[n]=Sw(function(){return t[n]})}),e}function QG(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,i,s){var a=r[i];if(!a)throw new Error('Missing module "'+i+'" for path "'+e+'".');return s===n.length-1?a:a._children},e==="root"?t:t.root._children)}function Sw(t){try{return t()}catch(e){return e}}var wi=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},Bk={namespaced:{configurable:!0}};Bk.namespaced.get=function(){return!!this._rawModule.namespaced};wi.prototype.addChild=function(e,n){this._children[e]=n};wi.prototype.removeChild=function(e){delete this._children[e]};wi.prototype.getChild=function(e){return this._children[e]};wi.prototype.hasChild=function(e){return e in this._children};wi.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};wi.prototype.forEachChild=function(e){kc(this._children,e)};wi.prototype.forEachGetter=function(e){this._rawModule.getters&&kc(this._rawModule.getters,e)};wi.prototype.forEachAction=function(e){this._rawModule.actions&&kc(this._rawModule.actions,e)};wi.prototype.forEachMutation=function(e){this._rawModule.mutations&&kc(this._rawModule.mutations,e)};Object.defineProperties(wi.prototype,Bk);var ja=function(e){this.register([],e,!1)};ja.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};ja.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,i){return n=n.getChild(i),r+(n.namespaced?i+"/":"")},"")};ja.prototype.update=function(e){qk([],this.root,e)};ja.prototype.register=function(e,n,r){var i=this;r===void 0&&(r=!0);var s=new wi(n,r);if(e.length===0)this.root=s;else{var a=this.get(e.slice(0,-1));a.addChild(e[e.length-1],s)}n.modules&&kc(n.modules,function(c,l){i.register(e.concat(l),c,r)})};ja.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],i=n.getChild(r);i&&i.runtime&&n.removeChild(r)};ja.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function qk(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;qk(t.concat(r),e.getChild(r),n.modules[r])}}function XG(t){return new mr(t)}var mr=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var i=e.strict;i===void 0&&(i=!1);var s=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ja(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=s;var a=this,c=this,l=c.dispatch,h=c.commit;this.dispatch=function(m,y){return l.call(a,m,y)},this.commit=function(m,y,b){return h.call(a,m,y,b)},this.strict=i;var d=this._modules.root.state;Vv(this,d,[],this._modules.root),ab(this,d),r.forEach(function(v){return v(n)})},cb={state:{configurable:!0}};mr.prototype.install=function(e,n){e.provide(n||DG,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&GG(e,this)};cb.state.get=function(){return this._state.data};cb.state.set=function(t){};mr.prototype.commit=function(e,n,r){var i=this,s=Rp(e,n,r),a=s.type,c=s.payload,l={type:a,payload:c},h=this._mutations[a];h&&(this._withCommit(function(){h.forEach(function(v){v(c)})}),this._subscribers.slice().forEach(function(d){return d(l,i.state)}))};mr.prototype.dispatch=function(e,n){var r=this,i=Rp(e,n),s=i.type,a=i.payload,c={type:s,payload:a},l=this._actions[s];if(l){try{this._actionSubscribers.slice().filter(function(d){return d.before}).forEach(function(d){return d.before(c,r.state)})}catch{}var h=l.length>1?Promise.all(l.map(function(d){return d(a)})):l[0](a);return new Promise(function(d,v){h.then(function(m){try{r._actionSubscribers.filter(function(y){return y.after}).forEach(function(y){return y.after(c,r.state)})}catch{}d(m)},function(m){try{r._actionSubscribers.filter(function(y){return y.error}).forEach(function(y){return y.error(c,r.state,m)})}catch{}v(m)})})}};mr.prototype.subscribe=function(e,n){return Dk(e,this._subscribers,n)};mr.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Dk(r,this._actionSubscribers,n)};mr.prototype.watch=function(e,n,r){var i=this;return Hu(function(){return e(i.state,i.getters)},n,Object.assign({},r))};mr.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};mr.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Vv(this,this.state,e,this._modules.get(e),r.preserveState),ab(this,this.state)};mr.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=ub(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),Mk(this)};mr.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};mr.prototype.hotUpdate=function(e){this._modules.update(e),Mk(this,!0)};mr.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(mr.prototype,cb);var JG=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===ZG}(e)}(t)},ZG=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Yl(t,e){return e.clone!==!1&&e.isMergeableObject(t)?ic(Array.isArray(t)?[]:{},t,e):t}function eY(t,e,n){return t.concat(e).map(function(r){return Yl(r,n)})}function nA(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return e.propertyIsEnumerable(n)}):[]}(t))}function rA(t,e){try{return e in t}catch{return!1}}function ic(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||eY,n.isMergeableObject=n.isMergeableObject||JG,n.cloneUnlessOtherwiseSpecified=Yl;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(i,s,a){var c={};return a.isMergeableObject(i)&&nA(i).forEach(function(l){c[l]=Yl(i[l],a)}),nA(s).forEach(function(l){(function(h,d){return rA(h,d)&&!(Object.hasOwnProperty.call(h,d)&&Object.propertyIsEnumerable.call(h,d))})(i,l)||(c[l]=rA(i,l)&&a.isMergeableObject(s[l])?function(h,d){if(!d.customMerge)return ic;var v=d.customMerge(h);return typeof v=="function"?v:ic}(l,a)(i[l],s[l],a):Yl(s[l],a))}),c}(t,e,n):Yl(e,n)}ic.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return ic(n,r,e)},{})};var tY=ic;function nY(t){var e=(t=t||{}).storage||window&&window.localStorage,n=t.key||"vuex";function r(d,v){var m=v.getItem(d);try{return typeof m=="string"?JSON.parse(m):typeof m=="object"?m:void 0}catch{}}function i(){return!0}function s(d,v,m){return m.setItem(d,JSON.stringify(v))}function a(d,v){return Array.isArray(v)?v.reduce(function(m,y){return function(T,A,x,M){return!/^(__proto__|constructor|prototype)$/.test(A)&&((A=A.split?A.split("."):A.slice(0)).slice(0,-1).reduce(function(U,X){return U[X]=U[X]||{}},T)[A.pop()]=x),T}(m,y,(b=d,(b=((E=y).split?E.split("."):E).reduce(function(T,A){return T&&T[A]},b))===void 0?void 0:b));var b,E},{}):d}function c(d){return function(v){return d.subscribe(v)}}(t.assertStorage||function(){e.setItem("@@",1),e.removeItem("@@")})(e);var l,h=function(){return(t.getState||r)(n,e)};return t.fetchBeforeUse&&(l=h()),function(d){t.fetchBeforeUse||(l=h()),typeof l=="object"&&l!==null&&(d.replaceState(t.overwrite?l:tY(d.state,l,{arrayMerge:t.arrayMerger||function(v,m){return m},clone:!1})),(t.rehydrated||function(){})(d)),(t.subscriber||c)(d)(function(v,m){(t.filter||i)(v)&&(t.setState||s)(n,(t.reducer||a)(m,t.paths),e)})}}const Hi=XG({state(){return{user:null}},mutations:{SET_USER:(t,e)=>{t.user=e},SET_BACKGROUND_IMAGE:(t,e)=>{t.user.background_image_url=e},SET_PROFILE_IMAGE:(t,e)=>{t.user.profile_image_url=e},SET_FOLLOW:(t,e)=>{t.user.followings.push(e)},SET_UN_FOLLOW:(t,e)=>{t.user.followings=t.user.followings.filter(n=>n!==e)}},plugins:[nY()]});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cw=function(t,e){return Cw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Cw(t,e)};function ee(t,e){Cw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ht=function(){return ht=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ht.apply(this,arguments)};function R(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function c(d){try{h(r.next(d))}catch(v){a(v)}}function l(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(c,l)}h((r=r.apply(t,e||[])).next())})}function N(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(h){return function(d){return l([h,d])}}function l(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function Ft(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ef(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Po(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ef(arguments[e]));return t}function Vt(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wk={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(t,e){if(!t)throw xc(e)},xc=function(t){return new Error("Firebase Database ("+Wk.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hk=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rY=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=t[n++],a=t[n++],c=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{var s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],a=i+1<t.length,c=a?t[i+1]:0,l=i+2<t.length,h=l?t[i+2]:0,d=s>>2,v=(s&3)<<4|c>>4,m=(c&15)<<2|h>>6,y=h&63;l||(y=64,a||(m=64)),r.push(n[d],n[v],n[m],n[y])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hk(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],a=i<t.length,c=a?n[t.charAt(i)]:0;++i;var l=i<t.length,h=l?n[t.charAt(i)]:64;++i;var d=i<t.length,v=d?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||v==null)throw Error();var m=s<<2|c>>4;if(r.push(m),h!==64){var y=c<<4&240|h>>2;if(r.push(y),v!==64){var b=h<<6&192|v;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},iY=function(t){var e=Hk(t);return lb.encodeByteArray(e,!0)},iA=function(t){try{return lb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){return Tf(void 0,t)}function Tf(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)!e.hasOwnProperty(r)||!oY(r)||(t[r]=Tf(t[r],e[r]));return t}function oY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){e.resolve=n,e.reject=r})}return t.prototype.wrapCallback=function(e){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(r):e(r,i))}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Aa())}function sY(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aY(){return typeof self=="object"&&self.self===self}function hb(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Yk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uY(){return Aa().indexOf("Electron/")>=0}function cY(){var t=Aa();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lY(){return Aa().indexOf("MSAppHost/")>=0}function $k(){return Wk.NODE_ADMIN===!0}function db(){return"indexedDB"in self&&indexedDB!=null}function pb(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){e(s)}})}function zk(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fY="FirebaseError",Pc=function(t){ee(e,t);function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name=fY,Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,As.prototype.create),s}return e}(Error),As=function(){function t(e,n,r){this.service=e,this.serviceName=n,this.errors=r}return t.prototype.create=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+e,a=this.errors[e],c=a?hY(a,i):"Error",l=this.serviceName+": "+c+" ("+s+").",h=new Pc(s,l,i);return h},t}();function hY(t,e){return t.replace(dY,function(n,r){var i=e[r];return i!=null?String(i):"<"+r+"?>"})}var dY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t){return JSON.parse(t)}function Zt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kk=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=If(iA(s[0])||""),n=If(iA(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},pY=function(t){var e=Kk(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vY=function(t){var e=Kk(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ai(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Aw(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Op(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gY(t){for(var e=[],n=function(l,h){Array.isArray(h)?h.forEach(function(d){e.push(encodeURIComponent(l)+"="+encodeURIComponent(d))}):e.push(encodeURIComponent(l)+"="+encodeURIComponent(h))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r],a=s[0],c=s[1];n(a,c)}return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mY=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,n){n||(n=0);var r=this.W_;if(typeof e=="string")for(var i=0;i<16;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],c=this.chain_[1],l=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^c&(l^h),m=1518500249):(v=c^l^h,m=1859775393):i<60?(v=c&l|h&(c|l),m=2400959708):(v=c^l^h,m=3395469782);var s=(a<<5|a>>>27)+v+d+m+r[i]&4294967295;d=h,h=l,l=(c<<30|c>>>2)&4294967295,c=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},t.prototype.update=function(e,n){if(e!=null){n===void 0&&(n=e.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},t.prototype.digest=function(){var e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)e[i]=this.chain_[r]>>s&255,++i;return e},t}();function yY(t,e){var n=new _Y(t,e);return n.subscribe.bind(n)}var _Y=function(){function t(e,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(r)}).catch(function(i){r.error(i)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,r){var i=this,s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wY(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=f_),s.error===void 0&&(s.error=f_),s.complete===void 0&&(s.complete=f_);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[e]!==void 0)try{n(r.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function wY(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&typeof t[i]=="function")return!0}return!1}function f_(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=n===0?"none":"no more than "+n),i){var s=t+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function Hr(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument ",i}function hn(t,e,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(Hr(t,e,r)+"must be a valid function.")}function oA(t,e,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(Hr(t,e,r)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bY=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");var a=t.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},op=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EY=1e3,TY=2,IY=4*60*60*1e3,SY=.5;function Nw(t,e,n){e===void 0&&(e=EY),n===void 0&&(n=TY);var r=e*Math.pow(n,t),i=Math.round(SY*r*(Math.random()-.5)*2);return Math.min(IY,r+i)}var vr=function(){function t(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ku="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qk=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(e){e===void 0&&(e=ku);var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var r=new cr;this.instancesDeferred.set(n,r);try{var i=this.getOrInitializeService(n);i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n=ht({identifier:ku,optional:!1},e),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);try{var a=this.getOrInitializeService(s);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(c){if(i)return null;throw c}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,r;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,AY(e))try{this.getOrInitializeService(ku)}catch{}try{for(var i=Ft(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Ef(s.value,2),c=a[0],l=a[1],h=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService(h);l.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.clearInstance=function(e){e===void 0&&(e=ku),this.instancesDeferred.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Po(e.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}),e.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()})))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.getOrInitializeService=function(e){var n=this.instances.get(e);return!n&&this.component&&(n=this.component.instanceFactory(this.container,CY(e)),this.instances.set(e,n)),n||null},t.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:ku:e},t}();function CY(t){return t===ku?void 0:t}function AY(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xk=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new Qk(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ti(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,c=s.length;a<c;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ra,vb=[],Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));var Jk={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},NY=Me.INFO,RY=(ra={},ra[Me.DEBUG]="log",ra[Me.VERBOSE]="log",ra[Me.INFO]="info",ra[Me.WARN]="warn",ra[Me.ERROR]="error",ra),OY=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=new Date().toISOString(),s=RY[e];if(s)console[s].apply(console,ti(["["+i+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},Dc=function(){function t(e){this.name=e,this._logLevel=NY,this._logHandler=OY,this._userLogHandler=null,vb.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Me))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?Jk[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,Me.DEBUG],e)),this._logHandler.apply(this,ti([this,Me.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,Me.VERBOSE],e)),this._logHandler.apply(this,ti([this,Me.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,Me.INFO],e)),this._logHandler.apply(this,ti([this,Me.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,Me.WARN],e)),this._logHandler.apply(this,ti([this,Me.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,ti([this,Me.ERROR],e)),this._logHandler.apply(this,ti([this,Me.ERROR],e))},t}();function kY(t){vb.forEach(function(e){e.setLogLevel(t)})}function xY(t,e){for(var n=function(a){var c=null;e&&e.level&&(c=Jk[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(l,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var m=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(c??l.logLevel)&&t({level:Me[h].toLowerCase(),message:m,args:d,type:l.name})}},r=0,i=vb;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o,PY=($o={},$o["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",$o["bad-app-name"]="Illegal App name: '{$appName}",$o["duplicate-app"]="Firebase App named '{$appName}' already exists",$o["app-deleted"]="Firebase App named '{$appName}' already deleted",$o["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",$o["invalid-log-argument"]="First argument to `onLog` must be null or a function.",$o),xu=new As("app","Firebase",PY),Zk="@firebase/app",DY="0.6.14",MY="@firebase/analytics",LY="@firebase/auth",FY="@firebase/database",UY="@firebase/functions",jY="@firebase/installations",VY="@firebase/messaging",BY="@firebase/performance",qY="@firebase/remote-config",WY="@firebase/storage",HY="@firebase/firestore",GY="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn,kp="[DEFAULT]",YY=(Hn={},Hn[Zk]="fire-core",Hn[MY]="fire-analytics",Hn[LY]="fire-auth",Hn[FY]="fire-rtdb",Hn[UY]="fire-fn",Hn[jY]="fire-iid",Hn[VY]="fire-fcm",Hn[BY]="fire-perf",Hn[qY]="fire-rc",Hn[WY]="fire-gcs",Hn[HY]="fire-fst",Hn["fire-js"]="fire-js",Hn[GY]="fire-js-all",Hn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oc=new Dc("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sp=function(){function t(e,n,r){var i,s,a=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=Gk(e),this.container=new Xk(n.name),this._addComponent(new vr("app",function(){return a},"PUBLIC"));try{for(var c=Ft(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var h=l.value;this._addComponent(h)}}catch(d){i={error:d}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){return n===void 0&&(n=kp),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=kp),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){oc.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw xu.create("app-deleted",{appName:this.name_})},t}();sp.prototype.name&&sp.prototype.options||sp.prototype.delete||console.log("dc");var $Y="8.2.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t){var e={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:kY,onLog:d,apps:null,SDK_VERSION:$Y,INTERNAL:{registerComponent:l,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:c});function i(m){delete e[m]}function s(m){if(m=m||kp,!pr(e,m))throw xu.create("no-app",{appName:m});return e[m]}s.App=t;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var E=y;E.name===void 0&&(E.name=kp);var T=E.name;if(typeof T!="string"||!T)throw xu.create("bad-app-name",{appName:String(T)});if(pr(e,T))throw xu.create("duplicate-app",{appName:T});var A=new t(m,E,r);return e[T]=A,A}function c(){return Object.keys(e).map(function(m){return e[m]})}function l(m){var y,b,E=m.name;if(n.has(E))return oc.debug("There were multiple attempts to register component "+E+"."),m.type==="PUBLIC"?r[E]:null;if(n.set(E,m),m.type==="PUBLIC"){var T=function(U){if(U===void 0&&(U=s()),typeof U[E]!="function")throw xu.create("invalid-app-argument",{appName:E});return U[E]()};m.serviceProps!==void 0&&Tf(T,m.serviceProps),r[E]=T,t.prototype[E]=function(){for(var U=[],X=0;X<arguments.length;X++)U[X]=arguments[X];var j=this._getService.bind(this,E);return j.apply(this,m.multipleInstances?U:[])}}try{for(var A=Ft(Object.keys(e)),x=A.next();!x.done;x=A.next()){var M=x.value;e[M]._addComponent(m)}}catch(U){y={error:U}}finally{try{x&&!x.done&&(b=A.return)&&b.call(A)}finally{if(y)throw y.error}}return m.type==="PUBLIC"?r[E]:null}function h(m,y,b){var E,T=(E=YY[m])!==null&&E!==void 0?E:m;b&&(T+="-"+b);var A=T.match(/\s|\//),x=y.match(/\s|\//);if(A||x){var M=['Unable to register library "'+T+'" with version "'+y+'":'];A&&M.push('library name "'+T+'" contains illegal characters (whitespace or "/")'),A&&x&&M.push("and"),x&&M.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),oc.warn(M.join(" "));return}l(new vr(T+"-version",function(){return{library:T,version:y}},"VERSION"))}function d(m,y){if(m!==null&&typeof m!="function")throw xu.create("invalid-log-argument",{appName:name});xY(m,y)}function v(m,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(){var t=zY(sp);t.INTERNAL=ht(ht({},t.INTERNAL),{createFirebaseNamespace:ex,extendNamespace:e,createSubscribe:yY,ErrorFactory:As,deepExtend:Tf});function e(n){Tf(t,n)}return t}var gb=ex();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KY=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(QY(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},t}();function QY(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XY(t,e){t.INTERNAL.registerComponent(new vr("platform-logger",function(n){return new KY(n)},"PRIVATE")),t.registerVersion(Zk,DY,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(aY()&&self.firebase!==void 0){oc.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var sA=self.firebase.SDK_VERSION;sA&&sA.indexOf("LITE")>=0&&oc.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var JY=gb.initializeApp;gb.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return sY()&&oc.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),JY.apply(void 0,t)};var le=gb;XY(le);(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var g=o[p];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&e(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(w){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{w(I.resolve,I.reject)}catch(F){I.reject(F)}}function f(){this.a=null}function p(w){return w instanceof u?w:new u(function(I){I(w)})}if(o)return o;f.prototype.b=function(w){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(w)};var g=r.setTimeout;f.prototype.c=function(w){g(w,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var I=0;I<w.length;++I){var F=w[I];w[I]=null;try{F()}catch(W){this.f(W)}}}this.a=null},f.prototype.f=function(w){this.c(function(){throw w})},u.prototype.f=function(){function w(W){return function(Se){F||(F=!0,W.call(I,Se))}}var I=this,F=!1;return{resolve:w(this.m),reject:w(this.g)}},u.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof u)this.s(w);else{e:switch(typeof w){case"object":var I=w!=null;break e;case"function":I=!0;break e;default:I=!1}I?this.v(w):this.h(w)}},u.prototype.v=function(w){var I=void 0;try{I=w.then}catch(F){this.g(F);return}typeof I=="function"?this.u(I,w):this.h(w)},u.prototype.g=function(w){this.i(2,w)},u.prototype.h=function(w){this.i(1,w)},u.prototype.i=function(w,I){if(this.b!=0)throw Error("Cannot settle("+w+", "+I+"): Promise already settled in state"+this.b);this.b=w,this.c=I,this.l()},u.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)_.b(this.a[w]);this.a=null}};var _=new f;return u.prototype.s=function(w){var I=this.f();w.Qa(I.resolve,I.reject)},u.prototype.u=function(w,I){var F=this.f();try{w.call(I,F.resolve,F.reject)}catch(W){F.reject(W)}},u.prototype.then=function(w,I){function F(Qe,ln){return typeof Qe=="function"?function(io){try{W(Qe(io))}catch(Xy){Se(Xy)}}:ln}var W,Se,rt=new u(function(Qe,ln){W=Qe,Se=ln});return this.Qa(F(w,W),F(I,Se)),rt},u.prototype.catch=function(w){return this.then(void 0,w)},u.prototype.Qa=function(w,I){function F(){switch(W.b){case 1:w(W.c);break;case 2:I(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?_.b(F):this.a.push(F)},u.resolve=p,u.reject=function(w){return new u(function(I,F){F(w)})},u.race=function(w){return new u(function(I,F){for(var W=a(w),Se=W.next();!Se.done;Se=W.next())p(Se.value).Qa(I,F)})},u.all=function(w){var I=a(w),F=I.next();return F.done?p([]):new u(function(W,Se){function rt(io){return function(Xy){Qe[io]=Xy,ln--,ln==0&&W(Qe)}}var Qe=[],ln=0;do Qe.push(void 0),ln++,p(F.value).Qa(rt(Qe.length-1),Se),F=I.next();while(!F.done)})},u});var c=c||{},l=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function b(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function T(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function A(o){return Object.prototype.hasOwnProperty.call(o,x)&&o[x]||(o[x]=++M)}var x="closure_uid_"+(1e9*Math.random()>>>0),M=0;function U(o,u,f){return o.call.apply(o.bind,arguments)}function X(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function j(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=U:j=X,j.apply(null,arguments)}function Te(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}var nt=Date.now;function de(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function gn(o){return o}function O(o,u,f){this.code=Sn+o,this.message=u||Ps[o]||"",this.a=f||null}de(O,Error),O.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},O.prototype.toJSON=function(){return this.w()};function bi(o){var u=o&&o.code;return u?new O(u.substring(Sn.length),o.message,o.serverResponse):null}var Sn="auth/",Ps={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Ei={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function yt(o){for(var u in Ei)if(Ei[u].id===o)return o=Ei[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var Ge;Ge=yt("__EID__")?"__EID__":void 0;function Ye(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function St(o){if(Error.captureStackTrace)Error.captureStackTrace(this,St);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}de(St,Error),St.prototype.name="CustomError";function Dr(o,u){o=o.split("%s");for(var f="",p=o.length-1,g=0;g<p;g++)f+=o[g]+(g<u.length?u[g]:"%s");St.call(this,f+o[p])}de(Dr,St),Dr.prototype.name="AssertionError";function mn(o,u){throw new Dr("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function an(o,u){this.c=o,this.f=u,this.b=0,this.a=null}an.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function Xi(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function Ji(){this.b=this.a=null}var Ds=new an(function(){return new V},function(o){o.reset()});Ji.prototype.add=function(o,u){var f=Ds.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function un(){var o=UT,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function V(){this.next=this.b=this.a=null}V.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},V.prototype.reset=function(){this.next=this.b=this.a=null};var oe=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},H=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,g=typeof o=="string"?o.split(""):o,_=0;_<p;_++)_ in g&&u.call(f,g[_],_,o)};function pe(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var Ke=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],g=0,_=typeof o=="string"?o.split(""):o,w=0;w<f;w++)if(w in _){var I=_[w];u.call(void 0,I,w,o)&&(p[g++]=I)}return p},S=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),g=typeof o=="string"?o.split(""):o,_=0;_<f;_++)_ in g&&(p[_]=u.call(void 0,g[_],_,o));return p},C=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o))return!0;return!1};function k(o){e:{for(var u=y2,f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function L(o,u){return 0<=oe(o,u)}function B(o,u){u=oe(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function q(o,u){var f=0;pe(o,function(p,g){u.call(void 0,p,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function ne(o){return Array.prototype.concat.apply([],arguments)}function z(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var Z=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Y=/&/g,ge=/</g,ce=/>/g,me=/"/g,Ie=/'/g,De=/\x00/g,at=/[\x00&<>"']/;function ye(o,u){return o.indexOf(u)!=-1}function _t(o,u){return o<u?-1:o>u?1:0}var cn;e:{var Zi=l.navigator;if(Zi){var $c=Zi.userAgent;if($c){cn=$c;break e}}cn=""}function dt(o){return ye(cn,o)}function zc(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function xt(o){for(var u in o)return!1;return!0}function Kt(o){var u={},f;for(f in o)u[f]=o[f];return u}var Kc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nr(o,u){for(var f,p,g=1;g<arguments.length;g++){p=arguments[g];for(f in p)o[f]=p[f];for(var _=0;_<Kc.length;_++)f=Kc[_],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function yT(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||l,p.Element&&p.Location){var g=p;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(T(o))try{var _=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{_="<object could not be stringified>"}else _=o===void 0?"undefined":o===null?"null":typeof o;mn("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,_)}}function Ti(o,u){this.a=o===Ch&&u||"",this.b=_T}Ti.prototype.sa=!0,Ti.prototype.ra=function(){return this.a},Ti.prototype.toString=function(){return"Const{"+this.a+"}"};function Cg(o){return o instanceof Ti&&o.constructor===Ti&&o.b===_T?o.a:(mn("expected object of type Const, got '"+o+"'"),"type_error:Const")}var _T={},Ch={},Ah;function wT(){if(Ah===void 0){var o=null,u=l.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:gn,createScript:gn,createScriptURL:gn})}catch(f){l.console&&l.console.error(f.message)}Ah=o}else Ah=o}return Ah}function Ka(o,u){this.a=u===ET?o:""}Ka.prototype.sa=!0,Ka.prototype.ra=function(){return this.a.toString()},Ka.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function bT(o){return o instanceof Ka&&o.constructor===Ka?o.a:(mn("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function Ag(o,u){var f=Cg(o);if(!zL.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace($L,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof Ti?Cg(p):encodeURIComponent(String(p))}),KL(o)}var $L=/%{(\w+)}/g,zL=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ET={};function KL(o){var u=wT();return o=u?u.createScriptURL(o):o,new Ka(o,ET)}function rr(o,u){this.a=u===Qc?o:""}rr.prototype.sa=!0,rr.prototype.ra=function(){return this.a.toString()},rr.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Nh(o){return o instanceof rr&&o.constructor===rr?o.a:(mn("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var QL=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,XL=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,TT=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function IT(o){if(o instanceof rr)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),TT.test(o))o=new rr(o,Qc);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(XL);o=u&&QL.test(u[1])?new rr(o,Qc):null}return o}function ST(o){return o instanceof rr?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),TT.test(o)||(o="about:invalid#zClosurez"),new rr(o,Qc))}var Qc={},CT=new rr("about:invalid#zClosurez",Qc);function Qa(o,u,f){this.a=f===AT?o:""}Qa.prototype.sa=!0,Qa.prototype.ra=function(){return this.a.toString()},Qa.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function JL(o){return o instanceof Qa&&o.constructor===Qa?o.a:(mn("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var AT={};function ZL(o,u){yT(o,"HTMLScriptElement"),o.src=bT(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=l?u=v(u.document):(d===null&&(d=v(l.document)),u=d),u&&o.setAttribute("nonce",u)}function NT(o,u,f,p){return o=o instanceof rr?o:ST(o),u=u||l,f=f instanceof Ti?Cg(f):f||"",u.open(Nh(o),f,p,void 0)}function RT(o,u){for(var f=o.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)p+=f.shift()+g.shift();return p+f.join("%s")}function Ng(o){return at.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(Y,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(ge,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(ce,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(me,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Ie,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(De,"&#0;"))),o}function Rg(o){return Rg[" "](o),o}Rg[" "]=m;function eF(o,u){var f=iF;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var tF=dt("Opera"),zr=dt("Trident")||dt("MSIE"),OT=dt("Edge"),nF=OT||zr,kT=dt("Gecko")&&!(ye(cn.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),rF=ye(cn.toLowerCase(),"webkit")&&!dt("Edge");function xT(){var o=l.document;return o?o.documentMode:void 0}var Rh;e:{var Og="",kg=function(){var o=cn;if(kT)return/rv:([^\);]+)(\)|;)/.exec(o);if(OT)return/Edge\/([\d\.]+)/.exec(o);if(zr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(rF)return/WebKit\/(\S+)/.exec(o);if(tF)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(kg&&(Og=kg?kg[1]:""),zr){var xg=xT();if(xg!=null&&xg>parseFloat(Og)){Rh=String(xg);break e}}Rh=Og}var iF={};function PT(o){return eF(o,function(){for(var u=0,f=Z(String(Rh)).split("."),p=Z(String(o)).split("."),g=Math.max(f.length,p.length),_=0;u==0&&_<g;_++){var w=f[_]||"",I=p[_]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],w[0].length==0&&I[0].length==0)break;u=_t(w[1].length==0?0:parseInt(w[1],10),I[1].length==0?0:parseInt(I[1],10))||_t(w[2].length==0,I[2].length==0)||_t(w[2],I[2]),w=w[3],I=I[3]}while(u==0)}return 0<=u})}var Pg;if(l.document&&zr){var DT=xT();Pg=DT||parseInt(Rh,10)||void 0}else Pg=void 0;var Fo=Pg;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var oF=!zr||9<=Number(Fo);function Xc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function MT(o,u){zc(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:LT.hasOwnProperty(p)?o.setAttribute(LT[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var LT={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function sF(o,u,f){var p=arguments,g=document,_=String(p[0]),w=p[1];if(!oF&&w&&(w.name||w.type)){if(_=["<",_],w.name&&_.push(' name="',Ng(w.name),'"'),w.type){_.push(' type="',Ng(w.type),'"');var I={};nr(I,w),delete I.type,w=I}_.push(">"),_=_.join("")}return _=Oh(g,_),w&&(typeof w=="string"?_.className=w:Array.isArray(w)?_.className=w.join(" "):MT(_,w)),2<p.length&&aF(g,_,p),_}function aF(o,u,f){function p(I){I&&u.appendChild(typeof I=="string"?o.createTextNode(I):I)}for(var g=2;g<f.length;g++){var _=f[g];if(!b(_)||T(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(T(_)){var w=typeof _.item=="function"||typeof _.item=="string";break e}if(E(_)){w=typeof _.item=="function";break e}}w=!1}H(w?z(_):_,p)}}}function Oh(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function FT(o){l.setTimeout(function(){throw o},0)}var Dg;function uF(){var o=l.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(o=function(){var g=Oh(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var _=g.contentWindow;g=_.document,g.open(),g.close();var w="callImmediate"+Math.random(),I=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;g=j(function(F){(I=="*"||F.origin==I)&&F.data==w&&this.port1.onmessage()},this),_.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(w,I)}}}),typeof o<"u"&&!dt("Trident")&&!dt("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Gb;f.Gb=null,g()}},function(g){p.next={Gb:g},p=p.next,u.port2.postMessage(0)}}return function(g){l.setTimeout(g,0)}}function kh(o,u){xh||cF(),Mg||(xh(),Mg=!0),UT.add(o,u)}var xh;function cF(){if(l.Promise&&l.Promise.resolve){var o=l.Promise.resolve(void 0);xh=function(){o.then(jT)}}else xh=function(){var u=jT;!E(l.setImmediate)||l.Window&&l.Window.prototype&&!dt("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(Dg||(Dg=uF()),Dg(u)):l.setImmediate(u)}}var Mg=!1,UT=new Ji;function jT(){for(var o;o=un();){try{o.a.call(o.b)}catch(u){FT(u)}Xi(Ds,o)}Mg=!1}function Ue(o,u){if(this.a=Ms,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(p){Ls(f,Jc,p)},function(p){if(!(p instanceof Xa))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}Ls(f,eo,p)})}catch(p){Ls(this,eo,p)}}var Ms=0,Jc=2,eo=3;function VT(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}VT.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var BT=new an(function(){return new VT},function(o){o.reset()});function Lg(o,u,f){var p=BT.get();return p.g=o,p.b=u,p.f=f,p}function we(o){if(o instanceof Ue)return o;var u=new Ue(m);return Ls(u,Jc,o),u}function wt(o){return new Ue(function(u,f){f(o)})}function qT(o,u,f){YT(o,u,f,null)||kh(Te(u,o))}function lF(o){return new Ue(function(u,f){var p=o.length,g=[];if(p)for(var _=function(W,Se){p--,g[W]=Se,p==0&&u(g)},w=function(W){f(W)},I=0,F;I<o.length;I++)F=o[I],qT(F,Te(_,I),w);else u(g)})}function WT(o){return new Ue(function(u){var f=o.length,p=[];if(f)for(var g=function(I,F,W){f--,p[I]=F?{Pb:!0,value:W}:{Pb:!1,reason:W},f==0&&u(p)},_=0,w;_<o.length;_++)w=o[_],qT(w,Te(g,_,!0),Te(g,_,!1));else u(p)})}Ue.prototype.then=function(o,u,f){return GT(this,E(o)?o:null,E(u)?u:null,f)},Ue.prototype.$goog_Thenable=!0,t=Ue.prototype,t.oa=function(o,u){return o=Lg(o,o,u),o.c=!0,Fg(this,o),this},t.o=function(o,u){return GT(this,null,o,u)},t.cancel=function(o){if(this.a==Ms){var u=new Xa(o);kh(function(){HT(this,u)},this)}};function HT(o,u){if(o.a==Ms)if(o.c){var f=o.c;if(f.b){for(var p=0,g=null,_=null,w=f.b;w&&(w.c||(p++,w.a==o&&(g=w),!(g&&1<p)));w=w.next)g||(_=w);g&&(f.a==Ms&&p==1?HT(f,u):(_?(p=_,p.next==f.f&&(f.f=p),p.next=p.next.next):zT(f),KT(f,g,eo,u)))}o.c=null}else Ls(o,eo,u)}function Fg(o,u){o.b||o.a!=Jc&&o.a!=eo||$T(o),o.f?o.f.next=u:o.b=u,o.f=u}function GT(o,u,f,p){var g=Lg(null,null,null);return g.a=new Ue(function(_,w){g.g=u?function(I){try{var F=u.call(p,I);_(F)}catch(W){w(W)}}:_,g.b=f?function(I){try{var F=f.call(p,I);F===void 0&&I instanceof Xa?w(I):_(F)}catch(W){w(W)}}:w}),g.a.c=o,Fg(o,g),g.a}t.$c=function(o){this.a=Ms,Ls(this,Jc,o)},t.ad=function(o){this.a=Ms,Ls(this,eo,o)};function Ls(o,u,f){o.a==Ms&&(o===f&&(u=eo,f=new TypeError("Promise cannot resolve to itself")),o.a=1,YT(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,$T(o),u!=eo||f instanceof Xa||hF(o,f)))}function YT(o,u,f,p){if(o instanceof Ue)return Fg(o,Lg(u||m,f||null,p)),!0;if(Ye(o))return o.then(u,f,p),!0;if(T(o))try{var g=o.then;if(E(g))return fF(o,g,u,f,p),!0}catch(_){return f.call(p,_),!0}return!1}function fF(o,u,f,p,g){function _(F){I||(I=!0,p.call(g,F))}function w(F){I||(I=!0,f.call(g,F))}var I=!1;try{u.call(o,w,_)}catch(F){_(F)}}function $T(o){o.h||(o.h=!0,kh(o.gc,o))}function zT(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}t.gc=function(){for(var o;o=zT(this);)KT(this,o,this.a,this.i);this.h=!1};function KT(o,u,f,p){if(f==eo&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,QT(u,f,p);else try{u.c?u.g.call(u.f):QT(u,f,p)}catch(g){XT.call(null,g)}Xi(BT,u)}function QT(o,u,f){u==Jc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function hF(o,u){o.g=!0,kh(function(){o.g&&XT.call(null,u)})}var XT=FT;function Xa(o){St.call(this,o)}de(Xa,St),Xa.prototype.name="cancel";function Ph(){this.xa=this.xa,this.pa=this.pa}var dF=0;Ph.prototype.xa=!1;function JT(o){!o.xa&&(o.xa=!0,o.Da(),dF!=0)&&A(o)}Ph.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var pF=Object.freeze||function(o){return o},ZT=!zr||9<=Number(Fo),vF=zr&&!PT("9"),gF=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{l.addEventListener("test",m,u),l.removeEventListener("test",m,u)}catch{}return o}();function ir(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}ir.prototype.preventDefault=function(){this.defaultPrevented=!0};function Fs(o,u){if(ir.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(kT){e:{try{Rg(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:mF[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}de(Fs,ir);var mF=pF({2:"touch",3:"pen",4:"mouse"});Fs.prototype.preventDefault=function(){Fs.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,vF)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},Fs.prototype.g=function(){return this.a};var Zc="closure_listenable_"+(1e6*Math.random()|0),yF=0;function _F(o,u,f,p,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Va=g,this.key=++yF,this.va=this.Pa=!1}function Dh(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function Mh(o){this.src=o,this.a={},this.b=0}Mh.prototype.add=function(o,u,f,p,g){var _=o.toString();o=this.a[_],o||(o=this.a[_]=[],this.b++);var w=jg(o,u,p,g);return-1<w?(u=o[w],f||(u.Pa=!1)):(u=new _F(u,this.src,_,!!p,g),u.Pa=f,o.push(u)),u};function Ug(o,u){var f=u.type;f in o.a&&B(o.a[f],u)&&(Dh(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function jg(o,u,f,p){for(var g=0;g<o.length;++g){var _=o[g];if(!_.va&&_.listener==u&&_.capture==!!f&&_.Va==p)return g}return-1}var Vg="closure_lm_"+(1e6*Math.random()|0),Bg={};function Mr(o,u,f,p,g){if(p&&p.once)qg(o,u,f,p,g);else if(Array.isArray(u))for(var _=0;_<u.length;_++)Mr(o,u[_],f,p,g);else f=Hg(f),o&&o[Zc]?oI(o,u,f,T(p)?!!p.capture:!!p,g):eI(o,u,f,!1,p,g)}function eI(o,u,f,p,g,_){if(!u)throw Error("Invalid event type");var w=T(g)?!!g.capture:!!g,I=Lh(o);if(I||(o[Vg]=I=new Mh(o)),f=I.add(u,f,p,w,_),!f.proxy)if(p=wF(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)gF||(g=w),g===void 0&&(g=!1),o.addEventListener(u.toString(),p,g);else if(o.attachEvent)o.attachEvent(nI(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function wF(){var o=bF,u=ZT?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function qg(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)qg(o,u[_],f,p,g);else f=Hg(f),o&&o[Zc]?Gg(o,u,f,T(p)?!!p.capture:!!p,g):eI(o,u,f,!0,p,g)}function _r(o,u,f,p,g){if(Array.isArray(u))for(var _=0;_<u.length;_++)_r(o,u[_],f,p,g);else p=T(p)?!!p.capture:!!p,f=Hg(f),o&&o[Zc]?(o=o.v,u=String(u).toString(),u in o.a&&(_=o.a[u],f=jg(_,f,p,g),-1<f&&(Dh(_[f]),Array.prototype.splice.call(_,f,1),_.length==0&&(delete o.a[u],o.b--)))):o&&(o=Lh(o))&&(u=o.a[u.toString()],o=-1,u&&(o=jg(u,f,p,g)),(f=-1<o?u[o]:null)&&tI(f))}function tI(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[Zc])Ug(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(nI(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=Lh(u))?(Ug(f,o),f.b==0&&(f.src=null,u[Vg]=null)):Dh(o)}}}function nI(o){return o in Bg?Bg[o]:Bg[o]="on"+o}function rI(o,u,f,p){var g=!0;if((o=Lh(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var _=u[o];_&&_.capture==f&&!_.va&&(_=iI(_,p),g=g&&_!==!1)}return g}function iI(o,u){var f=o.listener,p=o.Va||o.src;return o.Pa&&tI(o),f.call(p,u)}function bF(o,u){if(o.va)return!0;if(!ZT){if(!u)e:{u=["window","event"];for(var f=l,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new Fs(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(o=o.type,g=p.length-1;0<=g;g--){u.b=p[g];var _=rI(p[g],o,!0,u);f=f&&_}for(g=0;g<p.length;g++)u.b=p[g],_=rI(p[g],o,!1,u),f=f&&_}return f}return iI(o,new Fs(u,this))}function Lh(o){return o=o[Vg],o instanceof Mh?o:null}var Wg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hg(o){return E(o)?o:(o[Wg]||(o[Wg]=function(u){return o.handleEvent(u)}),o[Wg])}function qn(){Ph.call(this),this.v=new Mh(this),this.ac=this,this.gb=null}de(qn,Ph),qn.prototype[Zc]=!0,qn.prototype.addEventListener=function(o,u,f,p){Mr(this,o,u,f,p)},qn.prototype.removeEventListener=function(o,u,f,p){_r(this,o,u,f,p)},qn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var p=o.type||o;if(typeof o=="string")o=new ir(o,f);else if(o instanceof ir)o.target=o.target||f;else{var g=o;o=new ir(p,f),nr(o,g)}if(g=!0,u)for(var _=u.length-1;0<=_;_--){var w=o.b=u[_];g=Fh(w,p,!0,o)&&g}if(w=o.b=f,g=Fh(w,p,!0,o)&&g,g=Fh(w,p,!1,o)&&g,u)for(_=0;_<u.length;_++)w=o.b=u[_],g=Fh(w,p,!1,o)&&g;return g},qn.prototype.Da=function(){if(qn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)Dh(f[p]);delete o.a[u],o.b--}}this.gb=null};function oI(o,u,f,p,g){o.v.add(String(u),f,!1,p,g)}function Gg(o,u,f,p,g){o.v.add(String(u),f,!0,p,g)}function Fh(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,_=0;_<u.length;++_){var w=u[_];if(w&&!w.va&&w.capture==f){var I=w.listener,F=w.Va||w.src;w.Pa&&Ug(o.v,w),g=I.call(F,p)!==!1&&g}}return g&&!p.defaultPrevented}function Yg(o,u,f){if(E(o))f&&(o=j(o,f));else if(o&&typeof o.handleEvent=="function")o=j(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function Ja(o){var u=null;return new Ue(function(f,p){u=Yg(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw l.clearTimeout(u),f})}function sI(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(b(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function aI(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(b(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function EF(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(b(o)||typeof o=="string")H(o,u,void 0);else for(var f=aI(o),p=sI(o),g=p.length,_=0;_<g;_++)u.call(void 0,p[_],f&&f[_],o)}function Za(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Za)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}t=Za.prototype,t.W=function(){$g(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},t.Y=function(){return $g(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function $g(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];Us(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)p=o.a[u],Us(g,p)||(o.a[f++]=p,g[p]=1),u++;o.a.length=f}}t.get=function(o,u){return Us(this.b,o)?this.b[o]:u},t.set=function(o,u){Us(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},t.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var g=f[p],_=this.get(g);o.call(u,_,g,this)}};function Us(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var uI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function TF(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),g=null;if(0<=p){var _=o[f].substring(0,p);g=o[f].substring(p+1)}else _=o[f];u(_,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Uo(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Uo?(this.i=u!==void 0?u:o.i,el(this,o.c),this.l=o.l,this.a=o.a,tl(this,o.g),this.f=o.f,zg(this,hI(o.b)),this.h=o.h):o&&(f=String(o).match(uI))?(this.i=!!u,el(this,f[1]||"",!0),this.l=nl(f[2]||""),this.a=nl(f[3]||"",!0),tl(this,f[4]),this.f=nl(f[5]||"",!0),zg(this,f[6]||"",!0),this.h=nl(f[7]||"")):(this.i=!!u,this.b=new js(null,this.i))}Uo.prototype.toString=function(){var o=[],u=this.c;u&&o.push(rl(u,cI,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(rl(u,cI,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(rl(f,f.charAt(0)=="/"?CF:SF,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",rl(f,NF)),o.join("")},Uo.prototype.resolve=function(o){var u=new Uo(this),f=!!o.c;f?el(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)tl(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(ye(g,"./")||ye(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var _=[],w=0;w<g.length;){var I=g[w++];I=="."?p&&w==g.length&&_.push(""):I==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&w==g.length&&_.push("")):(_.push(I),p=!0)}p=_.join("/")}else p=g}return f?u.f=p:f=o.b.toString()!=="",f?zg(u,hI(o.b)):f=!!o.h,f&&(u.h=o.h),u};function el(o,u,f){o.c=f?nl(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function tl(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function zg(o,u,f){u instanceof js?(o.b=u,RF(o.b,o.i)):(f||(u=rl(u,AF)),o.b=new js(u,o.i))}function Pt(o,u,f){o.b.set(u,f)}function Lr(o,u){return o.b.get(u)}function or(o){return o instanceof Uo?new Uo(o):new Uo(o,void 0)}function Uh(o,u,f,p){var g=new Uo(null,void 0);return o&&el(g,o),u&&(g.a=u),f&&tl(g,f),p&&(g.f=p),g}function nl(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function rl(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,IF),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function IF(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var cI=/[#\/\?@]/g,SF=/[#\?:]/g,CF=/[#\?]/g,AF=/[#\?@]/g,NF=/#/g;function js(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function jo(o){o.a||(o.a=new Za,o.b=0,o.c&&TF(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function lI(o){var u=aI(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new js(null,void 0);o=sI(o);for(var p=0;p<u.length;p++){var g=u[p],_=o[p];Array.isArray(_)?fI(f,g,_):f.add(g,_)}return f}t=js.prototype,t.add=function(o,u){jo(this),this.c=null,o=eu(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Ii(o,u){jo(o),u=eu(o,u),Us(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,Us(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&$g(o)))}t.clear=function(){this.a=this.c=null,this.b=0};function Kg(o,u){return jo(o),u=eu(o,u),Us(o.a.b,u)}t.forEach=function(o,u){jo(this),this.a.forEach(function(f,p){H(f,function(g){o.call(u,g,p,this)},this)},this)},t.Y=function(){jo(this);for(var o=this.a.W(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var g=o[p],_=0;_<g.length;_++)f.push(u[p]);return f},t.W=function(o){jo(this);var u=[];if(typeof o=="string")Kg(this,o)&&(u=ne(u,this.a.get(eu(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=ne(u,o[f])}return u},t.set=function(o,u){return jo(this),this.c=null,o=eu(this,o),Kg(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},t.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function fI(o,u,f){Ii(o,u),0<f.length&&(o.c=null,o.a.set(eu(o,u),z(f)),o.b+=f.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],g=encodeURIComponent(String(p));p=this.W(p);for(var _=0;_<p.length;_++){var w=g;p[_]!==""&&(w+="="+encodeURIComponent(String(p[_]))),o.push(w)}}return this.c=o.join("&")};function hI(o){var u=new js;return u.c=o.c,o.a&&(u.a=new Za(o.a),u.b=o.b),u}function eu(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function RF(o,u){u&&!o.f&&(jo(o),o.c=null,o.a.forEach(function(f,p){var g=p.toLowerCase();p!=g&&(Ii(this,p),fI(this,g,f))},o)),o.f=u}function dI(o){var u=[];return Qg(new OF,o,u),u.join("")}function OF(){}function Qg(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var g="",_=0;_<u;_++)f.push(g),Qg(o,p[_],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(_=u[p],typeof _!="function"&&(f.push(g),vI(p,f),f.push(":"),Qg(o,_,f),g=","));f.push("}");return}}switch(typeof u){case"string":vI(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var pI={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},kF=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function vI(o,u){u.push('"',o.replace(kF,function(f){var p=pI[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),pI[f]=p),p}),'"')}function Xg(){var o=yn();return zr&&!!Fo&&Fo==11||/Edge\/\d+/.test(o)}function il(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function gI(o,u){u=u||l.window;var f="about:blank";o&&(f=Nh(IT(o)||CT)),u.location.href=f}function mI(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<mI(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function xF(){var o=yn();return o=tu(o)!=bI?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!zr||!Fo||9<Fo}function yI(o){return o=(o||yn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function Vs(o){o=o||l.window;try{o.close()}catch{}}function _I(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,_=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=yn().toLowerCase(),p&&(u.target=p,ye(f,"crios/")&&(u.target="_blank")),tu(yn())==em&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof rr?f:IT(typeof f.href<"u"?f.href:String(f))||CT,f=o.target||f.target,g=[];for(w in o)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+o[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(o[w]?1:0))}var w=g.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(w=Oh(document,"A"),yT(w,"HTMLAnchorElement"),u=u instanceof rr?u:ST(u),w.href=Nh(u),w.setAttribute("target",f),o.noreferrer&&w.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),w.dispatchEvent(o),w={}):o.noreferrer?(w=NT("",p,f,w),o=Nh(u),w&&(nF&&ye(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),w.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ng(o)+'">',o=(p=wT())?p.createHTML(o):o,o=new Qa(o,null,AT),p=w.document)&&(p.write(JL(o)),p.close())):(w=NT(u,p,f,w))&&o.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function PF(o){return new Ue(function(u){function f(){Ja(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var DF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MF=/^[^@]+@[^@]+$/;function jh(){var o=null;return new Ue(function(u){l.document.readyState=="complete"?u():(o=function(){u()},qg(window,"load",o))}).o(function(u){throw _r(window,"load",o),u})}function LF(){return Jg(void 0)?jh().then(function(){return new Ue(function(o,u){var f=l.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):wt(Error("Cordova must run in an Android or iOS file scheme."))}function Jg(o){return o=o||yn(),!(ru()!=="file:"&&ru()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zg(){var o=l.window;try{return!(!o||o==o.top)}catch{return!1}}function Kr(){return typeof l.WorkerGlobalScope<"u"&&typeof l.importScripts=="function"}function Si(){return le.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":le.INTERNAL.hasOwnProperty("node")?"Node":Kr()?"Worker":"Browser"}function wI(){var o=Si();return o==="ReactNative"||o==="Node"}function FF(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var em="Firefox",bI="Chrome";function tu(o){var u=o.toLowerCase();if(ye(u,"opera/")||ye(u,"opr/")||ye(u,"opios/"))return"Opera";if(ye(u,"iemobile"))return"IEMobile";if(ye(u,"msie")||ye(u,"trident/"))return"IE";if(ye(u,"edge/"))return"Edge";if(ye(u,"firefox/"))return em;if(ye(u,"silk/"))return"Silk";if(ye(u,"blackberry"))return"Blackberry";if(ye(u,"webos"))return"Webos";if(!ye(u,"safari/")||ye(u,"chrome/")||ye(u,"crios/")||ye(u,"android"))if(!ye(u,"chrome/")&&!ye(u,"crios/")||ye(u,"edge/")){if(ye(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return bI;else return"Safari";return"Other"}var EI={md:"FirebaseCore-web",od:"FirebaseUI-web"};function nu(o,u){u=u||[];var f=[],p={},g;for(g in EI)p[EI[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Si(),f==="Browser"?(p=yn(),f=tu(p)):f==="Worker"&&(p=yn(),f=tu(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function yn(){return l.navigator&&l.navigator.userAgent||""}function bt(o,u){o=o.split("."),u=u||l;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function tm(){try{var o=l.localStorage,u=qs();if(o)return o.setItem(u,"1"),o.removeItem(u),Xg()?!!l.indexedDB:!0}catch{return Kr()&&!!l.indexedDB}return!1}function Bs(){return(Vh()||ru()==="chrome-extension:"||Jg())&&!wI()&&tm()&&!Kr()}function Vh(){return ru()==="http:"||ru()==="https:"}function ru(){return l.location&&l.location.protocol||null}function ol(o){return o=o||yn(),!(yI(o)||tu(o)==em)}function sl(o){return typeof o>"u"?null:dI(o)}function TI(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function iu(o){if(o!==null)return JSON.parse(o)}function qs(o){return o||Math.floor(1e9*Math.random()).toString()}function II(o){return o=o||yn(),!(tu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function SI(){var o=l.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function Vo(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=yn(),u=Si(),this.b=yI(o)||u==="ReactNative"}Vo.prototype.get=function(){var o=l.navigator;return!(o&&typeof o.onLine=="boolean"&&(Vh()||ru()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function nm(){var o=l.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function UF(){var o=l.document,u=null;return nm()||!o?we():new Ue(function(f){u=function(){nm()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function al(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function CI(){return!(!bt("fireauth.oauthhelper",l)&&!bt("fireauth.iframe",l))}function jF(){var o=l.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function VF(){var o=l.navigator;return o&&o.serviceWorker?we().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):we(null)}var AI={};function rm(o){AI[o]||(AI[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var im;try{var om={};Object.defineProperty(om,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(om,"abcd",{configurable:!0,enumerable:!0,value:2}),im=om.abcd==2}catch{im=!1}function ue(o,u,f){im?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Wn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ue(o,f,u[f])}function Ci(o){var u={};return Wn(u,o),u}function BF(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function qF(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function sm(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ue(u,f,sm(o[f]))}return u}function am(o){var u=o&&(o[fm]?"phone":null);if(u&&o&&o[lm]){ue(this,"uid",o[lm]),ue(this,"displayName",o[NI]||null);var f=null;o[cm]&&(f=new Date(o[cm]).toUTCString()),ue(this,"enrollmentTime",f),ue(this,"factorId",u)}else throw new O("internal-error","Internal assert: invalid MultiFactorInfo object")}am.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function um(o){try{var u=new ul(o)}catch{u=null}return u}var NI="displayName",cm="enrolledAt",lm="mfaEnrollmentId",fm="phoneInfo";function ul(o){am.call(this,o),ue(this,"phoneNumber",o[fm])}de(ul,am),ul.prototype.w=function(){var o=ul.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function WF(o){var u={},f=o[HF],p=o[YF],g=o[$F];if(o=um(o[GF]),!g||g!=Bh&&g!=cl&&!f||g==cl&&!p||g==hm&&!o)throw Error("Invalid checkActionCode response!");g==cl?(u[OI]=f||null,u[kI]=f||null,u[RI]=p):(u[OI]=p||null,u[kI]=p||null,u[RI]=f||null),u[zF]=o||null,ue(this,QF,g),ue(this,KF,sm(u))}var hm="REVERT_SECOND_FACTOR_ADDITION",Bh="EMAIL_SIGNIN",cl="VERIFY_AND_CHANGE_EMAIL",HF="email",GF="mfaInfo",YF="newEmail",$F="requestType",RI="email",OI="fromEmail",zF="multiFactorInfo",kI="previousEmail",KF="data",QF="operation";function dm(o){o=or(o);var u=Lr(o,xI)||null,f=Lr(o,PI)||null,p=Lr(o,DI)||null;if(p=p&&e2[p]||null,!u||!f||!p)throw new O("argument-error",xI+", "+PI+"and "+DI+" are required in a valid action code URL.");Wn(this,{apiKey:u,operation:p,code:f,continueUrl:Lr(o,XF)||null,languageCode:Lr(o,JF)||null,tenantId:Lr(o,ZF)||null})}var xI="apiKey",PI="oobCode",XF="continueUrl",JF="languageCode",DI="mode",ZF="tenantId",e2={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hm,signIn:Bh,verifyAndChangeEmail:cl,verifyEmail:"VERIFY_EMAIL"};function MI(o){try{return new dm(o)}catch{return null}}function qh(o){var u=o[t2];if(typeof u>"u")throw new O("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new O("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[LI];if(f&&typeof f=="object"){u=f[BI];var p=f[jI];if(f=f[VI],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new O("argument-error",jI+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new O("argument-error",VI+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new O("argument-error",BI+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new O("missing-android-pkg-name")}}else if(typeof f<"u")throw new O("argument-error",LI+" property must be a non null object when specified.");if(this.f=null,(u=o[UI])&&typeof u=="object"){if(u=u[qI],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new O("argument-error",qI+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new O("argument-error",UI+" property must be a non null object when specified.");if(u=o[pm],typeof u<"u"&&typeof u!="boolean")throw new O("argument-error",pm+" property must be a boolean when specified.");if(this.c=!!u,o=o[FI],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new O("argument-error",FI+" property must be a non empty string when specified.");this.i=o||null}var LI="android",FI="dynamicLinkDomain",pm="handleCodeInApp",UI="iOS",t2="url",jI="installApp",VI="minimumVersion",BI="packageName",qI="bundleId";function Wh(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function n2(o){return S(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var ll=null;function r2(o){var u=[];return i2(o,function(f){u.push(f)}),u}function i2(o,u){function f(F){for(;p<o.length;){var W=o.charAt(p++),Se=ll[W];if(Se!=null)return Se;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return F}o2();for(var p=0;;){var g=f(-1),_=f(0),w=f(64),I=f(64);if(I===64&&g===-1)break;u(g<<2|_>>4),w!=64&&(u(_<<4&240|w>>2),I!=64&&u(w<<6&192|I))}}function o2(){if(!ll){ll={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),g=0;g<p.length;g++){var _=p[g];ll[_]===void 0&&(ll[_]=g)}}}function Hh(o){var u=WI(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}Hh.prototype.T=function(){return this.f},Hh.prototype.l=function(){return this.c},Hh.prototype.toString=function(){return this.h};function Gh(o){try{return new Hh(o)}catch{return null}}function WI(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=r2(o);for(o=[],f=u=0;u<p.length;){var g=p[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var _=p[u++];o[f++]=String.fromCharCode((g&31)<<6|_&63)}else if(239<g&&365>g){_=p[u++];var w=p[u++],I=p[u++],F=((g&7)<<18|(_&63)<<12|(w&63)<<6|I&63)-65536;o[f++]=String.fromCharCode(55296+(F>>10)),o[f++]=String.fromCharCode(56320+(F&1023))}else _=p[u++],w=p[u++],o[f++]=String.fromCharCode((g&15)<<12|(_&63)<<6|w&63)}return JSON.parse(o.join(""))}catch{}return null}var HI="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yh=["client_id","response_type","scope","redirect_uri","state"],vm={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Yh},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Yh},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Yh},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:HI},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function gm(o){for(var u in vm)if(vm[u].fa==o)return vm[u];return null}function GI(o){var u={};u["facebook.com"]=$I,u["google.com"]=KI,u["github.com"]=zI,u["twitter.com"]=QI;var f=o&&o[YI];try{if(f)return u[f]?new u[f](o):new Ai(o);if(typeof o[mm]<"u")return new ym(o)}catch{}return null}var mm="idToken",YI="providerId";function ym(o){var u=o[YI];if(!u&&o[mm]){var f=Gh(o[mm]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ue(this,"providerId",u),ue(this,"isNewUser",f)}function Ai(o){ym.call(this,o),o=iu(o.rawUserInfo||"{}"),ue(this,"profile",sm(o||{}))}de(Ai,ym);function $I(o){if(Ai.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}de($I,Ai);function zI(o){if(Ai.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ue(this,"username",this.profile&&this.profile.login||null)}de(zI,Ai);function KI(o){if(Ai.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}de(KI,Ai);function QI(o){if(Ai.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ue(this,"username",o.screenName||null)}de(QI,Ai);function XI(o){var u=or(o),f=Lr(u,"link"),p=Lr(or(f),"link");return u=Lr(u,"deep_link_id"),Lr(or(u),"link")||u||p||f||o}function $h(o,u){if(!o&&!u)throw new O("internal-error","Internal assert: no raw session string available");if(o&&u)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?fl:zh}var fl="enroll",zh="signin";$h.prototype.Ha=function(){return this.a?we(this.a):we(this.b)},$h.prototype.w=function(){return this.type==fl?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ou(){}ou.prototype.ka=function(){},ou.prototype.b=function(){},ou.prototype.c=function(){},ou.prototype.w=function(){};function su(o,u){return o.then(function(f){if(f[Jr]){var p=Gh(f[Jr]);if(!p||u!=p.i)throw new O("user-mismatch");return f}throw new O("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==Sn+"user-not-found"?new O("user-mismatch"):f})}function Ws(o,u){if(u)this.a=u;else throw new O("internal-error","failed to construct a credential");ue(this,"providerId",o),ue(this,"signInMethod",o)}Ws.prototype.ka=function(o){return qm(o,_m(this))},Ws.prototype.b=function(o,u){var f=_m(this);return f.idToken=u,Wm(o,f)},Ws.prototype.c=function(o,u){return su(Hm(o,_m(this)),u)};function _m(o){return{pendingToken:o.a,requestUri:"http://localhost"}}Ws.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function s2(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new Ws(o.providerId,o.pendingToken)}catch{}return null}function to(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ue(this,"idToken",u.idToken),u.accessToken&&ue(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ue(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ue(this,"accessToken",u.oauthToken),ue(this,"secret",u.oauthTokenSecret);else throw new O("internal-error","failed to construct a credential");ue(this,"providerId",o),ue(this,"signInMethod",f)}to.prototype.ka=function(o){return qm(o,wm(this))},to.prototype.b=function(o,u){var f=wm(this);return f.idToken=u,Wm(o,f)},to.prototype.c=function(o,u){var f=wm(this);return su(Hm(o,f),u)};function wm(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:lI(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}to.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function a2(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new to(o.providerId,u,o.signInMethod)}catch{}}return null}function Hs(o,u){this.Qc=u||[],Wn(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(gm(o)||{}).Ja||null,this.ob=null}Hs.prototype.Ka=function(o){return this.Ib=Kt(o),this};function JI(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');Hs.call(this,o,[])}de(JI,Hs);function wr(o){Hs.call(this,o,Yh),this.a=[]}de(wr,Hs),wr.prototype.Ca=function(o){return L(this.a,o)||this.a.push(o),this},wr.prototype.Qb=function(){return z(this.a)},wr.prototype.credential=function(o,u){var f;if(T(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new to(this.providerId,f,this.providerId)};function Gs(){wr.call(this,"facebook.com")}de(Gs,wr),ue(Gs,"PROVIDER_ID","facebook.com"),ue(Gs,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function ZI(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Gs().credential({accessToken:u})}function Ys(){wr.call(this,"github.com")}de(Ys,wr),ue(Ys,"PROVIDER_ID","github.com"),ue(Ys,"GITHUB_SIGN_IN_METHOD","github.com");function eS(o){if(!o)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return T(o)&&(u=o.accessToken),new Ys().credential({accessToken:u})}function $s(){wr.call(this,"google.com"),this.Ca("profile")}de($s,wr),ue($s,"PROVIDER_ID","google.com"),ue($s,"GOOGLE_SIGN_IN_METHOD","google.com");function tS(o,u){var f=o;return T(o)&&(f=o.idToken,u=o.accessToken),new $s().credential({idToken:f,accessToken:u})}function au(){Hs.call(this,"twitter.com",HI)}de(au,Hs),ue(au,"PROVIDER_ID","twitter.com"),ue(au,"TWITTER_SIGN_IN_METHOD","twitter.com");function nS(o,u){var f=o;if(T(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new to("twitter.com",f,"twitter.com")}function Bo(o,u,f){this.a=o,this.f=u,ue(this,"providerId","password"),ue(this,"signInMethod",f===Fr.EMAIL_LINK_SIGN_IN_METHOD?Fr.EMAIL_LINK_SIGN_IN_METHOD:Fr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Bo.prototype.ka=function(o){return this.signInMethod==Fr.EMAIL_LINK_SIGN_IN_METHOD?je(o,G2,{email:this.a,oobCode:this.f}):je(o,OS,{email:this.a,password:this.f})},Bo.prototype.b=function(o,u){return this.signInMethod==Fr.EMAIL_LINK_SIGN_IN_METHOD?je(o,Y2,{idToken:u,email:this.a,oobCode:this.f}):je(o,RS,{idToken:u,email:this.a,password:this.f})},Bo.prototype.c=function(o,u){return su(this.ka(o),u)},Bo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function u2(o){return o&&o.email&&o.password?new Bo(o.email,o.password,o.signInMethod):null}function Fr(){Wn(this,{providerId:"password",isOAuthProvider:!1})}function rS(o,u){if(u=bm(u),!u)throw new O("argument-error","Invalid email link!");return new Bo(o,u.code,Fr.EMAIL_LINK_SIGN_IN_METHOD)}function bm(o){return o=XI(o),(o=MI(o))&&o.operation===Bh?o:null}Wn(Fr,{PROVIDER_ID:"password"}),Wn(Fr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Wn(Fr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function qo(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new O("internal-error");this.a=o,ue(this,"providerId","phone"),this.fa="phone",ue(this,"signInMethod","phone")}qo.prototype.ka=function(o){return o.fb(hl(this))},qo.prototype.b=function(o,u){var f=hl(this);return f.idToken=u,je(o,hU,f)},qo.prototype.c=function(o,u){var f=hl(this);return f.operation="REAUTH",o=je(o,dU,f),su(o,u)},qo.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function c2(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new qo(u)}return null}function hl(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function no(o){try{this.a=o||le.auth()}catch{throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Wn(this,{providerId:"phone",isOAuthProvider:!1})}no.prototype.fb=function(o,u){var f=this.a.a;return we(u.verify()).then(function(p){if(typeof p!="string")throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=T(o)?o.session:null,_=T(o)?o.phoneNumber:o,w;return g&&g.type==fl?w=g.Ha().then(function(I){return L2(f,{idToken:I,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):g&&g.type==zh?w=g.Ha().then(function(I){return F2(f,{mfaPendingCredential:I,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):w=M2(f,{phoneNumber:_,recaptchaToken:p}),w.then(function(I){return typeof u.reset=="function"&&u.reset(),I},function(I){throw typeof u.reset=="function"&&u.reset(),I});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function iS(o,u){if(!o)throw new O("missing-verification-id");if(!u)throw new O("missing-verification-code");return new qo({eb:o,cb:u})}Wn(no,{PROVIDER_ID:"phone"}),Wn(no,{PHONE_SIGN_IN_METHOD:"phone"});function Em(o){if(o.temporaryProof&&o.phoneNumber)return new qo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,g=o&&o.nonce,_=o&&o.oauthIdToken,w=o&&o.pendingToken;try{switch(u){case"google.com":return tS(_,f);case"facebook.com":return ZI(f);case"github.com":return eS(f);case"twitter.com":return nS(f,p);default:return f||p||_||w?w?u.indexOf("saml.")==0?new Ws(u,w):new to(u,{pendingToken:w,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new wr(u).credential({idToken:_,accessToken:f,rawNonce:g}):null}}catch{return null}}function Tm(o){if(!o.isOAuthProvider)throw new O("invalid-oauth-provider")}function Qr(o,u,f,p,g,_,w){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=_||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}else throw new O("invalid-auth-event")}Qr.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},Qr.prototype.T=function(){return this.h},Qr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function oS(o){return o=o||{},o.type?new Qr(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&bi(o.error),o.postBody,o.tenantId):null}function l2(){this.b=null,this.a=[]}var Im=null;function f2(o){var u=Im;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=bt("universalLinks.subscribe",l),typeof o=="function"&&o(null,u.b))}function Sm(o){var u="unauthorized-domain",f=void 0,p=or(o);o=p.a,p=p.c,p=="chrome-extension"?f=RT("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=RT("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",O.call(this,u,f)}de(Sm,O);function dl(o,u,f){O.call(this,o,f),o=u||{},o.Jb&&ue(this,"email",o.Jb),o.ea&&ue(this,"phoneNumber",o.ea),o.credential&&ue(this,"credential",o.credential),o.Zb&&ue(this,"tenantId",o.Zb)}de(dl,O),dl.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&nr(o,u),o},dl.prototype.toJSON=function(){return this.w()};function Kh(o){if(o.code){var u=o.code||"";u.indexOf(Sn)==0&&(u=u.substring(Sn.length));var f={credential:Em(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new O(u,o.message||void 0);return new dl(u,f,o.message)}return null}function pl(){}pl.prototype.c=null;function sS(o){return o.c||(o.c=o.b())}var Cm;function Qh(){}de(Qh,pl),Qh.prototype.a=function(){var o=aS(this);return o?new ActiveXObject(o):new XMLHttpRequest},Qh.prototype.b=function(){var o={};return aS(this)&&(o[0]=!0,o[1]=!0),o};function aS(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Cm=new Qh;function Xh(){}de(Xh,pl),Xh.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new uS;throw Error("Unsupported browser")},Xh.prototype.b=function(){return{}};function uS(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=j(this.qc,this),this.a.onerror=j(this.Sb,this),this.a.onprogress=j(this.rc,this),this.a.ontimeout=j(this.vc,this)}t=uS.prototype,t.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},t.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Am(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Am(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Am(this,1)};function Am(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Nm(o,u,f){this.reset(o,u,f,void 0,void 0)}Nm.prototype.a=null,Nm.prototype.reset=function(o,u,f,p,g){delete this.a};function Rm(o){this.f=o,this.b=this.c=this.a=null}function vl(o,u){this.name=o,this.value=u}vl.prototype.toString=function(){return this.name};var cS=new vl("SEVERE",1e3),Om=new vl("WARNING",900),h2=new vl("CONFIG",700),d2=new vl("FINE",500);function lS(o){return o.c?o.c:o.a?lS(o.a):(mn("Root logger has no level set."),null)}Rm.prototype.log=function(o,u,f){if(o.value>=lS(this).value)for(E(u)&&(u=u()),o=new Nm(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var km={},Jh=null;function xm(o){Jh||(Jh=new Rm(""),km[""]=Jh,Jh.c=h2);var u;if(!(u=km[o])){u=new Rm(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=xm(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,km[o]=u}return u}function Ur(o,u){o&&o.log(d2,u,void 0)}function Zh(o){this.f=o}de(Zh,pl),Zh.prototype.a=function(){return new ed(this.f)},Zh.prototype.b=function(o){return function(){return o}}({});function ed(o){qn.call(this),this.u=o,this.h=void 0,this.readyState=Pm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=xm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}de(ed,qn);var Pm=0;t=ed.prototype,t.open=function(o,u){if(this.readyState!=Pm)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,ml(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,gl(this)),this.readyState=Pm},t.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,ml(this)),this.a&&(this.readyState=3,ml(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof l.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,fS(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function fS(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}t.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?gl(this):ml(this),this.readyState==3&&fS(this)}},t.tc=function(o){this.a&&(this.response=this.responseText=o,gl(this))},t.sc=function(o){this.a&&(this.response=o,gl(this))},t.Ua=function(o){var u=this.i;u&&u.log(Om,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&gl(this)};function gl(o){o.readyState=4,o.g=null,o.c=null,o.m=null,ml(o)}t.setRequestHeader=function(o,u){this.l.append(o,u)},t.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(Om,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(Om,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function ml(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ed.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function yl(o){qn.call(this),this.headers=new Za,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=hS,this.u=this.S=!1}de(yl,qn);var hS="";yl.prototype.b=xm("goog.net.XhrIo");var p2=/^https?$/i,v2=["POST","PUT"];function g2(o,u,f,p,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Cm.a(),o.C=o.D?sS(o.D):sS(Cm),o.a.onreadystatechange=j(o.Vb,o);try{Ur(o.b,ro(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(w){Ur(o.b,ro(o,"Error opening Xhr: "+w.message)),dS(o,w);return}u=p||"";var _=new Za(o.headers);g&&EF(g,function(w,I){_.set(I,w)}),g=k(_.Y()),p=l.FormData&&u instanceof l.FormData,!L(v2,f)||g||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(w,I){this.a.setRequestHeader(I,w)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{gS(o),0<o.g&&(o.u=m2(o.a),Ur(o.b,ro(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=j(o.Ma,o)):o.s=Yg(o.Ma,o.g,o)),Ur(o.b,ro(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(w){Ur(o.b,ro(o,"Send error: "+w.message)),dS(o,w)}}function m2(o){return zr&&PT(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function y2(o){return o.toLowerCase()=="content-type"}t=yl.prototype,t.Ma=function(){typeof c<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ur(this.b,ro(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function dS(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,pS(o),td(o)}function pS(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(Ur(this.b,ro(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),td(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),td(this,!0)),yl.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?vS(this):this.Jc())},t.Jc=function(){vS(this)};function vS(o){if(o.c&&typeof c<"u"){if(o.C[1]&&_l(o)==4&&nd(o)==2)Ur(o.b,ro(o,"Local request error detected and ignored"));else if(o.i&&_l(o)==4)Yg(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),_l(o)==4){Ur(o.b,ro(o,"Request complete")),o.c=!1;try{var u=nd(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var g;if(g=u===0){var _=String(o.l).match(uI)[1]||null;if(!_&&l.self&&l.self.location){var w=l.self.location.protocol;_=w.substr(0,w.length-1)}g=!p2.test(_?_.toLowerCase():"")}p=g}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var I=2<_l(o)?o.a.statusText:""}catch(F){Ur(o.b,"Can not get status: "+F.message),I=""}o.h=I+" ["+nd(o)+"]",pS(o)}}finally{td(o)}}}}function td(o,u){if(o.a){gS(o);var f=o.a,p=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(g){(o=o.b)&&o.log(cS,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function gS(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(l.clearTimeout(o.s),o.s=null)}function _l(o){return o.a?o.a.readyState:0}function nd(o){try{return 2<_l(o)?o.a.status:-1}catch{return-1}}function _2(o){try{return o.a?o.a.responseText:""}catch(u){return Ur(o.b,"Can not get responseText: "+u.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case hS:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(cS,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return Ur(this.b,"Can not get response: "+u.message),null}};function ro(o,u){return u+" ["+o.R+" "+o.l+" "+nd(o)+"]"}function zs(o){var u=E2;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}zs.prototype.cancel=function(o){if(this.a)this.c instanceof zs&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new bl,rd(this),wl(this,!1,o))}},zs.prototype.m=function(o,u){this.i=!1,wl(this,o,u)};function wl(o,u,f){o.a=!0,o.c=f,o.f=!u,yS(o)}function rd(o){if(o.a){if(!o.v)throw new id;o.v=!1}}function w2(o,u){Dm(o,null,u,void 0)}function Dm(o,u,f,p){o.g.push([u,f,p]),o.a&&yS(o)}zs.prototype.then=function(o,u,f){var p,g,_=new Ue(function(w,I){p=w,g=I});return Dm(this,p,function(w){w instanceof bl?_.cancel():g(w)}),_.then(o,u,f)},zs.prototype.$goog_Thenable=!0;function mS(o){return C(o.g,function(u){return E(u[1])})}function yS(o){if(o.h&&o.a&&mS(o)){var u=o.h,f=od[u];f&&(l.clearTimeout(f.a),delete od[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),_=g[0],w=g[1];if(g=g[2],_=o.f?w:_)try{var I=_.call(g||o.s,u);I!==void 0&&(o.f=o.f&&(I==u||I instanceof Error),o.c=u=I),(Ye(u)||typeof l.Promise=="function"&&u instanceof l.Promise)&&(p=!0,o.i=!0)}catch(F){u=F,o.f=!0,mS(o)||(f=!0)}}o.c=u,p&&(I=j(o.m,o,!0),p=j(o.m,o,!1),u instanceof zs?(Dm(u,I,p),u.C=!0):u.then(I,p)),f&&(u=new _S(u),od[u.a]=u,o.h=u.a)}function id(){St.call(this)}de(id,St),id.prototype.message="Deferred has already fired",id.prototype.name="AlreadyCalledError";function bl(){St.call(this)}de(bl,St),bl.prototype.message="Deferred was canceled",bl.prototype.name="CanceledError";function _S(o){this.a=l.setTimeout(j(this.c,this),0),this.b=o}_S.prototype.c=function(){throw delete od[this.a],this.b};var od={};function Mm(o){var u={},f=u.document||document,p=bT(o).toString(),g=Oh(document,"SCRIPT"),_={Wb:g,Ma:void 0},w=new zs(_),I=null,F=u.timeout!=null?u.timeout:5e3;return 0<F&&(I=window.setTimeout(function(){sd(g,!0);var W=new Lm(I2,"Timeout reached for loading script "+p);rd(w),wl(w,!1,W)},F),_.Ma=I),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(sd(g,u.xd||!1,I),rd(w),wl(w,!0,null))},g.onerror=function(){sd(g,!0,I);var W=new Lm(T2,"Error while loading script "+p);rd(w),wl(w,!1,W)},_=u.attributes||{},nr(_,{type:"text/javascript",charset:"UTF-8"}),MT(g,_),ZL(g,o),b2(f).appendChild(g),w}function b2(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function E2(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&sd(o,!0,this.Ma)}}function sd(o,u,f){f!=null&&l.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var T2=0,I2=1;function Lm(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),St.call(this,f),this.code=o}de(Lm,St);function ad(o){this.f=o}de(ad,pl),ad.prototype.a=function(){return new this.f},ad.prototype.b=function(){return{}};function Xr(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||S2,this.g=Kt(o.secureTokenHeaders||C2),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||A2,this.a=Kt(o.firebaseHeaders||N2),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Si()=="Node",f=l.XMLHttpRequest||f&&le.INTERNAL.node&&le.INTERNAL.node.XMLHttpRequest,!f&&!Kr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Kr()?this.f=new Zh(self):wI()?this.f=new ad(f):this.f=new Xh,this.b=null}var Fm,Jr="idToken",S2=new Vo(3e4,6e4),C2={"Content-Type":"application/x-www-form-urlencoded"},A2=new Vo(3e4,6e4),N2={"Content-Type":"application/json"};function wS(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function uu(o,u){u&&(o.l=Um("https://securetoken.googleapis.com/v1/token",u),o.h=Um("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=Um("https://identitytoolkit.googleapis.com/v2/",u))}function Um(o,u){return o=or(o),u=or(u.url),o.f=o.a+o.f,el(o,u.c),o.a=u.a,tl(o,u.g),o.toString()}function bS(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}Xr.prototype.T=function(){return this.b};function ES(o,u,f,p,g,_,w){xF()||Kr()?o=j(o.u,o):(Fm||(Fm=new Ue(function(I,F){O2(I,F)})),o=j(o.s,o)),o(u,f,p,g,_,w)}Xr.prototype.u=function(o,u,f,p,g,_){if(Kr()&&(typeof l.fetch>"u"||typeof l.Headers>"u"||typeof l.Request>"u"))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new yl(this.f);if(_){w.g=Math.max(0,_);var I=setTimeout(function(){w.dispatchEvent("timeout")},_)}oI(w,"complete",function(){I&&clearTimeout(I);var F=null;try{F=JSON.parse(_2(this))||null}catch{F=null}u&&u(F)}),Gg(w,"ready",function(){I&&clearTimeout(I),JT(this)}),Gg(w,"timeout",function(){I&&clearTimeout(I),JT(this),u&&u(null)}),g2(w,o,f,p,g)};var R2=new Ti(Ch,"https://apis.google.com/js/client.js?onload=%{onload}"),TS="__fcb"+Math.floor(1e6*Math.random()).toString();function O2(o,u){if(((window.gapi||{}).client||{}).request)o();else{l[TS]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=Ag(R2,{onload:TS});w2(Mm(f),function(){u(Error("CORS_UNSUPPORTED"))})}}Xr.prototype.s=function(o,u,f,p,g){var _=this;Fm.then(function(){window.gapi.client.setApiKey(_.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:g,authType:"none",callback:function(I){window.gapi.auth.setToken(w),u&&u(I)}})}).o(function(w){u&&u({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function k2(o,u){return new Ue(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?ES(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?p(Ym(g)):g.access_token&&g.refresh_token?f(g):p(new O("internal-error")):p(new O("network-request-failed"))},"POST",lI(u).toString(),o.g,o.m.get()):p(new O("internal-error"))})}function IS(o,u,f,p,g,_,w){var I=or(u+f);Pt(I,"key",o.c),w&&Pt(I,"cb",nt().toString());var F=p=="GET";if(F)for(var W in g)g.hasOwnProperty(W)&&Pt(I,W,g[W]);return new Ue(function(Se,rt){ES(o,I.toString(),function(Qe){Qe?Qe.error?rt(Ym(Qe,_||{})):Se(Qe):rt(new O("network-request-failed"))},p,F?void 0:dI(TI(g)),o.a,o.v.get())})}function Ks(o){if(o=o.email,typeof o!="string"||!MF.test(o))throw new O("invalid-email")}function SS(o){"email"in o&&Ks(o)}function x2(o,u){return je(o,q2,{identifier:u,continueUri:Vh()?il():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function P2(o){return je(o,eU,{}).then(function(u){return u.authorizedDomains||[]})}function sr(o){if(!o[Jr])throw o.mfaPendingCredential?new O("multi-factor-auth-required",null,Kt(o)):new O("internal-error")}function jm(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new O("internal-error")}else{if(!o.sessionInfo)throw new O("missing-verification-id");if(!o.code)throw new O("missing-verification-code")}}Xr.prototype.zb=function(){return je(this,iU,{})},Xr.prototype.Bb=function(o,u){return je(this,NS,{idToken:o,email:u})},Xr.prototype.Cb=function(o,u){return je(this,RS,{idToken:o,password:u})};var D2={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=Xr.prototype,t.Db=function(o,u){var f={idToken:o},p=[];return zc(D2,function(g,_){var w=u[_];w===null?p.push(g):_ in u&&(f[_]=w)}),p.length&&(f.deleteAttribute=p),je(this,NS,f)},t.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},nr(o,u),je(this,Z2,o)},t.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},nr(o,u),je(this,Q2,o)},t.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},nr(o,u),je(this,X2,o)},t.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},nr(o,f),je(this,J2,o)};function M2(o,u){return je(o,rU,u)}t.fb=function(o){return je(this,fU,o)};function L2(o,u){return je(o,oU,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function CS(o){if(!o.phoneVerificationInfo)throw new O("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new O("missing-verification-code")}function F2(o,u){return je(o,sU,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function U2(o,u,f){return je(o,H2,{idToken:u,deleteProvider:f})}function Vm(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new O("internal-error")}function Bm(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new js(o.postBody),Kg(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function AS(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Kh(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Kh(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Kh(o)):o.errorMessage&&(u=kS(o.errorMessage)),u)throw u;sr(o)}function qm(o,u){return u.returnIdpCredential=!0,je(o,aU,u)}function Wm(o,u){return u.returnIdpCredential=!0,je(o,cU,u)}function Hm(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,je(o,uU,u)}function Gm(o){if(!o.oobCode)throw new O("invalid-action-code")}t.nb=function(o,u){return je(this,nU,{oobCode:o,newPassword:u})},t.Ra=function(o){return je(this,V2,{oobCode:o})},t.jb=function(o){return je(this,j2,{oobCode:o})};var j2={endpoint:"setAccountInfo",A:Gm,Z:"email",B:!0},V2={endpoint:"resetPassword",A:Gm,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},B:!0},B2={endpoint:"signupNewUser",A:function(o){if(Ks(o),!o.password)throw new O("weak-password")},G:sr,V:!0,B:!0},q2={endpoint:"createAuthUri",B:!0},W2={endpoint:"deleteAccount",N:["idToken"]},H2={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new O("internal-error")}},G2={endpoint:"emailLinkSignin",N:["email","oobCode"],A:Ks,G:sr,V:!0,B:!0},Y2={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:Ks,G:sr,V:!0},$2={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:CS,G:sr,B:!0,Na:!0},z2={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:CS,G:sr,B:!0,Na:!0},K2={endpoint:"getAccountInfo"},Q2={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new O("internal-error");Ks(o)},Z:"email",B:!0},X2={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new O("internal-error")},Z:"email",B:!0},J2={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new O("internal-error")},Z:"email",B:!0},Z2={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new O("internal-error");Ks(o)},Z:"email",B:!0},eU={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},tU={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new O("internal-error")}},nU={endpoint:"resetPassword",A:Gm,Z:"email",B:!0},rU={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},NS={endpoint:"setAccountInfo",N:["idToken"],A:SS,V:!0},RS={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(SS(o),!o.password)throw new O("weak-password")},G:sr,V:!0},iU={endpoint:"signupNewUser",G:sr,V:!0,B:!0},oU={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new O("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},sU={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},aU={endpoint:"verifyAssertion",A:Vm,Ya:Bm,G:AS,V:!0,B:!0},uU={endpoint:"verifyAssertion",A:Vm,Ya:Bm,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new O("user-not-found");if(o.errorMessage)throw kS(o.errorMessage);sr(o)},V:!0,B:!0},cU={endpoint:"verifyAssertion",A:function(o){if(Vm(o),!o.idToken)throw new O("internal-error")},Ya:Bm,G:AS,V:!0},lU={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new O("invalid-custom-token")},G:sr,V:!0,B:!0},OS={endpoint:"verifyPassword",A:function(o){if(Ks(o),!o.password)throw new O("wrong-password")},G:sr,V:!0,B:!0},fU={endpoint:"verifyPhoneNumber",A:jm,G:sr,B:!0},hU={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new O("internal-error");jm(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Kh(o);sr(o)}},dU={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:jm,G:sr,B:!0},pU={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[Jr]^!!o.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function je(o,u,f){if(!qF(f,u.N))return wt(new O("internal-error"));var p=!!u.Na,g=u.Ub||"POST",_;return we(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?IS(o,o.i,u.endpoint,g,f,u.Hb,u.lb||!1):IS(o,o.h,u.endpoint,g,f,u.Hb,u.lb||!1)}).then(function(w){return _=w,u.Ya?u.Ya(f,_):_}).then(u.G).then(function(){if(!u.Z)return _;if(!(u.Z in _))throw new O("internal-error");return _[u.Z]})}function kS(o){return Ym({error:{errors:[{message:o}],code:400,message:o}})}function Ym(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new O(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},nr(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(f.indexOf(g)===0)return new O(p[g],u);return!u&&o&&(u=sl(o)),new O("internal-error",u)}function vU(o){this.b=o,this.a=null,this.rb=gU(this)}function gU(o){return EU().then(function(){return new Ue(function(u,f){bt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(_),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){f(Error("Network Error"))},bU.get());p.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function mU(o,u){return o.rb.then(function(){return new Ue(function(f){o.a.send(u.type,u,f,bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function yU(o,u){o.rb.then(function(){o.a.register("authEvent",u,bt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var _U=new Ti(Ch,"https://apis.google.com/js/api.js?onload=%{onload}"),wU=new Vo(3e4,6e4),bU=new Vo(5e3,15e3),ud=null;function EU(){return ud||(ud=new Ue(function(o,u){function f(){SI(),bt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){SI(),u(Error("Network Error"))},timeout:wU.get()})}if(bt("gapi.iframes.Iframe"))o();else if(bt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[p]=function(){bt("gapi.load")?f():u(Error("Network Error"))},p=Ag(_U,{onload:p}),we(Mm(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw ud=null,o}))}function xS(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=or(this.g.url),o=Uh(o.c,o.a,o.g,"/emulator/auth/iframe")):o=Uh("https",this.l,null,"/__/auth/iframe"),this.a=o,Pt(this.a,"apiKey",this.h),Pt(this.a,"appName",this.i),this.b=null,this.c=[]}xS.prototype.toString=function(){return this.f?Pt(this.a,"v",this.f):Ii(this.a.b,"v"),this.b?Pt(this.a,"eid",this.b):Ii(this.a.b,"eid"),this.c.length?Pt(this.a,"fw",this.c.join(",")):Ii(this.a.b,"fw"),this.a.toString()};function $m(o,u,f,p,g,_){this.u=o,this.s=u,this.c=f,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}$m.prototype.yb=function(o){return this.h=o,this},$m.prototype.toString=function(){if(this.v){var o=or(this.v.url);o=Uh(o.c,o.a,o.g,"/emulator/auth/handler")}else o=Uh("https",this.u,null,"/__/auth/handler");if(Pt(o,"apiKey",this.s),Pt(o,"appName",this.c),Pt(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=le.app(this.c).auth().la()}catch{f=null}u.ob=f,Pt(o,"providerId",this.a.providerId),f=this.a,u=TI(f.Ib);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=Kt(u);for(var g=0;g<p.length;g++){var _=p[g];_ in u&&delete u[_]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),xt(u)||Pt(o,"customParameters",sl(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&Pt(o,"scopes",f.join(","))),this.l?Pt(o,"redirectUrl",this.l):Ii(o.b,"redirectUrl"),this.g?Pt(o,"eventId",this.g):Ii(o.b,"eventId"),this.i?Pt(o,"v",this.i):Ii(o.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Lr(o,w)&&Pt(o,w,this.b[w]);return this.h?Pt(o,"tid",this.h):Ii(o.b,"tid"),this.f?Pt(o,"eid",this.f):Ii(o.b,"eid"),w=zm(this.c),w.length&&Pt(o,"fw",w.join(",")),o.toString()};function zm(o){try{return le.app(o).auth().Ga()}catch{return[]}}function PS(o,u,f,p,g,_){this.s=o,this.g=u,this.b=f,this.f=_,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function DS(o){var u=il();return P2(o).then(function(f){e:{var p=or(u),g=p.c;p=p.a;for(var _=0;_<f.length;_++){var w=f[_],I=p,F=g;if(w.indexOf("chrome-extension://")==0?I=or(w).a==I&&F=="chrome-extension":F!="http"&&F!="https"?I=!1:DF.test(w)?I=I==w:(w=w.split(".").join("\\."),I=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(I)),I){f=!0;break e}}f=!1}if(!f)throw new Sm(il())})}function MS(o){return o.m||(o.m=jh().then(function(){if(!o.u){var u=o.c,f=o.i,p=zm(o.b),g=new xS(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=z(p||[]),o.u=g.toString()}o.v=new vU(o.u),TU(o)})),o.m}t=PS.prototype,t.Ob=function(o,u,f){var p=new O("popup-closed-by-user"),g=new O("web-storage-unsupported"),_=this,w=!1;return this.ma().then(function(){IU(_).then(function(I){I||(o&&Vs(o),u(g),w=!0)})}).o(function(){}).then(function(){if(!w)return PF(o)}).then(function(){if(!w)return Ja(f).then(function(){u(p)})})},t.Xb=function(){var o=yn();return!ol(o)&&!II(o)},t.Tb=function(){return!1},t.Mb=function(o,u,f,p,g,_,w,I){if(!o)return wt(new O("popup-blocked"));if(w&&!ol())return this.ma().o(function(W){Vs(o),g(W)}),p(),we();this.a||(this.a=DS(LS(this)));var F=this;return this.a.then(function(){var W=F.ma().o(function(Se){throw Vs(o),g(Se),Se});return p(),W}).then(function(){if(Tm(f),!w){var W=El(F.s,F.g,F.b,u,f,null,_,F.c,void 0,F.i,I,F.f);gI(W,o)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(F.a=null),W})};function LS(o){return o.l||(o.C=o.c?nu(o.c,zm(o.b)):null,o.l=new Xr(o.g,yt(o.i),o.C),o.f&&uu(o.l,o.f)),o.l}t.Nb=function(o,u,f,p){this.a||(this.a=DS(LS(this)));var g=this;return this.a.then(function(){Tm(u);var _=El(g.s,g.g,g.b,o,u,il(),f,g.c,void 0,g.i,p,g.f);gI(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(g.a=null),_})},t.ma=function(){var o=this;return MS(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new O("network-request-failed")})},t.$b=function(){return!0};function El(o,u,f,p,g,_,w,I,F,W,Se,rt){return o=new $m(o,u,f,p,g,rt),o.l=_,o.g=w,o.i=I,o.b=Kt(F||null),o.f=W,o.yb(Se).toString()}function TU(o){if(!o.v)throw Error("IfcHandler must be initialized!");yU(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=oS(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",we(f)}return f.status="ERROR",we(f)})}function IU(o){var u={type:"webStorageSupport"};return MS(o).then(function(){return mU(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}t.Ea=function(o){this.h.push(o)},t.Sa=function(o){q(this.h,function(u){return u==o})};function FS(o){if(this.a=o||le.INTERNAL.reactNative&&le.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=FS.prototype,t.get=function(o){return we(this.a.getItem(o)).then(function(u){return u&&iu(u)})},t.set=function(o,u){return we(this.a.setItem(o,sl(u)))},t.U=function(o){return we(this.a.removeItem(o))},t.ca=function(){},t.ia=function(){};function US(o){this.b=o,this.a={},this.f=j(this.c,this)}var jS=[];function SU(){var o=Kr()?self:null;if(H(jS,function(f){f.b==o&&(u=f)}),!u){var u=new US(o);jS.push(u)}return u}US.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];H(p,function(_){g.push(we().then(function(){return _(o.origin,o.data.data)}))}),WT(g).then(function(_){var w=[];H(_,function(I){w.push({fulfilled:I.Pb,value:I.value,reason:I.reason?I.reason.message:void 0})}),H(w,function(I){for(var F in I)typeof I[F]>"u"&&delete I[F]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:w})})}};function VS(o,u,f){xt(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function BS(o){this.a=o}BS.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function qS(o){this.c=o,this.b=!1,this.a=[]}function WS(o,u,f,p){var g,_=f||{},w,I,F,W=null;if(o.b)return wt(Error("connection_unavailable"));var Se=p?800:50,rt=typeof MessageChannel<"u"?new MessageChannel:null;return new Ue(function(Qe,ln){rt?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),rt.port1.start(),I=setTimeout(function(){ln(Error("unsupported_event"))},Se),w=function(io){io.data.eventId===g&&(io.data.status==="ack"?(clearTimeout(I),F=setTimeout(function(){ln(Error("timeout"))},3e3)):io.data.status==="done"?(clearTimeout(F),typeof io.data.response<"u"?Qe(io.data.response):ln(Error("unknown_error"))):(clearTimeout(I),clearTimeout(F),ln(Error("invalid_response"))))},W={messageChannel:rt,onMessage:w},o.a.push(W),rt.port1.addEventListener("message",w),o.c.postMessage({eventType:u,eventId:g,data:_},[rt.port2])):ln(Error("connection_unavailable"))}).then(function(Qe){return Km(o,W),Qe}).o(function(Qe){throw Km(o,W),Qe})}function Km(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),q(o.a,function(g){return g==u})}}qS.prototype.close=function(){for(;0<this.a.length;)Km(this,this.a[0]);this.b=!0};function HS(){if(!Jm())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;Kr()&&self?(this.v=SU(),VS(this.v,"keyChanged",function(u,f){return $S(o).then(function(p){return 0<p.length&&H(o.a,function(g){g(p)}),{keyProcessed:L(p,f.key)}})}),VS(this.v,"ping",function(){return we(["keyChanged"])})):VF().then(function(u){(o.h=u)&&(o.g=new qS(new BS(u)),WS(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&L(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var Qm;function CU(o){return new Ue(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){f(Error(g.target.error))}})}function GS(o){return new Ue(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){f(_)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):CU(o).then(function(){return GS(o)}).then(function(_){u(_)}).o(function(_){f(_)})}})}function Xm(o){return o.i||(o.i=GS(o)),o.i}function cd(o,u){function f(g,_){Xm(o).then(u).then(g).o(function(w){if(3<++p)_(w);else return Xm(o).then(function(I){return I.close(),o.i=void 0,f(g,_)}).o(function(I){_(I)})})}var p=0;return new Ue(f)}function Jm(){try{return!!l.indexedDB}catch{return!1}}function Tl(o){return o.objectStore("firebaseLocalStorage")}function Il(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function cu(o){return new Ue(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}t=HS.prototype,t.set=function(o,u){var f=this,p=!1;return cd(this,function(g){return g=Tl(Il(g,!0)),cu(g.get(o))}).then(function(g){return cd(f,function(_){if(_=Tl(Il(_,!0)),g)return g.value=u,cu(_.put(g));f.b++,p=!0;var w={};return w.fbase_key=o,w.value=u,cu(_.add(w))})}).then(function(){return f.c[o]=u,YS(f,o)}).oa(function(){p&&f.b--})};function YS(o,u){return o.g&&o.h&&jF()===o.h?WS(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):we()}t.get=function(o){return cd(this,function(u){return cu(Tl(Il(u,!1)).get(o))}).then(function(u){return u&&u.value})},t.U=function(o){var u=this,f=!1;return cd(this,function(p){return f=!0,u.b++,cu(Tl(Il(p,!0)).delete(o))}).then(function(){return delete u.c[o],YS(u,o)}).oa(function(){f&&u.b--})};function $S(o){return Xm(o).then(function(u){var f=Tl(Il(u,!1));return f.getAll?cu(f.getAll()):new Ue(function(p,g){var _=[],w=f.openCursor();w.onsuccess=function(I){(I=I.target.result)?(_.push(I.value),I.continue()):p(_)},w.onerror=function(I){g(I.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=mI(o.c,f),o.c=f}return p})}t.ca=function(o){this.a.length==0&&AU(this),this.a.push(o)},t.ia=function(o){q(this.a,function(u){return u==o}),this.a.length==0&&zS(this)};function AU(o){function u(){o.f=setTimeout(function(){o.l=$S(o).then(function(f){0<f.length&&H(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}zS(o),u()}function zS(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function KS(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=we().then(function(){if(Jm()){var p=qs(),g="__sak"+p;return Qm||(Qm=new HS),f=Qm,f.set(g,p).then(function(){return f.get(g)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){H(u.a,function(_){_(g)})}),p})}t=KS.prototype,t.get=function(o){return this.b.then(function(u){return u.get(o)})},t.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},t.U=function(o){return this.b.then(function(u){return u.U(o)})},t.ca=function(o){this.a.push(o)},t.ia=function(o){q(this.a,function(u){return u==o})};function Sl(){this.a={},this.type="inMemory"}t=Sl.prototype,t.get=function(o){return we(this.a[o])},t.set=function(o,u){return this.a[o]=u,we()},t.U=function(o){return delete this.a[o],we()},t.ca=function(){},t.ia=function(){};function ld(){if(!NU())throw Si()=="Node"?new O("internal-error","The LocalStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=QS()||le.INTERNAL.node.localStorage,this.type="localStorage"}function QS(){try{var o=l.localStorage,u=qs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function NU(){var o=Si()=="Node";if(o=QS()||o&&le.INTERNAL.node&&le.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=ld.prototype,t.get=function(o){var u=this;return we().then(function(){var f=u.a.getItem(o);return iu(f)})},t.set=function(o,u){var f=this;return we().then(function(){var p=sl(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return we().then(function(){u.a.removeItem(o)})},t.ca=function(o){l.window&&Mr(l.window,"storage",o)},t.ia=function(o){l.window&&_r(l.window,"storage",o)};function Zm(){this.type="nullStorage"}t=Zm.prototype,t.get=function(){return we(null)},t.set=function(){return we()},t.U=function(){return we()},t.ca=function(){},t.ia=function(){};function ey(){if(!RU())throw Si()=="Node"?new O("internal-error","The SessionStorage compatibility library was not found."):new O("web-storage-unsupported");this.a=XS()||le.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function XS(){try{var o=l.sessionStorage,u=qs();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function RU(){var o=Si()=="Node";if(o=XS()||o&&le.INTERNAL.node&&le.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}t=ey.prototype,t.get=function(o){var u=this;return we().then(function(){var f=u.a.getItem(o);return iu(f)})},t.set=function(o,u){var f=this;return we().then(function(){var p=sl(u);p===null?f.U(o):f.a.setItem(o,p)})},t.U=function(o){var u=this;return we().then(function(){u.a.removeItem(o)})},t.ca=function(){},t.ia=function(){};function OU(){var o={};o.Browser=kU,o.Node=xU,o.ReactNative=PU,o.Worker=DU,this.a=o[Si()]}var ty,kU={F:ld,bb:ey},xU={F:ld,bb:ey},PU={F:FS,bb:Zm},DU={F:ld,bb:Zm},lu={rd:"local",NONE:"none",td:"session"};function MU(o){var u=new O("invalid-persistence-type"),f=new O("unsupported-persistence-type");e:{for(p in lu)if(lu[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(Si()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!Jm()&&o!=="none")throw f;break;default:if(!tm()&&o!=="none")throw f}}function JS(){var o=!!(!II(yn())&&Zg()),u=ol(),f=tm();this.m=o,this.h=u,this.l=f,this.a={},ty||(ty=new OU),o=ty;try{this.g=!Xg()&&CI()||!l.indexedDB?new o.a.F:new KS(Kr()?new Sl:new o.a.F)}catch{this.g=new Sl,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new Sl}this.v=new Sl,this.f=j(this.Yb,this),this.b={}}var ny;function Cl(){return ny||(ny=new JS),ny}function Qs(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function fu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function LU(o,u,f){var p=fu(u,f),g=Qs(o,u.F);return o.get(u,f).then(function(_){var w=null;try{w=iu(l.localStorage.getItem(p))}catch{}if(w&&!_)return l.localStorage.removeItem(p),o.set(u,w,f);w&&_&&g.type!="localStorage"&&l.localStorage.removeItem(p)})}t=JS.prototype,t.get=function(o,u){return Qs(this,o.F).get(fu(o,u))};function hu(o,u,f){return f=fu(u,f),u.F=="local"&&(o.b[f]=null),Qs(o,u.F).U(f)}t.set=function(o,u,f){var p=fu(o,f),g=this,_=Qs(this,o.F);return _.set(p,u).then(function(){return _.get(p)}).then(function(w){o.F=="local"&&(g.b[p]=w)})},t.addListener=function(o,u,f){o=fu(o,u),this.l&&(this.b[o]=l.localStorage.getItem(o)),xt(this.a)&&(Qs(this,"local").ca(this.f),this.h||(Xg()||!CI())&&l.indexedDB||!this.l||FU(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},t.removeListener=function(o,u,f){o=fu(o,u),this.a[o]&&(q(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),xt(this.a)&&(Qs(this,"local").ia(this.f),ry(this))};function FU(o){ry(o),o.c=setInterval(function(){for(var u in o.a){var f=l.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new Fs({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Yb(f))}},1e3)}function ry(o){o.c&&(clearInterval(o.c),o.c=null)}t.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var g=l.localStorage.getItem(f);g!==p&&(this.b[f]=g,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?Qs(this,"local").ia(this.f):ry(this),this.m){if(f=l.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?l.localStorage.setItem(u,p):l.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var _=this;f=function(){(typeof o.a.a<"u"||_.b[u]!==l.localStorage.getItem(u))&&(_.b[u]=l.localStorage.getItem(u),_.mb(u))},zr&&Fo&&Fo==10&&l.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else H(o,j(this.mb,this))},t.mb=function(o){this.a[o]&&H(this.a[o],function(u){u()})};function UU(o){this.a=o,this.b=Cl()}var iy={name:"authEvent",F:"local"};function jU(o){return o.b.get(iy,o.a).then(function(u){return oS(u)})}function VU(){this.a=Cl()}function BU(){this.b=-1}function fd(o,u){this.b=ZS,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=l.Int32Array?new Int32Array(64):Array(64),hd===void 0&&(l.Int32Array?hd=new Int32Array(n1):hd=n1),this.reset()}var hd;de(fd,BU);for(var ZS=64,qU=ZS-1,e1=[],oy=0;oy<qU;oy++)e1[oy]=0;var t1=ne(128,e1);fd.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):z(this.h)};function sy(o){for(var u=o.f,f=o.l,p=0,g=0;g<u.length;)f[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=f[u-15]|0,p=f[u-2]|0;var _=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=_+w|0}p=o.a[0]|0,g=o.a[1]|0;var I=o.a[2]|0,F=o.a[3]|0,W=o.a[4]|0,Se=o.a[5]|0,rt=o.a[6]|0;for(_=o.a[7]|0,u=0;64>u;u++){var Qe=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&I^g&I)|0;w=W&Se^~W&rt,_=_+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,w=w+(hd[u]|0)|0,w=_+(w+(f[u]|0)|0)|0,_=rt,rt=Se,Se=W,W=F+w|0,F=I,I=g,g=p,p=w+Qe|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+I|0,o.a[3]=o.a[3]+F|0,o.a[4]=o.a[4]+W|0,o.a[5]=o.a[5]+Se|0,o.a[6]=o.a[6]+rt|0,o.a[7]=o.a[7]+_|0}function ay(o,u,f){f===void 0&&(f=u.length);var p=0,g=o.c;if(typeof u=="string")for(;p<f;)o.f[g++]=u.charCodeAt(p++),g==o.b&&(sy(o),g=0);else if(b(u))for(;p<f;){var _=u[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");o.f[g++]=_,g==o.b&&(sy(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var n1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function r1(){fd.call(this,8,WU)}de(r1,fd);var WU=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function i1(o,u,f,p,g,_){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=g||null,this.s=_,this.h=u+":"+f,this.C=new VU,this.g=new UU(this.h),this.f=null,this.b=[],this.a=this.c=null}function dd(o){return new O("invalid-cordova-configuration",o)}t=i1.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=LF().then(function(){if(typeof bt("universalLinks.subscribe",l)!="function")throw dd("cordova-universal-links-plugin-fix is not installed");if(typeof bt("BuildInfo.packageName",l)>"u")throw dd("cordova-plugin-buildinfo is not installed");if(typeof bt("cordova.plugins.browsertab.openUrl",l)!="function")throw dd("cordova-plugin-browsertab is not installed");if(typeof bt("cordova.InAppBrowser.open",l)!="function")throw dd("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})};function HU(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function GU(o){var u=new r1;ay(u,o),o=[];var f=8*u.g;56>u.c?ay(u,t1,56-u.c):ay(u,t1,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(sy(u),p=f=0;p<u.i;p++)for(var g=24;0<=g;g-=8)o[f++]=u.a[p]>>g&255;return n2(o)}t.Ob=function(o,u){return u(new O("operation-not-supported-in-this-environment")),we()},t.Mb=function(){return wt(new O("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(o,u,f,p){if(this.c)return wt(new O("redirect-operation-pending"));var g=this,_=l.document,w=null,I=null,F=null,W=null;return this.c=we().then(function(){return Tm(u),s1(g)}).then(function(){return YU(g,o,u,f,p)}).then(function(){return new Ue(function(Se,rt){I=function(){var Qe=bt("cordova.plugins.browsertab.close",l);return Se(),typeof Qe=="function"&&Qe(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(I),F=function(){w||(w=Ja(2e3).then(function(){rt(new O("redirect-cancelled-by-user"))}))},W=function(){nm()&&F()},_.addEventListener("resume",F,!1),yn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",W,!1)}).o(function(Se){return uy(g).then(function(){throw Se})})}).oa(function(){F&&_.removeEventListener("resume",F,!1),W&&_.removeEventListener("visibilitychange",W,!1),w&&w.cancel(),I&&g.Sa(I),g.c=null})};function YU(o,u,f,p,g){var _=HU(),w=new Qr(u,p,null,_,new O("no-auth-event"),null,g),I=bt("BuildInfo.packageName",l);if(typeof I!="string")throw new O("invalid-cordova-configuration");var F=bt("BuildInfo.displayName",l),W={};if(yn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=I;else if(yn().toLowerCase().match(/android/))W.apn=I;else return wt(new O("operation-not-supported-in-this-environment"));F&&(W.appDisplayName=F),_=GU(_),W.sessionId=_;var Se=El(o.v,o.i,o.l,u,f,null,p,o.m,W,o.u,g,o.s);return o.ma().then(function(){var rt=o.h;return o.C.a.set(iy,w.w(),rt)}).then(function(){var rt=bt("cordova.plugins.browsertab.isAvailable",l);if(typeof rt!="function")throw new O("invalid-cordova-configuration");var Qe=null;rt(function(ln){if(ln){if(Qe=bt("cordova.plugins.browsertab.openUrl",l),typeof Qe!="function")throw new O("invalid-cordova-configuration");Qe(Se)}else{if(Qe=bt("cordova.InAppBrowser.open",l),typeof Qe!="function")throw new O("invalid-cordova-configuration");ln=yn(),o.a=Qe(Se,ln.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||ln.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function o1(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function s1(o){return o.f||(o.f=o.ma().then(function(){return new Ue(function(u){function f(p){return u(p),o.Sa(f),!1}o.Ea(f),$U(o)})})),o.f}function uy(o){var u=null;return jU(o.g).then(function(f){return u=f,f=o.g,hu(f.b,iy,f.a)}).then(function(){return u})}function $U(o){function u(w){p=!0,g&&g.cancel(),uy(o).then(function(I){var F=f;if(I&&w&&w.url){var W=null;F=XI(w.url),F.indexOf("/__/auth/callback")!=-1&&(W=or(F),W=iu(Lr(W,"firebaseError")||null),W=(W=typeof W=="object"?bi(W):null)?new Qr(I.c,I.b,null,null,W,null,I.T()):new Qr(I.c,I.b,F,I.f,null,null,I.T())),F=W||f}o1(o,F)})}var f=new Qr("unknown",null,null,null,new O("no-auth-event")),p=!1,g=Ja(500).then(function(){return uy(o).then(function(){p||o1(o,f)})}),_=l.handleOpenURL;l.handleOpenURL=function(w){if(w.toLowerCase().indexOf(bt("BuildInfo.packageName",l).toLowerCase()+"://")==0&&u({url:w}),typeof _=="function")try{_(w)}catch(I){console.error(I)}},Im||(Im=new l2),f2(u)}t.Ea=function(o){this.b.push(o),s1(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new Qr("unknown",null,null,null,new O("no-auth-event")),o(u))})},t.Sa=function(o){q(this.b,function(u){return u==o})};function zU(o){this.a=o,this.b=Cl()}var cy={name:"pendingRedirect",F:"session"};function KU(o){return o.b.set(cy,"pending",o.a)}function ly(o){return hu(o.b,cy,o.a)}function QU(o){return o.b.get(cy,o.a).then(function(u){return u=="pending"})}function pd(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=j(this.s,this),this.b=new vd,this.C=new y1,this.g=new zU(p1(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=a1(this.D,this.v,this.m,Ge,this.J)}function a1(o,u,f,p,g){var _=le.SDK_VERSION||null;return Jg()?new i1(o,u,f,_,p,g):new PS(o,u,f,_,p,g)}pd.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=a1(this.D,this.v,this.m,null,this.J),this.i={}};function u1(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function c1(o){o.a.Xb()&&u1(o).o(function(u){var f=new Qr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));hy(u)&&o.s(f)}),o.a.Tb()||g1(o.b)}function fy(o,u){L(o.h,u)||o.h.push(u),o.f||QU(o.g).then(function(f){f?ly(o.g).then(function(){u1(o).o(function(p){var g=new Qr("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));hy(p)&&o.s(g)})}):c1(o)}).o(function(){c1(o)})}function l1(o,u){q(o.h,function(f){return f==u})}pd.prototype.s=function(o){if(!o)throw new O("invalid-auth-event");if(6e5<=nt()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=nt())),u=!0;break}}return g1(this.b),u};var XU=new Vo(2e3,1e4),JU=new Vo(3e4,6e4);pd.prototype.qa=function(){return this.b.qa()};function f1(o,u,f,p,g,_,w){return o.a.Mb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,_,w)}function hy(o){return!!(o&&o.code=="auth/cordova-not-ready")}function h1(o,u,f,p,g){var _;return KU(o.g).then(function(){return o.a.Nb(u,f,p,g).o(function(w){if(hy(w))throw new O("operation-not-supported-in-this-environment");return _=w,ly(o.g).then(function(){throw _})}).then(function(){return o.a.$b()?new Ue(function(){}):ly(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function d1(o,u,f,p,g){return o.a.Ob(p,function(_){u.na(f,null,_,g)},XU.get())}var dy={};function p1(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function v1(o,u,f,p){var g=p1(u,f,p);return dy[g]||(dy[g]=new pd(o,u,f,p)),dy[g]}function vd(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}vd.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},vd.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",_=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!_),f!="unknown"||g||_?o.a?(Xs(this,!0,null,o.a),we()):u.Fa(f,p)?ZU(this,o,u):wt(new O("invalid-auth-event")):(Xs(this,!1,null,null),we())}else wt(new O("invalid-auth-event"))};function g1(o){o.g||(o.g=!0,Xs(o,!1,null,null))}function gd(o){o.g&&!o.i&&Xs(o,!1,null,null)}function ZU(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,g=u.f,_=u.i,w=u.T(),I=!!u.c.match(/Redirect$/);f(p,g,w,_).then(function(F){Xs(o,I,F,null)}).o(function(F){Xs(o,I,null,F)})}function ej(o,u){if(o.b=function(){return wt(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function m1(o,u){if(o.b=function(){return we(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Xs(o,u,f,p){u?p?ej(o,p):m1(o,f):m1(o,{user:null}),o.f=[],o.c=[]}vd.prototype.qa=function(){var o=this;return new Ue(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),tj(o))})};function tj(o){var u=new O("timeout");o.a&&o.a.cancel(),o.a=Ja(JU.get()).then(function(){o.b||(o.g=!0,Xs(o,!0,null,u))})}function y1(){}y1.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),we()):u.Fa(f,p)?nj(o,u):wt(new O("invalid-auth-event"))}else wt(new O("invalid-auth-event"))};function nj(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(p,g,null,f)}).o(function(g){u.na(p,null,g,f)})}function _1(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function py(o,u){this.a=u,ue(this,"verificationId",o)}py.prototype.confirm=function(o){return o=iS(this.verificationId,o),this.a(o)};function vy(o,u,f,p){return new no(o).fb(u,f).then(function(g){return new py(g,p)})}function rj(o){var u=WI(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Wn(this,{token:o,expirationTime:al(1e3*u.exp),authTime:al(1e3*u.auth_time),issuedAtTime:al(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function gy(o,u,f){var p=u&&u[b1];if(!p)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=Kt(u),this.g=f,this.c=new $h(null,p),this.b=[];var g=this;H(u[w1]||[],function(_){(_=um(_))&&g.b.push(_)}),ue(this,"auth",this.a),ue(this,"session",this.c),ue(this,"hints",this.b)}var w1="mfaInfo",b1="mfaPendingCredential";gy.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var p=Kt(u.f);return delete p[w1],delete p[b1],nr(p,f),u.g(p)})};function my(o,u,f,p){O.call(this,"multi-factor-auth-required",p,u),this.b=new gy(o,u,f),ue(this,"resolver",this.b)}de(my,O);function E1(o,u,f){if(o&&T(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new my(u,o.serverResponse,f,o.message)}catch{}return null}function T1(){}T1.prototype.sb=function(o,u,f){return u.type==fl?ij(this,o,u,f):oj(this,o,u)};function ij(o,u,f,p){return f.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),nr(g,{phoneVerificationInfo:hl(o.a)}),je(u,$2,g)})}function oj(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},nr(p,{phoneVerificationInfo:hl(o.a)}),je(u,z2,p)})}function yy(o){ue(this,"factorId",o.fa),this.a=o}de(yy,T1);function I1(o){if(yy.call(this,o),this.a.fa!=no.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}de(I1,yy);function du(o,u){ir.call(this,o);for(var f in u)this[f]=u[f]}de(du,ir);function _y(o,u){this.a=o,this.b=[],this.c=j(this.yc,this),Mr(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&H(u.multiFactor.enrolledFactors,function(p){var g=null,_={};if(p){p.uid&&(_[lm]=p.uid),p.displayName&&(_[NI]=p.displayName),p.enrollmentTime&&(_[cm]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[fm]=p.phoneNumber);try{g=new ul(_)}catch{}p=g}else p=null;p&&f.push(p)}),md(this,f)}function sj(o){var u=[];return H(o.mfaInfo||[],function(f){(f=um(f))&&u.push(f)}),u}t=_y.prototype,t.yc=function(o){md(this,sj(o.hd))};function md(o,u){o.b=u,ue(o,"enrolledFactors",u)}t.Rb=function(){return this.a.I().then(function(o){return new $h(o,null)})},t.fc=function(o,u){var f=this,p=this.a.a;return this.Rb().then(function(g){return o.sb(p,g,u)}).then(function(g){return Ni(f.a,g),f.a.reload()})},t.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(g){return je(p,pU,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var _=Ke(u.b,function(w){return w.uid!=f});return md(u,_),Ni(u.a,g),u.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:S(this.b,function(o){return o.w()})}}};function wy(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}wy.prototype.start=function(){this.a=this.c,by(this,!0)};function aj(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function by(o,u){o.stop(),o.b=Ja(aj(o,u)).then(function(){return UF()}).then(function(){return o.h()}).then(function(){by(o,!0)}).o(function(f){o.i(f)&&by(o,!1)})}wy.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Ey(o){this.f=o,this.b=this.a=null,this.c=Date.now()}Ey.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function S1(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function C1(o,u){o.b=Gh(u[Jr]||""),o.a=u.refreshToken,u=u.expiresIn,S1(o,typeof u<"u"?Number(u):void 0)}function uj(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function cj(o,u){return k2(o.f,u).then(function(f){return o.b=Gh(f.access_token),o.a=f.refresh_token,S1(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}Ey.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?wt(new O("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?cj(this,{grant_type:"refresh_token",refresh_token:this.a}):we(null):we({accessToken:this.b.toString(),refreshToken:this.a})};function yd(o,u){this.a=o||null,this.b=u||null,Wn(this,{lastSignInTime:al(u||null),creationTime:al(o||null)})}function lj(o){return new yd(o.a,o.b)}yd.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function fj(o,u,f,p,g,_){Wn(this,{uid:o,displayName:p||null,photoURL:g||null,email:f||null,phoneNumber:_||null,providerId:u})}function br(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=le.SDK_VERSION?nu(le.SDK_VERSION):null;this.a=new Xr(this.l,yt(Ge),p),o.emulatorConfig&&uu(this.a,o.emulatorConfig),this.b=new Ey(this.a),Ny(this,u[Jr]),C1(this.b,u),ue(this,"refreshToken",this.b.a),N1(this,f||{}),qn.call(this),this.R=!1,this.s&&Bs()&&(this.i=v1(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=hj(this),this.aa=j(this.hb,this);var g=this;this.ya=null,this.Oa=function(_){g.wa(_.h)},this.ja=null,this.Aa=function(_){uu(g.a,_.c)},this.X=null,this.$=[],this.Ba=function(_){Al(g,_.f)},this.ba=null,this.O=new _y(this,f),ue(this,"multiFactor",this.O)}de(br,qn),br.prototype.wa=function(o){this.ya=o,wS(this.a,o)},br.prototype.la=function(){return this.ya};function Ty(o,u){o.ja&&_r(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&Mr(u,"languageCodeChanged",o.Oa)}function Iy(o,u){o.X&&_r(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&Mr(u,"emulatorConfigChanged",o.Aa)}function Al(o,u){o.$=u,bS(o.a,le.SDK_VERSION?nu(le.SDK_VERSION,o.$):null)}br.prototype.Ga=function(){return z(this.$)};function Sy(o,u){o.ba&&_r(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&Mr(u,"frameworkChanged",o.Ba)}br.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Cy(o){try{return le.app(o.m).auth()}catch{throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function hj(o){return new wy(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function A1(o){o.D||o.u.b||(o.u.start(),_r(o,"tokenChanged",o.aa),Mr(o,"tokenChanged",o.aa))}function Ay(o){_r(o,"tokenChanged",o.aa),o.u.stop()}function Ny(o,u){o.za=u,ue(o,"_lat",u)}function dj(o,u){q(o.S,function(f){return f==u})}function Js(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return WT(u).then(function(){return o})}function Nl(o){o.i&&!o.R&&(o.R=!0,fy(o.i,o))}function N1(o,u){Wn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new yd(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ue(br.prototype,"providerId","firebase");function R1(){}function Ry(o){return we().then(function(){if(o.D)throw new O("app-deleted")})}function Oy(o){return S(o.providerData,function(u){return u.providerId})}function ky(o,u){u&&(O1(o,u.providerId),o.providerData.push(u))}function O1(o,u){q(o.providerData,function(f){return f.providerId==u})}function Wo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ue(o,u,f)}function _d(o,u){o!=u&&(Wn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ue(o,"metadata",lj(u.metadata)):ue(o,"metadata",new yd),H(u.providerData,function(f){ky(o,f)}),uj(o.b,u.b),ue(o,"refreshToken",o.b.a),md(o.O,u.O.b))}t=br.prototype,t.reload=function(){var o=this;return Qt(this,Ry(this).then(function(){return xy(o).then(function(){return Js(o)}).then(R1)}))};function xy(o){return o.I().then(function(u){var f=o.isAnonymous;return pj(o,u).then(function(){return f||Wo(o,"isAnonymous",!1),u})})}t.oc=function(o){return this.I(o).then(function(u){return new rj(u)})},t.I=function(o){var u=this;return Qt(this,Ry(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new O("internal-error");return f.accessToken!=u.za&&(Ny(u,f.accessToken),u.dispatchEvent(new du("tokenChanged"))),Wo(u,"refreshToken",f.refreshToken),f.accessToken}))};function Ni(o,u){u[Jr]&&o.za!=u[Jr]&&(C1(o.b,u),o.dispatchEvent(new du("tokenChanged")),Ny(o,u[Jr]),Wo(o,"refreshToken",o.b.a))}function pj(o,u){return je(o.a,K2,{idToken:u}).then(j(o.Kc,o))}t.Kc=function(o){if(o=o.users,!o||!o.length)throw new O("internal-error");o=o[0],N1(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=vj(o),f=0;f<u.length;f++)ky(this,u[f]);Wo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new du("userReloaded",{hd:o}))};function vj(o){return(o=o.providerUserInfo)&&o.length?S(o,function(u){return new fj(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}t.Lc=function(o){return rm("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},t.tb=function(o){var u=this,f=null;return Qt(this,o.c(this.a,this.uid).then(function(p){return Ni(u,p),f=Rl(u,p,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function wd(o,u){return xy(o).then(function(){if(L(Oy(o),u))return Js(o).then(function(){throw new O("provider-already-linked")})})}t.Cc=function(o){return rm("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},t.qb=function(o){var u=this,f=null;return Qt(this,wd(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=Rl(u,p,"link"),k1(u,p)}).then(function(){return f}))},t.Dc=function(o,u){var f=this;return Qt(this,wd(this,"phone").then(function(){return vy(Cy(f),o,u,j(f.qb,f))}))},t.Mc=function(o,u){var f=this;return Qt(this,we().then(function(){return vy(Cy(f),o,u,j(f.tb,f))}),!0)};function Rl(o,u,f){var p=Em(u);return u=GI(u),Ci({user:o,credential:p,additionalUserInfo:u,operationType:f})}function k1(o,u){return Ni(o,u),o.reload().then(function(){return o})}t.Bb=function(o){var u=this;return Qt(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return Ni(u,f),u.reload()}))},t.ed=function(o){var u=this;return Qt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Ni(u,f),u.reload()}))},t.Cb=function(o){var u=this;return Qt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Ni(u,f),u.reload()}))},t.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Ry(this);var u=this;return Qt(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Ni(u,f),Wo(u,"displayName",f.displayName||null),Wo(u,"photoURL",f.photoUrl||null),H(u.providerData,function(p){p.providerId==="password"&&(ue(p,"displayName",u.displayName),ue(p,"photoURL",u.photoURL))}),Js(u)}).then(R1))},t.cd=function(o){var u=this;return Qt(this,xy(this).then(function(f){return L(Oy(u),o)?U2(u.a,f,[o]).then(function(p){var g={};return H(p.providerUserInfo||[],function(_){g[_.providerId]=!0}),H(Oy(u),function(_){g[_]||O1(u,_)}),g[no.PROVIDER_ID]||ue(u,"phoneNumber",null),Js(u)}):Js(u).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var o=this;return Qt(this,this.I().then(function(u){return je(o.a,W2,{idToken:u})}).then(function(){o.dispatchEvent(new du("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");Ty(o,null),Iy(o,null),Sy(o,null),o.J=[],o.D=!0,Ay(o),ue(o,"refreshToken",null),o.i&&l1(o.i,o)})},t.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},t.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?j(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?j(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?j(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?j(this.Lb,this):null},t.Ec=function(o){var u=this;return x1(this,"linkViaPopup",o,function(){return wd(u,o.providerId).then(function(){return Js(u)})},!1)},t.Nc=function(o){return x1(this,"reauthViaPopup",o,function(){return we()},!0)};function x1(o,u,f,p,g){if(!Bs())return wt(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return wt(o.h);var _=gm(f.providerId),w=qs(o.uid+":::"),I=null;(!ol()||Zg())&&o.s&&f.isOAuthProvider&&(I=El(o.s,o.l,o.m,u,f,null,w,le.SDK_VERSION||null,null,null,o.tenantId));var F=_I(I,_&&_.ua,_&&_.ta);return p=p().then(function(){if(D1(o),!g)return o.I().then(function(){})}).then(function(){return f1(o.i,F,u,f,w,!!I,o.tenantId)}).then(function(){return new Ue(function(W,Se){o.na(u,null,new O("cancelled-popup-request"),o.g||null),o.f=W,o.C=Se,o.g=w,o.c=d1(o.i,o,u,F,w)})}).then(function(W){return F&&Vs(F),W?Ci(W):null}).o(function(W){throw F&&Vs(F),W}),Qt(o,p,g)}t.Fc=function(o){var u=this;return P1(this,"linkViaRedirect",o,function(){return wd(u,o.providerId)},!1)},t.Oc=function(o){return P1(this,"reauthViaRedirect",o,function(){return we()},!0)};function P1(o,u,f,p,g){if(!Bs())return wt(new O("operation-not-supported-in-this-environment"));if(o.h&&!g)return wt(o.h);var _=null,w=qs(o.uid+":::");return p=p().then(function(){if(D1(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=w,Js(o)}).then(function(I){return o.ha&&(I=o.ha,I=I.b.set(Py,o.w(),I.a)),I}).then(function(){return h1(o.i,u,f,w,o.tenantId)}).o(function(I){if(_=I,o.ha)return L1(o.ha);throw _}).then(function(){if(_)throw _}),Qt(o,p,g)}function D1(o){if(!o.i||!o.R)throw o.i&&!o.R?new O("internal-error"):new O("auth-domain-config-required")}t.Kb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return f=this.I().then(function(w){return Wm(g.a,{requestUri:o,postBody:p,sessionId:u,idToken:w})}).then(function(w){return _=Rl(g,w,"link"),k1(g,w)}).then(function(){return _}),Qt(this,f)},t.Lb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var _=null,w=we().then(function(){return su(Hm(g.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),g.uid)}).then(function(I){return _=Rl(g,I,"reauthenticate"),Ni(g,I),g.h=null,g.reload()}).then(function(){return _});return Qt(this,w,!0)},t.ub=function(o){var u=this,f=null;return Qt(this,this.I().then(function(p){return f=p,typeof o>"u"||xt(o)?{}:Wh(new qh(o))}).then(function(p){return u.a.ub(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},t.Eb=function(o,u){var f=this,p=null;return Qt(this,this.I().then(function(g){return p=g,typeof u>"u"||xt(u)?{}:Wh(new qh(u))}).then(function(g){return f.a.Eb(p,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function Qt(o,u,f){var p=gj(o,u,f);return o.J.push(p),p.oa(function(){B(o.J,p)}),p.o(function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=E1(g.w(),Cy(o),j(o.jc,o))),_||g})}t.jc=function(o){var u=null,f=this;return o=su(we(o),f.uid).then(function(p){return u=Rl(f,p,"reauthenticate"),Ni(f,p),f.h=null,f.reload()}).then(function(){return u}),Qt(this,o,!0)};function gj(o,u,f){return o.h&&!f?(u.cancel(),wt(o.h)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new du("userInvalidated")),o.h=p),p})}t.toJSON=function(){return this.w()},t.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&nr(o,this.metadata.w()),H(this.providerData,function(u){o.providerData.push(BF(u))}),nr(o,this.O.w()),o};function M1(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[Jr]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var g=new br(u,f,o);return o.providerData&&H(o.providerData,function(_){_&&ky(g,Ci(_))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function mj(o,u,f,p){var g=new br(o,u);return f&&(g.ha=f),p&&Al(g,p),g.reload().then(function(){return g})}function yj(o,u,f,p){var g=o.b,_={};return _[Jr]=g.b&&g.b.toString(),_.refreshToken=g.a,u=new br(u||{apiKey:o.l,authDomain:o.s,appName:o.m},_),f&&(u.ha=f),p&&Al(u,p),_d(u,o),u}function _j(o){this.a=o,this.b=Cl()}var Py={name:"redirectUser",F:"session"};function L1(o){return hu(o.b,Py,o.a)}function wj(o,u){return o.b.get(Py,o.a).then(function(f){return f&&u&&(f.authDomain=u),M1(f||{})})}function Dy(o){this.a=o,this.b=Cl(),this.c=null,this.f=bj(this),this.b.addListener(Ri("local"),this.a,j(this.g,this))}Dy.prototype.g=function(){var o=this,u=Ri("local");pu(this,function(){return we().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return My(o,"local").then(function(){o.c=u})})})};function My(o,u){var f=[],p;for(p in lu)lu[p]!==u&&f.push(hu(o.b,Ri(lu[p]),o.a));return f.push(hu(o.b,Ly,o.a)),lF(f)}function bj(o){var u=Ri("local"),f=Ri("session"),p=Ri("none");return LU(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(p,o.a).then(function(_){return _?p:o.b.get(u,o.a).then(function(w){return w?u:o.b.get(Ly,o.a).then(function(I){return I?Ri(I):u})})})}).then(function(g){return o.c=g,My(o,g.F)}).o(function(){o.c||(o.c=u)})}var Ly={name:"persistence",F:"session"};function Ri(o){return{name:"authUser",F:o}}Dy.prototype.xb=function(o){var u=null,f=this;return MU(o),pu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,My(f,o)}).then(function(){if(f.c=Ri(o),u)return f.b.set(f.c,u,f.a)}):we()})};function Ej(o){return pu(o,function(){return o.b.set(Ly,o.c.F,o.a)})}function F1(o,u){return pu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function U1(o){return pu(o,function(){return hu(o.b,o.c,o.a)})}function j1(o,u,f){return pu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),M1(p||{})})})}function pu(o,u){return o.f=o.f.then(u,u),o.f}function Zr(o){if(this.l=!1,ue(this,"settings",new _1),ue(this,"app",o),ut(this).options&&ut(this).options.apiKey)o=le.SDK_VERSION?nu(le.SDK_VERSION):null,this.a=new Xr(ut(this).options&&ut(this).options.apiKey,yt(Ge),o);else throw new O("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=le.INTERNAL.createSubscribe(j(this.zc,this)),this.X=void 0,this.bc=le.INTERNAL.createSubscribe(j(this.Ac,this)),vu(this,null),this.i=new Dy(ut(this).options.apiKey+":"+ut(this).name),this.D=new _j(ut(this).options.apiKey+":"+ut(this).name),this.$=Ot(this,Nj(this)),this.h=Ot(this,Rj(this)),this.ba=!1,this.ja=j(this.Zc,this),this.Ba=j(this.da,this),this.ya=j(this.mc,this),this.za=j(this.wc,this),this.Aa=j(this.xc,this),this.b=null,Sj(this),this.INTERNAL={},this.INTERNAL.delete=j(this.delete,this),this.INTERNAL.logFramework=j(this.Gc,this),this.u=0,qn.call(this),Ij(this),this.J=[],this.P=null}de(Zr,qn);function V1(o){ir.call(this,"languageCodeChanged"),this.h=o}de(V1,ir);function B1(o){ir.call(this,"emulatorConfigChanged"),this.c=o}de(B1,ir);function q1(o){ir.call(this,"frameworkChanged"),this.f=o}de(q1,ir),t=Zr.prototype,t.xb=function(o){return o=this.i.xb(o),Ot(this,o)},t.wa=function(o){this.aa===o||this.l||(this.aa=o,wS(this.a,this.aa),this.dispatchEvent(new V1(this.la())))},t.la=function(){return this.aa},t.fd=function(){var o=l.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},t.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,Tj(u),this.P={url:o,ec:u},this.settings.ib=!0,uu(this.a,this.P),this.dispatchEvent(new B1(this.P))}};function Tj(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!o&&jh().then(function(){var u=l.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),l.document.body.appendChild(u)})}t.Gc=function(o){this.J.push(o),bS(this.a,le.SDK_VERSION?nu(le.SDK_VERSION,this.J):null),this.dispatchEvent(new q1(this.J))},t.Ga=function(){return z(this.J)},t.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},t.T=function(){return this.S};function Ij(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=or(this.P.url);u=Ci({protocol:u.c,host:u.a,port:u.g,options:Ci({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}t.toJSON=function(){return{apiKey:ut(this).options.apiKey,authDomain:ut(this).options.authDomain,appName:ut(this).name,currentUser:Re(this)&&Re(this).w()}};function Fy(o){return o.Oa||wt(new O("auth-domain-config-required"))}function Sj(o){var u=ut(o).options.authDomain,f=ut(o).options.apiKey;u&&Bs()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=v1(u,f,ut(o).name,o.P),fy(o.b,o),Re(o)&&Nl(Re(o)),o.m){Nl(o.m);var p=o.m;p.wa(o.la()),Ty(p,o),p=o.m,Al(p,o.J),Sy(p,o),p=o.m,uu(p.a,o.P),Iy(p,o),o.m=null}return o.b}}))}t.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},t.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?j(this.ic,this):null},t.ic=function(o,u,f,p){var g=this,_={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Zs(g,qm(g.a,_))})},t.Xc=function(o){if(!Bs())return wt(new O("operation-not-supported-in-this-environment"));var u=this,f=gm(o.providerId),p=qs(),g=null;(!ol()||Zg())&&ut(this).options.authDomain&&o.isOAuthProvider&&(g=El(ut(this).options.authDomain,ut(this).options.apiKey,ut(this).name,"signInViaPopup",o,null,p,le.SDK_VERSION||null,null,null,this.T(),this.P));var _=_I(g,f&&f.ua,f&&f.ta);return f=Fy(this).then(function(w){return f1(w,_,"signInViaPopup",o,p,!!g,u.T())}).then(function(){return new Ue(function(w,I){u.na("signInViaPopup",null,new O("cancelled-popup-request"),u.g),u.f=w,u.C=I,u.g=p,u.c=d1(u.b,u,"signInViaPopup",_,p)})}).then(function(w){return _&&Vs(_),w?Ci(w):null}).o(function(w){throw _&&Vs(_),w}),Ot(this,f)},t.Yc=function(o){if(!Bs())return wt(new O("operation-not-supported-in-this-environment"));var u=this,f=Fy(this).then(function(){return Ej(u.i)}).then(function(){return h1(u.b,"signInViaRedirect",o,void 0,u.T())});return Ot(this,f)};function W1(o){if(!Bs())return wt(new O("operation-not-supported-in-this-environment"));var u=Fy(o).then(function(){return o.b.qa()}).then(function(f){return f?Ci(f):null});return Ot(o,u)}t.qa=function(){var o=this;return W1(this).then(function(u){return o.b&&gd(o.b.b),u}).o(function(u){throw o.b&&gd(o.b.b),u})},t.dd=function(o){if(!o)return wt(new O("null-user"));if(this.S!=o.tenantId)return wt(new O("tenant-id-mismatch"));var u=this,f={};f.apiKey=ut(this).options.apiKey,f.authDomain=ut(this).options.authDomain,f.appName=ut(this).name;var p=yj(o,f,u.D,u.Ga());return Ot(this,this.h.then(function(){if(ut(u).options.apiKey!=o.l)return p.reload()}).then(function(){return Re(u)&&o.uid==Re(u).uid?(_d(Re(u),o),u.da(o)):(vu(u,p),Nl(p),u.da(p))}).then(function(){Ol(u)}))};function Cj(o,u){var f={};return f.apiKey=ut(o).options.apiKey,f.authDomain=ut(o).options.authDomain,f.appName=ut(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return mj(f,u,o.D,o.Ga())}).then(function(p){return Re(o)&&p.uid==Re(o).uid?(_d(Re(o),p),o.da(p)):(vu(o,p),Nl(p),o.da(p))}).then(function(){Ol(o)})}function vu(o,u){Re(o)&&(dj(Re(o),o.Ba),_r(Re(o),"tokenChanged",o.ya),_r(Re(o),"userDeleted",o.za),_r(Re(o),"userInvalidated",o.Aa),Ay(Re(o))),u&&(u.S.push(o.Ba),Mr(u,"tokenChanged",o.ya),Mr(u,"userDeleted",o.za),Mr(u,"userInvalidated",o.Aa),0<o.u&&A1(u)),ue(o,"currentUser",u),u&&(u.wa(o.la()),Ty(u,o),Al(u,o.J),Sy(u,o),uu(u.a,o.P),Iy(u,o))}t.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&gd(o.b.b),Re(o)?(vu(o,null),U1(o.i).then(function(){Ol(o)})):we()});return Ot(this,u)};function Aj(o){var u=wj(o.D,ut(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),L1(o.D)});return Ot(o,u)}function Nj(o){var u=ut(o).options.authDomain,f=Aj(o).then(function(){return j1(o.i,u,o.P)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return F1(o.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:U1(o.i)})):null}).then(function(p){vu(o,p||null)});return Ot(o,f)}function Rj(o){return o.$.then(function(){return W1(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Ri("local"),u.a,o.ja)}})}t.Zc=function(){var o=this;return j1(this.i,ut(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Re(o)&&u){f=Re(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return _d(Re(o),u),Re(o).I();(Re(o)||u)&&(vu(o,u),u&&(Nl(u),u.ha=o.D),o.b&&fy(o.b,o),Ol(o))}})},t.da=function(o){return F1(this.i,o)},t.mc=function(){Ol(this),this.da(Re(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()};function Zs(o,u){var f=null,p=null;return Ot(o,u.then(function(g){return f=Em(g),p=GI(g),Cj(o,g)},function(g){var _=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(_=E1(g.w(),o,j(o.kc,o))),_||g}).then(function(){return Ci({user:Re(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}t.kc=function(o){var u=this;return this.h.then(function(){return Zs(u,we(o))})},t.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Re(u))})},t.Ac=function(o){var u=this;Oj(this,function(){o.next(Re(u))})},t.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Re(p)):typeof o.next=="function"&&o.next(Re(p))}),this.hb(o,u,f)},t.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(Re(p)):typeof o.next=="function"&&o.next(Re(p))}),this.bc(o,u,f)},t.nc=function(o){var u=this,f=this.h.then(function(){return Re(u)?Re(u).I(o).then(function(p){return{accessToken:p}}):null});return Ot(this,f)},t.Tc=function(o){var u=this;return this.h.then(function(){return Zs(u,je(u.a,lU,{token:o}))}).then(function(f){var p=f.user;return Wo(p,"isAnonymous",!1),u.da(p),f})},t.Uc=function(o,u){var f=this;return this.h.then(function(){return Zs(f,je(f.a,OS,{email:o,password:u}))})},t.dc=function(o,u){var f=this;return this.h.then(function(){return Zs(f,je(f.a,B2,{email:o,password:u}))})},t.$a=function(o){var u=this;return this.h.then(function(){return Zs(u,o.ka(u.a))})},t.Sc=function(o){return rm("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},t.zb=function(){var o=this;return this.h.then(function(){var u=Re(o);if(u&&u.isAnonymous){var f=Ci({providerId:null,isNewUser:!1});return Ci({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Zs(o,o.a.zb()).then(function(p){var g=p.user;return Wo(g,"isAnonymous",!0),o.da(g),p})})};function ut(o){return o.app}function Re(o){return o.currentUser}t.getUid=function(){return Re(this)&&Re(this).uid||null};function bd(o){return Re(o)&&Re(o)._lat||null}function Ol(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](bd(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](bd(o))}}t.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Re(this)&&A1(Re(this))},t.Pc=function(o){var u=this;H(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Re(this)&&Ay(Re(this)),this.removeAuthTokenListener(o)},t.addAuthTokenListener=function(o){var u=this;this.s.push(o),Ot(this,this.h.then(function(){u.l||L(u.s,o)&&o(bd(u))}))},t.removeAuthTokenListener=function(o){q(this.s,function(u){return u==o})};function Oj(o,u){o.O.push(u),Ot(o,o.h.then(function(){!o.l&&L(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(bd(o)))}))}t.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Ri("local"),o.a,this.ja)),this.b&&(l1(this.b,this),gd(this.b.b)),Promise.resolve()};function Ot(o,u){return o.R.push(u),u.oa(function(){B(o.R,u)}),u}t.hc=function(o){return Ot(this,x2(this.a,o))},t.Bc=function(o){return!!bm(o)},t.wb=function(o,u){var f=this;return Ot(this,we().then(function(){var p=new qh(u);if(!p.c)throw new O("argument-error",pm+" must be true when sending sign in link to email");return Wh(p)}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},t.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},t.nb=function(o,u){return Ot(this,this.a.nb(o,u).then(function(){}))},t.Ra=function(o){return Ot(this,this.a.Ra(o).then(function(u){return new WF(u)}))},t.jb=function(o){return Ot(this,this.a.jb(o).then(function(){}))},t.vb=function(o,u){var f=this;return Ot(this,we().then(function(){return typeof u>"u"||xt(u)?{}:Wh(new qh(u))}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},t.Wc=function(o,u){return Ot(this,vy(this,o,u,j(this.$a,this)))},t.Vc=function(o,u){var f=this;return Ot(this,we().then(function(){var p=u||il(),g=rS(o,p);if(p=bm(p),!p)throw new O("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new O("tenant-id-mismatch");return f.$a(g)}))};function kl(){}kl.prototype.render=function(){},kl.prototype.reset=function(){},kl.prototype.getResponse=function(){},kl.prototype.execute=function(){};function gu(){this.a={},this.b=1e12}var Uy=null;gu.prototype.render=function(o,u){return this.a[this.b.toString()]=new Ed(o,u),this.b++},gu.prototype.reset=function(o){var u=jy(this,o);o=H1(o),u&&o&&(u.delete(),delete this.a[o])},gu.prototype.getResponse=function(o){return(o=jy(this,o))?o.getResponse():null},gu.prototype.execute=function(o){(o=jy(this,o))&&o.execute()};function jy(o,u){return(u=H1(u))&&o.a[u]||null}function H1(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Ed(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Xc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Mr(this.f,"click",this.i)}Ed.prototype.getResponse=function(){return Vy(this),this.b},Ed.prototype.execute=function(){Vy(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=FF();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Ed.prototype.delete=function(){Vy(this),this.g=!0,clearTimeout(this.a),this.a=null,_r(this.f,"click",this.i)};function Vy(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function By(){}ue(By,"FACTOR_ID","phone");function qy(){}qy.prototype.g=function(){return Uy||(Uy=new gu),we(Uy)},qy.prototype.c=function(){};var Wy=null;function Hy(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var kj=new Ti(Ch,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),xj=new Vo(3e4,6e4);Hy.prototype.g=function(o){var u=this;return new Ue(function(f,p){var g=setTimeout(function(){p(new O("network-request-failed"))},xj.get());if(!l.grecaptcha||o!==u.f&&!u.b){l[u.a]=function(){if(l.grecaptcha){u.f=o;var w=l.grecaptcha.render;l.grecaptcha.render=function(I,F){return I=w(I,F),u.b++,I},clearTimeout(g),f(l.grecaptcha)}else clearTimeout(g),p(new O("internal-error"));delete l[u.a]};var _=Ag(kj,{onload:u.a,hl:o||""});we(Mm(_)).o(function(){clearTimeout(g),p(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(l.grecaptcha)})},Hy.prototype.c=function(){this.b--};var Gy=null;function Yy(o,u,f,p,g,_,w){if(ue(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,w?(Wy||(Wy=new qy),w=Wy):(Gy||(Gy=new Hy),w=Gy),this.m=w,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[$1])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Pj]==="invisible",!l.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Xc(u)||!this.i&&Xc(u).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xr(o,_||null,g||null),this.u=p||function(){return null};var I=this;this.l=[];var F=this.a[G1];this.a[G1]=function(Se){if(z1(I,Se),typeof F=="function")F(Se);else if(typeof F=="string"){var rt=bt(F,l);typeof rt=="function"&&rt(Se)}};var W=this.a[Y1];this.a[Y1]=function(){if(z1(I,null),typeof W=="function")W();else if(typeof W=="string"){var Se=bt(W,l);typeof Se=="function"&&Se()}}}var G1="callback",Y1="expired-callback",$1="sitekey",Pj="size";function z1(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function Dj(o,u){q(o.l,function(f){return f==u})}function $y(o,u){return o.h.push(u),u.oa(function(){B(o.h,u)}),u}t=Yy.prototype,t.Ia=function(){var o=this;return this.f?this.f:this.f=$y(this,we().then(function(){if(Vh()&&!Kr())return jh();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,je(o.s,tU,{})}).then(function(u){o.a[$1]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},t.render=function(){Td(this);var o=this;return $y(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Xc(u);u=sF("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},t.verify=function(){Td(this);var o=this;return $y(this,this.render().then(function(u){return new Ue(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var g=function(_){_&&(Dj(o,g),f(_))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},t.reset=function(){Td(this),this.c!==null&&this.g.reset(this.c)};function Td(o){if(o.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){Td(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Xc(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function zy(o,u,f){var p=!1;try{this.b=f||le.app()}catch{throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new O("invalid-api-key");var g=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=le.SDK_VERSION?nu(le.SDK_VERSION,_):null,Yy.call(this,f,o,u,function(){try{var w=g.b.auth().la()}catch{w=null}return w},_,yt(Ge),p)}de(zy,Yy);function K1(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var g=0,_=!1,w=0;w<u.length;w++)if(u[w].optional)_=!0;else{if(_)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(_=u.length,f.length<g||_<f.length)p="Expected "+(g==_?g==1?"1 argument":g+" arguments":g+"-"+_+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(_=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!_){if(u=u[g],0>g||g>=Q1.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");f=Q1[g],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new O("argument-error",o+" failed: "+p)}var Q1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ae(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function Ky(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function qt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:T}}function mu(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function Oi(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function Mj(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function Lj(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof Zr)}}}function Fj(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof le.app.App)}}}function Ho(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function X1(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function yu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function Qy(o,u){return T(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function J1(o){return T(o)&&typeof o.uid=="string"}function Id(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function Dt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(g){return o.M(g)||u.M(g)}}}function Ct(o,u){for(var f in u){var p=u[f].name;o[p]=eC(p,o[f],u[f].j)}}function Z1(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:Te(function(g){return this[g]},f),set:Te(function(g,_,w,I){K1(g,[w],[I],!0),this[_]=I},p,f,u[f].kb),enumerable:!0})}}function Mt(o,u,f,p){o[u]=eC(u,f,p)}function eC(o,u,f){function p(){var w=Array.prototype.slice.call(arguments);return K1(g,f,w),u.apply(this,w)}if(!f)return u;var g=Uj(o),_;for(_ in u)p[_]=u[_];for(_ in u.prototype)p.prototype[_]=u.prototype[_];return p}function Uj(o){return o=o.split("."),o[o.length-1]}Ct(Zr.prototype,{jb:{name:"applyActionCode",j:[ae("code")]},Ra:{name:"checkActionCode",j:[ae("code")]},nb:{name:"confirmPasswordReset",j:[ae("code"),ae("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ae("email"),ae("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ae("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ae("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Dt(qt(),mu(),"nextOrObserver"),mu("opt_error",!0),mu("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Dt(qt(),mu(),"nextOrObserver"),mu("opt_error",!0),mu("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[ae("email"),Dt(qt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[ae("email"),qt("actionCodeSettings")]},xb:{name:"setPersistence",j:[ae("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ho()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Ho()]},Tc:{name:"signInWithCustomToken",j:[ae("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ae("email"),ae("password")]},Vc:{name:"signInWithEmailLink",j:[ae("email"),ae("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ae("phoneNumber"),Id()]},Xc:{name:"signInWithPopup",j:[yu()]},Yc:{name:"signInWithRedirect",j:[yu()]},dd:{name:"updateCurrentUser",j:[Dt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof br)}}}(),Oi(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ae(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ae("url"),qt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ae("code")]}}),Z1(Zr.prototype,{lc:{name:"languageCode",kb:Dt(ae(),Oi(),"languageCode")},ti:{name:"tenantId",kb:Dt(ae(),Oi(),"tenantId")}}),Zr.Persistence=lu,Zr.Persistence.LOCAL="local",Zr.Persistence.SESSION="session",Zr.Persistence.NONE="none",Ct(br.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ky("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ky("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ho()]},qb:{name:"linkWithCredential",j:[Ho()]},Dc:{name:"linkWithPhoneNumber",j:[ae("phoneNumber"),Id()]},Ec:{name:"linkWithPopup",j:[yu()]},Fc:{name:"linkWithRedirect",j:[yu()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ho()]},tb:{name:"reauthenticateWithCredential",j:[Ho()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ae("phoneNumber"),Id()]},Nc:{name:"reauthenticateWithPopup",j:[yu()]},Oc:{name:"reauthenticateWithRedirect",j:[yu()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Dt(qt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ae(null,!0)]},cd:{name:"unlink",j:[ae("provider")]},Bb:{name:"updateEmail",j:[ae("email")]},Cb:{name:"updatePassword",j:[ae("password")]},ed:{name:"updatePhoneNumber",j:[Ho("phone")]},Db:{name:"updateProfile",j:[qt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[ae("email"),Dt(qt("opt_actionCodeSettings",!0),Oi(null,!0),"opt_actionCodeSettings",!0)]}}),Ct(gu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ct(kl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ct(Ue.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Z1(_1.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Ky("appVerificationDisabledForTesting")}}),Ct(py.prototype,{confirm:{name:"confirm",j:[ae("verificationCode")]}}),Mt(ou,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[a2,u2,c2,s2],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[Dt(ae(),qt(),"json")]),Mt(Fr,"credential",function(o,u){return new Bo(o,u)},[ae("email"),ae("password")]),Ct(Bo.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),Ct(Gs.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Mt(Gs,"credential",ZI,[Dt(ae(),qt(),"token")]),Mt(Fr,"credentialWithLink",rS,[ae("email"),ae("emailLink")]),Ct(Ys.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Mt(Ys,"credential",eS,[Dt(ae(),qt(),"token")]),Ct($s.prototype,{Ca:{name:"addScope",j:[ae("scope")]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Mt($s,"credential",tS,[Dt(ae(),Dt(qt(),Oi()),"idToken"),Dt(ae(),Oi(),"accessToken",!0)]),Ct(au.prototype,{Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Mt(au,"credential",nS,[Dt(ae(),qt(),"token"),ae("secret",!0)]),Ct(wr.prototype,{Ca:{name:"addScope",j:[ae("scope")]},credential:{name:"credential",j:[Dt(ae(),Dt(qt(),Oi()),"optionsOrIdToken"),Dt(ae(),Oi(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qt("customOAuthParameters")]}}),Ct(to.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),Ct(Ws.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),Mt(no,"credential",iS,[ae("verificationId"),ae("verificationCode")]),Ct(no.prototype,{fb:{name:"verifyPhoneNumber",j:[Dt(ae(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?Qy(f.session,fl)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?Qy(f.session,zh)&&J1(f.multiFactorHint):f.session&&f.multiFactorUid?Qy(f.session,zh)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Id()]}}),Ct(qo.prototype,{w:{name:"toJSON",j:[ae(null,!0)]}}),Ct(O.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),Ct(dl.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),Ct(Sm.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),Ct(my.prototype,{toJSON:{name:"toJSON",j:[ae(null,!0)]}}),Ct(gy.prototype,{Rc:{name:"resolveSignIn",j:[X1()]}}),Ct(_y.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[X1(),ae("displayName",!0)]},bd:{name:"unenroll",j:[Dt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:J1},ae(),"multiFactorInfoIdentifier")]}}),Ct(zy.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mt(dm,"parseLink",MI,[ae("link")]),Mt(By,"assertion",function(o){return new I1(o)},[Ho("phone")]),function(){if(typeof le<"u"&&le.INTERNAL&&le.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Bh,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hm,VERIFY_AND_CHANGE_EMAIL:cl,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Zr,AuthCredential:ou,Error:O};Mt(o,"EmailAuthProvider",Fr,[]),Mt(o,"FacebookAuthProvider",Gs,[]),Mt(o,"GithubAuthProvider",Ys,[]),Mt(o,"GoogleAuthProvider",$s,[]),Mt(o,"TwitterAuthProvider",au,[]),Mt(o,"OAuthProvider",wr,[ae("providerId")]),Mt(o,"SAMLAuthProvider",JI,[ae("providerId")]),Mt(o,"PhoneAuthProvider",no,[Lj()]),Mt(o,"RecaptchaVerifier",zy,[Dt(ae(),Mj(),"recaptchaContainer"),qt("recaptchaParameters",!0),Fj()]),Mt(o,"ActionCodeURL",dm,[]),Mt(o,"PhoneMultiFactorGenerator",By,[]),le.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new Zr(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),le.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:j(u.getUid,u),getToken:j(u.nc,u),addAuthTokenListener:j(u.cc,u),removeAuthTokenListener:j(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),le.registerVersion("@firebase/auth","0.16.3"),le.INTERNAL.extendNamespace({User:br})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZY=function(){function t(e){this.domStorage_=e,this.prefix_="firebase:"}return t.prototype.set=function(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Zt(n))},t.prototype.get=function(e){var n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:If(n)},t.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prototype.prefixedName_=function(e){return this.prefix_+e},t.prototype.toString=function(){return this.domStorage_.toString()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e$=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n},t.prototype.get=function(e){return pr(this.cache_,e)?this.cache_[e]:null},t.prototype.remove=function(e){delete this.cache_[e]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tx=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ZY(e)}}catch{}return new e$},fa=tx("localStorage"),Rw=tx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zu=new Dc("@firebase/database"),nx=function(){var t=1;return function(){return t++}}(),rx=function(t){var e=bY(t),n=new mY;n.update(e);var r=n.digest();return lb.encodeByteArray(r)},nh=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=nh.apply(null,i):typeof i=="object"?n+=Zt(i):n+=i,n+=" "}return n},_a=null,aA=!0,ix=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(zu.logLevel=Me.VERBOSE,_a=zu.log.bind(zu),e&&Rw.set("logging_enabled",!0)):typeof t=="function"?_a=t:(_a=null,Rw.remove("logging_enabled"))},En=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(aA===!0&&(aA=!1,_a===null&&Rw.get("logging_enabled")===!0&&ix(!0)),_a){var n=nh.apply(null,t);_a(n)}},rh=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];En.apply(void 0,Po([t],e))}},Ow=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+nh.apply(void 0,Po(t));zu.error(n)},Fi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+nh.apply(void 0,Po(t));throw zu.error(n),new Error(n)},Dn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+nh.apply(void 0,Po(t));zu.warn(n)},t$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Bv=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},n$=function(t){if(document.readyState==="complete")t();else{var e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},So="[MIN_NAME]",Gi="[MAX_NAME]",Va=function(t,e){if(t===e)return 0;if(t===So||e===Gi)return-1;if(e===So||t===Gi)return 1;var n=xp(t),r=xp(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1},r$=function(t,e){return t===e?0:t<e?-1:1},Ll=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Zt(e))},mb=function(t){if(typeof t!="object"||t===null)return Zt(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)i!==0&&(r+=","),r+=Zt(e[i]),r+=":",r+=mb(t[e[i]]);return r+="}",r},ox=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function en(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var sx=function(t){K(!Bv(t),"Invalid JSON number");var e=11,n=52,r=(1<<e-1)-1,i,s,a,c,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=c+r,a=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,a=Math.round(t/Math.pow(2,1-r-n))));var h=[];for(l=n;l;l-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(l=0;l<64;l+=8){var m=parseInt(d.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},i$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},o$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},s$=function(t,e){var n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},a$=new RegExp("^-?(0*)\\d{1,10}$"),ax=-2147483648,yb=2147483647,xp=function(t){if(a$.test(t)){var e=Number(t);if(e>=ax&&e<=yb)return e}return null},Lu=function(t){try{t()}catch(e){setTimeout(function(){var n=e.stack||"";throw Dn("Exception was thrown by user callback.",n),e},Math.floor(0))}},u$=function(){var t=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},nf=function(t,e){var n=setTimeout(t,e);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re=function(){function t(e,n){if(n===void 0){this.pieces_=e.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"},t.prototype.toUrlEncodedString=function(){for(var e="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(this.pieces_[n])));return e||"/"},t.prototype.slice=function(e){return e===void 0&&(e=0),this.pieces_.slice(this.pieceNum_+e)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(r===null)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(e,n){for(var r=e.slice(),i=n.slice(),s=0;s<r.length&&s<i.length;s++){var a=Va(r[s],i[s]);if(a!==0)return a}return r.length===i.length?0:r.length<i.length?-1:1},t.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var n=this.pieceNum_,r=e.pieceNum_;n<=this.pieces_.length;n++,r++)if(this.pieces_[n]!==e.pieces_[r])return!1;return!0},t.prototype.contains=function(e){var n=this.pieceNum_,r=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;n<this.pieces_.length;){if(this.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0},t}(),c$=function(){function t(e,n){this.errorPrefix_=n,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=op(this.parts_[r]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=op(e),this.checkValid_()},t.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=op(e),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return this.parts_.length===0?"":"in property '"+this.parts_.join(".")+"'"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _b="5",ux="v",cx="s",lx="r",fx="f",hx=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dx="ls",l$="p",px="websocket",vx="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wb=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=!1),a===void 0&&(a=""),c===void 0&&(c=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=c,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=fa.get("host:"+e)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},t.prototype.isDemoHost=function(){return this.domain==="firebaseio-demo.com"},t.prototype.isCustomHost=function(){return this.domain!=="firebaseio.com"&&this.domain!=="firebaseio-demo.com"},t.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fa.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");var r;if(e===px)r=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else if(e===vx)r=(this.secure?"https://":"http://")+this.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);this.needsQueryParam()&&(n.ns=this.namespace);var i=[];return en(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")},t.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.prototype.toURLString=function(){var e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f$(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function h$(t){var e,n,r={};t.charAt(0)==="?"&&(t=t.substring(1));try{for(var i=Ft(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var c=a.split("=");c.length===2?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):Dn("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var kw=function(t,e){var n=d$(t),r=n.namespace;n.domain==="firebase.com"&&Fi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Fi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||t$();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new wb(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new re(n.pathString)}},d$=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",l=443;if(typeof t=="string"){var h=t.indexOf("//");h>=0&&(c=t.substring(0,h-1),t=t.substring(h+2));var d=t.indexOf("/");d===-1&&(d=t.length);var v=t.indexOf("?");v===-1&&(v=t.length),e=t.substring(0,Math.min(d,v)),d<v&&(i=f$(t.substring(d,v)));var m=h$(t.substring(Math.min(t.length,v)));h=e.indexOf(":"),h>=0?(a=c==="https"||c==="wss",l=parseInt(e.substring(h+1),10)):h=e.length;var y=e.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var b=e.indexOf(".");r=e.substring(0,b).toLowerCase(),n=e.substring(b+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p$=/[\[\].#$\/\u0000-\u001F\u007F]/,v$=/[\[\].#$\u0000-\u001F\u007F]/,h_=10*1024*1024,qv=function(t){return typeof t=="string"&&t.length!==0&&!p$.test(t)},gx=function(t){return typeof t=="string"&&t.length!==0&&!v$.test(t)},g$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),gx(t)},Sf=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Bv(t)||t&&typeof t=="object"&&pr(t,".sv")},Li=function(t,e,n,r,i){i&&n===void 0||Cf(Hr(t,e,i),n,r)},Cf=function(t,e,n){var r=n instanceof re?new c$(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+r.toErrorString());if(typeof e=="function")throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(Bv(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if(typeof e=="string"&&e.length>h_/3&&op(e)>h_)throw new Error(t+"contains a string greater than "+h_+" utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){var i=!1,s=!1;if(en(e,function(a,c){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!qv(a)))throw new Error(t+" contains an invalid key ("+a+") "+r.toErrorString()+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);r.push(a),Cf(t,c,r),r.pop()}),i&&s)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},m$=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!qv(i[s]))throw new Error(t+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(re.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],a!==null&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},mx=function(t,e,n,r,i){if(!(i&&n===void 0)){var s=Hr(t,e,i);if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(s+" must be an object containing the children to replace.");var a=[];en(n,function(c,l){var h=new re(c);if(Cf(s,l,r.child(h)),h.getBack()===".priority"&&!Sf(l))throw new Error(s+"contains an invalid value for '"+h.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(h)}),m$(s,a)}},xw=function(t,e,n,r){if(!(r&&n===void 0)){if(Bv(n))throw new Error(Hr(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Sf(n))throw new Error(Hr(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},d_=function(t,e,n,r){if(!(r&&n===void 0))switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Hr(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Fl=function(t,e,n,r){if(!(r&&n===void 0)&&!qv(n))throw new Error(Hr(t,e,r)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Af=function(t,e,n,r){if(!(r&&n===void 0)&&!gx(n))throw new Error(Hr(t,e,r)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},y$=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Af(t,e,n,r)},jr=function(t,e){if(e.getFront()===".info")throw new Error(t+" failed = Can't modify data under /.info/")},yx=function(t,e,n){var r=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!qv(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!g$(r))throw new Error(Hr(t,e,!1)+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},_$=function(t,e,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Hr(t,e,r)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w$=function(){function t(e,n){this.repo_=e,this.path_=n}return t.prototype.cancel=function(e){be("OnDisconnect.cancel",0,1,arguments.length),hn("OnDisconnect.cancel",1,e,!0);var n=new cr;return this.repo_.onDisconnectCancel(this.path_,n.wrapCallback(e)),n.promise},t.prototype.remove=function(e){be("OnDisconnect.remove",0,1,arguments.length),jr("OnDisconnect.remove",this.path_),hn("OnDisconnect.remove",1,e,!0);var n=new cr;return this.repo_.onDisconnectSet(this.path_,null,n.wrapCallback(e)),n.promise},t.prototype.set=function(e,n){be("OnDisconnect.set",1,2,arguments.length),jr("OnDisconnect.set",this.path_),Li("OnDisconnect.set",1,e,this.path_,!1),hn("OnDisconnect.set",2,n,!0);var r=new cr;return this.repo_.onDisconnectSet(this.path_,e,r.wrapCallback(n)),r.promise},t.prototype.setWithPriority=function(e,n,r){be("OnDisconnect.setWithPriority",2,3,arguments.length),jr("OnDisconnect.setWithPriority",this.path_),Li("OnDisconnect.setWithPriority",1,e,this.path_,!1),xw("OnDisconnect.setWithPriority",2,n,!1),hn("OnDisconnect.setWithPriority",3,r,!0);var i=new cr;return this.repo_.onDisconnectSetWithPriority(this.path_,e,n,i.wrapCallback(r)),i.promise},t.prototype.update=function(e,n){if(be("OnDisconnect.update",1,2,arguments.length),jr("OnDisconnect.update",this.path_),Array.isArray(e)){for(var r={},i=0;i<e.length;++i)r[""+i]=e[i];e=r,Dn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mx("OnDisconnect.update",1,e,this.path_,!1),hn("OnDisconnect.update",2,n,!0);var s=new cr;return this.repo_.onDisconnectUpdate(this.path_,e,s.wrapCallback(n)),s.promise},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b$=function(){function t(e,n){this.committed=e,this.snapshot=n}return t.prototype.toJSON=function(){return be("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Pw="-",_x="z",wx=786,E$=function(){var t=0,e=[];return function(n){var r=n===t;t=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=sc.charAt(n%64),n=Math.floor(n/64);K(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=sc.charAt(e[i]);return K(a.length===20,"nextPushId: Length should be 20."),a}}(),uA=function(t){if(t===""+yb)return Pw;var e=xp(t);if(e!=null)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<wx)return n.push(Pw),n.join("");for(var i=n.length-1;i>=0&&n[i]===_x;)i--;if(i===-1)return Gi;var s=n[i],a=sc.charAt(sc.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},cA=function(t){if(t===""+ax)return So;var e=xp(t);if(e!=null)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===Pw?n.length===1?""+yb:(delete n[n.length-1],n.join("")):(n[n.length-1]=sc.charAt(sc.indexOf(n[n.length-1])-1),n.join("")+_x.repeat(wx-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be=function(){function t(e,n){this.name=e,this.node=n}return t.Wrap=function(e,n){return new t(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wv=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(e,n){var r=new Be(So,e),i=new Be(So,n);return this.compare(r,i)!==0},t.prototype.minPost=function(){return Be.MIN},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pd,bx=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Pd},set:function(n){Pd=n},enumerable:!1,configurable:!0}),e.prototype.compare=function(n,r){return Va(n.name,r.name)},e.prototype.isDefinedOn=function(n){throw xc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(n,r){return!1},e.prototype.minPost=function(){return Be.MIN},e.prototype.maxPost=function(){return new Be(Gi,Pd)},e.prototype.makePost=function(n,r){return K(typeof n=="string","KeyIndex indexValue must always be a string."),new Be(n,Pd)},e.prototype.toString=function(){return".key"},e}(Wv),ji=new bx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dw;function T$(t){Dw=t}var Ex=function(t){return typeof t=="number"?"number:"+sx(t):"string:"+t},Tx=function(t){if(t.isLeafNode()){var e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&pr(e,".sv"),"Priority must be a string or number.")}else K(t===Dw||t.isEmpty(),"priority of unexpected type.");K(t===Dw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lA,ac=function(){function t(e,n){n===void 0&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Tx(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return lA},set:function(e){lA=e},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return e===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:e.getFront()===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(e,n){return null},t.prototype.updateImmediateChild=function(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||e.getLength()===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(e,n){return!1},t.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ex(this.priorityNode_.val())+":");var n=typeof this.value_;e+=n+":",n==="number"?e+=sx(this.value_):e+=this.value_,this.lazyHash_=rx(e)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return K(i>=0,"Unknown leaf type: "+n),K(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ix,Sx;function I$(t){Ix=t}function S$(t){Sx=t}var C$=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?Va(n.name,r.name):a},e.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},e.prototype.minPost=function(){return Be.MIN},e.prototype.maxPost=function(){return new Be(Gi,new ac("[PRIORITY-POST]",Sx))},e.prototype.makePost=function(n,r){var i=Ix(n);return new Be(r,new ac("[PRIORITY-POST]",i))},e.prototype.toString=function(){return".priority"},e}(Wv),ct=new C$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dd=function(){function t(e,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(e=e,a=n?r(e.key,n):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}return t.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},t}(),ri=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??vo.EMPTY_NODE,this.right=s??vo.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,r){var i=this,s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return vo.EMPTY_NODE;var e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()},t.prototype.remove=function(e,n){var r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vo.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e},t.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),A$=function(){function t(){}return t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.insert=function(e,n,r){return new ri(e,n,null)},t.prototype.remove=function(e,n){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),vo=function(){function t(e,n){n===void 0&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ri.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ri.BLACK,null,null))},t.prototype.get=function(e){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},t.prototype.getPredecessorKey=function(e){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.prototype.getIterator=function(e){return new Dd(this.root_,null,this.comparator_,!1,e)},t.prototype.getIteratorFrom=function(e,n){return new Dd(this.root_,e,this.comparator_,!1,n)},t.prototype.getReverseIteratorFrom=function(e,n){return new Dd(this.root_,e,this.comparator_,!0,n)},t.prototype.getReverseIterator=function(e){return new Dd(this.root_,null,this.comparator_,!0,e)},t.EMPTY_NODE=new A$,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var N$=Math.log(2),R$=function(){function t(e){var n=function(s){return parseInt(Math.log(s)/N$,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(e+1),this.current_=this.count-1;var i=r(this.count);this.bits_=e+1&i}return t.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},t}(),Pp=function(t,e,n,r){t.sort(e);var i=function(l,h){var d=h-l,v,m;if(d===0)return null;if(d===1)return v=t[l],m=n?n(v):v,new ri(m,v.node,ri.BLACK,null,null);var y=parseInt(d/2,10)+l,b=i(l,y),E=i(y+1,h);return v=t[y],m=n?n(v):v,new ri(m,v.node,ri.BLACK,b,E)},s=function(l){for(var h=null,d=null,v=t.length,m=function(A,x){var M=v-A,U=v;v-=A;var X=i(M+1,U),j=t[M],Te=n?n(j):j;y(new ri(Te,j.node,x,null,X))},y=function(A){h?(h.left=A,h=A):(d=A,h=A)},b=0;b<l.count;++b){var E=l.nextBitIsOne(),T=Math.pow(2,l.count-(b+1));E?m(T,ri.BLACK):(m(T,ri.BLACK),m(T,ri.RED))}return d},a=new R$(t.length),c=s(a);return new vo(r||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p_,Tu={},Dp=function(){function t(e,n){this.indexes_=e,this.indexSet_=n}return Object.defineProperty(t,"Default",{get:function(){return K(Tu&&ct,"ChildrenNode.ts has not been loaded"),p_=p_||new t({".priority":Tu},{".priority":ct}),p_},enumerable:!1,configurable:!0}),t.prototype.get=function(e){var n=ai(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vo?n:null},t.prototype.hasIndex=function(e){return pr(this.indexSet_,e.toString())},t.prototype.addIndex=function(e,n){K(e!==ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(Be.Wrap),a=s.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();var c;i?c=Pp(r,e.getCompare()):c=Tu;var l=e.toString(),h=ht({},this.indexSet_);h[l]=e;var d=ht({},this.indexes_);return d[l]=c,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this,i=Op(this.indexes_,function(s,a){var c=ai(r.indexSet_,a);if(K(c,"Missing index implementation for "+a),s===Tu)if(c.isDefinedOn(e.node)){for(var l=[],h=n.getIterator(Be.Wrap),d=h.getNext();d;)d.name!==e.name&&l.push(d),d=h.getNext();return l.push(e),Pp(l,c.getCompare())}else return Tu;else{var v=n.get(e.name),m=s;return v&&(m=m.remove(new Be(e.name,v))),m.insert(e,e.node)}});return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=Op(this.indexes_,function(i){if(i===Tu)return i;var s=n.get(e.name);return s?i.remove(new Be(e.name,s)):i});return new t(r,this.indexSet_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e){return Va(t.name,e.name)}function bb(t,e){return Va(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ul,Ae=function(){function t(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Tx(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Ul||(Ul=new t(new vo(bb),null,Dp.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Ul},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(e){if(e===".priority")return this.getPriority();var n=this.children_.get(e);return n===null?Ul:n},t.prototype.getChild=function(e){var n=e.getFront();return n===null?this:this.getImmediateChild(n).getChild(e.popFront())},t.prototype.hasChild=function(e){return this.children_.get(e)!==null},t.prototype.updateImmediateChild=function(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);var r=new Be(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Ul:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(e,n){var r=e.getFront();if(r===null)return n;K(e.getFront()!==".priority"||e.getLength()===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(e.popFront(),n);return this.updateImmediateChild(r,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(ct,function(l,h){n[l]=h.val(e),r++,s&&t.INTEGER_REGEXP_.test(l)?i=Math.max(i,Number(l)):s=!1}),!e&&s&&i<2*r){var a=[];for(var c in n)a[c]=n[c];return a}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(this.lazyHash_===null){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ex(this.getPriority().val())+":"),this.forEachChild(ct,function(n,r){var i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":rx(e)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(e,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new Be(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)},t.prototype.getFirstChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},t.prototype.getFirstChild=function(e){var n=this.getFirstChildName(e);return n?new Be(n,this.children_.get(n)):null},t.prototype.getLastChildName=function(e){var n=this.resolveIndex_(e);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},t.prototype.getLastChild=function(e){var n=this.getLastChildName(e);return n?new Be(n,this.children_.get(n)):null},t.prototype.forEachChild=function(e,n){var r=this.resolveIndex_(e);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},t.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.prototype.getIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,function(a){return a});for(var i=this.children_.getIteratorFrom(e.name,Be.Wrap),s=i.peek();s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i},t.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.prototype.getReverseIteratorFrom=function(e,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(e.name,Be.Wrap),s=i.peek();s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i},t.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ih?-1:0},t.prototype.withIndex=function(e){if(e===ji||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(e){return e===ji||this.indexMap_.hasIndex(e)},t.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(ct),i=n.getIterator(ct),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},t.prototype.resolveIndex_=function(e){return e===ji?null:this.indexMap_.get(e.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),k$=function(t){ee(e,t);function e(){return t.call(this,new vo(bb),Ae.EMPTY_NODE,Dp.Default)||this}return e.prototype.compareTo=function(n){return n===this?0:1},e.prototype.equals=function(n){return n===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(n){return Ae.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ae),ih=new k$;Object.defineProperties(Be,{MIN:{value:new Be(So,Ae.EMPTY_NODE)},MAX:{value:new Be(Gi,ih)}});bx.__EMPTY_NODE=Ae.EMPTY_NODE;ac.__childrenNodeConstructor=Ae;T$(ih);S$(ih);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x$=!0;function At(t,e){if(e===void 0&&(e=null),t===null)return Ae.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){var n=t;return new ac(n,At(e))}if(!(t instanceof Array)&&x$){var r=[],i=!1,s=t;if(en(s,function(h,d){if(h.substring(0,1)!=="."){var v=At(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new Be(h,v)))}}),r.length===0)return Ae.EMPTY_NODE;var a=Pp(r,O$,function(h){return h.name},bb);if(i){var c=Pp(r,ct.getCompare());return new Ae(a,At(e),new Dp({".priority":c},{".priority":ct}))}else return new Ae(a,At(e),Dp.Default)}else{var l=Ae.EMPTY_NODE;return en(t,function(h,d){if(pr(t,h)&&h.substring(0,1)!=="."){var v=At(d);(v.isLeafNode()||!v.isEmpty())&&(l=l.updateImmediateChild(h,v))}}),l.updatePriority(At(e))}}I$(At);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P$=function(t){ee(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?Va(n.name,r.name):i},e.prototype.isDefinedOn=function(n){return!0},e.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},e.prototype.minPost=function(){return Be.MIN},e.prototype.maxPost=function(){return Be.MAX},e.prototype.makePost=function(n,r){var i=At(n);return new Be(r,i)},e.prototype.toString=function(){return".value"},e}(Wv),Mw=new P$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lw=function(t){ee(e,t);function e(n){var r=t.call(this)||this;return r.indexPath_=n,K(!n.isEmpty()&&n.getFront()!==".priority","Can't create PathIndex with empty path or .priority key"),r}return e.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?Va(n.name,r.name):a},e.prototype.makePost=function(n,r){var i=At(n),s=Ae.EMPTY_NODE.updateChild(this.indexPath_,i);return new Be(r,s)},e.prototype.maxPost=function(){var n=Ae.EMPTY_NODE.updateChild(this.indexPath_,ih);return new Be(Gi,n)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Wv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns=function(){function t(e,n,r){this.node_=e,this.ref_=n,this.index_=r}return t.prototype.val=function(){return be("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return be("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return be("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return be("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){be("DataSnapshot.child",0,1,arguments.length),e=String(e),Af("DataSnapshot.child",1,e,!1);var n=new re(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,ct)},t.prototype.hasChild=function(e){be("DataSnapshot.hasChild",1,1,arguments.length),Af("DataSnapshot.hasChild",1,e,!1);var n=new re(e);return!this.node_.getChild(n).isEmpty()},t.prototype.getPriority=function(){return be("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(be("DataSnapshot.forEach",1,1,arguments.length),hn("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(i,s){return e(new t(s,n.ref_.child(i),ct))})},t.prototype.hasChildren=function(){return be("DataSnapshot.hasChildren",0,0,arguments.length),this.node_.isLeafNode()?!1:!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return be("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return be("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cx=function(){function t(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return t.prototype.getPath=function(){var e=this.snapshot.getRef();return this.eventType==="value"?e.path:e.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Zt(this.snapshot.exportVal())},t}(),Ax=function(){function t(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fA=function(){function t(e,n,r){this.callback_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){return e==="value"},t.prototype.createEvent=function(e,n){var r=n.getQueryParams().getIndex();return new Cx("value",this,new ns(e.snapshotNode,n.getRef(),r))},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callback_;return function(){i.call(n,e.snapshot)}}},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new Ax(this,e,n):null},t.prototype.matches=function(e){return e instanceof t?!e.callback_||!this.callback_?!0:e.callback_===this.callback_&&e.context_===this.context_:!1},t.prototype.hasAnyCallback=function(){return this.callback_!==null},t}(),hA=function(){function t(e,n,r){this.callbacks_=e,this.cancelCallback_=n,this.context_=r}return t.prototype.respondsTo=function(e){var n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,pr(this.callbacks_,n)},t.prototype.createCancelEvent=function(e,n){return this.cancelCallback_?new Ax(this,e,n):null},t.prototype.createEvent=function(e,n){K(e.childName!=null,"Child events should have a childName.");var r=n.getRef().child(e.childName),i=n.getQueryParams().getIndex();return new Cx(e.type,this,new ns(e.snapshotNode,r,i),e.prevName)},t.prototype.getEventRunner=function(e){var n=this.context_;if(e.getEventType()==="cancel"){K(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var r=this.cancelCallback_;return function(){r.call(n,e.error)}}else{var i=this.callbacks_[e.eventType];return function(){i.call(n,e.snapshot,e.prevName)}}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),s=r.length,a=i.length;if(s===a)if(s===1){var c=r[0],l=i[0];return l===c&&(!e.callbacks_[c]||!this.callbacks_[l]||e.callbacks_[c]===this.callbacks_[l])}else return i.every(function(h){return e.callbacks_[h]===n.callbacks_[h]})}}return!1},t.prototype.hasAnyCallback=function(){return this.callbacks_!==null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v_,Eb=function(){function t(e,n,r,i){this.repo=e,this.path=n,this.queryParams_=r,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return K(v_,"Reference.ts has not been loaded"),v_},set:function(e){v_=e},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(e){var n=null,r=null;if(e.hasStart()&&(n=e.getIndexStartValue()),e.hasEnd()&&(r=e.getIndexEndValue()),e.getIndex()===ji){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",s="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var a=e.getIndexStartName();if(a!==So)throw new Error(i);if(typeof n!="string")throw new Error(s)}if(e.hasEnd()){var c=e.getIndexEndName();if(c!==Gi)throw new Error(i);if(typeof r!="string")throw new Error(s)}}else if(e.getIndex()===ct){if(n!=null&&!Sf(n)||r!=null&&!Sf(r))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(K(e.getIndex()instanceof Lw||e.getIndex()===Mw,"unknown index type."),n!=null&&typeof n=="object"||r!=null&&typeof r=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(e){if(this.orderByCalled_===!0)throw new Error(e+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return be("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){be("Query.on",2,4,arguments.length),d_("Query.on",1,e,!1),hn("Query.on",2,n,!1);var s=t.getCancelAndContextArgs_("Query.on",r,i);if(e==="value")this.onValueEvent(n,s.cancel,s.context);else{var a={};a[e]=n,this.onChildEvent(a,s.cancel,s.context)}return n},t.prototype.onValueEvent=function(e,n,r){var i=new fA(e,n||null,r||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(e,n,r){var i=new hA(e,n,r);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(e,n,r){be("Query.off",0,3,arguments.length),d_("Query.off",1,e,!0),hn("Query.off",2,n,!0),oA("Query.off",3,r,!0);var i=null,s=null;if(e==="value"){var a=n||null;i=new fA(a,null,r||null)}else e&&(n&&(s={},s[e]=n),i=new hA(s,null,r||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var s=this;be("Query.once",1,4,arguments.length),d_("Query.once",1,e,!1),hn("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),c=!0,l=new cr;l.promise.catch(function(){});var h=function(d){c&&(c=!1,s.off(e,h),n&&n.bind(a.context)(d),l.resolve(d))};return this.on(e,h,function(d){s.off(e,h),a.cancel&&a.cancel.bind(a.context)(d),l.reject(d)}),l.promise},t.prototype.limitToFirst=function(e){if(be("Query.limitToFirst",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(be("Query.limitToLast",1,1,arguments.length),typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(be("Query.orderByChild",1,1,arguments.length),e==="$key")throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if(e==="$priority")throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if(e==="$value")throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Af("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new re(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Lw(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){be("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(ji);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){be("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(ct);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){be("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Mw);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){e===void 0&&(e=null),be("Query.startAt",0,2,arguments.length),Li("Query.startAt",1,e,this.path,!0),Fl("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return e===void 0&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){e===void 0&&(e=null),be("Query.startAfter",0,2,arguments.length),Li("Query.startAfter",1,e,this.path,!1),Fl("Query.startAfter",2,n,!0);var r=this.queryParams_.startAfter(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){e===void 0&&(e=null),be("Query.endAt",0,2,arguments.length),Li("Query.endAt",1,e,this.path,!0),Fl("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){e===void 0&&(e=null),be("Query.endBefore",0,2,arguments.length),Li("Query.endBefore",1,e,this.path,!1),Fl("Query.endBefore",2,n,!0);var r=this.queryParams_.endBefore(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(e,n){if(be("Query.equalTo",1,2,arguments.length),Li("Query.equalTo",1,e,this.path,!1),Fl("Query.equalTo",2,n,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(e,n).endAt(e,n)},t.prototype.toString=function(){return be("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return be("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var e=this.queryObject(),n=mb(e);return n==="{}"?"default":n},t.prototype.isEqual=function(e){if(be("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),s=this.queryIdentifier()===e.queryIdentifier();return r&&i&&s},t.getCancelAndContextArgs_=function(e,n,r){var i={cancel:null,context:null};if(n&&r)i.cancel=n,hn(e,3,i.cancel,!0),i.context=r,oA(e,4,i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Hr(e,3,!0)+" must either be a cancel callback or a context object.");return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D$=function(){function t(e){this.node_=e}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),M$=function(){function t(e,n){this.syncTree_=e,this.path_=n}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),L$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},dA=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return F$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return U$(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},F$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},U$=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);var i=e.node();if(K(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},pA=function(t,e,n,r){return Tb(e,new M$(n,t),r)},g_=function(t,e,n){return Tb(t,new D$(e),n)};function Tb(t,e,n){var r=t.getPriority().val(),i=dA(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){var a=t,c=dA(a.getValue(),e,n);return c!==a.getValue()||i!==a.getPriority().val()?new ac(c,At(i)):t}else{var l=t;return s=l,i!==l.getPriority().val()&&(s=s.updatePriority(new ac(i))),l.forEachChild(ct,function(h,d){var v=Tb(d,e.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m_=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(e){if(this.value!=null)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var n=e.getFront();if(e=e.popFront(),this.children.has(n)){var r=this.children.get(n);return r.find(e)}else return null}else return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(this.value!==null)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(this.value!==null){if(this.value.isLeafNode())return!1;var n=this.value;this.value=null;var r=this;return n.forEachChild(ct,function(a,c){r.remember(new re(a),c)}),this.forget(e)}else if(this.children.size>0){var i=e.getFront();if(e=e.popFront(),this.children.has(i)){var s=this.children.get(i).forget(e);s&&this.children.delete(i)}return this.children.size===0}else return!0},t.prototype.forEachTree=function(e,n){this.value!==null?n(e,this.value):this.forEachChild(function(r,i){var s=new re(e.toString()+"/"+r);i.forEachTree(s,n)})},t.prototype.forEachChild=function(e){this.children.forEach(function(n,r){e(r,n)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ui;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ui||(ui={}));var uo=function(){function t(e,n,r,i){this.fromUser=e,this.fromServer=n,this.queryId=r,this.tagged=i,K(!i||n,"Tagged queries must be from server.")}return t.user=function(){return new t(!0,!1,null,!1)},t.server=function(){return new t(!1,!0,null,!1)},t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j$=function(){function t(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ui.ACK_USER_WRITE,this.source=uo.user()}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new re(e));return new t(re.Empty,n,this.revert)}else return K(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y_,V$=function(){return y_||(y_=new vo(r$)),y_},Cr=function(){function t(e,n){n===void 0&&(n=V$()),this.value=e,this.children=n}return t.fromObject=function(e){var n=new t(null);return en(e,function(r,i){n=n.set(new re(r),i)}),n},t.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(e,n){if(this.value!=null&&n(this.value))return{path:re.Empty,value:this.value};if(e.isEmpty())return null;var r=e.getFront(),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(e.popFront(),n);if(s!=null){var a=new re(r).child(s.path);return{path:a,value:s.value}}else return null}else return null},t.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return r!==null?r.subtree(e.popFront()):new t(null)},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||new t(null),s=i.set(e.popFront(),n),a=this.children.insert(r,s);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?new t(null):new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this},t.prototype.get=function(e){if(e.isEmpty())return this.value;var n=e.getFront(),r=this.children.get(n);return r?r.get(e.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||new t(null),s=i.setTree(e.popFront(),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new t(this.value,a)},t.prototype.fold=function(e){return this.fold_(re.Empty,e)},t.prototype.fold_=function(e,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(e.child(i),n)}),n(e,this.value,r)},t.prototype.findOnPath=function(e,n){return this.findOnPath_(e,re.Empty,n)},t.prototype.findOnPath_=function(e,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(e.isEmpty())return null;var s=e.getFront(),a=this.children.get(s);return a?a.findOnPath_(e.popFront(),n.child(s),r):null},t.prototype.foreachOnPath=function(e,n){return this.foreachOnPath_(e,re.Empty,n)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),s=this.children.get(i);return s?s.foreachOnPath_(e.popFront(),n.child(i),r):new t(null)},t.prototype.foreach=function(e){this.foreach_(re.Empty,e)},t.prototype.foreach_=function(e,n){this.children.inorderTraversal(function(r,i){i.foreach_(e.child(r),n)}),this.value&&n(e,this.value)},t.prototype.foreachChild=function(e){this.children.inorderTraversal(function(n,r){r.value&&e(n,r.value)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vA=function(){function t(e,n){this.source=e,this.path=n,this.type=ui.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,re.Empty):new t(this.source,this.path.popFront())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ap=function(){function t(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ui.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,re.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var __=function(){function t(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ui.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new re(e));return n.isEmpty()?null:n.value?new ap(this.source,re.Empty,n.value):new t(this.source,re.Empty,n)}else return K(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bs=function(){function t(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var n=e.getFront();return this.isCompleteForChild(n)},t.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.prototype.getNode=function(){return this.node_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nx=function(){function t(e,n){this.eventCache_=e,this.serverCache_=n}return t.prototype.updateEventSnap=function(e,n,r){return new t(new bs(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new bs(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t){return{type:"value",snapshotNode:t}}function uc(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Nf(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Rf(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function B$(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ib=function(){function t(e){this.index_=e}return t.prototype.updateChild=function(e,n,r,i,s,a){K(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var c=e.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?e.hasChild(n)?a.trackChildChange(Nf(n,c)):K(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?a.trackChildChange(uc(n,r)):a.trackChildChange(Rf(n,r,c))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)},t.prototype.updateFullNode=function(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ct,function(i,s){n.hasChild(i)||r.trackChildChange(Nf(i,s))}),n.isLeafNode()||n.forEachChild(ct,function(i,s){if(e.hasChild(i)){var a=e.getImmediateChild(i);a.equals(s)||r.trackChildChange(Rf(i,s,a))}else r.trackChildChange(uc(i,s))})),n.withIndex(this.index_)},t.prototype.updatePriority=function(e,n){return e.isEmpty()?Ae.EMPTY_NODE:e.updatePriority(n)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q$=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(e){var n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Rf(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Nf(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,uc(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Rf(r,e.snapshotNode,i.oldSnap));else throw xc("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var W$=function(){function t(){}return t.prototype.getCompleteChild=function(e){return null},t.prototype.getChildAfterChild=function(e,n,r){return null},t}(),gA=new W$,w_=function(){function t(e,n,r){r===void 0&&(r=null),this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}return t.prototype.getCompleteChild=function(e){var n=this.viewCache_.getEventCache();if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);var r=this.optCompleteServerCache_!=null?new bs(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,r)},t.prototype.getChildAfterChild=function(e,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),s=this.writes_.calcIndexedSlice(i,n,1,r,e);return s.length===0?null:s[0]},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H$=function(){function t(e,n){this.viewCache=e,this.changes=n}return t}(),G$=function(){function t(e){this.filter_=e}return t.prototype.assertIndexed=function(e){K(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),K(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var s=new q$,a,c;if(n.type===ui.OVERWRITE){var l=n;l.source.fromUser?a=this.applyUserOverwrite_(e,l.path,l.snap,r,i,s):(K(l.source.fromServer,"Unknown source."),c=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),a=this.applyServerOverwrite_(e,l.path,l.snap,r,i,c,s))}else if(n.type===ui.MERGE){var h=n;h.source.fromUser?a=this.applyUserMerge_(e,h.path,h.children,r,i,s):(K(h.source.fromServer,"Unknown source."),c=h.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,h.path,h.children,r,i,c,s))}else if(n.type===ui.ACK_USER_WRITE){var d=n;d.revert?a=this.revertUserWrite_(e,d.path,r,i,s):a=this.ackUserWrite_(e,d.path,d.affectedTree,r,i,s)}else if(n.type===ui.LISTEN_COMPLETE)a=this.listenComplete_(e,n.path,r,s);else throw xc("Unknown operation type: "+n.type);var v=s.getChanges();return t.maybeAddValueEvent_(e,a,v),new H$(a,v)},t.maybeAddValueEvent_=function(e,n,r){var i=n.getEventCache();if(i.isFullyInitialized()){var s=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=e.getCompleteEventSnap();(r.length>0||!e.getEventCache().isFullyInitialized()||s&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&r.push(Rx(n.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(e,n,r,i,s){var a=e.getEventCache();if(r.shadowingWrite(n)!=null)return e;var c=void 0,l=void 0;if(n.isEmpty())if(K(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var h=e.getCompleteServerSnap(),d=h instanceof Ae?h:Ae.EMPTY_NODE,v=r.calcCompleteEventChildren(d);c=this.filter_.updateFullNode(e.getEventCache().getNode(),v,s)}else{var m=r.calcCompleteEventCache(e.getCompleteServerSnap());c=this.filter_.updateFullNode(e.getEventCache().getNode(),m,s)}else{var y=n.getFront();if(y===".priority"){K(n.getLength()===1,"Can't have a priority with additional path components");var b=a.getNode();l=e.getServerCache().getNode();var E=r.calcEventCacheAfterServerOverwrite(n,b,l);E!=null?c=this.filter_.updatePriority(b,E):c=a.getNode()}else{var T=n.popFront(),A=void 0;if(a.isCompleteForChild(y)){l=e.getServerCache().getNode();var x=r.calcEventCacheAfterServerOverwrite(n,a.getNode(),l);x!=null?A=a.getNode().getImmediateChild(y).updateChild(T,x):A=a.getNode().getImmediateChild(y)}else A=r.calcCompleteChild(y,e.getServerCache());A!=null?c=this.filter_.updateChild(a.getNode(),y,A,T,i,s):c=a.getNode()}}return e.updateEventSnap(c,a.isFullyInitialized()||n.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(e,n,r,i,s,a,c){var l=e.getServerCache(),h,d=a?this.filter_:this.filter_.getIndexedFilter();if(n.isEmpty())h=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){var v=l.getNode().updateChild(n,r);h=d.updateFullNode(l.getNode(),v,null)}else{var m=n.getFront();if(!l.isCompleteForPath(n)&&n.getLength()>1)return e;var y=n.popFront(),b=l.getNode().getImmediateChild(m),E=b.updateChild(y,r);m===".priority"?h=d.updatePriority(l.getNode(),E):h=d.updateChild(l.getNode(),m,E,y,gA,null)}var T=e.updateServerSnap(h,l.isFullyInitialized()||n.isEmpty(),d.filtersNodes()),A=new w_(i,T,s);return this.generateEventCacheAfterServerEvent_(T,n,i,A,c)},t.prototype.applyUserOverwrite_=function(e,n,r,i,s,a){var c=e.getEventCache(),l,h,d=new w_(i,e,s);if(n.isEmpty())h=this.filter_.updateFullNode(e.getEventCache().getNode(),r,a),l=e.updateEventSnap(h,!0,this.filter_.filtersNodes());else{var v=n.getFront();if(v===".priority")h=this.filter_.updatePriority(e.getEventCache().getNode(),r),l=e.updateEventSnap(h,c.isFullyInitialized(),c.isFiltered());else{var m=n.popFront(),y=c.getNode().getImmediateChild(v),b=void 0;if(m.isEmpty())b=r;else{var E=d.getCompleteChild(v);E!=null?m.getBack()===".priority"&&E.getChild(m.parent()).isEmpty()?b=E:b=E.updateChild(m,r):b=Ae.EMPTY_NODE}if(y.equals(b))l=e;else{var T=this.filter_.updateChild(c.getNode(),v,b,m,d,a);l=e.updateEventSnap(T,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return l},t.cacheHasChild_=function(e,n){return e.getEventCache().isCompleteForChild(n)},t.prototype.applyUserMerge_=function(e,n,r,i,s,a){var c=this,l=e;return r.foreach(function(h,d){var v=n.child(h);t.cacheHasChild_(e,v.getFront())&&(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),r.foreach(function(h,d){var v=n.child(h);t.cacheHasChild_(e,v.getFront())||(l=c.applyUserOverwrite_(l,v,d,i,s,a))}),l},t.prototype.applyMerge_=function(e,n){return n.foreach(function(r,i){e=e.updateChild(r,i)}),e},t.prototype.applyServerMerge_=function(e,n,r,i,s,a,c){var l=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var h=e,d;n.isEmpty()?d=r:d=new Cr(null).setTree(n,r);var v=e.getServerCache().getNode();return d.children.inorderTraversal(function(m,y){if(v.hasChild(m)){var b=e.getServerCache().getNode().getImmediateChild(m),E=l.applyMerge_(b,y);h=l.applyServerOverwrite_(h,new re(m),E,i,s,a,c)}}),d.children.inorderTraversal(function(m,y){var b=!e.getServerCache().isCompleteForChild(m)&&y.value==null;if(!v.hasChild(m)&&!b){var E=e.getServerCache().getNode().getImmediateChild(m),T=l.applyMerge_(E,y);h=l.applyServerOverwrite_(h,new re(m),T,i,s,a,c)}}),h},t.prototype.ackUserWrite_=function(e,n,r,i,s,a){if(i.shadowingWrite(n)!=null)return e;var c=e.getServerCache().isFiltered(),l=e.getServerCache();if(r.value!=null){if(n.isEmpty()&&l.isFullyInitialized()||l.isCompleteForPath(n))return this.applyServerOverwrite_(e,n,l.getNode().getChild(n),i,s,c,a);if(n.isEmpty()){var h=new Cr(null);return l.getNode().forEachChild(ji,function(v,m){h=h.set(new re(v),m)}),this.applyServerMerge_(e,n,h,i,s,c,a)}else return e}else{var d=new Cr(null);return r.foreach(function(v,m){var y=n.child(v);l.isCompleteForPath(y)&&(d=d.set(v,l.getNode().getChild(y)))}),this.applyServerMerge_(e,n,d,i,s,c,a)}},t.prototype.listenComplete_=function(e,n,r,i){var s=e.getServerCache(),a=e.updateServerSnap(s.getNode(),s.isFullyInitialized()||n.isEmpty(),s.isFiltered());return this.generateEventCacheAfterServerEvent_(a,n,r,gA,i)},t.prototype.revertUserWrite_=function(e,n,r,i,s){var a;if(r.shadowingWrite(n)!=null)return e;var c=new w_(r,e,i),l=e.getEventCache().getNode(),h=void 0;if(n.isEmpty()||n.getFront()===".priority"){var d=void 0;if(e.getServerCache().isFullyInitialized())d=r.calcCompleteEventCache(e.getCompleteServerSnap());else{var v=e.getServerCache().getNode();K(v instanceof Ae,"serverChildren would be complete if leaf node"),d=r.calcCompleteEventChildren(v)}d=d,h=this.filter_.updateFullNode(l,d,s)}else{var m=n.getFront(),y=r.calcCompleteChild(m,e.getServerCache());y==null&&e.getServerCache().isCompleteForChild(m)&&(y=l.getImmediateChild(m)),y!=null?h=this.filter_.updateChild(l,m,y,n.popFront(),c,s):e.getEventCache().getNode().hasChild(m)?h=this.filter_.updateChild(l,m,Ae.EMPTY_NODE,n.popFront(),c,s):h=l,h.isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=r.calcCompleteEventCache(e.getCompleteServerSnap()),a.isLeafNode()&&(h=this.filter_.updateFullNode(h,a,s)))}return a=e.getServerCache().isFullyInitialized()||r.shadowingWrite(re.Empty)!=null,e.updateEventSnap(h,a,this.filter_.filtersNodes())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y$=function(){function t(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(e,n,r){var i=this,s=[],a=[];return e.forEach(function(c){c.type==="child_changed"&&i.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&a.push(B$(c.childName,c.snapshotNode))}),this.generateEventsForType_(s,"child_removed",e,r,n),this.generateEventsForType_(s,"child_added",e,r,n),this.generateEventsForType_(s,"child_moved",a,r,n),this.generateEventsForType_(s,"child_changed",e,r,n),this.generateEventsForType_(s,"value",e,r,n),s},t.prototype.generateEventsForType_=function(e,n,r,i,s){var a=this,c=r.filter(function(l){return l.type===n});c.sort(this.compareChanges_.bind(this)),c.forEach(function(l){var h=a.materializeSingleChange_(l,s);i.forEach(function(d){d.respondsTo(l.type)&&e.push(d.createEvent(h,a.query_))})})},t.prototype.materializeSingleChange_=function(e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},t.prototype.compareChanges_=function(e,n){if(e.childName==null||n.childName==null)throw xc("Should only compare child_ events.");var r=new Be(e.childName,e.snapshotNode),i=new Be(n.childName,n.snapshotNode);return this.index_.compare(r,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $$=function(){function t(e,n){this.query_=e,this.eventRegistrations_=[];var r=this.query_.getQueryParams(),i=new Ib(r.getIndex()),s=r.getNodeFilter();this.processor_=new G$(s);var a=n.getServerCache(),c=n.getEventCache(),l=i.updateFullNode(Ae.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(Ae.EMPTY_NODE,c.getNode(),null),d=new bs(l,a.isFullyInitialized(),i.filtersNodes()),v=new bs(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=new Nx(v,d),this.eventGenerator_=new Y$(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},t.prototype.getCompleteServerCache=function(e){var n=this.viewCache_.getCompleteServerSnap();return n&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!n.getImmediateChild(e.getFront()).isEmpty())?n.getChild(e):null},t.prototype.isEmpty=function(){return this.eventRegistrations_.length===0},t.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},t.prototype.removeEventRegistration=function(e,n){var r=[];if(n){K(e==null,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(l){var h=l.createCancelEvent(n,i);h&&r.push(h)})}if(e){for(var s=[],a=0;a<this.eventRegistrations_.length;++a){var c=this.eventRegistrations_[a];if(!c.matches(e))s.push(c);else if(e.hasAnyCallback()){s=s.concat(this.eventRegistrations_.slice(a+1));break}}this.eventRegistrations_=s}else this.eventRegistrations_=[];return r},t.prototype.applyOperation=function(e,n,r){e.type===ui.MERGE&&e.source.queryId!==null&&(K(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),K(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,s=this.processor_.applyOperation(i,e,n,r);return this.processor_.assertIndexed(s.viewCache),K(s.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=s.viewCache,this.generateEventsForChanges_(s.changes,s.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(e){var n=this.viewCache_.getEventCache(),r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(ct,function(s,a){r.push(uc(s,a))})}return n.isFullyInitialized()&&r.push(Rx(n.getNode())),this.generateEventsForChanges_(r,n.getNode(),e)},t.prototype.generateEventsForChanges_=function(e,n,r){var i=r?[r]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,n,i)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Md,Fw=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return K(Md,"Reference.ts has not been loaded"),Md},set:function(e){K(!Md,"__referenceConstructor has already been defined"),Md=e},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return this.views.size===0},t.prototype.applyOperation=function(e,n,r){var i,s,a=e.source.queryId;if(a!==null){var c=this.views.get(a);return K(c!=null,"SyncTree gave us an op for an invalid query."),c.applyOperation(e,n,r)}else{var l=[];try{for(var h=Ft(this.views.values()),d=h.next();!d.done;d=h.next()){var c=d.value;l=l.concat(c.applyOperation(e,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}},t.prototype.getView=function(e,n,r,i){var s=e.queryIdentifier(),a=this.views.get(s);if(!a){var c=n.calcCompleteEventCache(i?r:null),l=!1;c?l=!0:r instanceof Ae?(c=n.calcCompleteEventChildren(r),l=!1):(c=Ae.EMPTY_NODE,l=!1);var h=new Nx(new bs(c,l,!1),new bs(r,i,!1));return new $$(e,h)}return a},t.prototype.addEventRegistration=function(e,n,r,i,s){var a=this.getView(e,r,i,s);return this.views.has(e.queryIdentifier())||this.views.set(e.queryIdentifier(),a),a.addEventRegistration(n),a.getInitialEvents(n)},t.prototype.removeEventRegistration=function(e,n,r){var i,s,a=e.queryIdentifier(),c=[],l=[],h=this.hasCompleteView();if(a==="default")try{for(var d=Ft(this.views.entries()),v=d.next();!v.done;v=d.next()){var m=Ef(v.value,2),y=m[0],b=m[1];l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(y),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery()))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var b=this.views.get(a);b&&(l=l.concat(b.removeEventRegistration(n,r)),b.isEmpty()&&(this.views.delete(a),b.getQuery().getQueryParams().loadsAllData()||c.push(b.getQuery())))}return h&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:l}},t.prototype.getQueryViews=function(){var e,n,r=[];try{for(var i=Ft(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.getQuery().getQueryParams().loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.getCompleteServerCache=function(e){var n,r,i=null;try{for(var s=Ft(this.views.values()),a=s.next();!a.done;a=s.next()){var c=a.value;i=i||c.getCompleteServerCache(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.prototype.viewForQuery=function(e){var n=e.getQueryParams();if(n.loadsAllData())return this.getCompleteView();var r=e.queryIdentifier();return this.views.get(r)},t.prototype.viewExistsForQuery=function(e){return this.viewForQuery(e)!=null},t.prototype.hasCompleteView=function(){return this.getCompleteView()!=null},t.prototype.getCompleteView=function(){var e,n;try{for(var r=Ft(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.getQuery().getQueryParams().loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=function(){function t(e){this.writeTree_=e}return t.empty=function(){return new t(new Cr(null))},t}();function $l(t,e,n){if(e.isEmpty())return new _o(new Cr(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){var i=r.path,s=r.value,a=re.relativePath(i,e);return s=s.updateChild(a,n),new _o(t.writeTree_.set(i,s))}else{var c=new Cr(n),l=t.writeTree_.setTree(e,c);return new _o(l)}}function b_(t,e,n){var r=t;return en(n,function(i,s){r=$l(r,e.child(i),s)}),r}function mA(t,e){if(e.isEmpty())return _o.empty();var n=t.writeTree_.setTree(e,new Cr(null));return new _o(n)}function E_(t,e){return es(t,e)!=null}function es(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(re.relativePath(n.path,e)):null}function yA(t){var e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ct,function(r,i){e.push(new Be(r,i))}):t.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&e.push(new Be(r,i.value))}),e}function zo(t,e){if(e.isEmpty())return t;var n=es(t,e);return n!=null?new _o(new Cr(n)):new _o(t.writeTree_.subtree(e))}function T_(t){return t.writeTree_.isEmpty()}function Iu(t,e){return Ox(re.Empty,t.writeTree_,e)}function Ox(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(i,s){i===".priority"?(K(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Ox(t.child(i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(t.child(".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z$=function(){function t(){this.visibleWrites_=_o.empty(),this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(e){return new K$(e,this)},t.prototype.addOverwrite=function(e,n,r,i){K(r>this.lastWriteId_,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),this.allWrites_.push({path:e,snap:n,writeId:r,visible:i}),i&&(this.visibleWrites_=$l(this.visibleWrites_,e,n)),this.lastWriteId_=r},t.prototype.addMerge=function(e,n,r){K(r>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:n,writeId:r,visible:!0}),this.visibleWrites_=b_(this.visibleWrites_,e,n),this.lastWriteId_=r},t.prototype.getWrite=function(e){for(var n=0;n<this.allWrites_.length;n++){var r=this.allWrites_[n];if(r.writeId===e)return r}return null},t.prototype.removeWrite=function(e){var n=this,r=this.allWrites_.findIndex(function(d){return d.writeId===e});K(r>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[r];this.allWrites_.splice(r,1);for(var s=i.visible,a=!1,c=this.allWrites_.length-1;s&&c>=0;){var l=this.allWrites_[c];l.visible&&(c>=r&&this.recordContainsPath_(l,i.path)?s=!1:i.path.contains(l.path)&&(a=!0)),c--}if(s){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=mA(this.visibleWrites_,i.path);else{var h=i.children;en(h,function(d){n.visibleWrites_=mA(n.visibleWrites_,i.path.child(d))})}return!0}else return!1},t.prototype.getCompleteWriteData=function(e){return es(this.visibleWrites_,e)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(!r&&!i){var s=es(this.visibleWrites_,e);if(s!=null)return s;var a=zo(this.visibleWrites_,e);if(T_(a))return n;if(n==null&&!E_(a,re.Empty))return null;var c=n||Ae.EMPTY_NODE;return Iu(a,c)}else{var l=zo(this.visibleWrites_,e);if(!i&&T_(l))return n;if(!i&&n==null&&!E_(l,re.Empty))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(m.path.contains(e)||e.contains(m.path))},d=t.layerTree_(this.allWrites_,h,e),c=n||Ae.EMPTY_NODE;return Iu(d,c)}},t.prototype.calcCompleteEventChildren=function(e,n){var r=Ae.EMPTY_NODE,i=es(this.visibleWrites_,e);if(i)return i.isLeafNode()||i.forEachChild(ct,function(c,l){r=r.updateImmediateChild(c,l)}),r;if(n){var s=zo(this.visibleWrites_,e);return n.forEachChild(ct,function(c,l){var h=Iu(zo(s,new re(c)),l);r=r.updateImmediateChild(c,h)}),yA(s).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}else{var a=zo(this.visibleWrites_,e);return yA(a).forEach(function(c){r=r.updateImmediateChild(c.name,c.node)}),r}},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r,i){K(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=e.child(n);if(E_(this.visibleWrites_,s))return null;var a=zo(this.visibleWrites_,s);return T_(a)?i.getChild(n):Iu(a,i.getChild(n))},t.prototype.calcCompleteChild=function(e,n,r){var i=e.child(n),s=es(this.visibleWrites_,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=zo(this.visibleWrites_,i);return Iu(a,r.getNode().getImmediateChild(n))}else return null},t.prototype.shadowingWrite=function(e){return es(this.visibleWrites_,e)},t.prototype.calcIndexedSlice=function(e,n,r,i,s,a){var c,l=zo(this.visibleWrites_,e),h=es(l,re.Empty);if(h!=null)c=h;else if(n!=null)c=Iu(l,n);else return[];if(c=c.withIndex(a),!c.isEmpty()&&!c.isLeafNode()){for(var d=[],v=a.getCompare(),m=s?c.getReverseIteratorFrom(r,a):c.getIteratorFrom(r,a),y=m.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=m.getNext();return d}else return[]},t.prototype.recordContainsPath_=function(e,n){if(e.snap)return e.path.contains(n);for(var r in e.children)if(e.children.hasOwnProperty(r)&&e.path.child(r).contains(n))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,re.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(e){return e.visible},t.layerTree_=function(e,n,r){for(var i=_o.empty(),s=0;s<e.length;++s){var a=e[s];if(n(a)){var c=a.path,l=void 0;if(a.snap)r.contains(c)?(l=re.relativePath(r,c),i=$l(i,l,a.snap)):c.contains(r)&&(l=re.relativePath(c,r),i=$l(i,re.Empty,a.snap.getChild(l)));else if(a.children){if(r.contains(c))l=re.relativePath(r,c),i=b_(i,l,a.children);else if(c.contains(r))if(l=re.relativePath(c,r),l.isEmpty())i=b_(i,re.Empty,a.children);else{var h=ai(a.children,l.getFront());if(h){var d=h.getChild(l.popFront());i=$l(i,re.Empty,d)}}}else throw xc("WriteRecord should have .snap or .children")}}return i},t}(),K$=function(){function t(e,n){this.treePath_=e,this.writeTree_=n}return t.prototype.calcCompleteEventCache=function(e,n,r){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,n,r)},t.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},t.prototype.calcEventCacheAfterServerOverwrite=function(e,n,r){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,n,r)},t.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},t.prototype.calcIndexedSlice=function(e,n,r,i,s){return this.writeTree_.calcIndexedSlice(this.treePath_,e,n,r,i,s)},t.prototype.calcCompleteChild=function(e,n){return this.writeTree_.calcCompleteChild(this.treePath_,e,n)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _A=function(){function t(e){this.listenProvider_=e,this.syncPointTree_=new Cr(null),this.pendingWriteTree_=new z$,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(e,n,r,i){return this.pendingWriteTree_.addOverwrite(e,n,r,i),i?this.applyOperationToSyncPoints_(new ap(uo.user(),e,n)):[]},t.prototype.applyUserMerge=function(e,n,r){this.pendingWriteTree_.addMerge(e,n,r);var i=Cr.fromObject(n);return this.applyOperationToSyncPoints_(new __(uo.user(),e,i))},t.prototype.ackUserWrite=function(e,n){n===void 0&&(n=!1);var r=this.pendingWriteTree_.getWrite(e),i=this.pendingWriteTree_.removeWrite(e);if(i){var s=new Cr(null);return r.snap!=null?s=s.set(re.Empty,!0):en(r.children,function(a){s=s.set(new re(a),!0)}),this.applyOperationToSyncPoints_(new j$(r.path,s,n))}else return[]},t.prototype.applyServerOverwrite=function(e,n){return this.applyOperationToSyncPoints_(new ap(uo.server(),e,n))},t.prototype.applyServerMerge=function(e,n){var r=Cr.fromObject(n);return this.applyOperationToSyncPoints_(new __(uo.server(),e,r))},t.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new vA(uo.server(),e))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(i!=null){var s=t.parseQueryKey_(i),a=s.path,c=s.queryId,l=re.relativePath(a,e),h=new ap(uo.forServerTaggedQuery(c),l,n);return this.applyTaggedOperation_(a,h)}else return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var s=t.parseQueryKey_(i),a=s.path,c=s.queryId,l=re.relativePath(a,e),h=Cr.fromObject(n),d=new __(uo.forServerTaggedQuery(c),l,h);return this.applyTaggedOperation_(a,d)}else return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),s=i.path,a=i.queryId,c=re.relativePath(s,e),l=new vA(uo.forServerTaggedQuery(a),c);return this.applyTaggedOperation_(s,l)}else return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,s=!1;this.syncPointTree_.foreachOnPath(r,function(E,T){var A=re.relativePath(E,r);i=i||T.getCompleteServerCache(A),s=s||T.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(s=s||a.hasCompleteView(),i=i||a.getCompleteServerCache(re.Empty)):(a=new Fw,this.syncPointTree_=this.syncPointTree_.set(r,a));var c;if(i!=null)c=!0;else{c=!1,i=Ae.EMPTY_NODE;var l=this.syncPointTree_.subtree(r);l.foreachChild(function(E,T){var A=T.getCompleteServerCache(re.Empty);A&&(i=i.updateImmediateChild(E,A))})}var h=a.viewExistsForQuery(e);if(!h&&!e.getQueryParams().loadsAllData()){var d=t.makeQueryKey_(e);K(!this.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=t.getNextQueryTag_();this.queryToTagMap.set(d,v),this.tagToQueryMap.set(v,d)}var m=this.pendingWriteTree_.childWrites(r),y=a.addEventRegistration(e,n,m,i,c);if(!h&&!s){var b=a.viewForQuery(e);y=y.concat(this.setupListener_(e,b))}return y},t.prototype.removeEventRegistration=function(e,n,r){var i=this,s=e.path,a=this.syncPointTree_.get(s),c=[];if(a&&(e.queryIdentifier()==="default"||a.viewExistsForQuery(e))){var l=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(s));var h=l.removed;c=l.events;var d=h.findIndex(function(M){return M.getQueryParams().loadsAllData()})!==-1,v=this.syncPointTree_.findOnPath(s,function(M,U){return U.hasCompleteView()});if(d&&!v){var m=this.syncPointTree_.subtree(s);if(!m.isEmpty())for(var y=this.collectDistinctViewsForSubTree_(m),b=0;b<y.length;++b){var E=y[b],T=E.getQuery(),A=this.createListenerForView_(E);this.listenProvider_.startListening(t.queryForListening_(T),this.tagForQuery_(T),A.hashFn,A.onComplete)}}if(!v&&h.length>0&&!r)if(d){var x=null;this.listenProvider_.stopListening(t.queryForListening_(e),x)}else h.forEach(function(M){var U=i.queryToTagMap.get(t.makeQueryKey_(M));i.listenProvider_.stopListening(t.queryForListening_(M),U)});this.removeTags_(h)}return c},t.prototype.calcCompleteEventCache=function(e,n){var r=!0,i=this.pendingWriteTree_,s=this.syncPointTree_.findOnPath(e,function(a,c){var l=re.relativePath(a,e),h=c.getCompleteServerCache(l);if(h)return h});return i.calcCompleteEventCache(e,s,n,r)},t.prototype.getServerValue=function(e){var n=e.path,r=null;this.syncPointTree_.foreachOnPath(n,function(h,d){var v=re.relativePath(h,n);r=r||d.getCompleteServerCache(v)});var i=this.syncPointTree_.get(n);i?r=r||i.getCompleteServerCache(re.Empty):(i=new Fw,this.syncPointTree_=this.syncPointTree_.set(n,i));var s=r!=null,a=s?new bs(r,!0,!1):null,c=this.pendingWriteTree_.childWrites(e.path),l=i.getView(e,c,s?a.getNode():Ae.EMPTY_NODE,s);return l.getCompleteNode()},t.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(n,r,i){if(r&&r.hasCompleteView()){var s=r.getCompleteView();return[s]}else{var a=[];return r&&(a=r.getQueryViews()),en(i,function(c,l){a=a.concat(l)}),a}})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),s=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(s)}}},t.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),s=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,s.hashFn,s.onComplete),c=this.syncPointTree_.subtree(r);if(i)K(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold(function(v,m,y){if(!v.isEmpty()&&m&&m.hasCompleteView())return[m.getCompleteView().getQuery()];var b=[];return m&&(b=b.concat(m.getQueryViews().map(function(E){return E.getQuery()}))),en(y,function(E,T){b=b.concat(T)}),b}),h=0;h<l.length;++h){var d=l[h];this.listenProvider_.stopListening(t.queryForListening_(d),this.tagForQuery_(d))}return a},t.prototype.createListenerForView_=function(e){var n=this,r=e.getQuery(),i=this.tagForQuery_(r);return{hashFn:function(){var s=e.getServerCache()||Ae.EMPTY_NODE;return s.hash()},onComplete:function(s){if(s==="ok")return i?n.applyTaggedListenComplete(r.path,i):n.applyListenComplete(r.path);var a=s$(s,r);return n.removeEventRegistration(r,null,a)}}},t.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},t.parseQueryKey_=function(e){var n=e.indexOf("$");return K(n!==-1&&n<e.length-1,"Bad queryKey."),{queryId:e.substr(n+1),path:new re(e.substr(0,n))}},t.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(e,n){var r=this.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(e);return r.applyOperation(n,i,null)},t.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(re.Empty))},t.prototype.applyOperationHelper_=function(e,n,r,i){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,n,r,i);var s=n.get(re.Empty);r==null&&s!=null&&(r=s.getCompleteServerCache(re.Empty));var a=[],c=e.path.getFront(),l=e.operationForChild(c),h=n.children.get(c);if(h&&l){var d=r?r.getImmediateChild(c):null,v=i.child(c);a=a.concat(this.applyOperationHelper_(l,h,d,v))}return s&&(a=a.concat(s.applyOperation(e,i,r))),a},t.prototype.applyOperationDescendantsHelper_=function(e,n,r,i){var s=this,a=n.get(re.Empty);r==null&&a!=null&&(r=a.getCompleteServerCache(re.Empty));var c=[];return n.children.inorderTraversal(function(l,h){var d=r?r.getImmediateChild(l):null,v=i.child(l),m=e.operationForChild(l);m&&(c=c.concat(s.applyOperationDescendantsHelper_(m,h,d,v)))}),a&&(c=c.concat(a.applyOperation(e,i,r))),c},t.nextQueryTag_=1,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q$=function(){function t(){this.rootNode_=Ae.EMPTY_NODE}return t.prototype.getNode=function(e){return this.rootNode_.getChild(e)},t.prototype.updateSnapshot=function(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X$=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(e,n){n===void 0&&(n=1),pr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n},t.prototype.get=function(){return Gk(this.counters_)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mp=function(){function t(){}return t.getCollection=function(e){var n=e.toString();return this.collections_[n]||(this.collections_[n]=new X$),this.collections_[n]},t.getOrCreateReporter=function(e,n){var r=e.toString();return this.reporters_[r]||(this.reporters_[r]=n()),this.reporters_[r]},t.collections_={},t.reporters_={},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kx=function(){function t(e){this.collection_=e,this.last_=null}return t.prototype.get=function(){var e=this.collection_.get(),n=ht({},e);return this.last_&&en(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=e,n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wA=10*1e3,J$=30*1e3,Z$=5*60*1e3,e6=function(){function t(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kx(e);var r=wA+(J$-wA)*Math.random();nf(this.reportStats_.bind(this),Math.floor(r))}return t.prototype.includeStat=function(e){this.statsToReport_[e]=!0},t.prototype.reportStats_=function(){var e=this,n=this.statsListener_.get(),r={},i=!1;en(n,function(s,a){a>0&&pr(e.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),nf(this.reportStats_.bind(this),Math.floor(Math.random()*2*Z$))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t6=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(e){for(var n=null,r=0;r<e.length;r++){var i=e[r],s=i.getPath();n!==null&&!s.equals(n.getPath())&&(this.eventLists_.push(n),n=null),n===null&&(n=new n6(s)),n.add(i)}n&&this.eventLists_.push(n)},t.prototype.raiseEventsAtPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.equals(e)})},t.prototype.raiseEventsForChangedPath=function(e,n){this.queueEvents(n),this.raiseQueuedEventsMatchingPredicate_(function(r){return r.contains(e)||e.contains(r)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var n=!0,r=0;r<this.eventLists_.length;r++){var i=this.eventLists_[r];if(i){var s=i.getPath();e(s)?(this.eventLists_[r].raise(),this.eventLists_[r]=null):n=!1}}n&&(this.eventLists_=[]),this.recursionDepth_--},t}(),n6=function(){function t(e){this.path_=e,this.events_=[]}return t.prototype.add=function(e){this.events_.push(e)},t.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var n=this.events_[e];if(n!==null){this.events_[e]=null;var r=n.getEventRunner();_a&&En("event: "+n.toString()),Lu(r)}}},t.prototype.getPath=function(){return this.path_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xx=function(){function t(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[e]))for(var i=Po(this.listeners_[e]),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},t.prototype.on=function(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});var i=this.getInitialEvent(e);i&&n.apply(r,i)},t.prototype.off=function(e,n,r){this.validateEventType_(e);for(var i=this.listeners_[e]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},t.prototype.validateEventType_=function(e){K(this.allowedEvents_.find(function(n){return n===e}),"Unknown event: "+e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r6=function(t){ee(e,t);function e(){var n=t.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="visible","Unknown event type: "+n),[this.visible_]},e}(xx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bA=function(t){ee(e,t);function e(){var n=t.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fb()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(n){return K(n==="online","Unknown event type: "+n),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(xx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i6=function(){function t(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(e,n){var r=this;this.pendingResponses[e]=n;for(var i=function(){var c=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var l=function(d){c[d]&&Lu(function(){r.onMessage_(c[d])})},h=0;h<c.length;++h)l(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EA="start",o6="close",s6="pLPCommand",a6="pRTLPCB",Px="id",Dx="pw",Mx="ser",u6="cb",c6="seg",l6="ts",f6="d",h6="dframe",Lx=1870,Fx=30,d6=Lx-Fx,p6=25e3,v6=3e4,Sb=function(){function t(e,n,r,i,s){this.connId=e,this.repoInfo=n,this.applicationId=r,this.transportSessionId=i,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rh(e),this.stats_=Mp.getCollection(n),this.urlFn=function(a){return n.connectionURL(vx,a)}}return t.prototype.open=function(e,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new i6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(v6)),n$(function(){if(!r.isClosed_){r.scriptTagHolder=new g6(function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Ef(a,5),h=l[0],d=l[1],v=l[2];if(l[3],l[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===EA)r.id=d,r.password=v;else if(h===o6)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Ef(a,2),h=l[0],d=l[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[EA]="t",i[Mx]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[u6]=r.scriptTagHolder.uniqueCallbackIdentifier),i[ux]=_b,r.transportSessionId&&(i[cx]=r.transportSessionId),r.lastSessionId&&(i[dx]=r.lastSessionId),r.applicationId&&(i[l$]=r.applicationId),typeof location<"u"&&location.hostname&&hx.test(location.hostname)&&(i[lx]=fx);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!i$()&&!o$()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(e){var n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=iY(n),i=ox(r,d6),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(e,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[h6]="t",r[Px]=e,r[Dx]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(e){var n=Zt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},t}(),g6=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nx(),window[s6+this.uniqueCallbackIdentifier]=e,window[a6+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(l){En("frame writing exception"),l.stack&&En(l.stack),En(l)}}}return t.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{var n=e.contentWindow.document;n||En("No IE domain setting required")}catch{var r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},t.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){e.myIFrame!==null&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},t.prototype.startLongPoll=function(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[Px]=this.myID,e[Dx]=this.myPW,e[Mx]=this.currentSerial;for(var n=this.urlFn(e),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+Fx+r.length<=Lx){var a=this.pendingSegs.shift();r=r+"&"+c6+i+"="+a.seg+"&"+l6+i+"="+a.ts+"&"+f6+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},t.prototype.enqueueSegment=function(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(e,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(p6)),a=function(){clearTimeout(s),i()};this.addTag(e,a)},t.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){En("Long-poll script failed to load: "+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ux="";function jx(t){Ux=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m6=16384,y6=45e3,Lp=null;typeof MozWebSocket<"u"?Lp=MozWebSocket:typeof WebSocket<"u"&&(Lp=WebSocket);var aa=function(){function t(e,n,r,i,s){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rh(this.connId),this.stats_=Mp.getCollection(n),this.connURL=t.connectionURL_(n,i,s),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,n,r){var i={};return i[ux]=_b,typeof location<"u"&&location.hostname&&hx.test(location.hostname)&&(i[lx]=fx),n&&(i[cx]=n),r&&(i[dx]=r),e.connectionURL(px,i)},t.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fa.set("previous_websocket_failure",!0);try{var i,s,a,c;if(!$k()){var s={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Lp(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Lp!==null&&!t.forceDisallow_},t.previouslyFailed=function(){return fa.isInMemoryStorage||fa.get("previous_websocket_failure")===!0},t.prototype.markConnectionHealthy=function(){fa.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=If(n);this.onMessage(r)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){var n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(this.mySock!==null){var n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},t.prototype.send=function(e){this.resetKeepAlive();var n=Zt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=ox(n,m6);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(y6))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _6=function(){function t(e){this.initTransports_(e)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Sb,aa]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=aa&&aa.isAvailable(),s=i&&!aa.previouslyFailed();if(e.webSocketOnly&&(i||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[aa];else{var a=this.transports_=[];try{for(var c=Ft(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var h=l.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w6=6e4,b6=5e3,E6=10*1024,T6=100*1024,I_="t",TA="d",I6="s",IA="r",S6="e",SA="o",CA="a",AA="n",NA="p",C6="h",Vx=function(){function t(e,n,r,i,s,a,c,l){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.onMessage_=i,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rh("c:"+this.id+":"),this.transportManager_=new _6(n),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var e=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=nf(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>T6?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>E6?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(s)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(e){var n=this;return function(r){e===n.conn_?n.onConnectionLost_(r):e===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},t.prototype.connReceiver_=function(e){var n=this;return function(r){n.state_!==2&&(e===n.rx_?n.onPrimaryMessageReceived_(r):e===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},t.prototype.sendRequest=function(e){var n={t:"d",d:e};this.sendData_(n)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(e){if(I_ in e){var n=e[I_];n===CA?this.upgradeIfSecondaryHealthy_():n===IA?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===SA&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(e){var n=Ll("t",e),r=Ll("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:NA,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:CA,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AA,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(e){var n=Ll("t",e),r=Ll("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},t.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(e){var n=Ll(I_,e);if(TA in e){var r=e[TA];if(n===C6)this.onHandshake_(r);else if(n===AA){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===I6?this.onConnectionShutdown_(r):n===IA?this.onReset_(r):n===S6?Ow("Server Error: "+r):n===SA?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ow("Unknown control packet command: "+n)}},t.prototype.onHandshake_=function(e){var n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(i),this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_b!==r&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.prototype.startUpgrade_=function(e){var n=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),nf(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(w6))},t.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),this.state_===1?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(e,n){var r=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nf(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(b6))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:NA,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},t.prototype.onConnectionLost_=function(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},t.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)},t.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bx=function(){function t(){}return t.prototype.put=function(e,n,r,i){},t.prototype.merge=function(e,n,r,i){},t.prototype.refreshAuthToken=function(e){},t.prototype.onDisconnectPut=function(e,n,r){},t.prototype.onDisconnectMerge=function(e,n,r){},t.prototype.onDisconnectCancel=function(e,n){},t.prototype.reportStats=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jl=1e3,A6=60*5*1e3,N6=3*1e3,RA=30*1e3,R6=1.3,O6=3e4,k6="server_kill",x6=3,wa=function(t){ee(e,t);function e(n,r,i,s,a,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=rh("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=jl,h.maxReconnectDelay_=A6,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!$k())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h.scheduleConnect_(0),r6.getInstance().on("visible",h.onVisible_,h),n.host.indexOf("fblocal")===-1&&bA.getInstance().on("online",h.onOnline_,h),h}return e.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Zt(a)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},e.prototype.get=function(n){var r=this,i=new cr,s={p:n.path.toString(),q:n.queryObject()},a={action:"g",request:s,onComplete:function(l){var h=l.d;l.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var c=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var l=r.outstandingGets_[c];l===void 0||a!==l||(delete r.outstandingGets_[c],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},N6),this.connected_&&this.sendGet_(c),i.promise},e.prototype.listen=function(n,r,i,s){var a=n.queryIdentifier(),c=n.path.toString();this.log_("Listen called for "+c+" "+a),this.listens.has(c)||this.listens.set(c,new Map),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(c).has(a),"listen() called twice for same path/queryId.");var l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(c).set(a,l),this.connected_&&this.sendListen_(l)},e.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},e.prototype.sendListen_=function(n){var r=this,i=n.query,s=i.path.toString(),a=i.queryIdentifier();this.log_("Listen on "+s+" for "+a);var c={p:s},l="q";n.tag&&(c.q=i.queryObject(),c.t=n.tag),c.h=n.hashFn(),this.sendRequest(l,c,function(h){var d=h.d,v=h.s;e.warnOnListenWarnings_(d,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},e.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&pr(n,"w")){var i=ai(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r.getQueryParams().getIndex().toString()+'"',a=r.path.toString();Dn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},e.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||vY(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RA)},e.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=pY(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var c=a.s,l=a.d||"error";n.authToken_===r&&(c==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(c,l))})}},e.prototype.unlisten=function(n,r){var i=n.path.toString(),s=n.queryIdentifier();this.log_("Unlisten called for "+i+" "+s),K(n.getQueryParams().isDefault()||!n.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n.queryObject(),r)},e.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},c="n";s&&(a.q=i,a.t=s),this.sendRequest(c,a)},e.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},e.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},e.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},e.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(c){s&&setTimeout(function(){s(c.s,c.d)},Math.floor(0))})},e.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},e.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},e.prototype.putInternal=function(n,r,i,s,a){var c={p:r,d:i};a!==void 0&&(c.h=a),this.outstandingPuts_.push({action:n,request:c,onComplete:s}),this.outstandingPutCount_++;var l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)},e.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(c){r.log_(i+" response",c),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(c.s,c.d)})},e.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var c=s.d;r.log_("reportStats","Error sending stats: "+c)}})}},e.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Zt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},e.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Ow("Unrecognized action received from server: "+Zt(n)+`
Are you using the latest client?`)},e.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(n){var r=this;K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},e.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},e.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>O6&&(this.reconnectDelay_=jl),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*R6)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var n=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;var r=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,c=this,l=this.lastSessionId,h=!1,d=null,v=function(){d?d.close():(h=!0,s())},m=function(b){K(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:v,sendRequest:m};var y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(y).then(function(b){h?En("getToken() completed but was canceled"):(En("getToken() completed. Creating connection."),c.authToken_=b&&b.accessToken,d=new Vx(a,c.repoInfo_,c.applicationId_,r,i,s,function(E){Dn(E+" ("+c.repoInfo_.toString()+")"),c.interrupt(k6)},l))}).then(null,function(b){c.log_("Failed to get token: "+b),h||(n.repoInfo_.nodeAdmin&&Dn(b),v())})}},e.prototype.interrupt=function(n){En("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(n){En("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Aw(this.interruptReasons_)&&(this.reconnectDelay_=jl,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},e.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return mb(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},e.prototype.removeListen_=function(n,r){var i=new re(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},e.prototype.onAuthRevoked_=function(n,r){En("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=x6&&(this.reconnectDelay_=RA,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},e.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth();try{for(var a=Ft(this.listens.values()),c=a.next();!c.done;c=a.next()){var l=c.value;try{for(var h=(i=void 0,Ft(l.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(b){n={error:b}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},e.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+Ux.replace(/\./g,"-")]=1,fb()?n["framework.cordova"]=1:Yk()&&(n["framework.reactnative"]=1),this.reportStats(n)},e.prototype.shouldReconnect_=function(){var n=bA.getInstance().currentlyOnline();return Aw(this.interruptReasons_)&&n},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Bx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P6=function(t){ee(e,t);function e(n,r,i){var s=t.call(this)||this;return s.repoInfo_=n,s.onDataUpdate_=r,s.authTokenProvider_=i,s.log_=rh("p:rest:"),s.listens_={},s}return e.prototype.reportStats=function(n){throw new Error("Method not implemented.")},e.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(K(n.getQueryParams().isDefault(),"should have a tag if it's not a default query."),n.path.toString())},e.prototype.listen=function(n,r,i,s){var a=this,c=n.path.toString();this.log_("Listen called for "+c+" "+n.queryIdentifier());var l=e.getListenId_(n,i),h={};this.listens_[l]=h;var d=n.getQueryParams().toRestQueryStringParameters();this.restRequest_(c+".json",d,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(c,y,!1,i),ai(a.listens_,l)===h){var b;v?v===401?b="permission_denied":b="rest_error:"+v:b="ok",s(b,null)}})},e.prototype.unlisten=function(n,r){var i=e.getListenId_(n,r);delete this.listens_[i]},e.prototype.get=function(n){var r=this,i=n.getQueryParams().toRestQueryStringParameters(),s=n.path.toString(),a=new cr;return this.restRequest_(s+".json",i,function(c,l){var h=l;c===404&&(h=null,c=null),c===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},e.prototype.refreshAuthToken=function(n){},e.prototype.restRequest_=function(n,r,i){var s=this;r===void 0&&(r={}),r.format="export",this.authTokenProvider_.getToken(!1).then(function(a){var c=a&&a.accessToken;c&&(r.auth=c);var l=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+gY(r);s.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(i&&h.readyState===4){s.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var d=null;if(h.status>=200&&h.status<300){try{d=If(h.responseText)}catch{Dn("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,d)}else h.status!==401&&h.status!==404&&Dn("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})},e}(Bx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OA=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),D6=function(){function t(e,n,r){e===void 0&&(e=""),n===void 0&&(n=null),r===void 0&&(r=new OA),this.name_=e,this.parent_=n,this.node_=r}return t.prototype.subTree=function(e){for(var n=e instanceof re?e:new re(e),r=this,i=n.getFront();i!==null;){var s=ai(r.node_.children,i)||new OA;r=new t(i,r,s),n=n.popFront(),i=n.getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(e){K(typeof e<"u","Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return this.getValue()===null&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;en(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(e,n,r){n&&!r&&e(this),this.forEachChild(function(i){i.forEachDescendant(e,!0,r)}),n&&r&&e(this)},t.prototype.forEachAncestor=function(e,n){for(var r=n?this:this.parent();r!==null;){if(e(r))return!0;r=r.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(n){n.getValue()!==null?e(n):n.forEachImmediateDescendantWithValue(e)})},t.prototype.path=function(){return new re(this.parent_===null?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){this.parent_!==null&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(e,n){var r=n.isEmpty(),i=pr(this.node_.children,e);r&&i?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):!r&&!i&&(this.node_.children[e]=n.node_,this.node_.childCount++,this.updateParents_())},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kA="repo_interrupt",M6=25,Wt;(function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"})(Wt||(Wt={}));var Cb=function(){function t(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.app=r,this.authTokenProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new t6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new m_,this.transactionQueueTree_=new D6,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var e=this;if(this.stats_=Mp.getCollection(this.repoInfo_),this.forceRestClient_||u$())this.server_=new P6(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var n=this.app.options.databaseAuthVariableOverride;if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Zt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}this.persistentConnection_=new wa(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,n),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),this.statsReporter_=Mp.getOrCreateReporter(this.repoInfo_,function(){return new e6(e.stats_,e.server_)}),this.infoData_=new Q$,this.infoSyncTree_=new _A({startListening:function(r,i,s,a){var c=[],l=e.infoData_.getNode(r.path);return l.isEmpty()||(c=e.infoSyncTree_.applyServerOverwrite(r.path,l),setTimeout(function(){a("ok")},0)),c},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new _A({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(c,l){var h=a(c,l);e.eventQueue_.raiseEventsForChangedPath(r.path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var e=this.infoData_.getNode(new re(".info/serverTimeOffset")),n=e.val()||0;return new Date().getTime()+n},t.prototype.generateServerValues=function(){return L$({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(e,n,r,i){this.dataUpdateCount++;var s=new re(e);n=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var c=Op(n,function(m){return At(m)});a=this.serverSyncTree_.applyTaggedQueryMerge(s,c,i)}else{var l=At(n);a=this.serverSyncTree_.applyTaggedQueryOverwrite(s,l,i)}else if(r){var h=Op(n,function(m){return At(m)});a=this.serverSyncTree_.applyServerMerge(s,h)}else{var d=At(n);a=this.serverSyncTree_.applyServerOverwrite(s,d)}var v=s;a.length>0&&(v=this.rerunTransactions_(s)),this.eventQueue_.raiseEventsForChangedPath(v,a)},t.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},t.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),e===!1&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(e){var n=this;en(e,function(r,i){n.updateInfo_(r,i)})},t.prototype.updateInfo_=function(e,n){var r=new re("/.info/"+e),i=At(n);this.infoData_.updateSnapshot(r,i);var s=this.infoSyncTree_.applyServerOverwrite(r,i);this.eventQueue_.raiseEventsForChangedPath(r,s)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(e){var n=this,r=this.serverSyncTree_.getServerValue(e);return r!=null?Promise.resolve(new ns(r,e.getRef(),e.getQueryParams().getIndex())):this.server_.get(e).then(function(i){var s=At(i),a=n.serverSyncTree_.applyServerOverwrite(e.path,s);return n.eventQueue_.raiseEventsAtPath(e.path,a),Promise.resolve(new ns(s,e.getRef(),e.getQueryParams().getIndex()))},function(i){return n.log_("get for query "+Zt(e)+" failed: "+i),Promise.reject(new Error(i))})},t.prototype.setWithPriority=function(e,n,r,i){var s=this;this.log_("set",{path:e.toString(),value:n,priority:r});var a=this.generateServerValues(),c=At(n,r),l=this.serverSyncTree_.calcCompleteEventCache(e),h=g_(c,l,a),d=this.getNextWriteId_(),v=this.serverSyncTree_.applyUserOverwrite(e,h,d,!0);this.eventQueue_.queueEvents(v),this.server_.put(e.toString(),c.val(!0),function(y,b){var E=y==="ok";E||Dn("set at "+e+" failed: "+y);var T=s.serverSyncTree_.ackUserWrite(d,!E);s.eventQueue_.raiseEventsForChangedPath(e,T),s.callOnCompleteCallback(i,y,b)});var m=this.abortTransactions_(e);this.rerunTransactions_(m),this.eventQueue_.raiseEventsForChangedPath(m,[])},t.prototype.update=function(e,n,r){var i=this;this.log_("update",{path:e.toString(),value:n});var s=!0,a=this.generateServerValues(),c={};if(en(n,function(d,v){s=!1,c[d]=pA(e.child(d),At(v),i.serverSyncTree_,a)}),s)En("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");else{var l=this.getNextWriteId_(),h=this.serverSyncTree_.applyUserMerge(e,c,l);this.eventQueue_.queueEvents(h),this.server_.merge(e.toString(),n,function(d,v){var m=d==="ok";m||Dn("update at "+e+" failed: "+d);var y=i.serverSyncTree_.ackUserWrite(l,!m),b=y.length>0?i.rerunTransactions_(e):e;i.eventQueue_.raiseEventsForChangedPath(b,y),i.callOnCompleteCallback(r,d,v)}),en(n,function(d){var v=i.abortTransactions_(e.child(d));i.rerunTransactions_(v)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},t.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var n=this.generateServerValues(),r=new m_;this.onDisconnect_.forEachTree(re.Empty,function(s,a){var c=pA(s,a,e.serverSyncTree_,n);r.remember(s,c)});var i=[];r.forEachTree(re.Empty,function(s,a){i=i.concat(e.serverSyncTree_.applyServerOverwrite(s,a));var c=e.abortTransactions_(s);e.rerunTransactions_(c)}),this.onDisconnect_=new m_,this.eventQueue_.raiseEventsForChangedPath(re.Empty,i)},t.prototype.onDisconnectCancel=function(e,n){var r=this;this.server_.onDisconnectCancel(e.toString(),function(i,s){i==="ok"&&r.onDisconnect_.forget(e),r.callOnCompleteCallback(n,i,s)})},t.prototype.onDisconnectSet=function(e,n,r){var i=this,s=At(n);this.server_.onDisconnectPut(e.toString(),s.val(!0),function(a,c){a==="ok"&&i.onDisconnect_.remember(e,s),i.callOnCompleteCallback(r,a,c)})},t.prototype.onDisconnectSetWithPriority=function(e,n,r,i){var s=this,a=At(n,r);this.server_.onDisconnectPut(e.toString(),a.val(!0),function(c,l){c==="ok"&&s.onDisconnect_.remember(e,a),s.callOnCompleteCallback(i,c,l)})},t.prototype.onDisconnectUpdate=function(e,n,r){var i=this;if(Aw(n)){En("onDisconnect().update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(r,"ok");return}this.server_.onDisconnectMerge(e.toString(),n,function(s,a){s==="ok"&&en(n,function(c,l){var h=At(l);i.onDisconnect_.remember(e.child(c),h)}),i.callOnCompleteCallback(r,s,a)})},t.prototype.addEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.addEventRegistration(e,n):r=this.serverSyncTree_.addEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.removeEventCallbackForQuery=function(e,n){var r;e.path.getFront()===".info"?r=this.infoSyncTree_.removeEventRegistration(e,n):r=this.serverSyncTree_.removeEventRegistration(e,n),this.eventQueue_.raiseEventsAtPath(e.path,r)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(kA)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(kA)},t.prototype.stats=function(e){if(e===void 0&&(e=!1),!(typeof console>"u")){var n;e?(this.statsListener_||(this.statsListener_=new kx(this.stats_)),n=this.statsListener_.get()):n=this.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);en(n,function(i,s){for(var a=i,c=i.length;c<r+2;c++)a+=" ";console.log(a+s)})}},t.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},t.prototype.log_=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r="";this.persistentConnection_&&(r=this.persistentConnection_.id+":"),En.apply(void 0,Po([r],e))},t.prototype.callOnCompleteCallback=function(e,n,r){e&&Lu(function(){if(n==="ok")e(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,e(a)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Ab(this))},enumerable:!1,configurable:!0}),t.prototype.startTransaction=function(e,n,r,i){this.log_("transaction on "+e);var s=function(){},a=new go(this,e);a.on("value",s);var c=function(){a.off("value",s)},l={path:e,update:n,onComplete:r,status:null,order:nx(),applyLocally:i,retryCount:0,unwatcher:c,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=this.getLatestState_(e);l.currentInputSnapshot=h;var d=l.update(h.val());if(d===void 0){if(l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete){var v=new ns(l.currentInputSnapshot,new go(this,l.path),ct);l.onComplete(null,!1,v)}}else{Cf("transaction failed: Data returned ",d,l.path),l.status=Wt.RUN;var m=this.transactionQueueTree_.subTree(e),y=m.getValue()||[];y.push(l),m.setValue(y);var b=void 0;if(typeof d=="object"&&d!==null&&pr(d,".priority"))b=ai(d,".priority"),K(Sf(b),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var E=this.serverSyncTree_.calcCompleteEventCache(e)||Ae.EMPTY_NODE;b=E.getPriority().val()}var T=this.generateServerValues(),A=At(d,b),x=g_(A,h,T);l.currentOutputSnapshotRaw=A,l.currentOutputSnapshotResolved=x,l.currentWriteId=this.getNextWriteId_();var M=this.serverSyncTree_.applyUserOverwrite(e,x,l.currentWriteId,l.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,M),this.sendReadyTransactions_()}},t.prototype.getLatestState_=function(e,n){return this.serverSyncTree_.calcCompleteEventCache(e,n)||Ae.EMPTY_NODE},t.prototype.sendReadyTransactions_=function(e){var n=this;if(e===void 0&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),e.getValue()!==null){var r=this.buildTransactionQueue_(e);K(r.length>0,"Sending zero length transaction queue");var i=r.every(function(s){return s.status===Wt.RUN});i&&this.sendTransactionQueue_(e.path(),r)}else e.hasChildren()&&e.forEachChild(function(s){n.sendReadyTransactions_(s)})},t.prototype.sendTransactionQueue_=function(e,n){for(var r=this,i=n.map(function(y){return y.currentWriteId}),s=this.getLatestState_(e,i),a=s,c=s.hash(),l=0;l<n.length;l++){var h=n[l];K(h.status===Wt.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=Wt.SENT,h.retryCount++;var d=re.relativePath(e,h.path);a=a.updateChild(d,h.currentOutputSnapshotRaw)}var v=a.val(!0),m=e;this.server_.put(m.toString(),v,function(y){r.log_("transaction put response",{path:m.toString(),status:y});var b=[];if(y==="ok"){for(var E=[],T=0;T<n.length;T++){if(n[T].status=Wt.COMPLETED,b=b.concat(r.serverSyncTree_.ackUserWrite(n[T].currentWriteId)),n[T].onComplete){var A=n[T].currentOutputSnapshotResolved,x=new go(r,n[T].path),M=new ns(A,x,ct);E.push(n[T].onComplete.bind(null,null,!0,M))}n[T].unwatcher()}r.pruneCompletedTransactionsBelowNode_(r.transactionQueueTree_.subTree(e)),r.sendReadyTransactions_(),r.eventQueue_.raiseEventsForChangedPath(e,b);for(var T=0;T<E.length;T++)Lu(E[T])}else{if(y==="datastale")for(var T=0;T<n.length;T++)n[T].status===Wt.SENT_NEEDS_ABORT?n[T].status=Wt.NEEDS_ABORT:n[T].status=Wt.RUN;else{Dn("transaction at "+m.toString()+" failed: "+y);for(var T=0;T<n.length;T++)n[T].status=Wt.NEEDS_ABORT,n[T].abortReason=y}r.rerunTransactions_(e)}},c)},t.prototype.rerunTransactions_=function(e){var n=this.getAncestorTransactionNode_(e),r=n.path(),i=this.buildTransactionQueue_(n);return this.rerunTransactionQueue_(i,r),r},t.prototype.rerunTransactionQueue_=function(e,n){if(e.length!==0){for(var r=[],i=[],s=e.filter(function(j){return j.status===Wt.RUN}),a=s.map(function(j){return j.currentWriteId}),c=0;c<e.length;c++){var l=e[c],h=re.relativePath(n,l.path),d=!1,v=void 0;if(K(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===Wt.NEEDS_ABORT)d=!0,v=l.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else if(l.status===Wt.RUN)if(l.retryCount>=M6)d=!0,v="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0));else{var m=this.getLatestState_(l.path,a);l.currentInputSnapshot=m;var y=e[c].update(m.val());if(y!==void 0){Cf("transaction failed: Data returned ",y,l.path);var b=At(y),E=typeof y=="object"&&y!=null&&pr(y,".priority");E||(b=b.updatePriority(m.getPriority()));var T=l.currentWriteId,A=this.generateServerValues(),x=g_(b,m,A);l.currentOutputSnapshotRaw=b,l.currentOutputSnapshotResolved=x,l.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(T),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(l.path,x,l.currentWriteId,l.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(T,!0))}else d=!0,v="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(l.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(n,i),i=[],d&&(e[c].status=Wt.COMPLETED,function(j){setTimeout(j,Math.floor(0))}(e[c].unwatcher),e[c].onComplete))if(v==="nodata"){var M=new go(this,e[c].path),U=e[c].currentInputSnapshot,X=new ns(U,M,ct);r.push(e[c].onComplete.bind(null,null,!1,X))}else r.push(e[c].onComplete.bind(null,new Error(v),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var c=0;c<r.length;c++)Lu(r[c]);this.sendReadyTransactions_()}},t.prototype.getAncestorTransactionNode_=function(e){var n,r=this.transactionQueueTree_;for(n=e.getFront();n!==null&&r.getValue()===null;)r=r.subTree(n),e=e.popFront(),n=e.getFront();return r},t.prototype.buildTransactionQueue_=function(e){var n=[];return this.aggregateTransactionQueuesForNode_(e,n),n.sort(function(r,i){return r.order-i.order}),n},t.prototype.aggregateTransactionQueuesForNode_=function(e,n){var r=this,i=e.getValue();if(i!==null)for(var s=0;s<i.length;s++)n.push(i[s]);e.forEachChild(function(a){r.aggregateTransactionQueuesForNode_(a,n)})},t.prototype.pruneCompletedTransactionsBelowNode_=function(e){var n=this,r=e.getValue();if(r){for(var i=0,s=0;s<r.length;s++)r[s].status!==Wt.COMPLETED&&(r[i]=r[s],i++);r.length=i,e.setValue(r.length>0?r:null)}e.forEachChild(function(a){n.pruneCompletedTransactionsBelowNode_(a)})},t.prototype.abortTransactions_=function(e){var n=this,r=this.getAncestorTransactionNode_(e).path(),i=this.transactionQueueTree_.subTree(e);return i.forEachAncestor(function(s){n.abortTransactionsOnNode_(s)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(s){n.abortTransactionsOnNode_(s)}),r},t.prototype.abortTransactionsOnNode_=function(e){var n=e.getValue();if(n!==null){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)if(n[a].status!==Wt.SENT_NEEDS_ABORT){if(n[a].status===Wt.SENT)K(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=Wt.SENT_NEEDS_ABORT,n[a].abortReason="set";else if(K(n[a].status===Wt.RUN,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(n[a].currentWriteId,!0)),n[a].onComplete){var c=null;r.push(n[a].onComplete.bind(null,new Error("set"),!1,c))}}s===-1?e.setValue(null):n.length=s+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),i);for(var a=0;a<r.length;a++)Lu(r[a])}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qx=function(){function t(e){this.indexedFilter_=new Ib(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.prototype.updateChild=function(e,n,r,i,s,a){return this.matches(new Be(n,r))||(r=Ae.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,a)},t.prototype.updateFullNode=function(e,n,r){n.isLeafNode()&&(n=Ae.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(Ae.EMPTY_NODE);var s=this;return n.forEachChild(ct,function(a,c){s.matches(new Be(a,c))||(i=i.updateImmediateChild(a,Ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(e){if(e.hasStart()){var n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()},t.getEndPost_=function(e){if(e.hasEnd()){var n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L6=function(){function t(e){this.rangedFilter_=new qx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return t.prototype.updateChild=function(e,n,r,i,s,a){return this.rangedFilter_.matches(new Be(n,r))||(r=Ae.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,a):this.fullLimitUpdateChild_(e,n,r,s,a)},t.prototype.updateFullNode=function(e,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=Ae.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ae.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var c=s.getNext(),l=void 0;if(this.reverse_?l=this.index_.compare(this.rangedFilter_.getStartPost(),c)<=0:l=this.index_.compare(c,this.rangedFilter_.getEndPost())<=0,l)i=i.updateImmediateChild(c.name,c.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ae.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(T,A){return m(A,T)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var c=s.getNext();!y&&v(h,c)<=0&&(y=!0);var l=y&&a<this.limit_&&v(c,d)<=0;l?a++:i=i.updateImmediateChild(c.name,Ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)},t.prototype.updatePriority=function(e,n){return e},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(e,n,r,i,s){var a;if(this.reverse_){var c=this.index_.getCompare();a=function(x,M){return c(M,x)}}else a=this.index_.getCompare();var l=e;K(l.numChildren()===this.limit_,"");var h=new Be(n,r),d=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(l.hasChild(n)){for(var m=l.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||l.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var b=y==null?1:a(y,h),E=v&&!r.isEmpty()&&b>=0;if(E)return s!=null&&s.trackChildChange(Rf(n,r,m)),l.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Nf(n,m));var T=l.updateImmediateChild(n,Ae.EMPTY_NODE),A=y!=null&&this.rangedFilter_.matches(y);return A?(s!=null&&s.trackChildChange(uc(y.name,y.node)),T.updateImmediateChild(y.name,y.node)):T}else return r.isEmpty()?e:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Nf(d.name,d.node)),s.trackChildChange(uc(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(d.name,Ae.EMPTY_NODE)):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F6=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ct}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:So},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},t.prototype.getLimit=function(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="",n},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(e,n){var r=this.copy_();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r},t.prototype.startAfter=function(e,n){var r;if(this.index_===ji)typeof e=="string"&&(e=uA(e)),r=this.startAt(e,n);else{var i=void 0;n==null?i=Gi:i=uA(n),r=this.startAt(e,i)}return r.startAfterSet_=!0,r},t.prototype.endAt=function(e,n){var r=this.copy_();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r},t.prototype.endBefore=function(e,n){var r,i;return this.index_===ji?(typeof e=="string"&&(e=cA(e)),i=this.endAt(e,n)):(n==null?r=So:r=cA(n),i=this.endAt(e,r)),i.endBeforeSet_=!0,i},t.prototype.orderBy=function(e){var n=this.copy_();return n.index_=e,n},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;r===""&&(this.isViewFromLeft()?r=e.VIEW_FROM_LEFT:r=e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==ct&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ct},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Ib(this.getIndex()):this.hasLimit()?new L6(this):new qx(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===ct?r=e.PRIORITY_INDEX:this.index_===Mw?r=e.VALUE_INDEX:this.index_===ji?r=e.KEY_INDEX:(K(this.index_ instanceof Lw,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=Zt(r),this.startSet_&&(n[e.START_AT]=Zt(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+Zt(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=Zt(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+Zt(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go=function(t){ee(e,t);function e(n,r){var i=this;if(!(n instanceof Cb))throw new Error("new Reference() no longer supported - use app.database().");return i=t.call(this,n,r,new F6,!1)||this,i}return e.prototype.getKey=function(){return be("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(n){return be("Reference.child",1,1,arguments.length),typeof n=="number"?n=String(n):n instanceof re||(this.path.getFront()===null?y$("Reference.child",1,n,!1):Af("Reference.child",1,n,!1)),new e(this.repo,this.path.child(n))},e.prototype.getParent=function(){be("Reference.parent",0,0,arguments.length);var n=this.path.parent();return n===null?null:new e(this.repo,n)},e.prototype.getRoot=function(){be("Reference.root",0,0,arguments.length);for(var n=this;n.getParent()!==null;)n=n.getParent();return n},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(n,r){be("Reference.set",1,2,arguments.length),jr("Reference.set",this.path),Li("Reference.set",1,n,this.path,!1),hn("Reference.set",2,r,!0);var i=new cr;return this.repo.setWithPriority(this.path,n,null,i.wrapCallback(r)),i.promise},e.prototype.update=function(n,r){if(be("Reference.update",1,2,arguments.length),jr("Reference.update",this.path),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,Dn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}mx("Reference.update",1,n,this.path,!1),hn("Reference.update",2,r,!0);var a=new cr;return this.repo.update(this.path,n,a.wrapCallback(r)),a.promise},e.prototype.setWithPriority=function(n,r,i){if(be("Reference.setWithPriority",2,3,arguments.length),jr("Reference.setWithPriority",this.path),Li("Reference.setWithPriority",1,n,this.path,!1),xw("Reference.setWithPriority",2,r,!1),hn("Reference.setWithPriority",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var s=new cr;return this.repo.setWithPriority(this.path,n,r,s.wrapCallback(i)),s.promise},e.prototype.remove=function(n){return be("Reference.remove",0,1,arguments.length),jr("Reference.remove",this.path),hn("Reference.remove",1,n,!0),this.set(null,n)},e.prototype.transaction=function(n,r,i){if(be("Reference.transaction",1,3,arguments.length),jr("Reference.transaction",this.path),hn("Reference.transaction",1,n,!1),hn("Reference.transaction",2,r,!0),_$("Reference.transaction",3,i,!0),this.getKey()===".length"||this.getKey()===".keys")throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";i===void 0&&(i=!0);var s=new cr;typeof r=="function"&&s.promise.catch(function(){});var a=function(c,l,h){c?s.reject(c):s.resolve(new b$(l,h)),typeof r=="function"&&r(c,l,h)};return this.repo.startTransaction(this.path,n,a,i),s.promise},e.prototype.setPriority=function(n,r){be("Reference.setPriority",1,2,arguments.length),jr("Reference.setPriority",this.path),xw("Reference.setPriority",1,n,!1),hn("Reference.setPriority",2,r,!0);var i=new cr;return this.repo.setWithPriority(this.path.child(".priority"),n,null,i.wrapCallback(r)),i.promise},e.prototype.push=function(n,r){be("Reference.push",0,2,arguments.length),jr("Reference.push",this.path),Li("Reference.push",1,n,this.path,!0),hn("Reference.push",2,r,!0);var i=this.repo.serverTime(),s=E$(i),a=this.child(s),c=this.child(s),l;return n!=null?l=a.set(n,r).then(function(){return c}):l=Promise.resolve(c),a.then=l.then.bind(l),a.catch=l.then.bind(l,void 0),typeof r=="function"&&l.catch(function(){}),a},e.prototype.onDisconnect=function(){return jr("Reference.onDisconnect",this.path),new w$(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Eb);Eb.__referenceConstructor=go;Fw.__referenceConstructor=go;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U6=function(){function t(e,n){var r=this;this.app_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.get().then(function(i){return r.auth_=i})}return t.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(En("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout(function(){return e(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(e)}))},t.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(e)})},t.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(e)},t}(),xA=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(e){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j6="FIREBASE_DATABASE_EMULATOR_HOST",S_,Of=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return S_||(S_=new t),S_},t.prototype.interrupt=function(){var e,n,r,i;try{for(var s=Ft(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Ft(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].interrupt()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.resume=function(){var e,n,r,i;try{for(var s=Ft(Object.keys(this.repos_)),a=s.next();!a.done;a=s.next()){var c=a.value;try{for(var l=(r=void 0,Ft(Object.keys(this.repos_[c]))),h=l.next();!h.done;h=l.next()){var d=h.value;this.repos_[c][d].resume()}}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}}catch(v){e={error:v}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}},t.prototype.applyEmulatorSettings=function(e,n,r){e.repoInfo_=new wb(n+":"+r,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),e.repoInfo_.nodeAdmin&&(e.authTokenProvider_=new xA)},t.prototype.databaseFromApp=function(e,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Fi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),En("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=kw(s,i),c=a.repoInfo,l,h=void 0;typeof process<"u"&&(h=process.env[j6]),h?(l=!0,s="http://"+h+"?ns="+c.namespace,a=kw(s,i),c=a.repoInfo):l=!a.repoInfo.secure;var d=i&&l?new xA:new U6(e,n);yx("Invalid Firebase Database URL",1,a),a.path.isEmpty()||Fi("Database URL must point to the root of a Firebase Database (not including a child path).");var v=this.createRepo(c,e,d);return v.database},t.prototype.deleteRepo=function(e){var n=ai(this.repos_,e.app.name);(!n||ai(n,e.key)!==e)&&Fi("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete n[e.key]},t.prototype.createRepo=function(e,n,r){var i=ai(this.repos_,n.name);i||(i={},this.repos_[n.name]=i);var s=ai(i,e.toURLString());return s&&Fi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Cb(e,this.useRestClient_,n,r),i[e.toURLString()]=s,s},t.prototype.forceRestClient=function(e){this.useRestClient_=e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ab=function(){function t(e){var n=this;this.repoInternal_=e,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return R(n,void 0,void 0,function(){return N(this,function(r){return this.checkDeleted_("delete"),Of.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},e instanceof Cb||Fi("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new go(this.repo_,re.Empty)),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(e,n){if(this.checkDeleted_("useEmulator"),this.instanceStarted_){Fi("Cannot call useEmulator() after instance has already been initialized.");return}Of.getInstance().applyEmulatorSettings(this.repoInternal_,e,n)},t.prototype.ref=function(e){return this.checkDeleted_("ref"),be("database.ref",0,1,arguments.length),e instanceof go?this.refFromURL(e.toString()):e!==void 0?this.root_.child(e):this.root_},t.prototype.refFromURL=function(e){var n="database.refFromURL";this.checkDeleted_(n),be(n,1,1,arguments.length);var r=kw(e,this.repo_.repoInfo_.nodeAdmin);yx(n,1,r);var i=r.repoInfo;return!this.repo_.repoInfo_.isCustomHost()&&i.host!==this.repo_.repoInfo_.host&&Fi(n+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(r.path.toString())},t.prototype.checkDeleted_=function(e){this.repoInternal_===null&&Fi("Cannot call "+e+" on a deleted database.")},t.prototype.goOffline=function(){be("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){be("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V6=function(){aa.forceDisallow(),Sb.forceAllow()},B6=function(){Sb.forceDisallow()},q6=function(){return aa.isAvailable()},W6=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},H6=function(t,e){t.repo.stats(e)},G6=function(t,e){t.repo.statsIncrementCounter(e)},Y6=function(t){return t.repo.dataUpdateCount},$6=function(t,e){return t.repo.interceptServerData_(e)};function z6(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,s=t.namespace,a=t.nodeAdmin,c=a===void 0?!1:a;jx(r);var l=new Qk("auth-internal",new Xk("database-standalone"));return l.setComponent(new vr("auth-internal",function(){return i},"PRIVATE")),{instance:Of.getInstance().databaseFromApp(e,l,n,c),namespace:s}}var K6=Object.freeze({__proto__:null,forceLongPolling:V6,forceWebSockets:B6,isWebSocketsAvailable:q6,setSecurityDebugCallback:W6,stats:H6,statsIncrementCounter:G6,dataUpdateCount:Y6,interceptServerData:$6,initStandalone:z6});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q6=wa;wa.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};wa.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var X6=Vx,J6=function(t){var e=wa.prototype.put;return wa.prototype.put=function(n,r,i,s){s!==void 0&&(s=t()),e.call(this,n,r,i,s)},function(){wa.prototype.put=e}},Z6=wb,ez=function(t){return t.queryIdentifier()},tz=function(t){Of.getInstance().forceRestClient(t)},nz=Object.freeze({__proto__:null,DataConnection:Q6,RealTimeConnection:X6,hijackHash:J6,ConnectionTarget:Z6,queryIdentifier:ez,forceRestClient:tz}),rz="@firebase/database",iz="0.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oz=Ab.ServerValue;function sz(t){jx(t.SDK_VERSION),t.INTERNAL.registerComponent(new vr("database",function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return Of.getInstance().databaseFromApp(r,i,n)},"PUBLIC").setServiceProps({Reference:go,Query:Eb,Database:Ab,DataSnapshot:ns,enableLogging:ix,INTERNAL:K6,ServerValue:oz,TEST_ACCESS:nz}).setMultipleInstances(!0)),t.registerVersion(rz,iz)}sz(le);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Uw=function(t,e){return Uw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Uw(t,e)};function az(t,e){Uw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Wx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var uz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,Nb=Nb||{},Ne=uz||self;function Fp(){}function jw(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function oh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cz(t){return Object.prototype.hasOwnProperty.call(t,C_)&&t[C_]||(t[C_]=++lz)}var C_="closure_uid_"+(1e9*Math.random()>>>0),lz=0;function fz(t,e,n){return t.call.apply(t.bind,arguments)}function hz(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Mn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mn=fz:Mn=hz,Mn.apply(null,arguments)}function Ld(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ki(){return Date.now()}function tr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(r,i,s){for(var a=Array(arguments.length-2),c=2;c<arguments.length;c++)a[c-2]=arguments[c];return e.prototype[i].apply(r,a)}}function Ns(){this.j=this.j,this.i=this.i}var dz=0;Ns.prototype.j=!1;Ns.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),dz!=0)&&cz(this)};Ns.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Hx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Gx=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=typeof t=="string"?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function pz(t){e:{for(var e=rK,n=t.length,r=typeof t=="string"?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function PA(t){return Array.prototype.concat.apply([],arguments)}function Rb(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Up(t){return/^[\s\xa0]*$/.test(t)}var DA=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Qn(t,e){return t.indexOf(e)!=-1}function A_(t,e){return t<e?-1:t>e?1:0}var Xn;e:{var MA=Ne.navigator;if(MA){var LA=MA.userAgent;if(LA){Xn=LA;break e}}Xn=""}function Ob(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Yx(t){var e={};for(var n in t)e[n]=t[n];return e}var FA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $x(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var s=0;s<FA.length;s++)n=FA[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function kb(t){return kb[" "](t),t}kb[" "]=Fp;function vz(t,e){var n=yz;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var gz=Qn(Xn,"Opera"),Es=Qn(Xn,"Trident")||Qn(Xn,"MSIE"),zx=Qn(Xn,"Edge"),Vw=zx||Es,Kx=Qn(Xn,"Gecko")&&!(Qn(Xn.toLowerCase(),"webkit")&&!Qn(Xn,"Edge"))&&!(Qn(Xn,"Trident")||Qn(Xn,"MSIE"))&&!Qn(Xn,"Edge"),mz=Qn(Xn.toLowerCase(),"webkit")&&!Qn(Xn,"Edge");function Qx(){var t=Ne.document;return t?t.documentMode:void 0}var jp;e:{var N_="",R_=function(){var t=Xn;if(Kx)return/rv:([^\);]+)(\)|;)/.exec(t);if(zx)return/Edge\/([\d\.]+)/.exec(t);if(Es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mz)return/WebKit\/(\S+)/.exec(t);if(gz)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(R_&&(N_=R_?R_[1]:""),Es){var O_=Qx();if(O_!=null&&O_>parseFloat(N_)){jp=String(O_);break e}}jp=N_}var yz={};function Xx(t){return vz(t,function(){for(var e=0,n=DA(String(jp)).split("."),r=DA(String(t)).split("."),i=Math.max(n.length,r.length),s=0;e==0&&s<i;s++){var a=n[s]||"",c=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],a[0].length==0&&c[0].length==0)break;e=A_(a[1].length==0?0:parseInt(a[1],10),c[1].length==0?0:parseInt(c[1],10))||A_(a[2].length==0,c[2].length==0)||A_(a[2],c[2]),a=a[3],c=c[3]}while(e==0)}return 0<=e})}var Bw;if(Ne.document&&Es){var UA=Qx();Bw=UA||parseInt(jp,10)||void 0}else Bw=void 0;var Jx=Bw,xb=!Es||9<=Number(Jx),_z=Es&&!Xx("9"),wz=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ne.addEventListener("test",Fp,e),Ne.removeEventListener("test",Fp,e)}catch{}return t}();function Ln(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}Ln.prototype.b=function(){this.defaultPrevented=!0};function kf(t,e){if(Ln.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Kx){e:{try{kb(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:bz[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}tr(kf,Ln);var bz={2:"touch",3:"pen",4:"mouse"};kf.prototype.b=function(){kf.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,_z)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch{}};var sh="closure_listenable_"+(1e6*Math.random()|0),Ez=0;function Tz(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ez,this.Y=this.Z=!1}function Hv(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Gv(t){this.src=t,this.a={},this.b=0}Gv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.a[s],t||(t=this.a[s]=[],this.b++);var a=Ww(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):(e=new Tz(e,this.src,s,!!r,i),e.Z=n,t.push(e)),e};function qw(t,e){var n=e.type;if(n in t.a){var r=t.a[n],i=Hx(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Hv(e),t.a[n].length==0&&(delete t.a[n],t.b--))}}function Ww(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}var Pb="closure_lm_"+(1e6*Math.random()|0),k_={};function Db(t,e,n,r,i){if(r&&r.once)return eP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Db(t,e[s],n,r,i);return null}return n=Fb(n),t&&t[sh]?t.va(e,n,oh(r)?!!r.capture:!!r,i):Zx(t,e,n,!1,r,i)}function Zx(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=oh(i)?!!i.capture:!!i;if(a&&!xb)return null;var c=Lb(t);if(c||(t[Pb]=c=new Gv(t)),n=c.add(e,n,r,a,s),n.proxy)return n;if(r=Iz(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wz||(i=a),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Iz(){var t=Sz,e=xb?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function eP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)eP(t,e[s],n,r,i);return null}return n=Fb(n),t&&t[sh]?t.wa(e,n,oh(r)?!!r.capture:!!r,i):Zx(t,e,n,!0,r,i)}function tP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)tP(t,e[s],n,r,i);else r=oh(r)?!!r.capture:!!r,n=Fb(n),t&&t[sh]?(t=t.c,e=String(e).toString(),e in t.a&&(s=t.a[e],n=Ww(s,n,r,i),-1<n&&(Hv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.a[e],t.b--)))):t&&(t=Lb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ww(e,n,r,i)),(n=-1<t?e[t]:null)&&Mb(n))}function Mb(t){if(typeof t!="number"&&t&&!t.Y){var e=t.src;if(e&&e[sh])qw(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Lb(e))?(qw(n,t),n.b==0&&(n.src=null,e[Pb]=null)):Hv(t)}}}function nP(t){return t in k_?k_[t]:k_[t]="on"+t}function jA(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Mb(t),n.call(r,e)}function Sz(t,e){if(t.Y)return!0;if(!xb){if(!e)e:{e=["window","event"];for(var n=Ne,r=0;r<e.length;r++)if(n=n[e[r]],n==null){e=null;break e}e=n}return e=new kf(e,this),jA(t,e)}return jA(t,new kf(e,this))}function Lb(t){return t=t[Pb],t instanceof Gv?t:null}var x_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fb(t){return typeof t=="function"?t:(t[x_]||(t[x_]=function(e){return t.handleEvent(e)}),t[x_])}function kr(){Ns.call(this),this.c=new Gv(this),this.J=this,this.C=null}tr(kr,Ns);kr.prototype[sh]=!0;he=kr.prototype;he.addEventListener=function(t,e,n,r){Db(this,t,e,n,r)};he.removeEventListener=function(t,e,n,r){tP(this,t,e,n,r)};function In(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,typeof e=="string")e=new Ln(e,t);else if(e instanceof Ln)e.target=e.target||t;else{var i=e;e=new Ln(r,t),$x(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=e.a=n[s];i=Fd(a,r,!0,e)&&i}if(a=e.a=t,i=Fd(a,r,!0,e)&&i,i=Fd(a,r,!1,e)&&i,n)for(s=0;s<n.length;s++)a=e.a=n[s],i=Fd(a,r,!1,e)&&i}he.G=function(){if(kr.X.G.call(this),this.c){var t=this.c,e;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Hv(n[r]);delete t.a[e],t.b--}}this.C=null};he.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)};he.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};function Fd(t,e,n,r){if(e=t.c.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var a=e[s];if(a&&!a.Y&&a.capture==n){var c=a.listener,l=a.ca||a.src;a.Z&&qw(t.c,a),i=c.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ub=Ne.JSON.stringify;function rP(){this.b=this.a=null}var iP=new(function(){function t(e,n){this.c=e,this.f=n,this.b=0,this.a=null}return t.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},t}())(function(){return new jb},function(t){t.reset()});rP.prototype.add=function(t,e){var n=iP.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n};function Cz(){var t=sP,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function jb(){this.next=this.b=this.a=null}jb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};jb.prototype.reset=function(){this.next=this.b=this.a=null};function Az(t){Ne.setTimeout(function(){throw t},0)}function oP(t,e){Hw||Nz(),Gw||(Hw(),Gw=!0),sP.add(t,e)}var Hw;function Nz(){var t=Ne.Promise.resolve(void 0);Hw=function(){t.then(Rz)}}var Gw=!1,sP=new rP;function Rz(){for(var t;t=Cz();){try{t.a.call(t.b)}catch(n){Az(n)}var e=iP;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Gw=!1}function Yv(t,e){kr.call(this),this.b=t||1,this.a=e||Ne,this.f=Mn(this.Za,this),this.g=Ki()}tr(Yv,kr);he=Yv.prototype;he.aa=!1;he.M=null;he.Za=function(){if(this.aa){var t=Ki()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),In(this,"tick"),this.aa&&(Vb(this),this.start()))}};he.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ki())};function Vb(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}he.G=function(){Yv.X.G.call(this),Vb(this),delete this.a};function Bb(t,e,n){if(typeof t=="function")n&&(t=Mn(t,n));else if(t&&typeof t.handleEvent=="function")t=Mn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ne.setTimeout(t,e||0)}function aP(t){t.a=Bb(function(){t.a=null,t.c&&(t.c=!1,aP(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}var Oz=function(t){az(e,t);function e(n,r){var i=t.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return e.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:aP(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ne.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ns);function xf(t){Ns.call(this),this.b=t,this.a={}}tr(xf,Ns);var VA=[];function uP(t,e,n,r){Array.isArray(n)||(n&&(VA[0]=n.toString()),n=VA);for(var i=0;i<n.length;i++){var s=Db(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function cP(t){Ob(t.a,function(e,n){this.a.hasOwnProperty(n)&&Mb(e)},t),t.a={}}xf.prototype.G=function(){xf.X.G.call(this),cP(this)};xf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function qb(){this.a=!0}function kz(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var a="",c=s.split("&"),l=0;l<c.length;l++){var h=c[l].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+a})}function xz(t,e,n,r,i,s,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+a})}function Fu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Dz(t,n)+(r?" "+r:"")})}function Pz(t,e){t.info(function(){return"TIMEOUT: "+e})}qb.prototype.info=function(){};function Dz(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return Ub(n)}catch{return e}}var Ba={},BA=null;function $v(){return BA=BA||new kr}Ba.Fa="serverreachability";function lP(t){Ln.call(this,Ba.Fa,t)}tr(lP,Ln);function Pf(t){var e=$v();In(e,new lP(e))}Ba.STAT_EVENT="statevent";function fP(t,e){Ln.call(this,Ba.STAT_EVENT,t),this.stat=e}tr(fP,Ln);function Jn(t){var e=$v();In(e,new fP(e,t))}Ba.Ga="timingevent";function hP(t){Ln.call(this,Ba.Ga,t)}tr(hP,Ln);function ah(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){t()},e)}var zv={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},dP={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function pP(){}pP.prototype.a=null;function qA(t){var e;return(e=t.a)||(e=t.a={}),e}function vP(){}var uh={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Wb(){Ln.call(this,"d")}tr(Wb,Ln);function Hb(){Ln.call(this,"c")}tr(Hb,Ln);var gP;function mP(){}tr(mP,pP);gP=new mP;function ch(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new xf(this),this.P=Mz,t=Vw?125:void 0,this.R=new Yv(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var Mz=45e3,yP={},Yw={};he=ch.prototype;he.setTimeout=function(t){this.P=t};function $w(t,e,n){t.H=1,t.i=Qv(Co(e)),t.j=n,t.I=!0,_P(t,null)}function _P(t,e){t.u=Ki(),lh(t),t.l=Co(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),SP(n.b,"t",r),t.D=0,t.a=WP(t.g,t.g.C?e:null),0<t.O&&(t.F=new Oz(Mn(t.Ca,t,t.a),t.O)),uP(t.J,t.a,"readystatechange",t.Xa),e=t.B?Yx(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Pf(),kz(t.c,t.m,t.l,t.f,t.S,t.j)}he.Xa=function(t){t=t.target;var e=this.F;e&&cs(t)==3?e.f():this.Ca(t)};he.Ca=function(t){try{if(t==this.a)e:{var e=cs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||e==3&&!Vw&&!this.a.$())){this.A||e!=4||n==7||(n==8||0>=r?Pf(3):Pf(2)),Kv(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,xz(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,c=this.a;if((a=c.a?c.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Up(a)){var l=a;break t}}l=null}if(l)Fu(this.c,this.f,l,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,zw(this,l);else{this.b=!1,this.h=3,Jn(12),Ku(this),Vp(this);break e}}this.I?(wP(this,e,s),Vw&&this.b&&e==3&&(uP(this.J,this.R,"tick",this.Wa),this.R.start())):(Fu(this.c,this.f,s,null),zw(this,s)),e==4&&Ku(this),this.b&&!this.A&&(e==4?jP(this.g,this):(this.b=!1,lh(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,Jn(12)):(this.h=0,Jn(13)),Ku(this),Vp(this)}}}catch{}finally{}};function wP(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Lz(t,n);if(i==Yw){e==4&&(t.h=4,Jn(14),r=!1),Fu(t.c,t.f,null,"[Incomplete Response]");break}else if(i==yP){t.h=4,Jn(15),Fu(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}else Fu(t.c,t.f,i,null),zw(t,i)}e==4&&n.length==0&&(t.h=1,Jn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,e=t.g,e.a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jb(e),e.F=!0,Jn(11))):(Fu(t.c,t.f,n,"[Invalid Chunked Response]"),Ku(t),Vp(t))}he.Wa=function(){if(this.a){var t=cs(this.a),e=this.a.$();this.D<e.length&&(Kv(this),wP(this,t,e),this.b&&t!=4&&lh(this))}};function Lz(t,e){var n=t.D,r=e.indexOf(`
`,n);return r==-1?Yw:(n=Number(e.substring(n,r)),isNaN(n)?yP:(r+=1,r+n>e.length?Yw:(e=e.substr(r,n),t.D=r+n,e)))}he.cancel=function(){this.A=!0,Ku(this)};function lh(t){t.T=Ki()+t.P,bP(t,t.P)}function bP(t,e){if(t.o!=null)throw Error("WatchDog timer not null");t.o=ah(Mn(t.Va,t),e)}function Kv(t){t.o&&(Ne.clearTimeout(t.o),t.o=null)}he.Va=function(){this.o=null;var t=Ki();0<=t-this.T?(Pz(this.c,this.l),this.H!=2&&(Pf(),Jn(17)),Ku(this),this.h=2,Vp(this)):bP(this,this.T-t)};function Vp(t){t.g.v==0||t.A||jP(t.g,t)}function Ku(t){Kv(t);var e=t.F;e&&typeof e.ja=="function"&&e.ja(),t.F=null,Vb(t.R),cP(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function zw(t,e){try{var n=t.g;if(n.v!=0&&(n.a==t||Kw(n.b,t))){if(n.I=t.N,!t.C&&Kw(n.b,t)&&n.v==3){try{var r=n.ka.a.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<t.u)Hp(n),Jv(n);else break e;Xb(n),Jn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=ah(Mn(n.Sa,n),6e3));if(1>=NP(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else ha(n,11)}else if((t.C||n.a==t)&&Hp(n),!Up(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var c=i[5];if(c!=null&&typeof c=="number"&&0<c){var l=1.5*c;n.D=l,n.c.info("backChannelRequestTimeoutMs_="+l)}l=n;var h=t.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=l.b;!v.a&&(Qn(d,"spdy")||Qn(d,"quic")||Qn(d,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&($b(v,v.b),v.b=null))}if(l.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(l.na=m,Tt(l.B,l.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ki()-t.u,n.c.info("Handshake RTT: "+n.N+"ms")),l=n;var y=t;if(l.la=qP(l,l.C?l.ga:null,l.fa),y.C){RP(l.b,y);var b=y,E=l.D;E&&b.setTimeout(E),b.o&&(Kv(b),lh(b)),l.a=y}else FP(l);0<n.g.length&&Zv(n)}else i[0]!="stop"&&i[0]!="close"||ha(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?ha(n,7):Qb(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}Pf(4)}catch{}}function Fz(t){if(t.K&&typeof t.K=="function")return t.K();if(typeof t=="string")return t.split("");if(jw(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return t=e}function Gb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jw(t)||typeof t=="string")Gx(t,e,void 0);else{if(t.L&&typeof t.L=="function")var n=t.L();else if(t.K&&typeof t.K=="function")n=void 0;else if(jw(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Fz(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Mc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Mc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}he=Mc.prototype;he.K=function(){Yb(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t};he.L=function(){return Yb(this),this.a.concat()};function Yb(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Na(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Na(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}he.get=function(t,e){return Na(this.b,t)?this.b[t]:e};he.set=function(t,e){Na(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e};he.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function Na(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var EP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Uz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ra(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ra){this.a=e!==void 0?e:t.a,Bp(this,t.f),this.j=t.j,qp(this,t.c),Wp(this,t.h),this.g=t.g,e=t.b;var n=new Df;n.c=e.c,e.a&&(n.a=new Mc(e.a),n.b=e.b),WA(this,n),this.i=t.i}else t&&(n=String(t).match(EP))?(this.a=!!e,Bp(this,n[1]||"",!0),this.j=rf(n[2]||""),qp(this,n[3]||"",!0),Wp(this,n[4]),this.g=rf(n[5]||"",!0),WA(this,n[6]||"",!0),this.i=rf(n[7]||"")):(this.a=!!e,this.b=new Df(null,this.a))}Ra.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zl(e,HA,!0),":");var n=this.c;return(n||e=="file")&&(t.push("//"),(e=this.j)&&t.push(zl(e,HA,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&t.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&t.push("/"),t.push(zl(n,n.charAt(0)=="/"?Wz:qz,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",zl(n,Gz)),t.join("")};function Co(t){return new Ra(t)}function Bp(t,e,n){t.f=n?rf(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function qp(t,e,n){t.c=n?rf(e,!0):e}function Wp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function WA(t,e,n){e instanceof Df?(t.b=e,Yz(t.b,t.a)):(n||(e=zl(e,Hz)),t.b=new Df(e,t.a))}function Tt(t,e,n){t.b.set(e,n)}function Qv(t){return Tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ki()).toString(36)),t}function jz(t){return t instanceof Ra?Co(t):new Ra(t,void 0)}function Vz(t,e,n,r){var i=new Ra(null,void 0);return t&&Bp(i,t),e&&qp(i,e),n&&Wp(i,n),r&&(i.g=r),i}function rf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Bz),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bz(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var HA=/[#\/\?@]/g,qz=/[#\?:]/g,Wz=/[#\?]/g,Hz=/[#\?@]/g,Gz=/#/g;function Df(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rs(t){t.a||(t.a=new Mc,t.b=0,t.c&&Uz(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}he=Df.prototype;he.add=function(t,e){Rs(this),this.c=null,t=Lc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this};function TP(t,e){Rs(t),e=Lc(t,e),Na(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Na(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Yb(t)))}function IP(t,e){return Rs(t),e=Lc(t,e),Na(t.a.b,e)}he.forEach=function(t,e){Rs(this),this.a.forEach(function(n,r){Gx(n,function(i){t.call(e,i,r,this)},this)},this)};he.L=function(){Rs(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};he.K=function(t){Rs(this);var e=[];if(typeof t=="string")IP(this,t)&&(e=PA(e,this.a.get(Lc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=PA(e,t[n])}return e};he.set=function(t,e){return Rs(this),this.c=null,t=Lc(this,t),IP(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this};he.get=function(t,e){return t?(t=this.K(t),0<t.length?String(t[0]):e):e};function SP(t,e,n){TP(t,e),0<n.length&&(t.c=null,t.a.set(Lc(t,e),Rb(n)),t.b+=n.length)}he.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),t.push(a)}}return this.c=t.join("&")};function Lc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Yz(t,e){e&&!t.f&&(Rs(t),t.c=null,t.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(TP(this,r),SP(this,i,n))},t)),t.f=e}var $z=function(){function t(e,n){this.b=e,this.a=n}return t}();function CP(t){this.g=t||zz,Ne.PerformanceNavigationTiming?(t=Ne.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ne.ia&&Ne.ia.ya&&Ne.ia.ya()&&Ne.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var zz=10;function AP(t){return t.b?!0:t.a?t.a.size>=t.f:!1}function NP(t){return t.b?1:t.a?t.a.size:0}function Kw(t,e){return t.b?t.b==e:t.a?t.a.has(e):!1}function $b(t,e){t.a?t.a.add(e):t.b=e}function RP(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}CP.prototype.cancel=function(){var t,e;if(this.c=OP(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=Wx(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}};function OP(t){var e,n;if(t.b!=null)return t.c.concat(t.b.s);if(t.a!=null&&t.a.size!==0){var r=t.c;try{for(var i=Wx(t.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Rb(t.c)}function zb(){}zb.prototype.stringify=function(t){return Ne.JSON.stringify(t,void 0)};zb.prototype.parse=function(t){return Ne.JSON.parse(t,void 0)};function Kz(){this.a=new zb}function Qz(t,e,n){var r=n||"";try{Gb(t,function(i,s){var a=i;oh(i)&&(a=Ub(i)),e.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xz(t,e){var n=new qb;if(Ne.Image){var r=new Image;r.onload=Ld(Ud,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ld(Ud,n,r,"TestLoadImage: error",!1,e),r.onabort=Ld(Ud,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ld(Ud,n,r,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ud(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}var Jz=Ne.JSON.parse;function sn(t){kr.call(this),this.headers=new Mc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Zz,this.D=this.F=!1}tr(sn,kr);var Zz="",eK=/^https?$/i,tK=["POST","PUT"];he=sn.prototype;he.ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?qA(this.H):qA(gP),this.a.onreadystatechange=Mn(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){GA(this,s);return}t=n||"";var i=new Mc(this.headers);r&&Gb(r,function(s,a){i.set(a,s)}),r=pz(i.L()),n=Ne.FormData&&t instanceof Ne.FormData,!(0<=Hx(tK,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{PP(this),0<this.o&&((this.D=nK(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Mn(this.xa,this)):this.m=Bb(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){GA(this,s)}};function nK(t){return Es&&Xx(9)&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function rK(t){return t.toLowerCase()=="content-type"}he.xa=function(){typeof Nb<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,In(this,"timeout"),this.abort(8))};function GA(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,kP(t),Xv(t)}function kP(t){t.u||(t.u=!0,In(t,"complete"),In(t,"error"))}he.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,In(this,"complete"),In(this,"abort"),Xv(this))};he.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Xv(this,!0)),sn.X.G.call(this)};he.za=function(){this.j||(this.A||this.l||this.g?xP(this):this.Ua())};he.Ua=function(){xP(this)};function xP(t){if(t.b&&typeof Nb<"u"&&(!t.s[1]||cs(t)!=4||t.W()!=2)){if(t.l&&cs(t)==4)Bb(t.za,0,t);else if(In(t,"readystatechange"),cs(t)==4){t.b=!1;try{{var e=t.W();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=e===0){var s=String(t.B).match(EP)[1]||null;if(!s&&Ne.self&&Ne.self.location){var a=Ne.self.location.protocol;s=a.substr(0,a.length-1)}i=!eK.test(s?s.toLowerCase():"")}r=i}var c=r}if(c)In(t,"complete"),In(t,"success");else{t.h=6;try{var l=2<cs(t)?t.a.statusText:""}catch{l=""}t.f=l+" ["+t.W()+"]",kP(t)}}finally{Xv(t)}}}}function Xv(t,e){if(t.a){PP(t);var n=t.a,r=t.s[0]?Fp:null;t.a=null,t.s=null,e||In(t,"ready");try{n.onreadystatechange=r}catch{}}}function PP(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ne.clearTimeout(t.m),t.m=null)}function cs(t){return t.a?t.a.readyState:0}he.W=function(){try{return 2<cs(this)?this.a.status:-1}catch{return-1}};he.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};he.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Jz(e)}};he.ua=function(){return this.h};he.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function iK(t){var e="";return Ob(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Kb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=iK(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tt(t,e,n))}function Vl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function DP(t){this.pa=0,this.g=[],this.c=new qb,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Vl("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Vl("baseRetryDelayMs",5e3,t),this.Ra=Vl("retryDelaySeedMs",1e4,t),this.Ma=Vl("forwardChannelMaxRetries",2,t),this.ma=Vl("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new CP(t&&t.concurrentRequestLimit),this.ka=new Kz,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}he=DP.prototype;he.ha=8;he.v=1;function Qb(t){if(MP(t),t.v==3){var e=t.R++,n=Co(t.B);Tt(n,"SID",t.J),Tt(n,"RID",e),Tt(n,"TYPE","terminate"),fh(t,n),e=new ch(t,t.c,e,void 0),e.H=2,e.i=Qv(Co(n)),n=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(n=Ne.navigator.sendBeacon(e.i.toString(),"")),!n&&Ne.Image&&(new Image().src=e.i,n=!0),n||(e.a=WP(e.g,null),e.a.ba(e.i)),e.u=Ki(),lh(e)}BP(t)}function Jv(t){t.a&&(Jb(t),t.a.cancel(),t.a=null)}function MP(t){Jv(t),t.j&&(Ne.clearTimeout(t.j),t.j=null),Hp(t),t.b.cancel(),t.h&&(typeof t.h=="number"&&Ne.clearTimeout(t.h),t.h=null)}function P_(t,e){t.g.push(new $z(t.Oa++,e)),t.v==3&&Zv(t)}function Zv(t){AP(t.b)||t.h||(t.h=!0,oP(t.Ba,t),t.u=0)}function oK(t,e){return NP(t.b)>=t.b.f-(t.h?1:0)?!1:t.h?(t.g=e.s.concat(t.g),!0):t.v==1||t.v==2||t.u>=(t.La?0:t.Ma)?!1:(t.h=ah(Mn(t.Ba,t,e),VP(t,t.u)),t.u++,!0)}he.Ba=function(t){if(this.h)if(this.h=null,this.v==1){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new ch(this,this.c,t,void 0),n=this.l;this.O&&(n?(n=Yx(n),$x(n,this.O)):n=this.O),this.i===null&&(e.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=LP(this,e,r),i=Co(this.B),Tt(i,"RID",t),Tt(i,"CVER",22),this.A&&Tt(i,"X-HTTP-Session-Id",this.A),fh(this,i),this.i&&n&&Kb(i,this.i,n),$b(this.b,e),this.Ia&&Tt(i,"TYPE","init"),this.da?(Tt(i,"$req",r),Tt(i,"SID","null"),e.U=!0,$w(e,i,null)):$w(e,i,r),this.v=2}}else this.v==3&&(t?YA(this,t):this.g.length==0||AP(this.b)||YA(this))};function YA(t,e){var n;e?n=e.f:n=t.R++;var r=Co(t.B);Tt(r,"SID",t.J),Tt(r,"RID",n),Tt(r,"AID",t.P),fh(t,r),t.i&&t.l&&Kb(r,t.i,t.l),n=new ch(t,t.c,n,t.u+1),t.i===null&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=LP(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),$b(t.b,n),$w(n,r,e)}function fh(t,e){t.f&&Gb({},function(n,r){Tt(e,r,n)})}function LP(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Mn(t.f.Ja,t.f,t):null;e:for(var i=t.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var c=!0,l=0;l<n;l++){var h=i[l].b,d=i[l].a;if(h-=s,0>h)s=Math.max(0,i[l].b-100),c=!1;else try{Qz(d,a,"req"+h+"_")}catch{r&&r(d)}}if(c){r=a.join("&");break e}}return t=t.g.splice(0,n),e.s=t,r}function FP(t){t.a||t.j||(t.T=1,oP(t.Aa,t),t.o=0)}function Xb(t){return t.a||t.j||3<=t.o?!1:(t.T++,t.j=ah(Mn(t.Aa,t),VP(t,t.o)),t.o++,!0)}he.Aa=function(){if(this.j=null,UP(this),this.U&&!(this.F||this.a==null||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ah(Mn(this.Ta,this),t)}};he.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Jn(10),Jv(this),UP(this))};function Jb(t){t.s!=null&&(Ne.clearTimeout(t.s),t.s=null)}function UP(t){t.a=new ch(t,t.c,"rpc",t.T),t.i===null&&(t.a.B=t.l),t.a.O=0;var e=Co(t.la);Tt(e,"RID","rpc"),Tt(e,"SID",t.J),Tt(e,"CI",t.H?"0":"1"),Tt(e,"AID",t.P),fh(t,e),Tt(e,"TYPE","xmlhttp"),t.i&&t.l&&Kb(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Qv(Co(e)),n.j=null,n.I=!0,_P(n,t)}he.Sa=function(){this.m!=null&&(this.m=null,Jv(this),Xb(this),Jn(19))};function Hp(t){t.m!=null&&(Ne.clearTimeout(t.m),t.m=null)}function jP(t,e){var n=null;if(t.a==e){Hp(t),Jb(t),t.a=null;var r=2}else if(Kw(t.b,e))n=e.s,RP(t.b,e),r=1;else return;if(t.I=e.N,t.v!=0){if(e.b)if(r==1){n=e.j?e.j.length:0,e=Ki()-e.u;var i=t.u;r=$v(),In(r,new hP(r)),Zv(t)}else FP(t);else if(i=e.h,i==3||i==0&&0<t.I||!(r==1&&oK(t,e)||r==2&&Xb(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ha(t,5);break;case 4:ha(t,10);break;case 3:ha(t,6);break;default:ha(t,2)}}}function VP(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ha(t,e){if(t.c.info("Error code "+e),e==2){var n=null;t.f&&(n=null);var r=Mn(t.Ya,t);n||(n=new Ra("//www.google.com/images/cleardot.gif"),Ne.location&&Ne.location.protocol=="http"||Bp(n,"https"),Qv(n)),Xz(n.toString(),r)}else Jn(2);t.v=0,t.f&&t.f.ra(e),BP(t),MP(t)}he.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Jn(2)):(this.c.info("Failed to ping google.com"),Jn(1))};function BP(t){t.v=0,t.I=-1,t.f&&((OP(t.b).length!=0||t.g.length!=0)&&(t.b.c.length=0,Rb(t.g),t.g.length=0),t.f.qa())}function qP(t,e,n){var r=jz(n);if(r.c!="")e&&qp(r,e+"."+r.c),Wp(r,r.h);else{var i=Ne.location;r=Vz(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ob(t.V,function(s,a){Tt(r,a,s)}),e=t.A,n=t.na,e&&n&&Tt(r,e,n),Tt(r,"VER",t.ha),fh(t,r),r}function WP(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return e=new sn(t.Na),e.F=t.C,e}function HP(){}he=HP.prototype;he.ta=function(){};he.sa=function(){};he.ra=function(){};he.qa=function(){};he.Ja=function(){};function Gp(){if(Es&&!(10<=Number(Jx)))throw Error("Environmental error: no available transport.")}Gp.prototype.a=function(t,e){return new xr(t,e)};function xr(t,e){kr.call(this),this.a=new DP(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Up(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Up(e)&&(this.a.A=e,t=this.b,t!==null&&e in t&&(t=this.b,e in t&&delete t[e])),this.f=new Fc(this)}tr(xr,kr);xr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Jn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=qP(t,null,t.fa),Zv(t)};xr.prototype.close=function(){Qb(this.a)};xr.prototype.h=function(t){if(typeof t=="string"){var e={};e.__data__=t,P_(this.a,e)}else this.l?(e={},e.__data__=Ub(t),P_(this.a,e)):P_(this.a,t)};xr.prototype.G=function(){this.a.f=null,delete this.f,Qb(this.a),delete this.a,xr.X.G.call(this)};function GP(t){Wb.call(this);var e=t.__sm__;if(e){e:{for(var n in e){t=n;break e}t=void 0}(this.c=t)?(t=this.c,this.data=e!==null&&t in e?e[t]:void 0):this.data=e}else this.data=t}tr(GP,Wb);function YP(){Hb.call(this),this.status=1}tr(YP,Hb);function Fc(t){this.a=t}tr(Fc,HP);Fc.prototype.ta=function(){In(this.a,"a")};Fc.prototype.sa=function(t){In(this.a,new GP(t))};Fc.prototype.ra=function(t){In(this.a,new YP)};Fc.prototype.qa=function(){In(this.a,"b")};Gp.prototype.createWebChannel=Gp.prototype.a;xr.prototype.send=xr.prototype.h;xr.prototype.open=xr.prototype.g;xr.prototype.close=xr.prototype.close;zv.NO_ERROR=0;zv.TIMEOUT=8;zv.HTTP_ERROR=6;dP.COMPLETE="complete";vP.EventType=uh;uh.OPEN="a";uh.CLOSE="b";uh.ERROR="c";uh.MESSAGE="d";kr.prototype.listen=kr.prototype.va;sn.prototype.listenOnce=sn.prototype.wa;sn.prototype.getLastError=sn.prototype.Qa;sn.prototype.getLastErrorCode=sn.prototype.ua;sn.prototype.getStatus=sn.prototype.W;sn.prototype.getResponseJson=sn.prototype.Pa;sn.prototype.getResponseText=sn.prototype.$;sn.prototype.send=sn.prototype.ba;var sK=function(){return new Gp},aK=function(){return $v()},D_=zv,uK=dP,cK=Ba,$A={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},jd=vP,lK=sn;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fK=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},Yp=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),di=new Dc("@firebase/firestore");function Qw(){return di.logLevel}function J(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(di.logLevel<=Me.DEBUG){var r=e.map(Zb);di.debug.apply(di,Vt(["Firestore (8.2.7): "+t],r))}}function $t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(di.logLevel<=Me.ERROR){var r=e.map(Zb);di.error.apply(di,Vt(["Firestore (8.2.7): "+t],r))}}function $p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(di.logLevel<=Me.WARN){var r=e.map(Zb);di.warn.apply(di,Vt(["Firestore (8.2.7): "+t],r))}}function Zb(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.2.7) INTERNAL ASSERTION FAILED: "+t;throw $t(e),new Error(e)}function Ee(t,e){t||fe()}function te(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hK(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $P=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";r.length<20;)for(var i=hK(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length));return r},t}();function Ve(t,e){return t<e?-1:t>e?1:0}function cc(t,e,n){return t.length===e.length&&t.every(function(r,i){return n(r,e[i])})}function zP(t){return t+"\0"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zn=function(){function t(e){this.h=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e))},t.prototype.toBase64=function(){return e=this.h,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(e){return Ve(this.h,e.h)},t.prototype.isEqual=function(e){return this.h===e.h},t}();Zn.T=new Zn("");var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return ee(e,t),e}(Error),Oa=function(){function t(e){this.I=e}return t.fromBase64String=function(e){try{return new t(Zn.fromBase64String(e))}catch(n){throw new G(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Zn.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this.I.isEqual(e.I)},t}(),Ir=function(){function t(e){this.uid=e}return t.prototype.m=function(){return this.uid!=null},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();Ir.UNAUTHENTICATED=new Ir(null),Ir.R=new Ir("google-credentials-uid"),Ir.P=new Ir("first-party-uid");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dK=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},zA=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(e){this.V=e,e(Ir.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),pK=function(){function t(e){var n=this;this.D=null,this.currentUser=Ir.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){n.N++,n.currentUser=n.$(),n.C=!0,n.V&&n.V(n.currentUser)},this.N=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),e.get().then(function(r){n.auth=r,n.D&&n.auth.addAuthTokenListener(n.D)},function(){}))}return t.prototype.getToken=function(){var e=this,n=this.N,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return e.N!==n?(J("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):i?(Ee(typeof i.accessToken=="string"),new dK(i.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(e){this.V=e,this.C&&e(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new Ir(e)},t}(),vK=function(){function t(e,n){this.F=e,this.O=n,this.type="FirstParty",this.user=Ir.P}return Object.defineProperty(t.prototype,"g",{get:function(){var e={"X-Goog-AuthUser":this.O},n=this.F.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),e},enumerable:!1,configurable:!0}),t}(),gK=function(){function t(e,n){this.F=e,this.O=n}return t.prototype.getToken=function(){return Promise.resolve(new vK(this.F,this.O))},t.prototype.v=function(e){e(Ir.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Ar=function(){function t(e,n){var r=this;this.previousValue=e,n&&(n.k=function(i){return r.M(i)},this.L=function(i){return n.B(i)})}return t.prototype.M=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.L&&this.L(e),e},t}();Ar.q=-1;var fr=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fe=function(){function t(e){this.timestamp=e}return t.K=function(e){return new t(e)},t.min=function(){return new t(new fr(0,0))},t.prototype._=function(e){return this.timestamp.U(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),KP=function(){function t(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.G=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.H(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(r){n.push(r)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(e){return e=e===void 0?1:e,this.J(this.segments,this.offset+e,this.length-e)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.et=function(){return this.length===0},t.prototype.nt=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.st=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(e,n){for(var r=Math.min(e.length,n.length),i=0;i<r;i++){var s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),Je=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.J=function(n,r,i){return new e(n,r,i)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var c=a[s];if(c.indexOf("//")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid segment ("+c+"). Paths must not contain // in them.");i.push.apply(i,c.split("/").filter(function(l){return l.length>0}))}return new e(i)},e.ct=function(){return new e([])},e}(KP),mK=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yi=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.J=function(n,r,i){return new e(n,r,i)},e.at=function(n){return mK.test(n)},e.prototype.rt=function(){return this.it().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return this.length===1&&this.get(0)==="__name__"},e.ht=function(){return new e(["__name__"])},e.lt=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},c=!1;s<n.length;){var l=n[s];if(l==="\\"){if(s+1===n.length)throw new G(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new G(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else l==="`"?(c=!c,s++):l!=="."||c?(i+=l,s++):(a(),s++)}if(a(),c)throw new G(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(r)},e.ct=function(){return new e([])},e}(KP),ve=function(){function t(e){this.path=e}return t._t=function(e){return new t(Je.ot(e))},t.ft=function(e){return new t(Je.ot(e).Y(5))},t.prototype.dt=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&Je.H(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.H=function(e,n){return Je.H(e.path,n.path)},t.wt=function(e){return e.length%2==0},t.Et=function(e){return new t(new Je(e.slice()))},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hh(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QP(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc=function(){function t(e){this.fields=e,e.sort(yi.H)}return t.prototype.Tt=function(e){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].nt(e))return!0;return!1},t.prototype.isEqual=function(e){return cc(this.fields,e.fields,function(n,r){return n.isEqual(r)})},t}(),yK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t){if(Ee(!!t),typeof t=="string"){var e=0,n=yK.exec(t);if(Ee(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fc(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function XP(t){var e=t.mapValue.fields.__previous_value__;return eE(e)?XP(e):e}function Mf(t){var e=Ts(t.mapValue.fields.__local_write_time__.timestampValue);return new fr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){return t==null}function zp(t){return t===0&&1/t==-1/0}function JP(t){return typeof t=="number"&&Number.isInteger(t)&&!zp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eE(t)?4:10:fe()}function Yi(t,e){var n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mf(t).isEqual(Mf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Ts(r.timestampValue),a=Ts(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return fc(r.bytesValue).isEqual(fc(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Gt(r.geoPointValue.latitude)===Gt(i.geoPointValue.latitude)&&Gt(r.geoPointValue.longitude)===Gt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gt(r.integerValue)===Gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=Gt(r.doubleValue),a=Gt(i.doubleValue);return s===a?zp(s)===zp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return cc(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(KA(s)!==KA(a))return!1;for(var c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Yi(s[c],a[c])))return!1;return!0}(t,e);default:return fe()}}function Lf(t,e){return(t.values||[]).find(function(n){return Yi(n,e)})!==void 0}function hc(t,e){var n=Is(t),r=Is(e);if(n!==r)return Ve(n,r);switch(n){case 0:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(i,s){var a=Gt(i.integerValue||i.doubleValue),c=Gt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return QA(t.timestampValue,e.timestampValue);case 4:return QA(Mf(t),Mf(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(i,s){var a=fc(i),c=fc(s);return a._(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),c=s.split("/"),l=0;l<a.length&&l<c.length;l++){var h=Ve(a[l],c[l]);if(h!==0)return h}return Ve(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){var a=Ve(Gt(i.latitude),Gt(s.latitude));return a!==0?a:Ve(Gt(i.longitude),Gt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],c=s.values||[],l=0;l<a.length&&l<c.length;++l){var h=hc(a[l],c[l]);if(h)return h}return Ve(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a=i.fields||{},c=Object.keys(a),l=s.fields||{},h=Object.keys(l);c.sort(),h.sort();for(var d=0;d<c.length&&d<h.length;++d){var v=Ve(c[d],h[d]);if(v!==0)return v;var m=hc(a[c[d]],l[h[d]]);if(m!==0)return m}return Ve(c.length,h.length)}(t.mapValue,e.mapValue);default:throw fe()}}function QA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);var n=Ts(t),r=Ts(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function tE(t){return Xw(t)}function Xw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){var i=Ts(r);return"time("+i.seconds+","+i.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?fc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ve.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(r){for(var i="[",s=!0,a=0,c=r.values||[];a<c.length;a++)s?s=!1:i+=",",i+=Xw(c[a]);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){for(var i="{",s=!0,a=0,c=Object.keys(r.fields||{}).sort();a<c.length;a++){var l=c[a];s?s=!1:i+=",",i+=l+":"+Xw(r.fields[l])}return i+"}"}(t.mapValue):fe();var e,n}function Kp(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Jw(t){return!!t&&"integerValue"in t}function nE(t){return!!t&&"arrayValue"in t}function XA(t){return!!t&&"nullValue"in t}function JA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rE(t){return!!t&&"mapValue"in t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss=function(){function t(e){this.proto=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.et())return this.proto;for(var n=this.proto,r=0;r<e.length-1;++r)if(!n.mapValue.fields||!rE(n=n.mapValue.fields[e.get(r)]))return null;return(n=(n.mapValue.fields||{})[e.tt()])||null},t.prototype.isEqual=function(e){return Yi(this.proto,e.proto)},t}(),dh=function(){function t(e){e===void 0&&(e=Ss.empty()),this.It=e,this.At=new Map}return t.prototype.set=function(e,n){return this.Rt(e,n),this},t.prototype.delete=function(e){return this.Rt(e,null),this},t.prototype.Rt=function(e,n){for(var r=this.At,i=0;i<e.length-1;++i){var s=e.get(i),a=r.get(s);a instanceof Map?r=a:a&&Is(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(e.tt(),n)},t.prototype.Pt=function(){var e=this.yt(yi.ct(),this.At);return e!=null?new Ss(e):this.It},t.prototype.yt=function(e,n){var r=this,i=!1,s=this.It.field(e),a=rE(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(c,l){if(c instanceof Map){var h=r.yt(e.child(l),c);h!=null&&(a[l]=h,i=!0)}else c!==null?(a[l]=c,i=!0):a.hasOwnProperty(l)&&(delete a[l],i=!0)}),i?{mapValue:{fields:a}}:null},t}();function ZP(t){var e=[];return hh(t.fields||{},function(n,r){var i=new yi([n]);if(rE(r)){var s=ZP(r.mapValue).fields;if(s.length===0)e.push(i);else for(var a=0,c=s;a<c.length;a++){var l=c[a];e.push(i.child(l))}}else e.push(i)}),new lc(e)}var iE=function(t,e){this.key=t,this.version=e},lt=function(t){function e(n,r,i,s){var a=this;return(a=t.call(this,n,r)||this).gt=i,a.Vt=!!s.Vt,a.hasCommittedMutations=!!s.hasCommittedMutations,a}return ee(e,t),e.prototype.field=function(n){return this.gt.field(n)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(n){return n instanceof e&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.Vt===n.Vt&&this.hasCommittedMutations===n.hasCommittedMutations&&this.gt.isEqual(n.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(iE),rn=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),s}return ee(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.hasCommittedMutations===this.hasCommittedMutations&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(iE),oE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(n){return n instanceof e&&n.version.isEqual(this.version)&&n.key.isEqual(this.key)},e}(iE),_K=function(t,e,n,r,i,s,a){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.vt=null};function ZA(t,e,n,r,i,s,a){return e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new _K(t,e,n,r,i,s,a)}function ph(t){var e=te(t);if(e.vt===null){var n=e.path.rt();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(r){return function(i){return i.field.rt()+i.op.toString()+tE(i.value)}(r)}).join(","),n+="|ob:",n+=e.orderBy.map(function(r){return function(i){return i.field.rt()+i.dir}(r)}).join(","),qa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Xp(e.startAt)),e.endAt&&(n+="|ub:",n+=Xp(e.endAt)),e.vt=n}return e.vt}function eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!AK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],s=e.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!Yi(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tN(t.startAt,e.startAt)&&tN(t.endAt,e.endAt)}function Qp(t){return ve.wt(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Nr=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).field=n,s.op=r,s.value=i,s}return ee(e,t),e.create=function(n,r,i){return n.ut()?r==="in"||r==="not-in"?this.St(n,r,i):new wK(n,r,i):r==="array-contains"?new TK(n,i):r==="in"?new IK(n,i):r==="not-in"?new SK(n,i):r==="array-contains-any"?new CK(n,i):new e(n,r,i)},e.St=function(n,r,i){return r==="in"?new bK(n,i):new EK(n,i)},e.prototype.matches=function(n){var r=n.field(this.field);return this.op==="!="?r!==null&&this.Dt(hc(r,this.value)):r!==null&&Is(this.value)===Is(r)&&this.Dt(hc(r,this.value))},e.prototype.Dt=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return fe()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),wK=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,i)||this).key=ve.ft(i.referenceValue),s}return ee(e,t),e.prototype.matches=function(n){var r=ve.H(n.key,this.key);return this.Dt(r)},e}(Nr),bK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"in",r)||this).keys=eD("in",r),i}return ee(e,t),e.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},e}(Nr),EK=function(t){function e(n,r){var i=this;return(i=t.call(this,n,"not-in",r)||this).keys=eD("not-in",r),i}return ee(e,t),e.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},e}(Nr);function eD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return ve.ft(r.referenceValue)})}var TK=function(t){function e(n,r){return t.call(this,n,"array-contains",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return nE(r)&&Lf(r.arrayValue,this.value)},e}(Nr),IK=function(t){function e(n,r){return t.call(this,n,"in",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=n.field(this.field);return r!==null&&Lf(this.value.arrayValue,r)},e}(Nr),SK=function(t){function e(n,r){return t.call(this,n,"not-in",r)||this}return ee(e,t),e.prototype.matches=function(n){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.field(this.field);return r!==null&&!Lf(this.value.arrayValue,r)},e}(Nr),CK=function(t){function e(n,r){return t.call(this,n,"array-contains-any",r)||this}return ee(e,t),e.prototype.matches=function(n){var r=this,i=n.field(this.field);return!(!nE(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return Lf(r.value.arrayValue,s)})},e}(Nr),Ff=function(t,e){this.position=t,this.before=e};function Xp(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return tE(e)}).join(",")}var Qu=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function AK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function eN(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],a=t.position[i];if(r=s.field.ut()?ve.H(ve.ft(a.referenceValue),n.key):hc(a,n.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return t.before?r<=0:r<0}function tN(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=function(t,e,n,r,i,s,a,c){e===void 0&&(e=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),c===void 0&&(c=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.Nt=null,this.$t=null,this.startAt,this.endAt};function tD(t,e,n,r,i,s,a,c){return new Do(t,e,n,r,i,s,a,c)}function Uc(t){return new Do(t)}function up(t){return!qa(t.limit)&&t.limitType==="F"}function Jp(t){return!qa(t.limit)&&t.limitType==="L"}function sE(t){return t.xt.length>0?t.xt[0].field:null}function aE(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function uE(t){return t.collectionGroup!==null}function dc(t){var e=te(t);if(e.Nt===null){e.Nt=[];var n=aE(e),r=sE(e);if(n!==null&&r===null)n.ut()||e.Nt.push(new Qu(n)),e.Nt.push(new Qu(yi.ht(),"asc"));else{for(var i=!1,s=0,a=e.xt;s<a.length;s++){var c=a[s];e.Nt.push(c),c.field.ut()&&(i=!0)}if(!i){var l=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Qu(yi.ht(),l))}}}return e.Nt}function Gr(t){var e=te(t);if(!e.$t)if(e.limitType==="F")e.$t=ZA(e.path,e.collectionGroup,dc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=dc(e);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Qu(s.field,a))}var c=e.endAt?new Ff(e.endAt.position,!e.endAt.before):null,l=e.startAt?new Ff(e.startAt.position,!e.startAt.before):null;e.$t=ZA(e.path,e.collectionGroup,n,e.filters,e.limit,c,l)}return e.$t}function nD(t,e,n){return new Do(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vh(t,e){return eg(Gr(t),Gr(e))&&t.limitType===e.limitType}function rD(t){return ph(Gr(t))+"|lt:"+t.limitType}function Zw(t){return"Query(target="+function(e){var n=e.path.rt();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(r){return(i=r).field.rt()+" "+i.op+" "+tE(i.value);var i}).join(", ")+"]"),qa(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(r){return function(i){return i.field.rt()+" ("+i.dir+")"}(r)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Xp(e.startAt)),e.endAt&&(n+=", endAt: "+Xp(e.endAt)),"Target("+n+")"}(Gr(t))+"; limitType="+t.limitType+")"}function gh(t,e){return function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.dt(n.collectionGroup)&&n.path.nt(i):ve.wt(n.path)?n.path.isEqual(i):n.path.st(i)}(t,e)&&function(n,r){for(var i=0,s=n.xt;i<s.length;i++){var a=s[i];if(!a.field.ut()&&r.field(a.field)===null)return!1}return!0}(t,e)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!eN(n.startAt,dc(n),r))&&(!n.endAt||!eN(n.endAt,dc(n),r))}(t,e)}function iD(t){return function(e,n){for(var r=!1,i=0,s=dc(t);i<s.length;i++){var a=s[i],c=NK(a,e,n);if(c!==0)return c;r=r||a.field.ut()}return 0}}function NK(t,e,n){var r=t.field.ut()?ve.H(e.key,n.key):function(i,s,a){var c=s.field(i),l=a.field(i);return c!==null&&l!==null?hc(c,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tg=function(){function t(e,n,r,i,s,a,c){s===void 0&&(s=Fe.min()),a===void 0&&(a=Fe.min()),c===void 0&&(c=Zn.T),this.target=e,this.targetId=n,this.Ft=r,this.sequenceNumber=i,this.Ot=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zp(e)?"-0":e}}function sD(t){return{integerValue:""+t}}function aD(t,e){return JP(e)?sD(e):oD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ng=function(){this.qt=void 0};function RK(t,e,n){return t instanceof pc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ka?cD(t,e):t instanceof xa?lD(t,e):function(r,i){var s=uD(r,i),a=nN(s)+nN(r.Ut);return Jw(s)&&Jw(r.Ut)?sD(a):oD(r.Qt,a)}(t,e)}function OK(t,e,n){return t instanceof ka?cD(t,e):t instanceof xa?lD(t,e):n}function uD(t,e){return t instanceof vc?Jw(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}var pc=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e}(ng),ka=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return ee(e,t),e}(ng);function cD(t,e){for(var n=fD(e),r=function(a){n.some(function(c){return Yi(c,a)})||n.push(a)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var xa=function(t){function e(n){var r=this;return(r=t.call(this)||this).elements=n,r}return ee(e,t),e}(ng);function lD(t,e){for(var n=fD(e),r=function(a){n=n.filter(function(c){return!Yi(c,a)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var vc=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).Qt=n,i.Ut=r,i}return ee(e,t),e}(ng);function nN(t){return Gt(t.integerValue||t.doubleValue)}function fD(t){return nE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh=function(t,e){this.field=t,this.transform=e},kK=function(t,e){this.version=t,this.transformResults=e},xn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function cp(t,e){return t.updateTime!==void 0?e instanceof lt&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e instanceof lt}var rg=function(){};function xK(t,e,n){return t instanceof yh?function(r,i,s){var a=r.value;if(s.transformResults){var c=oN(r.fieldTransforms,i,s.transformResults);a=cE(r.fieldTransforms,a,c)}return new lt(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):t instanceof Os?function(r,i,s){if(!cp(r.jt,i))return new oE(r.key,s.version);var a=hD(r,i,s.transformResults?oN(r.fieldTransforms,i,s.transformResults):[]);return new lt(r.key,s.version,a,{hasCommittedMutations:!0})}(t,e,n):function(r,i,s){return new rn(r.key,s.version,{hasCommittedMutations:!0})}(t,0,n)}function e0(t,e,n){return t instanceof yh?function(r,i,s){if(!cp(r.jt,i))return i;var a=r.value,c=sN(r.fieldTransforms,s,i);a=cE(r.fieldTransforms,a,c);var l=iN(i);return new lt(r.key,l,a,{Vt:!0})}(t,e,n):t instanceof Os?function(r,i,s){if(!cp(r.jt,i))return i;var a=iN(i),c=hD(r,i,sN(r.fieldTransforms,s,i));return new lt(r.key,a,c,{Vt:!0})}(t,e,n):function(r,i){return cp(r.jt,i)?new rn(r.key,Fe.min()):i}(t,e)}function PK(t,e){return function(n,r){for(var i=null,s=0,a=n;s<a.length;s++){var c=a[s],l=r instanceof lt?r.field(c.field):void 0,h=uD(c.transform,l||null);h!=null&&(i=i==null?new dh().set(c.field,h):i.set(c.field,h))}return i?i.Pt():null}(t.fieldTransforms,e)}function rN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&cc(n,r,function(i,s){return function(a,c){return a.field.isEqual(c.field)&&function(l,h){return l instanceof ka&&h instanceof ka||l instanceof xa&&h instanceof xa?cc(l.elements,h.elements,Yi):l instanceof vc&&h instanceof vc?Yi(l.Ut,h.Ut):l instanceof pc&&h instanceof pc}(a.transform,c.transform)}(i,s)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function iN(t){return t instanceof lt?t.version:Fe.min()}var yh=function(t){function e(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=r,a.jt=i,a.fieldTransforms=s,a.type=0,a}return ee(e,t),e}(rg),Os=function(t){function e(n,r,i,s,a){a===void 0&&(a=[]);var c=this;return(c=t.call(this)||this).key=n,c.data=r,c.Gt=i,c.jt=s,c.fieldTransforms=a,c.type=1,c}return ee(e,t),e}(rg);function hD(t,e,n){var r;return r=function(i,s){var a=new dh(s);return i.Gt.fields.forEach(function(c){if(!c.et()){var l=i.data.field(c);l!==null?a.set(c,l):a.delete(c)}}),a.Pt()}(t,r=e instanceof lt?e.data():Ss.empty()),r=cE(t.fieldTransforms,r,n)}function oN(t,e,n){var r=[];Ee(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],a=s.transform,c=null;e instanceof lt&&(c=e.field(s.field)),r.push(OK(a,c,n[i]))}return r}function sN(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var a=s[i],c=a.transform,l=null;n instanceof lt&&(l=n.field(a.field)),r.push(RK(c,l,e))}return r}function cE(t,e,n){for(var r=new dh(e),i=0;i<t.length;i++){var s=t[i];r.set(s.field,n[i])}return r.Pt()}var Ht,qe,_h=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.jt=r,i.type=2,i.fieldTransforms=[],i}return ee(e,t),e}(rg),lE=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).key=n,i.jt=r,i.type=3,i.fieldTransforms=[],i}return ee(e,t),e}(rg),DK=function(t){this.count=t};function dD(t){switch(t){case D.OK:return fe();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return fe()}}function pD(t){if(t===void 0)return $t("GRPC error has no .code"),D.UNKNOWN;switch(t){case Ht.OK:return D.OK;case Ht.CANCELLED:return D.CANCELLED;case Ht.UNKNOWN:return D.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return D.INTERNAL;case Ht.UNAVAILABLE:return D.UNAVAILABLE;case Ht.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ht.NOT_FOUND:return D.NOT_FOUND;case Ht.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ht.ABORTED:return D.ABORTED;case Ht.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ht.DATA_LOSS:return D.DATA_LOSS;default:return fe()}}(qe=Ht||(Ht={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn=function(){function t(e,n){this.H=e,this.root=n||rs.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,rs.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,rs.Ht,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.et();){var r=this.H(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,r=this.root;!r.et();){var i=this.H(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(e){return this.root.Xt(e)},t.prototype.forEach=function(e){this.Xt(function(n,r){return e(n,r),!1})},t.prototype.toString=function(){var e=[];return this.Xt(function(n,r){return e.push(n+":"+r),!1}),"{"+e.join(", ")+"}"},t.prototype.Zt=function(e){return this.root.Zt(e)},t.prototype.te=function(){return new Vd(this.root,null,this.H,!1)},t.prototype.ee=function(e){return new Vd(this.root,e,this.H,!1)},t.prototype.ne=function(){return new Vd(this.root,null,this.H,!0)},t.prototype.se=function(e){return new Vd(this.root,e,this.H,!0)},t}(),Vd=function(){function t(e,n,r,i){this.ie=i,this.re=[];for(var s=1;!e.et();)if(s=n?r(e.key,n):1,i&&(s*=-1),s<0)e=this.ie?e.left:e.right;else{if(s===0){this.re.push(e);break}this.re.push(e),e=this.ie?e.right:e.left}}return t.prototype.oe=function(){var e=this.re.pop(),n={key:e.key,value:e.value};if(this.ie)for(e=e.left;!e.et();)this.re.push(e),e=e.right;else for(e=e.right;!e.et();)this.re.push(e),e=e.left;return n},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(this.re.length===0)return null;var e=this.re[this.re.length-1];return{key:e.key,value:e.value}},t}(),rs=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(e){return this.left.Xt(e)||e(this.key,this.value)||this.right.Xt(e)},t.prototype.Zt=function(e){return this.right.Zt(e)||e(this.key,this.value)||this.left.Zt(e)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(e,n,r){var i=this,s=r(e,i.key);return(i=s<0?i.copy(null,null,null,i.left.zt(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.zt(e,n,r))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),n(e,i.key)===0){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var e=this;return e.right.le()&&!e.left.le()&&(e=e.we()),e.left.le()&&e.left.left.le()&&(e=e.fe()),e.left.le()&&e.right.le()&&(e=e.Ee()),e},t.prototype._e=function(){var e=this.Ee();return e.right.left.le()&&(e=(e=(e=e.copy(null,null,null,null,e.right.fe())).we()).Ee()),e},t.prototype.de=function(){var e=this.Ee();return e.left.left.le()&&(e=(e=e.fe()).Ee()),e},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.Te=function(){var e=this.Ie();return Math.pow(2,e)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le()||this.right.le())throw fe();var e=this.left.Ie();if(e!==this.right.Ie())throw fe();return e+(this.le()?0:1)},t}();rs.EMPTY=null,rs.RED=!0,rs.Ht=!1,rs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw fe()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw fe()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,r,i,s){return this},t.prototype.zt=function(e,n,r){return new rs(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(e){return!1},t.prototype.Zt=function(e){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on=function(){function t(e){this.H=e,this.data=new Bn(this.H)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.Xt(function(n,r){return e(n),!1})},t.prototype.me=function(e,n){for(var r=this.data.ee(e[0]);r.ce();){var i=r.oe();if(this.H(i.key,e[1])>=0)return;n(i.key)}},t.prototype.Ae=function(e,n){var r;for(r=n!==void 0?this.data.ee(n):this.data.te();r.ce();)if(!e(r.oe().key))return},t.prototype.Re=function(e){var n=this.data.ee(e);return n.ce()?n.oe().key:null},t.prototype.te=function(){return new aN(this.data.te())},t.prototype.ee=function(e){return new aN(this.data.ee(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).zt(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(r){n=n.add(r)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(this.H(i,s)!==0)return!1}return!0},t.prototype.it=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),aN=function(){function t(e){this.ye=e}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),MK=new Bn(ve.H);function Ao(){return MK}function Zp(){return Ao()}var LK=new Bn(ve.H);function Uf(){return LK}var FK=new Bn(ve.H);function vD(){return FK}var UK=new on(ve.H);function st(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=UK,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var jK=new on(Ve);function ig(){return jK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gD=function(){function t(e){this.H=e?function(n,r){return e(n,r)||ve.H(n.key,r.key)}:function(n,r){return ve.H(n.key,r.key)},this.ge=Uf(),this.Ve=new Bn(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(e){return this.ge.get(e)!=null},t.prototype.get=function(e){return this.ge.get(e)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(e){var n=this.ge.get(e);return n?this.Ve.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.Ve.Xt(function(n,r){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.ge.zt(e.key,e),n.Ve.zt(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.ge.remove(e),this.Ve.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),uN=function(){function t(){this.be=new Bn(ve.H)}return t.prototype.track=function(e){var n=e.doc.key,r=this.be.get(n);r?e.type!==0&&r.type===3?this.be=this.be.zt(n,e):e.type===3&&r.type!==1?this.be=this.be.zt(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.be=this.be.zt(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.be=this.be.zt(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.be=this.be.remove(n):e.type===1&&r.type===2?this.be=this.be.zt(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.be=this.be.zt(n,{type:2,doc:e.doc}):fe():this.be=this.be.zt(n,e)},t.prototype.ve=function(){var e=[];return this.be.Xt(function(n,r){e.push(r)}),e},t}(),ev=function(){function t(e,n,r,i,s,a,c,l){this.query=e,this.docs=n,this.Se=r,this.docChanges=i,this.De=s,this.fromCache=a,this.Ce=c,this.xe=l}return t.Ne=function(e,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new t(e,n,gD.pe(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.Ce===e.Ce&&this.De.isEqual(e.De)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Se.isEqual(e.Se)))return!1;var n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},t}(),fE=function(){function t(e,n,r,i,s){this.Ot=e,this.$e=n,this.Fe=r,this.Oe=i,this.ke=s}return t.Me=function(e,n){var r=new Map;return r.set(e,hE.Le(e,n)),new t(Fe.min(),r,ig(),Ao(),st())},t}(),hE=function(){function t(e,n,r,i,s){this.resumeToken=e,this.Be=n,this.qe=r,this.Ue=i,this.Qe=s}return t.Le=function(e,n){return new t(Zn.T,n,st(),st(),st())},t}(),lp=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},mD=function(t,e){this.targetId=t,this.je=e},yD=function(t,e,n,r){n===void 0&&(n=Zn.T),r===void 0&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},cN=function(){function t(){this.Ge=0,this.ze=fN(),this.He=Zn.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return this.Ge!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(e){e.l()>0&&(this.Ye=!0,this.He=e)},t.prototype.en=function(){var e=st(),n=st(),r=st();return this.ze.forEach(function(i,s){switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:fe()}}),new hE(this.He,this.Je,e,n,r)},t.prototype.nn=function(){this.Ye=!1,this.ze=fN()},t.prototype.sn=function(e,n){this.Ye=!0,this.ze=this.ze.zt(e,n)},t.prototype.rn=function(e){this.Ye=!0,this.ze=this.ze.remove(e)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),VK=function(){function t(e){this.un=e,this.hn=new Map,this.ln=Ao(),this._n=lN(),this.fn=new on(Ve)}return t.prototype.dn=function(e){for(var n=0,r=e.Ke;n<r.length;n++){var i=r[n];e.We instanceof lt?this.wn(i,e.We):e.We instanceof rn&&this.En(i,e.key,e.We)}for(var s=0,a=e.removedTargetIds;s<a.length;s++)i=a[s],this.En(i,e.key,e.We)},t.prototype.Tn=function(e){var n=this;this.In(e,function(r){var i=n.mn(r);switch(e.state){case 0:n.An(r)&&i.tn(e.resumeToken);break;case 1:i.cn(),i.Xe||i.nn(),i.tn(e.resumeToken);break;case 2:i.cn(),i.Xe||n.removeTarget(r);break;case 3:n.An(r)&&(i.an(),i.tn(e.resumeToken));break;case 4:n.An(r)&&(n.Rn(r),i.tn(e.resumeToken));break;default:fe()}})},t.prototype.In=function(e,n){var r=this;e.targetIds.length>0?e.targetIds.forEach(n):this.hn.forEach(function(i,s){r.An(s)&&n(s)})},t.prototype.Pn=function(e){var n=e.targetId,r=e.je.count,i=this.yn(n);if(i){var s=i.target;if(Qp(s))if(r===0){var a=new ve(s.path);this.En(n,a,new rn(a,Fe.min()))}else Ee(r===1);else this.gn(n)!==r&&(this.Rn(n),this.fn=this.fn.add(n))}},t.prototype.Vn=function(e){var n=this,r=new Map;this.hn.forEach(function(a,c){var l=n.yn(c);if(l){if(a.Be&&Qp(l.target)){var h=new ve(l.target.path);n.ln.get(h)!==null||n.pn(c,h)||n.En(c,h,new rn(h,e))}a.Ze&&(r.set(c,a.en()),a.nn())}});var i=st();this._n.forEach(function(a,c){var l=!0;c.Ae(function(h){var d=n.yn(h);return!d||d.Ft===2||(l=!1,!1)}),l&&(i=i.add(a))});var s=new fE(e,r,this.fn,this.ln,i);return this.ln=Ao(),this._n=lN(),this.fn=new on(Ve),s},t.prototype.wn=function(e,n){if(this.An(e)){var r=this.pn(e,n.key)?2:0;this.mn(e).sn(n.key,r),this.ln=this.ln.zt(n.key,n),this._n=this._n.zt(n.key,this.bn(n.key).add(e))}},t.prototype.En=function(e,n,r){if(this.An(e)){var i=this.mn(e);this.pn(e,n)?i.sn(n,1):i.rn(n),this._n=this._n.zt(n,this.bn(n).delete(e)),r&&(this.ln=this.ln.zt(n,r))}},t.prototype.removeTarget=function(e){this.hn.delete(e)},t.prototype.gn=function(e){var n=this.mn(e).en();return this.un.vn(e).size+n.qe.size-n.Qe.size},t.prototype.on=function(e){this.mn(e).on()},t.prototype.mn=function(e){var n=this.hn.get(e);return n||(n=new cN,this.hn.set(e,n)),n},t.prototype.bn=function(e){var n=this._n.get(e);return n||(n=new on(Ve),this._n=this._n.zt(e,n)),n},t.prototype.An=function(e){var n=this.yn(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.yn=function(e){var n=this.hn.get(e);return n&&n.Xe?null:this.un.Sn(e)},t.prototype.Rn=function(e){var n=this;this.hn.set(e,new cN),this.un.vn(e).forEach(function(r){n.En(e,r,null)})},t.prototype.pn=function(e,n){return this.un.vn(e).has(n)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return new Bn(ve.H)}function fN(){return new Bn(ve.H)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BK={asc:"ASCENDING",desc:"DESCENDING"},qK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WK=function(t,e){this.t=t,this.Bt=e};function jf(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function _D(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function HK(t,e){return jf(t,e.j())}function pn(t){return Ee(!!t),Fe.K(function(e){var n=Ts(e);return new fr(n.seconds,n.nanos)}(t))}function dE(t,e){return function(n){return new Je(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).rt()}function wD(t){var e=Je.ot(t);return Ee(ND(e)),e}function Vf(t,e){return dE(t.t,e.path)}function Vi(t,e){var n=wD(e);if(n.get(1)!==t.t.projectId)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new ve(ED(n))}function t0(t,e){return dE(t.t,e)}function bD(t){var e=wD(t);return e.length===4?Je.ct():ED(e)}function Bf(t){return new Je(["projects",t.t.projectId,"databases",t.t.database]).rt()}function ED(t){return Ee(t.length>4&&t.get(4)==="documents"),t.Y(5)}function hN(t,e,n){return{name:Vf(t,e),fields:n.proto.mapValue.fields}}function TD(t,e,n){var r=Vi(t,e.name),i=pn(e.updateTime),s=new Ss({mapValue:{fields:e.fields}});return new lt(r,i,s,{hasCommittedMutations:!!n})}function tv(t,e){var n;if(e instanceof yh)n={update:hN(t,e.key,e.value)};else if(e instanceof _h)n={delete:Vf(t,e.key)};else if(e instanceof Os)n={update:hN(t,e.key,e.data),updateMask:KK(e.Gt)};else{if(!(e instanceof lE))return fe();n={verify:Vf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof pc)return{fieldPath:s.field.rt(),setToServerValue:"REQUEST_TIME"};if(a instanceof ka)return{fieldPath:s.field.rt(),appendMissingElements:{values:a.elements}};if(a instanceof xa)return{fieldPath:s.field.rt(),removeAllFromArray:{values:a.elements}};if(a instanceof vc)return{fieldPath:s.field.rt(),increment:a.Ut};throw fe()}(0,r)})),e.jt.Wt||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:HK(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.jt)),n}function dN(t,e){var n=e.currentDocument?function(h){return h.updateTime!==void 0?xn.updateTime(pn(h.updateTime)):h.exists!==void 0?xn.exists(h.exists):xn.Kt()}(e.currentDocument):xn.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(h){return function(d,v){var m=null;if("setToServerValue"in v)Ee(v.setToServerValue==="REQUEST_TIME"),m=new pc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new ka(y)}else if("removeAllFromArray"in v){var b=v.removeAllFromArray.values||[];m=new xa(b)}else"increment"in v?m=new vc(d,v.increment):fe();var E=yi.lt(v.fieldPath);return new mh(E,m)}(t,h)}):[];if(e.update){e.update.name;var i=Vi(t,e.update.name),s=new Ss({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(h){var d=h.fieldPaths||[];return new lc(d.map(function(v){return yi.lt(v)}))}(e.updateMask);return new Os(i,s,a,n,r)}return new yh(i,s,n,r)}if(e.delete){var c=Vi(t,e.delete);return new _h(c,n)}if(e.verify){var l=Vi(t,e.verify);return new lE(l,n)}return fe()}function ID(t,e){return{documents:[t0(t,e.path)]}}function SD(t,e){var n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=t0(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=t0(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(c){if(c.length!==0){var l=c.map(function(h){return function(d){if(d.op==="=="){if(JA(d.value))return{unaryFilter:{field:Su(d.field),op:"IS_NAN"}};if(XA(d.value))return{unaryFilter:{field:Su(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(JA(d.value))return{unaryFilter:{field:Su(d.field),op:"IS_NOT_NAN"}};if(XA(d.value))return{unaryFilter:{field:Su(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Su(d.field),op:YK(d.op),value:d.value}}}(h)});return l.length===1?l[0]:{compositeFilter:{op:"AND",filters:l}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(c){if(c.length!==0)return c.map(function(l){return function(h){return{field:Su(h.field),direction:GK(h.dir)}}(l)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(c,l){return c.Bt||qa(l)?l:{value:l}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=pN(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pN(e.endAt)),n}function CD(t){var e=bD(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ee(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var a=[];n.where&&(a=AD(n.where));var c=[];n.orderBy&&(c=n.orderBy.map(function(v){return function(m){return new Qu(Uu(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var l=null;n.limit&&(l=function(v){var m;return qa(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=vN(n.startAt));var d=null;return n.endAt&&(d=vN(n.endAt)),tD(e,i,c,a,l,"F",h,d)}function AD(t){return t?t.unaryFilter!==void 0?[zK(t)]:t.fieldFilter!==void 0?[$K(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return AD(e)}).reduce(function(e,n){return e.concat(n)}):fe():[]}function pN(t){return{before:t.before,values:t.position}}function vN(t){var e=!!t.before,n=t.values||[];return new Ff(n,e)}function GK(t){return BK[t]}function YK(t){return qK[t]}function Su(t){return{fieldPath:t.rt()}}function Uu(t){return yi.lt(t.fieldPath)}function $K(t){return Nr.create(Uu(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return fe()}}(t.fieldFilter.op),t.fieldFilter.value)}function zK(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Uu(t.unaryFilter.field);return Nr.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Uu(t.unaryFilter.field);return Nr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Uu(t.unaryFilter.field);return Nr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Uu(t.unaryFilter.field);return Nr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return fe()}}function KK(t){var e=[];return t.fields.forEach(function(n){return e.push(n.rt())}),{fieldPaths:e}}function ND(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},$=function(){function t(e){var n=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,e(function(r){n.xn=!0,n.result=r,n.Dn&&n.Dn(r)},function(r){n.xn=!0,n.error=r,n.Cn&&n.Cn(r)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var r=this;return this.Nn&&fe(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(i,s){r.Dn=function(a){r.Fn(e,a).next(i,s)},r.Cn=function(a){r.$n(n,a).next(i,s)}})},t.prototype.On=function(){var e=this;return new Promise(function(n,r){e.next(n,r)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,r){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.Mn=function(e){return new t(function(n,r){var i=0,s=0,a=!1;e.forEach(function(c){++i,c.next(function(){++s,a&&s===i&&n()},function(l){return r(l)})}),a=!0,s===i&&n()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(a){n=n.next(function(c){return c?t.resolve(c):a()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(e,n){var r=this,i=[];return e.forEach(function(s,a){i.push(n.call(r,s,a))}),this.Mn(i)},t}(),RD=function(){function t(e,n){var r=this;this.action=e,this.transaction=n,this.aborted=!1,this.Bn=new er,this.transaction.oncomplete=function(){r.Bn.resolve()},this.transaction.onabort=function(){n.error?r.Bn.reject(new of(e,n.error)):r.Bn.resolve()},this.transaction.onerror=function(i){var s=pE(i.target.error);r.Bn.reject(new of(e,s))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new of(n,s)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.Bn.reject(e),this.aborted||(J("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new XK(n)},t}(),gc=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,t.Qn(Aa())===12.2&&$t("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return J("SimpleDb","Removing database:",e),ua(window.indexedDB.deleteDatabase(e)).On()},t.Kn=function(){if(typeof indexedDB>"u")return!1;if(t.Wn())return!0;var e=Aa(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Gn)==="YES"},t.zn=function(e,n){return e.store(n)},t.Qn=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},t.jn=function(e){var n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},t.prototype.Hn=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(J("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var c=indexedDB.open(r.name,r.version);c.onsuccess=function(l){var h=l.target.result;s(h)},c.onblocked=function(){a(new of(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=function(l){var h=l.target.error;h.name==="VersionError"?a(new G(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new of(e,h))},c.onupgradeneeded=function(l){J("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',l.oldVersion);var h=l.target.result;r.Un.Jn(h,c.transaction,l.oldVersion,r.version).next(function(){J("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(s){return r.Yn(s)}),this.db)]}})})},t.prototype.Xn=function(e){this.Yn=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,c=function(){var v,m,y,b,E;return N(this,function(T){switch(T.label){case 0:++a,T.label=1;case 1:return T.trys.push([1,4,,5]),[4,l.Hn(e)];case 2:return l.db=T.sent(),v=RD.open(l.db,e,s?"readonly":"readwrite",r),m=i(v).catch(function(A){return v.abort(A),$.reject(A)}).On(),y={},m.catch(function(){}),[4,v.qn];case 3:return[2,(y.value=(T.sent(),m),y)];case 4:return b=T.sent(),E=b.name!=="FirebaseError"&&a<3,J("SimpleDb","Transaction failed with error:",b.message,"Retrying:",E),l.close(),E?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},l=this,d.label=1;case 1:return[5,c()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),QK=function(){function t(e){this.Zn=e,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Zn=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(e){this.es=e},t.prototype.delete=function(){return ua(this.Zn.delete())},t}(),of=function(t){function e(n,r){var i=this;return(i=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return ee(e,t),e}(G);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t){return t.name==="IndexedDbTransactionError"}var XK=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var r;return n!==void 0?(J("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(J("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ua(r)},t.prototype.add=function(e){return J("SimpleDb","ADD",this.store.name,e,e),ua(this.store.add(e))},t.prototype.get=function(e){var n=this;return ua(this.store.get(e)).next(function(r){return r===void 0&&(r=null),J("SimpleDb","GET",n.store.name,e,r),r})},t.prototype.delete=function(e){return J("SimpleDb","DELETE",this.store.name,e),ua(this.store.delete(e))},t.prototype.count=function(){return J("SimpleDb","COUNT",this.store.name),ua(this.store.count())},t.prototype.rs=function(e,n){var r=this.cursor(this.options(e,n)),i=[];return this.os(r,function(s,a){i.push(a)}).next(function(){return i})},t.prototype.cs=function(e,n){J("SimpleDb","DELETE ALL",this.store.name);var r=this.options(e,n);r.us=!1;var i=this.cursor(r);return this.os(i,function(s,a,c){return c.delete()})},t.prototype.hs=function(e,n){var r;n?r=e:(r={},n=e);var i=this.cursor(r);return this.os(i,n)},t.prototype.ls=function(e){var n=this.cursor({});return new $(function(r,i){n.onerror=function(s){var a=pE(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?e(a.primaryKey,a.value).next(function(c){c?a.continue():r()}):r()}})},t.prototype.os=function(e,n){var r=[];return new $(function(i,s){e.onerror=function(a){s(a.target.error)},e.onsuccess=function(a){var c=a.target.result;if(c){var l=new QK(c),h=n(c.primaryKey,c.value,l);if(h instanceof $){var d=h.catch(function(v){return l.done(),$.reject(v)});r.push(d)}l.xn?i():l.ns===null?c.continue():c.continue(l.ns)}else i()}}).next(function(){return $.Mn(r)})},t.prototype.options=function(e,n){var r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var r=this.store.index(e.index);return e.us?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function ua(t){return new $(function(e,n){t.onsuccess=function(r){var i=r.target.result;e(i)},t.onerror=function(r){var i=pE(r.target.error);n(i)}})}var gN=!1;function pE(t){var e=gc.Qn(Aa());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return gN||(gN=!0,setTimeout(function(){throw r},0)),r}}return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JK=function(){function t(e,n,r,i,s){this._s=e,this.fs=n,this.ds=r,this.op=i,this.ws=s,this.Es=new er,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(a){})}return t.Ts=function(e,n,r,i,s){var a=new t(e,n,Date.now()+r,i,s);return a.start(r),a},t.prototype.start=function(e){var n=this;this.Is=setTimeout(function(){return n.As()},e)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(e){this.Is!==null&&(this.clearTimeout(),this.Es.reject(new G(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.As=function(){var e=this;this._s.Ps(function(){return e.Is!==null?(e.clearTimeout(),e.op().then(function(n){return e.Es.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.Is!==null&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function jc(t,e){if($t("AsyncQueue",e+": "+t),Wa(t))return new G(D.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kD=function(){function t(){this.ys=[]}return t.prototype.gs=function(e){this.ys.push(e)},t.prototype.Vs=function(){this.ys.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=mN(e)),e=ZK(t.get(n),e);return mN(e)}function ZK(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function mN(t){return t+""}function mo(t){var e=t.length;if(Ee(e>=2),e===2)return Ee(t.charAt(0)===""&&t.charAt(1)===""),Je.ct();for(var n=e-2,r=[],i="",s=0;s<e;){var a=t.indexOf("",s);switch((a<0||a>n)&&fe(),t.charAt(a+1)){case"":var c=t.substring(s,a),l=void 0;i.length===0?l=c:(l=i+=c,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:fe()}s=a+2}return new Je(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e5=function(t,e){this.seconds=t,this.nanoseconds=e},Er=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Er.store="owner",Er.key="owner";var vs=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};vs.store="mutationQueues",vs.keyPath="userId";var pt=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};pt.store="mutations",pt.keyPath="batchId",pt.userMutationsIndex="userMutationsIndex",pt.userMutationsKeyPath=["userId","batchId"];var An=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,pi(n)]},t.key=function(e,n,r){return[e,pi(n),r]},t}();An.store="documentMutations",An.PLACEHOLDER=new An;var t5=function(t,e){this.path=t,this.readTime=e},n5=function(t,e){this.path=t,this.version=e},kt=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};kt.store="remoteDocuments",kt.readTimeIndex="readTimeIndex",kt.readTimeIndexPath="readTime",kt.collectionReadTimeIndex="collectionReadTimeIndex",kt.collectionReadTimeIndexPath=["parentPath","readTime"];var Ui=function(t){this.byteSize=t};Ui.store="remoteDocumentGlobal",Ui.key="remoteDocumentGlobalKey";var lr=function(t,e,n,r,i,s,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};lr.store="targets",lr.keyPath="targetId",lr.queryTargetsIndexName="queryTargetsIndex",lr.queryTargetsKeyPath=["canonicalId","targetId"];var Tn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Tn.store="targetDocuments",Tn.keyPath=["targetId","path"],Tn.documentTargetsIndex="documentTargetsIndex",Tn.documentTargetsKeyPath=["path","targetId"];var Sr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Sr.key="targetGlobalKey",Sr.store="targetGlobal";var ba=function(t,e){this.collectionId=t,this.parent=e};ba.store="collectionParents",ba.keyPath=["collectionId","parent"];var wo=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};wo.store="clientMetadata",wo.keyPath="clientId";var mc=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};mc.store="bundles",mc.keyPath="bundleId";var yc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};yc.store="namedQueries",yc.keyPath="name";var r5=Vt(Vt(Vt(Vt([vs.store,pt.store,An.store,kt.store,lr.store,Er.store,Sr.store,Tn.store],[wo.store]),[Ui.store]),[ba.store]),[mc.store,yc.store]),yN=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ps=n,i.bs=r,i}return ee(e,t),e}(kD);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,e){var n=te(t);return gc.zn(n.ps,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vE=function(){function t(e,n,r,i){this.batchId=e,this.vs=n,this.baseMutations=r,this.mutations=i}return t.prototype.Ss=function(e,n,r){for(var i=r.Ds,s=0;s<this.mutations.length;s++){var a=this.mutations[s];a.key.isEqual(e)&&(n=xK(a,n,i[s]))}return n},t.prototype.Cs=function(e,n){for(var r=0,i=this.baseMutations;r<i.length;r++)(c=i[r]).key.isEqual(e)&&(n=e0(c,n,this.vs));for(var s=0,a=this.mutations;s<a.length;s++){var c;(c=a[s]).key.isEqual(e)&&(n=e0(c,n,this.vs))}return n},t.prototype.xs=function(e){var n=this,r=e;return this.mutations.forEach(function(i){var s=n.Cs(i.key,e.get(i.key));s&&(r=r.zt(i.key,s))}),r},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},st())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,function(n,r){return rN(n,r)})&&cc(this.baseMutations,e.baseMutations,function(n,r){return rN(n,r)})},t}(),i5=function(){function t(e,n,r,i){this.batch=e,this.Ns=n,this.Ds=r,this.$s=i}return t.from=function(e,n,r){Ee(e.mutations.length===r.length);for(var i=vD(),s=e.mutations,a=0;a<s.length;a++)i=i.zt(s[a].key,r[a].version);return new t(e,n,r,i)},t}(),xD=function(t){this.Fs=t};function n0(t,e){if(e.document)return TD(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ve.Et(e.noDocument.path),r=wc(e.noDocument.readTime);return new rn(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ve.Et(e.unknownDocument.path);return r=wc(e.unknownDocument.version),new oE(i,r)}return fe()}function _N(t,e,n){var r=gE(n),i=e.key.path.X().it();if(e instanceof lt){var s=function(v,m){return{name:Vf(v,m.key),fields:m.bt().mapValue.fields,updateTime:jf(v,m.version.j())}}(t.Fs,e),a=e.hasCommittedMutations;return new kt(null,null,s,a,r,i)}if(e instanceof rn){var c=e.key.path.it(),l=_c(e.version);return a=e.hasCommittedMutations,new kt(null,new t5(c,l),null,a,r,i)}if(e instanceof oE){var h=e.key.path.it(),d=_c(e.version);return new kt(new n5(h,d),null,null,!0,r,i)}return fe()}function gE(t){var e=t.j();return[e.seconds,e.nanoseconds]}function PD(t){var e=new fr(t[0],t[1]);return Fe.K(e)}function _c(t){var e=t.j();return new e5(e.seconds,e.nanoseconds)}function wc(t){var e=new fr(t.seconds,t.nanoseconds);return Fe.K(e)}function Pu(t,e){for(var n=(e.baseMutations||[]).map(function(l){return dN(t.Fs,l)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&e.mutations[r+1].transform!==void 0){var s=e.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(l){return dN(t.Fs,l)}),c=fr.fromMillis(e.localWriteTimeMs);return new vE(e.batchId,c,n,a)}function Kl(t){var e,n,r=wc(t.readTime),i=t.lastLimboFreeSnapshotVersion!==void 0?wc(t.lastLimboFreeSnapshotVersion):Fe.min();return t.query.documents!==void 0?(Ee((n=t.query).documents.length===1),e=Gr(Uc(bD(n.documents[0])))):e=function(s){return Gr(CD(s))}(t.query),new tg(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Zn.fromBase64String(t.resumeToken))}function DD(t,e){var n,r=_c(e.Ot),i=_c(e.lastLimboFreeSnapshotVersion);n=Qp(e.target)?ID(t.Fs,e.target):SD(t.Fs,e.target);var s=e.resumeToken.toBase64();return new lr(e.targetId,ph(e.target),r,s,e.sequenceNumber,i,n)}function mE(t){var e=CD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nD(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o5=function(){function t(){}return t.prototype.Os=function(e,n){return wN(e).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:wc(i.createTime),version:i.version};var i})},t.prototype.ks=function(e,n){return wN(e).put({bundleId:(r=n).id,createTime:_c(pn(r.createTime)),version:r.version});var r},t.prototype.Ms=function(e,n){return bN(e).get(n).next(function(r){if(r)return{name:(i=r).name,query:mE(i.bundledQuery),readTime:wc(i.readTime)};var i})},t.prototype.Ls=function(e,n){return bN(e).put(function(r){return{name:r.name,readTime:_c(pn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},t}();function wN(t){return yr(t,mc.store)}function bN(t){return yr(t,yc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var s5=function(){function t(){this.Bs=new yE}return t.prototype.qs=function(e,n){return this.Bs.add(n),$.resolve()},t.prototype.Us=function(e,n){return $.resolve(this.Bs.getEntries(n))},t}(),yE=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.tt(),r=e.X(),i=this.index[n]||new on(Je.H),s=!i.has(r);return this.index[n]=i.add(r),s},t.prototype.has=function(e){var n=e.tt(),r=e.X(),i=this.index[n];return i&&i.has(r)},t.prototype.getEntries=function(e){return(this.index[e]||new on(Je.H)).it()},t}(),a5=function(){function t(){this.Qs=new yE}return t.prototype.qs=function(e,n){var r=this;if(!this.Qs.has(n)){var i=n.tt(),s=n.X();e.gs(function(){r.Qs.add(n)});var a={collectionId:i,parent:pi(s)};return EN(e).put(a)}return $.resolve()},t.prototype.Us=function(e,n){var r=[],i=IDBKeyRange.bound([n,""],[zP(n),""],!1,!0);return EN(e).rs(i).next(function(s){for(var a=0,c=s;a<c.length;a++){var l=c[a];if(l.collectionId!==n)break;r.push(mo(l.parent))}return r})},t}();function EN(t){return yr(t,ba.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TN={Ks:!1,Ws:0,js:0,Gs:0},xi=function(){function t(e,n,r){this.zs=e,this.Hs=n,this.Js=r}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t){return R(this,void 0,void 0,function(){return N(this,function(e){if(t.code!==D.FAILED_PRECONDITION||t.message!==OD)throw t;return J("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xi.Xs=10,xi.Zs=1e3,xi.ti=new xi(41943040,xi.Xs,xi.Zs),xi.ei=new xi(-1,0,0);var Vc=function(){function t(e,n){this.ni=e,this.si=n,this.ii={}}return t.prototype.get=function(e){var n=this.ni(e),r=this.ii[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];if(this.si(c,e))return l}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var r=this.ni(e),i=this.ii[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.si(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n])}else this.ii[r]=[[e,n]]},t.prototype.delete=function(e){var n=this.ni(e),r=this.ii[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.si(r[i][0],e))return r.length===1?delete this.ii[n]:r.splice(i,1),!0;return!1},t.prototype.forEach=function(e){hh(this.ii,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],c=a[0],l=a[1];e(c,l)}})},t.prototype.et=function(){return QP(this.ii)},t}(),MD=function(){function t(){this.ri=new Vc(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.oi=!1}return t.prototype.ci=function(e){var n=this.ri.get(e);return n?n.readTime:Fe.min()},t.prototype.ai=function(e,n){this.ui(),this.ri.set(e.key,{hi:e,readTime:n})},t.prototype.li=function(e,n){n===void 0&&(n=null),this.ui(),this.ri.set(e,{hi:null,readTime:n})},t.prototype._i=function(e,n){this.ui();var r=this.ri.get(n);return r!==void 0?$.resolve(r.hi):this.fi(e,n)},t.prototype.getEntries=function(e,n){return this.di(e,n)},t.prototype.apply=function(e){return this.ui(),this.oi=!0,this.wi(e)},t.prototype.ui=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e,n){var r=t.store(pt.store),i=t.store(An.store),s=[],a=IDBKeyRange.only(n.batchId),c=0,l=r.hs({range:a},function(b,E,T){return c++,T.delete()});s.push(l.next(function(){Ee(c===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var m=v[d],y=An.key(e,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return $.Mn(s).next(function(){return h})}function nv(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw fe();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u5=function(){function t(e,n,r,i){this.userId=e,this.Qt=n,this.Ei=r,this.Ti=i,this.Ii={}}return t.mi=function(e,n,r,i){return Ee(e.uid!==""),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(e){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ko(e).hs({index:pt.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},t.prototype.Ri=function(e,n,r,i){var s=this,a=Du(e),c=Ko(e);return c.add({}).next(function(l){Ee(typeof l=="number");for(var h=new vE(l,n,r,i),d=function(A,x,M){var U=M.baseMutations.map(function(j){return tv(A.Fs,j)}),X=M.mutations.map(function(j){return tv(A.Fs,j)});return new pt(x,M.batchId,M.vs.toMillis(),U,X)}(s.Qt,s.userId,h),v=[],m=new on(function(A,x){return Ve(A.rt(),x.rt())}),y=0,b=i;y<b.length;y++){var E=b[y],T=An.key(s.userId,E.key.path,l);m=m.add(E.key.path.X()),v.push(c.put(d)),v.push(a.put(T,An.PLACEHOLDER))}return m.forEach(function(A){v.push(s.Ei.qs(e,A))}),e.gs(function(){s.Ii[l]=h.keys()}),$.Mn(v).next(function(){return h})})},t.prototype.Pi=function(e,n){var r=this;return Ko(e).get(n).next(function(i){return i?(Ee(i.userId===r.userId),Pu(r.Qt,i)):null})},t.prototype.yi=function(e,n){var r=this;return this.Ii[n]?$.resolve(this.Ii[n]):this.Pi(e,n).next(function(i){if(i){var s=i.keys();return r.Ii[n]=s,s}return null})},t.prototype.gi=function(e,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return Ko(e).hs({index:pt.userMutationsIndex,range:s},function(c,l,h){l.userId===r.userId&&(Ee(l.batchId>=i),a=Pu(r.Qt,l)),h.done()}).next(function(){return a})},t.prototype.Vi=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Ko(e).hs({index:pt.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},t.prototype.pi=function(e){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ko(e).rs(pt.userMutationsIndex,r).next(function(i){return i.map(function(s){return Pu(n.Qt,s)})})},t.prototype.bi=function(e,n){var r=this,i=An.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return Du(e).hs({range:s},function(c,l,h){var d=c[0],v=c[1],m=c[2],y=mo(v);if(d===r.userId&&n.path.isEqual(y))return Ko(e).get(m).next(function(b){if(!b)throw fe();Ee(b.userId===r.userId),a.push(Pu(r.Qt,b))});h.done()}).next(function(){return a})},t.prototype.vi=function(e,n){var r=this,i=new on(Ve),s=[];return n.forEach(function(a){var c=An.prefixForPath(r.userId,a.path),l=IDBKeyRange.lowerBound(c),h=Du(e).hs({range:l},function(d,v,m){var y=d[0],b=d[1],E=d[2],T=mo(b);y===r.userId&&a.path.isEqual(T)?i=i.add(E):m.done()});s.push(h)}),$.Mn(s).next(function(){return r.Si(e,i)})},t.prototype.Di=function(e,n){var r=this,i=n.path,s=i.length+1,a=An.prefixForPath(this.userId,i),c=IDBKeyRange.lowerBound(a),l=new on(Ve);return Du(e).hs({range:c},function(h,d,v){var m=h[0],y=h[1],b=h[2],E=mo(y);m===r.userId&&i.nt(E)?E.length===s&&(l=l.add(b)):v.done()}).next(function(){return r.Si(e,l)})},t.prototype.Si=function(e,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(Ko(e).get(a).next(function(c){if(c===null)throw fe();Ee(c.userId===r.userId),i.push(Pu(r.Qt,c))}))}),$.Mn(s).next(function(){return i})},t.prototype.Ci=function(e,n){var r=this;return LD(e.ps,this.userId,n).next(function(i){return e.gs(function(){r.xi(n.batchId)}),$.forEach(i,function(s){return r.Ti.Ni(e,s)})})},t.prototype.xi=function(e){delete this.Ii[e]},t.prototype.$i=function(e){var n=this;return this.Ai(e).next(function(r){if(!r)return $.resolve();var i=IDBKeyRange.lowerBound(An.prefixForUser(n.userId)),s=[];return Du(e).hs({range:i},function(a,c,l){if(a[0]===n.userId){var h=mo(a[1]);s.push(h)}else l.done()}).next(function(){Ee(s.length===0)})})},t.prototype.Fi=function(e,n){return FD(e,this.userId,n)},t.prototype.Oi=function(e){var n=this;return UD(e).get(this.userId).next(function(r){return r||new vs(n.userId,-1,"")})},t}();function FD(t,e,n){var r=An.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return Du(t).hs({range:s,us:!0},function(c,l,h){var d=c[0],v=c[1];c[2],d===e&&v===i&&(a=!0),h.done()}).next(function(){return a})}function Ko(t){return yr(t,pt.store)}function Du(t){return yr(t,An.store)}function UD(t){return yr(t,vs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rv=function(){function t(e){this.ki=e}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),c5=function(){function t(e,n){this.Ti=e,this.Qt=n}return t.prototype.Bi=function(e){var n=this;return this.qi(e).next(function(r){var i=new rv(r.highestTargetId);return r.highestTargetId=i.next(),n.Ui(e,r).next(function(){return r.highestTargetId})})},t.prototype.Qi=function(e){return this.qi(e).next(function(n){return Fe.K(new fr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(e){return this.qi(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.Wi=function(e,n,r){var i=this;return this.qi(e).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.j()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Ui(e,s)})},t.prototype.ji=function(e,n){var r=this;return this.Gi(e,n).next(function(){return r.qi(e).next(function(i){return i.targetCount+=1,r.zi(n,i),r.Ui(e,i)})})},t.prototype.Hi=function(e,n){return this.Gi(e,n)},t.prototype.Ji=function(e,n){var r=this;return this.Yi(e,n.targetId).next(function(){return Cu(e).delete(n.targetId)}).next(function(){return r.qi(e)}).next(function(i){return Ee(i.targetCount>0),i.targetCount-=1,r.Ui(e,i)})},t.prototype.Xi=function(e,n,r){var i=this,s=0,a=[];return Cu(e).hs(function(c,l){var h=Kl(l);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.Ji(e,h)))}).next(function(){return $.Mn(a)}).next(function(){return s})},t.prototype.In=function(e,n){return Cu(e).hs(function(r,i){var s=Kl(i);n(s)})},t.prototype.qi=function(e){return IN(e).get(Sr.key).next(function(n){return Ee(n!==null),n})},t.prototype.Ui=function(e,n){return IN(e).put(Sr.key,n)},t.prototype.Gi=function(e,n){return Cu(e).put(DD(this.Qt,n))},t.prototype.zi=function(e,n){var r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r},t.prototype.Zi=function(e){return this.qi(e).next(function(n){return n.targetCount})},t.prototype.tr=function(e,n){var r=ph(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Cu(e).hs({range:i,index:lr.queryTargetsIndexName},function(a,c,l){var h=Kl(c);eg(n,h.target)&&(s=h,l.done())}).next(function(){return s})},t.prototype.er=function(e,n,r){var i=this,s=[],a=is(e);return n.forEach(function(c){var l=pi(c.path);s.push(a.put(new Tn(r,l))),s.push(i.Ti.nr(e,r,c))}),$.Mn(s)},t.prototype.sr=function(e,n,r){var i=this,s=is(e);return $.forEach(n,function(a){var c=pi(a.path);return $.Mn([s.delete([r,c]),i.Ti.ir(e,r,a)])})},t.prototype.Yi=function(e,n){var r=is(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},t.prototype.rr=function(e,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=is(e),s=st();return i.hs({range:r,us:!0},function(a,c,l){var h=mo(a[1]),d=new ve(h);s=s.add(d)}).next(function(){return s})},t.prototype.Fi=function(e,n){var r=pi(n.path),i=IDBKeyRange.bound([r],[zP(r)],!1,!0),s=0;return is(e).hs({index:Tn.documentTargetsIndex,us:!0,range:i},function(a,c,l){var h=a[0];a[1],h!==0&&(s++,l.done())}).next(function(){return s>0})},t.prototype.Sn=function(e,n){return Cu(e).get(n).next(function(r){return r?Kl(r):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){return yr(t,lr.store)}function IN(t){return yr(t,Sr.store)}function is(t){return yr(t,Tn.store)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],a=Ve(n,i);return a===0?Ve(r,s):a}var l5=function(){function t(e){this.cr=e,this.buffer=new on(SN),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(e){var n=[e,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();SN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),f5=function(){function t(e,n){this.lr=e,this._s=n,this._r=!1,this.dr=null}return t.prototype.start=function(e){this.lr.params.zs!==-1&&this.wr(e)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return this.dr!==null},enumerable:!1,configurable:!0}),t.prototype.wr=function(e){var n=this,r=this._r?3e5:6e4;J("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.dr=this._s.Tr("lru_garbage_collection",r,function(){return R(n,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:this.dr=null,this._r=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,e.Ir(this.lr)];case 2:return s.sent(),[3,7];case 3:return Wa(i=s.sent())?(J("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Ha(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.wr(e)];case 8:return s.sent(),[2]}})})})},t}(),h5=function(){function t(e,n){this.mr=e,this.params=n}return t.prototype.Ar=function(e,n){return this.mr.Rr(e).next(function(r){return Math.floor(n/100*r)})},t.prototype.Pr=function(e,n){var r=this;if(n===0)return $.resolve(Ar.q);var i=new l5(n);return this.mr.In(e,function(s){return i.hr(s.sequenceNumber)}).next(function(){return r.mr.yr(e,function(s){return i.hr(s)})}).next(function(){return i.maxValue})},t.prototype.Xi=function(e,n,r){return this.mr.Xi(e,n,r)},t.prototype.gr=function(e,n){return this.mr.gr(e,n)},t.prototype.Vr=function(e,n){var r=this;return this.params.zs===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(TN)):this.pr(e).next(function(i){return i<r.params.zs?(J("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.zs),TN):r.br(e,n)})},t.prototype.pr=function(e){return this.mr.pr(e)},t.prototype.br=function(e,n){var r,i,s,a,c,l,h,d=this,v=Date.now();return this.Ar(e,this.params.Hs).next(function(m){return m>d.params.Js?(J("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.Js+" from "+m),i=d.params.Js):i=m,a=Date.now(),d.Pr(e,i)}).next(function(m){return r=m,c=Date.now(),d.Xi(e,r,n)}).next(function(m){return s=m,l=Date.now(),d.gr(e,r)}).next(function(m){return h=Date.now(),Qw()<=Me.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(c-a)+`ms
	Removed `+s+" targets in "+(l-c)+`ms
	Removed `+m+" documents in "+(h-l)+`ms
Total Duration: `+(h-v)+"ms"),$.resolve({Ks:!0,Ws:i,js:s,Gs:m})})},t}(),d5=function(){function t(e,n){this.db=e,this.lr=function(r,i){return new h5(r,i)}(this,n)}return t.prototype.Rr=function(e){var n=this.vr(e);return this.db.Sr().Zi(e).next(function(r){return n.next(function(i){return r+i})})},t.prototype.vr=function(e){var n=0;return this.yr(e,function(r){n++}).next(function(){return n})},t.prototype.In=function(e,n){return this.db.Sr().In(e,n)},t.prototype.yr=function(e,n){return this.Dr(e,function(r,i){return n(i)})},t.prototype.nr=function(e,n,r){return Bd(e,r)},t.prototype.ir=function(e,n,r){return Bd(e,r)},t.prototype.Xi=function(e,n,r){return this.db.Sr().Xi(e,n,r)},t.prototype.Ni=function(e,n){return Bd(e,n)},t.prototype.Cr=function(e,n){return function(r,i){var s=!1;return UD(r).ls(function(a){return FD(r,a,i).next(function(c){return c&&(s=!0),$.resolve(!c)})}).next(function(){return s})}(e,n)},t.prototype.gr=function(e,n){var r=this,i=this.db.$r().Nr(),s=[],a=0;return this.Dr(e,function(c,l){if(l<=n){var h=r.Cr(e,c).next(function(d){if(!d)return a++,i._i(e,c).next(function(){return i.li(c),is(e).delete([0,pi(c.path)])})});s.push(h)}}).next(function(){return $.Mn(s)}).next(function(){return i.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var r=n.kt(e.bs);return this.db.Sr().Hi(e,r)},t.prototype.Fr=function(e,n){return Bd(e,n)},t.prototype.Dr=function(e,n){var r,i=is(e),s=Ar.q;return i.hs({index:Tn.documentTargetsIndex},function(a,c){var l=a[0],h=(a[1],c.path),d=c.sequenceNumber;l===0?(s!==Ar.q&&n(new ve(mo(r)),s),s=d,r=h):s=Ar.q}).next(function(){s!==Ar.q&&n(new ve(mo(r)),s)})},t.prototype.pr=function(e){return this.db.$r().Or(e)},t}();function Bd(t,e){return is(t).put(function(n,r){return new Tn(0,pi(n.path),r)}(e,t.bs))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p5=function(){function t(e,n){this.Qt=e,this.Ei=n}return t.prototype.ai=function(e,n,r){return ts(e).put(qd(n),r)},t.prototype.li=function(e,n){var r=ts(e),i=qd(n);return r.delete(i)},t.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(i){return i.byteSize+=n,r.kr(e,i)})},t.prototype._i=function(e,n){var r=this;return ts(e).get(qd(n)).next(function(i){return r.Mr(i)})},t.prototype.Lr=function(e,n){var r=this;return ts(e).get(qd(n)).next(function(i){var s=r.Mr(i);return s?{hi:s,size:nv(i)}:null})},t.prototype.getEntries=function(e,n){var r=this,i=Zp();return this.Br(e,n,function(s,a){var c=r.Mr(a);i=i.zt(s,c)}).next(function(){return i})},t.prototype.qr=function(e,n){var r=this,i=Zp(),s=new Bn(ve.H);return this.Br(e,n,function(a,c){var l=r.Mr(c);l?(i=i.zt(a,l),s=s.zt(a,nv(c))):(i=i.zt(a,null),s=s.zt(a,0))}).next(function(){return{Ur:i,Qr:s}})},t.prototype.Br=function(e,n,r){if(n.et())return $.resolve();var i=IDBKeyRange.bound(n.first().path.it(),n.last().path.it()),s=n.te(),a=s.oe();return ts(e).hs({range:i},function(c,l,h){for(var d=ve.Et(c);a&&ve.H(a,d)<0;)r(a,null),a=s.oe();a&&a.isEqual(d)&&(r(a,l),a=s.ce()?s.oe():null),a?h.ss(a.path.it()):h.done()}).next(function(){for(;a;)r(a,null),a=s.ce()?s.oe():null})},t.prototype.Kr=function(e,n,r){var i=this,s=Uf(),a=n.path.length+1,c={};if(r.isEqual(Fe.min())){var l=n.path.it();c.range=IDBKeyRange.lowerBound(l)}else{var h=n.path.it(),d=gE(r);c.range=IDBKeyRange.lowerBound([h,d],!0),c.index=kt.collectionReadTimeIndex}return ts(e).hs(c,function(v,m,y){if(v.length===a){var b=n0(i.Qt,m);n.path.nt(b.key.path)?b instanceof lt&&gh(n,b)&&(s=s.zt(b.key,b)):y.done()}}).next(function(){return s})},t.prototype.Nr=function(e){return new v5(this,!!e&&e.Wr)},t.prototype.Or=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return CN(e).get(Ui.key).next(function(n){return Ee(!!n),n})},t.prototype.kr=function(e,n){return CN(e).put(Ui.key,n)},t.prototype.Mr=function(e){if(e){var n=n0(this.Qt,e);return n instanceof rn&&n.version.isEqual(Fe.min())?null:n}return null},t}(),v5=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).jr=n,i.Wr=r,i.Gr=new Vc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return ee(e,t),e.prototype.wi=function(n){var r=this,i=[],s=0,a=new on(function(c,l){return Ve(c.rt(),l.rt())});return this.ri.forEach(function(c,l){var h=r.Gr.get(c);if(l.hi){var d=_N(r.jr.Qt,l.hi,r.ci(c));a=a.add(c.path.X());var v=nv(d);s+=v-h,i.push(r.jr.ai(n,c,d))}else if(s-=h,r.Wr){var m=_N(r.jr.Qt,new rn(c,Fe.min()),r.ci(c));i.push(r.jr.ai(n,c,m))}else i.push(r.jr.li(n,c))}),a.forEach(function(c){i.push(r.jr.Ei.qs(n,c))}),i.push(this.jr.updateMetadata(n,s)),$.Mn(i)},e.prototype.fi=function(n,r){var i=this;return this.jr.Lr(n,r).next(function(s){return s===null?(i.Gr.set(r,0),null):(i.Gr.set(r,s.size),s.hi)})},e.prototype.di=function(n,r){var i=this;return this.jr.qr(n,r).next(function(s){var a=s.Ur;return s.Qr.forEach(function(c,l){i.Gr.set(c,l)}),a})},e}(MD);function CN(t){return yr(t,Ui.store)}function ts(t){return yr(t,kt.store)}function qd(t){return t.path.it()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g5=function(){function t(e){this.Qt=e}return t.prototype.Jn=function(e,n,r,i){var s=this;Ee(r<i&&r>=0&&i<=11);var a=new RD("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Er.store)}(e),function(l){l.createObjectStore(vs.store,{keyPath:vs.keyPath}),l.createObjectStore(pt.store,{keyPath:pt.keyPath,autoIncrement:!0}).createIndex(pt.userMutationsIndex,pt.userMutationsKeyPath,{unique:!0}),l.createObjectStore(An.store)}(e),AN(e),function(l){l.createObjectStore(kt.store)}(e));var c=$.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(Tn.store),l.deleteObjectStore(lr.store),l.deleteObjectStore(Sr.store)}(e),AN(e)),c=c.next(function(){return function(l){var h=l.store(Sr.store),d=new Sr(0,0,Fe.min().j(),0);return h.put(Sr.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(c=c.next(function(){return function(l,h){return h.store(pt.store).rs().next(function(d){l.deleteObjectStore(pt.store),l.createObjectStore(pt.store,{keyPath:pt.keyPath,autoIncrement:!0}).createIndex(pt.userMutationsIndex,pt.userMutationsKeyPath,{unique:!0});var v=h.store(pt.store),m=d.map(function(y){return v.put(y)});return $.Mn(m)})}(e,a)})),c=c.next(function(){(function(l){l.createObjectStore(wo.store,{keyPath:wo.keyPath})})(e)})),r<5&&i>=5&&(c=c.next(function(){return s.zr(a)})),r<6&&i>=6&&(c=c.next(function(){return function(l){l.createObjectStore(Ui.store)}(e),s.Hr(a)})),r<7&&i>=7&&(c=c.next(function(){return s.Jr(a)})),r<8&&i>=8&&(c=c.next(function(){return s.Yr(e,a)})),r<9&&i>=9&&(c=c.next(function(){(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e),function(l){var h=l.objectStore(kt.store);h.createIndex(kt.readTimeIndex,kt.readTimeIndexPath,{unique:!1}),h.createIndex(kt.collectionReadTimeIndex,kt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(c=c.next(function(){return s.Xr(a)})),r<11&&i>=11&&(c=c.next(function(){(function(l){l.createObjectStore(mc.store,{keyPath:mc.keyPath})})(e),function(l){l.createObjectStore(yc.store,{keyPath:yc.keyPath})}(e)})),c},t.prototype.Hr=function(e){var n=0;return e.store(kt.store).hs(function(r,i){n+=nv(i)}).next(function(){var r=new Ui(n);return e.store(Ui.store).put(Ui.key,r)})},t.prototype.zr=function(e){var n=this,r=e.store(vs.store),i=e.store(pt.store);return r.rs().next(function(s){return $.forEach(s,function(a){var c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.rs(pt.userMutationsIndex,c).next(function(l){return $.forEach(l,function(h){Ee(h.userId===a.userId);var d=Pu(n.Qt,h);return LD(e,a.userId,d).next(function(){})})})})})},t.prototype.Jr=function(e){var n=e.store(Tn.store),r=e.store(kt.store);return e.store(Sr.store).get(Sr.key).next(function(i){var s=[];return r.hs(function(a,c){var l=new Je(a),h=function(d){return[0,pi(d)]}(l);s.push(n.get(h).next(function(d){return d?$.resolve():function(v){return n.put(new Tn(0,pi(v),i.highestListenSequenceNumber))}(l)}))}).next(function(){return $.Mn(s)})})},t.prototype.Yr=function(e,n){e.createObjectStore(ba.store,{keyPath:ba.keyPath});var r=n.store(ba.store),i=new yE,s=function(a){if(i.add(a)){var c=a.tt(),l=a.X();return r.put({collectionId:c,parent:pi(l)})}};return n.store(kt.store).hs({us:!0},function(a,c){var l=new Je(a);return s(l.X())}).next(function(){return n.store(An.store).hs({us:!0},function(a,c){a[0];var l=a[1],h=(a[2],mo(l));return s(h.X())})})},t.prototype.Xr=function(e){var n=this,r=e.store(lr.store);return r.hs(function(i,s){var a=Kl(s),c=DD(n.Qt,a);return r.put(c)})},t}();function AN(t){t.createObjectStore(Tn.store,{keyPath:Tn.keyPath}).createIndex(Tn.documentTargetsIndex,Tn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(lr.store,{keyPath:lr.keyPath}).createIndex(lr.queryTargetsIndexName,lr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Sr.store)}var M_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",m5=function(){function t(e,n,r,i,s,a,c,l,h,d){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=a,this.document=c,this.eo=h,this.no=d,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(v){return Promise.resolve()},!t.Kn())throw new G(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new d5(this,i),this.ho=n+"main",this.Qt=new xD(l),this.lo=new gc(this.ho,11,new g5(this.Qt)),this._o=new c5(this.Ti,this.Qt),this.Ei=new a5,this.fo=function(v,m){return new p5(v,m)}(this.Qt,this.Ei),this.wo=new o5,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,d===!1&&$t("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.To().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,M_);return e.Io(),e.mo(),e.Ao(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e._o.Ki(n)})}).then(function(n){e.so=new Ar(n,e.eo)}).then(function(){e.io=!0}).catch(function(n){return e.lo&&e.lo.close(),Promise.reject(n)})},t.prototype.Ro=function(e){var n=this;return this.uo=function(r){return R(n,void 0,void 0,function(){return N(this,function(i){return this.Er?[2,e(r)]:[2]})})},e(this.isPrimary)},t.prototype.Po=function(e){var n=this;this.lo.Xn(function(r){return R(n,void 0,void 0,function(){return N(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,e()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},t.prototype.yo=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Zr.Ps(function(){return R(n,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Wd(n).put(new wo(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Vo(n).next(function(r){r||(e.isPrimary=!1,e.Zr.po(function(){return e.uo(!1)}))})}).next(function(){return e.bo(n)}).next(function(r){return e.isPrimary&&!r?e.vo(n).next(function(){return!1}):!!r&&e.So(n).next(function(){return!0})})}).catch(function(n){if(Wa(n))return J("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return J("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Zr.po(function(){return e.uo(n)}),e.isPrimary=n})},t.prototype.Vo=function(e){var n=this;return Bl(e).get(Er.key).next(function(r){return $.resolve(n.Do(r))})},t.prototype.Co=function(e){return Wd(e).delete(this.clientId)},t.prototype.xo=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(c){var l=yr(c,wo.store);return l.rs().next(function(h){var d=s.$o(h,18e5),v=h.filter(function(m){return d.indexOf(m)===-1});return $.forEach(v,function(m){return l.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Eo)for(n=0,r=e;n<r.length;n++)i=r[n],this.Eo.removeItem(this.Fo(i.clientId));a.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var e=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return e.To().then(function(){return e.xo()}).then(function(){return e.Ao()})})},t.prototype.Do=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.bo=function(e){var n=this;return this.no?$.resolve(!0):Bl(e).get(Er.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)){if(n.Do(r)&&n.networkEnabled)return!0;if(!n.Do(r)){if(!r.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,M_);return!1}}return!(!n.networkEnabled||!n.inForeground)||Wd(e).rs().next(function(i){return n.$o(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,c=!n.inForeground&&s.inForeground,l=n.networkEnabled===s.networkEnabled;if(a||c&&l)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&J("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},t.prototype.ko=function(){return R(this,void 0,void 0,function(){var e=this;return N(this,function(n){switch(n.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Er.store,wo.store],function(r){var i=new yN(r,Ar.q);return e.vo(i).next(function(){return e.Co(i)})})];case 1:return n.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(e,n){var r=this;return e.filter(function(i){return r.No(i.updateTimeMs,n)&&!r.Oo(i.clientId)})},t.prototype.Uo=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Wd(n).rs().next(function(r){return e.$o(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(e){return u5.mi(e,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(e,n,r){var i=this;J("IndexedDbPersistence","Starting transaction:",e);var s,a=n==="readonly"?"readonly":"readwrite";return this.lo.runTransaction(e,a,r5,function(c){return s=new yN(c,i.so?i.so.next():Ar.q),n==="readwrite-primary"?i.Vo(s).next(function(l){return!!l||i.bo(s)}).next(function(l){if(!l)throw $t("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new G(D.FAILED_PRECONDITION,OD);return r(s)}).next(function(l){return i.So(s).next(function(){return l})}):i.jo(s).next(function(){return r(s)})}).then(function(c){return s.Vs(),c})},t.prototype.jo=function(e){var n=this;return Bl(e).get(Er.key).next(function(r){if(r!==null&&n.No(r.leaseTimestampMs,5e3)&&!n.Oo(r.ownerId)&&!n.Do(r)&&!(n.no||n.allowTabSynchronization&&r.allowTabSynchronization))throw new G(D.FAILED_PRECONDITION,M_)})},t.prototype.So=function(e){var n=new Er(this.clientId,this.allowTabSynchronization,Date.now());return Bl(e).put(Er.key,n)},t.Kn=function(){return gc.Kn()},t.prototype.vo=function(e){var n=this,r=Bl(e);return r.get(Er.key).next(function(i){return n.Do(i)?(J("IndexedDbPersistence","Releasing primary lease."),r.delete(Er.key)):$.resolve()})},t.prototype.No=function(e,n){var r=Date.now();return!(e<r-n||e>r&&($t("Detected an update time that is in the future: "+e+" > "+r),1))},t.prototype.Io=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.oo=function(){e.Zr.Ps(function(){return e.inForeground=e.document.visibilityState==="visible",e.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground=this.document.visibilityState==="visible")},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ro=function(){n.Mo(),n.Zr.Ps(function(){return n.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(e){var n;try{var r=((n=this.Eo)===null||n===void 0?void 0:n.getItem(this.Fo(e)))!==null;return J("IndexedDbPersistence","Client '"+e+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return $t("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(e){$t("Failed to set zombie client id.",e)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch{}},t.prototype.Fo=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Bl(t){return yr(t,Er.store)}function Wd(t){return yr(t,wo.store)}function _E(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var y5=function(t,e){this.progress=t,this.Go=e},jD=function(){function t(e,n,r){this.fo=e,this.zo=n,this.Ei=r}return t.prototype.Ho=function(e,n){var r=this;return this.zo.bi(e,n).next(function(i){return r.Jo(e,n,i)})},t.prototype.Jo=function(e,n,r){return this.fo._i(e,n).next(function(i){for(var s=0,a=r;s<a.length;s++)i=a[s].Cs(n,i);return i})},t.prototype.Yo=function(e,n,r){var i=Zp();return n.forEach(function(s,a){for(var c=0,l=r;c<l.length;c++)a=l[c].Cs(s,a);i=i.zt(s,a)}),i},t.prototype.Xo=function(e,n){var r=this;return this.fo.getEntries(e,n).next(function(i){return r.Zo(e,i)})},t.prototype.Zo=function(e,n){var r=this;return this.zo.vi(e,n).next(function(i){var s=r.Yo(e,n,i),a=Ao();return s.forEach(function(c,l){l||(l=new rn(c,Fe.min())),a=a.zt(c,l)}),a})},t.prototype.Kr=function(e,n,r){return function(i){return ve.wt(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.tc(e,n.path):uE(n)?this.ec(e,n,r):this.nc(e,n,r)},t.prototype.tc=function(e,n){return this.Ho(e,new ve(n)).next(function(r){var i=Uf();return r instanceof lt&&(i=i.zt(r.key,r)),i})},t.prototype.ec=function(e,n,r){var i=this,s=n.collectionGroup,a=Uf();return this.Ei.Us(e,s).next(function(c){return $.forEach(c,function(l){var h=function(d,v){return new Do(v,null,d.xt.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return i.nc(e,h,r).next(function(d){d.forEach(function(v,m){a=a.zt(v,m)})})}).next(function(){return a})})},t.prototype.nc=function(e,n,r){var i,s,a=this;return this.fo.Kr(e,n,r).next(function(c){return i=c,a.zo.Di(e,n)}).next(function(c){return s=c,a.sc(e,s,i).next(function(l){i=l;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],m=0,y=v.mutations;m<y.length;m++){var b=y[m],E=b.key,T=e0(b,i.get(E),v.vs);i=T instanceof lt?i.zt(E,T):i.remove(E)}})}).next(function(){return i.forEach(function(c,l){gh(n,l)||(i=i.remove(c))}),i})},t.prototype.sc=function(e,n,r){for(var i=st(),s=0,a=n;s<a.length;s++)for(var c=0,l=a[s].mutations;c<l.length;c++){var h=l[c];h instanceof Os&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.fo.getEntries(e,i).next(function(v){return v.forEach(function(m,y){y!==null&&y instanceof lt&&(d=d.zt(m,y))}),d})},t}(),_5=function(){function t(e,n,r,i){this.targetId=e,this.fromCache=n,this.ic=r,this.rc=i}return t.oc=function(e,n){for(var r=st(),i=st(),s=0,a=n.docChanges;s<a.length;s++){var c=a[s];switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),VD=function(){function t(){}return t.prototype.cc=function(e){this.ac=e},t.prototype.Kr=function(e,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.xt.length===0||a.xt.length===1&&a.xt[0].field.ut())}(n)||r.isEqual(Fe.min())?this.uc(e,n):this.ac.Xo(e,i).next(function(a){var c=s.hc(n,a);return(up(n)||Jp(n))&&s.lc(n.limitType,c,i,r)?s.uc(e,n):(Qw()<=Me.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zw(n)),s.ac.Kr(e,n,r).next(function(l){return c.forEach(function(h){l=l.zt(h.key,h)}),l}))})},t.prototype.hc=function(e,n){var r=new on(iD(e));return n.forEach(function(i,s){s instanceof lt&&gh(e,s)&&(r=r.add(s))}),r},t.prototype.lc=function(e,n,r,i){if(r.size!==n.size)return!0;var s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version._(i)>0)},t.prototype.uc=function(e,n){return Qw()<=Me.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Zw(n)),this.ac.Kr(e,n,Fe.min())},t}(),w5=function(){function t(e,n,r,i){this.persistence=e,this._c=n,this.Qt=i,this.fc=new Bn(Ve),this.dc=new Vc(function(s){return ph(s)},eg),this.wc=Fe.min(),this.zo=e.Qo(r),this.Ec=e.$r(),this._o=e.Sr(),this.Tc=new jD(this.Ec,this.zo,this.persistence.Ko()),this.wo=e.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return e.Vr(r,n.fc)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e,n,r){return new w5(t,e,n,r)}function qD(t,e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=te(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(c){var l;return n.zo.pi(c).next(function(h){return l=h,r=n.persistence.Qo(e),i=new jD(n.Ec,r,n.persistence.Ko()),r.pi(c)}).next(function(h){for(var d=[],v=[],m=st(),y=0,b=l;y<b.length;y++){var E=b[y];d.push(E.batchId);for(var T=0,A=E.mutations;T<A.length;T++){var x=A[T];m=m.add(x.key)}}for(var M=0,U=h;M<U.length;M++){var X=U[M];v.push(X.batchId);for(var j=0,Te=X.mutations;j<Te.length;j++){var nt=Te[j];m=m.add(nt.key)}}return i.Xo(c,m).next(function(de){return{Ic:de,mc:d,Ac:v}})})})];case 1:return s=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function b5(t,e){var n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=e.batch.keys(),s=n.Ec.Nr({Wr:!0});return function(a,c,l,h){var d=l.batch,v=d.keys(),m=$.resolve();return v.forEach(function(y){m=m.next(function(){return h._i(c,y)}).next(function(b){var E=b,T=l.$s.get(y);Ee(T!==null),(!E||E.version._(T)<0)&&(E=d.Ss(y,E,l))&&h.ai(E,l.Ns)})}),m.next(function(){return a.zo.Ci(c,d)})}(n,r,e,s).next(function(){return s.apply(r)}).next(function(){return n.zo.$i(r)}).next(function(){return n.Tc.Xo(r,i)})})}function WD(t){var e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e._o.Qi(n)})}function E5(t,e){var n=te(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.Ec.Nr({Wr:!0});i=n.fc;var c=[];e.$e.forEach(function(d,v){var m=i.get(v);if(m){c.push(n._o.sr(s,d.Qe,v).next(function(){return n._o.er(s,d.qe,v)}));var y=d.resumeToken;if(y.l()>0){var b=m.Mt(y,r).kt(s.bs);i=i.zt(v,b),function(E,T,A){return Ee(T.resumeToken.l()>0),E.resumeToken.l()===0||T.Ot.W()-E.Ot.W()>=3e8||A.qe.size+A.Ue.size+A.Qe.size>0}(m,b,d)&&c.push(n._o.Hi(s,b))}}});var l=Ao();if(e.Oe.forEach(function(d,v){e.ke.has(d)&&c.push(n.persistence.Ti.Fr(s,d))}),c.push(HD(s,a,e.Oe,r,void 0).next(function(d){l=d})),!r.isEqual(Fe.min())){var h=n._o.Qi(s).next(function(d){return n._o.Wi(s,s.bs,r)});c.push(h)}return $.Mn(c).next(function(){return a.apply(s)}).next(function(){return n.Tc.Zo(s,l)})}).then(function(s){return n.fc=i,s})}function HD(t,e,n,r,i){var s=st();return n.forEach(function(a){return s=s.add(a)}),e.getEntries(t,s).next(function(a){var c=Ao();return n.forEach(function(l,h){var d=a.get(l),v=(i==null?void 0:i.get(l))||r;h instanceof rn&&h.version.isEqual(Fe.min())?(e.li(l,v),c=c.zt(l,h)):d==null||h.version._(d.version)>0||h.version._(d.version)===0&&d.hasPendingWrites?(e.ai(h,v),c=c.zt(l,h)):J("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",h.version)}),c})}function T5(t,e){var n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return e===void 0&&(e=-1),n.zo.gi(r,e)})}function bc(t,e){var n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n._o.tr(r,e).next(function(s){return s?(i=s,$.resolve(i)):n._o.Bi(r).next(function(a){return i=new tg(e,a,0,r.bs),n._o.ji(r,i).next(function(){return i})})})}).then(function(r){var i=n.fc.get(r.targetId);return(i===null||r.Ot._(i.Ot)>0)&&(n.fc=n.fc.zt(r.targetId,r),n.dc.set(e,r.targetId)),r})}function Ec(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=te(t),i=r.fc.get(e),s=n?"readwrite":"readwrite-primary",c.label=1;case 1:return c.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(l){return r.persistence.Ti.removeTarget(l,i)})];case 2:c.sent(),c.label=3;case 3:return[3,5];case 4:if(!Wa(a=c.sent()))throw a;return J("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function iv(t,e,n){var r=te(t),i=Fe.min(),s=st();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(c,l,h){var d=te(c),v=d.dc.get(h);return v!==void 0?$.resolve(d.fc.get(v)):d._o.tr(l,h)}(r,a,Gr(e)).next(function(c){if(c)return i=c.lastLimboFreeSnapshotVersion,r._o.rr(a,c.targetId).next(function(l){s=l})}).next(function(){return r._c.Kr(a,e,n?i:Fe.min(),n?s:st())}).next(function(c){return{documents:c,Rc:s}})})}function GD(t,e){var n=te(t),r=te(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.Sn(s,e).next(function(a){return a?a.target:null})})}function YD(t){var e=te(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=te(r),c=Ao(),l=gE(s),h=ts(i),d=IDBKeyRange.lowerBound(l,!0);return h.hs({index:kt.readTimeIndex,range:d},function(v,m){var y=n0(a.Qt,m);c=c.zt(y.key,y),l=m.readTime}).next(function(){return{Go:c,readTime:PD(l)}})}(e.Ec,n,e.wc)}).then(function(n){var r=n.Go,i=n.readTime;return e.wc=i,r})}function I5(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){return[2,(e=te(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=ts(i),a=Fe.min();return s.hs({index:kt.readTimeIndex,reverse:!0},function(c,l,h){l.readTime&&(a=PD(l.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){e.wc=r})]})})}function S5(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y;return N(this,function(b){switch(b.label){case 0:for(i=te(t),s=st(),a=Ao(),c=vD(),l=0,h=n;l<h.length;l++)d=h[l],v=e.Pc(d.metadata.name),d.document&&(s=s.add(v)),a=a.zt(v,e.yc(d)),c=c.zt(v,e.gc(d.metadata.readTime));return m=i.Ec.Nr({Wr:!0}),[4,bc(i,function(E){return Gr(Uc(Je.ot("__bundle__/docs/"+E)))}(r))];case 1:return y=b.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return HD(E,m,a,Fe.min(),c).next(function(T){return m.apply(E),T}).next(function(T){return i._o.Yi(E,y.targetId).next(function(){return i._o.er(E,s,y.targetId)}).next(function(){return i.Tc.Zo(E,T)})})})]}})})}function C5(t,e,n){return n===void 0&&(n=st()),R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return[4,bc(t,Gr(mE(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=te(t)).persistence.runTransaction("Save named query","readwrite",function(a){var c=pn(e.readTime);if(r.Ot._(c)>=0)return i.wo.Ls(a,e);var l=r.Mt(Zn.T,c);return i.fc=i.fc.zt(l.targetId,l),i._o.Hi(a,l).next(function(){return i._o.Yi(a,r.targetId)}).next(function(){return i._o.er(a,n,r.targetId)}).next(function(){return i.wo.Ls(a,e)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A5=function(){function t(e){this.Qt=e,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(e,n){return $.resolve(this.Vc.get(n))},t.prototype.ks=function(e,n){var r;return this.Vc.set(n.id,{id:(r=n).id,version:r.version,createTime:pn(r.createTime)}),$.resolve()},t.prototype.Ms=function(e,n){return $.resolve(this.bc.get(n))},t.prototype.Ls=function(e,n){return this.bc.set(n.name,function(r){return{name:r.name,query:mE(r.bundledQuery),readTime:pn(r.readTime)}}(n)),$.resolve()},t}(),wE=function(){function t(){this.vc=new on(fn.Sc),this.Dc=new on(fn.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(e,n){var r=new fn(e,n);this.vc=this.vc.add(r),this.Dc=this.Dc.add(r)},t.prototype.xc=function(e,n){var r=this;e.forEach(function(i){return r.nr(i,n)})},t.prototype.ir=function(e,n){this.Nc(new fn(e,n))},t.prototype.$c=function(e,n){var r=this;e.forEach(function(i){return r.ir(i,n)})},t.prototype.Fc=function(e){var n=this,r=new ve(new Je([])),i=new fn(r,e),s=new fn(r,e+1),a=[];return this.Dc.me([i,s],function(c){n.Nc(c),a.push(c.key)}),a},t.prototype.Oc=function(){var e=this;this.vc.forEach(function(n){return e.Nc(n)})},t.prototype.Nc=function(e){this.vc=this.vc.delete(e),this.Dc=this.Dc.delete(e)},t.prototype.kc=function(e){var n=new ve(new Je([])),r=new fn(n,e),i=new fn(n,e+1),s=st();return this.Dc.me([r,i],function(a){s=s.add(a.key)}),s},t.prototype.Fi=function(e){var n=new fn(e,0),r=this.vc.Re(n);return r!==null&&e.isEqual(r.key)},t}(),fn=function(){function t(e,n){this.key=e,this.Mc=n}return t.Sc=function(e,n){return ve.H(e.key,n.key)||Ve(e.Mc,n.Mc)},t.Cc=function(e,n){return Ve(e.Mc,n.Mc)||ve.H(e.key,n.key)},t}(),N5=function(){function t(e,n){this.Ei=e,this.Ti=n,this.zo=[],this.Lc=1,this.Bc=new on(fn.Sc)}return t.prototype.Ai=function(e){return $.resolve(this.zo.length===0)},t.prototype.Ri=function(e,n,r,i){var s=this.Lc;this.Lc++,this.zo.length>0&&this.zo[this.zo.length-1];var a=new vE(s,n,r,i);this.zo.push(a);for(var c=0,l=i;c<l.length;c++){var h=l[c];this.Bc=this.Bc.add(new fn(h.key,s)),this.Ei.qs(e,h.key.path.X())}return $.resolve(a)},t.prototype.Pi=function(e,n){return $.resolve(this.qc(n))},t.prototype.gi=function(e,n){var r=n+1,i=this.Uc(r),s=i<0?0:i;return $.resolve(this.zo.length>s?this.zo[s]:null)},t.prototype.Vi=function(){return $.resolve(this.zo.length===0?-1:this.Lc-1)},t.prototype.pi=function(e){return $.resolve(this.zo.slice())},t.prototype.bi=function(e,n){var r=this,i=new fn(n,0),s=new fn(n,Number.POSITIVE_INFINITY),a=[];return this.Bc.me([i,s],function(c){var l=r.qc(c.Mc);a.push(l)}),$.resolve(a)},t.prototype.vi=function(e,n){var r=this,i=new on(Ve);return n.forEach(function(s){var a=new fn(s,0),c=new fn(s,Number.POSITIVE_INFINITY);r.Bc.me([a,c],function(l){i=i.add(l.Mc)})}),$.resolve(this.Qc(i))},t.prototype.Di=function(e,n){var r=n.path,i=r.length+1,s=r;ve.wt(s)||(s=s.child(""));var a=new fn(new ve(s),0),c=new on(Ve);return this.Bc.Ae(function(l){var h=l.key.path;return!!r.nt(h)&&(h.length===i&&(c=c.add(l.Mc)),!0)},a),$.resolve(this.Qc(c))},t.prototype.Qc=function(e){var n=this,r=[];return e.forEach(function(i){var s=n.qc(i);s!==null&&r.push(s)}),r},t.prototype.Ci=function(e,n){var r=this;Ee(this.Kc(n.batchId,"removed")===0),this.zo.shift();var i=this.Bc;return $.forEach(n.mutations,function(s){var a=new fn(s.key,n.batchId);return i=i.delete(a),r.Ti.Ni(e,s.key)}).next(function(){r.Bc=i})},t.prototype.xi=function(e){},t.prototype.Fi=function(e,n){var r=new fn(n,0),i=this.Bc.Re(r);return $.resolve(n.isEqual(i&&i.key))},t.prototype.$i=function(e){return this.zo.length,$.resolve()},t.prototype.Kc=function(e,n){return this.Uc(e)},t.prototype.Uc=function(e){return this.zo.length===0?0:e-this.zo[0].batchId},t.prototype.qc=function(e){var n=this.Uc(e);return n<0||n>=this.zo.length?null:this.zo[n]},t}(),R5=function(){function t(e,n){this.Ei=e,this.Wc=n,this.docs=new Bn(ve.H),this.size=0}return t.prototype.ai=function(e,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,c=this.Wc(n);return this.docs=this.docs.zt(i,{hi:n,size:c,readTime:r}),this.size+=c-a,this.Ei.qs(e,i.path.X())},t.prototype.li=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype._i=function(e,n){var r=this.docs.get(n);return $.resolve(r?r.hi:null)},t.prototype.getEntries=function(e,n){var r=this,i=Zp();return n.forEach(function(s){var a=r.docs.get(s);i=i.zt(s,a?a.hi:null)}),$.resolve(i)},t.prototype.Kr=function(e,n,r){for(var i=Uf(),s=new ve(n.path.child("")),a=this.docs.ee(s);a.ce();){var c=a.oe(),l=c.key,h=c.value,d=h.hi,v=h.readTime;if(!n.path.nt(l.path))break;v._(r)<=0||d instanceof lt&&gh(n,d)&&(i=i.zt(d.key,d))}return $.resolve(i)},t.prototype.jc=function(e,n){return $.forEach(this.docs,function(r){return n(r)})},t.prototype.Nr=function(e){return new O5(this)},t.prototype.Or=function(e){return $.resolve(this.size)},t}(),O5=function(t){function e(n){var r=this;return(r=t.call(this)||this).jr=n,r}return ee(e,t),e.prototype.wi=function(n){var r=this,i=[];return this.ri.forEach(function(s,a){a&&a.hi?i.push(r.jr.ai(n,a.hi,r.ci(s))):r.jr.li(s)}),$.Mn(i)},e.prototype.fi=function(n,r){return this.jr._i(n,r)},e.prototype.di=function(n,r){return this.jr.getEntries(n,r)},e}(MD),k5=function(){function t(e){this.persistence=e,this.Gc=new Vc(function(n){return ph(n)},eg),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.zc=0,this.Hc=new wE,this.targetCount=0,this.Jc=rv.Mi()}return t.prototype.In=function(e,n){return this.Gc.forEach(function(r,i){return n(i)}),$.resolve()},t.prototype.Qi=function(e){return $.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(e){return $.resolve(this.zc)},t.prototype.Bi=function(e){return this.highestTargetId=this.Jc.next(),$.resolve(this.highestTargetId)},t.prototype.Wi=function(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.zc&&(this.zc=n),$.resolve()},t.prototype.Gi=function(e){this.Gc.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.Jc=new rv(n),this.highestTargetId=n),e.sequenceNumber>this.zc&&(this.zc=e.sequenceNumber)},t.prototype.ji=function(e,n){return this.Gi(n),this.targetCount+=1,$.resolve()},t.prototype.Hi=function(e,n){return this.Gi(n),$.resolve()},t.prototype.Ji=function(e,n){return this.Gc.delete(n.target),this.Hc.Fc(n.targetId),this.targetCount-=1,$.resolve()},t.prototype.Xi=function(e,n,r){var i=this,s=0,a=[];return this.Gc.forEach(function(c,l){l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i.Gc.delete(c),a.push(i.Yi(e,l.targetId)),s++)}),$.Mn(a).next(function(){return s})},t.prototype.Zi=function(e){return $.resolve(this.targetCount)},t.prototype.tr=function(e,n){var r=this.Gc.get(n)||null;return $.resolve(r)},t.prototype.er=function(e,n,r){return this.Hc.xc(n,r),$.resolve()},t.prototype.sr=function(e,n,r){this.Hc.$c(n,r);var i=this.persistence.Ti,s=[];return i&&n.forEach(function(a){s.push(i.Ni(e,a))}),$.Mn(s)},t.prototype.Yi=function(e,n){return this.Hc.Fc(n),$.resolve()},t.prototype.rr=function(e,n){var r=this.Hc.kc(n);return $.resolve(r)},t.prototype.Fi=function(e,n){return $.resolve(this.Hc.Fi(n))},t}(),x5=function(){function t(e,n){var r=this;this.Yc={},this.so=new Ar(0),this.io=!1,this.io=!0,this.Ti=e(this),this._o=new k5(this),this.Ei=new s5,this.fo=function(i,s){return new R5(i,function(a){return r.Ti.Xc(a)})}(this.Ei),this.Qt=new xD(n),this.wo=new A5(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(e){var n=this.Yc[e.A()];return n||(n=new N5(this.Ei,this.Ti),this.Yc[e.A()]=n),n},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(e,n,r){var i=this;J("MemoryPersistence","Starting transaction:",e);var s=new P5(this.so.next());return this.Ti.Zc(),r(s).next(function(a){return i.Ti.ta(s).next(function(){return a})}).On().then(function(a){return s.Vs(),a})},t.prototype.ea=function(e,n){return $.Ln(Object.values(this.Yc).map(function(r){return function(){return r.Fi(e,n)}}))},t}(),P5=function(t){function e(n){var r=this;return(r=t.call(this)||this).bs=n,r}return ee(e,t),e}(kD),D5=function(){function t(e){this.persistence=e,this.na=new wE,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw fe()},enumerable:!1,configurable:!0}),t.prototype.nr=function(e,n,r){return this.na.nr(r,n),this.ra.delete(r.toString()),$.resolve()},t.prototype.ir=function(e,n,r){return this.na.ir(r,n),this.ra.add(r.toString()),$.resolve()},t.prototype.Ni=function(e,n){return this.ra.add(n.toString()),$.resolve()},t.prototype.removeTarget=function(e,n){var r=this;this.na.Fc(n.targetId).forEach(function(s){return r.ra.add(s.toString())});var i=this.persistence.Sr();return i.rr(e,n.targetId).next(function(s){s.forEach(function(a){return r.ra.add(a.toString())})}).next(function(){return i.Ji(e,n)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(e){var n=this,r=this.persistence.$r().Nr();return $.forEach(this.ra,function(i){var s=ve._t(i);return n.oa(e,s).next(function(a){a||r.li(s)})}).next(function(){return n.sa=null,r.apply(e)})},t.prototype.Fr=function(e,n){var r=this;return this.oa(e,n).next(function(i){i?r.ra.delete(n.toString()):r.ra.add(n.toString())})},t.prototype.Xc=function(e){return 0},t.prototype.oa=function(e,n){var r=this;return $.Ln([function(){return $.resolve(r.na.Fi(n))},function(){return r.persistence.Sr().Fi(e,n)},function(){return r.persistence.ea(e,n)}])},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e){return"firestore_clients_"+t+"_"+e}function RN(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function L_(t,e){return"firestore_targets_"+t+"_"+e}var ON=function(){function t(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}return t.ca=function(e,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new G(s.error.code,s.error.message)),a?new t(e,n,s.state,i):($t("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),F_=function(){function t(e,n,r){this.targetId=e,this.state=n,this.error=r}return t.ca=function(e,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new G(i.error.code,i.error.message)),s?new t(e,i.state,r):($t("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),kN=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.ca=function(e,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=ig(),a=0;i&&a<r.activeTargetIds.length;++a)i=JP(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new t(e,s):($t("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),M5=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.ca=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):($t("SharedClientState","Failed to parse online state: "+e),null)},t}(),r0=function(){function t(){this.activeTargetIds=ig()}return t.prototype.ua=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.ha=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.aa=function(){var e={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),U_=function(){function t(e,n,r,i,s){this.window=e,this.Zr=n,this.persistenceKey=r,this.la=i,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Bn(Ve),this.Er=!1,this.Ta=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ia=NN(this.persistenceKey,this.la),this.ma=function(c){return"firestore_sequence_number_"+c}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new r0),this.Aa=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.ya=function(c){return"firestore_online_state_"+c}(this.persistenceKey),this.ga=function(c){return"firestore_bundle_loaded_"+c}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s,a,c,l,h,d,v,m=this;return N(this,function(y){switch(y.label){case 0:return[4,this._a.Uo()];case 1:for(e=y.sent(),n=0,r=e;n<r.length;n++)(i=r[n])!==this.la&&(s=this.getItem(NN(this.persistenceKey,i)))&&(a=kN.ca(i,s))&&(this.Ea=this.Ea.zt(a.clientId,a));for(this.Va(),(c=this.storage.getItem(this.ya))&&(l=this.pa(c))&&this.ba(l),h=0,d=this.Ta;h<d.length;h++)v=d[h],this.wa(v);return this.Ta=[],this.window.addEventListener("unload",function(){return m.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(e){this.setItem(this.ma,JSON.stringify(e))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(e){var n=!1;return this.Ea.forEach(function(r,i){i.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.Ca=function(e){this.xa(e,"pending")},t.prototype.Na=function(e,n,r){this.xa(e,n,r),this.$a(e)},t.prototype.Fa=function(e){var n="not-current";if(this.Da(e)){var r=this.storage.getItem(L_(this.persistenceKey,e));if(r){var i=F_.ca(e,r);i&&(n=i.state)}}return this.Oa.ua(e),this.Va(),n},t.prototype.ka=function(e){this.Oa.ha(e),this.Va()},t.prototype.Ma=function(e){return this.Oa.activeTargetIds.has(e)},t.prototype.La=function(e){this.removeItem(L_(this.persistenceKey,e))},t.prototype.Ba=function(e,n,r){this.qa(e,n,r)},t.prototype.Ua=function(e,n,r){var i=this;n.forEach(function(s){i.$a(s)}),this.currentUser=e,r.forEach(function(s){i.Ca(s)})},t.prototype.Qa=function(e){this.Ka(e)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return J("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){J("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){J("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.wa=function(e){var n=this,r=e;if(r.storageArea===this.storage){if(J("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Ia)return void $t("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return R(n,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(d){if(this.Er){if(r.key!==null){if(this.Aa.test(r.key)){if(r.newValue==null)return i=this.Ga(r.key),[2,this.za(i,null)];if(s=this.Ha(r.key,r.newValue))return[2,this.za(s.clientId,s)]}else if(this.Ra.test(r.key)){if(r.newValue!==null&&(a=this.Ja(r.key,r.newValue)))return[2,this.Ya(a)]}else if(this.Pa.test(r.key)){if(r.newValue!==null&&(c=this.Xa(r.key,r.newValue)))return[2,this.Za(c)]}else if(r.key===this.ya){if(r.newValue!==null&&(l=this.pa(r.newValue)))return[2,this.ba(l)]}else if(r.key===this.ma)(h=function(v){var m=Ar.q;if(v!=null)try{var y=JSON.parse(v);Ee(typeof y=="number"),m=y}catch(b){$t("SharedClientState","Failed to read sequence number from WebStorage",b)}return m}(r.newValue))!==Ar.q&&this.k(h);else if(r.key===this.ga)return[2,this._a.tu()]}}else this.Ta.push(r);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(e,n,r){var i=new ON(this.currentUser,e,n,r),s=RN(this.persistenceKey,this.currentUser,e);this.setItem(s,i.aa())},t.prototype.$a=function(e){var n=RN(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Ka=function(e){var n={clientId:this.la,onlineState:e};this.storage.setItem(this.ya,JSON.stringify(n))},t.prototype.qa=function(e,n,r){var i=L_(this.persistenceKey,e),s=new F_(e,n,r);this.setItem(i,s.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(e){var n=this.Aa.exec(e);return n?n[1]:null},t.prototype.Ha=function(e,n){var r=this.Ga(e);return kN.ca(r,n)},t.prototype.Ja=function(e,n){var r=this.Ra.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return ON.ca(new Ir(s),i,n)},t.prototype.Xa=function(e,n){var r=this.Pa.exec(e),i=Number(r[1]);return F_.ca(i,n)},t.prototype.pa=function(e){return M5.ca(e)},t.prototype.Ya=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){return e.user.uid===this.currentUser.uid?[2,this._a.eu(e.batchId,e.state,e.error)]:(J("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.Za=function(e){return this._a.nu(e.targetId,e.state,e.error)},t.prototype.za=function(e,n){var r=this,i=n?this.Ea.zt(e,n):this.Ea.remove(e),s=this.Sa(this.Ea),a=this.Sa(i),c=[],l=[];return a.forEach(function(h){s.has(h)||c.push(h)}),s.forEach(function(h){a.has(h)||l.push(h)}),this._a.su(c,l).then(function(){r.Ea=i})},t.prototype.ba=function(e){this.Ea.get(e.clientId)&&this.fa(e.onlineState)},t.prototype.Sa=function(e){var n=ig();return e.forEach(function(r,i){n=n.Pe(i.activeTargetIds)}),n},t}(),$D=function(){function t(){this.iu=new r0,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(e){},t.prototype.Na=function(e,n,r){},t.prototype.Fa=function(e){return this.iu.ua(e),this.ru[e]||"not-current"},t.prototype.Ba=function(e,n,r){this.ru[e]=n},t.prototype.ka=function(e){this.iu.ha(e)},t.prototype.Ma=function(e){return this.iu.activeTargetIds.has(e)},t.prototype.La=function(e){delete this.ru[e]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(e){return this.iu.activeTargetIds.has(e)},t.prototype.start=function(){return this.iu=new r0,Promise.resolve()},t.prototype.Ua=function(e,n,r){},t.prototype.Qa=function(e){},t.prototype.ko=function(){},t.prototype.B=function(e){},t.prototype.Wa=function(){},t}(),L5=function(){function t(){}return t.prototype.ou=function(e){},t.prototype.ko=function(){},t}(),xN=function(){function t(){var e=this;this.cu=function(){return e.au()},this.uu=function(){return e.hu()},this.lu=[],this._u()}return t.prototype.ou=function(e){this.lu.push(e)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.lu;e<n.length;e++)(0,n[e])(0)},t.prototype.hu=function(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.lu;e<n.length;e++)(0,n[e])(1)},t.Kn=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),F5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},U5=function(){function t(e){this.fu=e.fu,this.du=e.du}return t.prototype.wu=function(e){this.Eu=e},t.prototype.Tu=function(e){this.Iu=e},t.prototype.onMessage=function(e){this.mu=e},t.prototype.close=function(){this.du()},t.prototype.send=function(e){this.fu(e)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(e){this.Iu(e)},t.prototype.Pu=function(e){this.mu(e)},t}(),j5=function(t){function e(n){var r=this;return(r=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.i=n.i,r}return ee(e,t),e.prototype.Su=function(n,r,i,s){return new Promise(function(a,c){var l=new lK;l.listenOnce(uK.COMPLETE,function(){try{switch(l.getLastErrorCode()){case D_.NO_ERROR:var d=l.getResponseJson();J("Connection","XHR received:",JSON.stringify(d)),a(d);break;case D_.TIMEOUT:J("Connection",'RPC "'+n+'" timed out'),c(new G(D.DEADLINE_EXCEEDED,"Request time out"));break;case D_.HTTP_ERROR:var v=l.getStatus();if(J("Connection",'RPC "'+n+'" failed with status:',v,"response text:",l.getResponseText()),v>0){var m=l.getResponseJson().error;if(m&&m.status&&m.message){var y=function(b){var E=b.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(E)>=0?E:D.UNKNOWN}(m.status);c(new G(y,m.message))}else c(new G(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new G(D.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{J("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);l.send(r,"POST",h,i,15)})},e.prototype.Cu=function(n,r){var i=[this.gu,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=sK(),a=aK(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(c.initMessageHeaders,r),fb()||Yk()||uY()||cY()||lY()||hb()||(c.httpHeadersOverwriteParam="$httpHeaders");var l=i.join("");J("Connection","Creating WebChannel: "+l,c);var h=s.createWebChannel(l,c),d=!1,v=!1,m=new U5({fu:function(b){v?J("Connection","Not sending because WebChannel is closed:",b):(d||(J("Connection","Opening WebChannel transport."),h.open(),d=!0),J("Connection","WebChannel sending:",b),h.send(b))},du:function(){return h.close()}}),y=function(b,E,T){b.listen(E,function(A){try{T(A)}catch(x){setTimeout(function(){throw x},0)}})};return y(h,jd.EventType.OPEN,function(){v||J("Connection","WebChannel transport opened.")}),y(h,jd.EventType.CLOSE,function(){v||(v=!0,J("Connection","WebChannel transport closed"),m.Ru())}),y(h,jd.EventType.ERROR,function(b){v||(v=!0,$p("Connection","WebChannel transport errored:",b),m.Ru(new G(D.UNAVAILABLE,"The operation could not be completed")))}),y(h,jd.EventType.MESSAGE,function(b){var E;if(!v){var T=b.data[0];Ee(!!T);var A=T,x=A.error||((E=A[0])===null||E===void 0?void 0:E.error);if(x){J("Connection","WebChannel received error:",x);var M=x.status,U=function(j){var Te=Ht[j];if(Te!==void 0)return pD(Te)}(M),X=x.message;U===void 0&&(U=D.INTERNAL,X="Unknown error status: "+M+" with message "+x.message),v=!0,m.Ru(new G(U,X)),h.close()}else J("Connection","WebChannel received:",T),m.Pu(T)}}),y(a,cK.STAT_EVENT,function(b){b.stat===$A.PROXY?J("Connection","Detected buffering proxy"):b.stat===$A.NOPROXY&&J("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Au()},0),m},e}(function(){function t(e){this.yu=e,this.t=e.t;var n=e.ssl?"https":"http";this.gu=n+"://"+e.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(e,n,r,i){var s=this.bu(e,n);J("RestConnection","Sending: ",s,r);var a={};return this.vu(a,i),this.Su(e,s,a,r).then(function(c){return J("RestConnection","Received: ",c),c},function(c){throw $p("RestConnection",e+" failed with error: ",c,"url: ",s,"request:",r),c})},t.prototype.Du=function(e,n,r,i){return this.pu(e,n,r,i)},t.prototype.vu=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.2.7",e["Content-Type"]="text/plain",n)for(var r in n.g)n.g.hasOwnProperty(r)&&(e[r]=n.g[r])},t.prototype.bu=function(e,n){var r=F5[e];return this.gu+"/v1/"+n+":"+r},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof window<"u"?window:null}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){return new WK(t,!0)}var bE=function(){function t(e,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Zr=e,this.fs=n,this.xu=r,this.Nu=i,this.$u=s,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(e){var n=this;this.cancel();var r=Math.floor(this.Fu+this.Bu()),i=Math.max(0,Date.now()-this.ku),s=Math.max(0,r-i);s>0&&J("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,s,function(){return n.ku=Date.now(),e()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){this.Ou!==null&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){this.Ou!==null&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),KD=function(){function t(e,n,r,i,s,a){this.Zr=e,this.Uu=r,this.Qu=i,this.Ku=s,this.listener=a,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new bE(e,n)}return t.prototype.zu=function(){return this.state===1||this.state===2||this.state===4},t.prototype.Hu=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.Ju()},t.prototype.stop=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var e=this;this.Hu()&&this.ju===null&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return e.Zu()}))},t.prototype.th=function(e){this.eh(),this.stream.send(e)},t.prototype.Zu=function(){return R(this,void 0,void 0,function(){return N(this,function(e){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(e,n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,e!==3?this.Gu.reset():n&&n.code===D.RESOURCE_EXHAUSTED?($t(n.toString()),$t("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):n&&n.code===D.UNAUTHENTICATED&&this.Ku.p(),this.stream!==null&&(this.nh(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(n)];case 1:return r.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.sh(this.Wu),r=this.Wu;this.Ku.getToken().then(function(i){e.Wu===r&&e.ih(i)},function(i){n(function(){var s=new G(D.UNKNOWN,"Fetching auth token failed: "+i.message);return e.rh(s)})})},t.prototype.ih=function(e){var n=this,r=this.sh(this.Wu);this.stream=this.oh(e),this.stream.wu(function(){r(function(){return n.state=2,n.listener.wu()})}),this.stream.Tu(function(i){r(function(){return n.rh(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},t.prototype.Ju=function(){var e=this;this.state=4,this.Gu.Lu(function(){return R(e,void 0,void 0,function(){return N(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(e){return J("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.sh=function(e){var n=this;return function(r){n.Zr.Ps(function(){return n.Wu===e?r():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),V5=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).Qt=s,c}return ee(e,t),e.prototype.oh=function(n){return this.Qu.Cu("Listen",n)},e.prototype.onMessage=function(n){this.Gu.reset();var r=function(s,a){var c;if("targetChange"in a){a.targetChange;var l=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:fe()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(T,A){return T.Bt?(Ee(A===void 0||typeof A=="string"),Zn.fromBase64String(A||"")):(Ee(A===void 0||A instanceof Uint8Array),Zn.fromUint8Array(A||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(T){var A=T.code===void 0?D.UNKNOWN:pD(T.code);return new G(A,T.message||"")}(m);c=new yD(l,h,d,v||null)}else if("documentChange"in a){a.documentChange,(l=a.documentChange).document,l.document.name,l.document.updateTime,h=Vi(s,l.document.name),d=pn(l.document.updateTime);var m=new Ss({mapValue:{fields:l.document.fields}}),y=(v=new lt(h,d,m,{}),l.targetIds||[]),b=l.removedTargetIds||[];c=new lp(y,b,v.key,v)}else if("documentDelete"in a)a.documentDelete,(l=a.documentDelete).document,h=Vi(s,l.document),d=l.readTime?pn(l.readTime):Fe.min(),m=new rn(h,d),v=l.removedTargetIds||[],c=new lp([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(l=a.documentRemove).document,h=Vi(s,l.document),d=l.removedTargetIds||[],c=new lp([],d,h,null);else{if(!("filter"in a))return fe();a.filter;var E=a.filter;E.targetId,l=E.count||0,h=new DK(l),d=E.targetId,c=new mD(d,h)}return c}(this.Qt,n),i=function(s){if(!("targetChange"in s))return Fe.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Fe.min():a.readTime?pn(a.readTime):Fe.min()}(n);return this.listener.ah(r,i)},e.prototype.uh=function(n){var r={};r.database=Bf(this.Qt),r.addTarget=function(s,a){var c,l=a.target;return(c=Qp(l)?{documents:ID(s,l)}:{query:SD(s,l)}).targetId=a.targetId,a.resumeToken.l()>0?c.resumeToken=_D(s,a.resumeToken):a.Ot._(Fe.min())>0&&(c.readTime=jf(s,a.Ot.j())),c}(this.Qt,n);var i=function(s,a){var c=function(l,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return fe()}}(0,a.Ft);return c==null?null:{"goog-listen-tags":c}}(this.Qt,n);i&&(r.labels=i),this.th(r)},e.prototype.hh=function(n){var r={};r.database=Bf(this.Qt),r.removeTarget=n,this.th(r)},e}(KD),B5=function(t){function e(n,r,i,s,a){var c=this;return(c=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).Qt=s,c.lh=!1,c}return ee(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(n){return this.Qu.Cu("Write",n)},e.prototype.onMessage=function(n){if(Ee(!!n.streamToken),this.lastStreamToken=n.streamToken,this.lh){this.Gu.reset();var r=function(s,a){return s&&s.length>0?(Ee(a!==void 0),s.map(function(c){return function(l,h){var d=l.updateTime?pn(l.updateTime):pn(h);d.isEqual(Fe.min())&&(d=pn(h));var v=null;return l.transformResults&&l.transformResults.length>0&&(v=l.transformResults),new kK(d,v)}(c,a)})):[]}(n.writeResults,n.commitTime),i=pn(n.commitTime);return this.listener.dh(i,r)}return Ee(!n.writeResults||n.writeResults.length===0),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var n={};n.database=Bf(this.Qt),this.th(n)},e.prototype.fh=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return tv(r.Qt,s)})};this.th(i)},e}(KD),q5=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).credentials=n,s.Qu=r,s.Qt=i,s.Th=!1,s}return ee(e,t),e.prototype.Ih=function(){if(this.Th)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.pu(n,r,i,a)}).catch(function(a){throw a.code===D.UNAUTHENTICATED&&s.credentials.p(),a})},e.prototype.Du=function(n,r,i){var s=this;return this.Ih(),this.credentials.getToken().then(function(a){return s.Qu.Du(n,r,i,a)}).catch(function(a){throw a.code===D.UNAUTHENTICATED&&s.credentials.p(),a})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),W5=function(){function t(e,n){this._s=e,this.fa=n,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var e=this;this.mh===0&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return e.Ah=null,e.gh("Backend didn't respond within 10 seconds."),e.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(e){this.state==="Online"?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+e.toString()),this.yh("Offline")))},t.prototype.set=function(e){this.ph(),this.mh=0,e==="Online"&&(this.Rh=!1),this.yh(e)},t.prototype.yh=function(e){e!==this.state&&(this.state=e,this.fa(e))},t.prototype.gh=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Rh?($t(n),this.Rh=!1):J("OnlineStateTracker",n)},t.prototype.ph=function(){this.Ah!==null&&(this.Ah.cancel(),this.Ah=null)},t}(),H5=function(t,e,n,r,i){var s=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(a){n.Ps(function(){return R(s,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return ks(this)?(J("RemoteStore","Restarting streams for network reachability change."),[4,function(l){return R(this,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return(h=te(l)).Nh.add(4),[4,Bc(h)];case 1:return d.sent(),h.Oh.set("Unknown"),h.Nh.delete(4),[4,bh(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})}),this.Oh=new W5(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:if(!ks(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Bc(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function og(t,e){var n=te(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),IE(n)?TE(n):Wc(n).Hu()&&EE(n,e))}function qf(t,e){var n=te(t),r=Wc(n);n.xh.delete(e),r.Hu()&&QD(n,e),n.xh.size===0&&(r.Hu()?r.Xu():ks(n)&&n.Oh.set("Unknown"))}function EE(t,e){t.kh.on(e.targetId),Wc(t).uh(e)}function QD(t,e){t.kh.on(e),Wc(t).hh(e)}function TE(t){t.kh=new VK({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Wc(t).start(),t.Oh.Ph()}function IE(t){return ks(t)&&!Wc(t).zu()&&t.xh.size>0}function ks(t){return te(t).Nh.size===0}function XD(t){t.kh=void 0}function G5(t){return R(this,void 0,void 0,function(){return N(this,function(e){return t.xh.forEach(function(n,r){EE(t,n)}),[2]})})}function Y5(t,e){return R(this,void 0,void 0,function(){return N(this,function(n){return XD(t),IE(t)?(t.Oh.Vh(e),TE(t)):t.Oh.set("Unknown"),[2]})})}function $5(t,e,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:if(t.Oh.set("Online"),!(e instanceof yD&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(c,l){return R(this,void 0,void 0,function(){var h,d,v,m;return N(this,function(y){switch(y.label){case 0:h=l.cause,d=0,v=l.targetIds,y.label=1;case 1:return d<v.length?(m=v[d],c.xh.has(m)?[4,c.Dh.Mh(m,h)]:[3,3]):[3,5];case 2:y.sent(),c.xh.delete(m),c.kh.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,ov(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof lp?t.kh.dn(e):e instanceof mD?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Fe.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,WD(t.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(c,l){var h=c.kh.Vn(l);return h.$e.forEach(function(d,v){if(d.resumeToken.l()>0){var m=c.xh.get(v);m&&c.xh.set(v,m.Mt(d.resumeToken,l))}}),h.Fe.forEach(function(d){var v=c.xh.get(d);if(v){c.xh.set(d,v.Mt(Zn.T,v.Ot)),QD(c,d);var m=new tg(v.target,d,1,v.sequenceNumber);EE(c,m)}}),c.Dh.Lh(h)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return J("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,ov(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function ov(t,e,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:if(!Wa(e))throw e;return t.Nh.add(1),[4,Bc(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return WD(t.bh)}),t._s.po(function(){return R(r,void 0,void 0,function(){return N(this,function(s){switch(s.label){case 0:return J("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),t.Nh.delete(1),[4,bh(t)];case 2:return s.sent(),[2]}})})}),[2]}})})}function JD(t,e){return e().catch(function(n){return ov(t,n,e)})}function qc(t){return R(this,void 0,void 0,function(){var e,n,r,i,s;return N(this,function(a){switch(a.label){case 0:e=te(t),n=Cs(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(c){return ks(c)&&c.Ch.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,T5(e.bh,r)];case 3:return(i=a.sent())===null?(e.Ch.length===0&&n.Xu(),[3,7]):(r=i.batchId,function(c,l){c.Ch.push(l);var h=Cs(c);h.Hu()&&h._h&&h.fh(l.mutations)}(e,i),[3,6]);case 4:return s=a.sent(),[4,ov(e,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return ZD(e)&&eM(e),[2]}})})}function ZD(t){return ks(t)&&!Cs(t).zu()&&t.Ch.length>0}function eM(t){Cs(t).start()}function z5(t){return R(this,void 0,void 0,function(){return N(this,function(e){return Cs(t).Eh(),[2]})})}function K5(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){for(e=Cs(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]})})}function Q5(t,e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=t.Ch.shift(),i=i5.from(r,e,n),[4,JD(t,function(){return t.Dh.Bh(i)})];case 1:return s.sent(),[4,qc(t)];case 2:return s.sent(),[2]}})})}function X5(t,e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return e&&Cs(t)._h?[4,function(r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return dD(a=i.code)&&a!==D.ABORTED?(s=r.Ch.shift(),Cs(r).Yu(),[4,JD(r,function(){return r.Dh.qh(s.batchId,i)})]):[3,3];case 1:return c.sent(),[4,qc(r)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ZD(t)&&eM(t),[2]}})})}function i0(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=te(t),e?(n.Nh.delete(2),[4,bh(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Bc(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Wc(t){var e=this;return t.Uh||(t.Uh=function(n,r,i){var s=te(n);return s.Ih(),new V5(r,s.Qu,s.credentials,s.Qt,i)}(t.Sh,t._s,{wu:G5.bind(null,t),Tu:Y5.bind(null,t),ah:$5.bind(null,t)}),t.$h.push(function(n){return R(e,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(t.Uh.Yu(),IE(t)?TE(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:r.sent(),XD(t),r.label=3;case 3:return[2]}})})})),t.Uh}function Cs(t){var e=this;return t.Qh||(t.Qh=function(n,r,i){var s=te(n);return s.Ih(),new B5(r,s.Qu,s.credentials,s.Qt,i)}(t.Sh,t._s,{wu:z5.bind(null,t),Tu:X5.bind(null,t),wh:K5.bind(null,t),dh:Q5.bind(null,t)}),t.$h.push(function(n){return R(e,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return n?(t.Qh.Yu(),[4,qc(t)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:r.sent(),t.Ch.length>0&&(J("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),r.label=4;case 4:return[2]}})})})),t.Qh}var J5=function(){this.Kh=void 0,this.listeners=[]},Z5=function(){this.queries=new Vc(function(t){return rD(t)},vh),this.onlineState="Unknown",this.Wh=new Set};function SE(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(n=te(t),r=e.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new J5),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.jh(r)];case 2:return a.Kh=h.sent(),[3,4];case 3:return c=h.sent(),l=jc(c,"Initialization of query '"+Zw(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Gh(n.onlineState),s.Kh&&e.zh(s.Kh)&&AE(n),[2]}})})}function CE(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){return n=te(t),r=e.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function eQ(t,e){for(var n=te(t),r=!1,i=0,s=e;i<s.length;i++){var a=s[i],c=a.query,l=n.queries.get(c);if(l){for(var h=0,d=l.listeners;h<d.length;h++)d[h].zh(a)&&(r=!0);l.Kh=a}}r&&AE(n)}function tQ(t,e,n){var r=te(t),i=r.queries.get(e);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(e)}function AE(t){t.Wh.forEach(function(e){e.next()})}var NE=function(){function t(e,n,r){this.query=e,this.Jh=n,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=r||{}}return t.prototype.zh=function(e){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=e.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}e=new ev(e.query,e.docs,e.Se,n,e.De,e.fromCache,e.Ce,!0)}var a=!1;return this.Yh?this.Zh(e)&&(this.Jh.next(e),a=!0):this.tl(e,this.onlineState)&&(this.el(e),a=!0),this.Xh=e,a},t.prototype.onError=function(e){this.Jh.error(e)},t.prototype.Gh=function(e){this.onlineState=e;var n=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,e)&&(this.el(this.Xh),n=!0),n},t.prototype.tl=function(e,n){if(!e.fromCache)return!0;var r=n!=="Offline";return!(this.options.nl&&r||e.docs.et()&&n!=="Offline")},t.prototype.Zh=function(e){if(e.docChanges.length>0)return!0;var n=this.Xh&&this.Xh.hasPendingWrites!==e.hasPendingWrites;return!(!e.Ce&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.el=function(e){e=ev.Ne(e.query,e.docs,e.De,e.fromCache),this.Yh=!0,this.Jh.next(e)},t}(),nQ=function(){function t(e,n){this.payload=e,this.byteLength=n}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),PN=function(){function t(e){this.Qt=e}return t.prototype.Pc=function(e){return Vi(this.Qt,e)},t.prototype.yc=function(e){return e.metadata.exists?TD(this.Qt,e.document,!1):new rn(this.Pc(e.metadata.name),this.gc(e.metadata.readTime))},t.prototype.gc=function(e){return pn(e)},t}(),rQ=function(){function t(e,n,r){this.il=e,this.bh=n,this.Qt=r,this.queries=[],this.documents=[],this.progress=tM(e)}return t.prototype.rl=function(e){this.progress.bytesLoaded+=e.byteLength;var n=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},t.prototype.ol=function(e){for(var n=new Map,r=new PN(this.Qt),i=0,s=e;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var c=r.Pc(a.metadata.name),l=0,h=a.metadata.queries;l<h.length;l++){var d=h[l],v=(n.get(d)||st()).add(c);n.set(d,v)}}return n},t.prototype.complete=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,S5(this.bh,new PN(this.Qt),this.documents,this.il.id)];case 1:e=a.sent(),n=this.ol(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,C5(this.bh,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new y5(Object.assign({},this.progress),e))]}})})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nM=function(t){this.key=t},rM=function(t){this.key=t},iM=function(){function t(e,n){this.query=e,this.cl=n,this.al=null,this.Be=!1,this.ul=st(),this.De=st(),this.hl=iD(e),this.ll=new gD(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(e,n){var r=this,i=n?n.dl:new uN,s=n?n.ll:this.ll,a=n?n.De:this.De,c=s,l=!1,h=up(this.query)&&s.size===this.query.limit?s.last():null,d=Jp(this.query)&&s.size===this.query.limit?s.first():null;if(e.Xt(function(m,y){var b=s.get(m),E=y instanceof lt?y:null;E&&(E=gh(r.query,E)?E:null);var T=!!b&&r.De.has(b.key),A=!!E&&(E.Vt||r.De.has(E.key)&&E.hasCommittedMutations),x=!1;b&&E?b.data().isEqual(E.data())?T!==A&&(i.track({type:3,doc:E}),x=!0):r.wl(b,E)||(i.track({type:2,doc:E}),x=!0,(h&&r.hl(E,h)>0||d&&r.hl(E,d)<0)&&(l=!0)):!b&&E?(i.track({type:0,doc:E}),x=!0):b&&!E&&(i.track({type:1,doc:b}),x=!0,(h||d)&&(l=!0)),x&&(E?(c=c.add(E),a=A?a.add(m):a.delete(m)):(c=c.delete(m),a=a.delete(m)))}),up(this.query)||Jp(this.query))for(;c.size>this.query.limit;){var v=up(this.query)?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{ll:c,dl:i,lc:l,De:a}},t.prototype.wl=function(e,n){return e.Vt&&n.hasCommittedMutations&&!n.Vt},t.prototype.wi=function(e,n,r){var i=this,s=this.ll;this.ll=e.ll,this.De=e.De;var a=e.dl.ve();a.sort(function(d,v){return function(m,y){var b=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return b(m)-b(y)}(d.type,v.type)||i.hl(d.doc,v.doc)}),this.El(r);var c=n?this.Tl():[],l=this.ul.size===0&&this.Be?1:0,h=l!==this.al;return this.al=l,a.length!==0||h?{snapshot:new ev(this.query,e.ll,s,a,e.De,l===0,h,!1),Il:c}:{Il:c}},t.prototype.Gh=function(e){return this.Be&&e==="Offline"?(this.Be=!1,this.wi({ll:this.ll,dl:new uN,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(e){return!this.cl.has(e)&&!!this.ll.has(e)&&!this.ll.get(e).Vt},t.prototype.El=function(e){var n=this;e&&(e.qe.forEach(function(r){return n.cl=n.cl.add(r)}),e.Ue.forEach(function(r){}),e.Qe.forEach(function(r){return n.cl=n.cl.delete(r)}),this.Be=e.Be)},t.prototype.Tl=function(){var e=this;if(!this.Be)return[];var n=this.ul;this.ul=st(),this.ll.forEach(function(i){e.ml(i.key)&&(e.ul=e.ul.add(i.key))});var r=[];return n.forEach(function(i){e.ul.has(i)||r.push(new rM(i))}),this.ul.forEach(function(i){n.has(i)||r.push(new nM(i))}),r},t.prototype.Al=function(e){this.cl=e.Rc,this.ul=st();var n=this.fl(e.documents);return this.wi(n,!0)},t.prototype.Rl=function(){return ev.Ne(this.query,this.ll,this.De,this.al===0)},t}(),iQ=function(t,e,n){this.query=t,this.targetId=e,this.view=n},oQ=function(t){this.key=t,this.Pl=!1},sQ=function(){function t(e,n,r,i,s,a){this.bh=e,this.yl=n,this.gl=r,this.Vl=i,this.currentUser=s,this.pl=a,this.bl={},this.vl=new Vc(function(c){return rD(c)},vh),this.Sl=new Map,this.Dl=new Set,this.Cl=new Bn(ve.H),this.xl=new Map,this.Nl=new wE,this.$l={},this.Fl=new Map,this.Ol=rv.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return this.kl===!0},enumerable:!1,configurable:!0}),t}();function aQ(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=PE(t),(s=n.vl.get(e))?(r=s.targetId,n.Vl.Fa(r),i=s.view.Rl(),[3,4]):[3,1];case 1:return[4,bc(n.bh,Gr(e))];case 2:return a=l.sent(),c=n.Vl.Fa(a.targetId),r=a.targetId,[4,RE(n,e,r,c==="current")];case 3:i=l.sent(),n.Ml&&og(n.yl,a),l.label=4;case 4:return[2,i]}})})}function RE(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return t.Ll=function(v,m,y){return function(b,E,T,A){return R(this,void 0,void 0,function(){var x,M,U;return N(this,function(X){switch(X.label){case 0:return x=E.view.fl(T),x.lc?[4,iv(b.bh,E.query,!1).then(function(j){var Te=j.documents;return E.view.fl(Te,x)})]:[3,2];case 1:x=X.sent(),X.label=2;case 2:return M=A&&A.$e.get(E.targetId),U=E.view.wi(x,b.Ml,M),[2,(o0(b,E.targetId,U.Il),U.snapshot)]}})})}(t,v,m,y)},[4,iv(t.bh,e,!0)];case 1:return i=d.sent(),s=new iM(e,i.Rc),a=s.fl(i.documents),c=hE.Le(n,r&&t.onlineState!=="Offline"),l=s.wi(a,t.Ml,c),o0(t,n,l.Il),h=new iQ(e,n,s),[2,(t.vl.set(e,h),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),l.snapshot)]}})})}function uQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=te(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(a){return!vh(a,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Ec(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),qf(n.yl,r.targetId),Tc(n,r.targetId)}).catch(Ha)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Tc(n,r.targetId),[4,Ec(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function cQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:r=DE(t),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,function(l,h){var d,v=te(l),m=fr.now(),y=h.reduce(function(b,E){return b.add(E.key)},st());return v.persistence.runTransaction("Locally write mutations","readwrite",function(b){return v.Tc.Xo(b,y).next(function(E){d=E;for(var T=[],A=0,x=h;A<x.length;A++){var M=x[A],U=PK(M,d.get(M.key));U!=null&&T.push(new Os(M.key,U,ZP(U.proto.mapValue),xn.exists(!0)))}return v.zo.Ri(b,m,T,h)})}).then(function(b){var E=b.xs(d);return{batchId:b.batchId,ri:E}})}(r.bh,e)];case 2:return i=c.sent(),r.Vl.Ca(i.batchId),function(l,h,d){var v=l.$l[l.currentUser.A()];v||(v=new Bn(Ve)),v=v.zt(h,d),l.$l[l.currentUser.A()]=v}(r,i.batchId,n),[4,Mo(r,i.ri)];case 3:return c.sent(),[4,qc(r.yl)];case 4:return c.sent(),[3,6];case 5:return s=c.sent(),a=jc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function oM(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:n=te(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,E5(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(s,a){var c=n.xl.get(a);c&&(Ee(s.qe.size+s.Ue.size+s.Qe.size<=1),s.qe.size>0?c.Pl=!0:s.Ue.size>0?Ee(c.Pl):s.Qe.size>0&&(Ee(c.Pl),c.Pl=!1))}),[4,Mo(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ha(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function DN(t,e,n){var r=te(t);if(r.Ml&&n===0||!r.Ml&&n===1){var i=[];r.vl.forEach(function(s,a){var c=a.view.Gh(e);c.snapshot&&i.push(c.snapshot)}),function(s,a){var c=te(s);c.onlineState=a;var l=!1;c.queries.forEach(function(h,d){for(var v=0,m=d.listeners;v<m.length;v++)m[v].Gh(a)&&(l=!0)}),l&&AE(c)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function lQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return(r=te(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(s=i&&i.key)?(a=(a=new Bn(ve.H)).zt(s,new rn(s,Fe.min())),c=st().add(s),l=new fE(Fe.min(),new Map,new on(Ve),a,c),[4,oM(r,l)]):[3,2];case 1:return h.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(e),xE(r),[3,4];case 2:return[4,Ec(r.bh,e,!1).then(function(){return Tc(r,e,n)}).catch(Ha)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function fQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:n=te(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,b5(n.bh,e)];case 2:return i=s.sent(),kE(n,r,null),OE(n,r),n.Vl.Na(r,"acknowledged"),[4,Mo(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ha(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function hQ(t,e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:r=te(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,c){var l=te(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return l.zo.Pi(h,c).next(function(v){return Ee(v!==null),d=v.keys(),l.zo.Ci(h,v)}).next(function(){return l.zo.$i(h)}).next(function(){return l.Tc.Xo(h,d)})})}(r.bh,e)];case 2:return i=s.sent(),kE(r,e,n),OE(r,e),r.Vl.Na(e,"rejected",n),[4,Mo(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Ha(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function dQ(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:ks((n=te(t)).yl)||J("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,function(l){var h=te(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h.zo.Vi(d)})}(n.bh)];case 2:return(r=c.sent())===-1?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return s=c.sent(),a=jc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function OE(t,e){(t.Fl.get(e)||[]).forEach(function(n){n.resolve()}),t.Fl.delete(e)}function kE(t,e,n){var r=te(t),i=r.$l[r.currentUser.A()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Tc(t,e,n){n===void 0&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var s=i[r];t.vl.delete(s),n&&t.bl.Bl(s,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(a){t.Nl.Fi(a)||sM(t,a)})}function sM(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);n!==null&&(qf(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),xE(t))}function o0(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof nM?(t.Nl.nr(s.key,e),pQ(t,s)):s instanceof rM?(J("SyncEngine","Document no longer in limbo: "+s.key),t.Nl.ir(s.key,e),t.Nl.Fi(s.key)||sM(t,s.key)):fe()}}function pQ(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(J("SyncEngine","New document in limbo: "+n),t.Dl.add(r),xE(t))}function xE(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new ve(Je.ot(e)),r=t.Ol.next();t.xl.set(r,new oQ(n)),t.Cl=t.Cl.zt(n,r),og(t.yl,new tg(Gr(Uc(n.path)),r,2,Ar.q))}}function Mo(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r=te(t),i=[],s=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(l,h){a.push(r.Ll(h,e,n).then(function(d){if(d){r.Ml&&r.Vl.Ba(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=_5.oc(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return c.sent(),r.bl.ah(i),[4,function(l,h){return R(this,void 0,void 0,function(){var d,v,m,y,b,E,T,A,x;return N(this,function(M){switch(M.label){case 0:d=te(l),M.label=1;case 1:return M.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(U){return $.forEach(h,function(X){return $.forEach(X.ic,function(j){return d.persistence.Ti.nr(U,X.targetId,j)}).next(function(){return $.forEach(X.rc,function(j){return d.persistence.Ti.ir(U,X.targetId,j)})})})})];case 2:return M.sent(),[3,4];case 3:if(!Wa(v=M.sent()))throw v;return J("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)b=y[m],E=b.targetId,b.fromCache||(T=d.fc.get(E),A=T.Ot,x=T.Lt(A),d.fc=d.fc.zt(E,x));return[2]}})})}(r.bh,s)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function vQ(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return(n=te(t)).currentUser.isEqual(e)?[3,3]:(J("SyncEngine","User change. New user:",e.A()),[4,qD(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(s,a){s.Fl.forEach(function(c){c.forEach(function(l){l.reject(new G(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Mo(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function gQ(t,e){var n=te(t),r=n.xl.get(e);if(r&&r.Pl)return st().add(r.key);var i=st(),s=n.Sl.get(e);if(!s)return i;for(var a=0,c=s;a<c.length;a++){var l=c[a],h=n.vl.get(l);i=i.Pe(h.view._l)}return i}function mQ(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,iv((n=te(t)).bh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Al(r),[2,(n.Ml&&o0(n,e.targetId,i.Il),i)]}})})}function yQ(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){return[2,YD((e=te(t)).bh).then(function(r){return Mo(e,r)})]})})}function _Q(t,e,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,function(c,l){var h=te(c),d=te(h.zo);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.yi(v,l).next(function(m){return m?h.Tc.Xo(v,m):$.resolve(null)})})}((i=te(t)).bh,e)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,qc(i.yl)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(kE(i,e,r||null),OE(i,e),function(c,l){te(te(c).zo).xi(l)}(i.bh,e)):fe(),a.label=4;case 4:return[4,Mo(i,s)];case 5:return a.sent(),[3,7];case 6:J("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function wQ(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return PE(n=te(t)),DE(n),e!==!0||n.kl===!0?[3,3]:(r=n.Vl.va(),[4,MN(n,r.it())]);case 1:return i=d.sent(),n.kl=!0,[4,i0(n.yl,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)c=a[s],og(n.yl,c);return[3,7];case 3:return e!==!1||n.kl===!1?[3,7]:(l=[],h=Promise.resolve(),n.Sl.forEach(function(v,m){n.Vl.Ma(m)?l.push(m):h=h.then(function(){return Tc(n,m),Ec(n.bh,m,!0)}),qf(n.yl,m)}),[4,h]);case 4:return d.sent(),[4,MN(n,l)];case 5:return d.sent(),function(v){var m=te(v);m.xl.forEach(function(y,b){qf(m.yl,b)}),m.Nl.Oc(),m.xl=new Map,m.Cl=new Bn(ve.H)}(n),n.kl=!1,[4,i0(n.yl,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function MN(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m,y,b,E,T;return N(this,function(A){switch(A.label){case 0:r=te(t),i=[],s=[],a=0,c=e,A.label=1;case 1:return a<c.length?(l=c[a],h=void 0,(d=r.Sl.get(l))&&d.length!==0?[4,bc(r.bh,Gr(d[0]))]:[3,7]):[3,13];case 2:h=A.sent(),v=0,m=d,A.label=3;case 3:return v<m.length?(y=m[v],b=r.vl.get(y),[4,mQ(r,b)]):[3,6];case 4:(E=A.sent()).snapshot&&s.push(E.snapshot),A.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,GD(r.bh,l)];case 8:return T=A.sent(),[4,bc(r.bh,T)];case 9:return h=A.sent(),[4,RE(r,aM(T),l,!1)];case 10:A.sent(),A.label=11;case 11:i.push(h),A.label=12;case 12:return a++,[3,1];case 13:return[2,(r.bl.ah(s),i)]}})})}function aM(t){return tD(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bQ(t){var e=te(t);return te(te(e.bh).persistence).Uo()}function EQ(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a;return N(this,function(c){switch(c.label){case 0:return(i=te(t)).kl?(J("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,YD(i.bh)];case 3:return s=c.sent(),a=fE.Me(e,n==="current"),[4,Mo(i,s,a)];case 4:return c.sent(),[3,8];case 5:return[4,Ec(i.bh,e,!0)];case 6:return c.sent(),Tc(i,e,r),[3,8];case 7:fe(),c.label=8;case 8:return[2]}})})}function TQ(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:if(!(r=PE(t)).kl)return[3,10];i=0,s=e,y.label=1;case 1:return i<s.length?(a=s[i],r.Sl.has(a)?(J("SyncEngine","Adding an already active target "+a),[3,5]):[4,GD(r.bh,a)]):[3,6];case 2:return c=y.sent(),[4,bc(r.bh,c)];case 3:return l=y.sent(),[4,RE(r,aM(c),l.targetId,!1)];case 4:y.sent(),og(r.yl,l),y.label=5;case 5:return i++,[3,1];case 6:h=function(b){return N(this,function(E){switch(E.label){case 0:return r.Sl.has(b)?[4,Ec(r.bh,b,!1).then(function(){qf(r.yl,b),Tc(r,b)}).catch(Ha)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(m=v[d],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function PE(t){var e=te(t);return e.yl.Dh.Lh=oM.bind(null,e),e.yl.Dh.vn=gQ.bind(null,e),e.yl.Dh.Mh=lQ.bind(null,e),e.bl.ah=eQ.bind(null,e.gl),e.bl.Bl=tQ.bind(null,e.gl),e}function DE(t){var e=te(t);return e.yl.Dh.Bh=fQ.bind(null,e),e.yl.Dh.qh=hQ.bind(null,e),e}function IQ(t,e,n){var r=te(t);(function(i,s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return c=y.sent(),[4,function(b,E){var T=te(b),A=pn(E.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",function(x){return T.wo.Os(x,E.id)}).then(function(x){return!!x&&x.createTime._(A)>=0})}(i.bh,c)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a.ql(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(c)))];case 4:return a.Ul(tM(c)),l=new rQ(c,i.bh,s.Qt),[4,s.Ql()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,l.rl(h)]:[3,10];case 7:return(d=y.sent())&&a.Ul(d),[4,s.Ql()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,l.complete()];case 11:return v=y.sent(),[4,Mo(i,v.Go,void 0)];case 12:return y.sent(),[4,function(b,E){var T=te(b);return T.persistence.runTransaction("Save bundle","readwrite",function(A){return T.wo.ks(A,E)})}(i.bh,c)];case 13:return y.sent(),a.ql(v.progress),[3,15];case 14:return $p("SyncEngine","Loading bundle failed with "+(m=y.sent())),a.Kl(m),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.Vl.Wa()})}var uM=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return this.Qt=wh(e.yu.t),this.Vl=this.Wl(e),this.persistence=this.jl(e),[4,this.persistence.start()];case 1:return n.sent(),this.Gl=this.zl(e),this.bh=this.Hl(e),[2]}})})},t.prototype.zl=function(e){return null},t.prototype.Hl=function(e){return BD(this.persistence,new VD,e.Jl,this.Qt)},t.prototype.jl=function(e){return new x5(D5.ia,this.Qt)},t.prototype.Wl=function(e){return new $D},t.prototype.terminate=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return e.sent(),[4,this.persistence.ko()];case 2:return e.sent(),[2]}})})},t}(),cM=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).Yl=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return ee(e,t),e.prototype.initialize=function(n){return R(this,void 0,void 0,function(){return N(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,I5(this.bh)];case 2:return r.sent(),[4,this.Yl.initialize(this,n)];case 3:return r.sent(),[4,DE(this.Yl._a)];case 4:return r.sent(),[4,qc(this.Yl.yl)];case 5:return r.sent(),[2]}})})},e.prototype.Hl=function(n){return BD(this.persistence,new VD,n.Jl,this.Qt)},e.prototype.zl=function(n){var r=this.persistence.Ti.lr;return new f5(r,n._s)},e.prototype.jl=function(n){var r=_E(n.yu.t,n.yu.persistenceKey),i=this.cacheSizeBytes!==void 0?xi.Ys(this.cacheSizeBytes):xi.ti;return new m5(this.synchronizeTabs,r,n.clientId,i,n._s,zD(),fp(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(n){return new $D},e}(uM),SQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r,!1)||this).Yl=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ee(e,t),e.prototype.initialize=function(n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Yl._a,this.Vl instanceof U_?(this.Vl._a={eu:_Q.bind(null,r),nu:EQ.bind(null,r),su:TQ.bind(null,r),Uo:bQ.bind(null,r),tu:yQ.bind(null,r)},[4,this.Vl.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.Ro(function(a){return R(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,wQ(this.Yl._a,a)];case 1:return c.sent(),this.Gl&&(a&&!this.Gl.Er?this.Gl.start(this.bh):a||this.Gl.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},e.prototype.Wl=function(n){var r=zD();if(!U_.Kn(r))throw new G(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=_E(n.yu.t,n.yu.persistenceKey);return new U_(r,n._s,i,n.clientId,n.Jl)},e}(cM),s0=function(){function t(){}return t.prototype.initialize=function(e,n){return R(this,void 0,void 0,function(){var r=this;return N(this,function(i){switch(i.label){case 0:return this.bh?[3,2]:(this.bh=e.bh,this.Vl=e.Vl,this.Sh=this.Xl(n),this.yl=this.Zl(n),this.gl=this.t_(n),this._a=this.e_(n,!e.synchronizeTabs),this.Vl.fa=function(s){return DN(r._a,s,1)},this.yl.Dh.n_=vQ.bind(null,this._a),[4,i0(this.yl,this._a.Ml)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.t_=function(e){return new Z5},t.prototype.Xl=function(e){var n,r=wh(e.yu.t),i=(n=e.yu,new j5(n));return function(s,a,c){return new q5(s,a,c)}(e.credentials,i,r)},t.prototype.Zl=function(e){var n,r,i,s,a,c=this;return n=this.bh,r=this.Sh,i=e._s,s=function(l){return DN(c._a,l,0)},a=xN.Kn()?new xN:new L5,new H5(n,r,i,s,a)},t.prototype.e_=function(e,n){return function(r,i,s,a,c,l,h){var d=new sQ(r,i,s,a,c,l);return h&&(d.kl=!0),d}(this.bh,this.yl,this.gl,this.Vl,e.Jl,e.pl,n)},t.prototype.terminate=function(){return function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return n=te(e),J("RemoteStore","RemoteStore shutting down."),n.Nh.add(5),[4,Bc(n)];case 1:return r.sent(),n.Fh.ko(),n.Oh.set("Unknown"),[2]}})})}(this.yl)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t,e){e===void 0&&(e=10240);var n=0;return{read:function(){return R(this,void 0,void 0,function(){var r;return N(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return R(this,void 0,void 0,function(){return N(this,function(r){return[2]})})},releaseLock:function(){}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sg=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.s_(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.s_(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(e,n){var r=this;this.muted||setTimeout(function(){r.muted||e(n)},0)},t}(),CQ=function(){function t(e,n){var r=this;this.r_=e,this.Qt=n,this.metadata=new er,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(i){i&&i.sl()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return R(this,void 0,void 0,function(){return N(this,function(e){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.c_())]}})})},t.prototype.c_=function(){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,this.a_()];case 1:return(e=s.sent())===null?[2,null]:(n=this.o_.decode(e),r=Number(n),isNaN(r)&&this.u_("length string ("+n+") is not valid number"),[4,this.h_(r)]);case 2:return i=s.sent(),[2,new nQ(JSON.parse(i),e.length+r)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},t.prototype.a_=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((e=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},t.prototype.h_=function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return this.buffer.length<e?[4,this.__()]:[3,3];case 1:r.sent()&&this.u_("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.o_.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),n)]}})})},t.prototype.u_=function(e){throw this.r_.cancel(),new Error("Invalid bundle format: "+e)},t.prototype.__=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,this.r_.read()];case 1:return(e=r.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},t}(),bo=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=0;r<e.length;++r)if(e[r].length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new yi(e)}return t.prototype.isEqual=function(e){return this.f_.isEqual(e.f_)},t}(),Ga=function(t){this._methodName=t},We=function(t){this.d_=t};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e,n){if(!n)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function LE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G(D.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function lM(t,e,n,r){if(e===!0&&r===!0)throw new G(D.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function FN(t){if(!ve.wt(t))throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function UN(t){if(ve.wt(t))throw new G(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ag(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":fe()}function Xe(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ag(t);throw new G(D.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function jN(t,e){if(e<=0)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VN=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,lM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},t}(),BN=new Map,Wf=function(){function t(e,n){this.w_="(lite)",this.E_=new VN({}),this.T_=!1,e instanceof Yp?(this.I_=e,this.m_=new zA):(this.A_=e,this.I_=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new G(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yp(r.options.projectId)}(e),this.m_=new pK(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return this.y_!==void 0},enumerable:!1,configurable:!0}),t.prototype.g_=function(e){if(this.T_)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new VN(e),e.credentials!==void 0&&(this.m_=function(n){if(!n)return new zA;switch(n.type){case"gapi":var r=n.client;return Ee(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new gK(r,n.sessionIndex||"0");case"provider":return n.client;default:throw new G(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return e=this,(n=BN.get(e))&&(J("ComponentProvider","Removing Datastore"),BN.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Nt=function(){function t(e,n,r){this.v_=n,this.S_=r,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new gs(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),hr=function(){function t(e,n,r){this.v_=n,this.C_=r,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),gs=function(t){function e(n,r,i){var s=this;return(s=t.call(this,n,r,Uc(i))||this).firestore=n,s.D_=i,s.type="collection",s}return ee(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.D_.X();return n.et()?null:new Nt(this.firestore,null,new ve(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this.D_)},e}(hr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof We&&(t=t.d_),ME("collection","path",e),t instanceof Wf)return UN(n=Je.ot.apply(Je,Vt([e],r))),new gs(t,null,n);if(!(t instanceof Nt||t instanceof gs))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return UN(n=Je.ot.apply(Je,Vt([t.path],r)).child(Je.ot(e))),new gs(t.firestore,null,n)}function hp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof We&&(t=t.d_),arguments.length===1&&(e=$P.u()),ME("doc","path",e),t instanceof Wf)return FN(n=Je.ot.apply(Je,Vt([e],r))),new Nt(t,null,new ve(n));if(!(t instanceof Nt||t instanceof gs))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return FN(n=t.D_.child(Je.ot.apply(Je,Vt([e],r)))),new Nt(t.firestore,t instanceof gs?t.v_:null,new ve(n))}function hM(t,e){return t instanceof We&&(t=t.d_),e instanceof We&&(e=e.d_),(t instanceof Nt||t instanceof gs)&&(e instanceof Nt||e instanceof gs)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function dM(t,e){return t instanceof We&&(t=t.d_),e instanceof We&&(e=e.d_),t instanceof hr&&e instanceof hr&&t.firestore===e.firestore&&vh(t.C_,e.C_)&&t.v_===e.v_}var ug=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this.x_=e,this.N_=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.x_===e.x_&&this.N_===e.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(e){return Ve(this.x_,e.x_)||Ve(this.N_,e.N_)},t}(),AQ=/^__.*__$/,NQ=function(){function t(e,n,r){this.data=e,this.Gt=n,this.fieldTransforms=r}return t.prototype.F_=function(e,n){return this.Gt!==null?new Os(e,this.data,this.Gt,n,this.fieldTransforms):new yh(e,this.data,n,this.fieldTransforms)},t}(),pM=function(){function t(e,n,r){this.data=e,this.Gt=n,this.fieldTransforms=r}return t.prototype.F_=function(e,n){return new Os(e,this.data,this.Gt,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}var gM=function(){function t(e,n,r,i,s,a){this.settings=e,this.t=n,this.Qt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.O_(),this.fieldTransforms=s||[],this.Gt=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.M_({path:r,B_:!1});return i.q_(e),i},t.prototype.U_=function(e){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.M_({path:r,B_:!1});return i.O_(),i},t.prototype.Q_=function(e){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(e){return sv(e,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(e){return this.Gt.find(function(n){return e.nt(n)})!==void 0||this.fieldTransforms.find(function(n){return e.nt(n.field)})!==void 0},t.prototype.O_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.q_(this.path.get(e))},t.prototype.q_=function(e){if(e.length===0)throw this.K_("Document fields must not be empty");if(vM(this.k_)&&AQ.test(e))throw this.K_('Document fields cannot begin and end with "__"')},t}(),RQ=function(){function t(e,n,r){this.t=e,this.ignoreUndefinedProperties=n,this.Qt=r||wh(e)}return t.prototype.G_=function(e,n,r,i){return i===void 0&&(i=!1),new gM({k_:e,methodName:n,j_:r,path:yi.ct(),B_:!1,W_:i},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function Ya(t){var e=t.p_(),n=wh(t.I_);return new RQ(t.I_,!!e.ignoreUndefinedProperties,n)}function cg(t,e,n,r,i,s){s===void 0&&(s={});var a=t.G_(s.merge||s.mergeFields?2:0,e,n,i);VE("Data must be an object, but it was:",a,r);var c,l,h=_M(r,a);if(s.merge)c=new lc(a.Gt),l=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,m=s.mergeFields;v<m.length;v++){var y=a0(e,m[v],n);if(!a.contains(y))throw new G(D.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");bM(d,y)||d.push(y)}c=new lc(d),l=a.fieldTransforms.filter(function(b){return c.Tt(b.field)})}else c=null,l=a.fieldTransforms;return new NQ(new Ss(h),c,l)}var FE=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.z_=function(n){if(n.k_!==2)throw n.k_===1?n.K_(this._methodName+"() can only appear at the top level of your update data"):n.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.Gt.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Ga);function mM(t,e,n){return new gM({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var OQ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.z_=function(n){return new mh(n.path,new pc)},e.prototype.isEqual=function(n){return n instanceof e},e}(Ga),kQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).H_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=mM(this,n,!0),i=this.H_.map(function(a){return $a(a,r)}),s=new ka(i);return new mh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Ga),xQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).H_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=mM(this,n,!0),i=this.H_.map(function(a){return $a(a,r)}),s=new xa(i);return new mh(n.path,s)},e.prototype.isEqual=function(n){return this===n},e}(Ga),PQ=function(t){function e(n,r){var i=this;return(i=t.call(this,n)||this).J_=r,i}return ee(e,t),e.prototype.z_=function(n){var r=new vc(n.Qt,aD(n.Qt,this.J_));return new mh(n.path,r)},e.prototype.isEqual=function(n){return this===n},e}(Ga);function UE(t,e,n,r){var i=t.G_(1,e,n);VE("Data must be an object, but it was:",i,r);var s=[],a=new dh;hh(r,function(l,h){var d=BE(e,l,n);h instanceof We&&(h=h.d_);var v=i.U_(d);if(h instanceof FE)s.push(d);else{var m=$a(h,v);m!=null&&(s.push(d),a.set(d,m))}});var c=new lc(s);return new pM(a.Pt(),c,i.fieldTransforms)}function jE(t,e,n,r,i,s){var a=t.G_(1,e,n),c=[a0(e,r,n)],l=[i];if(s.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)c.push(a0(e,s[h])),l.push(s[h+1]);for(var d=[],v=new dh,m=c.length-1;m>=0;--m)if(!bM(d,c[m])){var y=c[m],b=l[m];b instanceof We&&(b=b.d_);var E=a.U_(y);if(b instanceof FE)d.push(y);else{var T=$a(b,E);T!=null&&(d.push(y),v.set(y,T))}}var A=new lc(d);return new pM(v.Pt(),A,a.fieldTransforms)}function yM(t,e,n,r){return r===void 0&&(r=!1),$a(n,t.G_(r?4:3,e))}function $a(t,e){if(t instanceof We&&(t=t.d_),wM(t))return VE("Unsupported field value:",e,t),_M(t,e);if(t instanceof Ga)return function(n,r){if(!vM(r.k_))throw r.K_(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.K_(n._methodName+"() is not currently supported inside arrays");var i=n.z_(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&e.k_!==4)throw e.K_("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,c=n;a<c.length;a++){var l=$a(c[a],r.Q_(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(n instanceof We&&(n=n.d_),n===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return aD(r.Qt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=fr.fromDate(n);return{timestampValue:jf(r.Qt,i)}}if(n instanceof fr)return i=new fr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:jf(r.Qt,i)};if(n instanceof ug)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oa)return{bytesValue:_D(r.Qt,n.I)};if(n instanceof Nt){i=r.t;var s=n.firestore.I_;if(!s.isEqual(i))throw r.K_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:dE(n.firestore.I_||r.t,n.S_.path)}}throw r.K_("Unsupported field value: "+ag(n))}(t,e)}function _M(t,e){var n={};return QP(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):hh(t,function(r,i){var s=$a(i,e.L_(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function wM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fr||t instanceof ug||t instanceof Oa||t instanceof Nt||t instanceof Ga)}function VE(t,e,n){if(!wM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=ag(n);throw r==="an object"?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function a0(t,e,n){if(e instanceof We&&(e=e.d_),e instanceof bo)return e.f_;if(typeof e=="string")return BE(t,e);throw sv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var DQ=new RegExp("[~\\*/\\[\\]]");function BE(t,e,n){if(e.search(DQ)>=0)throw sv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(bo.bind.apply(bo,Vt([void 0],e.split("."))))().f_}catch{throw sv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function sv(t,e,n,r,i){var s=r&&!r.et(),a=i!==void 0,c="Function "+e+"() called with invalid data";n&&(c+=" (via `toFirestore()`)");var l="";return(s||a)&&(l+=" (found",s&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new G(D.INVALID_ARGUMENT,(c+=". ")+t+l)}function bM(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MQ=function(){function t(e){this.Sh=e,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:if(this.nf(),this.mutations.length>0)throw new G(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return R(this,void 0,void 0,function(){var c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:return c=te(s),l=Bf(c.Qt)+"/documents",h={documents:a.map(function(b){return Vf(c.Qt,b)})},[4,c.Du("BatchGetDocuments",l,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(b){var E=function(T,A){return"found"in A?function(x,M){Ee(!!M.found),M.found.name,M.found.updateTime;var U=Vi(x,M.found.name),X=pn(M.found.updateTime),j=new Ss({mapValue:{fields:M.found.fields}});return new lt(U,X,j,{})}(T,A):"missing"in A?function(x,M){Ee(!!M.missing),Ee(!!M.readTime);var U=Vi(x,M.missing),X=pn(M.readTime);return new rn(U,X)}(T,A):fe()}(c.Qt,b);v.set(E.key.toString(),E)}),m=[],[2,(a.forEach(function(b){var E=v.get(b.toString());Ee(!!E),m.push(E)}),m)]}})})}(this.Sh,e)];case 1:return[2,((n=i.sent()).forEach(function(s){s instanceof rn||s instanceof lt?r.sf(s):fe()}),n)]}})})},t.prototype.set=function(e,n){this.write(n.F_(e,this.jt(e))),this.tf.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.F_(e,this.rf(e)))}catch(r){this.Z_=r}this.tf.add(e.toString())},t.prototype.delete=function(e){this.write(new _h(e,this.jt(e))),this.tf.add(e.toString())},t.prototype.commit=function(){return R(this,void 0,void 0,function(){var e,n=this;return N(this,function(r){switch(r.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return e=this.Y_,this.mutations.forEach(function(i){e.delete(i.key.toString())}),e.forEach(function(i,s){var a=ve._t(s);n.mutations.push(new lE(a,n.jt(a)))}),[4,function(i,s){return R(this,void 0,void 0,function(){var a,c,l;return N(this,function(h){switch(h.label){case 0:return a=te(i),c=Bf(a.Qt)+"/documents",l={writes:s.map(function(d){return tv(a.Qt,d)})},[4,a.pu("Commit",c,l)];case 1:return h.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return r.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(e){var n;if(e instanceof lt)n=e.version;else{if(!(e instanceof rn))throw fe();n=Fe.min()}var r=this.Y_.get(e.key.toString());if(r){if(!n.isEqual(r))throw new G(D.ABORTED,"Document version changed between two reads.")}else this.Y_.set(e.key.toString(),n)},t.prototype.jt=function(e){var n=this.Y_.get(e.toString());return!this.tf.has(e.toString())&&n?xn.updateTime(n):xn.Kt()},t.prototype.rf=function(e){var n=this.Y_.get(e.toString());if(!this.tf.has(e.toString())&&n){if(n.isEqual(Fe.min()))throw new G(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xn.updateTime(n)}return xn.exists(!0)},t.prototype.write=function(e){this.nf(),this.mutations.push(e)},t.prototype.nf=function(){},t}(),LQ=function(){function t(e,n,r,i){this._s=e,this.Sh=n,this.updateFunction=r,this.Es=i,this.cf=5,this.Gu=new bE(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var e=this;this.Gu.Lu(function(){return R(e,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){return n=new MQ(this.Sh),(r=this.uf(n))&&r.then(function(a){i._s.Ps(function(){return n.commit().then(function(){i.Es.resolve(a)}).catch(function(c){i.hf(c)})})}).catch(function(a){i.hf(a)}),[2]})})})},t.prototype.uf=function(e){try{var n=this.updateFunction(e);return!qa(n)&&n.catch&&n.then?n:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.Es.reject(r),null}},t.prototype.hf=function(e){var n=this;this.cf>0&&this.lf(e)?(this.cf-=1,this._s.Ps(function(){return n.af(),Promise.resolve()})):this.Es.reject(e)},t.prototype.lf=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!dD(n)}return!1},t}(),FQ=function(){function t(e,n,r){var i=this;this.credentials=e,this._s=n,this.yu=r,this.user=Ir.UNAUTHENTICATED,this.clientId=$P.u(),this._f=function(){},this.C=new er,this.credentials.v(function(s){J("FirestoreClient","Received user=",s.uid),i.user=s,i._f(s),i.C.resolve()})}return t.prototype.getConfiguration=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.C.promise];case 1:return[2,(e.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(e){var n=this;this._f=e,this.C.promise.then(function(){return n._f(n.user)})},t.prototype.df=function(){if(this._s.wf)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this._s.Ef();var n=new er;return this._s.Tf(function(){return R(e,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.S(),n.resolve(),[3,6];case 5:return r=s.sent(),i=jc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e){return R(this,void 0,void 0,function(){var n,r,i=this;return N(this,function(s){switch(s.label){case 0:return t._s.Af(),J("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Jl,t.ff(function(a){r.isEqual(a)||(r=a,t._s.po(function(){return R(i,void 0,void 0,function(){return N(this,function(c){switch(c.label){case 0:return[4,qD(e.bh,a)];case 1:return c.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function TM(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,qE(t)];case 1:return n=i.sent(),J("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(s){return t._s.po(function(){return function(a,c){return R(this,void 0,void 0,function(){var l,h;return N(this,function(d){switch(d.label){case 0:return(l=te(a))._s.Af(),J("RemoteStore","RemoteStore received new credentials"),h=ks(l),l.Nh.add(3),[4,Bc(l)];case 1:return d.sent(),h&&l.Oh.set("Unknown"),[4,l.Dh.n_(c)];case 2:return d.sent(),l.Nh.delete(3),[4,bh(l)];case 3:return d.sent(),[2]}})})}(e.yl,s)})}),t.If=e,[2]}})})}function qE(t){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(J("FirestoreClient","Using default OfflineComponentProvider"),[4,EM(t,new uM)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function lg(t){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(J("FirestoreClient","Using default OnlineComponentProvider"),[4,TM(t,new s0)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function qN(t){return qE(t).then(function(e){return e.persistence})}function WE(t){return qE(t).then(function(e){return e.bh})}function WN(t){return lg(t).then(function(e){return e.yl})}function HE(t){return lg(t).then(function(e){return e._a})}function Ic(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,lg(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=aQ.bind(null,e._a),n.Hh=uQ.bind(null,e._a),n)]}})})}function HN(t,e,n){var r=this;n===void 0&&(n={});var i=new er;return t._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new sg({next:function(b){l.Ps(function(){return CE(c,y)});var E=b.docs.has(h);!E&&b.fromCache?v.reject(new G(D.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&b.fromCache&&d&&d.source==="server"?v.reject(new G(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new NE(Uc(h.path),m,{includeMetadataChanges:!0,nl:!0});return SE(c,y)},[4,Ic(t)];case 1:return[2,s.apply(void 0,[a.sent(),t._s,e,n,i])]}})})}),i.promise}function GN(t,e,n){var r=this;n===void 0&&(n={});var i=new er;return t._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=function(c,l,h,d,v){var m=new sg({next:function(b){l.Ps(function(){return CE(c,y)}),b.fromCache&&d.source==="server"?v.reject(new G(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(b)},error:function(b){return v.reject(b)}}),y=new NE(h,m,{includeMetadataChanges:!0,nl:!0});return SE(c,y)},[4,Ic(t)];case 1:return[2,s.apply(void 0,[a.sent(),t._s,e,n,i])]}})})}),i.promise}var UQ=function(){function t(){var e=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new bE(this,"async_queue_retry"),this.vf=function(){var r=fp();r&&J("AsyncQueue","Visibility state changed to "+r.visibilityState),e.Gu.qu()};var n=fp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(e){this.enqueue(e)},t.prototype.Tf=function(e){this.Sf(),this.Df(e)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var e=fp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(e){return this.Sf(),this.yf?new Promise(function(n){}):this.Df(e)},t.prototype.po=function(e){var n=this;this.Ps(function(){return n.Pf.push(e),n.Cf()})},t.prototype.Cf=function(){return R(this,void 0,void 0,function(){var e,n=this;return N(this,function(r){switch(r.label){case 0:if(this.Pf.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return r.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!Wa(e=r.sent()))throw e;return J("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return n.Cf()}),r.label=5;case 5:return[2]}})})},t.prototype.Df=function(e){var n=this,r=this.Rf.then(function(){return n.pf=!0,e().catch(function(i){throw n.Vf=i,n.pf=!1,$t("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.pf=!1,i})});return this.Rf=r,r},t.prototype.Tr=function(e,n,r){var i=this;this.Sf(),this.bf.indexOf(e)>-1&&(n=0);var s=JK.Ts(this,e,n,r,function(a){return i.xf(a)});return this.gf.push(s),s},t.prototype.Sf=function(){this.Vf&&fe()},t.prototype.Af=function(){},t.prototype.Nf=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,e=this.Rf];case 1:n.sent(),n.label=2;case 2:if(e!==this.Rf)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.$f=function(e){for(var n=0,r=this.gf;n<r.length;n++)if(r[n].fs===e)return!0;return!1},t.prototype.Ff=function(e){var n=this;return this.Nf().then(function(){n.gf.sort(function(a,c){return a.ds-c.ds});for(var r=0,i=n.gf;r<i.length;r++){var s=i[r];if(s.Rs(),e!=="all"&&s.fs===e)break}return n.Nf()})},t.prototype.Of=function(e){this.bf.push(e)},t.prototype.xf=function(e){var n=this.gf.indexOf(e);this.gf.splice(n,1)},t}();function Sc(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var r=e,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(t)}var jQ=function(){function t(){this.kf={},this.Mf=new er,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(e,n,r){this.kf={next:e,error:n,complete:r}},t.prototype.catch=function(e){return this.Mf.promise.catch(e)},t.prototype.then=function(e,n){return this.Mf.promise.then(e,n)},t.prototype.ql=function(e){this.Ul(e),this.kf.complete&&this.kf.complete(),this.Mf.resolve(e)},t.prototype.Kl=function(e){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(e),this.Mf.reject(e)},t.prototype.Ul=function(e){this.Lf=e,this.kf.next&&this.kf.next(e)},t}(),VQ=-1,Ut=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).Bf=new UQ,i.w_="name"in n?n.name:"[DEFAULT]",i}return ee(e,t),e.prototype.b_=function(){return this.qf||IM(this),this.qf.terminate()},e}(Wf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t){return t.qf||IM(t),t.qf.df(),t.qf}function IM(t){var e=t.p_(),n=function(r,i,s){return new fK(r,i,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new FQ(t.m_,t.Bf,n)}function YN(t,e,n){var r=this,i=new er;return t._s.enqueue(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,EM(t,n)];case 1:return a.sent(),[4,TM(t,e)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(c){return c.name==="FirebaseError"?c.code===D.FAILED_PRECONDITION||c.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function $N(t){if(t.R_||t.P_)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GE=function(){function t(){}return t.prototype.Uf=function(e,n){switch(n===void 0&&(n="none"),Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.Qf(e.timestampValue);case 4:return this.Kf(e,n);case 5:return e.stringValue;case 6:return this.Wf(fc(e.bytesValue));case 7:return this.jf(e.referenceValue);case 8:return this.Gf(e.geoPointValue);case 9:return this.zf(e.arrayValue,n);case 10:return this.Hf(e.mapValue,n);default:throw fe()}},t.prototype.Hf=function(e,n){var r=this,i={};return hh(e.fields||{},function(s,a){i[s]=r.Uf(a,n)}),i},t.prototype.Gf=function(e){return new ug(Gt(e.latitude),Gt(e.longitude))},t.prototype.zf=function(e,n){var r=this;return(e.values||[]).map(function(i){return r.Uf(i,n)})},t.prototype.Kf=function(e,n){switch(n){case"previous":var r=XP(e);return r==null?null:this.Uf(r,n);case"estimate":return this.Qf(Mf(e));default:return null}},t.prototype.Qf=function(e){var n=Ts(e);return new fr(n.seconds,n.nanos)},t.prototype.Jf=function(e,n){var r=Je.ot(e);Ee(ND(r));var i=new Yp(r.get(1),r.get(3)),s=new ve(r.Y(5));return i.isEqual(n)||$t("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},t}(),Hf=function(){function t(e,n,r,i,s){this.Yf=e,this.Xf=n,this.S_=r,this.Zf=i,this.v_=s}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Nt(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this.Zf!==null},t.prototype.data=function(){if(this.Zf){if(this.v_){var e=new BQ(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(e)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(e){if(this.Zf){var n=this.Zf.data().field(av("DocumentSnapshot.get",e));if(n!==null)return this.Xf.Uf(n)}},t}(),BQ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Hf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){return typeof e=="string"?BE(t,e):e instanceof We?e.d_.f_:e.f_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(t){if(Jp(t)&&t.xt.length===0)throw new G(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Eh=function(){};function Qo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.td(t)}return t}var qQ=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).ed=n,s.nd=r,s.sd=i,s.type="where",s}return ee(e,t),e.prototype.td=function(n){var r=Ya(n.firestore),i=function(s,a,c,l,h,d,v){var m;if(h.ut()){if(d==="array-contains"||d==="array-contains-any")throw new G(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){JN(v,d);for(var y=[],b=0,E=v;b<E.length;b++){var T=E[b];y.push(XN(l,s,T))}m={arrayValue:{values:y}}}else m=XN(l,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||JN(v,d),m=yM(c,"where",v,d==="in"||d==="not-in");var A=Nr.create(h,d,m);return function(x,M){if(M.Ct()){var U=aE(x);if(U!==null&&!U.isEqual(M.field))throw new G(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+U.toString()+"' and '"+M.field.toString()+"'");var X=sE(x);X!==null&&AM(x,M.field,X)}var j=function(Te,nt){for(var de=0,gn=Te.filters;de<gn.length;de++){var O=gn[de];if(nt.indexOf(O.op)>=0)return O.op}return null}(x,function(Te){switch(Te){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(M.op));if(j!==null)throw j===M.op?new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+M.op.toString()+"' filter."):new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+M.op.toString()+"' filters with '"+j.toString()+"' filters.")}(s,A),A}(n.C_,0,r,n.firestore.I_,this.ed,this.nd,this.sd);return new hr(n.firestore,n.v_,function(s,a){var c=s.filters.concat([a]);return new Do(s.path,s.collectionGroup,s.xt.slice(),c,s.limit,s.limitType,s.startAt,s.endAt)}(n.C_,i))},e}(Eh),WQ=function(t){function e(n,r){var i=this;return(i=t.call(this)||this).ed=n,i.rd=r,i.type="orderBy",i}return ee(e,t),e.prototype.td=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var c=new Qu(s,a);return function(l,h){if(sE(l)===null){var d=aE(l);d!==null&&AM(l,d,h.field)}}(i,c),c}(n.C_,this.ed,this.rd);return new hr(n.firestore,n.v_,function(i,s){var a=i.xt.concat([s]);return new Do(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n.C_,r))},e}(Eh),zN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.od=r,s.ad=i,s}return ee(e,t),e.prototype.td=function(n){return new hr(n.firestore,n.v_,nD(n.C_,this.od,this.ad))},e}(Eh),KN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.ud=r,s.hd=i,s}return ee(e,t),e.prototype.td=function(n){var r=CM(n,this.type,this.ud,this.hd);return new hr(n.firestore,n.v_,function(i,s){return new Do(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n.C_,r))},e}(Eh),QN=function(t){function e(n,r,i){var s=this;return(s=t.call(this)||this).type=n,s.ud=r,s.hd=i,s}return ee(e,t),e.prototype.td=function(n){var r=CM(n,this.type,this.ud,this.hd);return new hr(n.firestore,n.v_,function(i,s){return new Do(i.path,i.collectionGroup,i.xt.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n.C_,r))},e}(Eh);function CM(t,e,n,r){if(n[0]instanceof We&&(n[0]=n[0].d_),n[0]instanceof Hf)return function(s,a,c,l,h){if(!l)throw new G(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+c+"().");for(var d=[],v=0,m=dc(s);v<m.length;v++){var y=m[v];if(y.field.ut())d.push(Kp(a,l.key));else{var b=l.field(y.field);if(eE(b))throw new G(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var E=y.field.rt();throw new G(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(b)}}return new Ff(d,h)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=Ya(t.firestore);return function(s,a,c,l,h,d){var v=s.xt;if(h.length>v.length)throw new G(D.INVALID_ARGUMENT,"Too many arguments provided to "+l+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var b=h[y];if(v[y].field.ut()){if(typeof b!="string")throw new G(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+l+"(), but got a "+typeof b);if(!uE(s)&&b.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+l+"() must be a plain document ID, but '"+b+"' contains a slash.");var E=s.path.child(Je.ot(b));if(!ve.wt(E))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+l+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var T=new ve(E);m.push(Kp(a,T))}else{var A=yM(c,l,b);m.push(A)}}return new Ff(m,d)}(t.C_,t.firestore.I_,i,e,n,r)}function XN(t,e,n){if(n instanceof We&&(n=n.d_),typeof n=="string"){if(n==="")throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!uE(e)&&n.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Je.ot(n));if(!ve.wt(r))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Kp(t,new ve(r))}if(n instanceof Nt)return Kp(t,n.S_);throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ag(n)+".")}function JN(t,e){if(!Array.isArray(t)||t.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new G(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function AM(t,e,n){if(!n.isEqual(e))throw new G(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var HQ=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new Oa(n)},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Nt(this.firestore,null,r)},e}(GE),da=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Eo=function(t){function e(n,r,i,s,a,c){var l=this;return(l=t.call(this,n,r,i,s,c)||this).Yf=n,l.ld=n,l.metadata=a,l}return ee(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this.Zf){if(this.v_){var r=new sf(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(r,n)}return this.Xf.Uf(this.Zf.bt(),n.serverTimestamps)}},e.prototype.get=function(n,r){if(r===void 0&&(r={}),this.Zf){var i=this.Zf.data().field(av("DocumentSnapshot.get",n));if(i!==null)return this.Xf.Uf(i,r.serverTimestamps)}},e}(Hf),sf=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Eo),os=function(){function t(e,n,r,i){this.Yf=e,this.Xf=n,this._d=i,this.metadata=new da(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var r=this;this._d.docs.forEach(function(i){e.call(n,new sf(r.Yf,r.Xf,i.key,i,new da(r._d.De.has(i.key),r._d.fromCache),r.query.v_))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._d.xe)throw new G(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===n||(this.fd=function(r,i){if(r._d.Se.et()){var s=0;return r._d.docChanges.map(function(c){var l=new sf(r.Yf,r.Xf,c.doc.key,c.doc,new da(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}var a=r._d.Se;return r._d.docChanges.filter(function(c){return i||c.type!==3}).map(function(c){var l=new sf(r.Yf,r.Xf,c.doc.key,c.doc,new da(r._d.De.has(c.doc.key),r._d.fromCache),r.query.v_),h=-1,d=-1;return c.type!==0&&(h=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(d=(a=a.add(c.doc)).indexOf(c.doc.key)),{type:GQ(c.type),doc:l,oldIndex:h,newIndex:d}})}(this,n),this.dd=n),this.fd},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}function NM(t,e){return t instanceof Eo&&e instanceof Eo?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(t.Zf===null?e.Zf===null:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof os&&e instanceof os&&t.Yf===e.Yf&&dM(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ea=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new Oa(n)},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return new Nt(this.firestore,null,r)},e}(GE);function ZN(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Xe(t,Nt);var s=Xe(t.firestore,Ut),a=Ya(s);return e instanceof We&&(e=e.d_),Gf(s,[(typeof e=="string"||e instanceof bo?jE(a,"updateDoc",t.S_,e,n,r):UE(a,"updateDoc",t.S_,e)).F_(t.S_,xn.exists(!0))])}function RM(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof We&&(t=t.d_);var a={includeMetadataChanges:!1},c=0;typeof i[c]!="object"||Sc(i[c])||(a=i[c],c++);var l,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(Sc(i[c])){var m=i[c];i[c]=(e=m.next)===null||e===void 0?void 0:e.bind(m),i[c+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[c+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(t instanceof Nt)h=Xe(t.firestore,Ut),d=Uc(t.S_.path),l={next:function(E){i[c]&&i[c](u0(h,t,E))},error:i[c+1],complete:i[c+2]};else{var y=Xe(t,hr);h=Xe(y.firestore,Ut),d=y.C_;var b=new Ea(h);l={next:function(E){i[c]&&i[c](new os(h,b,y,E))},error:i[c+1],complete:i[c+2]},SM(t.C_)}return function(E,T,A,x){var M=this,U=new sg(x),X=new NE(T,U,A);return E._s.Ps(function(){return R(M,void 0,void 0,function(){var j;return N(this,function(Te){switch(Te.label){case 0:return j=SE,[4,Ic(E)];case 1:return[2,j.apply(void 0,[Te.sent(),X])]}})})}),function(){U.i_(),E._s.Ps(function(){return R(M,void 0,void 0,function(){var j;return N(this,function(Te){switch(Te.label){case 0:return j=CE,[4,Ic(E)];case 1:return[2,j.apply(void 0,[Te.sent(),X])]}})})})}}(dn(h),d,v,l)}function Gf(t,e){return function(n,r){var i=this,s=new er;return n._s.Ps(function(){return R(i,void 0,void 0,function(){var a;return N(this,function(c){switch(c.label){case 0:return a=cQ,[4,HE(n)];case 1:return[2,a.apply(void 0,[c.sent(),r,s])]}})})}),s.promise}(dn(t),e)}function u0(t,e,n){var r=n.docs.get(e.S_),i=new Ea(t);return new Eo(t,i,e.S_,r,new da(n.hasPendingWrites,n.fromCache),e.v_)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YQ=function(){function t(e,n){this.Yf=e,this.wd=n,this.Ed=[],this.Td=!1,this.Id=Ya(e)}return t.prototype.set=function(e,n,r){this.md();var i=ss(e,this.Yf),s=fg(i.v_,n,r),a=cg(this.Id,"WriteBatch.set",i.S_,s,i.v_!==null,r);return this.Ed.push(a.F_(i.S_,xn.Kt())),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this.md();var a,c=ss(e,this.Yf);return n instanceof We&&(n=n.d_),a=typeof n=="string"||n instanceof bo?jE(this.Id,"WriteBatch.update",c.S_,n,r,i):UE(this.Id,"WriteBatch.update",c.S_,n),this.Ed.push(a.F_(c.S_,xn.exists(!0))),this},t.prototype.delete=function(e){this.md();var n=ss(e,this.Yf);return this.Ed=this.Ed.concat(new _h(n.S_,xn.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new G(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function ss(t,e){if(t instanceof We&&(t=t.d_),t.firestore!==e)throw new G(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $Q=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).Yf=n,i}return ee(e,t),e.prototype.get=function(n){var r=this,i=ss(n,this.Yf),s=new Ea(this.Yf);return t.prototype.get.call(this,n).then(function(a){return new Eo(r.Yf,s,i.S_,a.Zf,new da(!1,!1),i.v_)})},e}(function(){function t(e,n){this.Yf=e,this.Ad=n,this.Id=Ya(e)}return t.prototype.get=function(e){var n=this,r=ss(e,this.Yf),i=new HQ(this.Yf);return this.Ad.ef([r.S_]).then(function(s){if(!s||s.length!==1)return fe();var a=s[0];if(a instanceof rn)return new Hf(n.Yf,i,r.S_,null,r.v_);if(a instanceof lt)return new Hf(n.Yf,i,a.key,a,r.v_);throw fe()})},t.prototype.set=function(e,n,r){var i=ss(e,this.Yf),s=fg(i.v_,n,r),a=cg(this.Id,"Transaction.set",i.S_,s,i.v_!==null,r);return this.Ad.set(i.S_,a),this},t.prototype.update=function(e,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,c=ss(e,this.Yf);return n instanceof We&&(n=n.d_),a=typeof n=="string"||n instanceof bo?jE(this.Id,"Transaction.update",c.S_,n,r,i):UE(this.Id,"Transaction.update",c.S_,n),this.Ad.update(c.S_,a),this},t.prototype.delete=function(e){var n=ss(e,this.Yf);return this.Ad.delete(n.S_),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof Uint8Array>"u")throw new G(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tR(){if(typeof atob>"u")throw new G(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var OM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.fromBase64String=function(n){return tR(),new e(Oa.fromBase64String(n))},e.fromUint8Array=function(n){return eR(),new e(Oa.fromUint8Array(n))},e.prototype.toBase64=function(){return tR(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return eR(),this.d_.toUint8Array()},e.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(We),zQ=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(r,i){$N(r=Xe(r,Ut));var s=dn(r),a=r.p_(),c=new s0;return YN(s,c,new cM(c,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(e.d_,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){$N(n=Xe(n,Ut));var r=dn(n),i=n.p_(),s=new s0;return YN(r,s,new SQ(s,i.cacheSizeBytes))}(e.d_)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var r=this;if(n.R_&&!n.P_)throw new G(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new er;return n.Bf.Tf(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return gc.Kn()?(l=c+"main",[4,gc.delete(l)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(_E(n.I_,n.w_))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(e.d_)},t}(),YE=function(t){function e(n,r,i){var s=this;return(s=t.call(this,r)||this).Rd=i,s.INTERNAL={delete:function(){return s.terminate()}},n instanceof Yp||(s.Pd=n),s}return ee(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(n){n.merge&&delete(n=Object.assign(Object.assign({},this.d_.V_()),n)).merge,this.d_.g_(n)},e.prototype.useEmulator=function(n,r){(function(i,s,a){var c=(i=Xe(i,Wf)).V_();c.host!=="firestore.googleapis.com"&&c.host!==s&&$p("Host has been set in both settings() and useEmulator(), emulator host will be used"),i.g_(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1}))})(this.d_,n,r)},e.prototype.enableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return R(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,qN(n)];case 1:return i=a.sent(),[4,WN(n)];case 2:return s=a.sent(),[2,(i.yo(!0),function(c){var l=te(c);return l.Nh.delete(0),bh(l)}(s))]}})})})}(dn(Xe(this.d_,Ut)))},e.prototype.disableNetwork=function(){return function(n){var r=this;return n._s.enqueue(function(){return R(r,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return[4,qN(n)];case 1:return i=a.sent(),[4,WN(n)];case 2:return s=a.sent(),[2,(i.yo(!1),function(c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return(l=te(c)).Nh.add(0),[4,Bc(l)];case 1:return h.sent(),l.Oh.set("Offline"),[2]}})})}(s))]}})})})}(dn(Xe(this.d_,Ut)))},e.prototype.enablePersistence=function(n){var r=!1,i=!1;return n&&lM("synchronizeTabs",r=!!n.synchronizeTabs,"experimentalForceOwningTab",i=!!n.experimentalForceOwningTab),r?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(n){var r=this,i=new er;return n._s.Ps(function(){return R(r,void 0,void 0,function(){var s;return N(this,function(a){switch(a.label){case 0:return s=dQ,[4,HE(n)];case 1:return[2,s.apply(void 0,[a.sent(),i])]}})})}),i.promise}(dn(Xe(this.d_,Ut)))},e.prototype.onSnapshotsInSync=function(n){return function(r,i){return function(s,a){var c=this,l=new sg(a);return s._s.Ps(function(){return R(c,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return h=function(v,m){te(v).Wh.add(m),m.next()},[4,Ic(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})}),function(){l.i_(),s._s.Ps(function(){return R(c,void 0,void 0,function(){var h;return N(this,function(d){switch(d.label){case 0:return h=function(v,m){te(v).Wh.delete(m)},[4,Ic(s)];case 1:return[2,h.apply(void 0,[d.sent(),l])]}})})})}}(dn(r=Xe(r,Ut)),Sc(i)?i:{next:i})}(this.d_,n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){try{return new uv(this,fM(this.d_,n))}catch(r){throw zn(r,"collection()","Firestore.collection()")}},e.prototype.doc=function(n){try{return new Ta(this,hp(this.d_,n))}catch(r){throw zn(r,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(n){try{return new Th(this,function(r,i){if(r=Xe(r,Wf),ME("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new hr(r,null,function(s){return new Do(Je.ct(),s)}(i))}(this.d_,n))}catch(r){throw zn(r,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(n){var r=this;return function(i,s){return function(a,c){var l=this,h=new er;return a._s.Ps(function(){return R(l,void 0,void 0,function(){var d;return N(this,function(v){switch(v.label){case 0:return[4,function(m){return lg(m).then(function(y){return y.Sh})}(a)];case 1:return d=v.sent(),new LQ(a._s,d,c,h).run(),[2]}})})}),h.promise}(dn(i),function(a){return s(new $Q(i,a))})}(this.d_,function(i){return n(new kM(r,i))})},e.prototype.batch=function(){var n=this;return dn(this.d_),new xM(new YQ(this.d_,function(r){return Gf(n.d_,r)}))},e.prototype.loadBundle=function(n){throw new G(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(n){throw new G(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(We),hg=function(t){function e(n){var r=this;return(r=t.call(this)||this).firestore=n,r}return ee(e,t),e.prototype.Wf=function(n){return new OM(new Oa(n))},e.prototype.jf=function(n){var r=this.Jf(n,this.firestore.I_);return Ta.yd(r,this.firestore,null)},e}(GE);function KQ(t){var e;e=t,di.setLogLevel(e)}var kM=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i.Xf=new hg(n),i}return ee(e,t),e.prototype.get=function(n){var r=this,i=pa(n);return this.d_.get(i).then(function(s){return new Yf(r.Yf,new Eo(r.Yf.d_,r.Xf,s.S_,s.Zf,s.metadata,i.v_))})},e.prototype.set=function(n,r,i){var s=pa(n);return i?(LE("Transaction.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},e.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=pa(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Vt([l,r,i],a)),this},e.prototype.delete=function(n){var r=pa(n);return this.d_.delete(r),this},e}(We),xM=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.set=function(n,r,i){var s=pa(n);return i?(LE("WriteBatch.set",i),this.d_.set(s,r,i)):this.d_.set(s,r),this},e.prototype.update=function(n,r,i){for(var s,a=[],c=3;c<arguments.length;c++)a[c-3]=arguments[c];var l=pa(n);return arguments.length===2?this.d_.update(l,r):(s=this.d_).update.apply(s,Vt([l,r,i],a)),this},e.prototype.delete=function(n){var r=pa(n);return this.d_.delete(r),this},e.prototype.commit=function(){return this.d_.commit()},e}(We),dg=function(t){function e(n,r,i){var s=this;return(s=t.call(this,i)||this).Yf=n,s.Xf=r,s}return ee(e,t),e.prototype.fromFirestore=function(n,r){var i=new sf(this.Yf.d_,this.Xf,n.S_,n.Zf,n.metadata,null);return this.d_.fromFirestore(new $f(this.Yf,i),r??{})},e.prototype.toFirestore=function(n,r){return r?this.d_.toFirestore(n,r):this.d_.toFirestore(n)},e.gd=function(n,r){var i=e.Vd,s=i.get(n);s||(s=new WeakMap,i.set(n,s));var a=s.get(r);return a||(a=new e(n,new hg(n),r),s.set(r,a)),a},e}(We);dg.Vd=new WeakMap;var Ta=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).firestore=n,i.Xf=new hg(n),i}return ee(e,t),e.pd=function(n,r,i){if(n.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+n.rt()+" has "+n.length);return new e(r,new Nt(r.d_,i,new ve(n)))},e.yd=function(n,r,i){return new e(r,new Nt(r.d_,i,n))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new uv(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(n){try{return new uv(this.firestore,fM(this.d_,n))}catch(r){throw zn(r,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(n){return n instanceof We&&(n=n.d_),n instanceof Nt&&hM(this.d_,n)},e.prototype.set=function(n,r){r=LE("DocumentReference.set",r);try{return function(i,s,a){i=Xe(i,Nt);var c=Xe(i.firestore,Ut),l=fg(i.v_,s,a);return Gf(c,[cg(Ya(c),"setDoc",i.S_,l,i.v_!==null,a).F_(i.S_,xn.Kt())])}(this.d_,n,r)}catch(i){throw zn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(n,r){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];try{return arguments.length===1?ZN(this.d_,n):ZN.apply(void 0,Vt([this.d_,n,r],i))}catch(a){throw zn(a,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Gf(Xe((n=this.d_).firestore,Ut),[new _h(n.S_,xn.Kt())]);var n},e.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=PM(r),a=DM(r,function(c){return new Yf(n.firestore,new Eo(n.firestore.d_,n.Xf,c.S_,c.Zf,c.metadata,n.d_.v_))});return RM(this.d_,s,a)},e.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Xe(i,Nt);var s=Xe(i.firestore,Ut),a=dn(s),c=new Ea(s);return function(l,h){var d=this,v=new er;return l._s.Ps(function(){return R(d,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(b,E,T){return R(this,void 0,void 0,function(){var A,x;return N(this,function(M){switch(M.label){case 0:return M.trys.push([0,2,,3]),[4,function(U,X){var j=te(U);return j.persistence.runTransaction("read document","readonly",function(Te){return j.Tc.Ho(Te,X)})}(b,E)];case 1:return(x=M.sent())instanceof lt?T.resolve(x):x instanceof rn?T.resolve(null):T.reject(new G(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return A=M.sent(),x=jc(A,"Failed to get document '"+E+" from cache"),T.reject(x),[3,3];case 3:return[2]}})})},[4,WE(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.S_).then(function(l){return new Eo(s,c,i.S_,l,new da(l instanceof lt&&l.Vt,!0),i.v_)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Xe(i,Nt);var s=Xe(i.firestore,Ut);return HN(dn(s),i.S_,{source:"server"}).then(function(a){return u0(s,i,a)})}(this.d_):function(i){i=Xe(i,Nt);var s=Xe(i.firestore,Ut);return HN(dn(s),i.S_).then(function(a){return u0(s,i,a)})}(this.d_)).then(function(i){return new Yf(r.firestore,new Eo(r.firestore.d_,r.Xf,i.S_,i.Zf,i.metadata,r.d_.v_))})},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(dg.gd(this.firestore,n)))},e}(We);function zn(t,e,n){return t.message=t.message.replace(e,n),t}function PM(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(typeof r=="object"&&!Sc(r))return r}return{}}function DM(t,e){var n,r,i;return{next:function(s){i.next&&i.next(e(s))},error:(n=(i=Sc(t[0])?t[0]:Sc(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Yf=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ta(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(n){return this.d_.data(n)},e.prototype.get=function(n,r){return this.d_.get(n,r)},e.prototype.isEqual=function(n){return NM(this.d_,n.d_)},e}(We),$f=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.prototype.data=function(n){return this.d_.data(n)},e}(Yf),Th=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).firestore=n,i.Xf=new hg(n),i}return ee(e,t),e.prototype.where=function(n,r,i){try{return new e(this.firestore,Qo(this.d_,function(s,a,c){var l=a,h=av("where",s);return new qQ(h,l,c)}(n,r,i)))}catch(s){throw zn(s,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(n,r){try{return new e(this.firestore,Qo(this.d_,function(i,s){s===void 0&&(s="asc");var a=s,c=av("orderBy",i);return new WQ(c,a)}(n,r)))}catch(i){throw zn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(n){try{return new e(this.firestore,Qo(this.d_,function(r){return jN("limit",r),new zN("limit",r,"F")}(n)))}catch(r){throw zn(r,"limit()","Query.limit()")}},e.prototype.limitToLast=function(n){try{return new e(this.firestore,Qo(this.d_,function(r){return jN("limitToLast",r),new zN("limitToLast",r,"L")}(n)))}catch(r){throw zn(r,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Qo(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new KN("startAt",i,!0)}).apply(void 0,n)))}catch(i){throw zn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Qo(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new KN("startAfter",i,!1)}).apply(void 0,n)))}catch(i){throw zn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Qo(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new QN("endBefore",i,!0)}).apply(void 0,n)))}catch(i){throw zn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return new e(this.firestore,Qo(this.d_,(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new QN("endAt",i,!1)}).apply(void 0,n)))}catch(i){throw zn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(n){return dM(this.d_,n.d_)},e.prototype.get=function(n){var r=this;return((n==null?void 0:n.source)==="cache"?function(i){i=Xe(i,hr);var s=Xe(i.firestore,Ut),a=dn(s),c=new Ea(s);return function(l,h){var d=this,v=new er;return l._s.Ps(function(){return R(d,void 0,void 0,function(){var m;return N(this,function(y){switch(y.label){case 0:return m=function(b,E,T){return R(this,void 0,void 0,function(){var A,x,M,U,X;return N(this,function(j){switch(j.label){case 0:return j.trys.push([0,2,,3]),[4,iv(b,E,!0)];case 1:return X=j.sent(),A=new iM(E,X.Rc),x=A.fl(X.documents),M=A.wi(x,!1),T.resolve(M.snapshot),[3,3];case 2:return U=j.sent(),X=jc(U,"Failed to execute query '"+E+" against cache"),T.reject(X),[3,3];case 3:return[2]}})})},[4,WE(l)];case 1:return[2,m.apply(void 0,[y.sent(),h,v])]}})})}),v.promise}(a,i.C_).then(function(l){return new os(s,c,i,l)})}(this.d_):(n==null?void 0:n.source)==="server"?function(i){i=Xe(i,hr);var s=Xe(i.firestore,Ut),a=dn(s),c=new Ea(s);return GN(a,i.C_,{source:"server"}).then(function(l){return new os(s,c,i,l)})}(this.d_):function(i){i=Xe(i,hr);var s=Xe(i.firestore,Ut),a=dn(s),c=new Ea(s);return SM(i.C_),GN(a,i.C_).then(function(l){return new os(s,c,i,l)})}(this.d_)).then(function(i){return new c0(r.firestore,new os(r.firestore.d_,r.Xf,r.d_,i._d))})},e.prototype.onSnapshot=function(){for(var n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=PM(r),a=DM(r,function(c){return new c0(n.firestore,new os(n.firestore.d_,n.Xf,n.d_,c._d))});return RM(this.d_,s,a)},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(dg.gd(this.firestore,n)))},e}(We),QQ=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new $f(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(We),c0=function(t){function e(n,r){var i=this;return(i=t.call(this,r)||this).Yf=n,i}return ee(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Th(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var n=this;return this.d_.docs.map(function(r){return new $f(n.Yf,r)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(n){var r=this;return this.d_.docChanges(n).map(function(i){return new QQ(r.Yf,i)})},e.prototype.forEach=function(n,r){var i=this;this.d_.forEach(function(s){n.call(r,new $f(i.Yf,s))})},e.prototype.isEqual=function(n){return NM(this.d_,n.d_)},e}(We),uv=function(t){function e(n,r){var i=this;return(i=t.call(this,n,r)||this).firestore=n,i.d_=r,i}return ee(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this.d_.parent;return n?new Ta(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Ta(this.firestore,n===void 0?hp(this.d_):hp(this.d_,n))}catch(r){throw zn(r,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var r=this;return function(i,s){var a=Xe(i.firestore,Ut),c=hp(i),l=fg(i.v_,s);return Gf(a,[cg(Ya(i.firestore),"addDoc",c.S_,l,i.v_!==null,{}).F_(c.S_,xn.exists(!1))]).then(function(){return c})}(this.d_,n).then(function(i){return new Ta(r.firestore,i)})},e.prototype.isEqual=function(n){return hM(this.d_,n.d_)},e.prototype.withConverter=function(n){return new e(this.firestore,this.d_.withConverter(dg.gd(this.firestore,n)))},e}(Th);function pa(t){return t instanceof We&&(t=t.d_),Xe(t,Nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XQ=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.call(this,new(bo.bind.apply(bo,Vt([void 0],n))))||this}return ee(e,t),e.documentId=function(){return new e(yi.ht().rt())},e.prototype.isEqual=function(n){return n instanceof We&&(n=n.d_),n instanceof bo&&this.d_.f_.isEqual(n.f_)},e}(We),JQ=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return ee(e,t),e.serverTimestamp=function(){var n=new OQ("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new e(n)},e.delete=function(){var n=new FE("deleteField");return n._methodName="FieldValue.delete",new e(n)},e.arrayUnion=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new kQ("arrayUnion",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return new xQ("arrayRemove",s)}).apply(void 0,n);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(n){var r=function(i){return new PQ("increment",i)}(n);return r._methodName="FieldValue.increment",new e(r)},e.prototype.isEqual=function(n){return this.d_.isEqual(n.d_)},e}(We);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZQ(t){return function(e,n){var r=dn(e=Xe(e,Ut)),i=new jQ;return function(s,a,c,l){var h=this,d=function(v,m){return function(y,b){return new CQ(y,b)}(function(y,b){if(y instanceof Uint8Array)return LN(y,b);if(y instanceof ArrayBuffer)return LN(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(c,wh(a));s._s.Ps(function(){return R(h,void 0,void 0,function(){var v;return N(this,function(m){switch(m.label){case 0:return v=IQ,[4,HE(s)];case 1:return v.apply(void 0,[m.sent(),d,l]),[2]}})})})}(r,e.I_,n,i),i}(this.d_,t)}function eX(t){var e,n,r=this;return(e=this.d_,n=t,function(i,s){var a=this;return i._s.enqueue(function(){return R(a,void 0,void 0,function(){var c;return N(this,function(l){switch(l.label){case 0:return c=function(h,d){var v=te(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.wo.Ms(m,d)})},[4,WE(i)];case 1:return[2,c.apply(void 0,[l.sent(),s])]}})})})}(dn(e=Xe(e,Ut)),n).then(function(i){return i?new hr(e,null,i.query):null})).then(function(i){return i?new Th(r,i):null})}var tX={Firestore:YE,GeoPoint:ug,Timestamp:fr,Blob:OM,Transaction:kM,WriteBatch:xM,DocumentReference:Ta,DocumentSnapshot:Yf,Query:Th,QueryDocumentSnapshot:$f,QuerySnapshot:c0,CollectionReference:uv,FieldPath:XQ,FieldValue:JQ,setLogLevel:KQ,CACHE_SIZE_UNLIMITED:VQ};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nX(t){(function(e,n){e.INTERNAL.registerComponent(new vr("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},tX)))})(t,function(e,n){return new YE(e,new Ut(e,n),new zQ)}),t.registerVersion("@firebase/firestore","2.1.6")}nX(le);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(t){t.prototype.loadBundle=ZQ,t.prototype.namedQuery=eX}rX(YE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nR={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xu=function(t){ee(e,t);function e(n,r,i){var s=t.call(this,r)||this;return Object.setPrototypeOf(s,e.prototype),s.code=n,s.details=i,s}return e}(Error);function iX(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function oX(t,e,n){var r=iX(t),i=r,s=void 0;try{var a=e&&e.error;if(a){var c=a.status;if(typeof c=="string"){if(!nR[c])return new Xu("internal","internal");r=nR[c],i=c}var l=a.message;typeof l=="string"&&(i=l),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Xu(r,i,s)}var sX=function(){function t(e,n){var r=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return t.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return e=n.sent(),e?[2,e.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return R(this,void 0,void 0,function(){return N(this,function(e){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return e=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:e,instanceIdToken:n}]}})})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aX="type.googleapis.com/google.protobuf.Int64Value",uX="type.googleapis.com/google.protobuf.UInt64Value";function rR(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var cX=function(){function t(){}return t.prototype.encode=function(e){var n=this;if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(Array.isArray(e))return e.map(function(r){return n.encode(r)});if(typeof e=="function"||typeof e=="object")return rR(e,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+e)},t.prototype.decode=function(e){var n=this;if(e==null)return e;if(e["@type"])switch(e["@type"]){case aX:case uX:{var r=Number(e.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+e);return r}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(i){return n.decode(i)}):typeof e=="function"||typeof e=="object"?rR(e,function(i){return n.decode(i)}):e},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(t){var e,n=new Promise(function(r,i){e=setTimeout(function(){i(new Xu("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}var iR=function(){function t(e,n,r,i,s){var a=this;i===void 0&&(i="us-central1"),this.app_=e,this.fetchImpl=s,this.serializer=new cX,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new sX(n,r),this.cancelAllRequests=new Promise(function(l){a.deleteService=function(){return l()}});try{var c=new URL(i);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(e){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+e}return this.customDomain!==null?this.customDomain+"/"+e:"https://"+this.region+"-"+n+".cloudfunctions.net/"+e},t.prototype.useEmulator=function(e,n){this.emulatorOrigin="http://"+e+":"+n},t.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},t.prototype.httpsCallable=function(e,n){var r=this;return function(i){return r.call(e,i,n||{})}},t.prototype.postJSON=function(e,n,r){return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:r["Content-Type"]="application/json",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(n),headers:r})];case 2:return i=a.sent(),[3,4];case 3:return a.sent(),[2,{status:0,json:null}];case 4:s=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,i.json()];case 6:return s=a.sent(),[3,8];case 7:return a.sent(),[3,8];case 8:return[2,{status:i.status,json:s}]}})})},t.prototype.call=function(e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v,m,y,b,E;return N(this,function(T){switch(T.label){case 0:return i=this._url(e),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return c=T.sent(),c.authToken&&(a.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=c.instanceIdToken),l=r.timeout||7e4,h=lX(l),d=h.timer,v=h.promise,[4,Promise.race([oR(d,this.postJSON(i,s,a)),v,oR(d,this.cancelAllRequests)])];case 2:if(m=T.sent(),!m)throw new Xu("cancelled","Firebase Functions instance was deleted.");if(y=oX(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Xu("internal","Response is not valid JSON object.");if(b=m.json.data,typeof b>"u"&&(b=m.json.result),typeof b>"u")throw new Xu("internal","Response is missing data field.");return E=this.serializer.decode(b),[2,{data:E}]}})})},t}();function oR(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fX="functions";function hX(t,e){var n={Functions:iR};function r(i,s){var a=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),l=i.getProvider("messaging");return new iR(a,c,l,s,e)}t.INTERNAL.registerComponent(new vr(fX,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var dX="@firebase/functions",pX="0.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hX(le,fetch.bind(self));le.registerVersion(dX,pX);function vX(t){return Array.prototype.slice.call(t)}function MM(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function pg(t,e,n){var r,i=new Promise(function(s,a){r=t[e].apply(t,n),MM(r).then(s,a)});return i.request=r,i}function gX(t,e,n){var r=pg(t,e,n);return r.then(function(i){if(i)return new zf(i,r.request)})}function Hc(t,e,n){n.forEach(function(r){Object.defineProperty(t.prototype,r,{get:function(){return this[e][r]},set:function(i){this[e][r]=i}})})}function $E(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return pg(this[e],i,arguments)})})}function vg(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return this[e][i].apply(this[e],arguments)})})}function LM(t,e,n,r){r.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return gX(this[e],i,arguments)})})}function za(t){this._index=t}Hc(za,"_index",["name","keyPath","multiEntry","unique"]);$E(za,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);LM(za,"_index",IDBIndex,["openCursor","openKeyCursor"]);function zf(t,e){this._cursor=t,this._request=e}Hc(zf,"_cursor",["direction","key","primaryKey","value"]);$E(zf,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(zf.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,n),MM(e._request).then(function(r){if(r)return new zf(r,e._request)})})})});function Qi(t){this._store=t}Qi.prototype.createIndex=function(){return new za(this._store.createIndex.apply(this._store,arguments))};Qi.prototype.index=function(){return new za(this._store.index.apply(this._store,arguments))};Hc(Qi,"_store",["name","keyPath","indexNames","autoIncrement"]);$E(Qi,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);LM(Qi,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);vg(Qi,"_store",IDBObjectStore,["deleteIndex"]);function Ih(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}Ih.prototype.objectStore=function(){return new Qi(this._tx.objectStore.apply(this._tx,arguments))};Hc(Ih,"_tx",["objectStoreNames","mode"]);vg(Ih,"_tx",IDBTransaction,["abort"]);function gg(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new Ih(n)}gg.prototype.createObjectStore=function(){return new Qi(this._db.createObjectStore.apply(this._db,arguments))};Hc(gg,"_db",["name","version","objectStoreNames"]);vg(gg,"_db",IDBDatabase,["deleteObjectStore","close"]);function mg(t){this._db=t}mg.prototype.transaction=function(){return new Ih(this._db.transaction.apply(this._db,arguments))};Hc(mg,"_db",["name","version","objectStoreNames"]);vg(mg,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(t){[Qi,za].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var n=vX(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[za,Qi].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(e,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(e,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function zE(t,e,n){var r=pg(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new gg(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new mg(s)})}function j_(t){return pg(indexedDB,"deleteDatabase",[t])}var mX="@firebase/installations",FM="0.4.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UM=1e4,jM="w:"+FM,VM="FIS_v2",yX="https://firebaseinstallations.googleapis.com/v1",_X=60*60*1e3,wX="installations",bX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo,EX=(Xo={},Xo["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xo["not-registered"]="Firebase Installation is not registered.",Xo["installation-not-found"]="Firebase Installation not found.",Xo["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Xo["app-offline"]="Could not process request. Application offline.",Xo["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Xo),No=new As(wX,bX,EX);function BM(t){return t instanceof Pc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t){var e=t.projectId;return yX+"/projects/"+e+"/installations"}function qM(t){return{token:t.token,requestStatus:2,expiresIn:TX(t.expiresIn),creationTime:Date.now()}}function QE(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,No.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function WM(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function HM(t,e){var n=e.refreshToken,r=WM(t);return r.append("Authorization",IX(n)),r}function XE(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}})})}function TX(t){return Number(t.replace("s","000"))}function IX(t){return VM+" "+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SX(t,e){var n=e.fid;return R(this,void 0,void 0,function(){var r,i,s,a,c,l,h;return N(this,function(d){switch(d.label){case 0:return r=KE(t),i=WM(t),s={fid:n,authVersion:VM,appId:t.appId,sdkVersion:jM},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,XE(function(){return fetch(r,a)})];case 1:return c=d.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=d.sent(),h={fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:qM(l.authToken)},[2,h];case 3:return[4,QE("Create Installation",c)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CX(t){var e=btoa(String.fromCharCode.apply(String,Po(t)));return e.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AX=/^[cdef][\w-]{21}$/,l0="";function NX(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=RX(t);return AX.test(n)?n:l0}catch{return l0}}function RX(t){var e=CX(t);return e.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){return t.appName+"!"+t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cc=new Map;function YM(t,e){var n=Gc(t);$M(n,e),xX(n,e)}function OX(t,e){zM();var n=Gc(t),r=Cc.get(n);r||(r=new Set,Cc.set(n,r)),r.add(e)}function kX(t,e){var n=Gc(t),r=Cc.get(n);r&&(r.delete(e),r.size===0&&Cc.delete(n),KM())}function $M(t,e){var n,r,i=Cc.get(t);if(i)try{for(var s=Ft(i),a=s.next();!a.done;a=s.next()){var c=a.value;c(e)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function xX(t,e){var n=zM();n&&n.postMessage({key:t,fid:e}),KM()}var va=null;function zM(){return!va&&"BroadcastChannel"in self&&(va=new BroadcastChannel("[Firebase] FID Change"),va.onmessage=function(t){$M(t.data.key,t.data.fid)}),va}function KM(){Cc.size===0&&va&&(va.close(),va=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PX="firebase-installations-database",DX=1,Pa="firebase-installations-store",V_=null;function JE(){return V_||(V_=zE(PX,DX,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Pa)}})),V_}function cv(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return n=Gc(t),[4,JE()];case 1:return r=c.sent(),i=r.transaction(Pa,"readwrite"),s=i.objectStore(Pa),[4,s.get(n)];case 2:return a=c.sent(),[4,s.put(e,n)];case 3:return c.sent(),[4,i.complete];case 4:return c.sent(),(!a||a.fid!==e.fid)&&YM(t,e.fid),[2,e]}})})}function ZE(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return e=Gc(t),[4,JE()];case 1:return n=i.sent(),r=n.transaction(Pa,"readwrite"),[4,r.objectStore(Pa).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Sh(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return n=Gc(t),[4,JE()];case 1:return r=l.sent(),i=r.transaction(Pa,"readwrite"),s=i.objectStore(Pa),[4,s.get(n)];case 2:return a=l.sent(),c=e(a),c!==void 0?[3,4]:[4,s.delete(n)];case 3:return l.sent(),[3,6];case 4:return[4,s.put(c,n)];case 5:l.sent(),l.label=6;case 6:return[4,i.complete];case 7:return l.sent(),c&&(!a||a.fid!==c.fid)&&YM(t,c.fid),[2,c]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Sh(t,function(s){var a=MX(s),c=LX(t,a);return e=c.registrationPromise,c.installationEntry})];case 1:return n=i.sent(),n.fid!==l0?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function MX(t){var e=t||{fid:NX(),registrationStatus:0};return QM(e)}function LX(t,e){if(e.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(No.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=FX(t,r);return{installationEntry:r,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UX(t)}:{installationEntry:e}}function FX(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,SX(t,e)];case 1:return n=i.sent(),[2,cv(t,n)];case 2:return r=i.sent(),BM(r)&&r.customData.serverCode===409?[4,ZE(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,cv(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function UX(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return[4,sR(t)];case 1:e=s.sent(),s.label=2;case 2:return e.registrationStatus!==1?[3,5]:[4,GM(100)];case 3:return s.sent(),[4,sR(t)];case 4:return e=s.sent(),[3,2];case 5:return e.registrationStatus!==0?[3,7]:[4,eT(t)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}})})}function sR(t){return Sh(t,function(e){if(!e)throw No.create("installation-not-found");return QM(e)})}function QM(t){return jX(t)?{fid:t.fid,registrationStatus:0}:t}function jX(t){return t.registrationStatus===1&&t.registrationTime+UM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VX(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return R(this,void 0,void 0,function(){var i,s,a,c,l,h,d,v;return N(this,function(m){switch(m.label){case 0:return i=BX(n,e),s=HM(n,e),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),c={installation:{sdkVersion:jM}},l={method:"POST",headers:s,body:JSON.stringify(c)},[4,XE(function(){return fetch(i,l)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=m.sent(),v=qM(d),[2,v];case 3:return[4,QE("Generate Auth Token",h)];case 4:throw m.sent()}})})}function BX(t,e){var n=e.fid;return KE(t)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(t,e){return e===void 0&&(e=!1),R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return[4,Sh(t.appConfig,function(c){if(!XM(c))throw No.create("not-registered");var l=c.authToken;if(!e&&HX(l))return c;if(l.requestStatus===1)return n=qX(t,e),c;if(!navigator.onLine)throw No.create("app-offline");var h=YX(c);return n=WX(t,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function qX(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,aR(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,GM(100)];case 3:return i.sent(),[4,aR(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,tT(t,e)]:[2,r]}})})}function aR(t){return Sh(t,function(e){if(!XM(e))throw No.create("not-registered");var n=e.authToken;return $X(n)?ht(ht({},e),{authToken:{requestStatus:0}}):e})}function WX(t,e){return R(this,void 0,void 0,function(){var n,i,r,i;return N(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,VX(t,e)];case 1:return n=s.sent(),i=ht(ht({},e),{authToken:n}),[4,cv(t.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),BM(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,ZE(t.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=ht(ht({},e),{authToken:{requestStatus:0}}),[4,cv(t.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function XM(t){return t!==void 0&&t.registrationStatus===2}function HX(t){return t.requestStatus===2&&!GX(t)}function GX(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+_X}function YX(t){var e={requestStatus:1,requestTime:Date.now()};return ht(ht({},t),{authToken:e})}function $X(t){return t.requestStatus===1&&t.requestTime+UM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,eT(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):tT(t).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KX(t,e){return e===void 0&&(e=!1),R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,QX(t.appConfig)];case 1:return r.sent(),[4,tT(t,e)];case 2:return n=r.sent(),[2,n.token]}})})}function QX(t){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return[4,eT(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t,e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=JX(t,e),r=HM(t,e),i={method:"DELETE",headers:r},[4,XE(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,QE("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function JX(t,e){var n=e.fid;return KE(t)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return e=t.appConfig,[4,Sh(e,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw No.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw No.create("app-offline");case 3:return[4,XX(e,n)];case 4:return r.sent(),[4,ZE(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t,e){var n=t.appConfig;return OX(n,e),function(){kX(n,e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(t){var e,n;if(!t||!t.options)throw B_("App Configuration");if(!t.name)throw B_("App Name");var r=["projectId","apiKey","appId"];try{for(var i=Ft(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!t.options[a])throw B_(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function B_(t){return No.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t){var e="installations";t.INTERNAL.registerComponent(new vr(e,function(n){var r=n.getProvider("app").getImmediate(),i=t8(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},c={app:r,getId:function(){return zX(a)},getToken:function(l){return KX(a,l)},delete:function(){return ZX(a)},onIdChange:function(l){return e8(a,l)}};return c},"PUBLIC")),t.registerVersion(mX,FM)}n8(le);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,r8=(Xt={},Xt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Xt["only-available-in-window"]="This method is available in a Window context.",Xt["only-available-in-sw"]="This method is available in a service worker context.",Xt["permission-default"]="The notification permission was not granted and dismissed instead.",Xt["permission-blocked"]="The notification permission was not granted and blocked instead.",Xt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Xt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Xt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Xt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Xt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Xt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Xt["token-update-no-token"]="FCM returned no token when updating the user to push.",Xt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Xt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Xt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Xt["invalid-vapid-key"]="The public VAPID key must be a string.",Xt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Xt),ot=new As("messaging","Messaging",r8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i8="/firebase-messaging-sw.js",o8="/firebase-cloud-messaging-push-scope",lv="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",s8="https://fcmregistrations.googleapis.com/v1",JM="FCM_MSG",a8="FirebaseMessaging: ",u8="google.c.a.e",ZM="google.c.a.c_id",c8="google.c.a.ts",l8="google.c.a.c_l",f8=1e3,h8=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Da;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Da||(Da={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,Po(e)));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function d8(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q_="fcm_token_details_db",p8=5,uR="fcm_token_object_Store";function v8(t){return R(this,void 0,void 0,function(){var e,n,r,i,s=this;return N(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map(function(c){return c.name}),!n.includes(q_))return[2,null];a.label=2;case 2:return r=null,[4,zE(q_,p8,function(c){return R(s,void 0,void 0,function(){var l,h,d,d,d,v;return N(this,function(m){switch(m.label){case 0:return c.oldVersion<2?[2]:c.objectStoreNames.contains(uR)?(l=c.transaction.objectStore(uR),[4,l.index("fcmSenderId").get(t)]):[2];case 1:return h=m.sent(),[4,l.clear()];case 2:if(m.sent(),!h)return[2];if(c.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:fo(d.vapidKey)}}}else c.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:fo(d.auth),p256dh:fo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:fo(d.vapidKey)}}):c.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:fo(d.auth),p256dh:fo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:fo(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,j_(q_)];case 4:return a.sent(),[4,j_("fcm_vapid_details_db")];case 5:return a.sent(),[4,j_("undefined")];case 6:return a.sent(),[2,g8(r)?r:null]}})})}function g8(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m8="firebase-messaging-database",y8=1,Ma="firebase-messaging-store",W_=null;function nT(){return W_||(W_=zE(m8,y8,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Ma)}})),W_}function fv(t){return R(this,void 0,void 0,function(){var e,n,r,i;return N(this,function(s){switch(s.label){case 0:return e=iT(t),[4,nT()];case 1:return n=s.sent(),[4,n.transaction(Ma).objectStore(Ma).get(e)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,v8(t.appConfig.senderId)];case 4:return i=s.sent(),i?[4,rT(t,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function rT(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return n=iT(t),[4,nT()];case 1:return r=s.sent(),i=r.transaction(Ma,"readwrite"),[4,i.objectStore(Ma).put(e,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,e]}})})}function _8(t){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return e=iT(t),[4,nT()];case 1:return n=i.sent(),r=n.transaction(Ma,"readwrite"),[4,r.objectStore(Ma).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function iT(t){var e=t.appConfig;return e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,sT(t)];case 1:n=h.sent(),r=tL(e),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(oT(t.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),ot.create("token-subscribe-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,ot.create("token-subscribe-failed",{errorInfo:l});if(!s.token)throw ot.create("token-subscribe-no-token");return[2,s.token]}})})}function b8(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return[4,sT(t)];case 1:n=h.sent(),r=tL(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(oT(t.appConfig)+"/"+e.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw c=h.sent(),ot.create("token-update-failed",{errorInfo:c});case 6:if(s.error)throw l=s.error.message,ot.create("token-update-failed",{errorInfo:l});if(!s.token)throw ot.create("token-update-no-token");return[2,s.token]}})})}function eL(t,e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,sT(t)];case 1:n=l.sent(),r={method:"DELETE",headers:n},l.label=2;case 2:return l.trys.push([2,5,,6]),[4,fetch(oT(t.appConfig)+"/"+e,r)];case 3:return i=l.sent(),[4,i.json()];case 4:if(s=l.sent(),s.error)throw a=s.error.message,ot.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw c=l.sent(),ot.create("token-unsubscribe-failed",{errorInfo:c});case 6:return[2]}})})}function oT(t){var e=t.projectId;return s8+"/projects/"+e+"/registrations"}function sT(t){var e=t.appConfig,n=t.installations;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function tL(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,s={web:{endpoint:r,auth:n,p256dh:e}};return i!==lv&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E8=7*24*60*60*1e3;function f0(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:if(Notification.permission!=="granted")throw ot.create("permission-blocked");return[4,I8(e,n)];case 1:return r=c.sent(),[4,fv(t)];case 2:return i=c.sent(),s={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:fo(r.getKey("auth")),p256dh:fo(r.getKey("p256dh"))},i?[3,3]:[2,cR(t,s)];case 3:if(S8(i.subscriptionOptions,s))return[3,8];c.label=4;case 4:return c.trys.push([4,6,,7]),[4,eL(t,i.token)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),console.warn(a),[3,7];case 7:return[2,cR(t,s)];case 8:return Date.now()>=i.createTime+E8?[2,T8({token:i.token,createTime:Date.now(),subscriptionOptions:s},t,e)]:[2,i.token];case 9:return[2]}})})}function af(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,fv(t)];case 1:return n=i.sent(),n?[4,eL(t,n.token)]:[3,4];case 2:return i.sent(),[4,_8(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function T8(t,e,n){return R(this,void 0,void 0,function(){var r,i,s;return N(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,b8(e,t)];case 1:return r=a.sent(),i=ht(ht({},t),{token:r,createTime:Date.now()}),[4,rT(e,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,af(e,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function cR(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return[4,w8(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,rT(t,r)];case 2:return i.sent(),[2,r.token]}})})}function I8(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:d8(e)})]}})})}function S8(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){var e={from:t.from,collapseKey:t.collapse_key};return A8(e,t),N8(e,t),R8(e,t),e}function A8(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function N8(t,e){e.data&&(t.data=e.data)}function R8(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){return typeof t=="object"&&!!t&&ZM in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){return new Promise(function(e){setTimeout(e,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O8=function(){function t(e){var n=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||typeof e!="function")throw ot.create("invalid-bg-handler");this.bgMessageHandler=e},t.prototype.onBackgroundMessage=function(e){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){n.bgMessageHandler=null}},t.prototype.getToken=function(){var e,n;return R(this,void 0,void 0,function(){var r;return N(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,fv(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(e=r==null?void 0:r.subscriptionOptions)===null||e===void 0?void 0:e.vapidKey)!==null&&n!==void 0?n:lv,i.label=2;case 2:return[2,f0(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return af(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw ot.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw ot.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw ot.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(){throw ot.create("only-available-in-window")},t.prototype.onMessage=function(){throw ot.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw ot.create("only-available-in-window")},t.prototype.onPush=function(e){return R(this,void 0,void 0,function(){var n,r,i,s;return N(this,function(a){switch(a.label){case 0:return n=x8(e),n?[4,rL()]:(console.debug(a8+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),D8(r)?[2,M8(r,n)]:(i=!1,n.notification?[4,L8(k8(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=C8(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,lR(f8)]);case 4:return a.sent(),[2]}})})},t.prototype.onSubChange=function(e){var n,r;return R(this,void 0,void 0,function(){var i,s;return N(this,function(a){switch(a.label){case 0:return i=e.newSubscription,i?[3,2]:[4,af(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,fv(this.firebaseDependencies)];case 3:return s=a.sent(),[4,af(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,f0(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:lv)];case 5:return a.sent(),[2]}})})},t.prototype.onNotificationClick=function(e){var n,r;return R(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(i=(r=(n=e.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[JM],i){if(e.action)return[2]}else return[2];return e.stopImmediatePropagation(),e.notification.close(),s=F8(i),s?(a=new URL(s,self.location.href),c=new URL(self.location.origin),a.host!==c.host?[2]:[4,P8(a)]):[2];case 1:return l=h.sent(),l?[3,4]:[4,self.clients.openWindow(s)];case 2:return l=h.sent(),[4,lR(h8)];case 3:return h.sent(),[3,6];case 4:return[4,l.focus()];case 5:l=h.sent(),h.label=6;case 6:return l?(i.messageType=Da.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,l.postMessage(i)]):[2]}})})},t}();function k8(t){var e,n=ht({},t.notification);return n.data=(e={},e[JM]=t,e),n}function x8(t){var e=t.data;if(!e)return null;try{return e.json()}catch{return null}}function P8(t){return R(this,void 0,void 0,function(){var e,n,r,i,s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,rL()];case 1:e=l.sent();try{for(n=Ft(e),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),t.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function D8(t){return t.some(function(e){return e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://")})}function M8(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Da.PUSH_RECEIVED;try{for(var i=Ft(t),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function rL(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function L8(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function F8(t){var e,n,r,i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(nL(t.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U8=function(){function t(e){var n=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return n=e.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===Da.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(V8(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,nL(r)&&r[u8]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw ot.create("permission-blocked");return[4,this.updateVapidKey(e==null?void 0:e.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(e==null?void 0:e.serviceWorkerRegistration)];case 4:return n.sent(),[2,f0(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=lv),[2]})})},t.prototype.updateSwReg=function(e){return R(this,void 0,void 0,function(){return N(this,function(n){switch(n.label){case 0:return!e&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw ot.create("invalid-sw-registration");return this.swRegistration=e,[2]}})})},t.prototype.registerDefaultSw=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register(i8,{scope:o8})];case 1:return e.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),ot.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,af(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return R(this,void 0,void 0,function(){var e;return N(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(e=n.sent(),e==="granted")return[2];throw e==="denied"?ot.create("permission-blocked"):ot.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(e){if(this.vapidKey!==null)throw ot.create("use-vapid-key-after-get-token");if(typeof e!="string"||e.length===0)throw ot.create("invalid-vapid-key");this.vapidKey=e},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw ot.create("invalid-sw-registration");if(this.swRegistration)throw ot.create("use-sw-after-get-token");this.swRegistration=e},t.prototype.onMessage=function(e){var n=this;return this.onMessageCallback=e,function(){n.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw ot.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw ot.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(e,n){return R(this,void 0,void 0,function(){var r,i;return N(this,function(s){switch(s.label){case 0:return r=j8(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[ZM],message_name:n[l8],message_time:n[c8],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function j8(t){switch(t){case Da.NOTIFICATION_CLICKED:return"notification_open";case Da.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function V8(t){return delete t.messageType,delete t.isFirebaseMessaging,t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){var e,n;if(!t||!t.options)throw H_("App Configuration Object");if(!t.name)throw H_("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var s=Ft(r),a=s.next();!a.done;a=s.next()){var c=a.value;if(!i[c])throw H_(c)}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function H_(t){return ot.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q8="messaging";function W8(t){var e=t.getProvider("app").getImmediate(),n=B8(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),s={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!iL())throw ot.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new O8(s):new U8(s)}var H8={isSupported:iL};le.INTERNAL.registerComponent(new vr(q8,W8,"PUBLIC").setServiceProps(H8));function iL(){return self&&"ServiceWorkerGlobalScope"in self?Y8():G8()}function G8(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function Y8(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oL="firebasestorage.googleapis.com",sL="storageBucket",$8=2*60*1e3,z8=10*60*1e3,Bt=function(t){ee(e,t);function e(n,r){var i=t.call(this,G_(n),"Firebase Storage: "+r+" ("+G_(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return e.prototype.codeEquals=function(n){return G_(n)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+`
`+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n},enumerable:!1,configurable:!0}),e}(Pc),Rt={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error",UNSUPPORTED_ENVIRONMENT:"unsupported-environment"};function G_(t){return"storage/"+t}function aT(){var t="An unknown error occurred, please check the error payload for server response.";return new Bt(Rt.UNKNOWN,t)}function K8(t){return new Bt(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Q8(t){return new Bt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function X8(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Bt(Rt.UNAUTHENTICATED,t)}function J8(t){return new Bt(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Z8(){return new Bt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aL(){return new Bt(Rt.CANCELED,"User canceled the upload/download.")}function e7(t){return new Bt(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function t7(t){return new Bt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function n7(){return new Bt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sL+"' property when initializing the app?")}function uL(){return new Bt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function r7(){return new Bt(Rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function i7(){return new Bt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uf(t){return new Bt(Rt.INVALID_ARGUMENT,t)}function cL(){return new Bt(Rt.APP_DELETED,"The Firebase app was deleted.")}function lL(t){return new Bt(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cf(t,e){return new Bt(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hd(t){throw new Bt(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Y_=function(){function t(e,n){this.data=e,this.contentType=n||null}return t}();function fL(t,e){switch(t){case Rr.RAW:return new Y_(hL(e));case Rr.BASE64:case Rr.BASE64URL:return new Y_(dL(t,e));case Rr.DATA_URL:return new Y_(s7(e),a7(e))}throw aT()}function hL(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320;if(!i)e.push(239,191,189);else{var s=r,a=t.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function o7(t){var e;try{e=decodeURIComponent(t)}catch{throw cf(Rr.DATA_URL,"Malformed data URL.")}return hL(e)}function dL(t,e){switch(t){case Rr.BASE64:{var n=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw cf(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Rr.BASE64URL:{var s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw cf(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}}var c;try{c=atob(e)}catch{throw cf(t,"Invalid character found")}for(var l=new Uint8Array(c.length),h=0;h<c.length;h++)l[h]=c.charCodeAt(h);return l}var pL=function(){function t(e){this.base64=!1,this.contentType=null;var n=e.match(/^data:([^,]+)?,/);if(n===null)throw cf(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=u7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}return t}();function s7(t){var e=new pL(t);return e.base64?dL(Rr.BASE64,e.rest):o7(e.rest)}function a7(t){var e=new pL(t);return e.contentType}function u7(t,e){var n=t.length>=e.length;return n?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var c7={STATE_CHANGED:"state_changed"},Oe={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},Kn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $_(t){switch(t){case Oe.RUNNING:case Oe.PAUSING:case Oe.CANCELING:return Kn.RUNNING;case Oe.PAUSED:return Kn.PAUSED;case Oe.SUCCESS:return Kn.SUCCESS;case Oe.CANCELED:return Kn.CANCELED;case Oe.ERROR:return Kn.ERROR;default:return Kn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ia||(Ia={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l7=function(){function t(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ia.NO_ERROR,this.sendPromise_=new Promise(function(n){e.xhr_.addEventListener("abort",function(){e.errorCode_=Ia.ABORT,n(e)}),e.xhr_.addEventListener("error",function(){e.errorCode_=Ia.NETWORK_ERROR,n(e)}),e.xhr_.addEventListener("load",function(){n(e)})})}return t.prototype.send=function(e,n,r,i){if(this.sent_)throw Hd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Hd("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Hd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Hd("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},t.prototype.addUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)},t.prototype.removeUploadProgressListener=function(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f7=function(){function t(){}return t.prototype.createXhrIo=function(){return new l7},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t){return t!==void 0}function d7(t){return typeof t=="function"}function p7(t){return typeof t=="object"&&!Array.isArray(t)}function yg(t){return typeof t=="string"||t instanceof String}function fR(t){return uT()&&t instanceof Blob}function uT(){return typeof Blob<"u"}function h0(t,e,n,r){if(r<e)throw new Bt(Rt.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Bt(Rt.INVALID_ARGUMENT,"Invalid value for '"+t+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function g7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=v7();if(n!==void 0){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}else{if(uT())return new Blob(t);throw new Bt(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cT=function(){function t(e,n){var r=0,i="";fR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(fR(this.data_)){var r=this.data_,i=m7(r,e,n);return i===null?null:new t(i)}else{var s=new Uint8Array(this.data_.buffer,e,n-e);return new t(s,!0)}},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(uT()){var r=e.map(function(l){return l instanceof t?l.data_:l});return new t(g7.apply(null,r))}else{var i=e.map(function(l){return yg(l)?fL(Rr.RAW,l).data:l.data_}),s=0;i.forEach(function(l){s+=l.byteLength});var a=new Uint8Array(s),c=0;return i.forEach(function(l){for(var h=0;h<l.length;h++)a[c++]=l[h]}),new t(a,!0)}},t.prototype.uploadData=function(){return this.data_},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci=function(){function t(e,n){this.bucket=e,this.path_=n}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},t.prototype.bucketOnlyServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch{return new t(e,"")}if(n.path==="")return n;throw t7(e)},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)";function i(nt){nt.path.charAt(nt.path.length-1)==="/"&&(nt.path_=nt.path_.slice(0,-1))}var s="(/(.*))?$",a=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function l(nt){nt.path_=decodeURIComponent(nt.path)}for(var h="v[A-Za-z0-9_]+",d=oL.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp("^https?://"+d+"/"+h+"/b/"+r+"/o"+v,"i"),y={bucket:1,path:3},b="(?:storage.googleapis.com|storage.cloud.google.com)",E="([^?#]*)",T=new RegExp("^https?://"+b+"/"+r+"/"+E,"i"),A={bucket:1,path:2},x=[{regex:a,indices:c,postModify:i},{regex:m,indices:y,postModify:l},{regex:T,indices:A,postModify:l}],M=0;M<x.length;M++){var U=x[M],X=U.regex.exec(e);if(X){var j=X[U.indices.bucket],Te=X[U.indices.path];Te||(Te=""),n=new t(j,Te),U.postModify(n);break}}if(n==null)throw e7(e);return n},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){var e;try{e=JSON.parse(t)}catch{return null}return p7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t){if(t.length===0)return null;var e=t.lastIndexOf("/");if(e===-1)return"";var n=t.slice(0,e);return n}function _7(t,e){var n=e.split("/").filter(function(r){return r.length>0}).join("/");return t.length===0?n:t+"/"+n}function vL(t){var e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t){return"https://"+oL+"/v0"+t}function gL(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t,e){return e}var Gn=function(){function t(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||w7}return t}(),Gd=null;function b7(t){return!yg(t)||t.length<2?t:vL(t)}function _g(){if(Gd)return Gd;var t=[];t.push(new Gn("bucket")),t.push(new Gn("generation")),t.push(new Gn("metageneration")),t.push(new Gn("name","fullPath",!0));function e(s,a){return b7(a)}var n=new Gn("name");n.xform=e,t.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Gn("size");return i.xform=r,t.push(i),t.push(new Gn("timeCreated")),t.push(new Gn("updated")),t.push(new Gn("md5Hash",null,!0)),t.push(new Gn("cacheControl",null,!0)),t.push(new Gn("contentDisposition",null,!0)),t.push(new Gn("contentEncoding",null,!0)),t.push(new Gn("contentLanguage",null,!0)),t.push(new Gn("contentType",null,!0)),t.push(new Gn("metadata","customMetadata",!0)),Gd=t,Gd}function E7(t,e){function n(){var r=t.bucket,i=t.fullPath,s=new ci(r,i);return e.makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function T7(t,e,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,e[a.server])}return E7(r,t),r}function mL(t,e,n){var r=lT(e);if(r===null)return null;var i=r;return T7(t,i,n)}function I7(t,e){var n=lT(e);if(n===null||!yg(n.downloadTokens))return null;var r=n.downloadTokens;if(r.length===0)return null;var i=encodeURIComponent,s=r.split(","),a=s.map(function(c){var l=t.bucket,h=t.fullPath,d="/b/"+i(l)+"/o/"+i(h),v=xs(d),m=gL({alt:"media",token:c});return v+m});return a[0]}function fT(t,e){for(var n={},r=e.length,i=0;i<r;i++){var s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hR="prefixes",dR="items";function S7(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[hR])for(var i=0,s=n[hR];i<s.length;i++){var a=s[i],c=a.replace(/\/$/,""),l=t.makeStorageReference(new ci(e,c));r.prefixes.push(l)}if(n[dR])for(var h=0,d=n[dR];h<d.length;h++){var v=d[h],l=t.makeStorageReference(new ci(e,v.name));r.items.push(l)}return r}function C7(t,e,n){var r=lT(n);if(r===null)return null;var i=r;return S7(t,e,i)}var Lo=function(){function t(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t){if(!t)throw aT()}function wg(t,e){function n(r,i){var s=mL(t,i,e);return Bi(s!==null),s}return n}function A7(t,e){function n(r,i){var s=C7(t,e,i);return Bi(s!==null),s}return n}function N7(t,e){function n(r,i){var s=mL(t,i,e);return Bi(s!==null),I7(s,i)}return n}function Yc(t){function e(n,r){var i;return n.getStatus()===401?i=X8():n.getStatus()===402?i=Q8(t.bucket):n.getStatus()===403?i=J8(t.path):i=r,i.serverResponse=r.serverResponse,i}return e}function bg(t){var e=Yc(t);function n(r,i){var s=e(r,i);return r.getStatus()===404&&(s=K8(t.path)),s.serverResponse=i.serverResponse,s}return n}function yL(t,e,n){var r=e.fullServerUrl(),i=xs(r),s="GET",a=t.maxOperationRetryTime,c=new Lo(i,s,wg(t,n),a);return c.errorHandler=bg(e),c}function R7(t,e,n,r,i){var s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=e.bucketOnlyServerUrl(),c=xs(a),l="GET",h=t.maxOperationRetryTime,d=new Lo(c,l,A7(t,e.bucket),h);return d.urlParams=s,d.errorHandler=Yc(e),d}function O7(t,e,n){var r=e.fullServerUrl(),i=xs(r),s="GET",a=t.maxOperationRetryTime,c=new Lo(i,s,N7(t,n),a);return c.errorHandler=bg(e),c}function k7(t,e,n,r){var i=e.fullServerUrl(),s=xs(i),a="PATCH",c=fT(n,r),l={"Content-Type":"application/json; charset=utf-8"},h=t.maxOperationRetryTime,d=new Lo(s,a,wg(t,r),h);return d.headers=l,d.body=c,d.errorHandler=bg(e),d}function x7(t,e){var n=e.fullServerUrl(),r=xs(n),i="DELETE",s=t.maxOperationRetryTime;function a(l,h){}var c=new Lo(r,i,a,s);return c.successCodes=[200,204],c.errorHandler=bg(e),c}function P7(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function _L(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=P7(null,e)),r}function D7(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function c(){for(var M="",U=0;U<2;U++)M=M+Math.random().toString().slice(2);return M}var l=c();a["Content-Type"]="multipart/related; boundary="+l;var h=_L(e,r,i),d=fT(h,n),v="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+l+"--",y=cT.getBlob(v,r,m);if(y===null)throw uL();var b={name:h.fullPath},E=xs(s),T="POST",A=t.maxUploadRetryTime,x=new Lo(E,T,wg(t,n),A);return x.urlParams=b,x.headers=a,x.body=y.uploadData(),x.errorHandler=Yc(e),x}var hv=function(){function t(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}return t}();function hT(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Bi(!1)}var r=e||["active"];return Bi(!!n&&r.indexOf(n)!==-1),n}function M7(t,e,n,r,i){var s=e.bucketOnlyServerUrl(),a=_L(e,r,i),c={name:a.fullPath},l=xs(s),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=fT(a,n),m=t.maxUploadRetryTime;function y(E){hT(E);var T;try{T=E.getResponseHeader("X-Goog-Upload-URL")}catch{Bi(!1)}return Bi(yg(T)),T}var b=new Lo(l,h,y,m);return b.urlParams=c,b.headers=d,b.body=v,b.errorHandler=Yc(e),b}function L7(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=hT(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Bi(!1)}v||Bi(!1);var m=Number(v);return Bi(!isNaN(m)),new hv(m,r.size(),d==="final")}var a="POST",c=t.maxUploadRetryTime,l=new Lo(n,a,s,c);return l.headers=i,l.errorHandler=Yc(e),l}var pR=256*1024;function F7(t,e,n,r,i,s,a,c){var l=new hv(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw r7();var h=l.total-l.current,d=h;i>0&&(d=Math.min(d,i));var v=l.current,m=v+d,y=d===h?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":l.current},E=r.slice(v,m);if(E===null)throw uL();function T(U,X){var j=hT(U,["active","final"]),Te=l.current+d,nt=r.size(),de;return j==="final"?de=wg(e,s)(U,X):de=null,new hv(Te,nt,j==="final",de)}var A="POST",x=e.maxUploadRetryTime,M=new Lo(n,A,T,x);return M.headers=b,M.body=E.uploadData(),M.progressCallback=c||null,M.errorHandler=Yc(t),M}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var U7=function(){function t(e,n,r){var i=d7(e)||n!=null||r!=null;if(i)this.next=e,this.error=n,this.complete=r;else{var s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}return t}(),j7=function(){function t(e,n,r,i,s,a){this.bytesTransferred=e,this.totalBytes=n,this.state=r,this.metadata=i,this.task=s,this.ref=a}return t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wL=function(){function t(e,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=_g(),this._resumable=this._shouldDoResumable(this._blob),this._state=Oe.RUNNING,this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s.codeEquals(Rt.CANCELED)?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition(Oe.ERROR))},this._metadataErrorHandler=function(s){i._request=void 0,s.codeEquals(Rt.CANCELED)?i.completeTransitions_():(i._error=s,i._transition(Oe.ERROR))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var e=this,n=this._transferred;return function(r){return e._updateProgress(n+r)}},t.prototype._shouldDoResumable=function(e){return e.size()>256*1024},t.prototype._start=function(){this._state===Oe.RUNNING&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(e){var n=this;this._ref.storage.getAuthToken().then(function(r){switch(n._state){case Oe.RUNNING:e(r);break;case Oe.CANCELING:n._transition(Oe.CANCELED);break;case Oe.PAUSING:n._transition(Oe.PAUSED);break}})},t.prototype._createResumable=function(){var e=this;this._resolveToken(function(n){var r=M7(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._uploadUrl=s,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},t.prototype._fetchStatus=function(){var e=this,n=this._uploadUrl;this._resolveToken(function(r){var i=L7(e._ref.storage,e._ref._location,n,e._blob),s=e._ref.storage.makeRequest(i,r);e._request=s,s.getPromise().then(function(a){a=a,e._request=void 0,e._updateProgress(a.current),e._needToFetchStatus=!1,a.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},t.prototype._continueUpload=function(){var e=this,n=pR*this._chunkMultiplier,r=new hv(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s){var a;try{a=F7(e._ref._location,e._ref.storage,i,e._blob,n,e._mappings,r,e._makeProgressCallback())}catch(l){e._error=l,e._transition(Oe.ERROR);return}var c=e._ref.storage.makeRequest(a,s);e._request=c,c.getPromise().then(function(l){e._increaseMultiplier(),e._request=void 0,e._updateProgress(l.current),l.finalized?(e._metadata=l.metadata,e._transition(Oe.SUCCESS)):e.completeTransitions_()},e._errorHandler)})},t.prototype._increaseMultiplier=function(){var e=pR*this._chunkMultiplier;e<32*1024*1024&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(n){var r=yL(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._transition(Oe.SUCCESS)},e._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(n){var r=D7(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage.makeRequest(r,n);e._request=i,i.getPromise().then(function(s){e._request=void 0,e._metadata=s,e._updateProgress(e._blob.size()),e._transition(Oe.SUCCESS)},e._errorHandler)})},t.prototype._updateProgress=function(e){var n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()},t.prototype._transition=function(e){if(this._state!==e)switch(e){case Oe.CANCELING:this._state=e,this._request!==void 0&&this._request.cancel();break;case Oe.PAUSING:this._state=e,this._request!==void 0&&this._request.cancel();break;case Oe.RUNNING:var n=this._state===Oe.PAUSED;this._state=e,n&&(this._notifyObservers(),this._start());break;case Oe.PAUSED:this._state=e,this._notifyObservers();break;case Oe.CANCELED:this._error=aL(),this._state=e,this._notifyObservers();break;case Oe.ERROR:this._state=e,this._notifyObservers();break;case Oe.SUCCESS:this._state=e,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case Oe.PAUSING:this._transition(Oe.PAUSED);break;case Oe.CANCELING:this._transition(Oe.CANCELED);break;case Oe.RUNNING:this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var e=$_(this._state);return new j7(this._transferred,this._blob.size(),e,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(e,n,r,i){var s=this,a=new U7(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},t.prototype.then=function(e,n){return this._promise.then(e,n)},t.prototype.catch=function(e){return this.then(null,e)},t.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},t.prototype._removeObserver=function(e){var n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)},t.prototype._notifyObservers=function(){var e=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){e._notifyObserver(r)})},t.prototype._finishPromise=function(){if(this._resolve!==void 0){var e=!0;switch($_(this._state)){case Kn.SUCCESS:Au(this._resolve.bind(null,this.snapshot))();break;case Kn.CANCELED:case Kn.ERROR:var n=this._reject;Au(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(e){var n=$_(this._state);switch(n){case Kn.RUNNING:case Kn.PAUSED:e.next&&Au(e.next.bind(e,this.snapshot))();break;case Kn.SUCCESS:e.complete&&Au(e.complete.bind(e))();break;case Kn.CANCELED:case Kn.ERROR:e.error&&Au(e.error.bind(e,this._error))();break;default:e.error&&Au(e.error.bind(e,this._error))()}},t.prototype.resume=function(){var e=this._state===Oe.PAUSED||this._state===Oe.PAUSING;return e&&this._transition(Oe.RUNNING),e},t.prototype.pause=function(){var e=this._state===Oe.RUNNING;return e&&this._transition(Oe.PAUSING),e},t.prototype.cancel=function(){var e=this._state===Oe.RUNNING||this._state===Oe.PAUSING;return e&&this._transition(Oe.CANCELING),e},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eg=function(){function t(e,n){this._service=e,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var e=new ci(this._location.bucket,"");return this.newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return vL(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=y7(this._location.path);if(e===null)return null;var n=new ci(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(e){if(this._location.path==="")throw lL(e)},t}();function V7(t,e,n){return n===void 0&&(n=null),t._throwIfRoot("uploadBytesResumable"),new wL(t,new cT(e),n)}function B7(t,e,n,r){n===void 0&&(n=Rr.RAW),t._throwIfRoot("putString");var i=fL(n,e),s=ht({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new wL(t,new cT(i.data,!0),s)}function q7(t){var e={prefixes:[],items:[]};return bL(t,e).then(function(){return e})}function bL(t,e,n){return R(this,void 0,void 0,function(){var r,i,s,a;return N(this,function(c){switch(c.label){case 0:return r={pageToken:n},[4,EL(t,r)];case 1:return i=c.sent(),(s=e.prefixes).push.apply(s,i.prefixes),(a=e.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,bL(t,e,i.nextPageToken)];case 2:c.sent(),c.label=3;case 3:return[2]}})})}function EL(t,e){return R(this,void 0,void 0,function(){var n,r,i;return N(this,function(s){switch(s.label){case 0:return e!=null&&typeof e.maxResults=="number"&&h0("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=s.sent(),r=e||{},i=R7(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function W7(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=yL(t.storage,t._location,_g()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function H7(t,e){return R(this,void 0,void 0,function(){var n,r;return N(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=k7(t.storage,t._location,e,_g()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}function G7(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=O7(t.storage,t._location,_g()),[2,t.storage.makeRequest(n,e).getPromise().then(function(i){if(i===null)throw i7();return i})]}})})}function Y7(t){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=x7(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}function TL(t,e){var n=_7(t._location.path,e),r=new ci(t._location.bucket,n);return new Eg(t.storage,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yd=function(){function t(e,n,r){this._delegate=e,this.task=n,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vR=function(){function t(e,n){this._delegate=e,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new Yd(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(e,n){var r=this;return this._delegate.then(function(i){if(e)return e(new Yd(i,r,r._ref))},n)},t.prototype.on=function(e,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(c){return n(new Yd(c,s,s._ref))}:a={next:n.next?function(c){return n.next(new Yd(c,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gR=function(){function t(e,n){this._delegate=e,this._service=n}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(n){return new Kf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(n){return new Kf(n,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kf=function(){function t(e,n){this._delegate=e,this.storage=n}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=TL(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e==null?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(e,n){return this._throwIfRoot("put"),new vR(V7(this._delegate,e,n),this)},t.prototype.putString=function(e,n,r){return n===void 0&&(n=Rr.RAW),this._throwIfRoot("putString"),new vR(B7(this._delegate,e,n,r),this)},t.prototype.listAll=function(){var e=this;return q7(this._delegate).then(function(n){return new gR(n,e.storage)})},t.prototype.list=function(e){var n=this;return EL(this._delegate,e).then(function(r){return new gR(r,n.storage)})},t.prototype.getMetadata=function(){return W7(this._delegate)},t.prototype.updateMetadata=function(e){return H7(this._delegate,e)},t.prototype.getDownloadURL=function(){return G7(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Y7(this._delegate)},t.prototype._throwIfRoot=function(e){if(this._delegate._location.path==="")throw lL(e)},t}(),$7=function(){function t(e){this.promise_=Promise.reject(e)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z7(t,e,n){var r=1,i=null,s=!1,a=0;function c(){return a===2}var l=!1;function h(){for(var b=[],E=0;E<arguments.length;E++)b[E]=arguments[E];l||(l=!0,e.apply(null,b))}function d(b){i=setTimeout(function(){i=null,t(v,c())},b)}function v(b){for(var E=[],T=1;T<arguments.length;T++)E[T-1]=arguments[T];if(!l){if(b){h.call.apply(h,Vt([null,b],E));return}var A=c()||s;if(A){h.call.apply(h,Vt([null,b],E));return}r<64&&(r*=2);var x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,d(x)}}var m=!1;function y(b){m||(m=!0,!l&&(i!==null?(b||(a=2),clearTimeout(i),d(0)):b||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function K7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q7=function(){function t(e,n,r,i,s,a,c,l,h,d,v){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=c,this.errorCallback_=l,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,b){m.resolve_=y,m.reject_=b,m.start_()})}return t.prototype.start_=function(){var e=this;function n(i,s){if(s){i(!1,new $d(!1,null,!0));return}var a=e.pool_.createXhrIo();e.pendingXhr_=a;function c(l){var h=l.loaded,d=l.lengthComputable?l.total:-1;e.progressCallback_!==null&&e.progressCallback_(h,d)}e.progressCallback_!==null&&a.addUploadProgressListener(c),a.send(e.url_,e.method_,e.body_,e.headers_).then(function(l){e.progressCallback_!==null&&l.removeUploadProgressListener(c),e.pendingXhr_=null,l=l;var h=l.getErrorCode()===Ia.NO_ERROR,d=l.getStatus();if(!h||e.isRetryStatusCode_(d)){var v=l.getErrorCode()===Ia.ABORT;i(!1,new $d(!1,null,v));return}var m=e.successCodes_.indexOf(d)!==-1;i(!0,new $d(m,l))})}function r(i,s){var a=e.resolve_,c=e.reject_,l=s.xhr;if(s.wasSuccessCode)try{var h=e.callback_(l,l.getResponseText());h7(h)?a(h):a()}catch(v){c(v)}else if(l!==null){var d=aT();d.serverResponse=l.getResponseText(),e.errorCallback_?c(e.errorCallback_(l,d)):c(d)}else if(s.canceled){var d=e.appDelete_?cL():aL();c(d)}else{var d=Z8();c(d)}}this.canceled_?r(!1,new $d(!1,null,!0)):this.backoffId_=z7(n,r,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K7(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(e){var n=e>=500&&e<600,r=[408,429],i=r.indexOf(e)!==-1,s=this.additionalRetryCodes_.indexOf(e)!==-1;return n||i||s},t}(),$d=function(){function t(e,n,r){this.wasSuccessCode=e,this.xhr=n,this.canceled=!!r}return t}();function X7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function J7(t){var e=typeof le<"u"?le.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function Z7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eJ(t,e,n,r){var i=gL(t.urlParams),s=t.url+i,a=Object.assign({},t.headers);return Z7(a,e),X7(a,n),J7(a),new Q7(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){return/^[A-Za-z]+:\/\//.test(t)}function tJ(t,e){return new Eg(t,e)}function IL(t,e){if(t instanceof Tg){var n=t;if(n._bucket==null)throw n7();var r=new Eg(n,n._bucket);return e!=null?IL(r,e):r}else if(e!==void 0){if(e.includes(".."))throw uf('`path` param cannot contain ".."');return TL(t,e)}else return t}function mR(t,e){if(e&&d0(e)){if(t instanceof Tg)return tJ(t,e);throw uf("To use ref(service, url), the first argument must be a Storage instance.")}else return IL(t,e)}function nJ(t){var e=t==null?void 0:t[sL];return e==null?null:ci.makeFromBucketSpec(e)}var Tg=function(){function t(e,n,r,i){this.app=e,this._authProvider=n,this._pool=r,this._url=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$8,this._maxUploadRetryTime=z8,this._requests=new Set,i!=null?this._bucket=ci.makeFromBucketSpec(i):this._bucket=nJ(this.app.options)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){h0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){h0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return R(this,void 0,void 0,function(){var e,n;return N(this,function(r){switch(r.label){case 0:return e=this._authProvider.getImmediate({optional:!0}),e?[4,e.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(e){return new Eg(this,e)},t.prototype.makeRequest=function(e,n){var r=this;if(this._deleted)return new $7(cL());var i=eJ(e,this._appId,n,this._pool);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rJ=function(){function t(e,n){var r=this;this.app=e,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(e){if(d0(e))throw uf("ref() expected a child path but got a URL, use refFromURL instead.");return new Kf(mR(this._delegate,e),this)},t.prototype.refFromURL=function(e){if(!d0(e))throw uf("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ci.makeFromUrl(e)}catch{throw uf("refFromUrl() expected a valid full URL but got an invalid one.")}return new Kf(mR(this._delegate,e),this)},t.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},t.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},t}(),iJ="@firebase/storage",oJ="0.4.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sJ="storage";function aJ(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=new rJ(n,new Tg(n,r,new f7,e));return i}function uJ(t){var e={TaskState:Kn,TaskEvent:c7,StringFormat:Rr,Storage:Tg,Reference:Kf};t.INTERNAL.registerComponent(new vr(sJ,aJ,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(iJ,oJ)}uJ(le);var cJ="@firebase/performance",SL="0.4.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CL=SL,lJ="FB-PERF-TRACE-START",fJ="FB-PERF-TRACE-STOP",p0="FB-PERF-TRACE-MEASURE",AL="_wt_",NL="_fp",RL="_fcp",OL="_fid",kL="@firebase/performance/config",xL="@firebase/performance/configexpire",hJ="performance",PL="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,dJ=(_n={},_n["trace started"]="Trace {$traceName} was started before.",_n["trace stopped"]="Trace {$traceName} is not running.",_n["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",_n["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",_n["no window"]="Window is not available.",_n["no app id"]="App id is not available.",_n["no project id"]="Project id is not available.",_n["no api key"]="Api key is not available.",_n["invalid cc log"]="Attempted to queue invalid cc event",_n["FB not default"]="Performance can only start when Firebase app instance is the default one.",_n["RC response not ok"]="RC response is not ok",_n["invalid attribute name"]="Attribute name {$attributeName} is invalid.",_n["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",_n["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",_n["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",_n),Cn=new As(hJ,PL,dJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=new Dc(PL);Ro.logLevel=Me.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z_,DL,Fn=function(){function t(e){if(this.window=e,!e)throw Cn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(e){!this.performance||!this.performance.mark||this.performance.mark(e)},t.prototype.measure=function(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)},t.prototype.getEntriesByType=function(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)},t.prototype.getEntriesByName=function(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Ro.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):db()?!0:(Ro.info("IndexedDB is not supported by current browswer"),!1)},t.prototype.setupObserver=function(e,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var c=a[s];n(c)}});r.observe({entryTypes:[e]})}},t.getInstance=function(){return z_===void 0&&(z_=new t(DL)),z_},t}();function pJ(t){DL=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e){var n=t.length-e.length;if(n<0||n>1)throw Cn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K_,nn=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=yR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=yR("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Cn.create("no app id");return e},t.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Cn.create("no project id");return e},t.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Cn.create("no api key");return e},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return K_===void 0&&(K_=new t),K_},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ML;function vJ(){var t=nn.getInstance().installationsService.getId();return t.then(function(e){ML=e}),t}function dT(){return ML}function gJ(){var t=nn.getInstance().installationsService.getToken();return t.then(function(e){}),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ju;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"})(Ju||(Ju={}));var mJ=["firebase_","google_","ga_"],yJ=new RegExp("^[a-zA-Z]\\w*$"),_J=40,wJ=100;function bJ(){var t=Fn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function LL(){var t=Fn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return Ju.VISIBLE;case"hidden":return Ju.HIDDEN;default:return Ju.UNKNOWN}}function EJ(){var t=Fn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function TJ(t){if(t.length===0||t.length>_J)return!1;var e=mJ.some(function(n){return t.startsWith(n)});return!e&&!!t.match(yJ)}function IJ(t){return t.length!==0&&t.length<=wJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SJ="0.0.1",CJ={loggingEnabled:!0},AJ="FIREBASE_INSTALLATIONS_AUTH";function NJ(t){var e=RJ();return e?(_R(e),Promise.resolve()):xJ(t).then(_R).then(function(n){return OJ(n)},function(){})}function RJ(){var t=Fn.getInstance().localStorage;if(t){var e=t.getItem(xL);if(!(!e||!PJ(e))){var n=t.getItem(kL);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function OJ(t){var e=Fn.getInstance().localStorage;!t||!e||(e.setItem(kL,JSON.stringify(t)),e.setItem(xL,String(Date.now()+nn.getInstance().configTimeToLive*60*60*1e3)))}var kJ="Could not fetch config, will use default configs";function xJ(t){return gJ().then(function(e){var n=nn.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+nn.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:AJ+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:nn.getInstance().getAppId(),app_version:CL,sdk_version:SJ})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Cn.create("RC response not ok")})}).catch(function(){Ro.info(kJ)})}function _R(t){if(!t)return t;var e=nn.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=CJ.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=wR(e.tracesSamplingRate),e.logNetworkAfterSampling=wR(e.networkRequestsSamplingRate),t}function PJ(t){return Number(t)>Date.now()}function wR(t){return Math.random()<=t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pT=1,Q_;function FL(){return pT=2,Q_=Q_||MJ(),Q_}function DJ(){return pT===3}function MJ(){return LJ().then(function(){return vJ()}).then(function(t){return NJ(t)}).then(function(){return bR()},function(){return bR()})}function LJ(){var t=Fn.getInstance().document;return new Promise(function(e){if(t&&t.readyState!=="complete"){var n=function(){t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function bR(){pT=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vT=10*1e3,FJ=5.5*1e3,UL=3,UJ=1e3,dv=UL,ms=[],ER=!1;function jJ(){ER||(Ig(FJ),ER=!0)}function Ig(t){setTimeout(function(){if(dv!==0){if(!ms.length)return Ig(vT);VJ()}},t)}function VJ(){var t=ms.splice(0,UJ),e=t.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:nn.getInstance().logSource,log_event:e};BJ(n,t).catch(function(){ms=Vt(t,ms),dv--,Ro.info("Tries left: "+dv+"."),Ig(vT)})}function BJ(t,e){return qJ(t).then(function(n){return n.ok||Ro.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=vT;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(ms=Vt(e,ms),Ro.info("Retry transport request later.")),dv=UL,Ig(i)})}function qJ(t){var e=nn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function WJ(t){if(!t.eventTime||!t.message)throw Cn.create("invalid cc log");ms=Vt(ms,[t])}function HJ(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);WJ({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X_;function jL(t,e){X_||(X_=HJ(YJ)),X_(t,e)}function zd(t){var e=nn.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||Fn.getInstance().requiredApisAvailable()&&(t.isAuto&&LL()!==Ju.VISIBLE||(DJ()?J_(t):FL().then(function(){return J_(t)},function(){return J_(t)})))}function J_(t){if(dT()){var e=nn.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(function(){return jL(t,1)},0)}}function GJ(t){var e=nn.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(function(){return jL(t,0)},0)}}function YJ(t,e){return e===0?$J(t):zJ(t)}function $J(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:VL(),network_request_metric:e};return JSON.stringify(n)}function zJ(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);var n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);var r={application_info:VL(),trace_metric:e};return JSON.stringify(r)}function VL(){return{google_app_id:nn.getInstance().getAppId(),app_instance_id:dT(),web_app_info:{sdk_version:CL,page_url:Fn.getInstance().getUrl(),service_worker_status:bJ(),visibility_state:LL(),effective_connection_type:EJ()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KJ=100,QJ="_",XJ=[NL,RL,OL];function JJ(t,e){return t.length===0||t.length>KJ?!1:e&&e.startsWith(AL)&&XJ.indexOf(t)>-1||!t.startsWith(QJ)}function ZJ(t){var e=Math.floor(t);return e<t&&Ro.info("Metric value should be an Integer, setting the value as : "+e+"."),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function t(e,n,r){n===void 0&&(n=!1),this.name=e,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Fn.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=lJ+"-"+this.randomId+"-"+this.name,this.traceStopMark=fJ+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||p0+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(this.state!==1)throw Cn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(this.state!==2)throw Cn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),zd(this)},t.prototype.record=function(e,n,r){if(e<=0)throw Cn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Cn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=ht({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}zd(this)},t.prototype.incrementMetric=function(e,n){n===void 0&&(n=1),this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)},t.prototype.putMetric=function(e,n){if(JJ(e,this.name))this.counters[e]=ZJ(n);else throw Cn.create("invalid custom metric name",{customMetricName:e})},t.prototype.getMetric=function(e){return this.counters[e]||0},t.prototype.putAttribute=function(e,n){var r=TJ(e),i=IJ(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw Cn.create("invalid attribute name",{attributeName:e});if(!i)throw Cn.create("invalid attribute value",{attributeValue:n})},t.prototype.getAttribute=function(e){return this.customAttributes[e]},t.prototype.removeAttribute=function(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]},t.prototype.getAttributes=function(){return ht({},this.customAttributes)},t.prototype.setStartTime=function(e){this.startTimeUs=e},t.prototype.setDuration=function(e){this.durationUs=e},t.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},t.createOobTrace=function(e,n,r){var i=Fn.getInstance().getUrl();if(i){var s=new t(AL+i,!0),a=Math.floor(Fn.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),e&&e[0]&&(s.setDuration(Math.floor(e[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(e[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(e[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(e[0].loadEventEnd*1e3)));var c="first-paint",l="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===c});h&&h.startTime&&s.putMetric(NL,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===l});d&&d.startTime&&s.putMetric(RL,Math.floor(d.startTime*1e3)),r&&s.putMetric(OL,Math.floor(r*1e3))}zd(s)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);zd(n)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){var e=t;if(!(!e||e.responseStart===void 0)){var n=Fn.getInstance().getTimeOrigin(),r=Math.floor((e.startTime+n)*1e3),i=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,s=Math.floor((e.responseEnd-e.startTime)*1e3),a=e.name&&e.name.split("?")[0],c={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};GJ(c)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e9=5e3;function IR(){dT()&&(setTimeout(function(){return n9()},0),setTimeout(function(){return t9()},0),setTimeout(function(){return r9()},0))}function t9(){for(var t=Fn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];TR(i)}t.setupObserver("resource",TR)}function n9(){var t=Fn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){lf.createOobTrace(e,n),r=void 0},e9);t.onFirstInputDelay(function(i){r&&(clearTimeout(r),lf.createOobTrace(e,n,i))})}else lf.createOobTrace(e,n)}function r9(){for(var t=Fn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];SR(i)}t.setupObserver("measure",SR)}function SR(t){var e=t.name;e.substring(0,p0.length)!==p0&&lf.createUserTimingTrace(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i9=function(){function t(e){this.app=e,Fn.getInstance().requiredApisAvailable()&&pb().then(function(n){n&&(jJ(),FL().then(IR,IR))}).catch(function(n){Ro.info("Environment doesn't support IndexedDB: "+n)})}return t.prototype.trace=function(e){return new lf(e)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return nn.getInstance().instrumentationEnabled},set:function(e){nn.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return nn.getInstance().dataCollectionEnabled},set:function(e){nn.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o9="[DEFAULT]";function s9(t){var e=function(n,r){if(n.name!==o9)throw Cn.create("FB not default");if(typeof window>"u")throw Cn.create("no window");return pJ(window),nn.getInstance().firebaseAppInstance=n,nn.getInstance().installationsService=r,new i9(n)};t.INTERNAL.registerComponent(new vr("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return e(r,i)},"PUBLIC")),t.registerVersion(cJ,SL)}s9(le);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a9="firebase_id",u9="origin",c9=60*1e3,l9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",BL="https://www.googletagmanager.com/gtag/js",Un;(function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"})(Un||(Un={}));var v0;(function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"})(v0||(v0={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a;return N(this,function(c){switch(c.label){case 0:return i&&i.global?(t(Un.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:s=c.sent(),a=ht(ht({},r),{send_to:s}),t(Un.EVENT,n,a),c.label=3;case 3:return[2]}})})}function h9(t,e,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(t(Un.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(Un.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function d9(t,e,n,r){return R(this,void 0,void 0,function(){var i;return N(this,function(s){switch(s.label){case 0:return r&&r.global?(t(Un.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=s.sent(),t(Un.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function p9(t,e,n,r){return R(this,void 0,void 0,function(){var i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)c=a[s],i["user_properties."+c]=n[c];return t(Un.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:l=h.sent(),t(Un.CONFIG,l,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function v9(t,e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn=new Dc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){var e=document.createElement("script");e.src=BL+"?l="+t,e.async=!0,document.head.appendChild(e)}function m9(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function y9(t,e,n,r,i,s){return R(this,void 0,void 0,function(){var a,c,l,h;return N(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return c=d.sent(),l=c.find(function(v){return v.measurementId===i}),l?[4,e[l.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),wn.error(h),[3,8];case 8:return t(Un.CONFIG,i,s),[2]}})})}function _9(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v,m,y;return N(this,function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(c=b.sent(),l=function(E){var T=c.find(function(x){return x.measurementId===E}),A=T&&e[T.appId];if(A)s.push(A);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],m=l(v),m!=="break");h++);b.label=2;case 2:return s.length===0&&(s=Object.values(e)),[4,Promise.all(s)];case 3:return b.sent(),t(Un.EVENT,r,i||{}),[3,5];case 4:return y=b.sent(),wn.error(y),[3,5];case 5:return[2]}})})}function w9(t,e,n,r){function i(s,a,c){return R(this,void 0,void 0,function(){var l;return N(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Un.EVENT?[3,2]:[4,_9(t,e,n,a,c)];case 1:return h.sent(),[3,5];case 2:return s!==Un.CONFIG?[3,4]:[4,y9(t,e,n,r,a,c)];case 3:return h.sent(),[3,5];case 4:t(Un.SET,a),h.label=5;case 5:return[3,7];case 6:return l=h.sent(),wn.error(l),[3,7];case 7:return[2]}})})}return i}function b9(t,e,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=w9(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function E9(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(BL))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ei,T9=(ei={},ei["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",ei["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",ei["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",ei["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ei["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",ei["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",ei["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",ei["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',ei["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',ei),Wr=new As("analytics","Analytics",T9);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I9=30,S9=1e3,C9=function(){function t(e,n){e===void 0&&(e={}),n===void 0&&(n=S9),this.throttleMetadata=e,this.intervalMillis=n}return t.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},t.prototype.setThrottleMetadata=function(e,n){this.throttleMetadata[e]=n},t.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},t}(),qL=new C9;function A9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function N9(t){var e;return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l;return N(this,function(h){switch(h.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:A9(r)},s=l9.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];c="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return l=h.sent(),!((e=l.error)===null||e===void 0)&&e.message&&(c=l.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw Wr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:c});case 6:return[2,a.json()]}})})}function R9(t,e,n){return e===void 0&&(e=qL),R(this,void 0,void 0,function(){var r,i,s,a,c,l,h=this;return N(this,function(d){if(r=t.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw Wr.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw Wr.create("no-api-key")}return c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new x9,setTimeout(function(){return R(h,void 0,void 0,function(){return N(this,function(v){return l.abort(),[2]})})},n!==void 0?n:c9),[2,WL({appId:i,apiKey:s,measurementId:a},c,l,e)]})})}function WL(t,e,n,r){var i=e.throttleEndTimeMillis,s=e.backoffCount;return r===void 0&&(r=qL),R(this,void 0,void 0,function(){var a,c,l,h,d,v,m;return N(this,function(y){switch(y.label){case 0:a=t.appId,c=t.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,O9(n,i)];case 2:return y.sent(),[3,4];case 3:if(l=y.sent(),c)return wn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]")),[2,{appId:a,measurementId:c}];throw l;case 4:return y.trys.push([4,6,,7]),[4,N9(t)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!k9(d)){if(r.deleteThrottleMetadata(a),c)return wn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+c)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:c}];throw d}return v=Number(d.customData.httpStatus)===503?Nw(s,r.intervalMillis,I9):Nw(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),wn.debug("Calling attemptFetch again in "+v+" millis"),[2,WL(t,m,n,r)];case 7:return[2]}})})}function O9(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(Wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k9(t){if(!(t instanceof Pc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var x9=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(){return R(this,void 0,void 0,function(){var t;return N(this,function(e){switch(e.label){case 0:return db()?[3,1]:(wn.warn(Wr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,pb()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),wn.warn(Wr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}function D9(t,e,n,r,i){return R(this,void 0,void 0,function(){var s,a,c,l,h,d,v;return N(this,function(m){switch(m.label){case 0:return s=R9(t),s.then(function(y){n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&wn.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+y.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(y){return wn.error(y)}),e.push(s),a=P9().then(function(y){if(y)return r.getId()}),[4,Promise.all([s,a])];case 1:return c=m.sent(),l=c[0],h=c[1],i("js",new Date),d=(v={},v[u9]="firebase",v.update=!0,v),h!=null&&(d[a9]=h),i(Un.CONFIG,l.measurementId,d),[2,l.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao={},CR=[],AR={},dp="dataLayer",HL="gtag",NR,ql,g0=!1;function M9(t){if(g0)throw Wr.create("already-initialized");t.dataLayerName&&(dp=t.dataLayerName),t.gtagName&&(HL=t.gtagName)}function L9(){var t=[];if(hb()&&t.push("This is a browser extension environment."),zk()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=Wr.create("invalid-analytics-context",{errorInfo:e});wn.warn(n.message)}}function F9(t,e){L9();var n=t.options.appId;if(!n)throw Wr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)wn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw Wr.create("no-api-key");if(ao[n]!=null)throw Wr.create("already-exists",{id:n});if(!g0){E9()||g9(dp),m9(dp);var r=b9(ao,CR,AR,dp,HL),i=r.wrappedGtag,s=r.gtagCore;ql=i,NR=s,g0=!0}ao[n]=D9(t,CR,AR,e,NR);var a={app:t,logEvent:function(c,l,h){f9(ql,ao[n],c,l,h).catch(function(d){return wn.error(d)})},setCurrentScreen:function(c,l){h9(ql,ao[n],c,l).catch(function(h){return wn.error(h)})},setUserId:function(c,l){d9(ql,ao[n],c,l).catch(function(h){return wn.error(h)})},setUserProperties:function(c,l){p9(ql,ao[n],c,l).catch(function(h){return wn.error(h)})},setAnalyticsCollectionEnabled:function(c){v9(ao[n],c).catch(function(l){return wn.error(l)})},INTERNAL:{delete:function(){return delete ao[n],Promise.resolve()}}};return a}var U9="@firebase/analytics",j9="0.6.2",RR="analytics";function V9(t){t.INTERNAL.registerComponent(new vr(RR,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return F9(r,i)},"PUBLIC").setServiceProps({settings:M9,EventName:v0,isSupported:B9})),t.INTERNAL.registerComponent(new vr("analytics-internal",e,"PRIVATE")),t.registerVersion(U9,j9);function e(n){try{var r=n.getProvider(RR).getImmediate();return{logEvent:r.logEvent}}catch(i){throw Wr.create("interop-component-reg-failed",{reason:i})}}}V9(le);function B9(){return R(this,void 0,void 0,function(){var t;return N(this,function(e){switch(e.label){case 0:if(hb())return[2,!1];if(!zk())return[2,!1];if(!db())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,pb()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q9=function(){function t(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}return t.prototype.isCachedDataFresh=function(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=e;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+e+".")+(" Is cache hit: "+i+".")),i},t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=c.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(e.cacheMaxAgeMillis,r)?[2,i]:(e.eTag=i&&i.eTag,[4,this.client.fetch(e)]);case 2:return s=c.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return c.sent(),[2,s]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,W9=(Yn={},Yn["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Yn["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Yn["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Yn["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Yn["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Yn["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Yn["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Yn["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Yn["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Yn["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Yn["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Yn["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Yn["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Yn),qr=new As("remoteconfig","Remote Config",W9);function H9(t,e){return t instanceof Pc&&t.code.indexOf(e)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){return t===void 0&&(t=navigator),t.languages&&t.languages[0]||t.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y9=function(){function t(e,n,r,i,s,a){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n,r,i,s,a,c,l,h,d,v,m,y,b,E,T,A,x,M,U;return N(this,function(X){switch(X.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=X.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:G9()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(a,h),v=new Promise(function(j,Te){e.signal.addEventListener(function(){var nt=new Error("The operation was aborted.");nt.name="AbortError",Te(nt)})}),X.label=2;case 2:return X.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return X.sent(),[4,d];case 4:return m=X.sent(),[3,6];case 5:throw y=X.sent(),b="fetch-client-network",y.name==="AbortError"&&(b="fetch-timeout"),qr.create(b,{originalErrorMessage:y.message});case 6:if(E=m.status,T=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];M=void 0,X.label=7;case 7:return X.trys.push([7,9,,10]),[4,m.json()];case 8:return M=X.sent(),[3,10];case 9:throw U=X.sent(),qr.create("fetch-client-parse",{originalErrorMessage:U.message});case 10:A=M.entries,x=M.state,X.label=11;case 11:if(x==="INSTANCE_STATE_UNSPECIFIED"?E=500:x==="NO_CHANGE"?E=304:(x==="NO_TEMPLATE"||x==="EMPTY_CONFIG")&&(A={}),E!==304&&E!==200)throw qr.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:T,config:A}]}})})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $9=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(e){this.listeners.push(e)},t.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var z9=!1,K9="",OR=0,Q9=["1","true","t","yes","y","on"],Z_=function(){function t(e,n){n===void 0&&(n=K9),this._source=e,this._value=n}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return this._source==="static"?z9:Q9.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if(this._source==="static")return OR;var e=Number(this._value);return isNaN(e)&&(e=OR),e},t.prototype.getSource=function(){return this._source},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X9=60*1e3,J9=12*60*60*1e3,Z9=function(){function t(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:X9,minimumFetchIntervalMillis:J9},this.defaultConfig={}}return t.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=Me.DEBUG;break;case"silent":this._logger.logLevel=Me.SILENT;break;default:this._logger.logLevel=Me.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return R(this,void 0,void 0,function(){var e,n,r;return N(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=i.sent(),n=e[0],r=e[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){e._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return R(this,void 0,void 0,function(){var e,n,r,i=this;return N(this,function(s){switch(s.label){case 0:e=new $9,setTimeout(function(){return R(i,void 0,void 0,function(){return N(this,function(a){return e.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=H9(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return R(this,void 0,void 0,function(){return N(this,function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var e=this;return eZ(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=e.getValue(r),n},{})},t.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},t.prototype.getNumber=function(e){return this.getValue(e).asNumber()},t.prototype.getString=function(e){return this.getValue(e).asString()},t.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[e]!==void 0?new Z_("remote",n[e]):this.defaultConfig&&this.defaultConfig[e]!==void 0?new Z_("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Z_("static"))},t}();function eZ(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(ht(ht({},t),e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t,e){var n=t.target.error||void 0;return qr.create(e,{originalErrorMessage:n&&n.message})}var ia="app_namespace_store",tZ="firebase_remote_config",nZ=1;function rZ(){return new Promise(function(t,e){var n=indexedDB.open(tZ,nZ);n.onerror=function(r){e(pp(r,"storage-open"))},n.onsuccess=function(r){t(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ia,{keyPath:"compositeKey"})}}})}var iZ=function(){function t(e,n,r,i){i===void 0&&(i=rZ()),this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(e){return this.set("active_config",e)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([ia],"readonly"),l=c.objectStore(ia),h=r.createCompositeKey(e);try{var d=l.get(h);d.onerror=function(v){a(pp(v,"storage-get"))},d.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(qr.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.set=function(e,n){return R(this,void 0,void 0,function(){var r,i=this;return N(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,c){var l=r.transaction([ia],"readwrite"),h=l.objectStore(ia),d=i.createCompositeKey(e);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(m){c(pp(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){c(qr.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},t.prototype.delete=function(e){return R(this,void 0,void 0,function(){var n,r=this;return N(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var c=n.transaction([ia],"readwrite"),l=c.objectStore(ia),h=r.createCompositeKey(e);try{var d=l.delete(h);d.onerror=function(v){a(pp(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(qr.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},t.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oZ=function(){function t(e){this.storage=e}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return R(this,void 0,void 0,function(){var e,n,r,i,s,a;return N(this,function(c){switch(c.label){case 0:return e=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,e];case 1:return i=c.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=c.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=c.sent(),a&&(this.activeConfig=a),[2]}})})},t.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},t.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sZ(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(function(){clearTimeout(s),r(qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aZ(t){if(!(t instanceof Pc)||!t.customData)return!1;var e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var uZ=function(){function t(e,n){this.client=e,this.storage=n}return t.prototype.fetch=function(e){return R(this,void 0,void 0,function(){var n;return N(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,n)]}})})},t.prototype.attemptFetch=function(e,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return R(this,void 0,void 0,function(){var s,a,c;return N(this,function(l){switch(l.label){case 0:return[4,sZ(e.signal,r)];case 1:l.sent(),l.label=2;case 2:return l.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return s=l.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return l.sent(),[2,s];case 5:if(a=l.sent(),!aZ(a))throw a;return c={throttleEndTimeMillis:Date.now()+Nw(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(c)];case 6:return l.sent(),[2,this.attemptFetch(e,c)];case 7:return[2]}})})},t}(),kR="@firebase/remote-config",cZ="0.1.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lZ(t){t.INTERNAL.registerComponent(new vr("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(kR,cZ);function e(n,r){var i=n.getProvider("app").getImmediate(),s=n.getProvider("installations").getImmediate();if(typeof window>"u")throw qr.create("registration-window");var a=i.options,c=a.projectId,l=a.apiKey,h=a.appId;if(!c)throw qr.create("registration-project-id");if(!l)throw qr.create("registration-api-key");if(!h)throw qr.create("registration-app-id");r=r||"firebase";var d=new iZ(h,i.name,r),v=new oZ(d),m=new Dc(kR);m.logLevel=Me.ERROR;var y=new Y9(s,t.SDK_VERSION,r,c,l,h),b=new uZ(y,d),E=new q9(b,d,v,m),T=new Z9(i,E,v,d,m);return T.ensureInitialized(),T}}lZ(le);var fZ="firebase",hZ="8.2.7";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */le.registerVersion(fZ,hZ,"app");var dZ="firebase",pZ="8.2.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);le.registerVersion(dZ,pZ);const vZ={apiKey:"AIzaSyBsTEvv_k5WEyjnQy0Cdhr5ZNyZe2N00js",authDomain:"twitter-clone-inflearn-10fc8.firebaseapp.com",projectId:"twitter-clone-inflearn-10fc8",storageBucket:"twitter-clone-inflearn-10fc8.appspot.com",messagingSenderId:"325557618636",appId:"1:325557618636:web:fe74e1dad3ca4f98af3f69",measurementId:"G-NT1D3TVGPK"};le.initializeApp(vZ);const gT=le.auth(),Sg=le.firestore();le.storage();const mT=Sg.collection("users"),Qf=Sg.collection("tweets"),gZ=Sg.collection("comments"),m0=Sg.collection("retweets"),mZ={props:["tweet"],setup(t,{emit:e}){const n=kn(""),r=Rn(()=>Hi.state.user);return{tweetBody:n,moment:ie,currentUser:r,onCommentTweet:async()=>{try{const s=gZ.doc();await s.set({id:s.id,from_tweet_id:t.tweet.id,comment_tweet_body:n.value,uid:r.value.uid,created_at:Date.now()}),await Qf.doc(t.tweet.id).update({num_comments:le.firestore.FieldValue.increment(1)}),e("close-modal")}catch(s){console.log("on comment tweet error:"+s)}}}}},yZ={class:"flex justify-center min-h-screen sm:pt-6 sm:px-4 sm:pb-20 text-center sm:block sm:p-0"},_Z=P("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[P("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),wZ={class:"border-b border-gray-100 p-2 flex items-center justify-between"},bZ=P("div",{class:"text-right sm:hidden mr-2"},[P("button",{class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗"),P("button",{class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗")],-1),EZ={class:"flex px-4 pt-4 pb-3"},TZ={class:"flex flex-col"},IZ=["src"],SZ=P("div",{class:"ml-5 w-0.5 h-full bg-gray-300 mt-2 -mb-1"},null,-1),CZ={class:"ml-2 flex-1"},AZ={class:"flex space-x-2"},NZ={class:"font-bold text-sm"},RZ={class:"text-gray text-sm"},OZ={class:"text-gray text-sm"},kZ={class:"text-sm"},xZ={class:"text-primary text-sm"},PZ=P("span",{class:"text-gray text-sm"}," 님에게 보내는 답글",-1),DZ={class:"flex px-4 pb-4"},MZ=["src"],LZ={class:"ml-2 flex-1 flex flex-col"},FZ={class:"text-right hidden sm:block"},UZ={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function jZ(t,e,n,r,i,s){return Pe(),ze("div",{class:"fixed z-10 inset-0 overflow-y-auto",onClick:e[4]||(e[4]=a=>t.$emit("close-modal"))},[P("div",yZ,[_Z,P("div",{onClick:e[3]||(e[3]=OO(()=>{},["stop"])),class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},[P("div",wZ,[P("button",{onClick:e[0]||(e[0]=a=>t.$emit("close-modal")),class:"fas fa-times text-primary text-lg p-2 h-10 w-10 hover:bg-blue-50 rounded-full"}),bZ]),P("div",null,[P("div",EZ,[P("div",TZ,[P("img",{src:n.tweet.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,IZ),SZ]),P("div",CZ,[P("div",AZ,[P("span",NZ,Jt(n.tweet.email),1),P("span",RZ,"@"+Jt(n.tweet.username),1),P("span",OZ,Jt(r.moment(n.tweet.created_at).fromNow()),1)]),P("div",kZ,Jt(n.tweet.tweet_body),1),P("div",null,[P("span",xZ,"@"+Jt(n.tweet.username),1),PZ])])]),P("div",DZ,[P("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,MZ),P("div",LZ,[hs(P("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.tweetBody=a),rows:"5",placeholder:"내 답글을 트윗합니다",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none"},null,512),[[ds,r.tweetBody]]),P("div",FZ,[r.tweetBody.length?(Pe(),ze("button",{key:1,onClick:e[2]||(e[2]=(...a)=>r.onCommentTweet&&r.onCommentTweet(...a)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"답글")):(Pe(),ze("button",UZ,"답글"))])])])])])])])}const VZ=gr(mZ,[["render",jZ]]),BZ=async t=>{try{if(t.isRetweeted)await(await m0.where("from_tweet_id","==",t.id).where("uid","==",Hi.state.user.uid).get()).docs[0].ref.delete(),await Qf.doc(t.id).update({num_retweets:le.firestore.FieldValue.increment(-1)});else{const e=m0.doc();await e.set({id:e.id,from_tweet_id:t.id,uid:Hi.state.user.uid,created_at:Date.now()}),await Qf.doc(t.id).update({num_retweets:le.firestore.FieldValue.increment(1)})}}catch(e){console.log("handle retweet error",e)}},qZ={components:{commentModal:VZ},props:["currentUser","tweet"],setup(){const t=kn(!1);return{moment:ie,showCommentModal:t,handleRetweet:BZ}}},WZ={className:"flex px-3 py-3 border-b border-gray-100 hover:bg-gray-50 cursor-pointer"},HZ=["src"],GZ={className:"ml-3 flex-1 flex flex-col space-y-1"},YZ={className:"text-sm space-x-1"},$Z={className:"font-bold"},zZ={className:"text-gray-500 text-xs"},KZ=P("span",null,"•",-1),QZ={className:"text-gray-500 text-xs"},XZ={className:"flex justify-between"},JZ=P("i",{className:"far fa-comment hover:bg-blue-50 rounded-full p-2"},null,-1),ZZ={className:"ml-1 text-sm"},eee=P("i",{className:"fa fa-retweet hover:bg-green-50 rounded-full p-2"},null,-1),tee={className:"ml-1 text-sm"},nee=P("i",{className:"fa fa-retweet hover:bg-green-50 rounded-full p-2"},null,-1),ree={className:"ml-1 text-sm"},iee={className:"text-gray-400 hover:text-red-400"},oee=P("i",{className:"far fa-heart hover:bg-red-50 rounded-full p-2"},null,-1),see={className:"ml-1 text-sm"},aee=P("div",{className:"text-gray-500 hover:text-primary"},[P("i",{className:"far fa-share-square hover:bg-blue-50 rounded-full p-2"})],-1);function uee(t,e,n,r,i,s){const a=Or("comment-modal");return Pe(),ze(Yt,null,[P("div",WZ,[P("img",{src:n.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,HZ),P("div",GZ,[P("div",YZ,[P("span",$Z,Jt(n.tweet.email),1),P("span",zZ,"@"+Jt(n.tweet.username),1),KZ,P("span",QZ,Jt(r.moment(n.tweet.created_at).fromNow()),1)]),P("div",null,Jt(n.tweet.tweet_body),1),P("div",XZ,[P("div",{onClick:e[0]||(e[0]=c=>r.showCommentModal=!0),className:"text-gray-500 hover:text-primary"},[JZ,P("span",ZZ,Jt(n.tweet.num_comments),1)]),n.tweet.isRetweeted?(Pe(),ze("div",{key:1,className:"text-green-400",onClick:e[2]||(e[2]=c=>r.handleRetweet(n.tweet))},[nee,P("span",ree,Jt(n.tweet.num_retweets),1)])):(Pe(),ze("div",{key:0,className:"text-gray-500 hover:text-green-500",onClick:e[1]||(e[1]=c=>r.handleRetweet(n.tweet))},[eee,P("span",tee,Jt(n.tweet.num_retweets),1)])),P("div",iee,[oee,P("span",see,Jt(n.tweet.num_likes),1)]),aee])])]),r.showCommentModal?(Pe(),ws(a,{key:0,tweet:n.tweet,onCloseModal:e[3]||(e[3]=c=>r.showCommentModal=!1)},null,8,["tweet"])):tp("",!0)],64)}const GL=gr(qZ,[["render",uee]]),YL=(t,e)=>new Promise(async(n,r)=>{try{const i=Qf.doc();await i.set({id:i.id,tweet_body:t,uid:e.uid,created_at:Date.now(),num_comments:0,num_retweets:0,num_likes:0}),n(!0)}catch(i){r(i)}}),cee=async(t,e)=>{const n=await mT.doc(t.uid).get();return t.profile_image_url=n.data().profile_image_url,t.email=n.data().email,t.username=n.data().username,(await m0.where("from_tweet_id","==",t.id).where("uid","==",e.uid).get()).empty?t.isRetweeted=!1:t.isRetweeted=!0,t},lee={components:{Trends:V0,Tweet:GL},setup(){const t=kn(""),e=Rn(()=>Hi.state.user),n=kn([]);return _p(()=>{Qf.orderBy("created_at","desc").onSnapshot(i=>{i.docChanges().forEach(async s=>{let a=await cee(s.doc.data(),e.value);s.type==="added"?n.value.splice(s.newIndex,0,a):s.type==="modified"?n.value.splice(s.oldIndex,1,a):s.type==="removed"&&n.value.splice(s.oldIndex,1)})})}),{currentUser:e,tweetBody:t,tweets:n,onAddTweet:async()=>{try{await YL(t.value,e.value),t.value=""}catch(i){console.log("on add tweet error on homepage:",i)}},onBeforeMount:_p}}},fee={class:"flex-1 border-r border-gray-100 overflow-y-auto"},hee={class:"flex flex-col"},dee=P("div",{class:"border-b border-gray-100 px-3 py-2 font-bold text-lg"}," 홈 ",-1),pee={class:"flex px-3 py-3 border-b-8 border-gray-100"},vee=["src"],gee={class:"ml-2 flex-1 flex flex-col"},mee={class:"text-right"},yee={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function _ee(t,e,n,r,i,s){const a=Or("Tweet"),c=Or("Trends");return Pe(),ze(Yt,null,[P("div",fee,[P("div",hee,[dee,P("div",pee,[P("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,vee),P("div",gee,[hs(P("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.tweetBody=l),placeholder:"무슨 일이 일어나고 있나요?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none bg-gray-100"},null,512),[[ds,r.tweetBody]]),P("div",mee,[r.tweetBody.length?(Pe(),ze("button",{key:1,onClick:e[1]||(e[1]=(...l)=>r.onAddTweet&&r.onAddTweet(...l)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗")):(Pe(),ze("button",yee,"트윗"))])])]),(Pe(!0),ze(Yt,null,_s(r.tweets,l=>(Pe(),ws(a,{currentUser:r.currentUser,tweet:l,key:l.id},null,8,["currentUser","tweet"]))),128))])]),jt(c)],64)}const Wl=gr(lee,[["render",_ee]]),wee={components:{Trends:V0}},bee={class:"flex-1 border-r border-gray-100 flex flex-col overflow-y-auto"},Eee=P("div",{class:"p-3 font-bold text-lg border-b border-gray-100"},"알림",-1),Tee=Fa('<div class="flex justify-between"><img src="http://picsum.photos/100" class="w-10 h-10 rounded-full hover:opacity-80"><i class="fas fa-ellipsis-h text-gray-500 hover:bg-blue-50 hover:text-primary p-2 rounded-full w-10 h-10 flex items-center justify-center"></i></div><div><span class="font-bold">정재웅</span> 님의 최근 트윗</div><div class="text-gray-500"> wjelifwjeiflwejfiwejfil wefiwejfiweofjweiof wefjiewjf dcivcvf </div>',3),Iee=[Tee];function See(t,e,n,r,i,s){const a=Or("Trends");return Pe(),ze(Yt,null,[P("div",bee,[Eee,(Pe(),ze(Yt,null,_s(10,c=>P("div",{class:"flex flex-col hover:bg-gray-50 p-3 space-y-2 border-b border-gray-100 cursor-pointer",key:c},Iee)),64))]),jt(a)],64)}const Cee=gr(wee,[["render",See]]),Aee={},Nee={class:"flex-1 flex"},Ree={class:"w-2/5 border-r border-gray-100 overflow-y-scroll"},Oee={class:"flex flex-col"},kee=Fa('<div class="p-3 font-bold text-lg border-b border-gray-100 h-14">쪽지</div><div class="flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100 bg-gray-200"><img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9월 17일</div></div><div class="text-gray-500">메세지</div></div></div>',2),xee=Fa('<img src="http://picsum.photos/200" class="w-10 h-10 rounded-full cursor-pointer mr-2"><div><div class="flex space-x-1"><div class="font-bold">jjw.com</div><div class="text-gray-500">@jaewoong</div><div class="text-gray-500">9월 17일</div></div><div class="text-gray-500">메세지</div></div>',2),Pee=[xee],Dee={class:"w-3/5 border-r border-gray-100"},Mee={class:"flex flex-col h-screen"},Lee=Fa('<div class="flex px-3 h-14 items-center border-b border-gray-100"><img src="http://picsum.photos/100" class="w-8 h-8 rounded-full mr-2 cursor-pointer"><div><div class="font-bold text-lg">jjw.com</div><div class="text-sm text-gray-500">@jaewoong</div></div></div><div class="flex flex-col justify-center items-center border-b border-gray-100 hover:bg-gray-50 py-6"><div><span class="font-bold mr-1">jjw.com</span><span class="text-gray-500">@jaewoong</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray-500">팔로우 중</span><span class="font-bold ml-3 mr-1">7</span><span class="text-gray-500">팔로워</span></div><div><span class="text-gray-500 mr-1">가입일</span><span class="text-gray-500">2021년 3월</span></div></div>',2),Fee={class:"flex-1 overflow-y-scroll"},Uee=P("div",{class:"text-right px-3 py-3"},[P("span",{class:"bg-primary text-white px-4 py-2 rounded-full"},"메시지"),P("div",{class:"mt-2 text-xs text-gray-500"},"2023년 9월 17일 오후 7:16")],-1),jee=P("span",{class:"bg-gray-100 px-4 py-2 rounded-full"},"메시지",-1),Vee=P("div",{class:"mt-2 text-xs text-gray-500"},"2023년 9월 17일 오후 7:16",-1),Bee=[jee,Vee],qee=P("div",{class:"flex items-center bg-white border-t border-gray-100 sticky"},[P("input",{type:"text",class:"m-2 py-1 px-4 rounded-full bg-gray-100 resize-none outline-none flex-1",placeholder:"새 쪽지 작성하기",rows:"1"}),P("button",{class:"text-center"},[P("i",{class:"far fa-paper-plane text-primary text-lg hover:bg-blue-50 p-2 rounded-full w-10 h-10"})])],-1);function Wee(t,e,n,r,i,s){return Pe(),ze("div",Nee,[P("div",Ree,[P("div",Oee,[kee,(Pe(),ze(Yt,null,_s(5,a=>P("div",{class:"flex px-3 py-4 hover:bg-gray-50 border-b border-gray-100",key:a},Pee)),64))])]),P("div",Dee,[P("div",Mee,[Lee,P("div",Fee,[Uee,(Pe(),ze(Yt,null,_s(20,a=>P("div",{class:"text-left px-3 py-3",key:a},Bee)),64))]),qee])])])}const Hee=gr(Aee,[["render",Wee]]),Gee={components:{Trends:V0,Tweet:GL}},Yee={class:"flex-1 flex"},$ee={class:"flex-1 flex flex-col border-r border-color"},zee=Fa('<div class="px-3 py-1 flex border-b border-color"><button class="mr-4"><i class="fas fa-arrow-left text-primary p-3 rounded-full hover:bg-blue-50"></i></button><div><div class="font-extrabold text-lg">jjw.com</div><div class="text-xs text-gray">393 트윗</div></div></div><div class="bg-gray-300 h-40 relative flex-none"><div class="border-4 border-white bg-gray-100 w-28 h-28 rounded-full absolute -bottom-14 left-2"><img src="http://picsum.photos/200" class="rounded-full hover:opacity-90 hover:opacity-100 cursor-pointer"></div></div><div class="text-right mt-2 mr-2"><button class="border text-sm border-primary text-primary px-3 py-2 hover:bg-blue-50 font-bold rounded-full">프로필 수정</button></div><div class="mx-3 mt-2"><div class="font-extrabold text-lg">jjw.com</div><div class="text-gray">@jaewoong</div><div><span class="text-gray">가입일:</span><span class="text-gray">2011년 10월</span></div><div><span class="font-bold mr-1">28</span><span class="text-gray mr-3">팔로우 중</span><span class="font-bold mr-1">7</span><span class="text-gray">팔로워</span></div></div><div class="flex border-b border-color mt-3"><div class="py-3 text-primary font-bold border-b border-primary text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div><div class="py-3 text-gray font-bold text-center w-1/4 hover:bg-blue-50 cursor-pointer hover:text-primary"> 트윗 </div></div>',5),Kee={class:"overflow-y-auto"};function Qee(t,e,n,r,i,s){const a=Or("Tweet"),c=Or("Trends");return Pe(),ze("div",Yee,[P("div",$ee,[zee,P("div",Kee,[(Pe(),ze(Yt,null,_s(10,l=>jt(a,{key:l})),64))])]),jt(c)])}const Xee=gr(Gee,[["render",Qee]]),Jee={setup(){const t=kn(""),e=kn(""),n=kn(""),r=kn(!1),i=qO();return{username:t,email:e,password:n,loading:r,onRegister:async()=>{if(!t.value||!e.value||!n.value){alert("유저네임, 이메일, 비밀번호를 모두 입력해주세요.");return}try{r.value=!0;const{user:a}=await gT.createUserWithEmailAndPassword(e.value,n.value);await mT.doc(a.uid).set({uid:a.uid,username:t.value,email:e.value,profile_image_url:"/profile.jpeg",num_tweets:0,followers:[],followings:[],created_at:Date.now()}),alert("회원 가입에 성공하셨습니다. 로그인 해 주세요."),i.push("/login")}catch(a){switch(a.code){case"auth/invalid-email":alert("이메일을 바르게 입력해주세요.");break;case"auth/weak-password":alert("비밀번호가 너무 쉬워요");break;case"auth/email-already-in-use":alert("이미 가입되어 있는 이메일 입니다.");break;default:alert("회원가입 실패");break}}finally{r.value=!1}}}}},Zee={class:"flex flex-col items-center space-y-4 mt-10"},ete=P("span",{class:"text-2xl font-bold"},"트위떠 회원가입",-1),tte={key:0,class:"w-96 rounded bg-light text-white py-3"},nte=P("button",{class:"text-primary"},"계정이 이미 있으신가요? 로그인 하기",-1);function rte(t,e,n,r,i,s){const a=Or("router-link");return Pe(),ze("div",Zee,[P("i",{class:Sa(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),ete,hs(P("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.username=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"아이디"},null,512),[[ds,r.username]]),hs(P("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"이메일"},null,512),[[ds,r.email]]),hs(P("input",{onClick:e[2]||(e[2]=(...c)=>r.onRegister&&r.onRegister(...c)),"onUpdate:modelValue":e[3]||(e[3]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"비밀번호"},null,512),[[ds,r.password]]),r.loading?(Pe(),ze("button",tte,"회원가입 중입니다.")):(Pe(),ze("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:e[4]||(e[4]=(...c)=>r.onRegister&&r.onRegister(...c))},"회원가입")),jt(a,{to:"/login"},{default:bv(()=>[nte]),_:1})])}const ite=gr(Jee,[["render",rte]]),ote={setup(){const t=kn(""),e=kn(""),n=kn(!1),r=qO();return{email:t,password:e,loading:n,onLogin:async()=>{if(!t.value||!e.value){alert("이메일, 비밀번호를 모두 입력해주세요.");return}try{n.value=!0;const{user:s}=await gT.signInWithEmailAndPassword(t.value,e.value),a=await mT.doc(s.uid).get();Hi.commit("SET_USER",a.data()),r.replace("/")}catch(s){switch(s.code){case"auth/invalid-email":alert("잘못된 이메일 형식입니다.");break;case"auth/invalid-password":alert("비밀번호가 틀립니다.");break;case"auth/user-not-found":alert("등록되지 않은 이메일입니다.");break;default:alert(s.message);break}}finally{n.value=!1}}}}},ste={class:"flex flex-col items-center space-y-4 mt-10"},ate=P("span",{class:"text-2xl font-bold"},"트위떠 로그인",-1),ute={key:0,class:"w-96 rounded bg-light text-white py-3"},cte=P("button",{class:"text-primary"},"계정이 없으신가요? 회원가입 하기",-1);function lte(t,e,n,r,i,s){const a=Or("router-link");return Pe(),ze("div",ste,[P("i",{class:Sa(`fab fa-twitter text-4xl text-primary ${r.loading?"animate-bounce":""}`)},null,2),ate,hs(P("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.email=c),type:"text",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"이메일"},null,512),[[ds,r.email]]),hs(P("input",{onKeyup:e[1]||(e[1]=r3((...c)=>r.onLogin&&r.onLogin(...c),["enter"])),"onUpdate:modelValue":e[2]||(e[2]=c=>r.password=c),type:"password",class:"rounded w-96 px-4 py-3 border border-gray-300 focus:ring-2 focus:border-primary focus:outline-none",placeholder:"비밀번호"},null,544),[[ds,r.password]]),r.loading?(Pe(),ze("button",ute,"로그인 중입니다.")):(Pe(),ze("button",{key:1,class:"w-96 rounded bg-primary text-white py-3 hover:bg-dark",onClick:e[3]||(e[3]=(...c)=>r.onLogin&&r.onLogin(...c))},"로그인")),jt(a,{to:"/register"},{default:bv(()=>[cte]),_:1})])}const fte=gr(ote,[["render",lte]]),hte=[{path:"/",name:"home",component:Wl,title:"홈",icon:"fas fa-home fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"explore",component:Wl,title:"탐색하기",icon:"fas fa-hashtag fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/notifications",name:"notifications",component:Cee,title:"알림",icon:"far fa-bell fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/Messages",name:"messages",component:Hee,title:"쪽지",icon:"far fa-envelope fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"bookmarks",component:Wl,title:"북마크",icon:"far fa-bookmark fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/",name:"list",component:Wl,title:"리스트",icon:"far fa-list-alt fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout",requireAuth:!0}},{path:"/Profile",name:"profile",component:Xee,title:"프로필",icon:"far fa-user fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/",name:"more",component:Wl,title:"더보기",icon:"fas fa-ellipsis-h fa-fw text-2xl",meta:{isMenu:!0,layout:"DefaultLayout"}},{path:"/register",name:"register",component:ite,meta:{isMenu:!1,layout:"EmptyLayout"}},{path:"/login",name:"login",component:fte,meta:{isMenu:!1,layout:"EmptyLayout"}}],ff=mB({history:P3(),routes:hte});ff.beforeEach((t,e,n)=>{const r=Hi.state.user;t.matched.some(s=>s.meta.requireAuth)&&!r?n("/login"):n()});const dte={setup(t,{emit:e}){const n=kn(""),r=Rn(()=>Hi.state.user);return{tweetBody:n,onAddTweet:async()=>{try{await YL(n.value,r.value),n.value="",e("close-modal")}catch(s){console.log("on add tweet error on homepage:",s)}},currentUser:r}}},pte={class:"flex justify-center min-h-screen sm:pt-6 sm:px-4 sm:pb-20 text-center sm:block sm:p-0"},vte=P("div",{class:"fixed inset-0 transition-opacity","aria-hidden":"true"},[P("div",{class:"absolute inset-0 bg-gray-500 opacity-75"})],-1),gte={class:"border-b border-gray-100 p-2 flex items-center justify-between"},mte=P("div",{class:"text-right sm:hidden mr-2"},[P("button",{class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗"),P("button",{class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗")],-1),yte={class:"flex p-4"},_te=["src"],wte={class:"ml-2 flex-1 flex flex-col"},bte={class:"text-right hidden sm:block"},Ete={key:0,class:"bg-light text-sm font-bold text-white px-4 py-1 rounded-full"};function Tte(t,e,n,r,i,s){return Pe(),ze("div",{class:"fixed z-10 inset-0 overflow-y-auto",onClick:e[4]||(e[4]=a=>t.$emit("close-modal"))},[P("div",pte,[vte,P("div",{onClick:e[3]||(e[3]=OO(()=>{},["stop"])),class:"inline-block bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",role:"dialog","aria-modal":"true","aria-labelledby":"modal-headline"},[P("div",gte,[P("button",{onClick:e[0]||(e[0]=a=>t.$emit("close-modal")),class:"fas fa-times text-primary text-lg p-2 h-10 w-10 hover:bg-blue-50 rounded-full"}),mte]),P("div",yte,[P("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full hover:opacity-80 cursor-pointer"},null,8,_te),P("div",wte,[hs(P("textarea",{"onUpdate:modelValue":e[1]||(e[1]=a=>r.tweetBody=a),rows:"5",placeholder:"무슨 일이 일어나고 있나요?",class:"w-full text-lg font-bold focus:outline-none mb-3 resize-none"},null,512),[[ds,r.tweetBody]]),P("div",bte,[r.tweetBody.length?(Pe(),ze("button",{key:1,onClick:e[2]||(e[2]=(...a)=>r.onAddTweet&&r.onAddTweet(...a)),class:"bg-primary hover:bg-dark text-sm font-bold text-white px-4 py-1 rounded-full"},"트윗")):(Pe(),ze("button",Ete,"트윗"))])])])])])])}const Ite=gr(dte,[["render",Tte]]),Ste={components:{TweetModal:Ite},setup(){const t=kn([]),e=kn(!1),n=kn(!1),r=Rn(()=>Hi.state.user),i=async()=>{await gT.signOut(),Hi.commit("SET_USER",null),await ff.replace("/login")};return _p(()=>{t.value=ff.options.routes.filter(s=>s.meta.isMenu==!0)}),{routes:t,showProfileDropdown:e,onLogout:i,currentUser:r,router:ff,showTweetModal:n}}},Cte={class:"flex h-screen container mx-auto"},Ate={class:"w-20 xl:w-1/4 pt-5 xl:ml-10 flex flex-col justify-between border-r border-gray-100"},Nte={class:"flex flex-col items-center xl:items-start"},Rte=P("i",{class:"fab fa-twitter text-3xl text-primary xl:ml-4 mb-3"},null,-1),Ote={class:"flex flex-col items-start space-y-1"},kte={key:0},xte={class:"ml-5 text-xl hidden xl:inline-block"},Pte={class:"w-full xl:pr-3 flex justify-center"},Dte=P("span",{class:"hidden xl:block"},"트윗",-1),Mte=P("i",{class:"fas fa-plus xl:hidden"},null,-1),Lte=[Dte,Mte],Fte={class:"hidden xl:flex mt-3 px-2 py-1 w-full h-12 rounded-full hover:bg-blue-50 items-center"},Ute=["src"],jte={class:"xl:ml-2 hidden xl:block"},Vte={class:"text-sm font-bold"},Bte={class:"text-xs text-gray-500 text-left"},qte=P("i",{class:"ml-auto fas fa-ellipsis-h fa-fw text-xs hidden xl:block"},null,-1),Wte={class:"xl:hidden flex justify-center"},Hte=["src"],Gte={class:"flex-1 flex h-screen"},Yte={class:"hover:bg-gray-50 border-b border-gray-100 flex p-3 w-full items-center"},$te=["src"],zte={class:"ml-2"},Kte={class:"font-bold text-sm"},Qte={class:"text-left text-gray-500 text-sm"},Xte=P("i",{class:"fas fa-check text-primary ml-auto"},null,-1);function Jte(t,e,n,r,i,s){const a=Or("router-link"),c=Or("router-view"),l=Or("tweet-modal");return Pe(),ze("div",Cte,[P("div",Ate,[P("div",Nte,[Rte,P("div",Ote,[(Pe(!0),ze(Yt,null,_s(r.routes,h=>(Pe(),ws(a,{to:h.path,class:Sa(`hover:text-primary hover:bg-blue-50 p-2 xl:px-4 xl:py-2 rounded-full cursor-pointer ${r.router.currentRoute.value.name==h.name?"text-primary":""}`),key:h},{default:bv(()=>[h.meta.isMenu?(Pe(),ze("div",kte,[P("i",{class:Sa(h.icon)},null,2),P("span",xte,Jt(h.title),1)])):tp("",!0)]),_:2},1032,["to","class"]))),128))]),P("div",Pte,[P("button",{onClick:e[0]||(e[0]=h=>r.showTweetModal=!0),class:"mt-3 bg-primary text-white xl:w-full w-12 h-12 rounded-full hover:bg-dark"},Lte)])]),P("div",{class:"xl:mr-3 mb-3 relative",onClick:e[1]||(e[1]=h=>r.showProfileDropdown=!0)},[P("button",Fte,[P("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,Ute),P("div",jte,[P("div",Vte,Jt(r.currentUser.email),1),P("div",Bte,"@"+Jt(r.currentUser.username),1)]),qte]),P("div",Wte,[P("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full cursor-pointer hover:opacity-80"},null,8,Hte)])])]),P("div",Gte,[jt(c)]),r.showProfileDropdown?(Pe(),ze("div",{key:0,class:"absolute bottom-20 left-14 shadow rounded-lg w-60 bg-white",onClick:e[3]||(e[3]=h=>r.showProfileDropdown=!1)},[P("button",Yte,[P("img",{src:r.currentUser.profile_image_url,class:"w-10 h-10 rounded-full"},null,8,$te),P("div",zte,[P("div",Kte,Jt(r.currentUser.email),1),P("div",Qte,"@"+Jt(r.currentUser.username),1)]),Xte]),P("button",{class:"p-3 hover:bg-gray-50 w-full text-left text-sm",onClick:e[2]||(e[2]=(...h)=>r.onLogout&&r.onLogout(...h))}," @"+Jt(r.currentUser.username)+" 계정에서 로그아웃 ",1)])):tp("",!0),r.showTweetModal?(Pe(),ws(l,{key:1,onCloseModal:e[4]||(e[4]=h=>r.showTweetModal=!1)})):tp("",!0)])}const Zte=gr(Ste,[["render",Jte]]),ene={};function tne(t,e,n,r,i,s){const a=Or("router-view");return Pe(),ws(a)}const nne=gr(ene,[["render",tne]]),rne={components:{DefaultLayout:Zte,EmptyLayout:nne},setup(){const t=_B();return{layout:Rn(()=>t.meta.layout||"DefaultLayout")}}};function ine(t,e,n,r,i,s){return Pe(),ws(nV(r.layout))}const one=gr(rne,[["render",ine]]),sne={components:{Layout:one}};function ane(t,e,n,r,i,s){const a=Or("Layout");return Pe(),ws(a)}const une=gr(sne,[["render",ane]]);s3(une).use(ff).use(Hi).mount("#app")});export default cne();
